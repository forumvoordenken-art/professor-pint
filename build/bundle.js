/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ 8042:
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {


// EXTERNAL MODULE: ./node_modules/remotion/dist/esm/index.mjs
var esm = __webpack_require__(3947);
// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(4848);
;// ./src/systems/Camera.tsx



const Camera = ({
  children,
  x = 0,
  y = 0,
  zoom = 1,
  startFrame = 0,
  transitionDuration = 30,
  previousX = 0,
  previousY = 0,
  previousZoom = 1,
  width = 1920,
  height = 1080
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const progress = (0,esm.interpolate)(
    frame,
    [startFrame, startFrame + transitionDuration],
    [0, 1],
    {
      extrapolateLeft: "clamp",
      extrapolateRight: "clamp",
      easing: esm.Easing.out(esm.Easing.cubic)
    }
  );
  const currentX = (0,esm.interpolate)(progress, [0, 1], [previousX, x]);
  const currentY = (0,esm.interpolate)(progress, [0, 1], [previousY, y]);
  const currentZoom = (0,esm.interpolate)(progress, [0, 1], [previousZoom, zoom]);
  const centerX = width / 2;
  const centerY = height / 2;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "div",
    {
      style: {
        width,
        height,
        overflow: "hidden",
        position: "relative"
      },
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "div",
        {
          style: {
            transform: `translate(${centerX}px, ${centerY}px) scale(${currentZoom}) translate(${-centerX - currentX}px, ${-centerY - currentY}px)`,
            transformOrigin: "0 0",
            width,
            height,
            position: "absolute"
          },
          children
        }
      )
    }
  );
};
/* harmony default export */ const systems_Camera = ((/* unused pure expression or super */ null && (Camera)));

;// ./src/systems/CameraPath.tsx



const CAMERA_PRESETS = {
  static: () => ({
    keyframes: [{ frame: 0, x: 0, y: 0, zoom: 1 }]
  }),
  slowZoomIn: (dur) => ({
    keyframes: [
      { frame: 0, x: 0, y: 0, zoom: 1 },
      { frame: dur, x: 0, y: -30, zoom: 1.3 }
    ]
  }),
  slowZoomOut: (dur) => ({
    keyframes: [
      { frame: 0, x: 0, y: -20, zoom: 1.3 },
      { frame: dur, x: 0, y: 0, zoom: 1 }
    ]
  }),
  panLeftToRight: (dur) => ({
    keyframes: [
      { frame: 0, x: -200, y: 0, zoom: 1.15 },
      { frame: dur, x: 200, y: 0, zoom: 1.15 }
    ]
  }),
  panRightToLeft: (dur) => ({
    keyframes: [
      { frame: 0, x: 200, y: 0, zoom: 1.15 },
      { frame: dur, x: -200, y: 0, zoom: 1.15 }
    ]
  }),
  tiltDown: (dur) => ({
    keyframes: [
      { frame: 0, x: 0, y: -120, zoom: 1.2 },
      { frame: dur, x: 0, y: 60, zoom: 1.2 }
    ]
  }),
  tiltUp: (dur) => ({
    keyframes: [
      { frame: 0, x: 0, y: 60, zoom: 1.2 },
      { frame: dur, x: 0, y: -120, zoom: 1.2 }
    ]
  }),
  establishingShot: (dur) => ({
    keyframes: [
      { frame: 0, x: 0, y: 0, zoom: 1 },
      { frame: Math.floor(dur * 0.3), x: 0, y: 0, zoom: 1 },
      { frame: dur, x: 50, y: -20, zoom: 1.4 }
    ]
  }),
  dramaticZoom: (dur) => ({
    keyframes: [
      { frame: 0, x: 0, y: 0, zoom: 1.1 },
      { frame: Math.floor(dur * 0.6), x: 0, y: 0, zoom: 1.1 },
      { frame: Math.floor(dur * 0.8), x: 0, y: -30, zoom: 1.6 },
      { frame: dur, x: 0, y: -30, zoom: 1.6 }
    ]
  }),
  followCharacter: (dur) => ({
    keyframes: [
      { frame: 0, x: 0, y: 0, zoom: 1.2 },
      { frame: dur, x: 0, y: 0, zoom: 1.2 }
    ],
    trackCharacter: "professorPint",
    trackOffsetX: 0,
    trackOffsetY: -40
  }),
  sweepingPan: (dur) => ({
    keyframes: [
      { frame: 0, x: -300, y: -50, zoom: 1.1 },
      { frame: Math.floor(dur * 0.5), x: 0, y: 0, zoom: 1.15 },
      { frame: dur, x: 300, y: -50, zoom: 1.1 }
    ]
  }),
  revealDown: (dur) => ({
    keyframes: [
      { frame: 0, x: 0, y: -200, zoom: 1.3 },
      { frame: Math.floor(dur * 0.7), x: 0, y: 0, zoom: 1.15 },
      { frame: dur, x: 0, y: 0, zoom: 1.15 }
    ]
  })
};
const interpolateKeyframes = (keyframes, frameInScene) => {
  if (keyframes.length === 0) {
    return { x: 0, y: 0, zoom: 1 };
  }
  if (keyframes.length === 1) {
    return { x: keyframes[0].x, y: keyframes[0].y, zoom: keyframes[0].zoom };
  }
  let kfBefore = keyframes[0];
  let kfAfter = keyframes[keyframes.length - 1];
  for (let i = 0; i < keyframes.length - 1; i++) {
    if (frameInScene >= keyframes[i].frame && frameInScene <= keyframes[i + 1].frame) {
      kfBefore = keyframes[i];
      kfAfter = keyframes[i + 1];
      break;
    }
  }
  if (frameInScene <= kfBefore.frame) {
    return { x: kfBefore.x, y: kfBefore.y, zoom: kfBefore.zoom };
  }
  if (frameInScene >= kfAfter.frame) {
    return { x: kfAfter.x, y: kfAfter.y, zoom: kfAfter.zoom };
  }
  const range = kfAfter.frame - kfBefore.frame;
  const progress = (frameInScene - kfBefore.frame) / range;
  const eased = esm.Easing.out(esm.Easing.cubic)(progress);
  return {
    x: kfBefore.x + (kfAfter.x - kfBefore.x) * eased,
    y: kfBefore.y + (kfAfter.y - kfBefore.y) * eased,
    zoom: kfBefore.zoom + (kfAfter.zoom - kfBefore.zoom) * eased
  };
};
const CameraPath = ({
  children,
  path,
  x = 0,
  y = 0,
  zoom = 1,
  sceneStart,
  sceneEnd,
  previousX = 0,
  previousY = 0,
  previousZoom = 1,
  characterPositions = [],
  width = 1920,
  height = 1080
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const frameInScene = frame - sceneStart;
  const entryDuration = 28;
  const entryProgress = (0,esm.interpolate)(
    frameInScene,
    [0, entryDuration],
    [0, 1],
    { extrapolateLeft: "clamp", extrapolateRight: "clamp", easing: esm.Easing.out(esm.Easing.cubic) }
  );
  let targetX;
  let targetY;
  let targetZoom;
  if (path && path.keyframes.length > 0) {
    const kfResult = interpolateKeyframes(path.keyframes, frameInScene);
    targetX = kfResult.x;
    targetY = kfResult.y;
    targetZoom = kfResult.zoom;
    if (path.trackCharacter && characterPositions.length > 0) {
      const tracked = characterPositions.find((c) => c.id === path.trackCharacter);
      if (tracked) {
        const centerX2 = width / 2;
        const centerY2 = height / 2;
        const offsetX = (tracked.x - centerX2) * 0.3;
        const offsetY = (tracked.y - centerY2) * 0.3;
        targetX += offsetX + (path.trackOffsetX ?? 0);
        targetY += offsetY + (path.trackOffsetY ?? 0);
      }
    }
  } else {
    targetX = x;
    targetY = y;
    targetZoom = zoom;
  }
  const currentX = previousX + (targetX - previousX) * entryProgress;
  const currentY = previousY + (targetY - previousY) * entryProgress;
  const currentZoom = previousZoom + (targetZoom - previousZoom) * entryProgress;
  const centerX = width / 2;
  const centerY = height / 2;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "div",
    {
      style: {
        width,
        height,
        overflow: "hidden",
        position: "relative"
      },
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "div",
        {
          style: {
            transform: `translate(${centerX}px, ${centerY}px) scale(${currentZoom}) translate(${-centerX - currentX}px, ${-centerY - currentY}px)`,
            transformOrigin: "0 0",
            width,
            height,
            position: "absolute"
          },
          children
        }
      )
    }
  );
};
const suggestCameraPreset = (beatType, sceneIndex) => {
  switch (beatType) {
    case "intro":
      return "establishingShot";
    case "hook":
      return sceneIndex % 2 === 0 ? "slowZoomIn" : "panLeftToRight";
    case "explain":
      return sceneIndex % 3 === 0 ? "tiltDown" : sceneIndex % 3 === 1 ? "slowZoomIn" : "panRightToLeft";
    case "example":
      return sceneIndex % 2 === 0 ? "sweepingPan" : "panLeftToRight";
    case "revelation":
      return "dramaticZoom";
    case "recap":
      return "slowZoomOut";
    case "outro":
      return "slowZoomOut";
    default:
      return "slowZoomIn";
  }
};
/* harmony default export */ const systems_CameraPath = ((/* unused pure expression or super */ null && (CameraPath)));

;// ./src/systems/Subtitles.tsx



const Subtitles = ({ text, startFrame, endFrame }) => {
  const frame = (0,esm.useCurrentFrame)();
  if (frame < startFrame || frame > endFrame || !text) return null;
  const localFrame = frame - startFrame;
  const duration = endFrame - startFrame;
  const opacity = (0,esm.interpolate)(
    localFrame,
    [0, 8, duration - 8, duration],
    [0, 1, 1, 0],
    { extrapolateLeft: "clamp", extrapolateRight: "clamp" }
  );
  const translateY = (0,esm.interpolate)(
    localFrame,
    [0, 8],
    [10, 0],
    {
      extrapolateLeft: "clamp",
      extrapolateRight: "clamp",
      easing: esm.Easing.out(esm.Easing.cubic)
    }
  );
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "div",
    {
      style: {
        position: "absolute",
        bottom: 80,
        left: 0,
        right: 0,
        display: "flex",
        justifyContent: "center",
        opacity,
        transform: `translateY(${translateY}px)`
      },
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "div",
        {
          style: {
            backgroundColor: "rgba(0, 0, 0, 0.75)",
            color: "#FFFFFF",
            fontSize: 36,
            fontFamily: "'Segoe UI', 'Helvetica Neue', Arial, sans-serif",
            fontWeight: 600,
            padding: "12px 32px",
            borderRadius: 8,
            maxWidth: "80%",
            textAlign: "center",
            lineHeight: 1.4,
            letterSpacing: 0.5
          },
          children: text
        }
      )
    }
  );
};
/* harmony default export */ const systems_Subtitles = ((/* unused pure expression or super */ null && (Subtitles)));

;// ./src/systems/Transitions.tsx



const Transition = ({ type, progress, children }) => {
  if (type === "none" || progress >= 1) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(esm.AbsoluteFill, { children });
  }
  if (progress <= 0) {
    return null;
  }
  switch (type) {
    case "crossfade":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(CrossfadeTransition, { progress, children });
    case "wipe":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(WipeTransition, { progress, children });
    case "zoomIn":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(ZoomInTransition, { progress, children });
    case "slide":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(SlideTransition, { progress, children });
    case "iris":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(IrisTransition, { progress, children });
    default:
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(esm.AbsoluteFill, { children });
  }
};
const CrossfadeTransition = ({
  progress,
  children
}) => {
  const opacity = (0,esm.interpolate)(progress, [0, 1], [0, 1], {
    easing: esm.Easing.out(esm.Easing.cubic)
  });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(esm.AbsoluteFill, { style: { opacity }, children });
};
const WipeTransition = ({
  progress,
  children
}) => {
  const clipPercent = (0,esm.interpolate)(progress, [0, 1], [0, 100], {
    easing: esm.Easing.out(esm.Easing.cubic)
  });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    esm.AbsoluteFill,
    {
      style: {
        clipPath: `inset(0 ${100 - clipPercent}% 0 0)`
      },
      children
    }
  );
};
const ZoomInTransition = ({
  progress,
  children
}) => {
  const scale = (0,esm.interpolate)(progress, [0, 1], [0.6, 1], {
    easing: esm.Easing.out(esm.Easing.cubic)
  });
  const opacity = (0,esm.interpolate)(progress, [0, 0.3], [0, 1], {
    extrapolateRight: "clamp"
  });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    esm.AbsoluteFill,
    {
      style: {
        transform: `scale(${scale})`,
        transformOrigin: "center center",
        opacity
      },
      children
    }
  );
};
const SlideTransition = ({
  progress,
  children
}) => {
  const translateX = (0,esm.interpolate)(progress, [0, 1], [100, 0], {
    easing: esm.Easing.out(esm.Easing.cubic)
  });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    esm.AbsoluteFill,
    {
      style: {
        transform: `translateX(${translateX}%)`
      },
      children
    }
  );
};
const IrisTransition = ({
  progress,
  children
}) => {
  const radius = (0,esm.interpolate)(progress, [0, 1], [0, 142], {
    easing: esm.Easing.out(esm.Easing.cubic)
  });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    esm.AbsoluteFill,
    {
      style: {
        clipPath: `circle(${radius}% at 50% 50%)`
      },
      children
    }
  );
};
const getTransitionProgress = (frame, transitionStartFrame, transitionDuration) => {
  return (0,esm.interpolate)(
    frame,
    [transitionStartFrame, transitionStartFrame + transitionDuration],
    [0, 1],
    { extrapolateLeft: "clamp", extrapolateRight: "clamp" }
  );
};

;// ./src/systems/AudioSync.tsx




const AudioPlayer = ({ segments, volume = 1 }) => {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: segments.map((segment, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    esm.Audio,
    {
      src: (0,esm.staticFile)(segment.audioFile),
      startFrom: 0,
      endAt: Infinity,
      volume
    },
    `audio-${segment.characterId}-${i}`
  )) });
};
const useLipSync = (segments, characterId, fps = 30) => {
  const frame = useCurrentFrame();
  const activeSegment = segments.find((seg) => {
    if (seg.characterId !== characterId) return false;
    if (seg.phonemes.length === 0) return false;
    const lastPhonemeTime = seg.phonemes[seg.phonemes.length - 1].time;
    const segEndFrame = seg.startFrame + Math.ceil(lastPhonemeTime * fps) + fps;
    return frame >= seg.startFrame && frame <= segEndFrame;
  });
  if (!activeSegment) {
    return { mouthShape: 0, isTalking: false };
  }
  const relativeFrame = frame - activeSegment.startFrame;
  const mouthShape = getMouthShapeFromPhonemes(relativeFrame, fps, activeSegment.phonemes);
  return { mouthShape, isTalking: mouthShape > 0 };
};
const isTalkingAtFrame = (segments, characterId, frame, fps = 30) => {
  return segments.some((seg) => {
    if (seg.characterId !== characterId) return false;
    if (seg.phonemes.length === 0) return false;
    const lastPhonemeTime = seg.phonemes[seg.phonemes.length - 1].time;
    const segEndFrame = seg.startFrame + Math.ceil(lastPhonemeTime * fps);
    return frame >= seg.startFrame && frame <= segEndFrame;
  });
};

;// ./src/systems/Overlays.tsx



const StatCard = ({
  value,
  label,
  startFrame,
  endFrame,
  position = "right",
  color = "#D4A012"
}) => {
  const frame = (0,esm.useCurrentFrame)();
  if (frame < startFrame || frame > endFrame) return null;
  const localFrame = frame - startFrame;
  const duration = endFrame - startFrame;
  const fadeIn = 12;
  const fadeOut = 10;
  const opacity = (0,esm.interpolate)(
    localFrame,
    [0, fadeIn, duration - fadeOut, duration],
    [0, 1, 1, 0],
    { extrapolateLeft: "clamp", extrapolateRight: "clamp" }
  );
  const scale = (0,esm.interpolate)(
    localFrame,
    [0, fadeIn],
    [0.8, 1],
    { extrapolateLeft: "clamp", extrapolateRight: "clamp", easing: esm.Easing.out(esm.Easing.back(1.5)) }
  );
  const slideX = (0,esm.interpolate)(
    localFrame,
    [0, fadeIn],
    [position === "left" ? -60 : position === "right" ? 60 : 0, 0],
    { extrapolateLeft: "clamp", extrapolateRight: "clamp", easing: esm.Easing.out(esm.Easing.cubic) }
  );
  const posStyle = position === "left" ? { left: 80, top: 160 } : position === "right" ? { right: 80, top: 160 } : { left: "50%", top: 160, transform: `translateX(-50%) scale(${scale}) translateX(${slideX}px)` };
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    "div",
    {
      style: {
        position: "absolute",
        ...posStyle,
        opacity,
        transform: posStyle.transform ?? `scale(${scale}) translateX(${slideX}px)`,
        backgroundColor: "rgba(0, 0, 0, 0.8)",
        borderLeft: `4px solid ${color}`,
        borderRadius: 8,
        padding: "20px 32px",
        minWidth: 200
      },
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("div", { style: { color, fontSize: 64, fontWeight: 800, fontFamily: "'Segoe UI', sans-serif", lineHeight: 1 }, children: value }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("div", { style: { color: "rgba(255,255,255,0.7)", fontSize: 22, fontWeight: 500, marginTop: 8, fontFamily: "'Segoe UI', sans-serif" }, children: label })
      ]
    }
  );
};
const BarChart = ({
  bars,
  title,
  startFrame,
  endFrame,
  position = "left"
}) => {
  const frame = (0,esm.useCurrentFrame)();
  if (frame < startFrame || frame > endFrame) return null;
  const localFrame = frame - startFrame;
  const duration = endFrame - startFrame;
  const maxValue = Math.max(...bars.map((b) => b.value));
  const fadeIn = 15;
  const fadeOut = 10;
  const opacity = (0,esm.interpolate)(
    localFrame,
    [0, fadeIn, duration - fadeOut, duration],
    [0, 1, 1, 0],
    { extrapolateLeft: "clamp", extrapolateRight: "clamp" }
  );
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    "div",
    {
      style: {
        position: "absolute",
        [position]: 60,
        top: 140,
        opacity,
        backgroundColor: "rgba(0, 0, 0, 0.8)",
        borderRadius: 10,
        padding: "24px 28px",
        minWidth: 300
      },
      children: [
        title && /* @__PURE__ */ (0,jsx_runtime.jsx)("div", { style: { color: "white", fontSize: 22, fontWeight: 700, marginBottom: 16, fontFamily: "'Segoe UI', sans-serif" }, children: title }),
        bars.map((bar, i) => {
          const barDelay = fadeIn + i * 5;
          const barProgress = (0,esm.interpolate)(
            localFrame,
            [barDelay, barDelay + 15],
            [0, 1],
            { extrapolateLeft: "clamp", extrapolateRight: "clamp", easing: esm.Easing.out(esm.Easing.cubic) }
          );
          const barWidth = bar.value / maxValue * 220 * barProgress;
          const barColor = bar.color ?? `hsl(${40 + i * 30}, 70%, 55%)`;
          return /* @__PURE__ */ (0,jsx_runtime.jsxs)("div", { style: { marginBottom: 10 }, children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)("div", { style: { color: "rgba(255,255,255,0.7)", fontSize: 14, marginBottom: 4, fontFamily: "'Segoe UI', sans-serif" }, children: bar.label }),
            /* @__PURE__ */ (0,jsx_runtime.jsxs)("div", { style: { display: "flex", alignItems: "center", gap: 8 }, children: [
              /* @__PURE__ */ (0,jsx_runtime.jsx)("div", { style: {
                width: barWidth,
                height: 20,
                backgroundColor: barColor,
                borderRadius: 4,
                transition: "none"
              } }),
              /* @__PURE__ */ (0,jsx_runtime.jsx)("div", { style: { color: "white", fontSize: 16, fontWeight: 600, fontFamily: "'Segoe UI', sans-serif" }, children: Math.round(bar.value * barProgress) })
            ] })
          ] }, i);
        })
      ]
    }
  );
};
const FactBox = ({
  text,
  accent = "!",
  startFrame,
  endFrame,
  position = "right"
}) => {
  const frame = (0,esm.useCurrentFrame)();
  if (frame < startFrame || frame > endFrame) return null;
  const localFrame = frame - startFrame;
  const duration = endFrame - startFrame;
  const opacity = (0,esm.interpolate)(
    localFrame,
    [0, 10, duration - 8, duration],
    [0, 1, 1, 0],
    { extrapolateLeft: "clamp", extrapolateRight: "clamp" }
  );
  const slideY = (0,esm.interpolate)(
    localFrame,
    [0, 10],
    [20, 0],
    { extrapolateLeft: "clamp", extrapolateRight: "clamp", easing: esm.Easing.out(esm.Easing.cubic) }
  );
  const posStyle = position === "left" ? { left: 60, top: 320 } : position === "right" ? { right: 60, top: 320 } : { left: "50%", top: 320, transform: `translateX(-50%) translateY(${slideY}px)` };
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    "div",
    {
      style: {
        position: "absolute",
        ...posStyle,
        opacity,
        transform: posStyle.transform ?? `translateY(${slideY}px)`,
        backgroundColor: "rgba(0, 0, 0, 0.85)",
        borderRadius: 10,
        padding: "18px 24px",
        maxWidth: 380,
        display: "flex",
        gap: 16,
        alignItems: "flex-start"
      },
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("div", { style: {
          backgroundColor: "#D4A012",
          borderRadius: "50%",
          width: 36,
          height: 36,
          display: "flex",
          alignItems: "center",
          justifyContent: "center",
          flexShrink: 0,
          color: "black",
          fontWeight: 800,
          fontSize: 20,
          fontFamily: "'Segoe UI', sans-serif"
        }, children: accent }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("div", { style: { color: "white", fontSize: 20, lineHeight: 1.5, fontFamily: "'Segoe UI', sans-serif" }, children: text })
      ]
    }
  );
};
const TopicCard = ({
  topic,
  subtitle = "Professor Pint explains...",
  startFrame,
  endFrame
}) => {
  const frame = (0,esm.useCurrentFrame)();
  if (frame < startFrame || frame > endFrame) return null;
  const localFrame = frame - startFrame;
  const duration = endFrame - startFrame;
  const opacity = (0,esm.interpolate)(
    localFrame,
    [0, 15, duration - 12, duration],
    [0, 1, 1, 0],
    { extrapolateLeft: "clamp", extrapolateRight: "clamp" }
  );
  const slideX = (0,esm.interpolate)(
    localFrame,
    [0, 15],
    [-300, 0],
    { extrapolateLeft: "clamp", extrapolateRight: "clamp", easing: esm.Easing.out(esm.Easing.cubic) }
  );
  const barWidth = (0,esm.interpolate)(
    localFrame,
    [5, 20],
    [0, 360],
    { extrapolateLeft: "clamp", extrapolateRight: "clamp", easing: esm.Easing.out(esm.Easing.cubic) }
  );
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    "div",
    {
      style: {
        position: "absolute",
        left: 60,
        bottom: 160,
        opacity,
        transform: `translateX(${slideX}px)`
      },
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("div", { style: { width: barWidth, height: 3, backgroundColor: "#D4A012", marginBottom: 8, borderRadius: 2 } }),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)("div", { style: {
          backgroundColor: "rgba(0, 0, 0, 0.8)",
          padding: "16px 28px",
          borderRadius: 6
        }, children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)("div", { style: { color: "#D4A012", fontSize: 16, fontWeight: 600, letterSpacing: 2, textTransform: "uppercase", fontFamily: "'Segoe UI', sans-serif" }, children: subtitle }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("div", { style: { color: "white", fontSize: 38, fontWeight: 800, marginTop: 4, fontFamily: "'Segoe UI', sans-serif" }, children: topic })
        ] })
      ]
    }
  );
};
const OverlayRenderer = ({ overlays }) => {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: overlays.map((overlay, i) => {
    const p = overlay.props;
    switch (overlay.type) {
      case "statCard":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(
          StatCard,
          {
            value: p.value,
            label: p.label,
            startFrame: overlay.startFrame,
            endFrame: overlay.endFrame,
            position: p.position,
            color: p.color
          },
          `overlay-${i}`
        );
      case "barChart":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(
          BarChart,
          {
            bars: p.bars,
            title: p.title,
            startFrame: overlay.startFrame,
            endFrame: overlay.endFrame,
            position: p.position
          },
          `overlay-${i}`
        );
      case "factBox":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(
          FactBox,
          {
            text: p.text,
            accent: p.accent,
            startFrame: overlay.startFrame,
            endFrame: overlay.endFrame,
            position: p.position
          },
          `overlay-${i}`
        );
      case "topicCard":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(
          TopicCard,
          {
            topic: p.topic,
            subtitle: p.subtitle,
            startFrame: overlay.startFrame,
            endFrame: overlay.endFrame
          },
          `overlay-${i}`
        );
      default:
        return null;
    }
  }) });
};

// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(6540);
;// ./src/animations/easing.ts

const cubicEaseOut = (t) => {
  const clamped = Math.max(0, Math.min(1, t));
  return 1 - Math.pow(1 - clamped, 3);
};
const cubicEaseInOut = (t) => {
  const clamped = Math.max(0, Math.min(1, t));
  return clamped < 0.5 ? 4 * clamped * clamped * clamped : 1 - Math.pow(-2 * clamped + 2, 3) / 2;
};
const lerp = (a, b, t) => {
  return a + (b - a) * Math.max(0, Math.min(1, t));
};
const mapRange = (value, inMin, inMax, outMin, outMax, easingFn) => {
  const t = Math.max(0, Math.min(1, (value - inMin) / (inMax - inMin)));
  const eased = easingFn ? easingFn(t) : t;
  return outMin + (outMax - outMin) * eased;
};
const sineWave = (frame, frequency, phase = 0) => {
  return Math.sin(frame / 30 * frequency * Math.PI * 2 + phase);
};
const seededRandom = (seed) => {
  const x = Math.sin(seed * 12.9898 + 78.233) * 43758.5453;
  return x - Math.floor(x);
};

;// ./src/animations/idle.ts


const getBreathing = (frame) => {
  const breathY = sineWave(frame, 0.5) * 1.5;
  const breathScaleX = 1 + sineWave(frame, 0.5) * 3e-3;
  return { y: breathY, scaleX: breathScaleX };
};
const getBlinkState = (frame) => {
  const fps = 30;
  const windowSize = fps * 2;
  const windowIndex = Math.floor(frame / windowSize);
  const shouldBlink = seededRandom(windowIndex * 7) > 0.35;
  if (!shouldBlink) return 1;
  const blinkOffset = Math.floor(seededRandom(windowIndex * 13) * (windowSize - 10));
  const blinkStart = windowIndex * windowSize + blinkOffset;
  const frameInBlink = frame - blinkStart;
  if (frameInBlink < 0 || frameInBlink > 5) return 1;
  if (frameInBlink <= 2) return 1 - frameInBlink / 2;
  if (frameInBlink === 3) return 0.05;
  return (frameInBlink - 3) / 2;
};
const getBodySway = (frame) => {
  const sway1 = sineWave(frame, 0.15) * 0.8;
  const sway2 = sineWave(frame, 0.23, 1.5) * 0.4;
  const x = sway1 + sway2;
  const rotation = (sway1 + sway2) * 0.3;
  return { x, rotation };
};
const getPupilMicroMovement = (frame) => {
  const x = sineWave(frame, 0.3, 0) * 0.5 + sineWave(frame, 0.7, 2) * 0.3;
  const y = sineWave(frame, 0.25, 1) * 0.4 + sineWave(frame, 0.6, 3) * 0.2;
  return { x, y };
};
const getBeerSway = (frame) => {
  const rotation = sineWave(frame, 0.2, 0.5) * 1.5;
  const liquidOffset = sineWave(frame, 0.3, 1) * 0.8;
  return { rotation, liquidOffset };
};
const getIdleState = (frame) => {
  return {
    breathing: getBreathing(frame),
    blink: getBlinkState(frame),
    sway: getBodySway(frame),
    pupil: getPupilMicroMovement(frame),
    beerSway: getBeerSway(frame)
  };
};

;// ./src/animations/talking.ts


const getMouthShape = (frame, talking) => {
  if (!talking) return 0;
  const fast = sineWave(frame, 4.5);
  const medium = sineWave(frame, 2.2, 0.7);
  const slow = sineWave(frame, 0.8, 1.3);
  if (slow < -0.6) return 0;
  const combined = fast * 0.6 + medium * 0.4;
  if (combined > 0.5) return 3;
  if (combined > 0) return 2;
  if (combined > -0.4) return 1;
  return 0;
};
const talking_getMouthShapeFromPhonemes = (frame, fps, phonemes) => {
  if (!phonemes.length) return 0;
  const currentTime = frame / fps;
  let activePhoneme = "";
  for (let i = phonemes.length - 1; i >= 0; i--) {
    if (phonemes[i].time <= currentTime) {
      activePhoneme = phonemes[i].phoneme;
      break;
    }
  }
  const wideOpen = ["AA", "AE", "AH", "AY", "EH", "EY"];
  const medium = ["AO", "OW", "UH", "UW", "OY"];
  const narrow = ["B", "M", "P", "F", "V", "W"];
  if (wideOpen.includes(activePhoneme)) return 3;
  if (medium.includes(activePhoneme)) return 2;
  if (narrow.includes(activePhoneme)) return 1;
  if (activePhoneme === "" || activePhoneme === "SIL") return 0;
  return 1;
};
const getTalkingBounce = (frame, talking) => {
  if (!talking) return 0;
  const bounce = Math.abs(sineWave(frame, 3.5)) * 1.2;
  return -bounce;
};
const getTalkingGesture = (frame, talking) => {
  if (!talking) return 0;
  const gesture = sineWave(frame, 1.2, 0.5) * 12;
  return gesture;
};

;// ./src/animations/emotions.ts


const EMOTION_PARAMS = {
  neutral: {
    eyeScaleY: 1,
    eyeOffsetY: 0,
    pupilScale: 1,
    browLeftY: 0,
    browRightY: 0,
    browLeftRotation: 0,
    browRightRotation: 0,
    mouthCurve: 0,
    mouthWidth: 1,
    mouthOpen: 0,
    blushOpacity: 0,
    headTilt: 0
  },
  happy: {
    eyeScaleY: 0.8,
    eyeOffsetY: 0.5,
    pupilScale: 1.05,
    browLeftY: -2,
    browRightY: -2,
    browLeftRotation: -3,
    browRightRotation: 3,
    mouthCurve: 8,
    mouthWidth: 1.15,
    mouthOpen: 0.2,
    blushOpacity: 0.3,
    headTilt: 2
  },
  shocked: {
    eyeScaleY: 1.5,
    eyeOffsetY: -1,
    pupilScale: 0.7,
    browLeftY: -6,
    browRightY: -6,
    browLeftRotation: 0,
    browRightRotation: 0,
    mouthCurve: -2,
    mouthWidth: 0.8,
    mouthOpen: 0.8,
    blushOpacity: 0,
    headTilt: 0
  },
  thinking: {
    eyeScaleY: 0.9,
    eyeOffsetY: -1,
    pupilScale: 1,
    browLeftY: -1,
    browRightY: -4,
    browLeftRotation: 0,
    browRightRotation: 8,
    mouthCurve: -1,
    mouthWidth: 0.85,
    mouthOpen: 0,
    blushOpacity: 0,
    headTilt: -5
  },
  angry: {
    eyeScaleY: 0.7,
    eyeOffsetY: 1,
    pupilScale: 0.85,
    browLeftY: 1,
    browRightY: 1,
    browLeftRotation: 12,
    browRightRotation: -12,
    mouthCurve: -5,
    mouthWidth: 1.1,
    mouthOpen: 0.1,
    blushOpacity: 0,
    headTilt: -2
  },
  sad: {
    eyeScaleY: 0.85,
    eyeOffsetY: 1,
    pupilScale: 1.1,
    browLeftY: -2,
    browRightY: -2,
    browLeftRotation: -8,
    browRightRotation: 8,
    mouthCurve: -6,
    mouthWidth: 0.9,
    mouthOpen: 0,
    blushOpacity: 0,
    headTilt: 3
  }
};
const interpolateEmotions = (fromEmotion, toEmotion, progress) => {
  const from = EMOTION_PARAMS[fromEmotion];
  const to = EMOTION_PARAMS[toEmotion];
  const t = cubicEaseOut(progress);
  const result = {};
  for (const key of Object.keys(from)) {
    result[key] = lerp(from[key], to[key], t);
  }
  return result;
};
const getEmotionParams = (emotion) => {
  return EMOTION_PARAMS[emotion];
};
class EmotionTransition {
  constructor() {
    this.currentEmotion = "neutral";
    this.targetEmotion = "neutral";
    this.transitionStart = 0;
    this.transitionDuration = 10;
  }
  // frames (10 frames at 30fps = ~0.33s)
  getParams(frame, targetEmotion) {
    if (targetEmotion !== this.targetEmotion) {
      this.currentEmotion = this.targetEmotion;
      this.targetEmotion = targetEmotion;
      this.transitionStart = frame;
    }
    const elapsed = frame - this.transitionStart;
    const progress = Math.min(1, elapsed / this.transitionDuration);
    return interpolateEmotions(this.currentEmotion, this.targetEmotion, progress);
  }
}

;// ./src/props/PintGlass.tsx


const PintGlass = ({ liquidOffset = 0, scale = 1 }) => {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `scale(${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("defs", { children: /* @__PURE__ */ (0,jsx_runtime.jsx)("clipPath", { id: "pint-clip", children: /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-14,2 L-11,-52 Q-10,-55 -8,-55 L8,-55 Q10,-55 11,-52 L14,2 Z" }) }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { clipPath: "url(#pint-clip)", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -14, y: -42 + liquidOffset, width: 28, height: 54, fill: "#D4A012", opacity: 0.85 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -14, y: -10, width: 28, height: 12, fill: "#B8890F", opacity: 0.3 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { clipPath: "url(#pint-clip)", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -13, y: -52 + liquidOffset, width: 26, height: 12, fill: "#FFF8E7", opacity: 0.95 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -5, cy: -50 + liquidOffset, rx: 5, ry: 3.5, fill: "white", opacity: 0.7 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 4, cy: -49 + liquidOffset, rx: 4.5, ry: 3, fill: "white", opacity: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -1, cy: -52 + liquidOffset, rx: 4, ry: 2.5, fill: "white", opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 7, cy: -51 + liquidOffset, rx: 3, ry: 2, fill: "white", opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -8, cy: -48 + liquidOffset, rx: 3.5, ry: 2.5, fill: "white", opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 11, cy: -38, rx: 2, ry: 4, fill: "#FFF8E7", opacity: 0.6 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: "M-14,-2 L-11,-52 Q-10,-55 -8,-55 L8,-55 Q10,-55 11,-52 L14,-2 Q14,2 10,2 L-10,2 Q-14,2 -14,-2 Z",
        fill: "rgba(255,255,255,0.12)",
        stroke: "#1A1A1A",
        strokeWidth: 2.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -8, y1: -50, x2: -6, y2: -5, stroke: "white", strokeWidth: 1.8, opacity: 0.2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: "M14,-38 Q26,-36 26,-20 Q26,-4 14,-2",
        fill: "none",
        stroke: "#1A1A1A",
        strokeWidth: 3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: "M14,-36 Q24,-34 24,-20 Q24,-6 14,-4",
        fill: "rgba(255,255,255,0.08)",
        stroke: "none"
      }
    )
  ] });
};

;// ./src/characters/ProfessorPint.tsx








const COL = {
  skin: "#FDDCB5",
  skinShadow: "#E8C8A0",
  outline: "#1A1A1A",
  vest: "#2D5016",
  vestDark: "#1F3A0F",
  shirt: "#FFFFFF",
  shirtShadow: "#E8E8E8",
  bowtie: "#D4A012",
  bowtieDark: "#B8890F",
  hair: "#D4D4D4",
  hairDark: "#AAAAAA",
  hairLight: "#E8E8E8",
  glassFrame: "#3A3A3A",
  glassLens: "rgba(200,220,240,0.22)",
  pupil: "#1A1A1A",
  iris: "#4A6741",
  eyeWhite: "#FFFFFF",
  mouth: "#8B2020",
  tongue: "#CC5555",
  blush: "#FFAAAA",
  shine: "rgba(255,255,255,0.55)"
};
const SW = 3.5;
const ProfessorPint = ({
  emotion = "neutral",
  previousEmotion = "neutral",
  emotionTransitionProgress = 1,
  talking = false,
  scale = 1
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const idle = getIdleState(frame);
  const mouthShape = getMouthShape(frame, talking);
  const talkBounce = getTalkingBounce(frame, talking);
  const talkGesture = getTalkingGesture(frame, talking);
  const emo = (0,react.useMemo)(
    () => interpolateEmotions(previousEmotion, emotion, emotionTransitionProgress),
    [previousEmotion, emotion, emotionTransitionProgress]
  );
  const bodyY = idle.breathing.y + talkBounce;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "svg",
    {
      viewBox: "-130 -210 260 400",
      width: 260 * scale,
      height: 400 * scale,
      style: { overflow: "visible" },
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${idle.sway.x}, ${bodyY}) rotate(${idle.sway.rotation})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(Legs, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `scale(${idle.breathing.scaleX}, 1)`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(Body, {}) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(LeftArm, { gestureRotation: talkGesture }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(RightArm, { beerSway: idle.beerSway }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(0, -105) rotate(${emo.headTilt})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(Head, { emo, blink: idle.blink, pupil: idle.pupil, mouthShape, talking }) })
      ] })
    }
  );
};
const Legs = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -16, y1: 68, x2: -20, y2: 135, stroke: COL.outline, strokeWidth: 8, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 16, y1: 68, x2: 20, y2: 135, stroke: COL.outline, strokeWidth: 8, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -24, cy: 137, rx: 14, ry: 6, fill: COL.outline }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 24, cy: 137, rx: 14, ry: 6, fill: COL.outline })
] });
const Body = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-42,-42 Q-42,-50 -30,-50 L30,-50 Q42,-50 42,-42 L42,40 Q42,75 0,78 Q-42,75 -42,40 Z",
      fill: COL.shirt,
      stroke: COL.outline,
      strokeWidth: SW
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 55, rx: 25, ry: 15, fill: "rgba(0,0,0,0.03)" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -15, x2: 0, y2: 60, stroke: COL.shirtShadow, strokeWidth: 1, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-39,-38 L-39,45 Q-39,72 -15,75 L-8,75 L-8,-22 Q-8,-38 -22,-38 Z",
      fill: COL.vest,
      stroke: COL.outline,
      strokeWidth: SW
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M39,-38 L39,45 Q39,72 15,75 L8,75 L8,-22 Q8,-38 22,-38 Z",
      fill: COL.vest,
      stroke: COL.outline,
      strokeWidth: SW
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-35,-30 L-35,55", stroke: COL.vestDark, strokeWidth: 2, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M35,-30 L35,55", stroke: COL.vestDark, strokeWidth: 2, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -5, r: 3.5, fill: COL.bowtie, stroke: COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 18, r: 3.5, fill: COL.bowtie, stroke: COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 41, r: 3.5, fill: COL.bowtie, stroke: COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -11, y: -48, width: 22, height: 12, fill: COL.skin, stroke: COL.outline, strokeWidth: SW }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(0, -42)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-14,0 L-8,-8 L0,0", fill: COL.shirt, stroke: COL.outline, strokeWidth: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M14,0 L8,-8 L0,0", fill: COL.shirt, stroke: COL.outline, strokeWidth: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 L-16,-9 L-16,9 Z", fill: COL.bowtie, stroke: COL.outline, strokeWidth: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 L16,-9 L16,9 Z", fill: COL.bowtie, stroke: COL.outline, strokeWidth: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 4.5, fill: COL.bowtieDark, stroke: COL.outline, strokeWidth: 2 })
  ] })
] });
const LeftArm = ({ gestureRotation }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(-44, -25) rotate(${-12 + gestureRotation}, 0, 0)`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -18, y2: 38, stroke: COL.outline, strokeWidth: 8, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(-18, 38)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -8, y2: 32, stroke: COL.outline, strokeWidth: 7, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -10, cy: 36, r: 8, fill: COL.skin, stroke: COL.outline, strokeWidth: SW })
  ] })
] });
const RightArm = ({ beerSway }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(44, -20)", children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 16, y2: 32, stroke: COL.outline, strokeWidth: 8, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(16, 32) rotate(-50)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 3, y2: 26, stroke: COL.outline, strokeWidth: 7, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(5, 28) rotate(${50 + beerSway.rotation})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -14, rx: 10, ry: 7, fill: COL.skin, stroke: COL.outline, strokeWidth: SW }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: "translate(0, 8)", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(PintGlass, { liquidOffset: beerSway.liquidOffset, scale: 1.1 }) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-7,-20 Q-9,-15 -7,-10", fill: "none", stroke: COL.outline, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M6,-20 Q8,-15 6,-10", fill: "none", stroke: COL.outline, strokeWidth: 1.5 })
    ] })
  ] })
] });
const Head = ({ emo, blink, pupil, mouthShape, talking }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(EinsteinHairBack, {}),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 50, fill: COL.skin, stroke: COL.outline, strokeWidth: SW }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -6, cy: -28, rx: 16, ry: 9, fill: COL.shine, opacity: 0.35 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -4, cy: -33, rx: 7, ry: 4, fill: "white", opacity: 0.25 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(EinsteinHairFront, {}),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(Glasses, {}),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(-17, ${-2 + emo.eyeOffsetY})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(Eye, { blink, scaleY: emo.eyeScaleY, pupilScale: emo.pupilScale, px: pupil.x, py: pupil.y }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(17, ${-2 + emo.eyeOffsetY})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(Eye, { blink, scaleY: emo.eyeScaleY, pupilScale: emo.pupilScale, px: pupil.x, py: pupil.y }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(-17, ${-15 + emo.browLeftY}) rotate(${emo.browLeftRotation})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -10, y: 0, width: 20, height: 3.5, rx: 1.5, fill: COL.hairDark }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(17, ${-15 + emo.browRightY}) rotate(${emo.browRightRotation})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -10, y: 0, width: 20, height: 3.5, rx: 1.5, fill: COL.hairDark }) }),
  emo.blushOpacity > 0.01 && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -28, cy: 14, rx: 8, ry: 5, fill: COL.blush, opacity: emo.blushOpacity }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 28, cy: 14, rx: 8, ry: 5, fill: COL.blush, opacity: emo.blushOpacity })
  ] }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,8 Q0,15 3,8", fill: "none", stroke: COL.outline, strokeWidth: 2.2, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.99, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -6, cy: 36, r: 0.8, fill: COL.hairDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 38, r: 0.8, fill: COL.hairDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 6, cy: 36, r: 0.8, fill: COL.hairDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -3, cy: 40, r: 0.8, fill: COL.hairDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 3, cy: 40, r: 0.8, fill: COL.hairDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -9, cy: 34, r: 0.7, fill: COL.hairDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 9, cy: 34, r: 0.7, fill: COL.hairDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -14, cy: 30, r: 0.7, fill: COL.hairDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 14, cy: 30, r: 0.7, fill: COL.hairDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -18, cy: 26, r: 0.7, fill: COL.hairDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 18, cy: 26, r: 0.7, fill: COL.hairDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -12, cy: 33, r: 0.7, fill: COL.hairDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 12, cy: 33, r: 0.7, fill: COL.hairDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -4, cy: 34, r: 0.7, fill: COL.hairDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 4, cy: 34, r: 0.7, fill: COL.hairDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 35, r: 0.7, fill: COL.hairDark })
  ] }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(Mouth, { shape: mouthShape, curve: emo.mouthCurve, width: emo.mouthWidth, emotionOpen: emo.mouthOpen, talking })
] });
const EinsteinHairBack = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-42,20 Q-55,15 -58,0 Q-62,-15 -55,-25 Q-58,-35 -50,-40 Q-45,-45 -38,-40\n         L38,-40 Q45,-45 50,-40 Q58,-35 55,-25 Q62,-15 58,0 Q55,15 42,20\n         L35,35 Q20,45 0,45 Q-20,45 -35,35 Z",
      fill: COL.hair,
      stroke: COL.outline,
      strokeWidth: 2.5
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-30,30 Q-35,38 -25,40", fill: "none", stroke: COL.hairDark, strokeWidth: 1.5, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M25,30 Q30,38 22,40", fill: "none", stroke: COL.hairDark, strokeWidth: 1.5, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,38 Q5,44 -3,43", fill: "none", stroke: COL.hairDark, strokeWidth: 1.5, opacity: 0.3 })
] });
const EinsteinHairFront = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-46,-5 Q-58,-8 -60,-20 Q-62,-30 -55,-35 Q-58,-42 -52,-44 Q-48,-48 -42,-42",
      fill: COL.hair,
      stroke: COL.outline,
      strokeWidth: 2.5
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-48,8 Q-60,5 -62,-5 Q-64,-12 -58,-15", fill: COL.hair, stroke: COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-46,20 Q-58,18 -60,8 Q-62,0 -55,-2", fill: COL.hair, stroke: COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-55,-38 Q-62,-35 -58,-28", fill: "none", stroke: COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-57,-10 Q-65,-8 -62,-2", fill: "none", stroke: COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M46,-5 Q58,-8 60,-20 Q62,-30 55,-35 Q58,-42 52,-44 Q48,-48 42,-42",
      fill: COL.hair,
      stroke: COL.outline,
      strokeWidth: 2.5
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M48,8 Q60,5 62,-5 Q64,-12 58,-15", fill: COL.hair, stroke: COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M46,20 Q58,18 60,8 Q62,0 55,-2", fill: COL.hair, stroke: COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M55,-38 Q62,-35 58,-28", fill: "none", stroke: COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M57,-10 Q65,-8 62,-2", fill: "none", stroke: COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-52,-30 Q-50,-25 -53,-20", fill: "none", stroke: COL.hairLight, strokeWidth: 1.2, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M52,-30 Q50,-25 53,-20", fill: "none", stroke: COL.hairLight, strokeWidth: 1.2, opacity: 0.4 })
] });
const Glasses = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(0, -2)", children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -17, cy: 0, r: 14, fill: COL.glassLens, stroke: COL.glassFrame, strokeWidth: 2.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 17, cy: 0, r: 14, fill: COL.glassLens, stroke: COL.glassFrame, strokeWidth: 2.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,0 Q0,-3 3,0", fill: "none", stroke: COL.glassFrame, strokeWidth: 2.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -31, y1: -2, x2: -46, y2: -6, stroke: COL.glassFrame, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 31, y1: -2, x2: 46, y2: -6, stroke: COL.glassFrame, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -21, cy: -5, rx: 4, ry: 3, fill: "white", opacity: 0.12 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 13, cy: -5, rx: 4, ry: 3, fill: "white", opacity: 0.12 })
] });
const Eye = ({ blink, scaleY, pupilScale, px, py }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `scale(1, ${scaleY * blink})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 8.5, ry: 6.5, fill: COL.eyeWhite, stroke: COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px, cy: py, r: 4 * pupilScale, fill: COL.iris }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px, cy: py, r: 2.2 * pupilScale, fill: COL.pupil }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px + 1.5, cy: py - 1.5, r: 1.3, fill: "white", opacity: 0.8 })
] });
const Mouth = ({ shape, curve, width, emotionOpen, talking }) => {
  const talkOpen = talking ? [0, 3, 6, 10][shape] : emotionOpen * 10;
  const openAmount = Math.max(talkOpen, emotionOpen * 10);
  const hw = 12 * width;
  if (openAmount < 1) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${-hw},26 Q0,${26 + curve} ${hw},26`,
        fill: "none",
        stroke: COL.outline,
        strokeWidth: 2.5,
        strokeLinecap: "round"
      }
    );
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(0, 26)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 0,
        cy: 0,
        rx: hw,
        ry: openAmount * 0.5 + Math.abs(curve) * 0.2,
        fill: COL.mouth,
        stroke: COL.outline,
        strokeWidth: 2.5
      }
    ),
    openAmount > 6 && /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 2, cy: openAmount * 0.25, rx: hw * 0.5, ry: openAmount * 0.2, fill: COL.tongue }),
    openAmount > 3 && /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -hw * 0.6, y: -openAmount * 0.35, width: hw * 1.2, height: 2.5, fill: "white", rx: 1 })
  ] });
};
/* harmony default export */ const characters_ProfessorPint = ((/* unused pure expression or super */ null && (ProfessorPint)));

;// ./src/characters/AverageJoe.tsx







const AverageJoe_COL = {
  skin: "#F5CBA7",
  skinShadow: "#E0B090",
  outline: "#1A1A1A",
  hoodie: "#3B6DAA",
  hoodieDark: "#2D5580",
  hoodieZip: "#888888",
  shirt: "#F0F0F0",
  jeans: "#3D4F6A",
  jeansDark: "#2E3D52",
  hair: "#6B4226",
  hairDark: "#4A2E1A",
  hairLight: "#8B5E3C",
  eyeWhite: "#FFFFFF",
  iris: "#5B7553",
  pupil: "#1A1A1A",
  mouth: "#8B2020",
  tongue: "#CC5555",
  blush: "#FFBBBB",
  shine: "rgba(255,255,255,0.5)",
  shoe: "#2A2A2A"
};
const AverageJoe_SW = 3.5;
const AverageJoe = ({
  emotion = "neutral",
  previousEmotion = "neutral",
  emotionTransitionProgress = 1,
  talking = false,
  scale = 1
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const idle = getIdleState(frame);
  const mouthShape = getMouthShape(frame, talking);
  const talkBounce = getTalkingBounce(frame, talking);
  const talkGesture = getTalkingGesture(frame, talking);
  const emo = (0,react.useMemo)(
    () => interpolateEmotions(previousEmotion, emotion, emotionTransitionProgress),
    [previousEmotion, emotion, emotionTransitionProgress]
  );
  const bodyY = idle.breathing.y + talkBounce;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "svg",
    {
      viewBox: "-130 -190 260 380",
      width: 260 * scale,
      height: 380 * scale,
      style: { overflow: "visible" },
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${idle.sway.x}, ${bodyY}) rotate(${idle.sway.rotation})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(JoeLegs, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `scale(${idle.breathing.scaleX}, 1)`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(JoeBody, {}) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(JoeLeftArm, { gestureRotation: talkGesture }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(JoeRightArm, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(0, -95) rotate(${emo.headTilt})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(JoeHead, { emo, blink: idle.blink, pupil: idle.pupil, mouthShape, talking }) })
      ] })
    }
  );
};
const JoeLegs = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-18,65 L-22,130 L-8,130 L-6,70 Z",
      fill: AverageJoe_COL.jeans,
      stroke: AverageJoe_COL.outline,
      strokeWidth: AverageJoe_SW
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M18,65 L22,130 L8,130 L6,70 Z",
      fill: AverageJoe_COL.jeans,
      stroke: AverageJoe_COL.outline,
      strokeWidth: AverageJoe_SW
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -15, y1: 75, x2: -16, y2: 125, stroke: AverageJoe_COL.jeansDark, strokeWidth: 1, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 15, y1: 75, x2: 16, y2: 125, stroke: AverageJoe_COL.jeansDark, strokeWidth: 1, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -18, cy: 133, rx: 16, ry: 7, fill: AverageJoe_COL.shoe, stroke: AverageJoe_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 18, cy: 133, rx: 16, ry: 7, fill: AverageJoe_COL.shoe, stroke: AverageJoe_COL.outline, strokeWidth: 2 })
] });
const JoeBody = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-45,-35 Q-45,-42 -32,-42 L32,-42 Q45,-42 45,-35 L45,42 Q45,72 0,75 Q-45,72 -45,42 Z",
      fill: AverageJoe_COL.hoodie,
      stroke: AverageJoe_COL.outline,
      strokeWidth: AverageJoe_SW
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 50, rx: 30, ry: 18, fill: "rgba(0,0,0,0.05)" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-25,25 L-25,50 Q-25,55 -20,55 L20,55 Q25,55 25,50 L25,25",
      fill: "none",
      stroke: AverageJoe_COL.hoodieDark,
      strokeWidth: 2,
      opacity: 0.5
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -38, x2: 0, y2: 70, stroke: AverageJoe_COL.hoodieZip, strokeWidth: 1.5, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -6, y1: -38, x2: -8, y2: -20, stroke: AverageJoe_COL.hoodieZip, strokeWidth: 1.2, opacity: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 6, y1: -38, x2: 8, y2: -20, stroke: AverageJoe_COL.hoodieZip, strokeWidth: 1.2, opacity: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -9, cy: -18, r: 2, fill: AverageJoe_COL.hoodieZip, opacity: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 9, cy: -18, r: 2, fill: AverageJoe_COL.hoodieZip, opacity: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-12,-42 Q0,-35 12,-42",
      fill: AverageJoe_COL.shirt,
      stroke: AverageJoe_COL.outline,
      strokeWidth: 2
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -10, y: -46, width: 20, height: 10, fill: AverageJoe_COL.skin, stroke: AverageJoe_COL.outline, strokeWidth: AverageJoe_SW }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-20,-40 Q-22,-48 -12,-48 L12,-48 Q22,-48 20,-40",
      fill: AverageJoe_COL.hoodieDark,
      stroke: AverageJoe_COL.outline,
      strokeWidth: 2
    }
  )
] });
const JoeLeftArm = ({ gestureRotation }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(-46, -20) rotate(${-8 + gestureRotation}, 0, 0)`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -14, y2: 35, stroke: AverageJoe_COL.hoodie, strokeWidth: 14, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -14, y2: 35, stroke: AverageJoe_COL.outline, strokeWidth: 16, strokeLinecap: "round", opacity: 0.15 }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(-14, 35)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -6, y2: 28, stroke: AverageJoe_COL.skin, strokeWidth: 8, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -6, y2: 28, stroke: AverageJoe_COL.outline, strokeWidth: 10, strokeLinecap: "round", opacity: 0.12 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -8, cy: 32, r: 8, fill: AverageJoe_COL.skin, stroke: AverageJoe_COL.outline, strokeWidth: AverageJoe_SW })
  ] })
] });
const JoeRightArm = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(46, -20)", children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 14, y2: 35, stroke: AverageJoe_COL.hoodie, strokeWidth: 14, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 14, y2: 35, stroke: AverageJoe_COL.outline, strokeWidth: 16, strokeLinecap: "round", opacity: 0.15 }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(14, 35)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 4, y2: 28, stroke: AverageJoe_COL.skin, strokeWidth: 8, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 4, y2: 28, stroke: AverageJoe_COL.outline, strokeWidth: 10, strokeLinecap: "round", opacity: 0.12 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 6, cy: 32, r: 8, fill: AverageJoe_COL.skin, stroke: AverageJoe_COL.outline, strokeWidth: AverageJoe_SW })
  ] })
] });
const JoeHead = ({ emo, blink, pupil, mouthShape, talking }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(JoeHairBack, {}),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 46, ry: 48, fill: AverageJoe_COL.skin, stroke: AverageJoe_COL.outline, strokeWidth: AverageJoe_SW }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -4, cy: -25, rx: 14, ry: 8, fill: AverageJoe_COL.shine, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(JoeHairFront, {}),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -44, cy: 5, rx: 8, ry: 12, fill: AverageJoe_COL.skin, stroke: AverageJoe_COL.outline, strokeWidth: 2.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 44, cy: 5, rx: 8, ry: 12, fill: AverageJoe_COL.skin, stroke: AverageJoe_COL.outline, strokeWidth: 2.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-44,0 Q-41,5 -44,10", fill: "none", stroke: AverageJoe_COL.skinShadow, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M44,0 Q41,5 44,10", fill: "none", stroke: AverageJoe_COL.skinShadow, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(-15, ${0 + emo.eyeOffsetY})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(JoeEye, { blink, scaleY: emo.eyeScaleY, pupilScale: emo.pupilScale, px: pupil.x, py: pupil.y }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(15, ${0 + emo.eyeOffsetY})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(JoeEye, { blink, scaleY: emo.eyeScaleY, pupilScale: emo.pupilScale, px: pupil.x, py: pupil.y }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(-15, ${-13 + emo.browLeftY}) rotate(${emo.browLeftRotation})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -9, y: 0, width: 18, height: 4, rx: 2, fill: AverageJoe_COL.hair }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(15, ${-13 + emo.browRightY}) rotate(${emo.browRightRotation})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -9, y: 0, width: 18, height: 4, rx: 2, fill: AverageJoe_COL.hair }) }),
  emo.blushOpacity > 0.01 && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -26, cy: 16, rx: 8, ry: 5, fill: AverageJoe_COL.blush, opacity: emo.blushOpacity }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 26, cy: 16, rx: 8, ry: 5, fill: AverageJoe_COL.blush, opacity: emo.blushOpacity })
  ] }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,10 Q0,18 4,10", fill: "none", stroke: AverageJoe_COL.outline, strokeWidth: 2.2, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -3, cy: 13, r: 2.5, fill: AverageJoe_COL.skinShadow, opacity: 0.15 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 3, cy: 13, r: 2.5, fill: AverageJoe_COL.skinShadow, opacity: 0.15 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(JoeMouth, { shape: mouthShape, curve: emo.mouthCurve, width: emo.mouthWidth, emotionOpen: emo.mouthOpen, talking })
] });
const JoeHairBack = () => /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
  "path",
  {
    d: "M-40,5 Q-48,-5 -45,-20 Q-42,-35 -35,-40 Q-25,-48 0,-50 Q25,-48 35,-40 Q42,-35 45,-20 Q48,-5 40,5\n         L38,10 Q20,15 0,15 Q-20,15 -38,10 Z",
    fill: AverageJoe_COL.hair,
    stroke: AverageJoe_COL.outline,
    strokeWidth: 2.5
  }
) });
const JoeHairFront = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-30,-35 Q-28,-48 -15,-50 Q-5,-52 5,-50 Q18,-48 25,-40 Q30,-35 28,-28\n         L20,-30 Q10,-42 -5,-42 Q-18,-42 -25,-32 Z",
      fill: AverageJoe_COL.hair,
      stroke: AverageJoe_COL.outline,
      strokeWidth: 2
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-15,-42 Q-10,-48 -5,-44", fill: "none", stroke: AverageJoe_COL.hairDark, strokeWidth: 1.5, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M5,-44 Q10,-50 15,-42", fill: "none", stroke: AverageJoe_COL.hairDark, strokeWidth: 1.5, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-8,-46 Q-3,-52 2,-46", fill: "none", stroke: AverageJoe_COL.hairLight, strokeWidth: 1, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-42,-5 Q-48,-15 -44,-25 Q-42,-32 -36,-36", fill: AverageJoe_COL.hair, stroke: AverageJoe_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M42,-5 Q48,-15 44,-25 Q42,-32 36,-36", fill: AverageJoe_COL.hair, stroke: AverageJoe_COL.outline, strokeWidth: 2 })
] });
const JoeEye = ({ blink, scaleY, pupilScale, px, py }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `scale(1, ${scaleY * blink})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 9, ry: 7, fill: AverageJoe_COL.eyeWhite, stroke: AverageJoe_COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px, cy: py, r: 4.2 * pupilScale, fill: AverageJoe_COL.iris }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px, cy: py, r: 2.3 * pupilScale, fill: AverageJoe_COL.pupil }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px + 1.5, cy: py - 1.5, r: 1.4, fill: "white", opacity: 0.8 })
] });
const JoeMouth = ({ shape, curve, width, emotionOpen, talking }) => {
  const talkOpen = talking ? [0, 3, 7, 11][shape] : emotionOpen * 10;
  const openAmount = Math.max(talkOpen, emotionOpen * 10);
  const hw = 13 * width;
  if (openAmount < 1) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${-hw},28 Q0,${28 + curve} ${hw},28`,
        fill: "none",
        stroke: AverageJoe_COL.outline,
        strokeWidth: 2.5,
        strokeLinecap: "round"
      }
    );
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(0, 28)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 0,
        cy: 0,
        rx: hw,
        ry: openAmount * 0.5 + Math.abs(curve) * 0.2,
        fill: AverageJoe_COL.mouth,
        stroke: AverageJoe_COL.outline,
        strokeWidth: 2.5
      }
    ),
    openAmount > 6 && /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 2, cy: openAmount * 0.25, rx: hw * 0.5, ry: openAmount * 0.2, fill: AverageJoe_COL.tongue }),
    openAmount > 3 && /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -hw * 0.6, y: -openAmount * 0.35, width: hw * 1.2, height: 2.5, fill: "white", rx: 1 })
  ] });
};
/* harmony default export */ const characters_AverageJoe = ((/* unused pure expression or super */ null && (AverageJoe)));

;// ./src/characters/Pharaoh.tsx







const Pharaoh_COL = {
  skin: "#C8956A",
  skinShadow: "#A87850",
  outline: "#1A1A1A",
  headdress: "#1E3A8A",
  headdressStripe: "#D4A012",
  headdressGold: "#FFD700",
  cobra: "#2D5016",
  cobraGold: "#D4A012",
  collar: "#D4A012",
  collarGem: "#DC2626",
  collarGem2: "#1E3A8A",
  robe: "#F5F0E1",
  robeShadow: "#E0D8C0",
  sash: "#D4A012",
  kohl: "#1A1A1A",
  eyeWhite: "#FFFFFF",
  iris: "#4A3520",
  pupil: "#1A1A1A",
  mouth: "#6B2020",
  tongue: "#AA4444",
  blush: "#D4A080",
  shine: "rgba(255,255,255,0.4)"
};
const Pharaoh_SW = 3.5;
const Pharaoh = ({
  emotion = "neutral",
  previousEmotion = "neutral",
  emotionTransitionProgress = 1,
  talking = false,
  scale = 1
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const idle = getIdleState(frame);
  const mouthShape = getMouthShape(frame, talking);
  const talkBounce = getTalkingBounce(frame, talking);
  const talkGesture = getTalkingGesture(frame, talking);
  const emo = (0,react.useMemo)(
    () => interpolateEmotions(previousEmotion, emotion, emotionTransitionProgress),
    [previousEmotion, emotion, emotionTransitionProgress]
  );
  const bodyY = idle.breathing.y + talkBounce;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "svg",
    {
      viewBox: "-130 -220 260 420",
      width: 260 * scale,
      height: 420 * scale,
      style: { overflow: "visible" },
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${idle.sway.x}, ${bodyY}) rotate(${idle.sway.rotation})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(PharaohLegs, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `scale(${idle.breathing.scaleX}, 1)`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(PharaohBody, {}) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(PharaohLeftArm, { gestureRotation: talkGesture }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(PharaohRightArm, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(0, -110) rotate(${emo.headTilt})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(PharaohHead, { emo, blink: idle.blink, pupil: idle.pupil, mouthShape, talking }) })
      ] })
    }
  );
};
const PharaohLegs = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-18,110 L-22,140 L-8,140 Z", fill: Pharaoh_COL.robe, stroke: Pharaoh_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M18,110 L22,140 L8,140 Z", fill: Pharaoh_COL.robe, stroke: Pharaoh_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -18, cy: 142, rx: 15, ry: 5, fill: "#8B6B4A", stroke: Pharaoh_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 18, cy: 142, rx: 15, ry: 5, fill: "#8B6B4A", stroke: Pharaoh_COL.outline, strokeWidth: 2 })
] });
const PharaohBody = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-40,-40 Q-40,-48 -28,-48 L28,-48 Q40,-48 40,-40 L44,105 Q44,115 0,118 Q-44,115 -44,105 Z",
      fill: Pharaoh_COL.robe,
      stroke: Pharaoh_COL.outline,
      strokeWidth: Pharaoh_SW
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -10, y1: -20, x2: -15, y2: 100, stroke: Pharaoh_COL.robeShadow, strokeWidth: 1.5, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 10, y1: -20, x2: 15, y2: 100, stroke: Pharaoh_COL.robeShadow, strokeWidth: 1.5, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -38, y: 10, width: 76, height: 12, rx: 3, fill: Pharaoh_COL.sash, stroke: Pharaoh_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 16, r: 5, fill: Pharaoh_COL.collarGem, stroke: Pharaoh_COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-38,-42 Q-32,-52 0,-55 Q32,-52 38,-42 L32,-30 Q16,-38 0,-40 Q-16,-38 -32,-30 Z",
      fill: Pharaoh_COL.collar,
      stroke: Pharaoh_COL.outline,
      strokeWidth: 2
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -18, cy: -38, r: 3, fill: Pharaoh_COL.collarGem, stroke: Pharaoh_COL.outline, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -42, r: 3, fill: Pharaoh_COL.collarGem2, stroke: Pharaoh_COL.outline, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 18, cy: -38, r: 3, fill: Pharaoh_COL.collarGem, stroke: Pharaoh_COL.outline, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -9, cy: -40, r: 2.5, fill: Pharaoh_COL.collarGem2, stroke: Pharaoh_COL.outline, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 9, cy: -40, r: 2.5, fill: Pharaoh_COL.collarGem2, stroke: Pharaoh_COL.outline, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -10, y: -52, width: 20, height: 10, fill: Pharaoh_COL.skin, stroke: Pharaoh_COL.outline, strokeWidth: Pharaoh_SW })
] });
const PharaohLeftArm = ({ gestureRotation }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(-42, -22) rotate(${-10 + gestureRotation}, 0, 0)`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -16, y2: 36, stroke: Pharaoh_COL.robe, strokeWidth: 12, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -16, y2: 36, stroke: Pharaoh_COL.outline, strokeWidth: 14, strokeLinecap: "round", opacity: 0.12 }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(-16, 36)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -6, y2: 28, stroke: Pharaoh_COL.skin, strokeWidth: 7, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -8, cy: 32, r: 7, fill: Pharaoh_COL.skin, stroke: Pharaoh_COL.outline, strokeWidth: Pharaoh_SW }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: "M-8,24 L-8,-10 Q-8,-22 -18,-22 Q-28,-22 -28,-14",
        fill: "none",
        stroke: Pharaoh_COL.headdressGold,
        strokeWidth: 3.5,
        strokeLinecap: "round"
      }
    )
  ] })
] });
const PharaohRightArm = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(42, -22)", children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 14, y2: 36, stroke: Pharaoh_COL.robe, strokeWidth: 12, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 14, y2: 36, stroke: Pharaoh_COL.outline, strokeWidth: 14, strokeLinecap: "round", opacity: 0.12 }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(14, 36)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 4, y2: 28, stroke: Pharaoh_COL.skin, strokeWidth: 7, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 6, cy: 32, r: 7, fill: Pharaoh_COL.skin, stroke: Pharaoh_COL.outline, strokeWidth: Pharaoh_SW }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 6, y1: 24, x2: 6, y2: -5, stroke: Pharaoh_COL.headdressGold, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 6, y1: -5, x2: 16, y2: 5, stroke: Pharaoh_COL.headdressGold, strokeWidth: 2.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 6, y1: -5, x2: 18, y2: -2, stroke: Pharaoh_COL.headdressGold, strokeWidth: 2.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 6, y1: -5, x2: 14, y2: -10, stroke: Pharaoh_COL.headdressGold, strokeWidth: 2.5 })
  ] })
] });
const PharaohHead = ({ emo, blink, pupil, mouthShape, talking }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-55,10 Q-65,-10 -55,-40 Q-45,-65 0,-70 Q45,-65 55,-40 Q65,-10 55,10\n         L50,50 L42,55 L42,10 Q42,-30 0,-35 Q-42,-30 -42,10 L-42,55 L-50,50 Z",
      fill: Pharaoh_COL.headdress,
      stroke: Pharaoh_COL.outline,
      strokeWidth: 2.5
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-48,-20 Q0,-55 48,-20", fill: "none", stroke: Pharaoh_COL.headdressStripe, strokeWidth: 3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-52,-5 Q0,-40 52,-5", fill: "none", stroke: Pharaoh_COL.headdressStripe, strokeWidth: 3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-54,10 Q0,-25 54,10", fill: "none", stroke: Pharaoh_COL.headdressStripe, strokeWidth: 3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 42, ry: 46, fill: Pharaoh_COL.skin, stroke: Pharaoh_COL.outline, strokeWidth: Pharaoh_SW }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-42,-28 Q0,-50 42,-28", fill: Pharaoh_COL.headdressGold, stroke: Pharaoh_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(0, -48)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: "M0,0 L0,-15 Q-4,-22 -2,-25 Q0,-28 2,-25 Q4,-22 0,-15",
        fill: Pharaoh_COL.cobra,
        stroke: Pharaoh_COL.outline,
        strokeWidth: 1.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -22, r: 3.5, fill: Pharaoh_COL.cobraGold, stroke: Pharaoh_COL.outline, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -1, cy: -23, r: 1, fill: Pharaoh_COL.outline }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 1, cy: -23, r: 1, fill: Pharaoh_COL.outline })
  ] }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(-15, ${0 + emo.eyeOffsetY})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(PharaohEye, { blink, scaleY: emo.eyeScaleY, pupilScale: emo.pupilScale, px: pupil.x, py: pupil.y }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(15, ${0 + emo.eyeOffsetY})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(PharaohEye, { blink, scaleY: emo.eyeScaleY, pupilScale: emo.pupilScale, px: pupil.x, py: pupil.y }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(-15, ${-14 + emo.browLeftY}) rotate(${emo.browLeftRotation})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -9, y: 0, width: 18, height: 3, rx: 1.5, fill: Pharaoh_COL.kohl }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(15, ${-14 + emo.browRightY}) rotate(${emo.browRightRotation})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -9, y: 0, width: 18, height: 3, rx: 1.5, fill: Pharaoh_COL.kohl }) }),
  emo.blushOpacity > 0.01 && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -24, cy: 15, rx: 7, ry: 4, fill: Pharaoh_COL.blush, opacity: emo.blushOpacity }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 24, cy: 15, rx: 7, ry: 4, fill: Pharaoh_COL.blush, opacity: emo.blushOpacity })
  ] }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,8 Q0,16 3,8", fill: "none", stroke: Pharaoh_COL.outline, strokeWidth: 2, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,38 L-3,65 Q0,70 3,65 L4,38", fill: Pharaoh_COL.headdress, stroke: Pharaoh_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    PharaohMouth,
    {
      shape: mouthShape,
      curve: emo.mouthCurve,
      width: emo.mouthWidth,
      emotionOpen: emo.mouthOpen,
      talking
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-42,10 L-42,55 L-34,50 L-34,10", fill: Pharaoh_COL.headdress, stroke: Pharaoh_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M42,10 L42,55 L34,50 L34,10", fill: Pharaoh_COL.headdress, stroke: Pharaoh_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -38, y1: 20, x2: -38, y2: 48, stroke: Pharaoh_COL.headdressStripe, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 38, y1: 20, x2: 38, y2: 48, stroke: Pharaoh_COL.headdressStripe, strokeWidth: 2 })
] });
const PharaohEye = ({ blink, scaleY, pupilScale, px, py }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `scale(1, ${scaleY * blink})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-12,0 Q0,-9 12,0 Q0,7 -12,0 Z", fill: Pharaoh_COL.eyeWhite, stroke: Pharaoh_COL.kohl, strokeWidth: 2.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M12,0 L18,-4", fill: "none", stroke: Pharaoh_COL.kohl, strokeWidth: 2, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px, cy: py, r: 4 * pupilScale, fill: Pharaoh_COL.iris }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px, cy: py, r: 2.2 * pupilScale, fill: Pharaoh_COL.pupil }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px + 1.5, cy: py - 1.5, r: 1.2, fill: "white", opacity: 0.8 })
] });
const PharaohMouth = ({ shape, curve, width, emotionOpen, talking }) => {
  const talkOpen = talking ? [0, 3, 6, 10][shape] : emotionOpen * 10;
  const openAmount = Math.max(talkOpen, emotionOpen * 10);
  const hw = 11 * width;
  if (openAmount < 1) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${-hw},26 Q0,${26 + curve} ${hw},26`,
        fill: "none",
        stroke: Pharaoh_COL.outline,
        strokeWidth: 2.5,
        strokeLinecap: "round"
      }
    );
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(0, 26)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 0,
        cy: 0,
        rx: hw,
        ry: openAmount * 0.5,
        fill: Pharaoh_COL.mouth,
        stroke: Pharaoh_COL.outline,
        strokeWidth: 2.5
      }
    ),
    openAmount > 6 && /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 2, cy: openAmount * 0.25, rx: hw * 0.5, ry: openAmount * 0.2, fill: Pharaoh_COL.tongue }),
    openAmount > 3 && /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -hw * 0.6, y: -openAmount * 0.35, width: hw * 1.2, height: 2.5, fill: "white", rx: 1 })
  ] });
};
/* harmony default export */ const characters_Pharaoh = ((/* unused pure expression or super */ null && (Pharaoh)));

;// ./src/characters/Worker.tsx







const Worker_COL = {
  skin: "#B07840",
  skinShadow: "#8B5E30",
  outline: "#1A1A1A",
  hair: "#2A1A0A",
  hairDark: "#1A0E05",
  loincloth: "#F0E8D8",
  loinclothShadow: "#D8D0C0",
  headband: "#F0E8D8",
  headbandStripe: "#CC3333",
  rope: "#A08050",
  ropeDark: "#806838",
  mallet: "#8B6B4A",
  malletHead: "#6B5030",
  malletBand: "#A08050",
  sandal: "#8B6B4A",
  sandalStrap: "#6B5030",
  eyeWhite: "#FFFFFF",
  iris: "#3A2510",
  pupil: "#1A1A1A",
  mouth: "#6B2020",
  tongue: "#AA4444",
  blush: "#C08060",
  shine: "rgba(255,255,255,0.4)"
};
const Worker_SW = 3.5;
const Worker = ({
  emotion = "neutral",
  previousEmotion = "neutral",
  emotionTransitionProgress = 1,
  talking = false,
  scale = 1
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const idle = getIdleState(frame);
  const mouthShape = getMouthShape(frame, talking);
  const talkBounce = getTalkingBounce(frame, talking);
  const talkGesture = getTalkingGesture(frame, talking);
  const emo = (0,react.useMemo)(
    () => interpolateEmotions(previousEmotion, emotion, emotionTransitionProgress),
    [previousEmotion, emotion, emotionTransitionProgress]
  );
  const bodyY = idle.breathing.y + talkBounce;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "svg",
    {
      viewBox: "-130 -200 260 400",
      width: 260 * scale,
      height: 400 * scale,
      style: { overflow: "visible" },
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${idle.sway.x}, ${bodyY}) rotate(${idle.sway.rotation})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(WorkerLegs, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `scale(${idle.breathing.scaleX}, 1)`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(WorkerBody, {}) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(WorkerLeftArm, { gestureRotation: talkGesture }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(WorkerRightArm, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(0, -105) rotate(${emo.headTilt})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(WorkerHead, { emo, blink: idle.blink, pupil: idle.pupil, mouthShape, talking }) })
      ] })
    }
  );
};
const WorkerLegs = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-20,70 L-24,130 L-10,130 L-8,75 Z",
      fill: Worker_COL.skin,
      stroke: Worker_COL.outline,
      strokeWidth: Worker_SW
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M20,70 L24,130 L10,130 L8,75 Z",
      fill: Worker_COL.skin,
      stroke: Worker_COL.outline,
      strokeWidth: Worker_SW
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -17, y1: 85, x2: -16, y2: 110, stroke: Worker_COL.skinShadow, strokeWidth: 1.2, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 17, y1: 85, x2: 16, y2: 110, stroke: Worker_COL.skinShadow, strokeWidth: 1.2, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-19,105 Q-16,108 -13,105", fill: "none", stroke: Worker_COL.skinShadow, strokeWidth: 1, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M19,105 Q16,108 13,105", fill: "none", stroke: Worker_COL.skinShadow, strokeWidth: 1, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -20, cy: 133, rx: 16, ry: 6, fill: Worker_COL.sandal, stroke: Worker_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 20, cy: 133, rx: 16, ry: 6, fill: Worker_COL.sandal, stroke: Worker_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -20, y1: 128, x2: -14, y2: 133, stroke: Worker_COL.sandalStrap, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -20, y1: 128, x2: -26, y2: 133, stroke: Worker_COL.sandalStrap, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 20, y1: 128, x2: 14, y2: 133, stroke: Worker_COL.sandalStrap, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 20, y1: 128, x2: 26, y2: 133, stroke: Worker_COL.sandalStrap, strokeWidth: 1.5 })
] });
const WorkerBody = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-48,-38 Q-48,-45 -34,-45 L34,-45 Q48,-45 48,-38 L46,45 Q46,75 0,78 Q-46,75 -46,45 Z",
      fill: Worker_COL.skin,
      stroke: Worker_COL.outline,
      strokeWidth: Worker_SW
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-30,-28 Q-18,-20 -6,-28", fill: "none", stroke: Worker_COL.skinShadow, strokeWidth: 1.5, opacity: 0.35 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M30,-28 Q18,-20 6,-28", fill: "none", stroke: Worker_COL.skinShadow, strokeWidth: 1.5, opacity: 0.35 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -30, x2: 0, y2: 10, stroke: Worker_COL.skinShadow, strokeWidth: 1, opacity: 0.25 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -8, y1: 10, x2: -8, y2: 45, stroke: Worker_COL.skinShadow, strokeWidth: 1, opacity: 0.2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 8, y1: 10, x2: 8, y2: 45, stroke: Worker_COL.skinShadow, strokeWidth: 1, opacity: 0.2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-12,20 Q0,22 12,20", fill: "none", stroke: Worker_COL.skinShadow, strokeWidth: 0.8, opacity: 0.15 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-12,32 Q0,34 12,32", fill: "none", stroke: Worker_COL.skinShadow, strokeWidth: 0.8, opacity: 0.15 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-38,48 L-42,80 Q-40,85 0,88 Q40,85 42,80 L38,48 Z",
      fill: Worker_COL.loincloth,
      stroke: Worker_COL.outline,
      strokeWidth: Worker_SW
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -10, y1: 52, x2: -14, y2: 82, stroke: Worker_COL.loinclothShadow, strokeWidth: 1.5, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 10, y1: 52, x2: 14, y2: 82, stroke: Worker_COL.loinclothShadow, strokeWidth: 1.5, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 50, x2: 0, y2: 84, stroke: Worker_COL.loinclothShadow, strokeWidth: 1, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -40, y: 46, width: 80, height: 8, rx: 3, fill: Worker_COL.loincloth, stroke: Worker_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-5,50 L-8,64 L0,60 L8,64 L5,50", fill: Worker_COL.loincloth, stroke: Worker_COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M32,-36 Q28,-30 20,-18 Q10,-4 6,10 Q2,22 -4,34",
      fill: "none",
      stroke: Worker_COL.rope,
      strokeWidth: 6,
      strokeLinecap: "round",
      opacity: 0.9
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M34,-34 Q30,-28 22,-16 Q12,-2 8,12 Q4,24 -2,36",
      fill: "none",
      stroke: Worker_COL.ropeDark,
      strokeWidth: 2,
      strokeLinecap: "round",
      opacity: 0.3
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M28,-28 L24,-24", fill: "none", stroke: Worker_COL.ropeDark, strokeWidth: 1, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M18,-12 L14,-8", fill: "none", stroke: Worker_COL.ropeDark, strokeWidth: 1, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M10,4 L6,8", fill: "none", stroke: Worker_COL.ropeDark, strokeWidth: 1, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -12, y: -50, width: 24, height: 12, fill: Worker_COL.skin, stroke: Worker_COL.outline, strokeWidth: Worker_SW })
] });
const WorkerLeftArm = ({ gestureRotation }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(-48, -20) rotate(${-10 + gestureRotation}, 0, 0)`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -16, y2: 36, stroke: Worker_COL.skin, strokeWidth: 14, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -16, y2: 36, stroke: Worker_COL.outline, strokeWidth: 16, strokeLinecap: "round", opacity: 0.12 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -4, y1: 8, x2: -8, y2: 22, stroke: Worker_COL.skinShadow, strokeWidth: 1.2, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(-16, 36)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -6, y2: 28, stroke: Worker_COL.skin, strokeWidth: 9, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -6, y2: 28, stroke: Worker_COL.outline, strokeWidth: 11, strokeLinecap: "round", opacity: 0.12 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -8, cy: 32, r: 8, fill: Worker_COL.skin, stroke: Worker_COL.outline, strokeWidth: Worker_SW }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -8, y1: 24, x2: -8, y2: -8, stroke: Worker_COL.mallet, strokeWidth: 4, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -20, y: -18, width: 24, height: 14, rx: 3, fill: Worker_COL.malletHead, stroke: Worker_COL.outline, strokeWidth: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -18, y: -14, width: 20, height: 3, rx: 1, fill: Worker_COL.malletBand, opacity: 0.5 })
  ] })
] });
const WorkerRightArm = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(48, -20)", children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 14, y2: 36, stroke: Worker_COL.skin, strokeWidth: 14, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 14, y2: 36, stroke: Worker_COL.outline, strokeWidth: 16, strokeLinecap: "round", opacity: 0.12 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 4, y1: 8, x2: 8, y2: 22, stroke: Worker_COL.skinShadow, strokeWidth: 1.2, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(14, 36)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 4, y2: 28, stroke: Worker_COL.skin, strokeWidth: 9, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 4, y2: 28, stroke: Worker_COL.outline, strokeWidth: 11, strokeLinecap: "round", opacity: 0.12 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 6, cy: 32, r: 8, fill: Worker_COL.skin, stroke: Worker_COL.outline, strokeWidth: Worker_SW }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M6,28 Q10,40 6,50 Q2,58 8,64", fill: "none", stroke: Worker_COL.rope, strokeWidth: 3.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M8,28 Q12,42 8,52 Q4,60 10,66", fill: "none", stroke: Worker_COL.ropeDark, strokeWidth: 1, strokeLinecap: "round", opacity: 0.3 })
  ] })
] });
const WorkerHead = ({ emo, blink, pupil, mouthShape, talking }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-38,0 Q-44,-10 -40,-25 Q-36,-38 -28,-42 Q-18,-48 0,-50 Q18,-48 28,-42 Q36,-38 40,-25 Q44,-10 38,0\n         L36,5 Q18,8 0,8 Q-18,8 -36,5 Z",
      fill: Worker_COL.hair,
      stroke: Worker_COL.outline,
      strokeWidth: 2.5
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 4, rx: 42, ry: 46, fill: Worker_COL.skin, stroke: Worker_COL.outline, strokeWidth: Worker_SW }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-28,-32 Q-22,-46 -10,-48 Q0,-50 10,-48 Q22,-46 28,-32\n         L24,-34 Q14,-44 0,-44 Q-14,-44 -24,-34 Z",
      fill: Worker_COL.hair,
      stroke: Worker_COL.outline,
      strokeWidth: 2
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-12,-44 Q-6,-48 0,-44", fill: "none", stroke: Worker_COL.hairDark, strokeWidth: 1.2, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M4,-44 Q10,-48 16,-42", fill: "none", stroke: Worker_COL.hairDark, strokeWidth: 1.2, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-40,-18 Q-42,-22 -38,-26 Q-20,-36 0,-38 Q20,-36 38,-26 Q42,-22 40,-18\n         Q20,-28 0,-30 Q-20,-28 -40,-18 Z",
      fill: Worker_COL.headband,
      stroke: Worker_COL.outline,
      strokeWidth: 2
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-39,-20 Q-20,-30 0,-32 Q20,-30 39,-20\n         Q20,-28 0,-30 Q-20,-28 -39,-20 Z",
      fill: Worker_COL.headbandStripe,
      opacity: 0.8
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -40, cy: 8, rx: 7, ry: 11, fill: Worker_COL.skin, stroke: Worker_COL.outline, strokeWidth: 2.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 40, cy: 8, rx: 7, ry: 11, fill: Worker_COL.skin, stroke: Worker_COL.outline, strokeWidth: 2.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-40,3 Q-37,8 -40,13", fill: "none", stroke: Worker_COL.skinShadow, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M40,3 Q37,8 40,13", fill: "none", stroke: Worker_COL.skinShadow, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(-15, ${2 + emo.eyeOffsetY})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(WorkerEye, { blink, scaleY: emo.eyeScaleY, pupilScale: emo.pupilScale, px: pupil.x, py: pupil.y }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(15, ${2 + emo.eyeOffsetY})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(WorkerEye, { blink, scaleY: emo.eyeScaleY, pupilScale: emo.pupilScale, px: pupil.x, py: pupil.y }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(-15, ${-12 + emo.browLeftY}) rotate(${emo.browLeftRotation})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -10, y: 0, width: 20, height: 4.5, rx: 2, fill: Worker_COL.hair }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(15, ${-12 + emo.browRightY}) rotate(${emo.browRightRotation})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -10, y: 0, width: 20, height: 4.5, rx: 2, fill: Worker_COL.hair }) }),
  emo.blushOpacity > 0.01 && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -24, cy: 18, rx: 7, ry: 4, fill: Worker_COL.blush, opacity: emo.blushOpacity }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 24, cy: 18, rx: 7, ry: 4, fill: Worker_COL.blush, opacity: emo.blushOpacity })
  ] }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,10 Q0,20 4,10", fill: "none", stroke: Worker_COL.outline, strokeWidth: 2.2, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -3, cy: 14, r: 2.5, fill: Worker_COL.skinShadow, opacity: 0.15 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 3, cy: 14, r: 2.5, fill: Worker_COL.skinShadow, opacity: 0.15 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-28,30 Q0,48 28,30", fill: "none", stroke: Worker_COL.skinShadow, strokeWidth: 1, opacity: 0.15 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    WorkerMouth,
    {
      shape: mouthShape,
      curve: emo.mouthCurve,
      width: emo.mouthWidth,
      emotionOpen: emo.mouthOpen,
      talking
    }
  )
] });
const WorkerEye = ({ blink, scaleY, pupilScale, px, py }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `scale(1, ${scaleY * blink})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 9, ry: 7, fill: Worker_COL.eyeWhite, stroke: Worker_COL.outline, strokeWidth: 1.8 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px, cy: py, r: 4.2 * pupilScale, fill: Worker_COL.iris }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px, cy: py, r: 2.3 * pupilScale, fill: Worker_COL.pupil }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px + 1.5, cy: py - 1.5, r: 1.3, fill: "white", opacity: 0.8 })
] });
const WorkerMouth = ({ shape, curve, width, emotionOpen, talking }) => {
  const talkOpen = talking ? [0, 3, 7, 11][shape] : emotionOpen * 10;
  const openAmount = Math.max(talkOpen, emotionOpen * 10);
  const hw = 12 * width;
  if (openAmount < 1) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${-hw},28 Q0,${28 + curve} ${hw},28`,
        fill: "none",
        stroke: Worker_COL.outline,
        strokeWidth: 2.5,
        strokeLinecap: "round"
      }
    );
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(0, 28)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 0,
        cy: 0,
        rx: hw,
        ry: openAmount * 0.5 + Math.abs(curve) * 0.2,
        fill: Worker_COL.mouth,
        stroke: Worker_COL.outline,
        strokeWidth: 2.5
      }
    ),
    openAmount > 6 && /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 2, cy: openAmount * 0.25, rx: hw * 0.5, ry: openAmount * 0.2, fill: Worker_COL.tongue }),
    openAmount > 3 && /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -hw * 0.6, y: -openAmount * 0.35, width: hw * 1.2, height: 2.5, fill: "white", rx: 1 })
  ] });
};
/* harmony default export */ const characters_Worker = ((/* unused pure expression or super */ null && (Worker)));

;// ./src/backgrounds/Pub.tsx





const C = {
  // Walls
  wall: "#3D2B1F",
  wallDeep: "#2E1F14",
  wallAccent: "#4A3628",
  wallMolding: "#5C3A20",
  wallMoldingHi: "#7A5030",
  wallPanelDark: "#2A1C12",
  wallPanelMid: "#3A2818",
  wallPanelLight: "#4E3622",
  wallPanelEdge: "#5A402A",
  wainscot: "#3E2A1A",
  wainscotGroove: "#2C1C10",
  wainscotCap: "#5C3E28",
  crownMolding: "#6B4A32",
  crownMoldingHi: "#8A6444",
  // Ceiling
  ceiling: "#2A1C12",
  ceilingBeam: "#3E2818",
  ceilingBeamHi: "#5A3E28",
  ceilingBeamShadow: "#1E1008",
  // Floor
  floor: "#5C3A1E",
  floorDark: "#4A2E14",
  floorLight: "#6E4A2A",
  floorGrain: "#3E2410",
  floorWorn: "#6B4828",
  floorStain: "rgba(30,15,5,0.3)",
  floorShine: "rgba(255,200,120,0.06)",
  // Bar
  bar: "#6B3A2A",
  barTop: "#8B5A3A",
  barTopShine: "rgba(255,220,160,0.15)",
  barTopReflect: "rgba(255,200,120,0.08)",
  barFront: "#5C2E1E",
  barTrim: "#7A4A32",
  barPanel: "#4E2518",
  barPanelGroove: "#3A1A0E",
  barPanelMolding: "#6A3E28",
  barEdge: "#8B5A3A",
  barFootRail: "#B8924A",
  barFootRailHi: "#D4AA5E",
  barFootRailShadow: "#8A6E3A",
  // Shelves & bottles
  shelf: "#5C3218",
  shelfFront: "#6B3A20",
  shelfBracket: "#4A2812",
  bottleGreen: "#1A4A28",
  bottleGreenDk: "#0E3018",
  bottleBrown: "#5A3218",
  bottleBrownDk: "#3E2210",
  bottleAmber: "#8A5A1E",
  bottleAmberDk: "#6A4418",
  bottleClear: "rgba(200,220,240,0.4)",
  bottleRed: "#6A1E1E",
  bottleRedDk: "#4A1010",
  bottleBlue: "#1E2E5A",
  bottleLabel: "#E8DCC8",
  bottleLabelDk: "#C4B8A4",
  bottleCap: "#888888",
  liquidAmber: "rgba(200,140,40,0.5)",
  liquidRed: "rgba(140,20,20,0.4)",
  liquidGreen: "rgba(40,100,40,0.3)",
  // Glass
  glass: "rgba(200,220,240,0.35)",
  glassThin: "rgba(200,220,240,0.2)",
  glassShine: "rgba(255,255,255,0.25)",
  glassHighlight: "rgba(255,255,255,0.4)",
  glassRim: "rgba(255,255,255,0.15)",
  beerGold: "rgba(220,170,40,0.6)",
  beerFoam: "rgba(255,248,230,0.85)",
  beerDark: "rgba(60,30,10,0.5)",
  whiskey: "rgba(180,100,20,0.5)",
  // Brass
  brass: "#B8924A",
  brassHi: "#D4AA5E",
  brassDk: "#8A6E3A",
  brassShadow: "#6A5028",
  brassPatina: "rgba(80,110,60,0.15)",
  // Stool
  stool: "#3A2010",
  stoolSeat: "#6B4528",
  stoolSeatHi: "#7E5634",
  stoolLeather: "#5A3820",
  stoolMetal: "#888888",
  stoolMetalDk: "#666666",
  // Chalkboard
  chalkboard: "#2A3A2A",
  chalkboardDk: "#1E2E1E",
  chalkFrame: "#4A2A1A",
  chalkFrameHi: "#5E3A24",
  chalk: "#E8E8D8",
  chalkDust: "rgba(232,232,216,0.15)",
  // Lamps
  lampShade: "#B8890F",
  lampShadeHi: "#D4A020",
  lampShadeDk: "#8A6608",
  lampChain: "#5A5A5A",
  lampChainHi: "#7A7A7A",
  lampBulb: "#FFF4D6",
  lampBulbCore: "#FFFFFF",
  // Taps
  tapBase: "#444444",
  tapBaseDk: "#2A2A2A",
  tapHandle: "#C0C0C0",
  tapHandleHi: "#E0E0E0",
  tapAccent1: "#2D5016",
  tapAccent2: "#8B0000",
  tapAccent3: "#D4A012",
  tapAccent4: "#1A3A6A",
  // Fireplace
  fireBrick: "#6A3A2A",
  fireBrickDk: "#4A2218",
  fireBrickMortar: "#5A4838",
  fireMantel: "#5A3218",
  fireMantelHi: "#7A4A2A",
  fireOrange: "#FF8C20",
  fireYellow: "#FFD040",
  fireRed: "#CC3300",
  fireCoreWhite: "#FFE8A0",
  fireEmber: "#FF4400",
  fireLog: "#3A1E0A",
  fireLogHi: "#5A3218",
  fireAsh: "#8A8078",
  fireGlow: "rgba(255,140,30,",
  // Candle
  candleWax: "#E8DCC0",
  candleWick: "#2A1A0A",
  candleFlame: "#FFD040",
  candleFlameTip: "#FF8C20",
  candleFlameCore: "#FFF8E0",
  candleGlow: "rgba(255,200,80,",
  candleHolder: "#888870",
  candleHolderBrass: "#A08840",
  // Dartboard
  dartRed: "#CC2200",
  dartGreen: "#1A5A28",
  dartBlack: "#1A1A1A",
  dartCream: "#E8DCC0",
  dartWire: "#AAAAAA",
  dartBoard: "#C4A878",
  // Paintings
  paintFrame: "#8A6A30",
  paintFrameInner: "#6A4E20",
  paintFrameHi: "#B08A40",
  paintCanvas: "#3A3028",
  // Fabric
  curtain: "#5A1E1E",
  curtainDk: "#3E1010",
  curtainFold: "#7A2828",
  // Warm light
  warmGlow: "rgba(255,200,100,",
  warmGlowFire: "rgba(255,140,50,",
  ambientWarm: "rgba(255,180,80,0.08)",
  ambientDark: "rgba(0,0,0,0.15)",
  // General
  outline: "#1A1A1A",
  outlineSoft: "#2A1A0A",
  shadow: "rgba(0,0,0,0.25)",
  shadowDeep: "rgba(0,0,0,0.4)",
  vignetteEdge: "rgba(10,5,0,0.6)",
  vignetteMid: "rgba(10,5,0,0.2)",
  smoke: "rgba(180,160,130,",
  dustMote: "rgba(255,220,160,0.3)"
};
const GlassShelf = ({
  x,
  y,
  variant = 0
}) => {
  const bottles = [
    { bx: 15, color: C.bottleGreen, dk: C.bottleGreenDk, h: 52, w: 12, label: true },
    { bx: 42, color: C.bottleBrown, dk: C.bottleBrownDk, h: 48, w: 11, label: true },
    { bx: 68, color: C.bottleAmber, dk: C.bottleAmberDk, h: 55, w: 13, label: false },
    { bx: 95, color: C.bottleRed, dk: C.bottleRedDk, h: 44, w: 10, label: true },
    { bx: 118, color: C.bottleGreen, dk: C.bottleGreenDk, h: 50, w: 12, label: false },
    { bx: 145, color: C.bottleClear, dk: "rgba(160,180,200,0.3)", h: 46, w: 10, label: true },
    { bx: 170, color: C.bottleBrown, dk: C.bottleBrownDk, h: 53, w: 12, label: true },
    { bx: 198, color: C.bottleBlue, dk: "#142248", h: 42, w: 11, label: false },
    { bx: 222, color: C.bottleAmber, dk: C.bottleAmberDk, h: 50, w: 12, label: true },
    { bx: 250, color: C.bottleRed, dk: C.bottleRedDk, h: 47, w: 11, label: true },
    { bx: 275, color: C.bottleGreen, dk: C.bottleGreenDk, h: 51, w: 12, label: false }
  ];
  const shiftedBottles = variant === 0 ? bottles : bottles.slice(variant % 3).concat(bottles.slice(0, variant % 3));
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-2,58 L-2,72 L12,72", fill: "none", stroke: C.shelfBracket, strokeWidth: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M302,58 L302,72 L288,72", fill: "none", stroke: C.shelfBracket, strokeWidth: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: 55, width: 310, height: 12, rx: 1, fill: C.shelf, stroke: C.outlineSoft, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: 55, width: 310, height: 3, fill: C.shelfFront, opacity: 0.6 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: 64, width: 310, height: 3, fill: C.shelfBracket, opacity: 0.4 }),
    shiftedBottles.map((b, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${b.bx}, ${55 - b.h})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -b.w / 2,
          y: b.h * 0.2,
          width: b.w,
          height: b.h * 0.8,
          rx: 2,
          fill: b.color,
          stroke: C.outlineSoft,
          strokeWidth: 1
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -b.w / 4,
          y: 0,
          width: b.w / 2,
          height: b.h * 0.25,
          rx: 1.5,
          fill: b.dk,
          stroke: C.outlineSoft,
          strokeWidth: 0.8
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -b.w / 4 - 1,
          y: -2,
          width: b.w / 2 + 2,
          height: 4,
          rx: 1,
          fill: C.bottleCap,
          opacity: 0.7
        }
      ),
      b.label && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -b.w / 2 + 2,
          y: b.h * 0.4,
          width: b.w - 4,
          height: b.h * 0.25,
          rx: 1,
          fill: C.bottleLabel,
          opacity: 0.7
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: -b.w / 4,
          y1: b.h * 0.25,
          x2: -b.w / 4,
          y2: b.h * 0.9,
          stroke: C.glassShine,
          strokeWidth: 0.8,
          opacity: 0.5
        }
      )
    ] }, `bottle-${i}`))
  ] });
};
const Pub_PintGlass = ({
  x,
  y,
  filled = true
}) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-10,0 L-8,-44 L8,-44 L10,0 Z", fill: C.glass, stroke: C.outlineSoft, strokeWidth: 1.5 }),
  filled && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-9,-2 L-8,-38 L8,-38 L9,-2 Z", fill: C.beerGold }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -38, rx: 8, ry: 4, fill: C.beerFoam }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -3, cy: -39, rx: 2, ry: 1.5, fill: "white", opacity: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 3, cy: -37, rx: 1.5, ry: 1, fill: "white", opacity: 0.2 })
  ] }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -6, y1: -40, x2: -5, y2: -4, stroke: C.glassShine, strokeWidth: 1.2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 6, y1: -38, x2: 5.5, y2: -6, stroke: C.glassHighlight, strokeWidth: 0.6, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -44, rx: 8.5, ry: 2, fill: "none", stroke: C.glassRim, strokeWidth: 0.8 })
] });
const WineGlass = ({
  x,
  y,
  hasWine = false
}) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -30, rx: 9, ry: 14, fill: C.glassThin, stroke: C.outlineSoft, strokeWidth: 1.2 }),
  hasWine && /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -26, rx: 7, ry: 8, fill: C.liquidRed }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -16, x2: 0, y2: -2, stroke: C.outlineSoft, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 8, ry: 2.5, fill: C.glassThin, stroke: C.outlineSoft, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -4, y1: -38, x2: -3, y2: -22, stroke: C.glassShine, strokeWidth: 0.8 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 3, cy: -30, rx: 2, ry: 5, fill: C.glassHighlight, opacity: 0.15 })
] });
const Tumbler = ({
  x,
  y,
  hasLiquid = false
}) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-8,0 L-7,-26 L7,-26 L8,0 Z", fill: C.glassThin, stroke: C.outlineSoft, strokeWidth: 1.2 }),
  hasLiquid && /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-7,-2 L-6.5,-14 L6.5,-14 L7,-2 Z", fill: C.whiskey }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -8, y: -3, width: 16, height: 3, rx: 1, fill: C.glass, opacity: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -5, y1: -22, x2: -4, y2: -4, stroke: C.glassShine, strokeWidth: 0.8 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -24, x2: -2, y2: -4, stroke: C.glassRim, strokeWidth: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: -24, x2: 2, y2: -4, stroke: C.glassRim, strokeWidth: 0.4 })
] });
const WhiskeyBottle = ({
  x,
  y,
  color = C.bottleAmber,
  labelText = ""
}) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -14, y: -55, width: 28, height: 55, rx: 3, fill: color, stroke: C.outlineSoft, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-14,-55 L-14,-60 Q-14,-68 -7,-68 L7,-68 Q14,-68 14,-60 L14,-55", fill: color, stroke: C.outlineSoft, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -6, y: -82, width: 12, height: 14, rx: 2, fill: color, stroke: C.outlineSoft, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -7, y: -86, width: 14, height: 5, rx: 2, fill: C.bottleCap, stroke: C.outlineSoft, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -11, y: -42, width: 22, height: 20, rx: 1, fill: C.bottleLabel, opacity: 0.8 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -9, y: -40, width: 18, height: 2, fill: C.bottleLabelDk, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -7, y: -35, width: 14, height: 1.5, fill: C.bottleLabelDk, opacity: 0.3 }),
  labelText && /* @__PURE__ */ (0,jsx_runtime.jsx)("text", { x: 0, y: -30, textAnchor: "middle", fontSize: 5, fill: C.outlineSoft, fontFamily: "serif", children: labelText }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -12, y: -20, width: 24, height: 20, rx: 2, fill: C.liquidAmber, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -10, y1: -52, x2: -10, y2: -5, stroke: C.glassShine, strokeWidth: 1, opacity: 0.4 })
] });
const BeerTap = ({
  x,
  y,
  color,
  badgeText = ""
}) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -6, y: -55, width: 12, height: 48, rx: 3, fill: C.tapHandle, stroke: C.outlineSoft, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: -52, width: 2, height: 42, fill: C.tapHandleHi, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: -74, width: 10, height: 24, rx: 5, fill: color, stroke: C.outlineSoft, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -76, r: 7, fill: color, stroke: C.outlineSoft, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -76, r: 4, fill: "rgba(255,255,255,0.15)" }),
  badgeText && /* @__PURE__ */ (0,jsx_runtime.jsx)("text", { x: 0, y: -60, textAnchor: "middle", fontSize: 4, fill: "white", fontWeight: "bold", children: badgeText }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -1, cy: -64, r: 2.5, fill: "rgba(255,255,255,0.2)" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,-7 L-3,-3 L3,-3 L4,-7", fill: C.tapHandle, stroke: C.outlineSoft, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -3, rx: 3.5, ry: 1.5, fill: C.tapBaseDk })
] });
const BeerTapGroup = ({ x, y }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -85, y: -14, width: 170, height: 16, rx: 4, fill: C.tapBase, stroke: C.outlineSoft, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -83, y: -12, width: 166, height: 4, fill: C.tapBaseDk, opacity: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -75, y: 2, width: 150, height: 10, rx: 2, fill: C.tapBase, stroke: C.outlineSoft, strokeWidth: 1.5, opacity: 0.7 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -70, y: 4, width: 140, height: 6, rx: 1, fill: C.tapBaseDk, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(BeerTap, { x: -48, y: -14, color: C.tapAccent1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(BeerTap, { x: 0, y: -14, color: C.tapAccent2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(BeerTap, { x: 48, y: -14, color: C.tapAccent3 })
] });
const BarStool = ({
  x,
  y,
  angle = 0
}) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) rotate(${angle})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -10, rx: 40, ry: 14, fill: C.stoolSeat, stroke: C.outlineSoft, strokeWidth: 2.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -8, cy: -14, rx: 20, ry: 6, fill: C.stoolSeatHi, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -10, rx: 32, ry: 10, fill: "none", stroke: C.stoolLeather, strokeWidth: 0.8, strokeDasharray: "4,3", opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -6, rx: 38, ry: 10, fill: "none", stroke: C.shadow, strokeWidth: 1.5, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -6, y: 2, width: 12, height: 72, rx: 3, fill: C.stool, stroke: C.outlineSoft, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -4, y: 6, width: 3, height: 64, rx: 1.5, fill: C.stoolSeat, opacity: 0.15 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 50, rx: 24, ry: 7, fill: "none", stroke: C.stoolMetal, strokeWidth: 4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 49, rx: 24, ry: 7, fill: "none", stroke: C.stoolMetalDk, strokeWidth: 1, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -6, y1: 74, x2: -30, y2: 98, stroke: C.stool, strokeWidth: 5, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 6, y1: 74, x2: 30, y2: 98, stroke: C.stool, strokeWidth: 5, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 74, x2: 0, y2: 102, stroke: C.stool, strokeWidth: 5, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 74, x2: -15, y2: 100, stroke: C.stool, strokeWidth: 4, strokeLinecap: "round", opacity: 0.6 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 74, x2: 15, y2: 100, stroke: C.stool, strokeWidth: 4, strokeLinecap: "round", opacity: 0.6 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -30, cy: 99, r: 4.5, fill: C.stoolMetal, opacity: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 30, cy: 99, r: 4.5, fill: C.stoolMetal, opacity: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 103, r: 4.5, fill: C.stoolMetal, opacity: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -15, cy: 101, r: 3.5, fill: C.stoolMetal, opacity: 0.35 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 15, cy: 101, r: 3.5, fill: C.stoolMetal, opacity: 0.35 })
] });
const HangingLamp = ({
  x,
  sway,
  glowPulse
}) => {
  const glowOp = 0.1 + glowPulse * 0.03;
  const innerGlowOp = 0.15 + glowPulse * 0.04;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, 0)`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: sway * 0.3, y2: 30, stroke: C.lampChain, strokeWidth: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: sway * 0.15, cy: 15, r: 2, fill: "none", stroke: C.lampChainHi, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: sway * 0.3, y1: 30, x2: sway * 0.6, y2: 60, stroke: C.lampChain, strokeWidth: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: sway * 0.45, cy: 45, r: 2, fill: "none", stroke: C.lampChainHi, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: sway * 0.6, y1: 60, x2: sway * 0.85, y2: 90, stroke: C.lampChain, strokeWidth: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: sway * 0.72, cy: 75, r: 2, fill: "none", stroke: C.lampChainHi, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: sway * 0.85, y1: 90, x2: sway, y2: 110, stroke: C.lampChain, strokeWidth: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${sway}, 110)`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 18, r: 80, fill: `${C.warmGlow}${glowOp})` }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 12, r: 45, fill: `${C.warmGlow}${innerGlowOp})` }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-38,0 L-26,-34 Q-26,-38 -22,-38 L22,-38 Q26,-38 26,-34 L38,0 Z",
          fill: C.lampShade,
          stroke: C.outlineSoft,
          strokeWidth: 2.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-36,0 L-25,-32 L25,-32 L36,0 Z", fill: C.lampShadeDk, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-20,-32 L-14,-6", stroke: C.lampShadeHi, strokeWidth: 2, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -38, y1: 0, x2: 38, y2: 0, stroke: C.lampShade, strokeWidth: 3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -36, y1: 1, x2: 36, y2: 1, stroke: C.lampShadeDk, strokeWidth: 1, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 6, rx: 9, ry: 7, fill: C.lampBulb, opacity: 0.9 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 5, rx: 5, ry: 4, fill: C.lampBulbCore, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -38, r: 6, fill: C.brass, stroke: C.outlineSoft, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -2, cy: -40, r: 2, fill: C.brassHi, opacity: 0.4 })
    ] })
  ] });
};
const Fireplace = ({ x, y, frame }) => {
  const fire1 = sineWave(frame, 0.4, 0) * 6;
  const fire2 = sineWave(frame, 0.55, 1.3) * 5;
  const fire3 = sineWave(frame, 0.35, 2.7) * 7;
  const fire4 = sineWave(frame, 0.6, 0.8) * 4;
  const emberGlow = 0.5 + sineWave(frame, 0.25) * 0.2;
  const glowSize = 120 + sineWave(frame, 0.2) * 10;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 75, cy: 20, r: glowSize, fill: `${C.fireGlow}0.06)` }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 75, cy: 0, r: 80, fill: `${C.fireGlow}0.04)` }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -20, y: -25, width: 190, height: 18, rx: 3, fill: C.fireMantel, stroke: C.outlineSoft, strokeWidth: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -18, y: -24, width: 186, height: 6, fill: C.fireMantelHi, opacity: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -12, y: -7, width: 16, height: 24, rx: 2, fill: C.fireMantel, stroke: C.outlineSoft, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 146, y: -7, width: 16, height: 24, rx: 2, fill: C.fireMantel, stroke: C.outlineSoft, strokeWidth: 1.5 }),
    Array.from({ length: 8 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Fragment, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 17 + i * 18,
        width: 18,
        height: 16,
        rx: 1,
        fill: i % 2 === 0 ? C.fireBrick : C.fireBrickDk,
        stroke: C.fireBrickMortar,
        strokeWidth: 1
      }
    ) }, `lb-${i}`)),
    Array.from({ length: 8 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Fragment, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 132,
        y: 17 + i * 18,
        width: 18,
        height: 16,
        rx: 1,
        fill: i % 2 === 0 ? C.fireBrickDk : C.fireBrick,
        stroke: C.fireBrickMortar,
        strokeWidth: 1
      }
    ) }, `rb-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M18,17 Q75,-10 132,17", fill: "none", stroke: C.fireBrickMortar, strokeWidth: 18 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M18,17 Q75,-10 132,17", fill: "none", stroke: C.fireBrick, strokeWidth: 14 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 68, y: -2, width: 14, height: 18, rx: 1, fill: C.fireBrickDk, stroke: C.fireBrickMortar, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 18, y: 17, width: 114, height: 144, fill: "#0A0604" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 20, y: 19, width: 110, height: 80, fill: `${C.fireGlow}0.08)` }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 50, cy: 148, rx: 22, ry: 7, fill: C.fireLog, stroke: C.outlineSoft, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 48, cy: 146, rx: 20, ry: 5, fill: C.fireLogHi, opacity: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 100, cy: 150, rx: 20, ry: 6, fill: C.fireLog, stroke: C.outlineSoft, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 75, cy: 145, rx: 18, ry: 5, fill: C.fireLog, stroke: C.outlineSoft, strokeWidth: 1, transform: "rotate(-15, 75, 145)" }),
    [40, 55, 68, 82, 95, 108].map((ex, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "circle",
      {
        cx: ex,
        cy: 152 + i % 2 * 3,
        r: 2,
        fill: C.fireEmber,
        opacity: emberGlow + i % 3 * 0.1
      },
      `ember-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 75, cy: 158, rx: 50, ry: 4, fill: C.fireAsh, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M45,${148 + fire1} Q55,${90 + fire2} 65,${148 + fire3}`,
        fill: C.fireRed,
        opacity: 0.7
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M60,${150 + fire2} Q72,${85 + fire1} 85,${148 + fire4}`,
        fill: C.fireRed,
        opacity: 0.6
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M80,${148 + fire3} Q92,${95 + fire4} 105,${150 + fire1}`,
        fill: C.fireRed,
        opacity: 0.65
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M50,${148 + fire2} Q60,${100 + fire3} 72,${148 + fire1}`,
        fill: C.fireOrange,
        opacity: 0.8
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M65,${150 + fire4} Q75,${95 + fire1} 88,${148 + fire2}`,
        fill: C.fireOrange,
        opacity: 0.75
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M85,${148 + fire1} Q95,${105 + fire2} 105,${150 + fire3}`,
        fill: C.fireOrange,
        opacity: 0.7
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M55,${148 + fire3} Q65,${108 + fire4} 75,${148 + fire2}`,
        fill: C.fireYellow,
        opacity: 0.85
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M70,${150 + fire1} Q80,${105 + fire3} 92,${148 + fire4}`,
        fill: C.fireYellow,
        opacity: 0.8
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M62,${148 + fire4} Q70,${115 + fire1} 80,${150 + fire2}`,
        fill: C.fireCoreWhite,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: 161, width: 160, height: 12, rx: 2, fill: C.fireBrick, stroke: C.outlineSoft, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -3, y: 162, width: 156, height: 4, fill: C.fireBrickDk, opacity: 0.4 })
  ] });
};
const Dartboard = ({ x, y }) => {
  const segments = 20;
  const segAngle = 360 / segments;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -52, y: -52, width: 104, height: 104, rx: 4, fill: C.dartBoard, stroke: C.outlineSoft, strokeWidth: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 48, fill: C.dartBlack }),
    Array.from({ length: segments }, (_, i) => {
      const startAngle = (i * segAngle - 90 - segAngle / 2) * (Math.PI / 180);
      const endAngle = ((i + 1) * segAngle - 90 - segAngle / 2) * (Math.PI / 180);
      const outerR = 44;
      const midR = 28;
      const innerR = 16;
      const isEven = i % 2 === 0;
      const ox1 = Math.cos(startAngle) * outerR;
      const oy1 = Math.sin(startAngle) * outerR;
      const ox2 = Math.cos(endAngle) * outerR;
      const oy2 = Math.sin(endAngle) * outerR;
      const mx1 = Math.cos(startAngle) * midR;
      const my1 = Math.sin(startAngle) * midR;
      const mx2 = Math.cos(endAngle) * midR;
      const my2 = Math.sin(endAngle) * midR;
      const ix1 = Math.cos(startAngle) * innerR;
      const iy1 = Math.sin(startAngle) * innerR;
      const ix2 = Math.cos(endAngle) * innerR;
      const iy2 = Math.sin(endAngle) * innerR;
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)(react.Fragment, { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M${mx1},${my1} L${ox1},${oy1} A${outerR},${outerR} 0 0,1 ${ox2},${oy2} L${mx2},${my2} A${midR},${midR} 0 0,0 ${mx1},${my1}`,
            fill: isEven ? C.dartRed : C.dartGreen,
            opacity: 0.85
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M${ix1},${iy1} L${mx1},${my1} A${midR},${midR} 0 0,1 ${mx2},${my2} L${ix2},${iy2} A${innerR},${innerR} 0 0,0 ${ix1},${iy1}`,
            fill: isEven ? C.dartCream : C.dartBlack,
            opacity: 0.85
          }
        )
      ] }, `dart-${i}`);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 34, fill: "none", stroke: C.dartWire, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 44, fill: "none", stroke: C.dartWire, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 6, fill: C.dartGreen, stroke: C.dartWire, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 2.5, fill: C.dartRed, stroke: C.dartWire, strokeWidth: 0.5 }),
    Array.from({ length: segments }, (_, i) => {
      const angle = (i * segAngle - 90) * (Math.PI / 180);
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 0,
          y1: 0,
          x2: Math.cos(angle) * 46,
          y2: Math.sin(angle) * 46,
          stroke: C.dartWire,
          strokeWidth: 0.5,
          opacity: 0.6
        },
        `wire-${i}`
      );
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 48, fill: "none", stroke: C.dartWire, strokeWidth: 1 })
  ] });
};
const OldPainting = ({ x, y, w, h, variant }) => {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: -6,
        y: -6,
        width: w + 12,
        height: h + 12,
        rx: 2,
        fill: C.paintFrame,
        stroke: C.outlineSoft,
        strokeWidth: 2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -5, y1: -5, x2: w + 5, y2: -5, stroke: C.paintFrameHi, strokeWidth: 2, opacity: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -5, y1: -5, x2: -5, y2: h + 5, stroke: C.paintFrameHi, strokeWidth: 1.5, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: -2,
        y: -2,
        width: w + 4,
        height: h + 4,
        rx: 1,
        fill: C.paintFrameInner,
        stroke: C.outlineSoft,
        strokeWidth: 1
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: w, height: h, fill: C.paintCanvas }),
    variant === 0 && // Landscape - rolling hills
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: w, height: h * 0.4, fill: "#2A3848" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M0,${h * 0.5} Q${w * 0.25},${h * 0.3} ${w * 0.5},${h * 0.45} Q${w * 0.75},${h * 0.35} ${w},${h * 0.5} L${w},${h} L0,${h} Z`,
          fill: "#3A5028",
          opacity: 0.8
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M0,${h * 0.6} Q${w * 0.3},${h * 0.5} ${w * 0.6},${h * 0.58} Q${w * 0.8},${h * 0.52} ${w},${h * 0.6} L${w},${h} L0,${h} Z`,
          fill: "#4A6038",
          opacity: 0.7
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: w * 0.8, cy: h * 0.2, r: 8, fill: "#D4A040", opacity: 0.6 })
    ] }),
    variant === 1 && // Portrait - shadowed face
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: w, height: h, fill: "#2A2018" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: w / 2, cy: h * 0.38, rx: w * 0.2, ry: h * 0.22, fill: "#C4A080", opacity: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: w / 2, cy: h * 0.6, rx: w * 0.3, ry: h * 0.3, fill: "#3A2818", opacity: 0.7 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: w * 0.35, y: h * 0.15, width: w * 0.3, height: h * 0.12, rx: 2, fill: "#4A3020", opacity: 0.5 })
    ] }),
    variant === 2 && // Still life - bowl and bottle
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: w, height: h, fill: "#1E1810" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: w * 0.35, cy: h * 0.65, rx: w * 0.2, ry: h * 0.12, fill: "#6A4A2A", opacity: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: w * 0.6, y: h * 0.25, width: w * 0.12, height: h * 0.45, rx: 2, fill: "#2A4A28", opacity: 0.7 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: w * 0.35, cy: h * 0.55, r: 4, fill: "#8A2020", opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: w * 0.4, cy: h * 0.58, r: 3, fill: "#8A8020", opacity: 0.4 })
    ] }),
    variant === 3 && // Seascape
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: w, height: h * 0.5, fill: "#1A2A3A" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: h * 0.5, width: w, height: h * 0.5, fill: "#2A3A4A" }),
      [0.2, 0.4, 0.6, 0.8].map((p, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 0,
          y1: h * (0.5 + p * 0.4),
          x2: w,
          y2: h * (0.52 + p * 0.38),
          stroke: "#4A5A6A",
          strokeWidth: 1,
          opacity: 0.4
        },
        `wave-${i}`
      )),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${w * 0.5},${h * 0.3} L${w * 0.52},${h * 0.55} L${w * 0.48},${h * 0.55} Z`,
          fill: "#E8E0D0",
          opacity: 0.5
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: w, height: h, fill: "rgba(60,40,20,0.25)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 2, y: h + 2, width: w + 8, height: 3, fill: C.shadow, opacity: 0.3 })
  ] });
};
const BrassFixture = ({
  x,
  y,
  type
}) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  type === "hook" && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 5, fill: C.brass, stroke: C.outlineSoft, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,5 Q0,16 -8,20 Q-14,22 -14,16", fill: "none", stroke: C.brass, strokeWidth: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -1, cy: -1, r: 2, fill: C.brassHi, opacity: 0.4 })
  ] }),
  type === "ring" && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 3, fill: C.brass, stroke: C.outlineSoft, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 12, r: 8, fill: "none", stroke: C.brass, strokeWidth: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -3, cy: 9, r: 2, fill: C.brassHi, opacity: 0.3 })
  ] }),
  type === "plate" && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -10, y: -6, width: 20, height: 12, rx: 3, fill: C.brass, stroke: C.outlineSoft, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -7, y: -3, width: 14, height: 6, rx: 2, fill: C.brassDk, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -6, y: -4, width: 5, height: 3, rx: 1, fill: C.brassHi, opacity: 0.3 })
  ] })
] });
const CandleHolder = ({ x, y, frame, phase = 0 }) => {
  const flicker = sineWave(frame, 0.6, phase) * 2;
  const flickerSide = sineWave(frame, 0.45, phase + 1.5) * 1.5;
  const glowPulse = 0.12 + sineWave(frame, 0.3, phase) * 0.04;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -28, r: 35, fill: `${C.candleGlow}${glowPulse})` }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -28, r: 18, fill: `${C.candleGlow}${glowPulse + 0.05})` }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 10, ry: 3, fill: C.candleHolderBrass, stroke: C.outlineSoft, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -8, y: -5, width: 16, height: 5, rx: 1, fill: C.candleHolder, stroke: C.outlineSoft, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -5, rx: 9, ry: 3, fill: C.candleHolderBrass, stroke: C.outlineSoft, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -4, y: -24, width: 8, height: 19, rx: 1, fill: C.candleWax, stroke: C.outlineSoft, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-24 Q-4,-22 -5,-18 Q-5,-15 -4,-14", fill: C.candleWax, stroke: "none" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M3,-24 Q4.5,-20 4,-17", fill: C.candleWax, stroke: "none" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -24, x2: flickerSide * 0.3, y2: -28, stroke: C.candleWick, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: flickerSide * 0.5,
        cy: -32 + flicker * 0.3,
        rx: 3 + Math.abs(flickerSide) * 0.3,
        ry: 6 + flicker * 0.3,
        fill: C.candleFlame,
        opacity: 0.85
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: flickerSide * 0.3,
        cy: -34 + flicker * 0.2,
        rx: 1.5,
        ry: 3.5,
        fill: C.candleFlameCore,
        opacity: 0.7
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: flickerSide * 0.6,
        cy: -36 + flicker * 0.4,
        rx: 1.5,
        ry: 2.5,
        fill: C.candleFlameTip,
        opacity: 0.6
      }
    )
  ] });
};
const WoodBeam = ({ x1, y1, x2, y2, thickness }) => {
  const dx = x2 - x1;
  const dy = y2 - y1;
  const len = Math.sqrt(dx * dx + dy * dy);
  const angle = Math.atan2(dy, dx) * (180 / Math.PI);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x1}, ${y1}) rotate(${angle})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: -thickness / 2,
        width: len,
        height: thickness,
        rx: 2,
        fill: C.ceilingBeam,
        stroke: C.outlineSoft,
        strokeWidth: 1.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 2,
        y: -thickness / 2,
        width: len - 4,
        height: thickness * 0.25,
        fill: C.ceilingBeamHi,
        opacity: 0.2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: thickness * 0.25,
        width: len,
        height: thickness * 0.25,
        fill: C.ceilingBeamShadow,
        opacity: 0.3
      }
    ),
    Array.from({ length: Math.floor(len / 40) }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: 20 + i * 40,
        y1: -thickness / 2 + 3,
        x2: 25 + i * 40,
        y2: thickness / 2 - 3,
        stroke: C.ceilingBeamShadow,
        strokeWidth: 0.7,
        opacity: 0.25
      },
      `grain-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: len * 0.3, cy: 0, r: 3, fill: C.ceilingBeamShadow, opacity: 0.2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: len * 0.7, cy: -2, r: 2.5, fill: C.ceilingBeamShadow, opacity: 0.15 })
  ] });
};
const HangingGlassRack = ({
  x,
  y,
  count
}) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: count * 28 + 10, height: 4, rx: 1, fill: C.ceilingBeam, stroke: C.outlineSoft, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 18, width: count * 28 + 10, height: 4, rx: 1, fill: C.ceilingBeam, stroke: C.outlineSoft, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 2, y: 0, width: 4, height: 22, fill: C.ceilingBeam, opacity: 0.8 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: count * 28 + 4, y: 0, width: 4, height: 22, fill: C.ceilingBeam, opacity: 0.8 }),
  Array.from({ length: count }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${14 + i * 28}, 22)`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 7, ry: 2, fill: C.glassThin, stroke: C.outlineSoft, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 2, x2: 0, y2: 14, stroke: C.outlineSoft, strokeWidth: 1.2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 22, rx: 8, ry: 10, fill: C.glassThin, stroke: C.outlineSoft, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 32, rx: 8, ry: 2, fill: C.glassRim }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -4, y1: 16, x2: -3, y2: 28, stroke: C.glassShine, strokeWidth: 0.6 })
  ] }, `hg-${i}`))
] });
const Pub = ({
  boardText = "",
  width = 1920,
  height = 1080
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const lampSway1 = sineWave(frame, 0.08) * 2.5;
  const lampSway2 = sineWave(frame, 0.11, 1.2) * 2;
  const lampSway3 = sineWave(frame, 0.09, 2.5) * 2.2;
  const lampSway4 = sineWave(frame, 0.1, 0.7) * 1.8;
  const glowPulse1 = sineWave(frame, 0.15);
  const glowPulse2 = sineWave(frame, 0.12, 1);
  const glowPulse3 = sineWave(frame, 0.18, 2);
  const glowPulse4 = sineWave(frame, 0.14, 0.5);
  const smokeDrift = sineWave(frame, 0.04) * 15;
  const smokeRise = frame * 0.3 % 200;
  const ambientPulse = 0.08 + sineWave(frame, 0.06) * 0.02;
  const reflectionShimmer = sineWave(frame, 0.2, 0.5) * 0.03;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("svg", { viewBox: `0 0 ${width} ${height}`, width, height, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("defs", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "pub-ambient", cx: "50%", cy: "40%", r: "70%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: `rgba(255,180,80,${ambientPulse})` }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "60%", stopColor: "rgba(255,150,60,0.03)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "pub-fire-glow", cx: "8%", cy: "55%", r: "30%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: `${C.warmGlowFire}0.1)` }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "50%", stopColor: `${C.warmGlowFire}0.04)` }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "pub-bartop", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: C.barEdge }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "30%", stopColor: C.barTop }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: C.bar })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "pub-barfront", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: C.barTrim }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "40%", stopColor: C.barFront }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: C.barPanel })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "pub-floor", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: C.floor }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "60%", stopColor: C.floorDark }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: C.floorGrain })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "pub-wallpanel", x1: "0%", y1: "0%", x2: "100%", y2: "0%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: C.wallPanelDark }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "50%", stopColor: C.wallPanelMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: C.wallPanelDark })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "pub-ceiling", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: C.ceiling }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: C.wallDeep })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "pub-vignette", cx: "50%", cy: "45%", r: "65%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(0,0,0,0)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "70%", stopColor: C.vignetteMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: C.vignetteEdge })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "pub-bartop-reflect", x1: "0%", y1: "0%", x2: "100%", y2: "0%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: `rgba(255,200,120,${0.04 + reflectionShimmer})` }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "50%", stopColor: `rgba(255,220,160,${0.1 + reflectionShimmer})` }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: `rgba(255,200,120,${0.04 + reflectionShimmer})` })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "pub-smoke", cx: "50%", cy: "30%", r: "50%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: `${C.smoke}0.06)` }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: `${C.smoke}0)` })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("pattern", { id: "pub-woodgrain", x: "0", y: "0", width: "60", height: "8", patternUnits: "userSpaceOnUse", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "0", y1: "2", x2: "60", y2: "2.5", stroke: C.floorGrain, strokeWidth: "0.5", opacity: "0.2" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "0", y1: "5", x2: "60", y2: "5.3", stroke: C.floorGrain, strokeWidth: "0.3", opacity: "0.15" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "0", y1: "7", x2: "60", y2: "6.8", stroke: C.floorGrain, strokeWidth: "0.4", opacity: "0.1" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "pub-crown", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: C.crownMoldingHi }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "50%", stopColor: C.crownMolding }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: C.wallMolding })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "pub-brassrail", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: C.brassHi }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "40%", stopColor: C.brass }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: C.brassDk })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height: height * 0.12, fill: "url(#pub-ceiling)" }),
    Array.from({ length: 14 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: i * 140 + 20,
        y1: 0,
        x2: i * 140 + 20,
        y2: height * 0.12,
        stroke: C.ceilingBeamShadow,
        strokeWidth: 0.8,
        opacity: 0.2
      },
      `ceil-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WoodBeam, { x1: 0, y1: height * 0.04, x2: width, y2: height * 0.04, thickness: 22 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WoodBeam, { x1: 0, y1: height * 0.1, x2: width, y2: height * 0.1, thickness: 26 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WoodBeam, { x1: 320, y1: 0, x2: 320, y2: height * 0.12, thickness: 18 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WoodBeam, { x1: 800, y1: 0, x2: 800, y2: height * 0.12, thickness: 18 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WoodBeam, { x1: 1120, y1: 0, x2: 1120, y2: height * 0.12, thickness: 18 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WoodBeam, { x1: 1600, y1: 0, x2: 1600, y2: height * 0.12, thickness: 18 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.1, width, height: height * 0.62, fill: C.wall }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.1, width, height: height * 0.22, fill: C.wallAccent, opacity: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.1, width, height: 8, fill: "url(#pub-crown)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.1, width, height: 2, fill: C.crownMoldingHi, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.107, width, height: 3, fill: C.crownMolding, opacity: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.38, width, height: height * 0.34, fill: C.wainscot, opacity: 0.6 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.375, width, height: 6, fill: C.wainscotCap }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.375, width, height: 2, fill: C.wallMoldingHi, opacity: 0.3 }),
    Array.from({ length: 11 }, (_, i) => {
      const panelX = 30 + i * 175;
      const panelY = height * 0.4;
      const panelW = 150;
      const panelH = height * 0.3;
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)(react.Fragment, { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: panelX,
            y: panelY,
            width: panelW,
            height: panelH,
            rx: 3,
            fill: "url(#pub-wallpanel)",
            stroke: C.wainscotGroove,
            strokeWidth: 1.5
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: panelX + 6,
            y: panelY + 6,
            width: panelW - 12,
            height: panelH - 12,
            rx: 2,
            fill: "none",
            stroke: C.wallPanelEdge,
            strokeWidth: 0.8,
            opacity: 0.3
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: panelX + 15,
            y1: panelY + 10,
            x2: panelX + 15,
            y2: panelY + panelH - 10,
            stroke: C.wallPanelDark,
            strokeWidth: 0.5,
            opacity: 0.15
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: panelX + panelW - 15,
            y1: panelY + 12,
            x2: panelX + panelW - 15,
            y2: panelY + panelH - 8,
            stroke: C.wallPanelDark,
            strokeWidth: 0.5,
            opacity: 0.12
          }
        )
      ] }, `wp-${i}`);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.1, width, height: height * 0.62, fill: "url(#pub-ambient)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height, fill: "url(#pub-fire-glow)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Fireplace, { x: 40, y: height * 0.24, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Dartboard, { x: 1800, y: height * 0.28 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 1800, cy: height * 0.28, r: 60, fill: `${C.warmGlow}0.05)` }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(OldPainting, { x: 300, y: height * 0.14, w: 100, h: 70, variant: 0 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(OldPainting, { x: 480, y: height * 0.16, w: 80, h: 60, variant: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(OldPainting, { x: 1350, y: height * 0.14, w: 110, h: 75, variant: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(OldPainting, { x: 1550, y: height * 0.17, w: 85, h: 55, variant: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(OldPainting, { x: 1680, y: height * 0.15, w: 70, h: 50, variant: 0 }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(620, ${height * 0.13})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -4, y: -4, width: 88, height: 68, rx: 2, fill: C.paintFrame, stroke: C.outlineSoft, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 80, height: 60, fill: "#D4C8A8" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M10,15 Q25,10 40,18 Q55,25 70,20", fill: "none", stroke: "#8A7A5A", strokeWidth: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M5,30 Q20,28 35,32 Q50,38 75,30", fill: "none", stroke: "#8A7A5A", strokeWidth: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M15,42 Q30,38 50,44 Q65,48 72,42", fill: "none", stroke: "#8A7A5A", strokeWidth: 0.7 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 40, cy: 25, r: 2, fill: "#8A0000", opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 80, height: 60, fill: "rgba(60,40,20,0.15)" })
    ] }),
    [
      { px: 1490, py: height * 0.35, pw: 40, ph: 50 },
      { px: 1545, py: height * 0.33, pw: 35, ph: 45 }
    ].map((p, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${p.px}, ${p.py})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -3,
          y: -3,
          width: p.pw + 6,
          height: p.ph + 6,
          rx: 1,
          fill: C.paintFrame,
          stroke: C.outlineSoft,
          strokeWidth: 1
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: p.pw, height: p.ph, fill: "#2A2218" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: p.pw / 2, cy: p.ph * 0.35, rx: 6, ry: 7, fill: "#9A8A70", opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: p.pw, height: p.ph, fill: "rgba(40,30,15,0.3)" })
    ] }, `photo-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BrassFixture, { x: 260, y: height * 0.32, type: "hook" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BrassFixture, { x: 560, y: height * 0.34, type: "ring" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BrassFixture, { x: 1300, y: height * 0.33, type: "plate" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BrassFixture, { x: 1620, y: height * 0.34, type: "hook" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BrassFixture, { x: 1760, y: height * 0.36, type: "ring" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(GlassShelf, { x: 60, y: height * 0.15, variant: 0 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(GlassShelf, { x: 60, y: height * 0.26, variant: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(GlassShelf, { x: 720, y: height * 0.15, variant: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(GlassShelf, { x: 720, y: height * 0.26, variant: 0 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(GlassShelf, { x: 1080, y: height * 0.15, variant: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(GlassShelf, { x: 1080, y: height * 0.26, variant: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(GlassShelf, { x: 1520, y: height * 0.15, variant: 0 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(GlassShelf, { x: 1520, y: height * 0.26, variant: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WhiskeyBottle, { x: 420, y: height * 0.36, color: C.bottleAmber }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WhiskeyBottle, { x: 460, y: height * 0.36, color: C.bottleBrown }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WhiskeyBottle, { x: 500, y: height * 0.36, color: C.bottleGreen }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WhiskeyBottle, { x: 1160, y: height * 0.36, color: C.bottleRed }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WhiskeyBottle, { x: 1200, y: height * 0.36, color: C.bottleAmber }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WhiskeyBottle, { x: 1240, y: height * 0.36, color: C.bottleBrown }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width / 2 - 240}, ${height * 0.13})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -16,
          y: -16,
          width: 512,
          height: 272,
          rx: 5,
          fill: C.chalkFrame,
          stroke: C.outlineSoft,
          strokeWidth: 3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -14,
          y: -14,
          width: 508,
          height: 268,
          rx: 4,
          fill: "none",
          stroke: C.chalkFrameHi,
          strokeWidth: 1.5,
          opacity: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -6,
          y: -6,
          width: 492,
          height: 252,
          rx: 2,
          fill: C.chalkFrameHi,
          stroke: C.outlineSoft,
          strokeWidth: 1,
          opacity: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 480, height: 240, fill: C.chalkboard }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 480, height: 240, fill: C.chalkboardDk, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 5, y: 5, width: 470, height: 230, fill: "rgba(255,255,255,0.015)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 10, y: 180, width: 460, height: 40, fill: C.chalkDust, opacity: 0.08 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 100, cy: 200, r: 20, fill: C.chalkDust, opacity: 0.05 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 350, cy: 210, r: 15, fill: C.chalkDust, opacity: 0.04 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -10,
          y: 240,
          width: 500,
          height: 16,
          rx: 3,
          fill: C.chalkFrame,
          stroke: C.outlineSoft,
          strokeWidth: 2
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -8, y: 241, width: 496, height: 6, fill: C.chalkFrameHi, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 40, y: 244, width: 32, height: 6, rx: 2, fill: C.chalk, opacity: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 85, y: 245, width: 20, height: 5, rx: 2, fill: "#FFD700", opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 120, y: 244, width: 15, height: 5, rx: 2, fill: "#FF6B6B", opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 380, y: 245, width: 25, height: 5, rx: 2, fill: C.chalk, opacity: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 430, y: 242, width: 35, height: 10, rx: 2, fill: "#6A5A4A", stroke: C.outlineSoft, strokeWidth: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 432, y: 243, width: 31, height: 4, fill: "#8A7A6A", opacity: 0.5 }),
      boardText && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "text",
        {
          x: 240,
          y: 130,
          textAnchor: "middle",
          fill: C.chalk,
          fontSize: 40,
          fontFamily: "'Courier New', monospace",
          fontWeight: "bold",
          opacity: 0.88,
          children: boardText
        }
      ),
      !boardText && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 40, y1: 40, x2: 440, y2: 40, stroke: C.chalk, strokeWidth: 1, opacity: 0.2, strokeDasharray: "8,4" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 40, y1: 120, x2: 440, y2: 120, stroke: C.chalk, strokeWidth: 0.8, opacity: 0.15, strokeDasharray: "6,5" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 40, y1: 200, x2: 440, y2: 200, stroke: C.chalk, strokeWidth: 0.8, opacity: 0.15, strokeDasharray: "6,5" })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(HangingGlassRack, { x: 200, y: height * 0.38, count: 8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(HangingGlassRack, { x: 580, y: height * 0.39, count: 6 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(HangingGlassRack, { x: 1100, y: height * 0.38, count: 7 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(HangingGlassRack, { x: 1450, y: height * 0.39, count: 5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.58,
        width,
        height: height * 0.16,
        fill: "url(#pub-barfront)",
        stroke: C.outlineSoft,
        strokeWidth: 2
      }
    ),
    Array.from({ length: 7 }, (_, i) => {
      const px = 100 + i * 260;
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)(react.Fragment, { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: px,
            y: height * 0.595,
            width: 200,
            height: height * 0.13,
            rx: 4,
            fill: "none",
            stroke: C.barPanelGroove,
            strokeWidth: 1.5,
            opacity: 0.5
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: px + 8,
            y: height * 0.605,
            width: 184,
            height: height * 0.11,
            rx: 3,
            fill: C.barPanel,
            stroke: C.barPanelGroove,
            strokeWidth: 0.8,
            opacity: 0.3
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: px + 14,
            y: height * 0.615,
            width: 172,
            height: height * 0.09,
            rx: 2,
            fill: "none",
            stroke: C.barPanelMolding,
            strokeWidth: 0.6,
            opacity: 0.25
          }
        )
      ] }, `bpanel-${i}`);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.575, width, height: 6, fill: C.barTrim, stroke: C.outlineSoft, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.55,
        width,
        height: 30,
        rx: 4,
        fill: "url(#pub-bartop)",
        stroke: C.outlineSoft,
        strokeWidth: 2.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 40,
        y: height * 0.555,
        width: width - 80,
        height: 10,
        rx: 5,
        fill: "url(#pub-bartop-reflect)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.55,
        width,
        height: 3,
        rx: 1,
        fill: C.barEdge,
        opacity: 0.3
      }
    ),
    [280, 520, 780, 1020, 1380, 1600].map((cx, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "circle",
      {
        cx,
        cy: height * 0.56,
        r: 14 + i % 3 * 2,
        fill: "none",
        stroke: C.floorStain,
        strokeWidth: 1,
        opacity: 0.15 + i % 2 * 0.05
      },
      `ring-${i}`
    )),
    [400, 900, 1250].map((cx, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)(react.Fragment, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: cx - 18,
          y: height * 0.555,
          width: 36,
          height: 36,
          rx: 3,
          fill: i % 2 === 0 ? "#4A3A2A" : "#3A2A1A",
          stroke: C.outlineSoft,
          strokeWidth: 0.8,
          opacity: 0.6
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: cx - 14,
          y: height * 0.56,
          width: 28,
          height: 28,
          rx: 2,
          fill: "none",
          stroke: "#6A5A4A",
          strokeWidth: 0.5,
          opacity: 0.4
        }
      )
    ] }, `coaster-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Pub_PintGlass, { x: 400, y: height * 0.555, filled: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Pub_PintGlass, { x: 920, y: height * 0.555, filled: false }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Tumbler, { x: 1260, y: height * 0.555, hasLiquid: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WineGlass, { x: 1500, y: height * 0.545, hasWine: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BeerTapGroup, { x: 300, y: height * 0.555 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BeerTapGroup, { x: 1640, y: height * 0.555 }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width / 2}, ${height * 0.555})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -25, y: -14, width: 50, height: 16, rx: 4, fill: C.tapBase, stroke: C.outlineSoft, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(BeerTap, { x: 0, y: -14, color: C.tapAccent4 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(CandleHolder, { x: 550, y: height * 0.555, frame, phase: 0 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(CandleHolder, { x: 1100, y: height * 0.555, frame, phase: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(CandleHolder, { x: 1400, y: height * 0.555, frame, phase: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 60,
        y: height * 0.725,
        width: width - 120,
        height: 8,
        rx: 4,
        fill: "url(#pub-brassrail)",
        stroke: C.outlineSoft,
        strokeWidth: 1
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 80,
        y: height * 0.726,
        width: width - 160,
        height: 2,
        rx: 1,
        fill: C.brassHi,
        opacity: 0.3
      }
    ),
    [180, 500, 820, 1140, 1460, 1740].map((sx, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)(react.Fragment, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: sx - 4,
          y: height * 0.72,
          width: 8,
          height: 14,
          rx: 2,
          fill: C.brass,
          stroke: C.outlineSoft,
          strokeWidth: 0.8
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: sx - 3, y: height * 0.721, width: 2, height: 12, fill: C.brassHi, opacity: 0.3 })
    ] }, `railsup-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.72,
        width,
        height: height * 0.28,
        fill: "url(#pub-floor)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.72,
        width,
        height: height * 0.28,
        fill: "url(#pub-woodgrain)",
        opacity: 0.4
      }
    ),
    Array.from({ length: 16 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: i * 130 + 30,
        y1: height * 0.72,
        x2: i * 130 + 30,
        y2: height,
        stroke: C.floorGrain,
        strokeWidth: 1.5,
        opacity: 0.25
      },
      `fp-${i}`
    )),
    [0.78, 0.84, 0.9, 0.96].map((r, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)(react.Fragment, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 0,
          y1: height * r,
          x2: width,
          y2: height * r,
          stroke: C.floorGrain,
          strokeWidth: 1,
          opacity: 0.2
        }
      ),
      Array.from({ length: 8 }, (_, j) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: j * 250 + i % 2 * 125 + 60,
          y1: height * r - 2,
          x2: j * 250 + i % 2 * 125 + 60,
          y2: height * r + 2,
          stroke: C.floorGrain,
          strokeWidth: 1,
          opacity: 0.15
        },
        `stagger-${i}-${j}`
      ))
    ] }, `fh-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.3,
        cy: height * 0.85,
        rx: 60,
        ry: 20,
        fill: C.floorWorn,
        opacity: 0.15
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.65,
        cy: height * 0.88,
        rx: 45,
        ry: 15,
        fill: C.floorWorn,
        opacity: 0.12
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.5,
        cy: height * 0.92,
        rx: 70,
        ry: 18,
        fill: C.floorWorn,
        opacity: 0.1
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 600, cy: height * 0.82, r: 12, fill: C.floorStain, opacity: 0.15 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 1200, cy: height * 0.9, r: 8, fill: C.floorStain, opacity: 0.12 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 350, cy: height * 0.95, r: 10, fill: C.floorStain, opacity: 0.1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 350, cy: height * 0.85, rx: 100, ry: 40, fill: C.floorShine }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 960, cy: height * 0.85, rx: 120, ry: 45, fill: C.floorShine }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 1570, cy: height * 0.85, rx: 100, ry: 40, fill: C.floorShine }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: width - 120, y: height - 8, width: 120, height: 8, fill: C.brass, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: width - 118, y: height - 7, width: 40, height: 3, fill: C.brassHi, opacity: 0.2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(250, ${height * 0.82})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 50, rx: 45, ry: 8, fill: C.shadowDeep, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 48, rx: 30, ry: 6, fill: C.stool, stroke: C.outlineSoft, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: 0, width: 10, height: 48, fill: C.stool, stroke: C.outlineSoft, strokeWidth: 1.2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 50, ry: 12, fill: C.bar, stroke: C.outlineSoft, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -10, cy: -2, rx: 25, ry: 5, fill: C.barTopShine }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(CandleHolder, { x: 10, y: -12, frame, phase: 4.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -30, y: -6, width: 22, height: 22, rx: 2, fill: "#4A3A2A", opacity: 0.5 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(1650, ${height * 0.84})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 45, rx: 40, ry: 7, fill: C.shadowDeep, opacity: 0.25 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 44, rx: 28, ry: 5, fill: C.stool, stroke: C.outlineSoft, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: 0, width: 10, height: 44, fill: C.stool, stroke: C.outlineSoft, strokeWidth: 1.2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 46, ry: 11, fill: C.bar, stroke: C.outlineSoft, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -8, cy: -2, rx: 22, ry: 4.5, fill: C.barTopShine }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(CandleHolder, { x: -5, y: -12, frame, phase: 6 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BarStool, { x: 450, y: height * 0.72, angle: -2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BarStool, { x: 720, y: height * 0.72, angle: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BarStool, { x: 1e3, y: height * 0.72, angle: -1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BarStool, { x: 1280, y: height * 0.72, angle: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BarStool, { x: 1520, y: height * 0.72, angle: -1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(HangingLamp, { x: 250, sway: lampSway1, glowPulse: glowPulse1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(HangingLamp, { x: 640, sway: lampSway2, glowPulse: glowPulse2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(HangingLamp, { x: 1060, sway: lampSway3, glowPulse: glowPulse3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(HangingLamp, { x: 1480, sway: lampSway4, glowPulse: glowPulse4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(HangingLamp, { x: 1800, sway: lampSway1 * 0.5, glowPulse: glowPulse1 * 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(0, ${height * 0.1})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 80, height: 5, fill: C.brass }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 80, cy: 2.5, r: 5, fill: C.brass }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M0,5 Q10,80 5,200 Q2,280 0,340 L40,340 Q45,280 42,200 Q48,80 38,5 Z",
          fill: C.curtain,
          stroke: C.outlineSoft,
          strokeWidth: 1
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M8,20 Q12,100 10,200 Q9,260 8,330",
          fill: "none",
          stroke: C.curtainFold,
          strokeWidth: 2,
          opacity: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M25,15 Q28,90 26,180 Q25,250 24,330",
          fill: "none",
          stroke: C.curtainDk,
          strokeWidth: 2,
          opacity: 0.25
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M40,5 Q42,80 41,200 Q40,280 40,340 L50,340 Q50,280 48,200 Q47,80 45,5 Z",
          fill: C.shadowDeep,
          opacity: 0.3
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.3 + smokeDrift,
        cy: height * 0.25 - smokeRise * 0.3,
        rx: 200,
        ry: 40,
        fill: `${C.smoke}0.03)`
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.6 - smokeDrift * 0.7,
        cy: height * 0.3 - smokeRise * 0.2,
        rx: 250,
        ry: 50,
        fill: `${C.smoke}0.025)`
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.8 + smokeDrift * 0.5,
        cy: height * 0.22 - smokeRise * 0.25,
        rx: 180,
        ry: 35,
        fill: `${C.smoke}0.02)`
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height: height * 0.5, fill: "url(#pub-smoke)" }),
    [
      { dx: 340, dy: 220, phase: 0 },
      { dx: 660, dy: 180, phase: 1.2 },
      { dx: 980, dy: 250, phase: 2.4 },
      { dx: 1100, dy: 200, phase: 3.6 },
      { dx: 1500, dy: 230, phase: 4.8 }
    ].map((mote, i) => {
      const moteY = mote.dy + sineWave(frame, 0.08, mote.phase) * 15;
      const moteX = mote.dx + sineWave(frame, 0.05, mote.phase + 1) * 8;
      const moteOp = 0.2 + sineWave(frame, 0.12, mote.phase) * 0.15;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: moteX,
          cy: moteY,
          r: 1.5,
          fill: C.dustMote,
          opacity: moteOp
        },
        `mote-${i}`
      );
    }),
    [250, 640, 1060, 1480].map((lx, i) => {
      const sw = [lampSway1, lampSway2, lampSway3, lampSway4][i];
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${lx + sw - 30},220 L${lx + sw - 120},${height * 0.72} L${lx + sw + 120},${height * 0.72} L${lx + sw + 30},220 Z`,
          fill: `${C.warmGlow}0.02)`
        },
        `cone-${i}`
      );
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height,
        fill: "rgba(255,180,100,0.02)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height,
        fill: "url(#pub-vignette)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height - 40,
        width,
        height: 40,
        fill: "rgba(10,5,0,0.2)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height: 30,
        fill: "rgba(10,5,0,0.3)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width: 40,
        height,
        fill: "rgba(10,5,0,0.15)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width - 40,
        y: 0,
        width: 40,
        height,
        fill: "rgba(10,5,0,0.15)"
      }
    )
  ] });
};
/* harmony default export */ const backgrounds_Pub = ((/* unused pure expression or super */ null && (Pub)));

;// ./src/backgrounds/Classroom.tsx




const Classroom_C = {
  wall: "#F5F0E1",
  wallShadow: "#E8E0D0",
  floor: "#C4A882",
  floorDark: "#A89070",
  board: "#2A5A3A",
  boardDark: "#1E4A2E",
  boardFrame: "#8B6B4A",
  boardFrameDark: "#6B4B2A",
  chalk: "#F0F0E0",
  chalkDust: "rgba(240,240,220,0.3)",
  desk: "#A0784A",
  deskDark: "#886838",
  deskTop: "#B8905A",
  window: "#B8D8F0",
  windowFrame: "#E0D8C8",
  windowFrameDark: "#C0B8A0",
  curtain: "#8B2020",
  curtainDark: "#6B1010",
  light: "#FFFDE8",
  lightFixture: "#C0C0C0",
  trim: "#D8D0C0",
  bookRed: "#A02020",
  bookBlue: "#2040A0",
  bookGreen: "#206020",
  bookYellow: "#C0A020",
  outline: "#1A1A1A",
  clock: "#F8F0E0",
  clockFrame: "#6B4B2A"
};
const Classroom = ({
  boardText = "",
  width = 1920,
  height = 1080
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const clockSecond = frame / 30 % 60;
  const clockAngle = clockSecond * 6;
  const lightFlicker = 1 + sineWave(frame, 0.08) * 0.02;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("svg", { viewBox: `0 0 ${width} ${height}`, width, height, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("defs", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "cls-floor", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: Classroom_C.floor }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: Classroom_C.floorDark })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "cls-light", cx: "50%", cy: "20%", r: "65%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(255,253,232,0.12)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "cls-board", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: Classroom_C.board }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: Classroom_C.boardDark })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height: height * 0.75, fill: Classroom_C.wall }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.55, width, height: height * 0.2, fill: Classroom_C.wallShadow }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.55, width, height: 3, fill: Classroom_C.trim }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.73, width, height: 4, fill: Classroom_C.trim }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height, fill: "url(#cls-light)", opacity: lightFlicker }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width / 2 - 350}, 60)`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -16, y: -16, width: 732, height: 332, rx: 4, fill: Classroom_C.boardFrameDark, stroke: Classroom_C.outline, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -10, y: -10, width: 720, height: 320, rx: 3, fill: Classroom_C.boardFrame, stroke: Classroom_C.outline, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 700, height: 300, fill: "url(#cls-board)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 20, y: 20, width: 660, height: 260, fill: Classroom_C.chalkDust, opacity: 0.08 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -8, y: 300, width: 716, height: 18, rx: 3, fill: Classroom_C.boardFrame, stroke: Classroom_C.outline, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 40, y: 304, width: 35, height: 7, rx: 3, fill: Classroom_C.chalk, opacity: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 90, y: 305, width: 25, height: 6, rx: 3, fill: "#FFD700", opacity: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 130, y: 304, width: 30, height: 7, rx: 3, fill: "#FF8888", opacity: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 620, y: 302, width: 50, height: 12, rx: 2, fill: "#888", stroke: Classroom_C.outline, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 622, y: 304, width: 46, height: 4, rx: 1, fill: "#666" }),
      boardText && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "text",
        {
          x: 350,
          y: 165,
          textAnchor: "middle",
          fill: Classroom_C.chalk,
          fontSize: 48,
          fontFamily: "'Courier New', monospace",
          fontWeight: "bold",
          opacity: 0.9,
          children: boardText
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ClassroomWindow, { x: 80, y: 80, w: 200, h: 280 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ClassroomWindow, { x: width - 280, y: 80, w: 200, h: 280 }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width / 2 + 420}, 100)`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 32, fill: Classroom_C.clock, stroke: Classroom_C.clockFrame, strokeWidth: 4 }),
      Array.from({ length: 12 }, (_, i) => {
        const angle = (i * 30 - 90) * (Math.PI / 180);
        const x1 = Math.cos(angle) * 24;
        const y1 = Math.sin(angle) * 24;
        const x2 = Math.cos(angle) * 28;
        const y2 = Math.sin(angle) * 28;
        return /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1, y1, x2, y2, stroke: Classroom_C.outline, strokeWidth: 2 }, `h-${i}`);
      }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -10, y2: -18, stroke: Classroom_C.outline, strokeWidth: 2.5, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 12, y2: -8, stroke: Classroom_C.outline, strokeWidth: 3, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 0,
          y1: 0,
          x2: Math.cos((clockAngle - 90) * Math.PI / 180) * 22,
          y2: Math.sin((clockAngle - 90) * Math.PI / 180) * 22,
          stroke: "#CC0000",
          strokeWidth: 1,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 3, fill: Classroom_C.outline })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.75, width, height: height * 0.25, fill: "url(#cls-floor)" }),
    Array.from({ length: 10 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: i * 210 + 30,
        y1: height * 0.75,
        x2: i * 210 + 30,
        y2: height,
        stroke: Classroom_C.floorDark,
        strokeWidth: 1.5,
        opacity: 0.2
      },
      `ftv-${i}`
    )),
    [0.85, 0.95].map((r, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: 0,
        y1: height * r,
        x2: width,
        y2: height * r,
        stroke: Classroom_C.floorDark,
        strokeWidth: 1,
        opacity: 0.15
      },
      `fth-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width / 2 - 200}, ${height * 0.6})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 30, width: 400, height: 100, rx: 4, fill: Classroom_C.desk, stroke: Classroom_C.outline, strokeWidth: 2.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 10, y: 40, width: 180, height: 80, rx: 3, fill: Classroom_C.deskDark, stroke: Classroom_C.outline, strokeWidth: 1.5, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 210, y: 40, width: 180, height: 80, rx: 3, fill: Classroom_C.deskDark, stroke: Classroom_C.outline, strokeWidth: 1.5, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -10, y: 20, width: 420, height: 16, rx: 3, fill: Classroom_C.deskTop, stroke: Classroom_C.outline, strokeWidth: 2.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 22, width: 400, height: 6, rx: 2, fill: "rgba(255,255,255,0.06)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 10, y: 125, width: 12, height: 45, fill: Classroom_C.desk, stroke: Classroom_C.outline, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 378, y: 125, width: 12, height: 45, fill: Classroom_C.desk, stroke: Classroom_C.outline, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 320, y: 8, width: 50, height: 8, rx: 1, fill: Classroom_C.bookRed, stroke: Classroom_C.outline, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 322, y: 1, width: 46, height: 8, rx: 1, fill: Classroom_C.bookBlue, stroke: Classroom_C.outline, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 324, y: -5, width: 42, height: 7, rx: 1, fill: Classroom_C.bookGreen, stroke: Classroom_C.outline, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 355, cy: -14, r: 8, fill: "#CC3333", stroke: Classroom_C.outline, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M355,-22 Q358,-28 360,-24", fill: "#2D5016", stroke: Classroom_C.outline, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 352, cy: -17, r: 2, fill: "rgba(255,255,255,0.25)" })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(FluorescentLight, { x: width * 0.25, y: 0, w: 200 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(FluorescentLight, { x: width * 0.75, y: 0, w: 200 }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(20, 400)", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 45, height: 170, fill: Classroom_C.desk, stroke: Classroom_C.outline, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -2, y: 0, width: 49, height: 4, fill: Classroom_C.deskTop }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -2, y: 55, width: 49, height: 4, fill: Classroom_C.deskTop }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -2, y: 110, width: 49, height: 4, fill: Classroom_C.deskTop }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -2, y: 166, width: 49, height: 4, fill: Classroom_C.deskTop }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 5, y: 8, width: 8, height: 44, rx: 1, fill: Classroom_C.bookRed }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 15, y: 12, width: 7, height: 40, rx: 1, fill: Classroom_C.bookBlue }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 24, y: 10, width: 8, height: 42, rx: 1, fill: Classroom_C.bookYellow }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 34, y: 14, width: 6, height: 38, rx: 1, fill: Classroom_C.bookGreen }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 5, y: 63, width: 7, height: 44, rx: 1, fill: Classroom_C.bookBlue }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 14, y: 65, width: 8, height: 42, rx: 1, fill: Classroom_C.bookGreen }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 24, y: 60, width: 7, height: 47, rx: 1, fill: Classroom_C.bookRed })
    ] })
  ] });
};
const ClassroomWindow = ({ x, y, w, h }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -6, y: -6, width: w + 12, height: h + 12, rx: 3, fill: "rgba(0,0,0,0.08)" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -4, y: -4, width: w + 8, height: h + 8, rx: 2, fill: Classroom_C.windowFrame, stroke: Classroom_C.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: w, height: h, fill: Classroom_C.window }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: w / 2, y1: 0, x2: w / 2, y2: h, stroke: Classroom_C.windowFrameDark, strokeWidth: 4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: h / 2, x2: w, y2: h / 2, stroke: Classroom_C.windowFrameDark, strokeWidth: 4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: w, height: h * 0.5, fill: "rgba(255,255,255,0.15)" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: w * 0.3, cy: h * 0.25, rx: 30, ry: 12, fill: "rgba(255,255,255,0.4)" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: w * 0.7, cy: h * 0.35, rx: 22, ry: 9, fill: "rgba(255,255,255,0.3)" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M-2,0 Q${-15},${h * 0.3} -8,${h} L-2,${h} Z`,
      fill: Classroom_C.curtain,
      stroke: Classroom_C.outline,
      strokeWidth: 1.5,
      opacity: 0.85
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: `M-5,20 Q-12,${h * 0.4} -7,${h * 0.6}`, fill: "none", stroke: Classroom_C.curtainDark, strokeWidth: 1, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M${w + 2},0 Q${w + 15},${h * 0.3} ${w + 8},${h} L${w + 2},${h} Z`,
      fill: Classroom_C.curtain,
      stroke: Classroom_C.outline,
      strokeWidth: 1.5,
      opacity: 0.85
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -8, y: h + 2, width: w + 16, height: 10, rx: 2, fill: Classroom_C.windowFrame, stroke: Classroom_C.outline, strokeWidth: 1.5 })
] });
const FluorescentLight = ({ x, y, w }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x - w / 2}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: w, height: 12, rx: 3, fill: Classroom_C.lightFixture, stroke: Classroom_C.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 10, y: 10, width: w - 20, height: 6, rx: 2, fill: Classroom_C.light, opacity: 0.9 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: w / 2, cy: 20, rx: w * 0.6, ry: 30, fill: "rgba(255,253,232,0.06)" })
] });
/* harmony default export */ const backgrounds_Classroom = ((/* unused pure expression or super */ null && (Classroom)));

;// ./src/crowds/CrowdWorkers.tsx




const SKIN = "#C4986A";
const SKIN_DARK = "#A07848";
const LOINCLOTH = "#E8D8B8";
const LOINCLOTH_ALT = "#D4B888";
const HEADBAND = "#C86040";
const HEADBAND_ALT = "#D4A040";
const STONE = "#B8906A";
const ROPE = "#9B8968";
const WOOD = "#8B5E3C";
const OUTLINE = "#1A1A1A";
const StonePuller = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const pullCycle = sineWave(frame, 0.18, seed);
  const bodyLean = pullCycle * 3;
  const armPull = pullCycle * 6;
  const legStride = pullCycle * 4;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 12, ry: 3, fill: "rgba(0,0,0,0.15)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -2, y1: -8, x2: -6 - legStride, y2: 2, stroke: SKIN_DARK, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 2, y1: -8, x2: 8 + legStride, y2: 2, stroke: SKIN, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -8, x2: 6 + bodyLean, y2: -22, stroke: SKIN, strokeWidth: 4, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 8 + bodyLean, cy: -25, r: 4, fill: SKIN, stroke: OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 5 + bodyLean, y1: -26, x2: 11 + bodyLean, y2: -26, stroke: HEADBAND, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: `M-3,-10 L3,-10 L4,-6 L-4,-6 Z`, fill: LOINCLOTH, stroke: OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 6 + bodyLean, y1: -20, x2: 18 + armPull, y2: -16, stroke: SKIN, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 6 + bodyLean, y1: -18, x2: 16 + armPull, y2: -14, stroke: SKIN_DARK, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 18 + armPull, y1: -16, x2: 35, y2: -14, stroke: ROPE, strokeWidth: 1.5 })
  ] });
};
const StoneCarrier = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const walkCycle = sineWave(frame, 0.15, seed);
  const bobUp = Math.abs(walkCycle) * 2;
  const legSwing = walkCycle * 5;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 10, ry: 3, fill: "rgba(0,0,0,0.12)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -2, y1: -8, x2: -4 - legSwing, y2: 2, stroke: SKIN_DARK, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 2, y1: -8, x2: 4 + legSwing, y2: 2, stroke: SKIN, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -8, x2: 0, y2: -22 - bobUp, stroke: SKIN, strokeWidth: 4, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -25 - bobUp, r: 4, fill: SKIN, stroke: OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -26 - bobUp, x2: 3, y2: -26 - bobUp, stroke: HEADBAND_ALT, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-10 L3,-10 L4,-6 L-4,-6 Z", fill: LOINCLOTH, stroke: OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -20 - bobUp, x2: 8, y2: -28 - bobUp, stroke: SKIN, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -19 - bobUp, x2: -6, y2: -26 - bobUp, stroke: SKIN_DARK, strokeWidth: 2, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: -34 - bobUp, width: 14, height: 8, rx: 1, fill: STONE, stroke: OUTLINE, strokeWidth: 0.8 })
  ] });
};
const ChiselWorker = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const chiselHit = sineWave(frame, 0.3, seed);
  const armSwing = chiselHit > 0.5 ? (chiselHit - 0.5) * 8 : 0;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 8, ry: 2.5, fill: "rgba(0,0,0,0.12)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-4 L-6,2 L-2,2 Z", fill: SKIN, stroke: OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M3,-4 L6,2 L2,2 Z", fill: SKIN_DARK, stroke: OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -4, x2: 3, y2: -18, stroke: SKIN, strokeWidth: 4, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 4, cy: -21, r: 3.5, fill: SKIN, stroke: OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 1, y1: -22, x2: 7, y2: -22, stroke: HEADBAND, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-6 L3,-6 L4,-2 L-4,-2 Z", fill: LOINCLOTH_ALT, stroke: OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: -16, x2: 12, y2: -10 - armSwing, stroke: SKIN, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 12, y1: -10 - armSwing, x2: 14, y2: -6, stroke: WOOD, strokeWidth: 2, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: -15, x2: -4, y2: -10, stroke: SKIN_DARK, strokeWidth: 2, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 8, y: -6, width: 12, height: 8, rx: 1, fill: STONE, stroke: OUTLINE, strokeWidth: 0.8 }),
    chiselHit > 0.5 && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 14 + chiselHit * 3, cy: -8 - chiselHit * 4, r: 1, fill: STONE, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 16 + chiselHit * 2, cy: -6 - chiselHit * 3, r: 0.7, fill: STONE, opacity: 0.3 })
    ] })
  ] });
};
const WaterCarrier = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const walkCycle = sineWave(frame, 0.14, seed);
  const bob = Math.abs(walkCycle) * 1.5;
  const yokeSway = walkCycle * 2;
  const legSwing = walkCycle * 4;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 10, ry: 3, fill: "rgba(0,0,0,0.12)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -2, y1: -8, x2: -4 - legSwing, y2: 2, stroke: SKIN_DARK, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 2, y1: -8, x2: 4 + legSwing, y2: 2, stroke: SKIN, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -8, x2: 0, y2: -22 - bob, stroke: SKIN, strokeWidth: 4, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -25 - bob, r: 3.5, fill: SKIN, stroke: OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -2.5, y1: -26 - bob, x2: 2.5, y2: -26 - bob, stroke: HEADBAND, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-10 L3,-10 L4,-6 L-4,-6 Z", fill: LOINCLOTH, stroke: OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -18 + yokeSway, y1: -21 - bob, x2: 18 + yokeSway, y2: -21 - bob, stroke: WOOD, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -20 - bob, x2: -8, y2: -21 - bob, stroke: SKIN, strokeWidth: 2, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -20 - bob, x2: 8, y2: -21 - bob, stroke: SKIN_DARK, strokeWidth: 2, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${-18 + yokeSway}, ${-18 - bob})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -3, x2: 0, y2: 5, stroke: ROPE, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,5 Q-5,10 -3,14 Q0,16 3,14 Q5,10 4,5 Z", fill: "#B07040", stroke: OUTLINE, strokeWidth: 0.8 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${18 + yokeSway}, ${-18 - bob})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -3, x2: 0, y2: 5, stroke: ROPE, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,5 Q-5,10 -3,14 Q0,16 3,14 Q5,10 4,5 Z", fill: "#B07040", stroke: OUTLINE, strokeWidth: 0.8 })
    ] })
  ] });
};
const Overseer = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const headTurn = sineWave(frame, 0.06, seed) * 2;
  const breathe = sineWave(frame, 0.08, seed) * 0.5;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 8, ry: 2.5, fill: "rgba(0,0,0,0.12)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -8, x2: -4, y2: 2, stroke: SKIN_DARK, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: -8, x2: 4, y2: 2, stroke: SKIN, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -8, x2: 0, y2: -24 - breathe, stroke: SKIN, strokeWidth: 4.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-5,-10 L5,-10 L6,-4 L-6,-4 Z", fill: "white", stroke: OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: headTurn, cy: -27 - breathe, r: 4, fill: SKIN, stroke: OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${headTurn - 5},${-28 - breathe} Q${headTurn},${-33 - breathe} ${headTurn + 5},${-28 - breathe}
        L${headTurn + 6},${-24 - breathe} L${headTurn - 6},${-24 - breathe} Z`,
        fill: "white",
        stroke: OUTLINE,
        strokeWidth: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 8, y1: -22 - breathe, x2: 10, y2: 4, stroke: WOOD, strokeWidth: 2, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -20 - breathe, x2: 8, y2: -18 - breathe, stroke: SKIN, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -18 - breathe, x2: -6, y2: -12, stroke: SKIN_DARK, strokeWidth: 2, strokeLinecap: "round" })
  ] });
};
const FanBearer = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const fanWave = sineWave(frame, 0.2, seed) * 15;
  const breathe = sineWave(frame, 0.08, seed + 1) * 0.5;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 8, ry: 2.5, fill: "rgba(0,0,0,0.12)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -8, x2: -4, y2: 2, stroke: SKIN_DARK, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: -8, x2: 4, y2: 2, stroke: SKIN, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -8, x2: 0, y2: -24 - breathe, stroke: SKIN, strokeWidth: 4, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-10 L3,-10 L4,-6 L-4,-6 Z", fill: LOINCLOTH, stroke: OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -27 - breathe, r: 3.5, fill: SKIN, stroke: OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -2.5, y1: -28 - breathe, x2: 2.5, y2: -28 - breathe, stroke: HEADBAND_ALT, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -20 - breathe, x2: 6, y2: -30 - breathe, stroke: SKIN, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 6, y1: -30 - breathe, x2: 8, y2: -52 - breathe, stroke: WOOD, strokeWidth: 2, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(8, ${-52 - breathe}) rotate(${fanWave})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M0,0 Q-15,-20 -8,-35 Q0,-40 8,-35 Q15,-20 0,0 Z",
          fill: "#2D5016",
          stroke: OUTLINE,
          strokeWidth: 0.8,
          opacity: 0.85
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M0,0 Q-8,-18 -4,-30 Q0,-34 4,-30 Q8,-18 0,0 Z",
          fill: "#3D7A3D",
          stroke: OUTLINE,
          strokeWidth: 0.5,
          opacity: 0.7
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -5, y2: -30, stroke: WOOD, strokeWidth: 0.6, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -32, stroke: WOOD, strokeWidth: 0.6, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 5, y2: -30, stroke: WOOD, strokeWidth: 0.6, opacity: 0.4 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -18 - breathe, x2: -5, y2: -12, stroke: SKIN_DARK, strokeWidth: 2, strokeLinecap: "round" })
  ] });
};
const SeatedFigure = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const breathe = sineWave(frame, 0.07, seed) * 0.5;
  const headNod = sineWave(frame, 0.05, seed + 2) * 1.5;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 7, ry: 2, fill: "rgba(0,0,0,0.1)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-5,-2 Q-8,2 -3,4 Q0,2 3,4 Q8,2 5,-2 Z", fill: SKIN_DARK, stroke: OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -2, x2: 0, y2: -16 - breathe, stroke: SKIN, strokeWidth: 4, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: headNod, cy: -19 - breathe, r: 3.5, fill: SKIN, stroke: OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: headNod - 2.5, y1: -20 - breathe, x2: headNod + 2.5, y2: -20 - breathe, stroke: HEADBAND, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-4 L3,-4 L4,0 L-4,0 Z", fill: LOINCLOTH_ALT, stroke: OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -12 - breathe, x2: -6, y2: -4, stroke: SKIN, strokeWidth: 2, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -12 - breathe, x2: 6, y2: -4, stroke: SKIN_DARK, strokeWidth: 2, strokeLinecap: "round" })
  ] });
};
const KneelingFigure = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const bow = sineWave(frame, 0.1, seed) * 3;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 7, ry: 2, fill: "rgba(0,0,0,0.1)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-2 L-5,2 L-1,2 Z", fill: SKIN, stroke: OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M3,-2 L5,2 L1,2 Z", fill: SKIN_DARK, stroke: OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -2, x2: 2 + bow, y2: -14, stroke: SKIN, strokeWidth: 4, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 3 + bow, cy: -17, r: 3.5, fill: SKIN, stroke: OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: bow, y1: -18, x2: 6 + bow, y2: -18, stroke: HEADBAND_ALT, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-4 L3,-4 L4,0 L-4,0 Z", fill: LOINCLOTH, stroke: OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 2 + bow, y1: -12, x2: 10 + bow, y2: -8, stroke: SKIN, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 2 + bow, y1: -11, x2: 9 + bow, y2: -6, stroke: SKIN_DARK, strokeWidth: 2, strokeLinecap: "round" })
  ] });
};
const Rower = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false,
  direction = "right"
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const rowCycle = sineWave(frame, 0.16, seed);
  const armReach = rowCycle * 8;
  const bodyLean = rowCycle * 3;
  const fDir = flip ? -1 : 1;
  const dDir = direction === "left" ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir * dDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,-2 L-6,2 L6,2 L4,-2 Z", fill: SKIN_DARK, stroke: OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -2, x2: bodyLean, y2: -16, stroke: SKIN, strokeWidth: 4, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: bodyLean + 1, cy: -19, r: 3.5, fill: SKIN, stroke: OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: bodyLean - 2, y1: -20, x2: bodyLean + 4, y2: -20, stroke: HEADBAND, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-4 L3,-4 L4,0 L-4,0 Z", fill: LOINCLOTH, stroke: OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: bodyLean, y1: -14, x2: 12 + armReach, y2: -10, stroke: SKIN, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 12 + armReach, y1: -10, x2: 22 + armReach, y2: 4, stroke: WOOD, strokeWidth: 2, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 23 + armReach, cy: 6, rx: 3, ry: 5, fill: WOOD, stroke: OUTLINE, strokeWidth: 0.5, transform: `rotate(${15 + rowCycle * 5}, ${23 + armReach}, 6)` })
  ] });
};
const Baker = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const kneadCycle = sineWave(frame, 0.22, seed);
  const armPush = kneadCycle * 4;
  const bodyRock = kneadCycle * 1.5;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 8, ry: 2.5, fill: "rgba(0,0,0,0.12)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -8, x2: -4, y2: 2, stroke: SKIN_DARK, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: -8, x2: 4, y2: 2, stroke: SKIN, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -8, x2: bodyRock + 2, y2: -22, stroke: SKIN, strokeWidth: 4, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: bodyRock + 2, cy: -25, r: 3.5, fill: SKIN, stroke: OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: bodyRock - 1, y1: -26, x2: bodyRock + 5, y2: -26, stroke: "white", strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,-10 L4,-10 L5,-4 L-5,-4 Z", fill: LOINCLOTH, stroke: OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-10 L3,-10 L4,-6 L-4,-6 Z", fill: "white", stroke: OUTLINE, strokeWidth: 0.3, opacity: 0.6 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: bodyRock + 2, y1: -20, x2: 10 + armPush, y2: -14, stroke: SKIN, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: bodyRock + 2, y1: -18, x2: 8 + armPush, y2: -12, stroke: SKIN_DARK, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 12, cy: -10, rx: 5, ry: 3, fill: "#E8D0A0", stroke: OUTLINE, strokeWidth: 0.5 })
  ] });
};
const Sweeper = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const sweepCycle = sineWave(frame, 0.25, seed);
  const broomSwing = sweepCycle * 10;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 8, ry: 2.5, fill: "rgba(0,0,0,0.12)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -2, y1: -8, x2: -3, y2: 2, stroke: SKIN_DARK, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: -8, x2: 4, y2: 2, stroke: SKIN, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -8, x2: 1, y2: -22, stroke: SKIN, strokeWidth: 4, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 1, cy: -25, r: 3.5, fill: SKIN, stroke: OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -2, y1: -26, x2: 4, y2: -26, stroke: HEADBAND, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-10 L3,-10 L4,-6 L-4,-6 Z", fill: LOINCLOTH_ALT, stroke: OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 1, y1: -20, x2: 6, y2: -16, stroke: SKIN, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 1, y1: -16, x2: 4, y2: -10, stroke: SKIN_DARK, strokeWidth: 2, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 6, y1: -16, x2: 10 + broomSwing, y2: 2, stroke: WOOD, strokeWidth: 2, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${8 + broomSwing},0 Q${10 + broomSwing},4 ${14 + broomSwing},2
        Q${12 + broomSwing},4 ${16 + broomSwing},3 L${10 + broomSwing},0 Z`,
        fill: "#8B7B5A",
        stroke: OUTLINE,
        strokeWidth: 0.5
      }
    ),
    Math.abs(sweepCycle) > 0.3 && /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 14 + broomSwing, cy: 0, r: 2, fill: "rgba(180,160,100,0.3)" })
  ] });
};
const SarcophagusScene = ({ x, y, scale = 1 }) => {
  return /* @__PURE__ */ jsxs("g", { transform: `translate(${x}, ${y}) scale(${scale})`, children: [
    /* @__PURE__ */ jsx(FanBearer, { x: -40, y: 0, scale: 0.8, seed: 1 }),
    /* @__PURE__ */ jsx(FanBearer, { x: 40, y: 0, scale: 0.8, seed: 2, flip: true }),
    /* @__PURE__ */ jsx(KneelingFigure, { x: -25, y: 5, scale: 0.7, seed: 3 }),
    /* @__PURE__ */ jsx(KneelingFigure, { x: 25, y: 5, scale: 0.7, seed: 4, flip: true })
  ] });
};
const CrowdLayer = ({ config }) => {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { children: config.figures.map((fig, i) => {
    const props = {
      x: fig.x,
      y: fig.y,
      scale: fig.scale ?? 1,
      seed: fig.seed ?? i * 7,
      flip: fig.flip ?? false
    };
    switch (fig.type) {
      case "stonePuller":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(StonePuller, { ...props }, `crowd-${i}`);
      case "stoneCarrier":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(StoneCarrier, { ...props }, `crowd-${i}`);
      case "chiselWorker":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(ChiselWorker, { ...props }, `crowd-${i}`);
      case "waterCarrier":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(WaterCarrier, { ...props }, `crowd-${i}`);
      case "overseer":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(Overseer, { ...props }, `crowd-${i}`);
      case "fanBearer":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(FanBearer, { ...props }, `crowd-${i}`);
      case "seated":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(SeatedFigure, { ...props }, `crowd-${i}`);
      case "kneeling":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(KneelingFigure, { ...props }, `crowd-${i}`);
      case "rowerLeft":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(Rower, { ...props, direction: "left" }, `crowd-${i}`);
      case "rowerRight":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(Rower, { ...props, direction: "right" }, `crowd-${i}`);
      case "baker":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(Baker, { ...props }, `crowd-${i}`);
      case "sweeper":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(Sweeper, { ...props }, `crowd-${i}`);
      default:
        return null;
    }
  }) });
};
const CROWD_CONFIGS = {
  pyramids: {
    figures: [
      // Workers near the base of the great pyramid
      { type: "stonePuller", x: 750, y: 620, scale: 0.9, seed: 1 },
      { type: "stonePuller", x: 790, y: 625, scale: 0.85, seed: 2 },
      { type: "stonePuller", x: 830, y: 618, scale: 0.9, seed: 3 },
      { type: "stoneCarrier", x: 650, y: 640, scale: 0.8, seed: 4 },
      { type: "stoneCarrier", x: 1100, y: 635, scale: 0.75, seed: 5, flip: true },
      { type: "overseer", x: 900, y: 615, scale: 1, seed: 6 },
      { type: "waterCarrier", x: 500, y: 650, scale: 0.75, seed: 7 },
      { type: "seated", x: 1200, y: 660, scale: 0.7, seed: 8 },
      { type: "chiselWorker", x: 1050, y: 640, scale: 0.8, seed: 9 }
    ]
  },
  desertConstruction: {
    figures: [
      // Workers on the ramp pulling stones up
      { type: "stonePuller", x: 520, y: 520, scale: 0.7, seed: 10 },
      { type: "stonePuller", x: 550, y: 530, scale: 0.65, seed: 11 },
      { type: "stonePuller", x: 580, y: 540, scale: 0.7, seed: 12 },
      // Workers at the base
      { type: "stoneCarrier", x: 800, y: 640, scale: 0.85, seed: 13 },
      { type: "stoneCarrier", x: 680, y: 650, scale: 0.8, seed: 14, flip: true },
      { type: "chiselWorker", x: 1100, y: 636, scale: 0.8, seed: 15 },
      { type: "chiselWorker", x: 1180, y: 642, scale: 0.75, seed: 16 },
      { type: "waterCarrier", x: 400, y: 660, scale: 0.7, seed: 17 },
      { type: "waterCarrier", x: 1350, y: 655, scale: 0.65, seed: 18, flip: true },
      { type: "overseer", x: 850, y: 625, scale: 0.9, seed: 19 },
      { type: "overseer", x: 1250, y: 650, scale: 0.8, seed: 20, flip: true },
      { type: "seated", x: 350, y: 680, scale: 0.65, seed: 21 },
      { type: "seated", x: 1400, y: 675, scale: 0.6, seed: 22 },
      { type: "sweeper", x: 950, y: 660, scale: 0.7, seed: 23 }
    ]
  },
  insidePyramid: {
    figures: [
      // Fan bearers near sarcophagus
      { type: "fanBearer", x: 550, y: 730, scale: 0.9, seed: 30 },
      { type: "fanBearer", x: 1100, y: 730, scale: 0.9, seed: 31, flip: true },
      // Kneeling attendants
      { type: "kneeling", x: 620, y: 760, scale: 0.8, seed: 32 },
      { type: "kneeling", x: 1020, y: 760, scale: 0.8, seed: 33, flip: true },
      // Standing guards/priests
      { type: "overseer", x: 420, y: 720, scale: 0.85, seed: 34 },
      { type: "overseer", x: 1200, y: 720, scale: 0.85, seed: 35, flip: true }
    ]
  },
  nileRiver: {
    figures: [
      // Rowers on the large boat
      { type: "rowerRight", x: -80, y: -24, scale: 0.6, seed: 40 },
      { type: "rowerRight", x: -50, y: -24, scale: 0.6, seed: 41 },
      { type: "rowerRight", x: -20, y: -24, scale: 0.6, seed: 42 },
      { type: "rowerRight", x: 10, y: -24, scale: 0.6, seed: 43 },
      // People on the banks
      { type: "waterCarrier", x: 200, y: 700, scale: 0.7, seed: 44 },
      { type: "waterCarrier", x: 1600, y: 690, scale: 0.65, seed: 45, flip: true },
      { type: "seated", x: 300, y: 710, scale: 0.6, seed: 46 },
      { type: "seated", x: 1500, y: 705, scale: 0.55, seed: 47 },
      { type: "stoneCarrier", x: 450, y: 695, scale: 0.65, seed: 48 },
      { type: "overseer", x: 1700, y: 700, scale: 0.6, seed: 49, flip: true }
    ]
  },
  workersVillage: {
    figures: [
      // Workers around the village
      { type: "baker", x: 600, y: 740, scale: 0.8, seed: 50 },
      { type: "waterCarrier", x: 750, y: 730, scale: 0.75, seed: 51 },
      { type: "sweeper", x: 900, y: 745, scale: 0.7, seed: 52 },
      { type: "seated", x: 450, y: 760, scale: 0.7, seed: 53 },
      { type: "seated", x: 500, y: 755, scale: 0.65, seed: 54 },
      { type: "stoneCarrier", x: 1100, y: 735, scale: 0.7, seed: 55, flip: true },
      { type: "chiselWorker", x: 1250, y: 750, scale: 0.7, seed: 56 },
      { type: "overseer", x: 850, y: 720, scale: 0.8, seed: 57 },
      { type: "kneeling", x: 350, y: 770, scale: 0.6, seed: 58 },
      { type: "waterCarrier", x: 1400, y: 740, scale: 0.65, seed: 59, flip: true }
    ]
  },
  sphinxView: {
    figures: [
      // Tourists/workers near sphinx base
      { type: "seated", x: 350, y: 740, scale: 0.6, seed: 60 },
      { type: "kneeling", x: 420, y: 745, scale: 0.55, seed: 61 },
      { type: "overseer", x: 500, y: 730, scale: 0.7, seed: 62 },
      { type: "chiselWorker", x: 280, y: 750, scale: 0.6, seed: 63 },
      { type: "stoneCarrier", x: 600, y: 720, scale: 0.55, seed: 64 },
      { type: "waterCarrier", x: 200, y: 760, scale: 0.5, seed: 65 }
    ]
  }
};

;// ./src/backgrounds/Pyramids.tsx





const Pyramids_C = {
  skyTop: "#1E3A8A",
  skyBottom: "#D4A012",
  sun: "#FFD700",
  sunGlow: "rgba(255,200,50,0.3)",
  sand: "#D4A868",
  sandDark: "#C49858",
  sandLight: "#E4B878",
  pyramid: "#C4986A",
  pyramidShade: "#A07848",
  pyramidLine: "#B08858",
  stone: "#B8906A",
  stoneDark: "#A07848",
  obelisk: "#D4B888",
  palm: "#2D5016",
  palmTrunk: "#8B6B4A",
  outline: "#1A1A1A",
  hieroglyph: "#8B6B4A",
  boardBg: "#C4986A",
  boardFrame: "#8B6B4A",
  chalk: "#F5E8C8"
};
const Pyramids = ({
  boardText = "",
  width = 1920,
  height = 1080
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const heatShimmer = sineWave(frame, 0.15) * 2;
  const sunPulse = 1 + sineWave(frame, 0.05) * 0.03;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("svg", { viewBox: `0 0 ${width} ${height}`, width, height, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("defs", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "pyr-sky", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: Pyramids_C.skyTop }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "80%", stopColor: Pyramids_C.skyBottom }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: Pyramids_C.sand })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "pyr-sun-glow", cx: "50%", cy: "30%", r: "40%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: Pyramids_C.sunGlow }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height: height * 0.65, fill: "url(#pyr-sky)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height, fill: "url(#pyr-sun-glow)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.75}, ${height * 0.18}) scale(${sunPulse})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 60, fill: Pyramids_C.sunGlow, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 40, fill: Pyramids_C.sun }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -8, cy: -8, r: 12, fill: "white", opacity: 0.3 })
    ] }),
    [
      [200, 80],
      [400, 40],
      [600, 100],
      [1100, 60],
      [1400, 90],
      [1700, 50]
    ].map(([x, y], i) => /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: x, cy: y, r: 1.5, fill: "white", opacity: 0.3 + sineWave(frame, 0.2 + i * 0.05) * 0.2 }, `star-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.55, width, height: height * 0.45, fill: Pyramids_C.sand }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${height * 0.6} Q${width * 0.15},${height * 0.55} ${width * 0.3},${height * 0.58}
        Q${width * 0.5},${height * 0.54 + heatShimmer} ${width * 0.7},${height * 0.57}
        Q${width * 0.85},${height * 0.55} ${width},${height * 0.6} L${width},${height} L0,${height} Z`,
        fill: Pyramids_C.sandDark,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.5}, ${height * 0.55})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,-280 L-220,0 L220,0 Z", fill: Pyramids_C.pyramid, stroke: Pyramids_C.outline, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,-280 L50,0 L220,0 Z", fill: Pyramids_C.pyramidShade, opacity: 0.4 }),
      [-200, -140, -80, -30].map((y, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: y * -0.7, y1: y, x2: y * 0.7, y2: y, stroke: Pyramids_C.pyramidLine, strokeWidth: 1, opacity: 0.3 }, `bl-${i}`))
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.22}, ${height * 0.58})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,-180 L-150,0 L150,0 Z", fill: Pyramids_C.pyramid, stroke: Pyramids_C.outline, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,-180 L40,0 L150,0 Z", fill: Pyramids_C.pyramidShade, opacity: 0.4 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.78}, ${height * 0.6})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,-140 L-120,0 L120,0 Z", fill: Pyramids_C.pyramid, stroke: Pyramids_C.outline, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,-140 L30,0 L120,0 Z", fill: Pyramids_C.pyramidShade, opacity: 0.4 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(${width * 0.08}, ${height * 0.62})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: "M0,0 L10,-40 L20,-50 Q30,-55 40,-45 L50,-30 L70,-25 L90,-20 L100,0 Z",
        fill: Pyramids_C.stone,
        stroke: Pyramids_C.outline,
        strokeWidth: 1.5,
        opacity: 0.7
      }
    ) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(PalmTree, { x: width * 0.12, y: height * 0.58, h: 120, lean: -5 + heatShimmer * 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(PalmTree, { x: width * 0.88, y: height * 0.56, h: 140, lean: 3 + heatShimmer * 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(CrowdLayer, { config: CROWD_CONFIGS.pyramids }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width / 2 - 200}, ${height * 0.68})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -8, y: -8, width: 416, height: 176, rx: 4, fill: Pyramids_C.boardFrame, stroke: Pyramids_C.outline, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 400, height: 160, fill: Pyramids_C.boardBg }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("text", { x: 30, y: 30, fontSize: 18, fill: Pyramids_C.hieroglyph, opacity: 0.3, fontFamily: "serif", children: "\u{13000} \u{13080} \u{130C0} \u{13100}" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("text", { x: 30, y: 140, fontSize: 18, fill: Pyramids_C.hieroglyph, opacity: 0.3, fontFamily: "serif", children: "\u{13140} \u{13180} \u{131C0} \u{13200}" }),
      boardText && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "text",
        {
          x: 200,
          y: 95,
          textAnchor: "middle",
          fill: Pyramids_C.chalk,
          fontSize: 36,
          fontFamily: "'Courier New', monospace",
          fontWeight: "bold",
          opacity: 0.9,
          children: boardText
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.5,
        width,
        height: height * 0.1,
        fill: "rgba(255,200,100,0.04)",
        opacity: 0.5 + sineWave(frame, 0.1) * 0.3
      }
    )
  ] });
};
const PalmTree = ({ x, y, h, lean }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M0,0 Q${lean},-${h * 0.5} ${lean * 1.5},-${h}`,
      fill: "none",
      stroke: Pyramids_C.palmTrunk,
      strokeWidth: 8,
      strokeLinecap: "round"
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M0,0 Q${lean},-${h * 0.5} ${lean * 1.5},-${h}`,
      fill: "none",
      stroke: Pyramids_C.outline,
      strokeWidth: 10,
      strokeLinecap: "round",
      opacity: 0.1
    }
  ),
  [0.2, 0.4, 0.6, 0.8].map((r, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "ellipse",
    {
      cx: lean * r * 1.5,
      cy: -h * r,
      rx: 5,
      ry: 2,
      fill: "none",
      stroke: Pyramids_C.outline,
      strokeWidth: 1,
      opacity: 0.2
    },
    `r-${i}`
  )),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${lean * 1.5}, -${h})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q-30,-15 -50,5", fill: "none", stroke: Pyramids_C.palm, strokeWidth: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q-20,-25 -40,-10", fill: "none", stroke: Pyramids_C.palm, strokeWidth: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q30,-15 50,5", fill: "none", stroke: Pyramids_C.palm, strokeWidth: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q20,-25 40,-10", fill: "none", stroke: Pyramids_C.palm, strokeWidth: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q-10,-30 -15,-5", fill: "none", stroke: Pyramids_C.palm, strokeWidth: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q10,-30 15,-5", fill: "none", stroke: Pyramids_C.palm, strokeWidth: 3 })
  ] })
] });
/* harmony default export */ const backgrounds_Pyramids = ((/* unused pure expression or super */ null && (Pyramids)));

;// ./src/backgrounds/DesertConstruction.tsx





const DesertConstruction_C = {
  skyTop: "#1E3A8A",
  skyBottom: "#D4A012",
  sun: "#FFD700",
  sunGlow: "rgba(255,200,50,0.3)",
  sand: "#D4A868",
  sandDark: "#C49858",
  sandLight: "#E4B878",
  pyramid: "#C4986A",
  pyramidShade: "#A07848",
  pyramidLine: "#B08858",
  stone: "#B8906A",
  stoneDark: "#A07848",
  wood: "#8B5E3C",
  woodLight: "#A0703C",
  woodDark: "#6B4226",
  rope: "#9B8968",
  tent: "#C8A878",
  tentDark: "#A08858",
  palm: "#2D5016",
  palmTrunk: "#8B6B4A",
  outline: "#1A1A1A",
  hieroglyph: "#8B6B4A",
  boardBg: "#C4986A",
  boardFrame: "#8B6B4A",
  chalk: "#F5E8C8"
};
const DesertConstruction = ({
  boardText = "",
  width = 1920,
  height = 1080
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const heatShimmer = sineWave(frame, 0.15) * 2;
  const sunPulse = 1 + sineWave(frame, 0.05) * 0.03;
  const ropeSway1 = sineWave(frame, 0.12) * 3;
  const ropeSway2 = sineWave(frame, 0.1, 1) * 2;
  const pyrX = width * 0.5;
  const pyrBaseY = height * 0.58;
  const pyrHalfW = 240;
  const pyrFullH = 320;
  const pyrBuiltH = pyrFullH * 0.55;
  const pyrBuiltTopY = pyrBaseY - pyrBuiltH;
  const builtTopHalfW = pyrHalfW * (1 - pyrBuiltH / pyrFullH);
  const rampBaseX = pyrX - pyrHalfW - 80;
  const rampBaseY = pyrBaseY;
  const rampTopX = pyrX - builtTopHalfW - 10;
  const rampTopY = pyrBuiltTopY + 10;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("svg", { viewBox: `0 0 ${width} ${height}`, width, height, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("defs", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "dc-sky", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: DesertConstruction_C.skyTop }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "80%", stopColor: DesertConstruction_C.skyBottom }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: DesertConstruction_C.sand })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "dc-sun-glow", cx: "50%", cy: "30%", r: "40%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: DesertConstruction_C.sunGlow }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height: height * 0.65, fill: "url(#dc-sky)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height, fill: "url(#dc-sun-glow)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.78}, ${height * 0.16}) scale(${sunPulse})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 60, fill: DesertConstruction_C.sunGlow, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 40, fill: DesertConstruction_C.sun }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -8, cy: -8, r: 12, fill: "white", opacity: 0.3 })
    ] }),
    [
      [180, 70],
      [380, 35],
      [620, 95],
      [1050, 55],
      [1380, 85],
      [1680, 45]
    ].map(([x, y], i) => /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: x, cy: y, r: 1.5, fill: "white", opacity: 0.3 + sineWave(frame, 0.2 + i * 0.05) * 0.2 }, `star-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.55, width, height: height * 0.45, fill: DesertConstruction_C.sand }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${height * 0.6} Q${width * 0.15},${height * 0.55} ${width * 0.3},${height * 0.58}
        Q${width * 0.5},${height * 0.54 + heatShimmer} ${width * 0.7},${height * 0.57}
        Q${width * 0.85},${height * 0.55} ${width},${height * 0.6} L${width},${height} L0,${height} Z`,
        fill: DesertConstruction_C.sandDark,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.82}, ${height * 0.6})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,-120 L-100,0 L100,0 Z", fill: DesertConstruction_C.pyramid, stroke: DesertConstruction_C.outline, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,-120 L25,0 L100,0 Z", fill: DesertConstruction_C.pyramidShade, opacity: 0.4 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${pyrX - pyrHalfW},${pyrBaseY} L${pyrX - builtTopHalfW},${pyrBuiltTopY}
          L${pyrX + builtTopHalfW},${pyrBuiltTopY} L${pyrX + pyrHalfW},${pyrBaseY} Z`,
          fill: DesertConstruction_C.pyramid,
          stroke: DesertConstruction_C.outline,
          strokeWidth: 2
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${pyrX + 20},${pyrBaseY} L${pyrX + builtTopHalfW * 0.3},${pyrBuiltTopY}
          L${pyrX + builtTopHalfW},${pyrBuiltTopY} L${pyrX + pyrHalfW},${pyrBaseY} Z`,
          fill: DesertConstruction_C.pyramidShade,
          opacity: 0.4
        }
      ),
      [0.15, 0.3, 0.45, 0.6, 0.75, 0.9].map((frac, i) => {
        const ly = pyrBaseY - pyrBuiltH * frac;
        const ratio = 1 - pyrBuiltH * frac / pyrFullH;
        const lhw = pyrHalfW * ratio;
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: pyrX - lhw,
            y1: ly,
            x2: pyrX + lhw,
            y2: ly,
            stroke: DesertConstruction_C.pyramidLine,
            strokeWidth: 1,
            opacity: 0.4
          },
          `block-${i}`
        );
      }),
      [0, 0.15, 0.3, 0.45, 0.6, 0.75].map((frac, ri) => {
        const rowY = pyrBaseY - pyrBuiltH * frac;
        const nextY = pyrBaseY - pyrBuiltH * Math.min(frac + 0.15, 0.9);
        const ratio = 1 - pyrBuiltH * frac / pyrFullH;
        const lhw = pyrHalfW * ratio;
        const blockCount = Math.max(3, Math.round(8 * ratio));
        return Array.from({ length: blockCount }, (_, bi) => {
          const t = (bi + 0.5 + ri % 2 * 0.5) / (blockCount + 1);
          const bx = pyrX - lhw + 2 * lhw * t;
          return /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "line",
            {
              x1: bx,
              y1: rowY,
              x2: bx,
              y2: nextY,
              stroke: DesertConstruction_C.pyramidLine,
              strokeWidth: 0.6,
              opacity: 0.2
            },
            `vj-${ri}-${bi}`
          );
        });
      }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${pyrX - builtTopHalfW},${pyrBuiltTopY} L${pyrX},${pyrBaseY - pyrFullH}
          L${pyrX + builtTopHalfW},${pyrBuiltTopY}`,
          fill: "none",
          stroke: DesertConstruction_C.wood,
          strokeWidth: 1.5,
          strokeDasharray: "8,6",
          opacity: 0.5
        }
      ),
      [0.2, 0.4, 0.6, 0.8].map((frac, i) => {
        const scaffY = pyrBuiltTopY - (pyrFullH - pyrBuiltH) * frac * 0.7;
        const scaffRatio = 1 - (pyrBuiltH + (pyrFullH - pyrBuiltH) * frac * 0.7) / pyrFullH;
        const scaffHW = pyrHalfW * scaffRatio + 15;
        return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "line",
            {
              x1: pyrX - scaffHW,
              y1: scaffY,
              x2: pyrX + scaffHW,
              y2: scaffY,
              stroke: DesertConstruction_C.wood,
              strokeWidth: 3,
              strokeLinecap: "round"
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "line",
            {
              x1: pyrX - scaffHW,
              y1: scaffY,
              x2: pyrX + scaffHW,
              y2: scaffY,
              stroke: DesertConstruction_C.outline,
              strokeWidth: 3,
              strokeLinecap: "round",
              opacity: 0.1
            }
          ),
          [-0.6, 0, 0.6].map((sx, si) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "line",
            {
              x1: pyrX + scaffHW * sx,
              y1: scaffY,
              x2: pyrX + scaffHW * sx,
              y2: i === 0 ? pyrBuiltTopY : scaffY + 30,
              stroke: DesertConstruction_C.wood,
              strokeWidth: 2.5,
              strokeLinecap: "round"
            },
            `sv-${i}-${si}`
          )),
          i > 0 && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(
              "line",
              {
                x1: pyrX - scaffHW * 0.6,
                y1: scaffY,
                x2: pyrX,
                y2: scaffY + 28,
                stroke: DesertConstruction_C.woodLight,
                strokeWidth: 1.5,
                opacity: 0.6
              }
            ),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(
              "line",
              {
                x1: pyrX + scaffHW * 0.6,
                y1: scaffY,
                x2: pyrX,
                y2: scaffY + 28,
                stroke: DesertConstruction_C.woodLight,
                strokeWidth: 1.5,
                opacity: 0.6
              }
            )
          ] })
        ] }, `scaff-${i}`);
      })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${rampBaseX},${rampBaseY}
          L${rampTopX},${rampTopY}
          L${rampTopX + 30},${rampTopY}
          L${rampBaseX + 50},${rampBaseY} Z`,
          fill: DesertConstruction_C.woodLight,
          stroke: DesertConstruction_C.outline,
          strokeWidth: 2
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${rampBaseX},${rampBaseY}
          L${rampBaseX},${rampBaseY + 18}
          L${rampBaseX + 50},${rampBaseY + 18}
          L${rampBaseX + 50},${rampBaseY} Z`,
          fill: DesertConstruction_C.woodDark,
          stroke: DesertConstruction_C.outline,
          strokeWidth: 1.5
        }
      ),
      [0.2, 0.4, 0.6, 0.8].map((t, i) => {
        const bx1 = rampBaseX + (rampTopX - rampBaseX) * t;
        const by1 = rampBaseY + (rampTopY - rampBaseY) * t;
        const bx2 = rampBaseX + 50 + (rampTopX + 30 - rampBaseX - 50) * t;
        const by2 = rampBaseY + (rampTopY - rampBaseY) * t;
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: bx1,
            y1: by1,
            x2: bx2,
            y2: by2,
            stroke: DesertConstruction_C.wood,
            strokeWidth: 2
          },
          `rbeam-${i}`
        );
      }),
      [0.25, 0.55, 0.8].map((t, i) => {
        const px = rampBaseX + 25 + (rampTopX + 15 - rampBaseX - 25) * t;
        const ptop = rampBaseY + (rampTopY - rampBaseY) * t;
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: px,
            y1: ptop,
            x2: px,
            y2: rampBaseY + 18,
            stroke: DesertConstruction_C.wood,
            strokeWidth: 3,
            strokeLinecap: "round"
          },
          `rpost-${i}`
        );
      }),
      (() => {
        const blockT = 0.45;
        const bx = rampBaseX + 15 + (rampTopX - rampBaseX) * blockT;
        const by = rampBaseY + (rampTopY - rampBaseY) * blockT - 14;
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: bx,
            y: by,
            width: 28,
            height: 18,
            rx: 2,
            fill: DesertConstruction_C.stone,
            stroke: DesertConstruction_C.outline,
            strokeWidth: 1.5,
            transform: `rotate(${Math.atan2(rampTopY - rampBaseY, rampTopX - rampBaseX) * 180 / Math.PI}, ${bx + 14}, ${by + 9})`
          }
        );
      })()
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${rampTopX + 15},${rampTopY}
          Q${rampTopX - 40},${rampTopY + 60 + ropeSway1} ${pyrX - 180},${pyrBaseY - 5}`,
          fill: "none",
          stroke: DesertConstruction_C.rope,
          strokeWidth: 2,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${rampTopX + 15},${rampTopY + 5}
          Q${rampTopX - 60},${rampTopY + 80 + ropeSway2} ${pyrX - 200},${pyrBaseY}`,
          fill: "none",
          stroke: DesertConstruction_C.rope,
          strokeWidth: 1.5,
          strokeLinecap: "round",
          opacity: 0.7
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${pyrX - 190}, ${pyrBaseY - 4})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-5,12 Q0,18 10,18 L65,18 Q72,18 70,12", fill: "none", stroke: DesertConstruction_C.wood, strokeWidth: 3, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-5,14 Q0,20 10,20 L65,20 Q72,20 70,14", fill: "none", stroke: DesertConstruction_C.woodDark, strokeWidth: 2, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 4, width: 65, height: 8, rx: 1, fill: DesertConstruction_C.wood, stroke: DesertConstruction_C.outline, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 5, y: -14, width: 24, height: 18, rx: 2, fill: DesertConstruction_C.stone, stroke: DesertConstruction_C.outline, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 32, y: -10, width: 20, height: 14, rx: 2, fill: DesertConstruction_C.stoneDark, stroke: DesertConstruction_C.outline, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -5, y1: 8, x2: -20, y2: 2 + ropeSway1 * 0.5, stroke: DesertConstruction_C.rope, strokeWidth: 2 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${pyrX - 320}, ${pyrBaseY + 8})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-5,12 Q0,18 10,18 L55,18 Q62,18 60,12", fill: "none", stroke: DesertConstruction_C.wood, strokeWidth: 3, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 4, width: 55, height: 8, rx: 1, fill: DesertConstruction_C.wood, stroke: DesertConstruction_C.outline, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 8, y: -12, width: 20, height: 16, rx: 2, fill: DesertConstruction_C.stone, stroke: DesertConstruction_C.outline, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 30, y: -8, width: 18, height: 12, rx: 2, fill: DesertConstruction_C.stoneDark, stroke: DesertConstruction_C.outline, strokeWidth: 1.5 })
    ] }),
    [
      { x: pyrX + 200, y: pyrBaseY + 6, w: 30, h: 20 },
      { x: pyrX + 250, y: pyrBaseY + 12, w: 24, h: 16 },
      { x: pyrX + 160, y: pyrBaseY + 18, w: 20, h: 14 },
      { x: pyrX - 100, y: pyrBaseY + 22, w: 26, h: 18 },
      { x: pyrX + 80, y: pyrBaseY + 10, w: 22, h: 15 },
      { x: pyrX - 50, y: pyrBaseY + 30, w: 18, h: 12 },
      { x: pyrX + 300, y: pyrBaseY + 20, w: 28, h: 18 }
    ].map((b, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: b.x,
        y: b.y,
        width: b.w,
        height: b.h,
        rx: 2,
        fill: i % 2 === 0 ? DesertConstruction_C.stone : DesertConstruction_C.stoneDark,
        stroke: DesertConstruction_C.outline,
        strokeWidth: 1.5
      },
      `sblock-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.7}, ${height * 0.64})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 L25,-35 L50,0 Z", fill: DesertConstruction_C.tent, stroke: DesertConstruction_C.outline, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M25,-35 L50,0 L40,0 Z", fill: DesertConstruction_C.tentDark, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 25, y1: -35, x2: 25, y2: -42, stroke: DesertConstruction_C.wood, strokeWidth: 2, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M18,0 L25,-15 L32,0", fill: "none", stroke: DesertConstruction_C.outline, strokeWidth: 1, opacity: 0.4 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.74}, ${height * 0.66})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 L18,-25 L36,0 Z", fill: DesertConstruction_C.tentDark, stroke: DesertConstruction_C.outline, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M18,-25 L36,0 L28,0 Z", fill: DesertConstruction_C.pyramidShade, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 18, y1: -25, x2: 18, y2: -30, stroke: DesertConstruction_C.wood, strokeWidth: 2, strokeLinecap: "round" })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.15}, ${height * 0.66})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 L20,-28 L40,0 Z", fill: DesertConstruction_C.tent, stroke: DesertConstruction_C.outline, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M20,-28 L40,0 L32,0 Z", fill: DesertConstruction_C.tentDark, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 20, y1: -28, x2: 20, y2: -34, stroke: DesertConstruction_C.wood, strokeWidth: 2, strokeLinecap: "round" })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(DesertConstruction_PalmTree, { x: width * 0.06, y: height * 0.6, h: 130, lean: -4 + heatShimmer * 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(DesertConstruction_PalmTree, { x: width * 0.93, y: height * 0.58, h: 140, lean: 3 + heatShimmer * 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(DesertConstruction_PalmTree, { x: width * 0.1, y: height * 0.63, h: 100, lean: -6 + heatShimmer * 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(CrowdLayer, { config: CROWD_CONFIGS.desertConstruction }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width / 2 - 200}, ${height * 0.72})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -8, y: -8, width: 416, height: 176, rx: 4, fill: DesertConstruction_C.boardFrame, stroke: DesertConstruction_C.outline, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 400, height: 160, fill: DesertConstruction_C.boardBg }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("text", { x: 30, y: 30, fontSize: 18, fill: DesertConstruction_C.hieroglyph, opacity: 0.3, fontFamily: "serif", children: "\u{13000} \u{13080} \u{130C0} \u{13100}" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("text", { x: 30, y: 140, fontSize: 18, fill: DesertConstruction_C.hieroglyph, opacity: 0.3, fontFamily: "serif", children: "\u{13140} \u{13180} \u{131C0} \u{13200}" }),
      boardText && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "text",
        {
          x: 200,
          y: 95,
          textAnchor: "middle",
          fill: DesertConstruction_C.chalk,
          fontSize: 36,
          fontFamily: "'Courier New', monospace",
          fontWeight: "bold",
          opacity: 0.9,
          children: boardText
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.5,
        width,
        height: height * 0.1,
        fill: "rgba(255,200,100,0.04)",
        opacity: 0.5 + sineWave(frame, 0.1) * 0.3
      }
    )
  ] });
};
const DesertConstruction_PalmTree = ({ x, y, h, lean }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M0,0 Q${lean},-${h * 0.5} ${lean * 1.5},-${h}`,
      fill: "none",
      stroke: DesertConstruction_C.palmTrunk,
      strokeWidth: 8,
      strokeLinecap: "round"
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M0,0 Q${lean},-${h * 0.5} ${lean * 1.5},-${h}`,
      fill: "none",
      stroke: DesertConstruction_C.outline,
      strokeWidth: 10,
      strokeLinecap: "round",
      opacity: 0.1
    }
  ),
  [0.2, 0.4, 0.6, 0.8].map((r, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "ellipse",
    {
      cx: lean * r * 1.5,
      cy: -h * r,
      rx: 5,
      ry: 2,
      fill: "none",
      stroke: DesertConstruction_C.outline,
      strokeWidth: 1,
      opacity: 0.2
    },
    `r-${i}`
  )),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${lean * 1.5}, -${h})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q-30,-15 -50,5", fill: "none", stroke: DesertConstruction_C.palm, strokeWidth: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q-20,-25 -40,-10", fill: "none", stroke: DesertConstruction_C.palm, strokeWidth: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q30,-15 50,5", fill: "none", stroke: DesertConstruction_C.palm, strokeWidth: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q20,-25 40,-10", fill: "none", stroke: DesertConstruction_C.palm, strokeWidth: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q-10,-30 -15,-5", fill: "none", stroke: DesertConstruction_C.palm, strokeWidth: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q10,-30 15,-5", fill: "none", stroke: DesertConstruction_C.palm, strokeWidth: 3 })
  ] })
] });
/* harmony default export */ const backgrounds_DesertConstruction = ((/* unused pure expression or super */ null && (DesertConstruction)));

;// ./src/backgrounds/InsidePyramid.tsx





const InsidePyramid_C = {
  ceilingDark: "#1A0E04",
  wallDark: "#2A1A0A",
  wall: "#3A2818",
  wallLight: "#4A3828",
  wallBlock: "#352414",
  floor: "#4A3828",
  floorSlab: "#3E2C18",
  floorLine: "#2A1A0A",
  hieroglyph: "#8B7B5A",
  torchWood: "#5C3218",
  torchBracket: "#6A6A6A",
  flameOuter: "#FF8C00",
  flameInner: "#FFD700",
  flameCore: "#FFFACD",
  glowOrange: "rgba(255,160,50,0.15)",
  glowWarm: "rgba(255,120,30,0.08)",
  sarcophagus: "#5A4A32",
  sarcophagusLight: "#6B5A42",
  sarcophagusDark: "#3A2A18",
  sarcophagusDetail: "#8B7B5A",
  doorway: "#0A0604",
  doorwayFrame: "#3A2818",
  shadow: "rgba(0,0,0,0.6)",
  boardBg: "#4A3828",
  boardFrame: "#5A4832",
  chalk: "#E8D8B8",
  outline: "#1A1A1A"
};
const InsidePyramid = ({
  boardText = "",
  width = 1920,
  height = 1080
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const flame1 = sineWave(frame, 0.35);
  const flame2 = sineWave(frame, 0.45, 1.5);
  const flame3 = sineWave(frame, 0.55, 3);
  const flame4 = sineWave(frame, 0.4, 0.7);
  const glowPulse = 0.85 + sineWave(frame, 0.2) * 0.15;
  const glowPulse2 = 0.85 + sineWave(frame, 0.22, 1) * 0.15;
  const torchLX = width * 0.15;
  const torchRX = width * 0.85;
  const torchY = height * 0.35;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("svg", { viewBox: `0 0 ${width} ${height}`, width, height, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("defs", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "ip-glow-left", cx: torchLX / width, cy: torchY / height, r: "0.35", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(255,160,50,0.18)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "40%", stopColor: "rgba(255,120,30,0.08)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "ip-glow-right", cx: torchRX / width, cy: torchY / height, r: "0.35", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(255,160,50,0.18)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "40%", stopColor: "rgba(255,120,30,0.08)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "ip-ambient", cx: "0.5", cy: "0.4", r: "0.6", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(255,140,40,0.06)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "ip-vignette", cx: "0.5", cy: "0.5", r: "0.7", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(0,0,0,0)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "70%", stopColor: "rgba(0,0,0,0.3)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0.7)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "ip-floor-grad", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: InsidePyramid_C.floor }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: InsidePyramid_C.wallDark })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height, fill: InsidePyramid_C.ceilingDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,0 L${width * 0.35},${height * 0.12} L${width * 0.65},${height * 0.12} L${width},0 Z`,
        fill: InsidePyramid_C.wallDark,
        stroke: InsidePyramid_C.outline,
        strokeWidth: 2
      }
    ),
    [0.03, 0.06, 0.09].map((yf, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: width * (0.05 + i * 0.1),
        y1: height * yf,
        x2: width * (0.95 - i * 0.1),
        y2: height * yf,
        stroke: InsidePyramid_C.wallBlock,
        strokeWidth: 1,
        opacity: 0.4
      },
      `ceil-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,0 L${width * 0.35},${height * 0.12} L${width * 0.2},${height * 0.85} L0,${height} Z`,
        fill: InsidePyramid_C.wall,
        stroke: InsidePyramid_C.outline,
        strokeWidth: 2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width},0 L${width * 0.65},${height * 0.12} L${width * 0.8},${height * 0.85} L${width},${height} Z`,
        fill: InsidePyramid_C.wall,
        stroke: InsidePyramid_C.outline,
        strokeWidth: 2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * 0.2,
        y: height * 0.12,
        width: width * 0.6,
        height: height * 0.73,
        fill: InsidePyramid_C.wallLight,
        stroke: InsidePyramid_C.outline,
        strokeWidth: 2
      }
    ),
    [0.2, 0.28, 0.36, 0.44, 0.52, 0.6, 0.68, 0.76].map((yf, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: width * 0.2,
        y1: height * yf,
        x2: width * 0.8,
        y2: height * yf,
        stroke: InsidePyramid_C.wallBlock,
        strokeWidth: 1.2,
        opacity: 0.35
      },
      `hbl-${i}`
    )),
    [0.28, 0.36, 0.44, 0.52, 0.6, 0.68, 0.76, 0.84].map((yf, row) => {
      const offset = row % 2 === 0 ? 0 : 0.05;
      return [0.28, 0.36, 0.44, 0.52, 0.6, 0.68, 0.72].map((xf, col) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: width * (xf + offset),
          y1: height * (yf - 0.08),
          x2: width * (xf + offset),
          y2: height * yf,
          stroke: InsidePyramid_C.wallBlock,
          strokeWidth: 0.8,
          opacity: 0.25
        },
        `vbl-${row}-${col}`
      ));
    }),
    [0.25, 0.38, 0.5, 0.63, 0.75].map((yf, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: width * (0.02 + i * 0.02),
        y1: height * yf,
        x2: width * (0.22 + i * -2e-3),
        y2: height * yf,
        stroke: InsidePyramid_C.wallBlock,
        strokeWidth: 1,
        opacity: 0.3
      },
      `lbl-${i}`
    )),
    [0.25, 0.38, 0.5, 0.63, 0.75].map((yf, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: width * (0.78 - i * -2e-3),
        y1: height * yf,
        x2: width * (0.98 - i * 0.02),
        y2: height * yf,
        stroke: InsidePyramid_C.wallBlock,
        strokeWidth: 1,
        opacity: 0.3
      },
      `rbl-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${height} L${width * 0.2},${height * 0.85} L${width * 0.8},${height * 0.85} L${width},${height} Z`,
        fill: "url(#ip-floor-grad)",
        stroke: InsidePyramid_C.outline,
        strokeWidth: 2
      }
    ),
    [0.3, 0.4, 0.5, 0.6, 0.7].map((xf, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: width * xf,
        y1: height * 0.85,
        x2: width * (xf < 0.5 ? xf - 0.15 : xf + 0.15),
        y2: height,
        stroke: InsidePyramid_C.floorLine,
        strokeWidth: 1.5,
        opacity: 0.3
      },
      `fsl-${i}`
    )),
    [0.88, 0.92, 0.96].map((yf, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: width * (0.08 - i * 0.03),
        y1: height * yf,
        x2: width * (0.92 + i * 0.03),
        y2: height * yf,
        stroke: InsidePyramid_C.floorLine,
        strokeWidth: 1,
        opacity: 0.25
      },
      `fhl-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * 0.46,
        y: height * 0.3,
        width: width * 0.08,
        height: height * 0.42,
        fill: InsidePyramid_C.doorway,
        stroke: InsidePyramid_C.doorwayFrame,
        strokeWidth: 3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.46},${height * 0.32} Q${width * 0.5},${height * 0.27} ${width * 0.54},${height * 0.32}`,
        fill: InsidePyramid_C.doorway,
        stroke: InsidePyramid_C.doorwayFrame,
        strokeWidth: 3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * 0.465,
        y: height * 0.33,
        width: width * 0.07,
        height: height * 0.38,
        fill: "rgba(60,40,20,0.3)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "text",
      {
        x: width * 0.24,
        y: height * 0.25,
        fontSize: 22,
        fill: InsidePyramid_C.hieroglyph,
        opacity: 0.25,
        fontFamily: "serif",
        children: "\u{13000} \u{13080} \u{130C0}"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "text",
      {
        x: width * 0.25,
        y: height * 0.35,
        fontSize: 20,
        fill: InsidePyramid_C.hieroglyph,
        opacity: 0.2,
        fontFamily: "serif",
        children: "\u{13100} \u{13140} \u{13180}"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "text",
      {
        x: width * 0.23,
        y: height * 0.45,
        fontSize: 24,
        fill: InsidePyramid_C.hieroglyph,
        opacity: 0.22,
        fontFamily: "serif",
        children: "\u{131C0} \u{13200} \u{13000}"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "text",
      {
        x: width * 0.26,
        y: height * 0.55,
        fontSize: 18,
        fill: InsidePyramid_C.hieroglyph,
        opacity: 0.18,
        fontFamily: "serif",
        children: "\u{13080} \u{13180} \u{130C0} \u{13140}"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "text",
      {
        x: width * 0.66,
        y: height * 0.25,
        fontSize: 22,
        fill: InsidePyramid_C.hieroglyph,
        opacity: 0.25,
        fontFamily: "serif",
        children: "\u{13140} \u{131C0} \u{13200}"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "text",
      {
        x: width * 0.67,
        y: height * 0.35,
        fontSize: 20,
        fill: InsidePyramid_C.hieroglyph,
        opacity: 0.2,
        fontFamily: "serif",
        children: "\u{13000} \u{130C0} \u{13100}"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "text",
      {
        x: width * 0.65,
        y: height * 0.45,
        fontSize: 24,
        fill: InsidePyramid_C.hieroglyph,
        opacity: 0.22,
        fontFamily: "serif",
        children: "\u{13180} \u{13080} \u{13200}"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "text",
      {
        x: width * 0.68,
        y: height * 0.55,
        fontSize: 18,
        fill: InsidePyramid_C.hieroglyph,
        opacity: 0.18,
        fontFamily: "serif",
        children: "\u{13100} \u{131C0} \u{13140} \u{13000}"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "text",
      {
        x: width * 0.06,
        y: height * 0.4,
        fontSize: 18,
        fill: InsidePyramid_C.hieroglyph,
        opacity: 0.15,
        fontFamily: "serif",
        children: "\u{130C0} \u{13200}"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "text",
      {
        x: width * 0.07,
        y: height * 0.55,
        fontSize: 16,
        fill: InsidePyramid_C.hieroglyph,
        opacity: 0.12,
        fontFamily: "serif",
        children: "\u{13140} \u{13080}"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "text",
      {
        x: width * 0.88,
        y: height * 0.4,
        fontSize: 18,
        fill: InsidePyramid_C.hieroglyph,
        opacity: 0.15,
        fontFamily: "serif",
        children: "\u{13100} \u{131C0}"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "text",
      {
        x: width * 0.87,
        y: height * 0.55,
        fontSize: 16,
        fill: InsidePyramid_C.hieroglyph,
        opacity: 0.12,
        fontFamily: "serif",
        children: "\u{13180} \u{13000}"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.38}, ${height * 0.65})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: width * 0.12,
          cy: height * 0.2 + 5,
          rx: width * 0.14,
          ry: 12,
          fill: "rgba(0,0,0,0.4)"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 0,
          y: 0,
          width: width * 0.24,
          height: height * 0.18,
          rx: 4,
          fill: InsidePyramid_C.sarcophagus,
          stroke: InsidePyramid_C.outline,
          strokeWidth: 2
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M0,0 L${width * 0.02},-${height * 0.03} L${width * 0.26},-${height * 0.03} L${width * 0.24},0 Z`,
          fill: InsidePyramid_C.sarcophagusLight,
          stroke: InsidePyramid_C.outline,
          strokeWidth: 1.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.24},0 L${width * 0.26},-${height * 0.03} L${width * 0.26},${height * 0.15} L${width * 0.24},${height * 0.18} Z`,
          fill: InsidePyramid_C.sarcophagusDark,
          stroke: InsidePyramid_C.outline,
          strokeWidth: 1.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: width * 0.02,
          y: height * 0.02,
          width: width * 0.2,
          height: height * 0.14,
          rx: 2,
          fill: "none",
          stroke: InsidePyramid_C.sarcophagusDetail,
          strokeWidth: 1.5,
          opacity: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "text",
        {
          x: width * 0.12,
          y: height * 0.11,
          textAnchor: "middle",
          fontSize: 28,
          fill: InsidePyramid_C.sarcophagusDetail,
          opacity: 0.5,
          fontFamily: "serif",
          children: "\u{13080}"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: width * 0.03,
          y1: height * 0.06,
          x2: width * 0.21,
          y2: height * 0.06,
          stroke: InsidePyramid_C.sarcophagusDetail,
          strokeWidth: 0.8,
          opacity: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: width * 0.03,
          y1: height * 0.14,
          x2: width * 0.21,
          y2: height * 0.14,
          stroke: InsidePyramid_C.sarcophagusDetail,
          strokeWidth: 0.8,
          opacity: 0.3
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(CrowdLayer, { config: CROWD_CONFIGS.insidePyramid }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height,
        fill: "url(#ip-glow-left)",
        opacity: glowPulse
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height,
        fill: "url(#ip-glow-right)",
        opacity: glowPulse2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height, fill: "url(#ip-ambient)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      Torch,
      {
        x: torchLX,
        y: torchY,
        flame1,
        flame2,
        flame3,
        glowPulse,
        side: "left"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      Torch,
      {
        x: torchRX,
        y: torchY,
        flame1: flame4,
        flame2: flame3,
        flame3: flame1,
        glowPulse: glowPulse2,
        side: "right"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width / 2 - 210}, ${height * 0.17})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -10,
          y: -10,
          width: 440,
          height: 190,
          rx: 5,
          fill: InsidePyramid_C.boardFrame,
          stroke: InsidePyramid_C.outline,
          strokeWidth: 2.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 420, height: 170, rx: 2, fill: InsidePyramid_C.boardBg }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 8,
          y: 8,
          width: 404,
          height: 154,
          rx: 2,
          fill: "none",
          stroke: InsidePyramid_C.hieroglyph,
          strokeWidth: 1,
          opacity: 0.25
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("text", { x: 16, y: 28, fontSize: 14, fill: InsidePyramid_C.hieroglyph, opacity: 0.3, fontFamily: "serif", children: "\u{13000}" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("text", { x: 394, y: 28, fontSize: 14, fill: InsidePyramid_C.hieroglyph, opacity: 0.3, fontFamily: "serif", textAnchor: "end", children: "\u{13080}" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("text", { x: 16, y: 155, fontSize: 14, fill: InsidePyramid_C.hieroglyph, opacity: 0.3, fontFamily: "serif", children: "\u{130C0}" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("text", { x: 394, y: 155, fontSize: 14, fill: InsidePyramid_C.hieroglyph, opacity: 0.3, fontFamily: "serif", textAnchor: "end", children: "\u{13140}" }),
      boardText && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "text",
        {
          x: 210,
          y: 100,
          textAnchor: "middle",
          fill: InsidePyramid_C.chalk,
          fontSize: 36,
          fontFamily: "'Courier New', monospace",
          fontWeight: "bold",
          opacity: 0.9,
          children: boardText
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height, fill: "url(#ip-vignette)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,0 L${width * 0.12},0 L0,${height * 0.15} Z`,
        fill: "rgba(0,0,0,0.5)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width},0 L${width * 0.88},0 L${width},${height * 0.15} Z`,
        fill: "rgba(0,0,0,0.5)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${height} L${width * 0.08},${height} L0,${height * 0.88} Z`,
        fill: "rgba(0,0,0,0.4)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width},${height} L${width * 0.92},${height} L${width},${height * 0.88} Z`,
        fill: "rgba(0,0,0,0.4)"
      }
    )
  ] });
};
const Torch = ({ x, y, flame1, flame2, flame3, glowPulse, side }) => {
  const bracketDir = side === "left" ? 1 : -1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: -bracketDir * 20,
        y1: 0,
        x2: 0,
        y2: -10,
        stroke: InsidePyramid_C.torchBracket,
        strokeWidth: 4,
        strokeLinecap: "round"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: -bracketDir * 20,
        y1: 0,
        x2: -bracketDir * 20,
        y2: 15,
        stroke: InsidePyramid_C.torchBracket,
        strokeWidth: 3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: -5,
        y: -10,
        width: 10,
        height: 50,
        rx: 2,
        fill: InsidePyramid_C.torchWood,
        stroke: InsidePyramid_C.outline,
        strokeWidth: 1.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -6, y: -8, width: 12, height: 8, rx: 1, fill: "#7A5A3A", opacity: 0.6 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 0,
        cy: -30,
        rx: 35 + flame1 * 5,
        ry: 40 + flame2 * 5,
        fill: "rgba(255,140,30,0.12)",
        opacity: glowPulse
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M-10,-12 Q${-6 + flame1 * 3},-40 ${flame2 * 2},-55 Q${6 + flame3 * 3},-40 10,-12 Z`,
        fill: InsidePyramid_C.flameOuter,
        opacity: 0.8
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M-6,-12 Q${-3 + flame2 * 2},-35 ${flame1 * 1.5},-46 Q${4 + flame1 * 2},-35 6,-12 Z`,
        fill: InsidePyramid_C.flameInner,
        opacity: 0.85
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M-3,-12 Q${-1 + flame3 * 1},-28 ${flame2 * 1},-35 Q${2 + flame2},-28 3,-12 Z`,
        fill: InsidePyramid_C.flameCore,
        opacity: 0.9
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "circle",
      {
        cx: flame1 * 4,
        cy: -58 + flame2 * 3,
        r: 1.5,
        fill: InsidePyramid_C.flameInner,
        opacity: 0.4 + flame3 * 0.3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "circle",
      {
        cx: -3 + flame3 * 3,
        cy: -62 + flame1 * 4,
        r: 1,
        fill: InsidePyramid_C.flameCore,
        opacity: 0.3 + flame2 * 0.3
      }
    )
  ] });
};
/* harmony default export */ const backgrounds_InsidePyramid = ((/* unused pure expression or super */ null && (InsidePyramid)));

;// ./src/backgrounds/NileRiver.tsx





const NileRiver_C = {
  skyTop: "#4A90D9",
  skyBottom: "#87CEEB",
  sun: "#FFD700",
  sunGlow: "rgba(255,215,0,0.25)",
  water: "#2E7D8A",
  waterDark: "#246A75",
  waterLight: "#3A9AAA",
  waterReflect: "rgba(255,255,255,0.15)",
  sand: "#D4A868",
  sandDark: "#C49858",
  sandLight: "#E4C088",
  boatWood: "#8B6B4A",
  boatWoodDark: "#6B4F32",
  boatWoodLight: "#A07E5A",
  sail: "#F5E8D0",
  sailShade: "#DDD0B8",
  stone: "#9A8A78",
  stoneDark: "#7A6A58",
  papyrus: "#3D7A3D",
  papyrusDark: "#2D5A2D",
  palm: "#2D6B1E",
  palmTrunk: "#8B6B4A",
  pyramidSilhouette: "#B8986A",
  pyramidSilhouetteShade: "#A08050",
  boardBg: "#C4986A",
  boardFrame: "#8B6B4A",
  boardStone: "#B8906A",
  chalk: "#F5E8C8",
  hieroglyph: "#8B6B4A",
  outline: "#1A1A1A",
  bird: "#2A2A2A"
};
const NileRiver = ({
  boardText = "",
  width = 1920,
  height = 1080
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const sunPulse = 1 + sineWave(frame, 0.05) * 0.03;
  const waterRipple1 = sineWave(frame, 0.12);
  const waterRipple2 = sineWave(frame, 0.18, 1.2);
  const boatBob = sineWave(frame, 0.08) * 3;
  const boatBob2 = sineWave(frame, 0.06, 0.8) * 2;
  const sailBillow = sineWave(frame, 0.1) * 4;
  const papyrusSway1 = sineWave(frame, 0.07) * 3;
  const papyrusSway2 = sineWave(frame, 0.09, 0.5) * 2.5;
  const papyrusSway3 = sineWave(frame, 0.06, 1) * 3.5;
  const riverTop = height * 0.38;
  const riverBottom = height * 0.62;
  const riverMid = (riverTop + riverBottom) / 2;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("svg", { viewBox: `0 0 ${width} ${height}`, width, height, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("defs", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "nile-sky", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: NileRiver_C.skyTop }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: NileRiver_C.skyBottom })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "nile-water", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: NileRiver_C.waterLight }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "40%", stopColor: NileRiver_C.water }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: NileRiver_C.waterDark })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "nile-sun-glow", cx: "50%", cy: "50%", r: "50%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: NileRiver_C.sunGlow }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height: riverTop, fill: "url(#nile-sky)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.82}, ${height * 0.12}) scale(${sunPulse})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 70, fill: NileRiver_C.sunGlow, opacity: 0.35 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 45, fill: NileRiver_C.sun }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -10, cy: -10, r: 14, fill: "white", opacity: 0.3 })
    ] }),
    [
      { x: width * 0.2, y: height * 0.08, s: 1, ph: 0 },
      { x: width * 0.28, y: height * 0.11, s: 0.7, ph: 0.4 },
      { x: width * 0.55, y: height * 0.06, s: 0.9, ph: 0.8 },
      { x: width * 0.62, y: height * 0.1, s: 0.6, ph: 1.5 },
      { x: width * 0.4, y: height * 0.14, s: 0.8, ph: 2 }
    ].map((b, i) => {
      const wingFlap = sineWave(frame, 0.2, b.ph) * 3;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(${b.x}, ${b.y}) scale(${b.s})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M-12,${wingFlap} Q-6,${-4 + wingFlap * 0.5} 0,0 Q6,${-4 + wingFlap * 0.5} 12,${wingFlap}`,
          fill: "none",
          stroke: NileRiver_C.bird,
          strokeWidth: 2,
          strokeLinecap: "round"
        }
      ) }, `bird-${i}`);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.15}, ${riverTop})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 L-35,-50 L35,0 Z", fill: NileRiver_C.pyramidSilhouette, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 L5,-50 L35,0 Z", fill: NileRiver_C.pyramidSilhouetteShade, opacity: 0.3 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.25}, ${riverTop})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 L-25,-35 L25,0 Z", fill: NileRiver_C.pyramidSilhouette, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 L5,-35 L25,0 Z", fill: NileRiver_C.pyramidSilhouetteShade, opacity: 0.25 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(${width * 0.08}, ${riverTop})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 L-18,-25 L18,0 Z", fill: NileRiver_C.pyramidSilhouette, opacity: 0.3 }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${riverTop}
          Q${width * 0.1},${riverTop - 12} ${width * 0.2},${riverTop - 5}
          Q${width * 0.4},${riverTop + 6} ${width * 0.6},${riverTop - 3}
          Q${width * 0.8},${riverTop + 8} ${width},${riverTop - 2}
          L${width},${riverTop - 60} L0,${riverTop - 60} Z`,
        fill: NileRiver_C.sand
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${riverTop + 3}
          Q${width * 0.15},${riverTop - 8} ${width * 0.3},${riverTop + 2}
          Q${width * 0.5},${riverTop + 10} ${width * 0.7},${riverTop}
          Q${width * 0.85},${riverTop + 5} ${width},${riverTop + 2}
          L${width},${riverTop} L0,${riverTop} Z`,
        fill: NileRiver_C.sandDark,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(NileRiver_PalmTree, { x: width * 0.42, y: riverTop - 8, h: 110, lean: -4 + papyrusSway1 * 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(NileRiver_PalmTree, { x: width * 0.58, y: riverTop - 5, h: 100, lean: 3 + papyrusSway2 * 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(NileRiver_PalmTree, { x: width * 0.72, y: riverTop - 10, h: 120, lean: -2 + papyrusSway1 * 0.2 }),
    [
      { x: width * 0.02, sway: papyrusSway1 },
      { x: width * 0.06, sway: papyrusSway2 },
      { x: width * 0.1, sway: papyrusSway3 },
      { x: width * 0.35, sway: papyrusSway2 },
      { x: width * 0.38, sway: papyrusSway1 },
      { x: width * 0.65, sway: papyrusSway3 },
      { x: width * 0.68, sway: papyrusSway1 },
      { x: width * 0.92, sway: papyrusSway2 },
      { x: width * 0.96, sway: papyrusSway3 }
    ].map((p, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(PapyrusReed, { x: p.x, y: riverTop + 5, sway: p.sway, flip: false }, `pr-top-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: riverTop, width, height: riverBottom - riverTop, fill: "url(#nile-water)" }),
    [0, 0.15, 0.3, 0.45, 0.6, 0.75, 0.9].map((frac, i) => {
      const yOff = riverTop + (riverBottom - riverTop) * (0.15 + frac * 0.7);
      const xShift = waterRipple1 * 8 + i * 20;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${-40 + xShift},${yOff}
              Q${width * 0.1 + xShift},${yOff - 3 + waterRipple2 * 2} ${width * 0.2 + xShift},${yOff}
              Q${width * 0.3 + xShift},${yOff + 3 - waterRipple2 * 2} ${width * 0.4 + xShift},${yOff}
              Q${width * 0.5 + xShift},${yOff - 2 + waterRipple1 * 2} ${width * 0.6 + xShift},${yOff}
              Q${width * 0.7 + xShift},${yOff + 3 - waterRipple1 * 2} ${width * 0.8 + xShift},${yOff}
              Q${width * 0.9 + xShift},${yOff - 2 + waterRipple2 * 1.5} ${width + 40 + xShift},${yOff}`,
          fill: "none",
          stroke: NileRiver_C.waterReflect,
          strokeWidth: 1.5,
          opacity: 0.3 + sineWave(frame, 0.1, i * 0.7) * 0.15
        },
        `ripple-${i}`
      );
    }),
    [
      { x: width * 0.15, y: riverMid - 15, w: 40 },
      { x: width * 0.35, y: riverMid + 10, w: 55 },
      { x: width * 0.55, y: riverMid - 5, w: 35 },
      { x: width * 0.75, y: riverMid + 15, w: 45 },
      { x: width * 0.9, y: riverMid - 10, w: 30 }
    ].map((r, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: r.x,
        y1: r.y,
        x2: r.x + r.w,
        y2: r.y,
        stroke: "white",
        strokeWidth: 1,
        opacity: 0.15 + sineWave(frame, 0.15, i * 1.1) * 0.1
      },
      `shimmer-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.25}, ${riverMid - 20 + boatBob2})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-40,0 Q-45,-5 -35,-12 L35,-12 Q45,-5 40,0 Z",
          fill: NileRiver_C.boatWood,
          stroke: NileRiver_C.outline,
          strokeWidth: 1.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-40,0 Q-45,-5 -35,-12 L35,-12 Q45,-5 40,0 Z",
          fill: NileRiver_C.boatWoodLight,
          opacity: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -12, x2: 0, y2: -55, stroke: NileRiver_C.boatWoodDark, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M0,-52 L${20 + sailBillow * 0.5},-35 L0,-15 Z`,
          fill: NileRiver_C.sail,
          stroke: NileRiver_C.outline,
          strokeWidth: 1,
          opacity: 0.9
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -15, y: -18, width: 14, height: 8, fill: NileRiver_C.stone, stroke: NileRiver_C.outline, strokeWidth: 1, rx: 1 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.55}, ${riverMid - 10 + boatBob})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-120,0 Q-130,-8 -110,-22 L110,-22 Q130,-8 120,0 Z",
          fill: NileRiver_C.boatWood,
          stroke: NileRiver_C.outline,
          strokeWidth: 2
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-105,-20 L105,-20 Q120,-10 110,-2 L-110,-2 Q-120,-10 -105,-20 Z",
          fill: NileRiver_C.boatWoodLight,
          opacity: 0.25
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -100, y1: -14, x2: 100, y2: -14, stroke: NileRiver_C.boatWoodDark, strokeWidth: 1, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -95, y1: -7, x2: 95, y2: -7, stroke: NileRiver_C.boatWoodDark, strokeWidth: 1, opacity: 0.2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -70, y: -38, width: 30, height: 18, fill: NileRiver_C.stone, stroke: NileRiver_C.outline, strokeWidth: 1.5, rx: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -70, y: -38, width: 30, height: 18, fill: NileRiver_C.stoneDark, opacity: 0.2, rx: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -35, y: -38, width: 30, height: 18, fill: NileRiver_C.stone, stroke: NileRiver_C.outline, strokeWidth: 1.5, rx: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -35, y: -40, width: 28, height: 4, fill: "white", opacity: 0.08, rx: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: -38, width: 30, height: 18, fill: NileRiver_C.stone, stroke: NileRiver_C.outline, strokeWidth: 1.5, rx: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: -38, width: 30, height: 18, fill: NileRiver_C.stoneDark, opacity: 0.15, rx: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -55, y: -54, width: 28, height: 16, fill: NileRiver_C.stoneDark, stroke: NileRiver_C.outline, strokeWidth: 1.5, rx: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -20, y: -54, width: 28, height: 16, fill: NileRiver_C.stone, stroke: NileRiver_C.outline, strokeWidth: 1.5, rx: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 55, y1: -22, x2: 55, y2: -110, stroke: NileRiver_C.boatWoodDark, strokeWidth: 3.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 35, y1: -105, x2: 75, y2: -105, stroke: NileRiver_C.boatWoodDark, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M55,-108
            Q${85 + sailBillow},-85 ${80 + sailBillow * 1.2},-55
            L55,-40 Z`,
          fill: NileRiver_C.sail,
          stroke: NileRiver_C.outline,
          strokeWidth: 1.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M55,-108
            Q${85 + sailBillow},-85 ${80 + sailBillow * 1.2},-55
            L55,-40 Z`,
          fill: NileRiver_C.sailShade,
          opacity: 0.2
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M55,-95 Q${72 + sailBillow * 0.7},-77 ${70 + sailBillow * 0.8},-58`,
          fill: "none",
          stroke: NileRiver_C.boatWoodDark,
          strokeWidth: 0.8,
          opacity: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 110, y1: -18, x2: 130, y2: 8, stroke: NileRiver_C.boatWoodDark, strokeWidth: 3, strokeLinecap: "round" })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${riverBottom}
          Q${width * 0.12},${riverBottom + 8} ${width * 0.25},${riverBottom + 2}
          Q${width * 0.45},${riverBottom - 6} ${width * 0.65},${riverBottom + 4}
          Q${width * 0.8},${riverBottom + 10} ${width},${riverBottom}
          L${width},${height} L0,${height} Z`,
        fill: NileRiver_C.sand
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${riverBottom + 5}
          Q${width * 0.2},${riverBottom + 15} ${width * 0.4},${riverBottom + 8}
          Q${width * 0.6},${riverBottom + 18} ${width * 0.8},${riverBottom + 10}
          Q${width * 0.9},${riverBottom + 20} ${width},${riverBottom + 12}
          L${width},${height} L0,${height} Z`,
        fill: NileRiver_C.sandDark,
        opacity: 0.3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${riverBottom + 2}
          Q${width * 0.3},${riverBottom - 4} ${width * 0.5},${riverBottom + 3}
          Q${width * 0.7},${riverBottom - 2} ${width},${riverBottom + 1}
          L${width},${riverBottom} L0,${riverBottom} Z`,
        fill: NileRiver_C.sandLight,
        opacity: 0.4
      }
    ),
    [
      { x: width * 0.03, sway: papyrusSway2 },
      { x: width * 0.07, sway: papyrusSway3 },
      { x: width * 0.12, sway: papyrusSway1 },
      { x: width * 0.3, sway: papyrusSway3 },
      { x: width * 0.33, sway: papyrusSway2 },
      { x: width * 0.48, sway: papyrusSway1 },
      { x: width * 0.78, sway: papyrusSway2 },
      { x: width * 0.82, sway: papyrusSway3 },
      { x: width * 0.94, sway: papyrusSway1 },
      { x: width * 0.98, sway: papyrusSway2 }
    ].map((p, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(PapyrusReed, { x: p.x, y: riverBottom - 5, sway: p.sway, flip: true }, `pr-bot-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(CrowdLayer, { config: CROWD_CONFIGS.nileRiver }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width / 2 - 200}, ${height * 0.72})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -4, y: 4, width: 416, height: 176, rx: 6, fill: "rgba(0,0,0,0.15)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -8, y: -8, width: 416, height: 176, rx: 4, fill: NileRiver_C.boardFrame, stroke: NileRiver_C.outline, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 400, height: 160, fill: NileRiver_C.boardBg }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 20, y1: 40, x2: 380, y2: 40, stroke: NileRiver_C.boardStone, strokeWidth: 0.5, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 20, y1: 80, x2: 380, y2: 80, stroke: NileRiver_C.boardStone, strokeWidth: 0.5, opacity: 0.2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 20, y1: 120, x2: 380, y2: 120, stroke: NileRiver_C.boardStone, strokeWidth: 0.5, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("text", { x: 30, y: 28, fontSize: 16, fill: NileRiver_C.hieroglyph, opacity: 0.25, fontFamily: "serif", children: "\u{13000} \u{13080} \u{130C0} \u{13100}" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("text", { x: 30, y: 148, fontSize: 16, fill: NileRiver_C.hieroglyph, opacity: 0.25, fontFamily: "serif", children: "\u{13140} \u{13180} \u{131C0} \u{13200}" }),
      boardText && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "text",
        {
          x: 200,
          y: 95,
          textAnchor: "middle",
          fill: NileRiver_C.chalk,
          fontSize: 36,
          fontFamily: "'Courier New', monospace",
          fontWeight: "bold",
          opacity: 0.9,
          children: boardText
        }
      )
    ] })
  ] });
};
const PapyrusReed = ({
  x,
  y,
  sway,
  flip
}) => {
  const dir = flip ? 1 : -1;
  const stalkH = 55 + Math.abs(sway) * 2;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,0 Q${sway * 0.6},${dir * -stalkH * 0.5} ${sway},${dir * -stalkH}`,
        fill: "none",
        stroke: NileRiver_C.papyrus,
        strokeWidth: 3,
        strokeLinecap: "round"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${sway}, ${dir * -stalkH})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M0,0 Q${-8 + sway * 0.3},${dir * -12} ${-14 + sway * 0.4},${dir * -6}`,
          fill: "none",
          stroke: NileRiver_C.papyrus,
          strokeWidth: 2,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M0,0 Q${-3 + sway * 0.2},${dir * -15} ${-5 + sway * 0.2},${dir * -10}`,
          fill: "none",
          stroke: NileRiver_C.papyrus,
          strokeWidth: 2,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M0,0 Q${3 + sway * 0.2},${dir * -15} ${5 + sway * 0.2},${dir * -10}`,
          fill: "none",
          stroke: NileRiver_C.papyrus,
          strokeWidth: 2,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M0,0 Q${8 + sway * 0.3},${dir * -12} ${14 + sway * 0.4},${dir * -6}`,
          fill: "none",
          stroke: NileRiver_C.papyrus,
          strokeWidth: 2,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M0,0 Q${0 + sway * 0.1},${dir * -16} ${0 + sway * 0.15},${dir * -12}`,
          fill: "none",
          stroke: NileRiver_C.papyrusDark,
          strokeWidth: 1.5,
          strokeLinecap: "round"
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M3,0 Q${sway * 0.4 + 2},${dir * -stalkH * 0.35} ${sway * 0.7 + 4},${dir * -stalkH * 0.6}`,
        fill: "none",
        stroke: NileRiver_C.papyrusDark,
        strokeWidth: 2,
        strokeLinecap: "round"
      }
    )
  ] });
};
const NileRiver_PalmTree = ({
  x,
  y,
  h,
  lean
}) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M0,0 Q${lean},-${h * 0.5} ${lean * 1.5},-${h}`,
      fill: "none",
      stroke: NileRiver_C.palmTrunk,
      strokeWidth: 8,
      strokeLinecap: "round"
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M0,0 Q${lean},-${h * 0.5} ${lean * 1.5},-${h}`,
      fill: "none",
      stroke: NileRiver_C.outline,
      strokeWidth: 10,
      strokeLinecap: "round",
      opacity: 0.08
    }
  ),
  [0.25, 0.45, 0.65, 0.85].map((r, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "ellipse",
    {
      cx: lean * r * 1.5,
      cy: -h * r,
      rx: 5,
      ry: 2,
      fill: "none",
      stroke: NileRiver_C.outline,
      strokeWidth: 1,
      opacity: 0.2
    },
    `r-${i}`
  )),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${lean * 1.5}, -${h})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q-35,-18 -55,5", fill: "none", stroke: NileRiver_C.palm, strokeWidth: 3.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q-25,-30 -45,-12", fill: "none", stroke: NileRiver_C.palm, strokeWidth: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q35,-18 55,5", fill: "none", stroke: NileRiver_C.palm, strokeWidth: 3.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q25,-30 45,-12", fill: "none", stroke: NileRiver_C.palm, strokeWidth: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q-12,-35 -18,-8", fill: "none", stroke: NileRiver_C.palm, strokeWidth: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q12,-35 18,-8", fill: "none", stroke: NileRiver_C.palm, strokeWidth: 3 })
  ] })
] });
/* harmony default export */ const backgrounds_NileRiver = ((/* unused pure expression or super */ null && (NileRiver)));

;// ./src/backgrounds/WorkersVillage.tsx





const WorkersVillage_C = {
  skyTop: "#4A90D9",
  skyBottom: "#6BA3D6",
  sun: "#FFD700",
  sunGlow: "rgba(255,200,50,0.3)",
  cloud: "#F0F0F0",
  cloudShadow: "#D8D8E8",
  sand: "#D4A868",
  sandDark: "#C49858",
  sandLight: "#E4B878",
  path: "#C49040",
  pathEdge: "#B08030",
  building: "#C4986A",
  buildingDark: "#B08858",
  buildingLight: "#D4A878",
  roofTop: "#A07848",
  doorway: "#5A3A20",
  oven: "#A06030",
  ovenDark: "#7A4820",
  ovenGlow: "#FF6030",
  smoke: "rgba(120,110,100,0.25)",
  pot: "#B07040",
  potDark: "#8A5530",
  well: "#9A8060",
  wellWater: "#4A80B0",
  awning: "#C86040",
  awningAlt: "#D4A040",
  rack: "#8B6B4A",
  fish: "#C8A870",
  pyramid: "#C4986A",
  pyramidShade: "#A07848",
  outline: "#1A1A1A",
  boardBg: "#C4986A",
  boardFrame: "#8B6B4A",
  chalk: "#F5E8C8",
  hieroglyph: "#8B6B4A"
};
const WorkersVillage = ({
  boardText = "",
  width = 1920,
  height = 1080
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const sunPulse = 1 + sineWave(frame, 0.05) * 0.03;
  const heatShimmer = sineWave(frame, 0.15) * 2;
  const smokeRise = sineWave(frame, 0.12);
  const smokeRise2 = sineWave(frame, 0.09, 1.5);
  const awningSway1 = sineWave(frame, 0.08) * 3;
  const awningSway2 = sineWave(frame, 0.07, 0.8) * 2.5;
  const cloudDrift = frame * 0.15 % (width + 400);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("svg", { viewBox: `0 0 ${width} ${height}`, width, height, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("defs", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "wv-sky", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: WorkersVillage_C.skyTop }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: WorkersVillage_C.skyBottom })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "wv-sun-glow", cx: "50%", cy: "50%", r: "50%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: WorkersVillage_C.sunGlow }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "wv-ground", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: WorkersVillage_C.sandLight }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: WorkersVillage_C.sand })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height: height * 0.55, fill: "url(#wv-sky)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.82}, ${height * 0.12}) scale(${sunPulse})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 70, fill: WorkersVillage_C.sunGlow, opacity: 0.35 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 45, fill: WorkersVillage_C.sun }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -10, cy: -10, r: 14, fill: "white", opacity: 0.3 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${-200 + cloudDrift}, ${height * 0.08})`, opacity: 0.7, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 60, ry: 22, fill: WorkersVillage_C.cloud }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 40, cy: -5, rx: 45, ry: 18, fill: WorkersVillage_C.cloud }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -30, cy: 5, rx: 40, ry: 16, fill: WorkersVillage_C.cloudShadow })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${-500 + cloudDrift * 0.7}, ${height * 0.15})`, opacity: 0.5, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 50, ry: 18, fill: WorkersVillage_C.cloud }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 35, cy: -3, rx: 35, ry: 14, fill: WorkersVillage_C.cloud })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${-100 + cloudDrift * 0.5}, ${height * 0.06})`, opacity: 0.4, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 40, ry: 14, fill: WorkersVillage_C.cloud }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 28, cy: -4, rx: 30, ry: 12, fill: WorkersVillage_C.cloud })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.35, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.08},${height * 0.52} L${width * 0.13},${height * 0.38} L${width * 0.18},${height * 0.52} Z`,
          fill: WorkersVillage_C.pyramid,
          stroke: WorkersVillage_C.outline,
          strokeWidth: 1
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.13},${height * 0.38} L${width * 0.155},${height * 0.52} L${width * 0.18},${height * 0.52} Z`,
          fill: WorkersVillage_C.pyramidShade,
          opacity: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.15},${height * 0.52} L${width * 0.2},${height * 0.4} L${width * 0.25},${height * 0.52} Z`,
          fill: WorkersVillage_C.pyramid,
          stroke: WorkersVillage_C.outline,
          strokeWidth: 1
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.2},${height * 0.4} L${width * 0.225},${height * 0.52} L${width * 0.25},${height * 0.52} Z`,
          fill: WorkersVillage_C.pyramidShade,
          opacity: 0.5
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.5, width, height: height * 0.5, fill: "url(#wv-ground)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${height * 0.54} Q${width * 0.2},${height * 0.52 + heatShimmer} ${width * 0.4},${height * 0.53}
        Q${width * 0.6},${height * 0.51} ${width * 0.8},${height * 0.53 + heatShimmer * 0.5}
        L${width},${height * 0.52} L${width},${height * 0.55} L0,${height * 0.55} Z`,
        fill: WorkersVillage_C.sandDark,
        opacity: 0.3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.35},${height * 0.55} Q${width * 0.4},${height * 0.62} ${width * 0.42},${height * 0.7}
        Q${width * 0.45},${height * 0.8} ${width * 0.5},${height * 0.92}
        Q${width * 0.52},${height} ${width * 0.55},${height}`,
        fill: "none",
        stroke: WorkersVillage_C.path,
        strokeWidth: 80,
        strokeLinecap: "round"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.35},${height * 0.55} Q${width * 0.4},${height * 0.62} ${width * 0.42},${height * 0.7}
        Q${width * 0.45},${height * 0.8} ${width * 0.5},${height * 0.92}
        Q${width * 0.52},${height} ${width * 0.55},${height}`,
        fill: "none",
        stroke: WorkersVillage_C.pathEdge,
        strokeWidth: 84,
        strokeLinecap: "round",
        opacity: 0.3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(MudbrickBuilding, { x: width * 0.05, y: height * 0.52, w: 160, h: 120 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(MudbrickBuilding, { x: width * 0.18, y: height * 0.48, w: 120, h: 90 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(MudbrickBuilding, { x: width * 0.08, y: height * 0.65, w: 140, h: 110 }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.08 + 140}, ${height * 0.65 + 20})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: 80, stroke: WorkersVillage_C.rack, strokeWidth: 4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 70, y1: 10, x2: 70, y2: 90, stroke: WorkersVillage_C.rack, strokeWidth: 4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M-5,${0 + awningSway1} Q35,${-8 + awningSway1 * 0.5} 75,${3 + awningSway1}`,
          fill: "none",
          stroke: WorkersVillage_C.awning,
          strokeWidth: 12,
          opacity: 0.85
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M-5,${20 + awningSway1 * 0.8} Q35,${12 + awningSway1 * 0.3} 75,${23 + awningSway1 * 0.8}`,
          fill: "none",
          stroke: WorkersVillage_C.awning,
          strokeWidth: 12,
          opacity: 0.7
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.24}, ${height * 0.62})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 150, height: 110, fill: WorkersVillage_C.building, stroke: WorkersVillage_C.outline, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: -6, width: 158, height: 8, fill: WorkersVillage_C.roofTop, stroke: WorkersVillage_C.outline, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 30, y: 60, width: 40, height: 50, fill: WorkersVillage_C.doorway, stroke: WorkersVillage_C.outline, strokeWidth: 1.5, rx: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 100, y: 25, width: 25, height: 25, fill: WorkersVillage_C.doorway, stroke: WorkersVillage_C.outline, strokeWidth: 1.5, opacity: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(165, 50)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 30, cy: 60, rx: 35, ry: 10, fill: WorkersVillage_C.sandDark, opacity: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,60 Q0,0 30,-10 Q60,0 60,60 Z", fill: WorkersVillage_C.oven, stroke: WorkersVillage_C.outline, strokeWidth: 2 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M30,-10 Q60,0 60,60 L40,60 Q50,10 30,-10 Z", fill: WorkersVillage_C.ovenDark, opacity: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M15,60 Q15,40 30,35 Q45,40 45,60 Z", fill: WorkersVillage_C.doorway, stroke: WorkersVillage_C.outline, strokeWidth: 1.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 30, cy: 52, rx: 10, ry: 6, fill: WorkersVillage_C.ovenGlow, opacity: 0.4 + sineWave(frame, 0.2) * 0.15 }),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.5 + smokeRise * 0.15, children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 30 + smokeRise * 3, cy: -25 - frame * 0.3 % 40, rx: 8, ry: 5, fill: WorkersVillage_C.smoke }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 25 + smokeRise2 * 4, cy: -45 - frame * 0.25 % 35, rx: 10, ry: 6, fill: WorkersVillage_C.smoke, opacity: 0.7 }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 32 + smokeRise * 5, cy: -65 - frame * 0.2 % 30, rx: 12, ry: 7, fill: WorkersVillage_C.smoke, opacity: 0.5 }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 28 + smokeRise2 * 6, cy: -90 - frame * 0.18 % 25, rx: 14, ry: 8, fill: WorkersVillage_C.smoke, opacity: 0.3 }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 34 + smokeRise * 7, cy: -115 - frame * 0.15 % 20, rx: 16, ry: 9, fill: WorkersVillage_C.smoke, opacity: 0.15 })
        ] })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(MudbrickBuilding, { x: width * 0.55, y: height * 0.54, w: 170, h: 125 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(MudbrickBuilding, { x: width * 0.72, y: height * 0.5, w: 140, h: 100 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(MudbrickBuilding, { x: width * 0.6, y: height * 0.68, w: 130, h: 105 }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.55 - 5}, ${height * 0.54 + 25})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: 85, stroke: WorkersVillage_C.rack, strokeWidth: 4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -65, y1: 10, x2: -65, y2: 95, stroke: WorkersVillage_C.rack, strokeWidth: 4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M5,${2 + awningSway2} Q-30,${-6 + awningSway2 * 0.5} -70,${4 + awningSway2}`,
          fill: "none",
          stroke: WorkersVillage_C.awningAlt,
          strokeWidth: 12,
          opacity: 0.85
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M5,${22 + awningSway2 * 0.7} Q-30,${14 + awningSway2 * 0.3} -70,${24 + awningSway2 * 0.7}`,
          fill: "none",
          stroke: WorkersVillage_C.awningAlt,
          strokeWidth: 12,
          opacity: 0.7
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.17}, ${height * 0.72})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: 60, stroke: WorkersVillage_C.rack, strokeWidth: 4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 80, y1: 0, x2: 80, y2: 60, stroke: WorkersVillage_C.rack, strokeWidth: 4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: 5, x2: 83, y2: 5, stroke: WorkersVillage_C.rack, strokeWidth: 3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: 25, x2: 83, y2: 25, stroke: WorkersVillage_C.rack, strokeWidth: 3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: 45, x2: 83, y2: 45, stroke: WorkersVillage_C.rack, strokeWidth: 3 }),
      [12, 28, 44, 60, 72].map((px, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: px, cy: 12, rx: 7, ry: 3, fill: WorkersVillage_C.fish, stroke: WorkersVillage_C.outline, strokeWidth: 0.8, opacity: 0.8 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: px + 5, cy: 32, rx: 6, ry: 3, fill: WorkersVillage_C.fish, stroke: WorkersVillage_C.outline, strokeWidth: 0.8, opacity: 0.7 })
      ] }, `dry-${i}`))
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.05 + 165}, ${height * 0.52 + 70})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(ClayPot, { x: 0, y: 0, size: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(ClayPot, { x: 22, y: 5, size: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(ClayPot, { x: 10, y: -20, size: 0.7 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.72 - 40}, ${height * 0.5 + 55})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(ClayPot, { x: 0, y: 0, size: 1.1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(ClayPot, { x: 25, y: 3, size: 0.9 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(ClayJar, { x: -20, y: -5, size: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(ClayJar, { x: 50, y: 0, size: 0.8 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.24 - 30}, ${height * 0.62 + 70})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(ClayJar, { x: 0, y: 0, size: 0.9 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(ClayJar, { x: 20, y: 5, size: 0.7 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.44}, ${height * 0.72})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 30, rx: 35, ry: 12, fill: WorkersVillage_C.sandDark, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 28, ry: 10, fill: WorkersVillage_C.well, stroke: WorkersVillage_C.outline, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -6, rx: 28, ry: 10, fill: WorkersVillage_C.well, stroke: WorkersVillage_C.outline, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -28, y: -6, width: 56, height: 6, fill: WorkersVillage_C.well }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -28, y1: -6, x2: -28, y2: 0, stroke: WorkersVillage_C.outline, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 28, y1: -6, x2: 28, y2: 0, stroke: WorkersVillage_C.outline, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -2, rx: 22, ry: 7, fill: WorkersVillage_C.wellWater, opacity: 0.7 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -20, y1: -6, x2: -20, y2: -55, stroke: WorkersVillage_C.rack, strokeWidth: 5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 20, y1: -6, x2: 20, y2: -55, stroke: WorkersVillage_C.rack, strokeWidth: 5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -24, y1: -55, x2: 24, y2: -55, stroke: WorkersVillage_C.rack, strokeWidth: 4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -55, x2: 0, y2: -25, stroke: WorkersVillage_C.outline, strokeWidth: 1.5, opacity: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-6,-25 L-6,-18 L6,-18 L6,-25 Z", fill: WorkersVillage_C.pot, stroke: WorkersVillage_C.outline, strokeWidth: 1 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(CrowdLayer, { config: CROWD_CONFIGS.workersVillage }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width / 2 - 200}, ${height * 0.82})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -8, y: -8, width: 416, height: 146, rx: 4, fill: WorkersVillage_C.boardFrame, stroke: WorkersVillage_C.outline, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 400, height: 130, fill: WorkersVillage_C.boardBg }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("text", { x: 25, y: 22, fontSize: 14, fill: WorkersVillage_C.hieroglyph, opacity: 0.3, fontFamily: "serif", children: "\u{13000} \u{13080} \u{130C0} \u{13100}" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("text", { x: 25, y: 118, fontSize: 14, fill: WorkersVillage_C.hieroglyph, opacity: 0.3, fontFamily: "serif", children: "\u{13140} \u{13180} \u{131C0} \u{13200}" }),
      boardText && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "text",
        {
          x: 200,
          y: 75,
          textAnchor: "middle",
          fill: WorkersVillage_C.chalk,
          fontSize: 34,
          fontFamily: "'Courier New', monospace",
          fontWeight: "bold",
          opacity: 0.9,
          children: boardText
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.48,
        width,
        height: height * 0.12,
        fill: "rgba(255,200,100,0.04)",
        opacity: 0.5 + sineWave(frame, 0.1) * 0.3
      }
    )
  ] });
};
const MudbrickBuilding = ({ x, y, w, h }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 6, y: 6, width: w, height: h, fill: WorkersVillage_C.sandDark, opacity: 0.25, rx: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: w, height: h, fill: WorkersVillage_C.building, stroke: WorkersVillage_C.outline, strokeWidth: 2, rx: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -4, y: -6, width: w + 8, height: 8, fill: WorkersVillage_C.roofTop, stroke: WorkersVillage_C.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: w * 0.6, y: 0, width: w * 0.4, height: h, fill: WorkersVillage_C.buildingDark, opacity: 0.25 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "rect",
    {
      x: w * 0.15,
      y: h * 0.45,
      width: w * 0.22,
      height: h * 0.55,
      fill: WorkersVillage_C.doorway,
      stroke: WorkersVillage_C.outline,
      strokeWidth: 1.5,
      rx: 2
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "rect",
    {
      x: w * 0.6,
      y: h * 0.2,
      width: w * 0.18,
      height: w * 0.15,
      fill: WorkersVillage_C.doorway,
      stroke: WorkersVillage_C.outline,
      strokeWidth: 1.5,
      opacity: 0.8
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: h * 0.33, x2: w, y2: h * 0.33, stroke: WorkersVillage_C.buildingDark, strokeWidth: 0.8, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: h * 0.66, x2: w * 0.15, y2: h * 0.66, stroke: WorkersVillage_C.buildingDark, strokeWidth: 0.8, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: w * 0.37, y1: h * 0.66, x2: w, y2: h * 0.66, stroke: WorkersVillage_C.buildingDark, strokeWidth: 0.8, opacity: 0.3 })
] });
const ClayPot = ({ x, y, size }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${size})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-8,0 Q-10,-12 -6,-18 Q0,-22 6,-18 Q10,-12 8,0 Z",
      fill: WorkersVillage_C.pot,
      stroke: WorkersVillage_C.outline,
      strokeWidth: 1.5
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 8, ry: 3, fill: WorkersVillage_C.potDark, stroke: WorkersVillage_C.outline, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -18, rx: 4, ry: 2, fill: WorkersVillage_C.potDark, opacity: 0.5 })
] });
const ClayJar = ({ x, y, size }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${size})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-7,0 Q-9,-20 -5,-30 Q-3,-34 0,-35 Q3,-34 5,-30 Q9,-20 7,0 Z",
      fill: WorkersVillage_C.pot,
      stroke: WorkersVillage_C.outline,
      strokeWidth: 1.5
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 7, ry: 3, fill: WorkersVillage_C.potDark, stroke: WorkersVillage_C.outline, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -35, rx: 3, ry: 1.5, fill: WorkersVillage_C.potDark, opacity: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -3, y: -37, width: 6, height: 4, fill: WorkersVillage_C.pot, stroke: WorkersVillage_C.outline, strokeWidth: 1, rx: 1 })
] });
/* harmony default export */ const backgrounds_WorkersVillage = ((/* unused pure expression or super */ null && (WorkersVillage)));

;// ./src/backgrounds/SphinxView.tsx





const SphinxView_C = {
  skyTop: "#1E3A8A",
  skyMid: "#4A6FB5",
  skyBottom: "#D4A012",
  sun: "#FFD700",
  sunGlow: "rgba(255,200,50,0.3)",
  sand: "#D4A868",
  sandDark: "#C49858",
  sandLight: "#E4B878",
  stone: "#C4986A",
  stoneMid: "#B8906A",
  stoneDark: "#A07848",
  stoneLight: "#D4B08A",
  nemes: "#1E3A8A",
  nemesGold: "#D4A012",
  kohl: "#1A1A1A",
  pyramid: "#C4986A",
  pyramidShade: "#A07848",
  pyramidLine: "#B08858",
  outline: "#1A1A1A",
  boardBg: "#C4986A",
  boardFrame: "#8B6B4A",
  chalk: "#F5E8C8",
  hieroglyph: "#8B6B4A",
  ruins: "#B08050"
};
const SphinxView = ({
  boardText = "",
  width = 1920,
  height = 1080
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const heatShimmer = sineWave(frame, 0.15) * 2;
  const heatShimmer2 = sineWave(frame, 0.12, 1.5) * 1.5;
  const sunPulse = 1 + sineWave(frame, 0.05) * 0.03;
  const sandParticles = Array.from({ length: 12 }, (_, i) => {
    const baseX = (i * 173 + 50) % width;
    const baseY = height * 0.6 + i * 47 % (height * 0.3);
    const driftX = sineWave(frame, 0.08 + i * 0.01, i * 0.7) * 8;
    const driftY = sineWave(frame, 0.06 + i * 0.015, i * 1.2) * 4;
    return { x: baseX + driftX, y: baseY + driftY, r: 1 + i % 3 * 0.5, o: 0.15 + i % 4 * 0.05 };
  });
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("svg", { viewBox: `0 0 ${width} ${height}`, width, height, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("defs", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "spx-sky", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: SphinxView_C.skyTop }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "40%", stopColor: SphinxView_C.skyMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "85%", stopColor: SphinxView_C.skyBottom }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: SphinxView_C.sand })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "spx-sun-glow", cx: "50%", cy: "50%", r: "50%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(255,215,0,0.5)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "40%", stopColor: "rgba(255,200,50,0.15)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "spx-body-grad", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: SphinxView_C.stoneLight }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "50%", stopColor: SphinxView_C.stone }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: SphinxView_C.stoneMid })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("pattern", { id: "spx-nemes-stripes", x: "0", y: "0", width: "8", height: "8", patternUnits: "userSpaceOnUse", patternTransform: "rotate(-15)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { width: "8", height: "8", fill: SphinxView_C.nemes }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { width: "4", height: "8", fill: SphinxView_C.nemesGold })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("filter", { id: "spx-heat", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("feTurbulence", { type: "turbulence", baseFrequency: "0.01", numOctaves: "2", seed: Math.floor(frame / 3) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("feDisplacementMap", { in: "SourceGraphic", scale: "3" })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height: height * 0.65, fill: "url(#spx-sky)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.82}, ${height * 0.15}) scale(${sunPulse})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 90, fill: "url(#spx-sun-glow)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 45, fill: SphinxView_C.sun }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -10, cy: -10, r: 14, fill: "white", opacity: 0.3 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.72}, ${height * 0.56})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,-340 L-260,0 L260,0 Z", fill: SphinxView_C.pyramid, stroke: SphinxView_C.outline, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,-340 L-60,0 L-260,0 Z", fill: SphinxView_C.pyramidShade, opacity: 0.35 }),
      [-260, -190, -130, -75, -30].map((y, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: y * -0.72,
          y1: y,
          x2: y * 0.72,
          y2: y,
          stroke: SphinxView_C.pyramidLine,
          strokeWidth: 1,
          opacity: 0.25
        },
        `pbl-${i}`
      ))
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.56, width, height: height * 0.44, fill: SphinxView_C.sand }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${height * 0.6} Q${width * 0.2},${height * 0.56 + heatShimmer} ${width * 0.4},${height * 0.59}
        Q${width * 0.6},${height * 0.55 + heatShimmer2} ${width * 0.8},${height * 0.58}
        Q${width * 0.9},${height * 0.56} ${width},${height * 0.6}
        L${width},${height} L0,${height} Z`,
        fill: SphinxView_C.sandDark,
        opacity: 0.35
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${height * 0.63} Q${width * 0.3},${height * 0.6} ${width * 0.5},${height * 0.62}
        Q${width * 0.7},${height * 0.59} ${width},${height * 0.63}
        L${width},${height * 0.65} L0,${height * 0.65} Z`,
        fill: SphinxView_C.sandLight,
        opacity: 0.25
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.08}, ${height * 0.32})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `
          M 160,180
          Q 170,120 200,100
          L 380,90
          Q 430,85 450,95
          Q 470,110 460,150
          Q 455,180 450,200
          L 440,260
          Q 430,275 400,280
          L 140,280
          Q 120,275 120,260
          L 130,220
          Q 135,195 160,180
          Z`,
          fill: "url(#spx-body-grad)",
          stroke: SphinxView_C.outline,
          strokeWidth: 2
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M 200,100 Q 280,85 360,88 Q 420,86 450,95",
          fill: "none",
          stroke: SphinxView_C.stoneDark,
          strokeWidth: 1.5,
          opacity: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `
          M 400,280
          Q 430,270 450,240
          Q 465,200 460,150
          Q 458,130 450,115
          L 455,120
          Q 475,150 475,200
          Q 470,260 450,285
          Q 435,295 410,290
          Z`,
          fill: SphinxView_C.stoneMid,
          stroke: SphinxView_C.outline,
          strokeWidth: 1.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M 410,280 Q 420,300 415,320 Q 410,330 395,330 L 385,320 Q 390,300 400,280",
          fill: SphinxView_C.stone,
          stroke: SphinxView_C.outline,
          strokeWidth: 1.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M 440,275 Q 450,295 445,315 Q 440,325 425,325 L 415,315 Q 420,295 430,275",
          fill: SphinxView_C.stoneMid,
          stroke: SphinxView_C.outline,
          strokeWidth: 1.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `
          M 130,260
          L 40,275
          Q 20,278 15,285
          Q 10,295 20,300
          L 80,305
          Q 100,303 120,295
          L 140,280
          Z`,
          fill: SphinxView_C.stoneMid,
          stroke: SphinxView_C.outline,
          strokeWidth: 1.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `
          M 145,250
          L 50,265
          Q 25,268 18,275
          Q 12,285 22,292
          L 85,296
          Q 110,294 135,285
          L 150,270
          Z`,
          fill: SphinxView_C.stone,
          stroke: SphinxView_C.outline,
          strokeWidth: 2
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 45, y1: 270, x2: 42, y2: 288, stroke: SphinxView_C.stoneDark, strokeWidth: 1, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 65, y1: 268, x2: 62, y2: 290, stroke: SphinxView_C.stoneDark, strokeWidth: 1, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 85, y1: 267, x2: 83, y2: 292, stroke: SphinxView_C.stoneDark, strokeWidth: 1, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 200, y1: 130, x2: 250, y2: 135, stroke: SphinxView_C.stoneDark, strokeWidth: 0.8, opacity: 0.2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 280, y1: 120, x2: 340, y2: 118, stroke: SphinxView_C.stoneDark, strokeWidth: 0.8, opacity: 0.2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 220, y1: 170, x2: 310, y2: 168, stroke: SphinxView_C.stoneDark, strokeWidth: 0.6, opacity: 0.15 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 300, y1: 200, x2: 380, y2: 195, stroke: SphinxView_C.stoneDark, strokeWidth: 0.6, opacity: 0.15 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 180, y1: 240, x2: 260, y2: 242, stroke: SphinxView_C.stoneDark, strokeWidth: 0.8, opacity: 0.2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 320, y1: 230, x2: 400, y2: 235, stroke: SphinxView_C.stoneDark, strokeWidth: 0.6, opacity: 0.15 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M 350,140 L 355,160 L 348,175", fill: "none", stroke: SphinxView_C.stoneDark, strokeWidth: 0.7, opacity: 0.25 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M 230,200 L 238,215 L 232,230", fill: "none", stroke: SphinxView_C.stoneDark, strokeWidth: 0.7, opacity: 0.2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `
          M 160,180
          Q 150,160 155,140
          Q 160,115 175,105
          L 200,100
          Q 185,110 175,130
          Q 165,155 160,180
          Z`,
          fill: SphinxView_C.stoneMid,
          stroke: SphinxView_C.outline,
          strokeWidth: 1.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `
          M 175,105
          Q 165,80 160,60
          Q 158,45 165,30
          L 195,15
          Q 210,20 215,40
          Q 218,55 215,80
          L 200,100
          Z`,
          fill: SphinxView_C.stone,
          stroke: SphinxView_C.outline,
          strokeWidth: 2
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `
          M 115,-45
          Q 110,-20 115,10
          Q 118,30 125,50
          L 140,80
          Q 148,95 165,105
          L 175,105
          Q 160,85 150,60
          Q 140,30 138,0
          Q 135,-30 140,-50
          Z`,
          fill: "url(#spx-nemes-stripes)",
          stroke: SphinxView_C.outline,
          strokeWidth: 1.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `
          M 130,-70
          Q 145,-80 165,-82
          Q 185,-80 200,-72
          Q 210,-65 215,-55
          L 212,-40
          Q 200,-50 185,-55
          Q 165,-58 145,-55
          L 135,-50
          Z`,
          fill: SphinxView_C.nemes,
          stroke: SphinxView_C.outline,
          strokeWidth: 2
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `
          M 195,-50
          Q 205,-45 210,-35
          Q 215,-20 218,5
          Q 220,30 218,55
          Q 215,70 210,80
          L 205,85
          Q 208,65 210,45
          Q 212,20 210,0
          Q 208,-20 200,-40
          Z`,
          fill: "url(#spx-nemes-stripes)",
          stroke: SphinxView_C.outline,
          strokeWidth: 1.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M 135,-52 Q 165,-60 195,-52 Q 208,-47 215,-40",
          fill: "none",
          stroke: SphinxView_C.nemesGold,
          strokeWidth: 4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M 135,-52 Q 165,-60 195,-52 Q 208,-47 215,-40",
          fill: "none",
          stroke: SphinxView_C.outline,
          strokeWidth: 1,
          opacity: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `
          M 155,-45
          Q 160,-50 170,-52
          Q 185,-52 195,-45
          Q 205,-38 210,-25
          Q 215,-10 215,5
          L 210,20
          Q 205,32 195,38
          Q 185,42 178,40
          L 170,35
          Q 165,30 162,20
          Q 158,10 155,0
          Q 152,-15 153,-30
          Q 154,-40 155,-45
          Z`,
          fill: SphinxView_C.stoneLight,
          stroke: SphinxView_C.outline,
          strokeWidth: 2
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M 178,40 Q 185,45 195,38", fill: "none", stroke: SphinxView_C.stoneDark, strokeWidth: 1, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `
          M 205,-15
          L 210,-8
          L 210,5
          L 205,10
          L 200,5
          L 200,-10
          Z`,
          fill: SphinxView_C.stoneMid,
          stroke: SphinxView_C.stoneDark,
          strokeWidth: 1.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 203, y1: -8, x2: 207, y2: -5, stroke: SphinxView_C.stoneDark, strokeWidth: 0.7, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 202, y1: 0, x2: 208, y2: 2, stroke: SphinxView_C.stoneDark, strokeWidth: 0.7, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(185, -28)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M -10,0 Q -5,-8 5,-8 Q 12,-6 15,-2 Q 12,4 5,6 Q -5,5 -10,0 Z",
            fill: "white",
            stroke: SphinxView_C.kohl,
            strokeWidth: 2
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 15, y1: -2, x2: 25, y2: -5, stroke: SphinxView_C.kohl, strokeWidth: 2 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 4, cy: -1, r: 4, fill: "#4A3520" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 5, cy: -1, r: 2, fill: SphinxView_C.kohl }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 3, cy: -3, r: 1, fill: "white", opacity: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M -8,2 Q 0,7 12,4", fill: "none", stroke: SphinxView_C.kohl, strokeWidth: 1.5, opacity: 0.6 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M 172,-38 Q 185,-44 205,-38", fill: "none", stroke: SphinxView_C.stoneDark, strokeWidth: 2, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M 192,18 Q 200,22 208,20", fill: "none", stroke: SphinxView_C.stoneDark, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M 192,16 Q 198,14 204,16 Q 208,17 210,18", fill: "none", stroke: SphinxView_C.stoneDark, strokeWidth: 1, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 152, cy: -15, rx: 5, ry: 12, fill: SphinxView_C.stoneLight, stroke: SphinxView_C.outline, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(195, -58)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M 0,0 Q 2,-12 0,-18 Q -2,-22 -5,-20 Q -7,-16 -4,-12 Q -1,-8 0,0",
            fill: SphinxView_C.nemesGold,
            stroke: SphinxView_C.outline,
            strokeWidth: 1
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -3, cy: -20, rx: 4, ry: 3, fill: SphinxView_C.nemesGold, stroke: SphinxView_C.outline, strokeWidth: 1 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -4, cy: -21, r: 1, fill: SphinxView_C.kohl })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M 170,-10 L 175,-5", fill: "none", stroke: SphinxView_C.stoneDark, strokeWidth: 0.5, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M 190,10 L 195,15", fill: "none", stroke: SphinxView_C.stoneDark, strokeWidth: 0.5, opacity: 0.25 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `
          M 185,42
          Q 188,52 186,60
          Q 184,65 180,62
          Q 178,55 180,45
          Z`,
          fill: SphinxView_C.stoneMid,
          stroke: SphinxView_C.outline,
          strokeWidth: 1,
          opacity: 0.6
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * 0.06,
        y: height * 0.68,
        width: 30,
        height: 20,
        rx: 2,
        fill: SphinxView_C.ruins,
        stroke: SphinxView_C.outline,
        strokeWidth: 1,
        opacity: 0.6,
        transform: `rotate(-5, ${width * 0.06}, ${height * 0.68})`
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * 0.18,
        y: height * 0.7,
        width: 25,
        height: 18,
        rx: 2,
        fill: SphinxView_C.stoneMid,
        stroke: SphinxView_C.outline,
        strokeWidth: 1,
        opacity: 0.5,
        transform: `rotate(8, ${width * 0.18}, ${height * 0.7})`
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * 0.35,
        y: height * 0.66,
        width: 35,
        height: 22,
        rx: 2,
        fill: SphinxView_C.ruins,
        stroke: SphinxView_C.outline,
        strokeWidth: 1,
        opacity: 0.55,
        transform: `rotate(-3, ${width * 0.35}, ${height * 0.66})`
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * 0.55,
        y: height * 0.62,
        width: 20,
        height: 14,
        rx: 1,
        fill: SphinxView_C.stoneMid,
        stroke: SphinxView_C.outline,
        strokeWidth: 1,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * 0.6,
        y: height * 0.63,
        width: 16,
        height: 12,
        rx: 1,
        fill: SphinxView_C.ruins,
        stroke: SphinxView_C.outline,
        strokeWidth: 1,
        opacity: 0.35,
        transform: `rotate(12, ${width * 0.6}, ${height * 0.63})`
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * 0.48,
        y: height * 0.67,
        width: 22,
        height: 15,
        rx: 2,
        fill: SphinxView_C.stone,
        stroke: SphinxView_C.outline,
        strokeWidth: 1,
        opacity: 0.45,
        transform: `rotate(-7, ${width * 0.48}, ${height * 0.67})`
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(CrowdLayer, { config: CROWD_CONFIGS.sphinxView }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.5,
        width,
        height: height * 0.12,
        fill: "rgba(255,200,100,0.04)",
        opacity: 0.5 + sineWave(frame, 0.1) * 0.3,
        filter: "url(#spx-heat)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.55,
        width,
        height: height * 0.06,
        fill: "rgba(255,220,130,0.03)",
        opacity: 0.3 + sineWave(frame, 0.13, 1) * 0.2
      }
    ),
    sandParticles.map((p, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "circle",
      {
        cx: p.x,
        cy: p.y,
        r: p.r,
        fill: SphinxView_C.sandLight,
        opacity: p.o
      },
      `sp-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.62}, ${height * 0.72})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -8,
          y: -8,
          width: 416,
          height: 176,
          rx: 4,
          fill: SphinxView_C.boardFrame,
          stroke: SphinxView_C.outline,
          strokeWidth: 2
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 400, height: 160, fill: SphinxView_C.boardBg }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 4,
          y: 4,
          width: 392,
          height: 152,
          rx: 2,
          fill: "none",
          stroke: SphinxView_C.boardFrame,
          strokeWidth: 1.5,
          opacity: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("text", { x: 30, y: 28, fontSize: 16, fill: SphinxView_C.hieroglyph, opacity: 0.3, fontFamily: "serif", children: "\u{13000} \u{13080} \u{130C0} \u{13100}" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("text", { x: 30, y: 145, fontSize: 16, fill: SphinxView_C.hieroglyph, opacity: 0.3, fontFamily: "serif", children: "\u{13140} \u{13180} \u{131C0} \u{13200}" }),
      boardText && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "text",
        {
          x: 200,
          y: 95,
          textAnchor: "middle",
          fill: SphinxView_C.chalk,
          fontSize: 36,
          fontFamily: "'Courier New', monospace",
          fontWeight: "bold",
          opacity: 0.9,
          children: boardText
        }
      )
    ] })
  ] });
};
/* harmony default export */ const backgrounds_SphinxView = ((/* unused pure expression or super */ null && (SphinxView)));

;// ./src/systems/MusicSFX.tsx



const SFX_PATHS = {
  whoosh: "sfx/whoosh.mp3",
  pop: "sfx/pop.mp3",
  ding: "sfx/ding.mp3",
  chalkWrite: "sfx/chalk-write.mp3",
  glassClink: "sfx/glass-clink.mp3",
  pageTurn: "sfx/page-turn.mp3",
  crowd: "sfx/crowd-ambience.mp3"
};
const MusicPlayer = ({ tracks }) => {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: tracks.map((track, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(MusicTrackPlayer, { track }, `music-${i}`)) });
};
const MusicTrackPlayer = ({ track }) => {
  const frame = (0,esm.useCurrentFrame)();
  const {
    src,
    volume = 0.3,
    startFrame = 0,
    endFrame,
    fadeIn = 30,
    fadeOut = 30
  } = track;
  const fadeInEnd = startFrame + fadeIn;
  const fadeOutStart = endFrame ? endFrame - fadeOut : Infinity;
  let currentVolume = volume;
  if (frame < fadeInEnd) {
    currentVolume = (0,esm.interpolate)(
      frame,
      [startFrame, fadeInEnd],
      [0, volume],
      { extrapolateLeft: "clamp", extrapolateRight: "clamp" }
    );
  }
  if (endFrame && frame > fadeOutStart) {
    currentVolume = (0,esm.interpolate)(
      frame,
      [fadeOutStart, endFrame],
      [volume, 0],
      { extrapolateLeft: "clamp", extrapolateRight: "clamp" }
    );
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(esm.Sequence, { from: startFrame, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    esm.Audio,
    {
      src,
      volume: currentVolume,
      loop: track.loop
    }
  ) });
};
const SFXPlayer = ({ effects }) => {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: effects.map((sfx, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(esm.Sequence, { from: sfx.triggerFrame, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    esm.Audio,
    {
      src: sfx.src,
      volume: sfx.volume ?? 0.5
    }
  ) }, `sfx-${i}`)) });
};
const generateTransitionSFX = (scenes) => {
  const effects = [];
  for (const scene of scenes) {
    if (!scene.transition || scene.transition.type === "none") continue;
    effects.push({
      src: SFX_PATHS.whoosh,
      triggerFrame: scene.start,
      volume: 0.25
    });
  }
  return effects;
};
const generateOverlaySFX = (overlays) => {
  return overlays.map((overlay) => ({
    src: SFX_PATHS.pop,
    triggerFrame: overlay.startFrame,
    volume: 0.2
  }));
};

;// ./src/systems/SceneRenderer.tsx






















const findSceneAtFrame = (scenes, frame) => {
  for (let i = scenes.length - 1; i >= 0; i--) {
    if (frame >= scenes[i].start && frame < scenes[i].end) {
      return scenes[i];
    }
  }
  return null;
};
const findSceneIndex = (scenes, scene) => {
  return scenes.findIndex((s) => s.id === scene.id);
};
const renderBackground = (bg, boardText) => {
  switch (bg) {
    case "pub":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(Pub, { boardText, width: 1920, height: 1080 });
    case "classroom":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(Classroom, { boardText, width: 1920, height: 1080 });
    case "pyramids":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(Pyramids, { boardText, width: 1920, height: 1080 });
    case "desertConstruction":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(DesertConstruction, { boardText, width: 1920, height: 1080 });
    case "insidePyramid":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(InsidePyramid, { boardText, width: 1920, height: 1080 });
    case "nileRiver":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(NileRiver, { boardText, width: 1920, height: 1080 });
    case "workersVillage":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(WorkersVillage, { boardText, width: 1920, height: 1080 });
    case "sphinxView":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(SphinxView, { boardText, width: 1920, height: 1080 });
    default:
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(esm.AbsoluteFill, { style: { backgroundColor: "#2A2A2A" }, children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(
        "div",
        {
          style: {
            position: "absolute",
            top: "50%",
            left: "50%",
            transform: "translate(-50%, -50%)",
            color: "rgba(255,255,255,0.2)",
            fontSize: 24,
            fontFamily: "monospace"
          },
          children: [
            "BG: ",
            bg
          ]
        }
      ) });
  }
};
const renderCharacter = (char, previousEmotion, emotionProgress) => {
  const charScale = char.scale ?? 2;
  switch (char.id) {
    case "professorPint":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "div",
        {
          style: {
            position: "absolute",
            left: char.x - 130 * charScale,
            top: char.y - 90 * charScale,
            transform: `scale(${charScale})`,
            transformOrigin: "center top"
          },
          children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
            ProfessorPint,
            {
              emotion: char.emotion,
              previousEmotion,
              emotionTransitionProgress: emotionProgress,
              talking: char.talking,
              scale: 1
            }
          )
        },
        char.id
      );
    case "averageJoe":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "div",
        {
          style: {
            position: "absolute",
            left: char.x - 130 * charScale,
            top: char.y - 85 * charScale,
            transform: `scale(${charScale})`,
            transformOrigin: "center top"
          },
          children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
            AverageJoe,
            {
              emotion: char.emotion,
              previousEmotion,
              emotionTransitionProgress: emotionProgress,
              talking: char.talking,
              scale: 1
            }
          )
        },
        char.id
      );
    case "pharaoh":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "div",
        {
          style: {
            position: "absolute",
            left: char.x - 130 * charScale,
            top: char.y - 100 * charScale,
            transform: `scale(${charScale})`,
            transformOrigin: "center top"
          },
          children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
            Pharaoh,
            {
              emotion: char.emotion,
              previousEmotion,
              emotionTransitionProgress: emotionProgress,
              talking: char.talking,
              scale: 1
            }
          )
        },
        char.id
      );
    case "worker":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "div",
        {
          style: {
            position: "absolute",
            left: char.x - 130 * charScale,
            top: char.y - 90 * charScale,
            transform: `scale(${charScale})`,
            transformOrigin: "center top"
          },
          children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
            Worker,
            {
              emotion: char.emotion,
              previousEmotion,
              emotionTransitionProgress: emotionProgress,
              talking: char.talking,
              scale: 1
            }
          )
        },
        char.id
      );
    default:
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "div",
        {
          style: {
            position: "absolute",
            left: char.x - 30,
            top: char.y - 40,
            width: 60,
            height: 80,
            backgroundColor: "rgba(255,100,100,0.3)",
            border: "2px dashed rgba(255,100,100,0.6)",
            borderRadius: 8,
            display: "flex",
            alignItems: "center",
            justifyContent: "center",
            color: "rgba(255,255,255,0.5)",
            fontSize: 10,
            fontFamily: "monospace"
          },
          children: char.id
        },
        char.id
      );
  }
};
const SceneRenderer = ({
  scenes,
  audioSegments = [],
  globalOverlays = [],
  musicTracks = [],
  soundEffects = [],
  showDebug = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const currentScene = findSceneAtFrame(scenes, frame);
  if (!currentScene) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(esm.AbsoluteFill, { style: { backgroundColor: "#1A1A1A" } });
  }
  const sceneIndex = findSceneIndex(scenes, currentScene);
  const previousScene = sceneIndex > 0 ? scenes[sceneIndex - 1] : null;
  const framesIntoScene = frame - currentScene.start;
  const emotionProgress = Math.min(1, framesIntoScene / 10);
  const cam = currentScene.camera ?? { x: 0, y: 0, zoom: 1 };
  const prevCam = (previousScene == null ? void 0 : previousScene.camera) ?? { x: 0, y: 0, zoom: 1 };
  const transition = currentScene.transition ?? { type: "none", duration: 0 };
  const transitionProgress = transition.type !== "none" ? getTransitionProgress(frame, currentScene.start, transition.duration) : 1;
  const resolveCharacterTalking = (char) => {
    if (audioSegments.length > 0) {
      return isTalkingAtFrame(audioSegments, char.id, frame);
    }
    return char.talking;
  };
  const characterPositions = currentScene.characters.map((c) => ({
    id: c.id,
    x: c.x,
    y: c.y
  }));
  const sceneInner = /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(esm.AbsoluteFill, { children: renderBackground(currentScene.bg, currentScene.boardText ?? "") }),
    currentScene.characters.map((char) => {
      const prevChar = previousScene == null ? void 0 : previousScene.characters.find((c) => c.id === char.id);
      const prevEmotion = (prevChar == null ? void 0 : prevChar.emotion) ?? char.emotion;
      const talkingChar = { ...char, talking: resolveCharacterTalking(char) };
      return renderCharacter(talkingChar, prevEmotion, emotionProgress);
    })
  ] });
  const sceneContent = currentScene.cameraPath ? /* @__PURE__ */ (0,jsx_runtime.jsx)(
    CameraPath,
    {
      path: currentScene.cameraPath,
      x: cam.x,
      y: cam.y,
      zoom: cam.zoom,
      sceneStart: currentScene.start,
      sceneEnd: currentScene.end,
      previousX: prevCam.x,
      previousY: prevCam.y,
      previousZoom: prevCam.zoom,
      characterPositions,
      width: 1920,
      height: 1080,
      children: sceneInner
    }
  ) : /* @__PURE__ */ (0,jsx_runtime.jsx)(
    Camera,
    {
      x: cam.x,
      y: cam.y,
      zoom: cam.zoom,
      previousX: prevCam.x,
      previousY: prevCam.y,
      previousZoom: prevCam.zoom,
      startFrame: currentScene.start,
      transitionDuration: 28,
      width: 1920,
      height: 1080,
      children: sceneInner
    }
  );
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(esm.AbsoluteFill, { style: { backgroundColor: "#1A1A1A" }, children: [
    musicTracks.length > 0 && /* @__PURE__ */ (0,jsx_runtime.jsx)(MusicPlayer, { tracks: musicTracks }),
    soundEffects.length > 0 && /* @__PURE__ */ (0,jsx_runtime.jsx)(SFXPlayer, { effects: soundEffects }),
    audioSegments.length > 0 && audioSegments.map((seg, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(esm.Sequence, { from: seg.startFrame, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(AudioPlayer, { segments: [seg], volume: 1 }) }, `audio-seq-${i}`)),
    transition.type !== "none" && transitionProgress < 1 ? /* @__PURE__ */ (0,jsx_runtime.jsx)(Transition, { type: transition.type, progress: transitionProgress, children: sceneContent }) : sceneContent,
    currentScene.overlays && currentScene.overlays.length > 0 && /* @__PURE__ */ (0,jsx_runtime.jsx)(OverlayRenderer, { overlays: currentScene.overlays }),
    globalOverlays.length > 0 && /* @__PURE__ */ (0,jsx_runtime.jsx)(OverlayRenderer, { overlays: globalOverlays }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      Subtitles,
      {
        text: currentScene.subtitle,
        startFrame: currentScene.start + 5,
        endFrame: currentScene.end - 5
      }
    ),
    showDebug && /* @__PURE__ */ (0,jsx_runtime.jsxs)(
      "div",
      {
        style: {
          position: "absolute",
          top: 20,
          right: 20,
          color: "rgba(255,255,255,0.3)",
          fontSize: 14,
          fontFamily: "monospace",
          textAlign: "right",
          lineHeight: 1.6
        },
        children: [
          "Scene ",
          sceneIndex + 1,
          "/",
          scenes.length,
          " [",
          currentScene.id,
          "]",
          /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
          "Frame ",
          frame,
          " | ",
          currentScene.start,
          "-",
          currentScene.end,
          /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
          currentScene.characters.map((c) => {
            const talking = resolveCharacterTalking(c);
            return `${c.id}: ${c.emotion}${talking ? " (talking)" : ""}`;
          }).join(" | "),
          audioSegments.length > 0 && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
            "Audio: ",
            audioSegments.length,
            " segments"
          ] })
        ]
      }
    )
  ] });
};

;// ./src/compositions/DemoVideo.tsx



const DEMO_SCENES = [
  {
    id: "intro",
    start: 0,
    end: 120,
    bg: "pub",
    boardText: "TODAY'S TOPIC",
    camera: { x: 0, y: -50, zoom: 1.1 },
    characters: [
      {
        id: "professorPint",
        x: 960,
        y: 420,
        scale: 2,
        emotion: "neutral",
        talking: false
      }
    ],
    subtitle: "",
    transition: { type: "crossfade", duration: 20 }
  },
  {
    id: "welcome",
    start: 120,
    end: 240,
    bg: "pub",
    boardText: "TODAY'S TOPIC",
    camera: { x: 50, y: 0, zoom: 1.3 },
    characters: [
      {
        id: "professorPint",
        x: 960,
        y: 420,
        scale: 2,
        emotion: "happy",
        talking: true
      }
    ],
    subtitle: "Welcome to the pub! Pull up a stool.",
    transition: { type: "crossfade", duration: 15 }
  },
  {
    id: "question",
    start: 240,
    end: 360,
    bg: "pub",
    boardText: "WHY YOU'RE BROKE",
    camera: { x: -30, y: 20, zoom: 1.15 },
    characters: [
      {
        id: "professorPint",
        x: 960,
        y: 420,
        scale: 2,
        emotion: "thinking",
        talking: true
      }
    ],
    subtitle: "Ever wondered why your brain lies to you about money?",
    transition: { type: "wipe", duration: 18 }
  },
  {
    id: "revelation",
    start: 360,
    end: 480,
    bg: "pub",
    boardText: "INFLATION = -3%/yr",
    camera: { x: 0, y: -20, zoom: 1.5 },
    characters: [
      {
        id: "professorPint",
        x: 960,
        y: 420,
        scale: 2,
        emotion: "shocked",
        talking: true
      }
    ],
    subtitle: "Your savings account is losing value every single day!",
    transition: { type: "zoomIn", duration: 15 }
  },
  {
    id: "anger",
    start: 480,
    end: 540,
    bg: "pub",
    boardText: "THE TRUTH",
    camera: { x: 60, y: 10, zoom: 1.6 },
    characters: [
      {
        id: "professorPint",
        x: 960,
        y: 420,
        scale: 2,
        emotion: "angry",
        talking: true
      }
    ],
    subtitle: "And nobody told you. That's the real scandal.",
    transition: { type: "slide", duration: 15 }
  },
  {
    id: "outro",
    start: 540,
    end: 600,
    bg: "pub",
    boardText: "PROFESSOR PINT",
    camera: { x: 0, y: 0, zoom: 1 },
    characters: [
      {
        id: "professorPint",
        x: 960,
        y: 420,
        scale: 2,
        emotion: "happy",
        talking: false
      }
    ],
    subtitle: "But don't worry. That's what I'm here for.",
    transition: { type: "iris", duration: 20 }
  }
];
const DemoVideo = () => {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(SceneRenderer, { scenes: DEMO_SCENES, showDebug: true });
};
/* harmony default export */ const compositions_DemoVideo = ((/* unused pure expression or super */ null && (DemoVideo)));

;// ./src/compositions/DialogueDemo.tsx



const DIALOGUE_SCENES = [
  {
    id: "classroom-intro",
    start: 0,
    end: 90,
    bg: "classroom",
    boardText: "COMPOUND INTEREST",
    camera: { x: 0, y: -30, zoom: 1 },
    characters: [
      {
        id: "professorPint",
        x: 650,
        y: 420,
        scale: 1.8,
        emotion: "neutral",
        talking: false
      },
      {
        id: "averageJoe",
        x: 1270,
        y: 440,
        scale: 1.8,
        emotion: "neutral",
        talking: false
      }
    ],
    subtitle: "",
    transition: { type: "crossfade", duration: 20 }
  },
  {
    id: "professor-greeting",
    start: 90,
    end: 210,
    bg: "classroom",
    boardText: "COMPOUND INTEREST",
    camera: { x: -80, y: 0, zoom: 1.3 },
    characters: [
      {
        id: "professorPint",
        x: 650,
        y: 420,
        scale: 1.8,
        emotion: "happy",
        talking: true
      },
      {
        id: "averageJoe",
        x: 1270,
        y: 440,
        scale: 1.8,
        emotion: "neutral",
        talking: false
      }
    ],
    subtitle: "Alright Joe, today I'm going to blow your mind with compound interest.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "joe-confused",
    start: 210,
    end: 330,
    bg: "classroom",
    boardText: "COMPOUND INTEREST",
    camera: { x: 80, y: 0, zoom: 1.3 },
    characters: [
      {
        id: "professorPint",
        x: 650,
        y: 420,
        scale: 1.8,
        emotion: "neutral",
        talking: false
      },
      {
        id: "averageJoe",
        x: 1270,
        y: 440,
        scale: 1.8,
        emotion: "thinking",
        talking: true
      }
    ],
    subtitle: "Compound what now? Is that like... double interest?",
    transition: { type: "wipe", duration: 15 }
  },
  {
    id: "professor-explains",
    start: 330,
    end: 510,
    bg: "classroom",
    boardText: "INTEREST ON INTEREST",
    camera: { x: -60, y: -20, zoom: 1.25 },
    characters: [
      {
        id: "professorPint",
        x: 650,
        y: 420,
        scale: 1.8,
        emotion: "happy",
        talking: true,
        gesture: "explain"
      },
      {
        id: "averageJoe",
        x: 1270,
        y: 440,
        scale: 1.8,
        emotion: "neutral",
        talking: false
      }
    ],
    subtitle: "Even better! It's interest earning interest. Your money makes money, which makes more money.",
    transition: { type: "crossfade", duration: 12 },
    overlays: [
      {
        type: "statCard",
        startFrame: 360,
        endFrame: 490,
        props: {
          value: "\u20AC100",
          label: "becomes \u20AC265 in 20 years at 5%",
          position: "right",
          color: "#2D5016"
        }
      }
    ]
  },
  {
    id: "joe-shocked",
    start: 510,
    end: 630,
    bg: "classroom",
    boardText: "INTEREST ON INTEREST",
    camera: { x: 60, y: 10, zoom: 1.4 },
    characters: [
      {
        id: "professorPint",
        x: 650,
        y: 420,
        scale: 1.8,
        emotion: "happy",
        talking: false
      },
      {
        id: "averageJoe",
        x: 1270,
        y: 440,
        scale: 1.8,
        emotion: "shocked",
        talking: true
      }
    ],
    subtitle: "Wait, \u20AC100 becomes \u20AC265?! Why did nobody tell me this sooner?",
    transition: { type: "zoomIn", duration: 12 }
  },
  {
    id: "professor-revelation",
    start: 630,
    end: 780,
    bg: "classroom",
    boardText: "START EARLY!",
    camera: { x: -40, y: -10, zoom: 1.5 },
    characters: [
      {
        id: "professorPint",
        x: 650,
        y: 420,
        scale: 1.8,
        emotion: "shocked",
        talking: true,
        gesture: "point"
      },
      {
        id: "averageJoe",
        x: 1270,
        y: 440,
        scale: 1.8,
        emotion: "shocked",
        talking: false
      }
    ],
    subtitle: "That's the scandal! Nobody teaches this in school. The earlier you start, the richer you get.",
    transition: { type: "slide", duration: 15 },
    overlays: [
      {
        type: "barChart",
        startFrame: 660,
        endFrame: 770,
        props: {
          title: "Starting at age...",
          bars: [
            { label: "20", value: 265, color: "#2D5016" },
            { label: "30", value: 163, color: "#D4A012" },
            { label: "40", value: 100, color: "#FF6B35" }
          ],
          position: "right"
        }
      }
    ]
  },
  {
    id: "both-happy",
    start: 780,
    end: 900,
    bg: "pub",
    boardText: "CHEERS!",
    camera: { x: 0, y: 0, zoom: 1.1 },
    characters: [
      {
        id: "professorPint",
        x: 650,
        y: 420,
        scale: 1.8,
        emotion: "happy",
        talking: false,
        gesture: "cheers"
      },
      {
        id: "averageJoe",
        x: 1270,
        y: 440,
        scale: 1.8,
        emotion: "happy",
        talking: true
      }
    ],
    subtitle: "Alright, I'm opening an investment account tonight. Cheers, Professor!",
    transition: { type: "iris", duration: 20 }
  }
];
const DialogueDemo = () => {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(SceneRenderer, { scenes: DIALOGUE_SCENES, showDebug: true });
};
/* harmony default export */ const compositions_DialogueDemo = ((/* unused pure expression or super */ null && (DialogueDemo)));

;// ./src/compositions/PyramidsOfGiza.tsx




const S = [
  // ============================================================
  //  ACT 1  PUB INTRO  (0  1 800  60 s)
  // ============================================================
  {
    id: "intro-1",
    start: 0,
    end: 300,
    bg: "pub",
    boardText: "PROFESSOR PINT",
    camera: { x: 0, y: -40, zoom: 1.05 },
    characters: [
      { id: "professorPint", x: 960, y: 420, scale: 2, emotion: "neutral", talking: false }
    ],
    subtitle: "",
    transition: { type: "crossfade", duration: 25 }
  },
  {
    id: "intro-2",
    start: 300,
    end: 600,
    bg: "pub",
    boardText: "PROFESSOR PINT",
    camera: { x: 40, y: 0, zoom: 1.25 },
    characters: [
      { id: "professorPint", x: 960, y: 420, scale: 2, emotion: "happy", talking: true }
    ],
    subtitle: "Welkom terug bij Professor Pint! Pak een kruk en een biertje erbij.",
    transition: { type: "crossfade", duration: 15 }
  },
  {
    id: "intro-3",
    start: 600,
    end: 900,
    bg: "pub",
    boardText: "PIRAMIDEN VAN GIZA",
    camera: { x: -20, y: 10, zoom: 1.2 },
    characters: [
      { id: "professorPint", x: 960, y: 420, scale: 2, emotion: "happy", talking: true }
    ],
    subtitle: "Vandaag nemen we je mee naar het oude Egypte. We gaan het hebben over de Piramiden van Giza.",
    transition: { type: "crossfade", duration: 15 }
  },
  {
    id: "intro-4",
    start: 900,
    end: 1200,
    bg: "pub",
    boardText: "2550 V.CHR.",
    camera: { x: 30, y: -10, zoom: 1.35 },
    characters: [
      { id: "professorPint", x: 960, y: 420, scale: 2, emotion: "thinking", talking: true }
    ],
    subtitle: "Hoe bouwde je vierduizend jaar geleden een bouwwerk van honderdzevenenveertig meter hoog? Zonder kranen, zonder wielen, zonder machines?",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "intro-5",
    start: 1200,
    end: 1500,
    bg: "pub",
    boardText: "2,3 MILJOEN BLOKKEN",
    camera: { x: 0, y: 0, zoom: 1.5 },
    characters: [
      { id: "professorPint", x: 960, y: 420, scale: 2, emotion: "shocked", talking: true }
    ],
    subtitle: "Met twee\xEBntwintig honderd miljoen stenen blokken, die elk tussen de twee en dertien ton wegen. Laat dat even op je inwerken.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "intro-6",
    start: 1500,
    end: 1800,
    bg: "pub",
    boardText: "LATEN WE GAAN!",
    camera: { x: -10, y: 20, zoom: 1.2 },
    characters: [
      { id: "professorPint", x: 960, y: 420, scale: 2, emotion: "happy", talking: true }
    ],
    subtitle: "Kom, we gaan erheen. Ik neem je mee naar de woestijn!",
    transition: { type: "zoomIn", duration: 20 }
  },
  // ============================================================
  //  ACT 2  GIZA OVERZICHT  (1 800  3 600  60 s)
  // ============================================================
  {
    id: "giza-1",
    start: 1800,
    end: 2160,
    bg: "pyramids",
    boardText: "GIZA PLATEAU",
    camera: { x: 0, y: -60, zoom: 0.95 },
    cameraPath: CAMERA_PRESETS.establishingShot(360),
    characters: [
      { id: "professorPint", x: 300, y: 500, scale: 1.8, emotion: "happy", talking: true }
    ],
    subtitle: "Hier zijn we dan. Het Giza-plateau. Drieduizend jaar lang het grootste bouwwerk ter wereld.",
    transition: { type: "wipe", duration: 20 }
  },
  {
    id: "giza-2",
    start: 2160,
    end: 2520,
    bg: "pyramids",
    boardText: "DRIE PIRAMIDEN",
    camera: { x: -80, y: -30, zoom: 1.1 },
    cameraPath: CAMERA_PRESETS.sweepingPan(360),
    characters: [
      { id: "professorPint", x: 250, y: 500, scale: 1.8, emotion: "thinking", talking: true }
    ],
    subtitle: "Je ziet hier drie piramiden. Links die van Chafre, in het midden de Grote Piramide van Choefoe, en rechts de kleinere van Menkaoere.",
    transition: { type: "crossfade", duration: 15 }
  },
  {
    id: "giza-3",
    start: 2520,
    end: 2880,
    bg: "pyramids",
    boardText: "GRAFMONUMENTEN",
    camera: { x: 0, y: 0, zoom: 1.2 },
    cameraPath: CAMERA_PRESETS.slowZoomIn(360),
    characters: [
      { id: "professorPint", x: 300, y: 500, scale: 1.8, emotion: "neutral", talking: true }
    ],
    subtitle: "De farao's van het oude Egypte hadden een goddelijke status. Na hun dood werden ze als goden beschouwd.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "giza-4",
    start: 2880,
    end: 3240,
    bg: "pyramids",
    boardText: "HET HIERNAMAALS",
    camera: { x: 50, y: -20, zoom: 1.3 },
    cameraPath: CAMERA_PRESETS.panLeftToRight(360),
    characters: [
      { id: "professorPint", x: 300, y: 500, scale: 1.8, emotion: "thinking", talking: true },
      { id: "pharaoh", x: 1500, y: 480, scale: 1.6, emotion: "neutral", talking: false }
    ],
    subtitle: "Ter voorbereiding op het hiernamaals lieten ze deze enorme grafmonumenten bouwen. Een huis voor de eeuwigheid.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "giza-5",
    start: 3240,
    end: 3600,
    bg: "pyramids",
    boardText: "WIE LIGT WAAR?",
    camera: { x: 0, y: 10, zoom: 1.15 },
    cameraPath: CAMERA_PRESETS.slowZoomOut(360),
    characters: [
      { id: "professorPint", x: 300, y: 500, scale: 1.8, emotion: "happy", talking: true },
      { id: "pharaoh", x: 1500, y: 480, scale: 1.6, emotion: "happy", talking: false }
    ],
    subtitle: "Laten we ze een voor een bekijken. We beginnen met de grootste: de piramide van Choefoe.",
    transition: { type: "crossfade", duration: 15 }
  },
  // ============================================================
  //  ACT 3  CHOEFOE'S PIRAMIDE  (3 600  5 400  60 s)
  // ============================================================
  {
    id: "khufu-1",
    start: 3600,
    end: 3960,
    bg: "pyramids",
    boardText: "CHOEFOE \xB7 2550 V.CHR.",
    camera: { x: 0, y: -80, zoom: 1.4 },
    cameraPath: CAMERA_PRESETS.dramaticZoom(360),
    characters: [
      { id: "professorPint", x: 250, y: 520, scale: 1.6, emotion: "neutral", talking: true }
    ],
    subtitle: "Farao Choefoe was rond vijfentwintighonderd voor Christus de eerste die hier een piramide liet bouwen.",
    transition: { type: "wipe", duration: 18 }
  },
  {
    id: "khufu-2",
    start: 3960,
    end: 4320,
    bg: "pyramids",
    boardText: "147 METER HOOG",
    camera: { x: 0, y: -100, zoom: 1.6 },
    cameraPath: CAMERA_PRESETS.tiltUp(360),
    characters: [
      { id: "professorPint", x: 250, y: 540, scale: 1.4, emotion: "shocked", talking: true }
    ],
    subtitle: "De oorspronkelijke hoogte? Honderdzevenenveertig meter. Dat is bijna vijftig verdiepingen hoog! Tegenwoordig is hij nog honderdachtendertig meter.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "khufu-3",
    start: 4320,
    end: 4680,
    bg: "desertConstruction",
    boardText: "2,3 MILJOEN BLOKKEN",
    camera: { x: 0, y: -40, zoom: 1.1 },
    cameraPath: CAMERA_PRESETS.panLeftToRight(360),
    characters: [
      { id: "professorPint", x: 300, y: 500, scale: 1.8, emotion: "thinking", talking: true },
      { id: "worker", x: 1400, y: 520, scale: 1.6, emotion: "neutral", talking: false }
    ],
    subtitle: "Hij bevat ongeveer twee komma drie miljoen stenen blokken. Elk blok weegt tussen de twee en dertien ton.",
    transition: { type: "slide", duration: 18 }
  },
  {
    id: "khufu-4",
    start: 4680,
    end: 5040,
    bg: "desertConstruction",
    boardText: "GROOTSTE PIRAMIDE",
    camera: { x: 50, y: -20, zoom: 1.25 },
    cameraPath: CAMERA_PRESETS.slowZoomIn(360),
    characters: [
      { id: "professorPint", x: 300, y: 500, scale: 1.8, emotion: "happy", talking: true },
      { id: "worker", x: 1400, y: 520, scale: 1.6, emotion: "happy", talking: false }
    ],
    subtitle: "Dit is de grootste piramide op het hele plateau. En een van de zeven wereldwonderen van de oudheid.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "khufu-5",
    start: 5040,
    end: 5400,
    bg: "desertConstruction",
    boardText: "NATIONAAL PROJECT",
    camera: { x: -30, y: 10, zoom: 1.15 },
    cameraPath: CAMERA_PRESETS.panRightToLeft(360),
    characters: [
      { id: "professorPint", x: 300, y: 500, scale: 1.8, emotion: "thinking", talking: true },
      { id: "worker", x: 1400, y: 520, scale: 1.6, emotion: "thinking", talking: false }
    ],
    subtitle: "Maar hoe hebben ze dit in hemelsnaam voor elkaar gekregen? Daar komen we zo op. Eerst kijken we naar de andere piramiden.",
    transition: { type: "crossfade", duration: 15 }
  },
  // ============================================================
  //  ACT 4  CHAFRE & DE SFINX  (5 400  7 200  60 s)
  // ============================================================
  {
    id: "khafre-1",
    start: 5400,
    end: 5760,
    bg: "pyramids",
    boardText: "CHAFRE \xB7 2520 V.CHR.",
    camera: { x: -120, y: -30, zoom: 1.3 },
    cameraPath: CAMERA_PRESETS.revealDown(360),
    characters: [
      { id: "professorPint", x: 300, y: 500, scale: 1.8, emotion: "neutral", talking: true }
    ],
    subtitle: "Ongeveer dertig jaar later bouwde farao Chafre de op een na grootste piramide. Honderdzesenendertig meter hoog.",
    transition: { type: "wipe", duration: 18 }
  },
  {
    id: "khafre-2",
    start: 5760,
    end: 6120,
    bg: "sphinxView",
    boardText: "DE SFINX",
    camera: { x: -40, y: 0, zoom: 1.1 },
    cameraPath: CAMERA_PRESETS.establishingShot(360),
    characters: [
      { id: "professorPint", x: 1400, y: 500, scale: 1.8, emotion: "shocked", talking: true }
    ],
    subtitle: "Maar het meest bijzondere aan Chafre's complex? De Sfinx. Het grootste en bekendste sfinxbeeld ter wereld.",
    transition: { type: "slide", duration: 18 }
  },
  {
    id: "khafre-3",
    start: 6120,
    end: 6480,
    bg: "sphinxView",
    boardText: "73M LANG \xB7 20M HOOG",
    camera: { x: -80, y: -20, zoom: 1.25 },
    cameraPath: CAMERA_PRESETS.panLeftToRight(360),
    characters: [
      { id: "professorPint", x: 1400, y: 500, scale: 1.8, emotion: "thinking", talking: true }
    ],
    subtitle: "Drie\xEBnzeventig meter lang en twintig meter hoog. Een lichaam van een leeuw met het hoofd van een farao. Uitgehouwen uit \xE9\xE9n enorm kalksteenblok.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "khafre-4",
    start: 6480,
    end: 6840,
    bg: "sphinxView",
    boardText: "MYSTERIE",
    camera: { x: -60, y: 20, zoom: 1.35 },
    cameraPath: CAMERA_PRESETS.dramaticZoom(360),
    characters: [
      { id: "professorPint", x: 1400, y: 500, scale: 1.8, emotion: "thinking", talking: true }
    ],
    subtitle: "Het is nog steeds onduidelijk of de Sfinx daadwerkelijk onder Chafre's heerschappij werd uitgehouwen. Het blijft een mysterie.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "khafre-5",
    start: 6840,
    end: 7200,
    bg: "sphinxView",
    boardText: "ICONISCH BEELD",
    camera: { x: -100, y: -10, zoom: 1.15 },
    cameraPath: CAMERA_PRESETS.slowZoomOut(360),
    characters: [
      { id: "professorPint", x: 1400, y: 500, scale: 1.8, emotion: "happy", talking: true }
    ],
    subtitle: "Maar wat we wel weten: dit beeld heeft al viereneenhalf duizend jaar de woestijnstormen doorstaan. Indrukwekkend.",
    transition: { type: "crossfade", duration: 15 }
  },
  // ============================================================
  //  ACT 5  MENKAOERE  (7 200  8 640  48 s)
  // ============================================================
  {
    id: "menk-1",
    start: 7200,
    end: 7560,
    bg: "pyramids",
    boardText: "MENKAOERE \xB7 2490 V.CHR.",
    camera: { x: 120, y: -10, zoom: 1.3 },
    cameraPath: CAMERA_PRESETS.panRightToLeft(360),
    characters: [
      { id: "professorPint", x: 1500, y: 500, scale: 1.8, emotion: "neutral", talking: true }
    ],
    subtitle: "De derde piramide werd rond tweeduizend vierhonderdnegentig voor Christus gebouwd door farao Menkaoere.",
    transition: { type: "wipe", duration: 18 }
  },
  {
    id: "menk-2",
    start: 7560,
    end: 7920,
    bg: "pyramids",
    boardText: "65 METER HOOG",
    camera: { x: 100, y: 0, zoom: 1.4 },
    cameraPath: CAMERA_PRESETS.slowZoomIn(360),
    characters: [
      { id: "professorPint", x: 1500, y: 500, scale: 1.8, emotion: "thinking", talking: true }
    ],
    subtitle: "Hij is aanzienlijk kleiner: ongeveer vijfenzestig meter hoog. Maar van binnen is hij verrassend indrukwekkend.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "menk-3",
    start: 7920,
    end: 8280,
    bg: "insidePyramid",
    boardText: "BINNENIN MENKAOERE",
    camera: { x: 0, y: -20, zoom: 1.15 },
    cameraPath: CAMERA_PRESETS.revealDown(360),
    characters: [
      { id: "professorPint", x: 960, y: 480, scale: 1.8, emotion: "shocked", talking: true }
    ],
    subtitle: "Unieke nisversieringen in de kamers en een indrukwekkend gewelfd plafond. Deze farao had smaak.",
    transition: { type: "iris", duration: 20 }
  },
  {
    id: "menk-4",
    start: 8280,
    end: 8640,
    bg: "insidePyramid",
    boardText: "VERDWENEN SARCOFAAG",
    camera: { x: 20, y: 10, zoom: 1.3 },
    cameraPath: CAMERA_PRESETS.dramaticZoom(360),
    characters: [
      { id: "professorPint", x: 960, y: 480, scale: 1.8, emotion: "sad", talking: true }
    ],
    subtitle: "En dan het trieste verhaal: in achttienhonderdachtendertig werd zijn sarcofaag per schip naar Groot-Brittanni\xEB vervoerd. Het schip zonk in de Middellandse Zee. De sarcofaag is nooit teruggevonden.",
    transition: { type: "crossfade", duration: 12 }
  },
  // ============================================================
  //  ACT 6  WIE BOUWDEN ZE?  (8 640  10 800  72 s)
  // ============================================================
  {
    id: "who-1",
    start: 8640,
    end: 9e3,
    bg: "pub",
    boardText: "WIE BOUWDE ZE?",
    camera: { x: 0, y: -20, zoom: 1.2 },
    characters: [
      { id: "professorPint", x: 700, y: 420, scale: 2, emotion: "thinking", talking: true },
      { id: "averageJoe", x: 1300, y: 440, scale: 1.8, emotion: "thinking", talking: false }
    ],
    subtitle: "Ok\xE9, even terug naar de pub. Want nu komt de grote vraag: wie hebben die piramiden eigenlijk gebouwd?",
    transition: { type: "slide", duration: 18 }
  },
  {
    id: "who-2",
    start: 9e3,
    end: 9360,
    bg: "pub",
    boardText: "SLAVEN?",
    camera: { x: 30, y: 0, zoom: 1.3 },
    characters: [
      { id: "professorPint", x: 700, y: 420, scale: 2, emotion: "angry", talking: true },
      { id: "averageJoe", x: 1300, y: 440, scale: 1.8, emotion: "shocked", talking: false }
    ],
    subtitle: "De Griekse historicus Herodotus beweerde ooit dat het slaven waren. Maar dat klopt niet. Dat is een mythe.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "who-3",
    start: 9360,
    end: 9720,
    bg: "pub",
    boardText: "VAKMENSEN",
    camera: { x: -20, y: 10, zoom: 1.25 },
    characters: [
      { id: "professorPint", x: 700, y: 420, scale: 2, emotion: "happy", talking: true },
      { id: "averageJoe", x: 1300, y: 440, scale: 1.8, emotion: "happy", talking: false }
    ],
    subtitle: "Het waren gespecialiseerde bouwarbeiders. Vakmensen! Archeologisch bewijs toont aan dat ze goed werden verzorgd.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "who-4",
    start: 9720,
    end: 10080,
    bg: "workersVillage",
    boardText: "ARBEIDERSSTEDEN",
    camera: { x: 0, y: -30, zoom: 1.1 },
    cameraPath: CAMERA_PRESETS.establishingShot(360),
    characters: [
      { id: "professorPint", x: 300, y: 500, scale: 1.8, emotion: "happy", talking: true },
      { id: "worker", x: 1400, y: 520, scale: 1.6, emotion: "happy", talking: false }
    ],
    subtitle: "Er werden speciale steden aangelegd voor de bouw. Tienduizenden arbeiders woonden hier samen.",
    transition: { type: "wipe", duration: 18 }
  },
  {
    id: "who-5",
    start: 10080,
    end: 10440,
    bg: "workersVillage",
    boardText: "GOED VERZORGD",
    camera: { x: 40, y: 0, zoom: 1.2 },
    cameraPath: CAMERA_PRESETS.panLeftToRight(360),
    characters: [
      { id: "professorPint", x: 300, y: 500, scale: 1.8, emotion: "thinking", talking: true },
      { id: "worker", x: 1400, y: 520, scale: 1.6, emotion: "happy", talking: false }
    ],
    subtitle: "Resten van bakkerijen en dierenbotten laten zien dat de arbeiders goed werden gevoed. Brood, vlees, bier. Niet slecht voor vierduizend jaar geleden.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "who-6",
    start: 10440,
    end: 10800,
    bg: "workersVillage",
    boardText: "NATIONAAL PROJECT",
    camera: { x: -30, y: 20, zoom: 1.15 },
    cameraPath: CAMERA_PRESETS.slowZoomOut(360),
    characters: [
      { id: "professorPint", x: 300, y: 500, scale: 1.8, emotion: "neutral", talking: true },
      { id: "worker", x: 1400, y: 520, scale: 1.6, emotion: "neutral", talking: false }
    ],
    subtitle: "Arbeiders, voedsel en materialen kwamen uit heel Egypte. Het was een nationaal project dat de macht en rijkdom van de farao onderstreepte.",
    transition: { type: "crossfade", duration: 12 }
  },
  // ============================================================
  //  ACT 7  TRANSPORT OVER DE NIJL  (10 800  12 600  60 s)
  // ============================================================
  {
    id: "nile-1",
    start: 10800,
    end: 11160,
    bg: "nileRiver",
    boardText: "DE NIJL",
    camera: { x: 0, y: -20, zoom: 1.05 },
    cameraPath: CAMERA_PRESETS.sweepingPan(360),
    characters: [
      { id: "professorPint", x: 300, y: 480, scale: 1.8, emotion: "happy", talking: true }
    ],
    subtitle: "Maar hoe kwamen al die miljoenen stenen blokken bij de piramiden? Via de Nijl natuurlijk!",
    transition: { type: "wipe", duration: 20 }
  },
  {
    id: "nile-2",
    start: 11160,
    end: 11520,
    bg: "nileRiver",
    boardText: "STEENTRANSPORT",
    camera: { x: 40, y: 0, zoom: 1.2 },
    cameraPath: CAMERA_PRESETS.panLeftToRight(360),
    characters: [
      { id: "professorPint", x: 300, y: 480, scale: 1.8, emotion: "thinking", talking: true },
      { id: "worker", x: 1500, y: 500, scale: 1.5, emotion: "neutral", talking: false }
    ],
    subtitle: "Papyrusteksten en archeologische vondsten tonen aan dat schippers de Nijl en kunstmatige waterwegen gebruikten.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "nile-3",
    start: 11520,
    end: 11880,
    bg: "nileRiver",
    boardText: "BOTEN & WATERWEGEN",
    camera: { x: -30, y: 10, zoom: 1.15 },
    cameraPath: CAMERA_PRESETS.slowZoomIn(360),
    characters: [
      { id: "professorPint", x: 300, y: 480, scale: 1.8, emotion: "neutral", talking: true },
      { id: "worker", x: 1500, y: 500, scale: 1.5, emotion: "happy", talking: false }
    ],
    subtitle: "Enorme boten vervoerden de stenen blokken stroomafwaarts. Sommige blokken kwamen van honderden kilometers verderop.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "nile-4",
    start: 11880,
    end: 12240,
    bg: "nileRiver",
    boardText: "LOGISTIEK WONDER",
    camera: { x: 60, y: -10, zoom: 1.25 },
    cameraPath: CAMERA_PRESETS.dramaticZoom(360),
    characters: [
      { id: "professorPint", x: 300, y: 480, scale: 1.8, emotion: "shocked", talking: true }
    ],
    subtitle: "Bedenk even: geen GPS, geen motoren, geen modern gereedschap. En toch organiseerden ze het transport van miljoenen tonnen steen. Een logistiek wonder.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "nile-5",
    start: 12240,
    end: 12600,
    bg: "nileRiver",
    boardText: "HEEL EGYPTE WERKTE MEE",
    camera: { x: 0, y: 0, zoom: 1.1 },
    cameraPath: CAMERA_PRESETS.slowZoomOut(360),
    characters: [
      { id: "professorPint", x: 300, y: 480, scale: 1.8, emotion: "happy", talking: true },
      { id: "worker", x: 1500, y: 500, scale: 1.5, emotion: "happy", talking: false }
    ],
    subtitle: "Het hele land werkte mee. Van de steengroeves in het zuiden tot de bouwplaats bij Giza. E\xE9n groot teamwork.",
    transition: { type: "crossfade", duration: 15 }
  },
  // ============================================================
  //  ACT 8  BOUWMETHODEN  (12 600  14 760  72 s)
  // ============================================================
  {
    id: "build-1",
    start: 12600,
    end: 12960,
    bg: "desertConstruction",
    boardText: "HOE BOUWDEN ZE?",
    camera: { x: 0, y: -50, zoom: 1.05 },
    cameraPath: CAMERA_PRESETS.revealDown(360),
    characters: [
      { id: "professorPint", x: 300, y: 500, scale: 1.8, emotion: "thinking", talking: true },
      { id: "worker", x: 1400, y: 520, scale: 1.6, emotion: "neutral", talking: false }
    ],
    subtitle: "Goed, de stenen zijn er. Maar hoe bouw je daar een piramide van? Daar zijn verschillende theorie\xEBn over.",
    transition: { type: "wipe", duration: 18 }
  },
  {
    id: "build-2",
    start: 12960,
    end: 13320,
    bg: "desertConstruction",
    boardText: "HELLINGEN / SCHANSEN",
    camera: { x: -40, y: -20, zoom: 1.2 },
    cameraPath: CAMERA_PRESETS.tiltDown(360),
    characters: [
      { id: "professorPint", x: 300, y: 500, scale: 1.8, emotion: "neutral", talking: true },
      { id: "worker", x: 1400, y: 520, scale: 1.6, emotion: "thinking", talking: false }
    ],
    subtitle: "De meest geaccepteerde theorie: hellingen. Grote schansen van aarde en steen waarmee ze de blokken omhoog sleepten.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "build-3",
    start: 13320,
    end: 13680,
    bg: "desertConstruction",
    boardText: "SLEDEN & TOUWEN",
    camera: { x: 50, y: 0, zoom: 1.3 },
    cameraPath: CAMERA_PRESETS.panLeftToRight(360),
    characters: [
      { id: "professorPint", x: 300, y: 500, scale: 1.8, emotion: "happy", talking: true },
      { id: "worker", x: 1400, y: 520, scale: 1.6, emotion: "happy", talking: false },
      { id: "averageJoe", x: 1100, y: 540, scale: 1.4, emotion: "neutral", talking: false }
    ],
    subtitle: "Met sleden, touwen, rollers en hefbomen werkten teams van arbeiders samen. De hellingen werden gladgemaakt met water of natte klei.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "build-4",
    start: 13680,
    end: 14040,
    bg: "desertConstruction",
    boardText: "ZIGZAG OF SPIRAAL?",
    camera: { x: 0, y: -60, zoom: 1.15 },
    cameraPath: CAMERA_PRESETS.sweepingPan(360),
    characters: [
      { id: "professorPint", x: 300, y: 500, scale: 1.8, emotion: "thinking", talking: true },
      { id: "worker", x: 1400, y: 520, scale: 1.6, emotion: "thinking", talking: false }
    ],
    subtitle: "Sommige wetenschappers denken dat de hellingen in een zigzag- of spiraalpatroon rond de piramide liepen. Maar daar is geen hard bewijs voor.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "build-5",
    start: 14040,
    end: 14400,
    bg: "desertConstruction",
    boardText: "INTERNE HELLINGEN?",
    camera: { x: -20, y: -30, zoom: 1.25 },
    cameraPath: CAMERA_PRESETS.slowZoomIn(360),
    characters: [
      { id: "professorPint", x: 300, y: 500, scale: 1.8, emotion: "shocked", talking: true }
    ],
    subtitle: "Er is zelfs een theorie dat de hellingen binnenin de piramide zaten! Een soort intern rampsysteem. Fascinerend idee.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "build-6",
    start: 14400,
    end: 14760,
    bg: "desertConstruction",
    boardText: "PRECISIEWERK",
    camera: { x: 30, y: 10, zoom: 1.2 },
    cameraPath: CAMERA_PRESETS.panRightToLeft(360),
    characters: [
      { id: "professorPint", x: 300, y: 500, scale: 1.8, emotion: "happy", talking: true },
      { id: "worker", x: 1400, y: 520, scale: 1.6, emotion: "happy", talking: false }
    ],
    subtitle: "Wat we wel zeker weten: het was ongelooflijk precisiewerk. De blokken passen zo strak op elkaar dat je er geen mes tussen krijgt.",
    transition: { type: "crossfade", duration: 15 }
  },
  // ============================================================
  //  ACT 9  BINNENIN DE PIRAMIDE  (14 760  16 920  72 s)
  // ============================================================
  {
    id: "inside-1",
    start: 14760,
    end: 15120,
    bg: "insidePyramid",
    boardText: "BINNENIN",
    camera: { x: 0, y: 0, zoom: 1.05 },
    cameraPath: CAMERA_PRESETS.revealDown(360),
    characters: [
      { id: "professorPint", x: 960, y: 480, scale: 1.8, emotion: "neutral", talking: true }
    ],
    subtitle: "Kom, we gaan naar binnen. Pas op je hoofd, de gangen zijn laag.",
    transition: { type: "iris", duration: 22 }
  },
  {
    id: "inside-2",
    start: 15120,
    end: 15480,
    bg: "insidePyramid",
    boardText: "GRAFKAMERS",
    camera: { x: -30, y: -20, zoom: 1.2 },
    cameraPath: CAMERA_PRESETS.slowZoomIn(360),
    characters: [
      { id: "professorPint", x: 960, y: 480, scale: 1.8, emotion: "thinking", talking: true }
    ],
    subtitle: "Binnenin vind je grafkamers, smalle gangen en valse doorgangen. Alles ontworpen om grafrovers te misleiden.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "inside-3",
    start: 15480,
    end: 15840,
    bg: "insidePyramid",
    boardText: "HI\xCBROGLIEFEN",
    camera: { x: 40, y: 10, zoom: 1.35 },
    cameraPath: CAMERA_PRESETS.panLeftToRight(360),
    characters: [
      { id: "professorPint", x: 960, y: 480, scale: 1.8, emotion: "happy", talking: true }
    ],
    subtitle: "Op de muren zie je hi\xEBrogliefen. Teksten over het hiernamaals, spreuken voor de reis van de farao naar de godenwereld.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "inside-4",
    start: 15840,
    end: 16200,
    bg: "insidePyramid",
    boardText: "GEWELFD PLAFOND",
    camera: { x: 0, y: -40, zoom: 1.25 },
    cameraPath: CAMERA_PRESETS.tiltUp(360),
    characters: [
      { id: "professorPint", x: 960, y: 480, scale: 1.8, emotion: "shocked", talking: true }
    ],
    subtitle: "Kijk eens naar dat plafond. Een perfect gewelfd plafond, gebouwd zonder cement of mortel. Pure ingenieurskunst.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "inside-5",
    start: 16200,
    end: 16560,
    bg: "insidePyramid",
    boardText: "GRAFROVERS",
    camera: { x: -20, y: 20, zoom: 1.15 },
    cameraPath: CAMERA_PRESETS.dramaticZoom(360),
    characters: [
      { id: "professorPint", x: 700, y: 480, scale: 1.8, emotion: "angry", talking: true },
      { id: "averageJoe", x: 1300, y: 500, scale: 1.6, emotion: "shocked", talking: false }
    ],
    subtitle: "Helaas zijn bijna alle piramiden al in de oudheid geplunderd door grafrovers. De meeste schatten zijn verdwenen.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "inside-6",
    start: 16560,
    end: 16920,
    bg: "insidePyramid",
    boardText: "VALLEN & VALSE GANGEN",
    camera: { x: 30, y: -10, zoom: 1.3 },
    cameraPath: CAMERA_PRESETS.panRightToLeft(360),
    characters: [
      { id: "professorPint", x: 700, y: 480, scale: 1.8, emotion: "thinking", talking: true },
      { id: "averageJoe", x: 1300, y: 500, scale: 1.6, emotion: "thinking", talking: false }
    ],
    subtitle: "De Egyptenaren probeerden de grafrovers tegen te houden met valstrikken, zware stenen deuren en doodlopende gangen. Maar het mocht niet baten.",
    transition: { type: "crossfade", duration: 15 }
  },
  // ============================================================
  //  ACT 10  MYSTERIES  (16 920  18 900  66 s)
  // ============================================================
  {
    id: "mystery-1",
    start: 16920,
    end: 17280,
    bg: "pyramids",
    boardText: "ONOPGELOSTE MYSTERIES",
    camera: { x: 0, y: -50, zoom: 1.1 },
    cameraPath: CAMERA_PRESETS.sweepingPan(360),
    characters: [
      { id: "professorPint", x: 960, y: 500, scale: 2, emotion: "thinking", talking: true }
    ],
    subtitle: "Ondanks al ons onderzoek zijn er nog steeds grote mysteries. De oude Egyptische koningen namen hun geheimen mee in het graf.",
    transition: { type: "wipe", duration: 18 }
  },
  {
    id: "mystery-2",
    start: 17280,
    end: 17640,
    bg: "pyramids",
    boardText: "HOE PRECIES?",
    camera: { x: 30, y: -20, zoom: 1.25 },
    cameraPath: CAMERA_PRESETS.slowZoomIn(360),
    characters: [
      { id: "professorPint", x: 960, y: 500, scale: 2, emotion: "thinking", talking: true }
    ],
    subtitle: "We weten nog steeds niet exact hoe de blokken binnenin de piramiden werden geplaatst. Hoe hoger je komt, hoe moeilijker het wordt.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "mystery-3",
    start: 17640,
    end: 18e3,
    bg: "pyramids",
    boardText: "GEEN ZAGEN, GEEN WIELEN",
    camera: { x: -20, y: 0, zoom: 1.35 },
    cameraPath: CAMERA_PRESETS.dramaticZoom(360),
    characters: [
      { id: "professorPint", x: 960, y: 500, scale: 2, emotion: "shocked", talking: true }
    ],
    subtitle: "Geen zagen, geen wielen, geen ijzeren gereedschap. En toch bouwden ze een bouwwerk dat vierduizend jaar later nog steeds overeind staat.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "mystery-4",
    start: 18e3,
    end: 18360,
    bg: "insidePyramid",
    boardText: "NIEUWE TECHNOLOGIE",
    camera: { x: 0, y: -10, zoom: 1.2 },
    cameraPath: CAMERA_PRESETS.slowZoomIn(360),
    characters: [
      { id: "professorPint", x: 960, y: 480, scale: 1.8, emotion: "happy", talking: true }
    ],
    subtitle: "Mogelijk zullen toekomstige beeldtechnologie\xEBn, zoals muonentomografie, ons helpen om verborgen kamers en gangen te vinden.",
    transition: { type: "iris", duration: 18 }
  },
  {
    id: "mystery-5",
    start: 18360,
    end: 18540,
    bg: "insidePyramid",
    boardText: "RESTAURATIE",
    camera: { x: 20, y: 10, zoom: 1.3 },
    cameraPath: CAMERA_PRESETS.panRightToLeft(180),
    characters: [
      { id: "professorPint", x: 960, y: 480, scale: 1.8, emotion: "neutral", talking: true }
    ],
    subtitle: "Recent is er ook discussie over restauratiewerk door de Egyptische overheid. De piramiden blijven actueel.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "mystery-6",
    start: 18540,
    end: 18900,
    bg: "pyramids",
    boardText: "WAT WETEN WE NOG NIET?",
    camera: { x: 0, y: -40, zoom: 1.15 },
    cameraPath: CAMERA_PRESETS.slowZoomOut(360),
    characters: [
      { id: "professorPint", x: 960, y: 500, scale: 2, emotion: "thinking", talking: true }
    ],
    subtitle: "E\xE9n ding is zeker: we hebben nog lang niet alles ontdekt. De piramiden bewaren hun geheimen goed.",
    transition: { type: "crossfade", duration: 15 }
  },
  // ============================================================
  //  ACT 11  SAMENVATTING & CIJFERS  (18 900  20 340  48 s)
  // ============================================================
  {
    id: "sum-1",
    start: 18900,
    end: 19260,
    bg: "pub",
    boardText: "SAMENVATTING",
    camera: { x: 0, y: -30, zoom: 1.15 },
    characters: [
      { id: "professorPint", x: 700, y: 420, scale: 2, emotion: "happy", talking: true },
      { id: "averageJoe", x: 1300, y: 440, scale: 1.8, emotion: "happy", talking: false }
    ],
    subtitle: "Terug in de pub! Laten we even samenvatten wat we geleerd hebben.",
    transition: { type: "slide", duration: 18 }
  },
  {
    id: "sum-2",
    start: 19260,
    end: 19620,
    bg: "pub",
    boardText: "3 PIRAMIDEN \xB7 3 FARAO'S",
    camera: { x: 30, y: 0, zoom: 1.25 },
    characters: [
      { id: "professorPint", x: 700, y: 420, scale: 2, emotion: "neutral", talking: true },
      { id: "averageJoe", x: 1300, y: 440, scale: 1.8, emotion: "thinking", talking: false }
    ],
    subtitle: "Drie piramiden, drie farao's. Choefoe, Chafre en Menkaoere. Gebouwd tussen vijfentwintighonderd en vierentwintighonderdnegentig voor Christus.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "sum-3",
    start: 19620,
    end: 19980,
    bg: "pub",
    boardText: "GEEN SLAVEN",
    camera: { x: -20, y: 10, zoom: 1.3 },
    characters: [
      { id: "professorPint", x: 700, y: 420, scale: 2, emotion: "happy", talking: true },
      { id: "averageJoe", x: 1300, y: 440, scale: 1.8, emotion: "happy", talking: false }
    ],
    subtitle: "Gebouwd door vakmensen, niet door slaven. Een nationaal project met arbeiders uit heel Egypte die goed werden verzorgd.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "sum-4",
    start: 19980,
    end: 20340,
    bg: "pub",
    boardText: "HELLINGEN & NIJL",
    camera: { x: 20, y: -10, zoom: 1.2 },
    characters: [
      { id: "professorPint", x: 700, y: 420, scale: 2, emotion: "thinking", talking: true },
      { id: "averageJoe", x: 1300, y: 440, scale: 1.8, emotion: "neutral", talking: false }
    ],
    subtitle: "Transport via de Nijl, bouw met hellingen, sleden en touwen. En een precisie die we vandaag de dag nog steeds niet helemaal begrijpen.",
    transition: { type: "crossfade", duration: 12 }
  },
  // ============================================================
  //  ACT 12  OUTRO  (20 340  21 600  42 s)
  // ============================================================
  {
    id: "outro-1",
    start: 20340,
    end: 20700,
    bg: "pub",
    boardText: "PROFESSOR PINT",
    camera: { x: 0, y: -20, zoom: 1.15 },
    characters: [
      { id: "professorPint", x: 700, y: 420, scale: 2, emotion: "happy", talking: true },
      { id: "averageJoe", x: 1300, y: 440, scale: 1.8, emotion: "happy", talking: false }
    ],
    subtitle: "Wat een reis was dat! Van de pub naar de woestijn en terug. De piramiden blijven een van de meest indrukwekkende prestaties uit de menselijke geschiedenis.",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "outro-2",
    start: 20700,
    end: 21060,
    bg: "pub",
    boardText: "VOLGENDE KEER",
    camera: { x: 30, y: 0, zoom: 1.3 },
    characters: [
      { id: "professorPint", x: 700, y: 420, scale: 2, emotion: "happy", talking: true },
      { id: "averageJoe", x: 1300, y: 440, scale: 1.8, emotion: "happy", talking: false }
    ],
    subtitle: "Volgende keer nemen we je weer mee op avontuur. Waar naartoe? Dat hoor je dan wel. Houd je biertje vast!",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "outro-3",
    start: 21060,
    end: 21360,
    bg: "pub",
    boardText: "PROOST! \u{1F37A}",
    camera: { x: 0, y: 10, zoom: 1.4 },
    characters: [
      { id: "professorPint", x: 700, y: 420, scale: 2, emotion: "happy", talking: true },
      { id: "averageJoe", x: 1300, y: 440, scale: 1.8, emotion: "happy", talking: false }
    ],
    subtitle: "Ik ben Professor Pint, en ik zeg: proost op de kennis! Tot de volgende keer!",
    transition: { type: "crossfade", duration: 12 }
  },
  {
    id: "outro-4",
    start: 21360,
    end: 21600,
    bg: "pub",
    boardText: "PROFESSOR PINT",
    camera: { x: 0, y: 0, zoom: 1 },
    characters: [
      { id: "professorPint", x: 700, y: 420, scale: 2, emotion: "happy", talking: false },
      { id: "averageJoe", x: 1300, y: 440, scale: 1.8, emotion: "happy", talking: false }
    ],
    subtitle: "",
    transition: { type: "iris", duration: 25 }
  }
];
const PyramidsOfGiza = () => {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(SceneRenderer, { scenes: S, showDebug: true });
};
/* harmony default export */ const compositions_PyramidsOfGiza = ((/* unused pure expression or super */ null && (PyramidsOfGiza)));

;// ./src/pipeline/ScriptGenerator.ts

const BEAT_TEMPLATES = {
  casual: [
    {
      type: "intro",
      emotion: "neutral",
      talking: false,
      durationRatio: 0.08,
      camera: { x: 0, y: -50, zoom: 1.1 },
      transition: { type: "crossfade", duration: 20 }
    },
    {
      type: "hook",
      emotion: "happy",
      talking: true,
      durationRatio: 0.15,
      camera: { x: 50, y: 0, zoom: 1.3 },
      transition: { type: "crossfade", duration: 15 }
    },
    {
      type: "explain",
      emotion: "thinking",
      talking: true,
      durationRatio: 0.22,
      camera: { x: -30, y: 20, zoom: 1.15 },
      transition: { type: "wipe", duration: 18 }
    },
    {
      type: "example",
      emotion: "happy",
      talking: true,
      durationRatio: 0.18,
      camera: { x: 20, y: -10, zoom: 1.25 },
      transition: { type: "slide", duration: 15 }
    },
    {
      type: "revelation",
      emotion: "shocked",
      talking: true,
      durationRatio: 0.15,
      camera: { x: 0, y: -20, zoom: 1.5 },
      transition: { type: "zoomIn", duration: 15 }
    },
    {
      type: "recap",
      emotion: "thinking",
      talking: true,
      durationRatio: 0.12,
      camera: { x: -20, y: 10, zoom: 1.2 },
      transition: { type: "crossfade", duration: 15 }
    },
    {
      type: "outro",
      emotion: "happy",
      talking: false,
      durationRatio: 0.1,
      camera: { x: 0, y: 0, zoom: 1 },
      transition: { type: "iris", duration: 20 }
    }
  ],
  structured: [
    {
      type: "intro",
      emotion: "neutral",
      talking: false,
      durationRatio: 0.06,
      camera: { x: 0, y: -30, zoom: 1.05 },
      transition: { type: "crossfade", duration: 20 }
    },
    {
      type: "hook",
      emotion: "happy",
      talking: true,
      durationRatio: 0.12,
      camera: { x: 40, y: 0, zoom: 1.2 },
      transition: { type: "crossfade", duration: 15 }
    },
    {
      type: "explain",
      emotion: "neutral",
      talking: true,
      durationRatio: 0.25,
      camera: { x: -20, y: 10, zoom: 1.1 },
      transition: { type: "wipe", duration: 18 }
    },
    {
      type: "example",
      emotion: "thinking",
      talking: true,
      durationRatio: 0.2,
      camera: { x: 30, y: -10, zoom: 1.2 },
      transition: { type: "slide", duration: 15 }
    },
    {
      type: "revelation",
      emotion: "shocked",
      talking: true,
      durationRatio: 0.12,
      camera: { x: 0, y: -20, zoom: 1.4 },
      transition: { type: "zoomIn", duration: 15 }
    },
    {
      type: "recap",
      emotion: "neutral",
      talking: true,
      durationRatio: 0.15,
      camera: { x: -10, y: 0, zoom: 1.1 },
      transition: { type: "crossfade", duration: 15 }
    },
    {
      type: "outro",
      emotion: "happy",
      talking: false,
      durationRatio: 0.1,
      camera: { x: 0, y: 0, zoom: 1 },
      transition: { type: "iris", duration: 20 }
    }
  ]
};
const generateBoardText = (beat, topic, _index) => {
  switch (beat.type) {
    case "intro":
      return `TODAY'S TOPIC`;
    case "hook":
      return topic.toUpperCase();
    case "explain":
      return `HOW IT WORKS`;
    case "example":
      return `EXAMPLE`;
    case "revelation":
      return `THE TRUTH`;
    case "recap":
      return `KEY TAKEAWAYS`;
    case "outro":
      return `PROFESSOR PINT`;
    default:
      return "";
  }
};
const SUBTITLE_TEMPLATES = {
  en: {
    intro: "",
    hook: `Welcome to the pub! Today we're talking about {topic}. Grab a pint and listen up.`,
    explain: `So here's the thing about {topic}. Most people get this completely wrong.`,
    example: `Let me give you a real example. Imagine you're at the bar...`,
    revelation: `And here's what nobody tells you. This changes everything.`,
    recap: `So remember: {topic} isn't as complicated as they make it seem.`,
    outro: `That's your lesson for today. Same time next week? Cheers!`
  },
  nl: {
    intro: "",
    hook: `Welkom in de kroeg! Vandaag hebben we het over {topic}. Pak een biertje erbij.`,
    explain: `Dus dit is het ding over {topic}. De meeste mensen snappen dit helemaal verkeerd.`,
    example: `Laat me een voorbeeld geven. Stel je voor dat je aan de bar zit...`,
    revelation: `En hier is wat niemand je vertelt. Dit verandert alles.`,
    recap: `Dus onthoud: {topic} is niet zo ingewikkeld als ze het laten lijken.`,
    outro: `Dat was de les voor vandaag. Zelfde tijd volgende week? Proost!`
  }
};
const generateOverlays = (beatType, topic, startFrame, endFrame) => {
  const overlays = [];
  const pad = 15;
  switch (beatType) {
    case "intro":
      overlays.push({
        type: "topicCard",
        startFrame: startFrame + pad,
        endFrame: endFrame - pad,
        props: { topic, subtitle: "Professor Pint explains..." }
      });
      break;
    case "explain":
      overlays.push({
        type: "factBox",
        startFrame: startFrame + pad + 10,
        endFrame: endFrame - pad,
        props: {
          text: `Most people misunderstand ${topic}. Here's why it matters.`,
          accent: "?",
          position: "right"
        }
      });
      break;
    case "example":
      overlays.push({
        type: "barChart",
        startFrame: startFrame + pad,
        endFrame: endFrame - pad,
        props: {
          title: "The Numbers",
          bars: [
            { label: "Year 1", value: 100, color: "#D4A012" },
            { label: "Year 5", value: 128, color: "#E8B830" },
            { label: "Year 10", value: 163, color: "#F0C850" },
            { label: "Year 20", value: 265, color: "#FFD700" }
          ],
          position: "left"
        }
      });
      break;
    case "revelation":
      overlays.push({
        type: "statCard",
        startFrame: startFrame + pad,
        endFrame: endFrame - pad,
        props: {
          value: "165%",
          label: "Growth over 20 years",
          position: "right",
          color: "#FF6B35"
        }
      });
      break;
    case "recap":
      overlays.push({
        type: "factBox",
        startFrame: startFrame + pad,
        endFrame: endFrame - pad,
        props: {
          text: `Key takeaway: Understand ${topic} and you're already ahead of 90% of people.`,
          accent: "\u2605",
          position: "right"
        }
      });
      break;
  }
  return overlays;
};
const generateScript = (config) => {
  const {
    topic,
    duration = 60,
    fps = 30,
    language = "en",
    tone = "casual"
  } = config;
  const totalFrames = duration * fps;
  const beats = BEAT_TEMPLATES[tone] ?? BEAT_TEMPLATES.casual;
  const subtitles = SUBTITLE_TEMPLATES[language] ?? SUBTITLE_TEMPLATES.en;
  const scenes = [];
  let currentFrame = 0;
  for (let i = 0; i < beats.length; i++) {
    const beat = beats[i];
    const beatFrames = Math.round(totalFrames * beat.durationRatio);
    const startFrame = currentFrame;
    const endFrame = currentFrame + beatFrames;
    const subtitleTemplate = subtitles[beat.type] ?? "";
    const subtitle = subtitleTemplate.replace(/\{topic\}/g, topic);
    const boardText = beat.boardText ?? generateBoardText(beat, topic, i);
    const overlays = generateOverlays(beat.type, topic, startFrame, endFrame);
    scenes.push({
      id: `${beat.type}-${i}`,
      start: startFrame,
      end: endFrame,
      bg: "pub",
      boardText,
      camera: beat.camera,
      characters: [
        {
          id: "professorPint",
          x: 960,
          y: 420,
          scale: 2,
          emotion: beat.emotion,
          talking: beat.talking
        }
      ],
      subtitle,
      transition: beat.transition,
      overlays
    });
    currentFrame = endFrame;
  }
  if (scenes.length > 0) {
    scenes[scenes.length - 1].end = totalFrames;
  }
  return scenes;
};
const generateScriptFromLines = (lines, config) => {
  const { duration = 60, fps = 30, tone = "casual" } = config;
  const totalFrames = duration * fps;
  const beats = BEAT_TEMPLATES[tone] ?? BEAT_TEMPLATES.casual;
  const scenes = [];
  const framesPerLine = Math.floor(totalFrames / lines.length);
  for (let i = 0; i < lines.length; i++) {
    const line = lines[i];
    const beatIndex = Math.min(i, beats.length - 1);
    const beat = beats[beatIndex];
    scenes.push({
      id: `scene-${i}`,
      start: i * framesPerLine,
      end: (i + 1) * framesPerLine,
      bg: "pub",
      boardText: line.boardText,
      camera: beat.camera,
      characters: [
        {
          id: "professorPint",
          x: 960,
          y: 420,
          scale: 2,
          emotion: line.emotion,
          talking: line.subtitle.length > 0
        }
      ],
      subtitle: line.subtitle,
      transition: beat.transition
    });
  }
  if (scenes.length > 0) {
    scenes[scenes.length - 1].end = totalFrames;
  }
  return scenes;
};

;// ./src/compositions/PipelineVideo.tsx





const PipelineVideo = ({
  topic = "Compound Interest",
  duration = 60,
  language = "en",
  tone = "casual",
  audioSegments = [],
  showDebug = true
}) => {
  const scenes = react.useMemo(
    () => generateScript({
      topic,
      duration,
      fps: 30,
      language,
      tone
    }),
    [topic, duration, language, tone]
  );
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    SceneRenderer,
    {
      scenes,
      audioSegments,
      showDebug
    }
  );
};
const CompoundInterestVideo = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(PipelineVideo, { topic: "Compound Interest", duration: 60, tone: "casual" });
const InflationVideo = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(PipelineVideo, { topic: "Inflation", duration: 45, tone: "casual" });
const ETFVideo = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(PipelineVideo, { topic: "ETF Investing", duration: 60, tone: "structured" });
const BudgetingVideo = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(PipelineVideo, { topic: "The 50/30/20 Budget Rule", duration: 45, tone: "casual", language: "en" });
const DutchTaxVideo = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(PipelineVideo, { topic: "Box 3 Belasting", duration: 60, tone: "structured", language: "nl" });
/* harmony default export */ const compositions_PipelineVideo = ((/* unused pure expression or super */ null && (PipelineVideo)));

;// ./src/characters/WallStreetBroker.tsx







const WallStreetBroker_COL = {
  skin: "#F5D0A9",
  skinShadow: "#E0B890",
  outline: "#1A1A1A",
  suit: "#1A1A2E",
  suitDark: "#0F0F1E",
  suitPinstripe: "rgba(255,255,255,0.06)",
  shirt: "#FFFFFF",
  shirtShadow: "#E8E8E8",
  tie: "#CC0000",
  tieDark: "#990000",
  tieClip: "#D4A012",
  hair: "#2A2A2A",
  hairDark: "#1A1A1A",
  hairShine: "#444444",
  eyeWhite: "#FFFFFF",
  iris: "#3A6080",
  pupil: "#1A1A1A",
  mouth: "#8B2020",
  tongue: "#CC5555",
  blush: "#FFAAAA",
  shine: "rgba(255,255,255,0.5)",
  shoe: "#1A1A1A",
  watch: "#D4A012"
};
const WallStreetBroker_SW = 3.5;
const WallStreetBroker = ({
  emotion = "neutral",
  previousEmotion = "neutral",
  emotionTransitionProgress = 1,
  talking = false,
  scale = 1
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const idle = getIdleState(frame);
  const mouthShape = getMouthShape(frame, talking);
  const talkBounce = getTalkingBounce(frame, talking);
  const talkGesture = getTalkingGesture(frame, talking);
  const emo = (0,react.useMemo)(
    () => interpolateEmotions(previousEmotion, emotion, emotionTransitionProgress),
    [previousEmotion, emotion, emotionTransitionProgress]
  );
  const bodyY = idle.breathing.y + talkBounce;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "svg",
    {
      viewBox: "-130 -210 260 400",
      width: 260 * scale,
      height: 400 * scale,
      style: { overflow: "visible" },
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${idle.sway.x}, ${bodyY}) rotate(${idle.sway.rotation})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(BrokerLegs, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `scale(${idle.breathing.scaleX}, 1)`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(BrokerBody, {}) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(BrokerLeftArm, { gestureRotation: talkGesture }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(BrokerRightArm, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(0, -105) rotate(${emo.headTilt})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(BrokerHead, { emo, blink: idle.blink, pupil: idle.pupil, mouthShape, talking }) })
      ] })
    }
  );
};
const BrokerLegs = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-16,68 L-20,135 L-8,135 Z", fill: WallStreetBroker_COL.suit, stroke: WallStreetBroker_COL.outline, strokeWidth: WallStreetBroker_SW }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M16,68 L20,135 L8,135 Z", fill: WallStreetBroker_COL.suit, stroke: WallStreetBroker_COL.outline, strokeWidth: WallStreetBroker_SW }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -18, cy: 137, rx: 15, ry: 6, fill: WallStreetBroker_COL.shoe, stroke: WallStreetBroker_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 18, cy: 137, rx: 15, ry: 6, fill: WallStreetBroker_COL.shoe, stroke: WallStreetBroker_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -22, cy: 135, rx: 5, ry: 2, fill: "rgba(255,255,255,0.1)" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 22, cy: 135, rx: 5, ry: 2, fill: "rgba(255,255,255,0.1)" })
] });
const BrokerBody = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-48,-48 Q-48,-55 -32,-55 L32,-55 Q48,-55 48,-48 L44,65 Q44,75 0,78 Q-44,75 -44,65 Z",
      fill: WallStreetBroker_COL.suit,
      stroke: WallStreetBroker_COL.outline,
      strokeWidth: WallStreetBroker_SW
    }
  ),
  [-20, -10, 0, 10, 20].map((x, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: x, y1: -45, x2: x + 2, y2: 70, stroke: WallStreetBroker_COL.suitPinstripe, strokeWidth: 1 }, `pin-${i}`)),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-12,-50 L0,15 L12,-50", fill: WallStreetBroker_COL.shirt, stroke: WallStreetBroker_COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-5,-48 L0,30 L5,-48", fill: WallStreetBroker_COL.tie, stroke: WallStreetBroker_COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,-48 L0,-42 L4,-48", fill: WallStreetBroker_COL.tieDark, stroke: WallStreetBroker_COL.outline, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -6, y: -15, width: 12, height: 2.5, rx: 1, fill: WallStreetBroker_COL.tieClip, stroke: WallStreetBroker_COL.outline, strokeWidth: 0.8 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-12,-50 L-22,-50 L-32,10", fill: "none", stroke: WallStreetBroker_COL.suitDark, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M12,-50 L22,-50 L32,10", fill: "none", stroke: WallStreetBroker_COL.suitDark, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M28,-30 L32,-22 L36,-30", fill: "white", stroke: WallStreetBroker_COL.outline, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -11, y: -52, width: 22, height: 10, fill: WallStreetBroker_COL.skin, stroke: WallStreetBroker_COL.outline, strokeWidth: WallStreetBroker_SW })
] });
const BrokerLeftArm = ({ gestureRotation }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(-48, -28) rotate(${-10 + gestureRotation}, 0, 0)`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -16, y2: 36, stroke: WallStreetBroker_COL.suit, strokeWidth: 12, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -16, y2: 36, stroke: WallStreetBroker_COL.outline, strokeWidth: 14, strokeLinecap: "round", opacity: 0.12 }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(-16, 36)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -6, y2: 28, stroke: WallStreetBroker_COL.skin, strokeWidth: 7, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -8, cy: 32, r: 7.5, fill: WallStreetBroker_COL.skin, stroke: WallStreetBroker_COL.outline, strokeWidth: WallStreetBroker_SW }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -4, y: 22, width: 10, height: 7, rx: 2, fill: WallStreetBroker_COL.watch, stroke: WallStreetBroker_COL.outline, strokeWidth: 1.5 })
  ] })
] });
const BrokerRightArm = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(48, -28)", children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 14, y2: 36, stroke: WallStreetBroker_COL.suit, strokeWidth: 12, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 14, y2: 36, stroke: WallStreetBroker_COL.outline, strokeWidth: 14, strokeLinecap: "round", opacity: 0.12 }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(14, 36)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 4, y2: 28, stroke: WallStreetBroker_COL.skin, strokeWidth: 7, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 6, cy: 32, r: 7.5, fill: WallStreetBroker_COL.skin, stroke: WallStreetBroker_COL.outline, strokeWidth: WallStreetBroker_SW })
  ] })
] });
const BrokerHead = ({ emo, blink, pupil, mouthShape, talking }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-44,5 Q-50,-10 -45,-30 Q-38,-50 0,-55 Q38,-50 45,-30 Q50,-10 44,5\n         L40,10 Q20,15 0,15 Q-20,15 -40,10 Z",
      fill: WallStreetBroker_COL.hair,
      stroke: WallStreetBroker_COL.outline,
      strokeWidth: 2.5
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-42,0 Q-42,-35 0,-40 Q42,-35 42,0 L40,25 Q35,45 0,48 Q-35,45 -40,25 Z",
      fill: WallStreetBroker_COL.skin,
      stroke: WallStreetBroker_COL.outline,
      strokeWidth: WallStreetBroker_SW
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-40,-20 Q-35,-42 0,-46 Q35,-42 40,-20 L38,-15 Q30,-35 0,-38 Q-30,-35 -38,-15 Z",
      fill: WallStreetBroker_COL.hair,
      stroke: WallStreetBroker_COL.outline,
      strokeWidth: 2
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-15,-38 Q0,-45 15,-38", fill: "none", stroke: WallStreetBroker_COL.hairShine, strokeWidth: 2, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-32,20 Q-28,38 0,42 Q28,38 32,20", fill: "none", stroke: WallStreetBroker_COL.skinShadow, strokeWidth: 1.5, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(-15, ${-2 + emo.eyeOffsetY})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(BrokerEye, { blink, scaleY: emo.eyeScaleY, pupilScale: emo.pupilScale, px: pupil.x, py: pupil.y }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(15, ${-2 + emo.eyeOffsetY})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(BrokerEye, { blink, scaleY: emo.eyeScaleY, pupilScale: emo.pupilScale, px: pupil.x, py: pupil.y }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(-15, ${-14 + emo.browLeftY}) rotate(${emo.browLeftRotation})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-10,0 L10,-3", fill: "none", stroke: WallStreetBroker_COL.hair, strokeWidth: 3, strokeLinecap: "round" }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(15, ${-14 + emo.browRightY}) rotate(${emo.browRightRotation})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-10,-3 L10,0", fill: "none", stroke: WallStreetBroker_COL.hair, strokeWidth: 3, strokeLinecap: "round" }) }),
  emo.blushOpacity > 0.01 && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -26, cy: 14, rx: 7, ry: 4, fill: WallStreetBroker_COL.blush, opacity: emo.blushOpacity }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 26, cy: 14, rx: 7, ry: 4, fill: WallStreetBroker_COL.blush, opacity: emo.blushOpacity })
  ] }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,6 Q0,14 3,6", fill: "none", stroke: WallStreetBroker_COL.outline, strokeWidth: 2.2, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    BrokerMouth,
    {
      shape: mouthShape,
      curve: emo.mouthCurve,
      width: emo.mouthWidth,
      emotionOpen: emo.mouthOpen,
      talking
    }
  )
] });
const BrokerEye = ({ blink, scaleY, pupilScale, px, py }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `scale(1, ${scaleY * blink})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 8.5, ry: 6.5, fill: WallStreetBroker_COL.eyeWhite, stroke: WallStreetBroker_COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px, cy: py, r: 4 * pupilScale, fill: WallStreetBroker_COL.iris }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px, cy: py, r: 2.2 * pupilScale, fill: WallStreetBroker_COL.pupil }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px + 1.5, cy: py - 1.5, r: 1.3, fill: "white", opacity: 0.8 })
] });
const BrokerMouth = ({ shape, curve, width, emotionOpen, talking }) => {
  const talkOpen = talking ? [0, 3, 6, 10][shape] : emotionOpen * 10;
  const openAmount = Math.max(talkOpen, emotionOpen * 10);
  const hw = 12 * width;
  if (openAmount < 1) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${-hw},26 Q0,${26 + curve} ${hw},26`,
        fill: "none",
        stroke: WallStreetBroker_COL.outline,
        strokeWidth: 2.5,
        strokeLinecap: "round"
      }
    );
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(0, 26)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 0,
        cy: 0,
        rx: hw,
        ry: openAmount * 0.5,
        fill: WallStreetBroker_COL.mouth,
        stroke: WallStreetBroker_COL.outline,
        strokeWidth: 2.5
      }
    ),
    openAmount > 6 && /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 2, cy: openAmount * 0.25, rx: hw * 0.5, ry: openAmount * 0.2, fill: WallStreetBroker_COL.tongue }),
    openAmount > 3 && /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -hw * 0.6, y: -openAmount * 0.35, width: hw * 1.2, height: 2.5, fill: "white", rx: 1 })
  ] });
};
/* harmony default export */ const characters_WallStreetBroker = ((/* unused pure expression or super */ null && (WallStreetBroker)));

;// ./src/characters/CryptoBro.tsx







const CryptoBro_COL = {
  skin: "#F0C8A0",
  skinShadow: "#D8B088",
  outline: "#1A1A1A",
  hoodie: "#1A1A2E",
  hoodieLogo: "#F7931A",
  // Bitcoin orange
  hoodieAccent: "#2D2D44",
  tshirt: "#222222",
  cap: "#2D2D44",
  capBrim: "#1A1A30",
  headphones: "#333333",
  headphonePad: "#444444",
  headphoneAccent: "#00D4AA",
  // crypto green
  hair: "#FFD700",
  hairDark: "#DAA520",
  eyeWhite: "#FFFFFF",
  iris: "#40A0A0",
  pupil: "#1A1A1A",
  mouth: "#8B2020",
  tongue: "#CC5555",
  blush: "#FFBBAA",
  shine: "rgba(255,255,255,0.5)",
  shoe: "#FFFFFF",
  // white sneakers
  shoeSole: "#333333",
  phone: "#1A1A1A",
  phoneScreen: "#00D4AA"
};
const CryptoBro_SW = 3.5;
const CryptoBro = ({
  emotion = "neutral",
  previousEmotion = "neutral",
  emotionTransitionProgress = 1,
  talking = false,
  scale = 1
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const idle = getIdleState(frame);
  const mouthShape = getMouthShape(frame, talking);
  const talkBounce = getTalkingBounce(frame, talking);
  const talkGesture = getTalkingGesture(frame, talking);
  const emo = (0,react.useMemo)(
    () => interpolateEmotions(previousEmotion, emotion, emotionTransitionProgress),
    [previousEmotion, emotion, emotionTransitionProgress]
  );
  const bodyY = idle.breathing.y + talkBounce;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "svg",
    {
      viewBox: "-130 -210 260 400",
      width: 260 * scale,
      height: 400 * scale,
      style: { overflow: "visible" },
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${idle.sway.x}, ${bodyY}) rotate(${idle.sway.rotation})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(CryptoLegs, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `scale(${idle.breathing.scaleX}, 1)`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(CryptoBody, {}) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(CryptoLeftArm, { gestureRotation: talkGesture }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(CryptoRightArm, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(0, -100) rotate(${emo.headTilt})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(CryptoHead, { emo, blink: idle.blink, pupil: idle.pupil, mouthShape, talking }) })
      ] })
    }
  );
};
const CryptoLegs = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-18,65 L-22,130 L-6,130 L-4,70 Z", fill: CryptoBro_COL.outline, stroke: CryptoBro_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M18,65 L22,130 L6,130 L4,70 Z", fill: CryptoBro_COL.outline, stroke: CryptoBro_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -18, cy: 133, rx: 16, ry: 7, fill: CryptoBro_COL.shoe, stroke: CryptoBro_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 18, cy: 133, rx: 16, ry: 7, fill: CryptoBro_COL.shoe, stroke: CryptoBro_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -28, y1: 133, x2: -8, y2: 133, stroke: CryptoBro_COL.shoeSole, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 8, y1: 133, x2: 28, y2: 133, stroke: CryptoBro_COL.shoeSole, strokeWidth: 2 })
] });
const CryptoBody = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-48,-38 Q-48,-45 -35,-45 L35,-45 Q48,-45 48,-38 L48,60 Q48,72 0,75 Q-48,72 -48,60 Z",
      fill: CryptoBro_COL.hoodie,
      stroke: CryptoBro_COL.outline,
      strokeWidth: CryptoBro_SW
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 10, r: 14, fill: CryptoBro_COL.hoodieLogo, opacity: 0.8 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "text",
    {
      x: 0,
      y: 16,
      textAnchor: "middle",
      fontSize: 18,
      fontWeight: "bold",
      fill: "white",
      fontFamily: "sans-serif",
      children: "\u20BF"
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-28,30 L-28,55 Q-28,60 -22,60 L22,60 Q28,60 28,55 L28,30",
      fill: "none",
      stroke: CryptoBro_COL.hoodieAccent,
      strokeWidth: 2,
      opacity: 0.5
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-22,-42 Q-25,-50 -14,-50 L14,-50 Q25,-50 22,-42",
      fill: CryptoBro_COL.hoodieAccent,
      stroke: CryptoBro_COL.outline,
      strokeWidth: 2
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -10, y: -48, width: 20, height: 10, fill: CryptoBro_COL.skin, stroke: CryptoBro_COL.outline, strokeWidth: CryptoBro_SW })
] });
const CryptoLeftArm = ({ gestureRotation }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(-48, -22) rotate(${-8 + gestureRotation}, 0, 0)`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -14, y2: 35, stroke: CryptoBro_COL.hoodie, strokeWidth: 14, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -14, y2: 35, stroke: CryptoBro_COL.outline, strokeWidth: 16, strokeLinecap: "round", opacity: 0.12 }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(-14, 35)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -6, y2: 28, stroke: CryptoBro_COL.skin, strokeWidth: 7, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -8, cy: 32, r: 7.5, fill: CryptoBro_COL.skin, stroke: CryptoBro_COL.outline, strokeWidth: CryptoBro_SW })
  ] })
] });
const CryptoRightArm = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(48, -22)", children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 14, y2: 35, stroke: CryptoBro_COL.hoodie, strokeWidth: 14, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 14, y2: 35, stroke: CryptoBro_COL.outline, strokeWidth: 16, strokeLinecap: "round", opacity: 0.12 }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(14, 35)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 6, y2: 22, stroke: CryptoBro_COL.skin, strokeWidth: 7, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 8, cy: 26, r: 7.5, fill: CryptoBro_COL.skin, stroke: CryptoBro_COL.outline, strokeWidth: CryptoBro_SW }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 12, width: 14, height: 24, rx: 3, fill: CryptoBro_COL.phone, stroke: CryptoBro_COL.outline, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 2, y: 15, width: 10, height: 16, rx: 1, fill: CryptoBro_COL.phoneScreen, opacity: 0.7 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M4,28 L6,24 L8,26 L10,20", fill: "none", stroke: "white", strokeWidth: 1 })
  ] })
] });
const CryptoHead = ({ emo, blink, pupil, mouthShape, talking }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 44, ry: 46, fill: CryptoBro_COL.skin, stroke: CryptoBro_COL.outline, strokeWidth: CryptoBro_SW }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-38,-15 Q-42,-25 -35,-30 Q-25,-35 0,-36 Q25,-35 35,-30 Q42,-25 38,-15",
      fill: CryptoBro_COL.hair,
      stroke: CryptoBro_COL.outline,
      strokeWidth: 2
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-40,-18 Q-38,-40 0,-44 Q38,-40 40,-18 L38,-12 Q20,-28 0,-30 Q-20,-28 -38,-12 Z",
      fill: CryptoBro_COL.cap,
      stroke: CryptoBro_COL.outline,
      strokeWidth: 2.5
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-25,-10 Q-35,-8 -40,-15 Q-42,-20 -38,-22",
      fill: CryptoBro_COL.capBrim,
      stroke: CryptoBro_COL.outline,
      strokeWidth: 2
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-44,0 Q-50,-20 -42,-35", fill: "none", stroke: CryptoBro_COL.headphones, strokeWidth: 5, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M44,0 Q50,-20 42,-35", fill: "none", stroke: CryptoBro_COL.headphones, strokeWidth: 5, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-42,-35 Q0,-52 42,-35", fill: "none", stroke: CryptoBro_COL.headphones, strokeWidth: 4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -46, cy: 4, rx: 10, ry: 14, fill: CryptoBro_COL.headphonePad, stroke: CryptoBro_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 46, cy: 4, rx: 10, ry: 14, fill: CryptoBro_COL.headphonePad, stroke: CryptoBro_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -46, cy: 4, rx: 6, ry: 10, fill: CryptoBro_COL.headphoneAccent, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 46, cy: 4, rx: 6, ry: 10, fill: CryptoBro_COL.headphoneAccent, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(-14, ${0 + emo.eyeOffsetY})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(CryptoEye, { blink, scaleY: emo.eyeScaleY, pupilScale: emo.pupilScale, px: pupil.x, py: pupil.y }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(14, ${0 + emo.eyeOffsetY})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(CryptoEye, { blink, scaleY: emo.eyeScaleY, pupilScale: emo.pupilScale, px: pupil.x, py: pupil.y }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(-14, ${-13 + emo.browLeftY}) rotate(${emo.browLeftRotation})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -8, y: 0, width: 16, height: 3.5, rx: 1.5, fill: CryptoBro_COL.hair }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(14, ${-13 + emo.browRightY}) rotate(${emo.browRightRotation})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -8, y: 0, width: 16, height: 3.5, rx: 1.5, fill: CryptoBro_COL.hair }) }),
  emo.blushOpacity > 0.01 && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -26, cy: 16, rx: 7, ry: 4, fill: CryptoBro_COL.blush, opacity: emo.blushOpacity }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 26, cy: 16, rx: 7, ry: 4, fill: CryptoBro_COL.blush, opacity: emo.blushOpacity })
  ] }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,10 Q0,17 3,10", fill: "none", stroke: CryptoBro_COL.outline, strokeWidth: 2, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 38, rx: 5, ry: 4, fill: CryptoBro_COL.hairDark, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    CryptoMouth,
    {
      shape: mouthShape,
      curve: emo.mouthCurve,
      width: emo.mouthWidth,
      emotionOpen: emo.mouthOpen,
      talking
    }
  )
] });
const CryptoEye = ({ blink, scaleY, pupilScale, px, py }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `scale(1, ${scaleY * blink})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 9, ry: 7, fill: CryptoBro_COL.eyeWhite, stroke: CryptoBro_COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px, cy: py, r: 4.2 * pupilScale, fill: CryptoBro_COL.iris }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px, cy: py, r: 2.3 * pupilScale, fill: CryptoBro_COL.pupil }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px + 1.5, cy: py - 1.5, r: 1.3, fill: "white", opacity: 0.8 })
] });
const CryptoMouth = ({ shape, curve, width, emotionOpen, talking }) => {
  const talkOpen = talking ? [0, 3, 7, 11][shape] : emotionOpen * 10;
  const openAmount = Math.max(talkOpen, emotionOpen * 10);
  const hw = 12 * width;
  if (openAmount < 1) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${-hw},28 Q0,${28 + curve} ${hw},28`,
        fill: "none",
        stroke: CryptoBro_COL.outline,
        strokeWidth: 2.5,
        strokeLinecap: "round"
      }
    );
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(0, 28)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 0,
        cy: 0,
        rx: hw,
        ry: openAmount * 0.5,
        fill: CryptoBro_COL.mouth,
        stroke: CryptoBro_COL.outline,
        strokeWidth: 2.5
      }
    ),
    openAmount > 6 && /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 2, cy: openAmount * 0.25, rx: hw * 0.5, ry: openAmount * 0.2, fill: CryptoBro_COL.tongue }),
    openAmount > 3 && /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -hw * 0.6, y: -openAmount * 0.35, width: hw * 1.2, height: 2.5, fill: "white", rx: 1 })
  ] });
};
/* harmony default export */ const characters_CryptoBro = ((/* unused pure expression or super */ null && (CryptoBro)));

;// ./src/characters/Banker.tsx







const Banker_COL = {
  skin: "#F0D0B0",
  skinShadow: "#D8B898",
  outline: "#1A1A1A",
  suit: "#2A2A3A",
  suitDark: "#1A1A2A",
  suitPinstripe: "rgba(255,255,255,0.08)",
  vest: "#3A3A4A",
  shirt: "#F0F0FF",
  tie: "#1E3A8A",
  tieDark: "#142A6A",
  tieStripe: "#2A5AAA",
  hair: "#C0C0C0",
  hairDark: "#A0A0A0",
  hairShine: "#E0E0E0",
  glasses: "#4A4A4A",
  glassLens: "rgba(200,220,240,0.15)",
  eyeWhite: "#FFFFFF",
  iris: "#4A6060",
  pupil: "#1A1A1A",
  mouth: "#6B2020",
  tongue: "#AA4444",
  blush: "#FFBBBB",
  shine: "rgba(255,255,255,0.45)",
  shoe: "#2A1A0A"
};
const Banker_SW = 3.5;
const Banker = ({
  emotion = "neutral",
  previousEmotion = "neutral",
  emotionTransitionProgress = 1,
  talking = false,
  scale = 1
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const idle = getIdleState(frame);
  const mouthShape = getMouthShape(frame, talking);
  const talkBounce = getTalkingBounce(frame, talking);
  const talkGesture = getTalkingGesture(frame, talking);
  const emo = (0,react.useMemo)(
    () => interpolateEmotions(previousEmotion, emotion, emotionTransitionProgress),
    [previousEmotion, emotion, emotionTransitionProgress]
  );
  const bodyY = idle.breathing.y + talkBounce;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "svg",
    {
      viewBox: "-130 -210 260 400",
      width: 260 * scale,
      height: 400 * scale,
      style: { overflow: "visible" },
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${idle.sway.x}, ${bodyY}) rotate(${idle.sway.rotation})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(BankerLegs, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `scale(${idle.breathing.scaleX}, 1)`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(BankerBody, {}) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(BankerLeftArm, { gestureRotation: talkGesture }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(BankerRightArm, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(0, -108) rotate(${emo.headTilt})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(BankerHead, { emo, blink: idle.blink, pupil: idle.pupil, mouthShape, talking }) })
      ] })
    }
  );
};
const BankerLegs = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-16,68 L-19,135 L-7,135 Z", fill: Banker_COL.suit, stroke: Banker_COL.outline, strokeWidth: Banker_SW }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M16,68 L19,135 L7,135 Z", fill: Banker_COL.suit, stroke: Banker_COL.outline, strokeWidth: Banker_SW }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -16, cy: 137, rx: 14, ry: 6, fill: Banker_COL.shoe, stroke: Banker_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 16, cy: 137, rx: 14, ry: 6, fill: Banker_COL.shoe, stroke: Banker_COL.outline, strokeWidth: 2 })
] });
const BankerBody = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-42,-45 Q-42,-52 -30,-52 L30,-52 Q42,-52 42,-45 L42,60 Q42,72 0,75 Q-42,72 -42,60 Z",
      fill: Banker_COL.suit,
      stroke: Banker_COL.outline,
      strokeWidth: Banker_SW
    }
  ),
  [-18, -8, 2, 12, 22].map((x, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: x, y1: -42, x2: x + 1, y2: 68, stroke: Banker_COL.suitPinstripe, strokeWidth: 0.8 }, `bp-${i}`)),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-22,-48 L-22,40 L22,40 L22,-48", fill: Banker_COL.vest, stroke: Banker_COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -10, r: 2.5, fill: Banker_COL.hairDark, stroke: Banker_COL.outline, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 8, r: 2.5, fill: Banker_COL.hairDark, stroke: Banker_COL.outline, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 26, r: 2.5, fill: Banker_COL.hairDark, stroke: Banker_COL.outline, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-14,-50 Q0,-42 14,-50", fill: Banker_COL.shirt, stroke: Banker_COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,-48 L0,35 L4,-48", fill: Banker_COL.tie, stroke: Banker_COL.outline, strokeWidth: 1.5 }),
  [0, 8, 16, 24].map((y, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -40 + y, x2: 3, y2: -38 + y, stroke: Banker_COL.tieStripe, strokeWidth: 1 }, `ts-${i}`)),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -10, y: -52, width: 20, height: 10, fill: Banker_COL.skin, stroke: Banker_COL.outline, strokeWidth: Banker_SW })
] });
const BankerLeftArm = ({ gestureRotation }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(-44, -26) rotate(${-8 + gestureRotation * 0.6}, 0, 0)`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -16, y2: 36, stroke: Banker_COL.suit, strokeWidth: 12, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -16, y2: 36, stroke: Banker_COL.outline, strokeWidth: 14, strokeLinecap: "round", opacity: 0.12 }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(-16, 36)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -6, y2: 28, stroke: Banker_COL.skin, strokeWidth: 7, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -8, cy: 32, r: 7, fill: Banker_COL.skin, stroke: Banker_COL.outline, strokeWidth: Banker_SW })
  ] })
] });
const BankerRightArm = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(44, -26)", children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 14, y2: 36, stroke: Banker_COL.suit, strokeWidth: 12, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 14, y2: 36, stroke: Banker_COL.outline, strokeWidth: 14, strokeLinecap: "round", opacity: 0.12 }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(14, 36)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 4, y2: 28, stroke: Banker_COL.skin, strokeWidth: 7, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 6, cy: 32, r: 7, fill: Banker_COL.skin, stroke: Banker_COL.outline, strokeWidth: Banker_SW })
  ] })
] });
const BankerHead = ({ emo, blink, pupil, mouthShape, talking }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-42,5 Q-48,-10 -44,-28 Q-38,-45 0,-50 Q38,-45 44,-28 Q48,-10 42,5\n         L38,10 Q20,14 0,14 Q-20,14 -38,10 Z",
      fill: Banker_COL.hair,
      stroke: Banker_COL.outline,
      strokeWidth: 2.5
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 44, ry: 46, fill: Banker_COL.skin, stroke: Banker_COL.outline, strokeWidth: Banker_SW }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-36,-28 Q-32,-44 -10,-48 Q10,-48 30,-44 Q40,-38 38,-28\n         L35,-24 Q28,-38 10,-40 Q-10,-42 -32,-30 Z",
      fill: Banker_COL.hair,
      stroke: Banker_COL.outline,
      strokeWidth: 2
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-20,-40 Q-18,-30 -22,-22", fill: "none", stroke: Banker_COL.hairDark, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-5,-42 Q0,-35 5,-42", fill: "none", stroke: Banker_COL.hairShine, strokeWidth: 1, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -28, y: -8, width: 22, height: 14, rx: 3, fill: Banker_COL.glassLens, stroke: Banker_COL.glasses, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 6, y: -8, width: 22, height: 14, rx: 3, fill: Banker_COL.glassLens, stroke: Banker_COL.glasses, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-6,0 Q0,-4 6,0", fill: "none", stroke: Banker_COL.glasses, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -28, y1: -2, x2: -44, y2: -6, stroke: Banker_COL.glasses, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 28, y1: -2, x2: 44, y2: -6, stroke: Banker_COL.glasses, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(-17, ${0 + emo.eyeOffsetY})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(BankerEye, { blink, scaleY: emo.eyeScaleY, pupilScale: emo.pupilScale, px: pupil.x, py: pupil.y }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(17, ${0 + emo.eyeOffsetY})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(BankerEye, { blink, scaleY: emo.eyeScaleY, pupilScale: emo.pupilScale, px: pupil.x, py: pupil.y }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(-17, ${-15 + emo.browLeftY}) rotate(${emo.browLeftRotation})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -9, y: 0, width: 18, height: 3, rx: 1.5, fill: Banker_COL.hairDark }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(17, ${-15 + emo.browRightY}) rotate(${emo.browRightRotation})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -9, y: 0, width: 18, height: 3, rx: 1.5, fill: Banker_COL.hairDark }) }),
  emo.blushOpacity > 0.01 && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -28, cy: 14, rx: 7, ry: 4, fill: Banker_COL.blush, opacity: emo.blushOpacity }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 28, cy: 14, rx: 7, ry: 4, fill: Banker_COL.blush, opacity: emo.blushOpacity })
  ] }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,8 Q0,16 3,8", fill: "none", stroke: Banker_COL.outline, strokeWidth: 2.2, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    BankerMouth,
    {
      shape: mouthShape,
      curve: emo.mouthCurve,
      width: emo.mouthWidth,
      emotionOpen: emo.mouthOpen,
      talking
    }
  )
] });
const BankerEye = ({ blink, scaleY, pupilScale, px, py }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `scale(1, ${scaleY * blink})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 8, ry: 6, fill: Banker_COL.eyeWhite, stroke: Banker_COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px, cy: py, r: 3.8 * pupilScale, fill: Banker_COL.iris }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px, cy: py, r: 2 * pupilScale, fill: Banker_COL.pupil }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px + 1.5, cy: py - 1.5, r: 1.2, fill: "white", opacity: 0.8 })
] });
const BankerMouth = ({ shape, curve, width, emotionOpen, talking }) => {
  const talkOpen = talking ? [0, 3, 5, 9][shape] : emotionOpen * 10;
  const openAmount = Math.max(talkOpen, emotionOpen * 10);
  const hw = 11 * width;
  if (openAmount < 1) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${-hw},28 Q0,${28 + curve} ${hw},28`,
        fill: "none",
        stroke: Banker_COL.outline,
        strokeWidth: 2.5,
        strokeLinecap: "round"
      }
    );
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(0, 28)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 0,
        cy: 0,
        rx: hw,
        ry: openAmount * 0.45,
        fill: Banker_COL.mouth,
        stroke: Banker_COL.outline,
        strokeWidth: 2.5
      }
    ),
    openAmount > 6 && /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 1, cy: openAmount * 0.2, rx: hw * 0.4, ry: openAmount * 0.15, fill: Banker_COL.tongue }),
    openAmount > 3 && /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -hw * 0.6, y: -openAmount * 0.35, width: hw * 1.2, height: 2.5, fill: "white", rx: 1 })
  ] });
};
/* harmony default export */ const characters_Banker = ((/* unused pure expression or super */ null && (Banker)));

;// ./src/characters/MarketVendor.tsx







const MarketVendor_COL = {
  skin: "#E8B888",
  skinShadow: "#D0A070",
  outline: "#1A1A1A",
  apron: "#F5F0E0",
  apronStripe: "#CC3333",
  shirt: "#4A7A4A",
  shirtDark: "#3A6A3A",
  cap: "#4A7A4A",
  capBrim: "#3A6A3A",
  hair: "#8B4513",
  hairDark: "#6B3010",
  mustache: "#6B3010",
  eyeWhite: "#FFFFFF",
  iris: "#5B4020",
  pupil: "#1A1A1A",
  mouth: "#8B2020",
  tongue: "#CC5555",
  blush: "#FF9999",
  shine: "rgba(255,255,255,0.45)",
  shoe: "#5C3A1E"
};
const MarketVendor_SW = 3.5;
const MarketVendor = ({
  emotion = "neutral",
  previousEmotion = "neutral",
  emotionTransitionProgress = 1,
  talking = false,
  scale = 1
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const idle = getIdleState(frame);
  const mouthShape = getMouthShape(frame, talking);
  const talkBounce = getTalkingBounce(frame, talking);
  const talkGesture = getTalkingGesture(frame, talking);
  const emo = (0,react.useMemo)(
    () => interpolateEmotions(previousEmotion, emotion, emotionTransitionProgress),
    [previousEmotion, emotion, emotionTransitionProgress]
  );
  const bodyY = idle.breathing.y + talkBounce;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "svg",
    {
      viewBox: "-130 -200 260 390",
      width: 260 * scale,
      height: 390 * scale,
      style: { overflow: "visible" },
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${idle.sway.x}, ${bodyY}) rotate(${idle.sway.rotation})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(VendorLegs, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `scale(${idle.breathing.scaleX}, 1)`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(VendorBody, {}) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(VendorLeftArm, { gestureRotation: talkGesture }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(VendorRightArm, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(0, -98) rotate(${emo.headTilt})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(VendorHead, { emo, blink: idle.blink, pupil: idle.pupil, mouthShape, talking }) })
      ] })
    }
  );
};
const VendorLegs = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-18,65 L-22,130 L-8,130 Z", fill: "#4A4A5A", stroke: MarketVendor_COL.outline, strokeWidth: MarketVendor_SW }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M18,65 L22,130 L8,130 Z", fill: "#4A4A5A", stroke: MarketVendor_COL.outline, strokeWidth: MarketVendor_SW }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -18, cy: 132, rx: 15, ry: 6, fill: MarketVendor_COL.shoe, stroke: MarketVendor_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 18, cy: 132, rx: 15, ry: 6, fill: MarketVendor_COL.shoe, stroke: MarketVendor_COL.outline, strokeWidth: 2 })
] });
const VendorBody = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-46,-38 Q-46,-45 -34,-45 L34,-45 Q46,-45 46,-38 L46,58 Q46,70 0,73 Q-46,70 -46,58 Z",
      fill: MarketVendor_COL.shirt,
      stroke: MarketVendor_COL.outline,
      strokeWidth: MarketVendor_SW
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -20, x2: 0, y2: 60, stroke: MarketVendor_COL.shirtDark, strokeWidth: 1, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-32,-10 L-32,65 Q-32,72 0,74 Q32,72 32,65 L32,-10 Q32,-18 0,-20 Q-32,-18 -32,-10 Z",
      fill: MarketVendor_COL.apron,
      stroke: MarketVendor_COL.outline,
      strokeWidth: 2.5
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -15, y1: -15, x2: -15, y2: 68, stroke: MarketVendor_COL.apronStripe, strokeWidth: 2, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 15, y1: -15, x2: 15, y2: 68, stroke: MarketVendor_COL.apronStripe, strokeWidth: 2, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -14, y: 20, width: 28, height: 18, rx: 3, fill: "none", stroke: MarketVendor_COL.outline, strokeWidth: 1.5, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 8, y1: 18, x2: 10, y2: 32, stroke: "#D4A012", strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-32,-10 L-20,-42", stroke: MarketVendor_COL.apron, strokeWidth: 5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M32,-10 L20,-42", stroke: MarketVendor_COL.apron, strokeWidth: 5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-32,-10 L-20,-42", stroke: MarketVendor_COL.outline, strokeWidth: 1.5, fill: "none" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M32,-10 L20,-42", stroke: MarketVendor_COL.outline, strokeWidth: 1.5, fill: "none" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -10, y: -48, width: 20, height: 10, fill: MarketVendor_COL.skin, stroke: MarketVendor_COL.outline, strokeWidth: MarketVendor_SW })
] });
const VendorLeftArm = ({ gestureRotation }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(-46, -22) rotate(${-10 + gestureRotation}, 0, 0)`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -14, y2: 34, stroke: MarketVendor_COL.shirt, strokeWidth: 13, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -14, y2: 34, stroke: MarketVendor_COL.outline, strokeWidth: 15, strokeLinecap: "round", opacity: 0.12 }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(-14, 34)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -6, y2: 26, stroke: MarketVendor_COL.skin, strokeWidth: 7, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -8, cy: 30, r: 8, fill: MarketVendor_COL.skin, stroke: MarketVendor_COL.outline, strokeWidth: MarketVendor_SW })
  ] })
] });
const VendorRightArm = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(46, -22)", children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 14, y2: 34, stroke: MarketVendor_COL.shirt, strokeWidth: 13, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 14, y2: 34, stroke: MarketVendor_COL.outline, strokeWidth: 15, strokeLinecap: "round", opacity: 0.12 }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(14, 34)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 4, y2: 26, stroke: MarketVendor_COL.skin, strokeWidth: 7, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 6, cy: 30, r: 8, fill: MarketVendor_COL.skin, stroke: MarketVendor_COL.outline, strokeWidth: MarketVendor_SW })
  ] })
] });
const VendorHead = ({ emo, blink, pupil, mouthShape, talking }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 2, r: 48, fill: MarketVendor_COL.skin, stroke: MarketVendor_COL.outline, strokeWidth: MarketVendor_SW }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -30, cy: 16, rx: 10, ry: 6, fill: MarketVendor_COL.blush, opacity: 0.25 + emo.blushOpacity * 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 30, cy: 16, rx: 10, ry: 6, fill: MarketVendor_COL.blush, opacity: 0.25 + emo.blushOpacity * 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-44,-8 Q-50,-18 -44,-30 Q-38,-38 -28,-40", fill: MarketVendor_COL.hair, stroke: MarketVendor_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M44,-8 Q50,-18 44,-30 Q38,-38 28,-40", fill: MarketVendor_COL.hair, stroke: MarketVendor_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-44,-18 Q-44,-38 0,-42 Q44,-38 44,-18 L40,-14 Q20,-25 0,-26 Q-20,-25 -40,-14 Z",
      fill: MarketVendor_COL.cap,
      stroke: MarketVendor_COL.outline,
      strokeWidth: 2.5
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-44,-18 Q-50,-16 -46,-12 L44,-12 Q50,-16 44,-18",
      fill: MarketVendor_COL.capBrim,
      stroke: MarketVendor_COL.outline,
      strokeWidth: 2
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -46, cy: 5, rx: 7, ry: 11, fill: MarketVendor_COL.skin, stroke: MarketVendor_COL.outline, strokeWidth: 2.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 46, cy: 5, rx: 7, ry: 11, fill: MarketVendor_COL.skin, stroke: MarketVendor_COL.outline, strokeWidth: 2.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(-16, ${0 + emo.eyeOffsetY})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(VendorEye, { blink, scaleY: emo.eyeScaleY, pupilScale: emo.pupilScale, px: pupil.x, py: pupil.y }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(16, ${0 + emo.eyeOffsetY})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(VendorEye, { blink, scaleY: emo.eyeScaleY, pupilScale: emo.pupilScale, px: pupil.x, py: pupil.y }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(-16, ${-13 + emo.browLeftY}) rotate(${emo.browLeftRotation})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -9, y: 0, width: 18, height: 4, rx: 2, fill: MarketVendor_COL.hair }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(16, ${-13 + emo.browRightY}) rotate(${emo.browRightRotation})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -9, y: 0, width: 18, height: 4, rx: 2, fill: MarketVendor_COL.hair }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-5,8 Q-8,18 -3,20 Q0,22 3,20 Q8,18 5,8", fill: MarketVendor_COL.skinShadow, stroke: MarketVendor_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-2,22 Q-10,24 -18,20 Q-22,18 -20,16", fill: MarketVendor_COL.mustache, stroke: MarketVendor_COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M2,22 Q10,24 18,20 Q22,18 20,16", fill: MarketVendor_COL.mustache, stroke: MarketVendor_COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    VendorMouth,
    {
      shape: mouthShape,
      curve: emo.mouthCurve,
      width: emo.mouthWidth,
      emotionOpen: emo.mouthOpen,
      talking
    }
  )
] });
const VendorEye = ({ blink, scaleY, pupilScale, px, py }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `scale(1, ${scaleY * blink})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 8, ry: 6.5, fill: MarketVendor_COL.eyeWhite, stroke: MarketVendor_COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px, cy: py, r: 3.8 * pupilScale, fill: MarketVendor_COL.iris }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px, cy: py, r: 2 * pupilScale, fill: MarketVendor_COL.pupil }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px + 1.5, cy: py - 1.5, r: 1.2, fill: "white", opacity: 0.8 })
] });
const VendorMouth = ({ shape, curve, width, emotionOpen, talking }) => {
  const talkOpen = talking ? [0, 3, 7, 11][shape] : emotionOpen * 10;
  const openAmount = Math.max(talkOpen, emotionOpen * 10);
  const hw = 12 * width;
  if (openAmount < 1) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${-hw},30 Q0,${30 + curve} ${hw},30`,
        fill: "none",
        stroke: MarketVendor_COL.outline,
        strokeWidth: 2.5,
        strokeLinecap: "round"
      }
    );
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(0, 30)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 0,
        cy: 0,
        rx: hw,
        ry: openAmount * 0.5,
        fill: MarketVendor_COL.mouth,
        stroke: MarketVendor_COL.outline,
        strokeWidth: 2.5
      }
    ),
    openAmount > 6 && /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 2, cy: openAmount * 0.25, rx: hw * 0.5, ry: openAmount * 0.2, fill: MarketVendor_COL.tongue }),
    openAmount > 3 && /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -hw * 0.6, y: -openAmount * 0.35, width: hw * 1.2, height: 2.5, fill: "white", rx: 1 })
  ] });
};
/* harmony default export */ const characters_MarketVendor = ((/* unused pure expression or super */ null && (MarketVendor)));

;// ./src/characters/TaxAdvisor.tsx







const TaxAdvisor_COL = {
  skin: "#F0D0B5",
  skinShadow: "#D8B89A",
  outline: "#1A1A1A",
  blazer: "#2A4A6A",
  blazerDark: "#1A3A5A",
  shirt: "#FFFFFF",
  shirtShadow: "#E8E8E8",
  hair: "#3A2A1A",
  hairDark: "#2A1A0A",
  hairShine: "#5A4A3A",
  glasses: "#2A2A2A",
  glassLens: "rgba(200,220,240,0.18)",
  scarf: "#FF6600",
  // Dutch orange
  scarfDark: "#CC5500",
  eyeWhite: "#FFFFFF",
  iris: "#3A5A3A",
  pupil: "#1A1A1A",
  mouth: "#7A2020",
  tongue: "#BB5555",
  blush: "#FFBBBB",
  shine: "rgba(255,255,255,0.45)",
  shoe: "#2A2A2A",
  clipboard: "#F5E8C8",
  clipboardClip: "#888888"
};
const TaxAdvisor_SW = 3.5;
const TaxAdvisor = ({
  emotion = "neutral",
  previousEmotion = "neutral",
  emotionTransitionProgress = 1,
  talking = false,
  scale = 1
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const idle = getIdleState(frame);
  const mouthShape = getMouthShape(frame, talking);
  const talkBounce = getTalkingBounce(frame, talking);
  const talkGesture = getTalkingGesture(frame, talking);
  const emo = (0,react.useMemo)(
    () => interpolateEmotions(previousEmotion, emotion, emotionTransitionProgress),
    [previousEmotion, emotion, emotionTransitionProgress]
  );
  const bodyY = idle.breathing.y + talkBounce;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "svg",
    {
      viewBox: "-130 -210 260 400",
      width: 260 * scale,
      height: 400 * scale,
      style: { overflow: "visible" },
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${idle.sway.x}, ${bodyY}) rotate(${idle.sway.rotation})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(TaxLegs, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `scale(${idle.breathing.scaleX}, 1)`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(TaxBody, {}) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(TaxLeftArm, { gestureRotation: talkGesture }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(TaxRightArm, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(0, -105) rotate(${emo.headTilt})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(TaxHead, { emo, blink: idle.blink, pupil: idle.pupil, mouthShape, talking }) })
      ] })
    }
  );
};
const TaxLegs = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-15,68 L-18,135 L-6,135 Z", fill: "#3A3A4A", stroke: TaxAdvisor_COL.outline, strokeWidth: TaxAdvisor_SW }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M15,68 L18,135 L6,135 Z", fill: "#3A3A4A", stroke: TaxAdvisor_COL.outline, strokeWidth: TaxAdvisor_SW }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -15, cy: 137, rx: 14, ry: 5.5, fill: TaxAdvisor_COL.shoe, stroke: TaxAdvisor_COL.outline, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 15, cy: 137, rx: 14, ry: 5.5, fill: TaxAdvisor_COL.shoe, stroke: TaxAdvisor_COL.outline, strokeWidth: 2 })
] });
const TaxBody = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-40,-45 Q-40,-52 -28,-52 L28,-52 Q40,-52 40,-45 L40,58 Q40,70 0,73 Q-40,70 -40,58 Z",
      fill: TaxAdvisor_COL.blazer,
      stroke: TaxAdvisor_COL.outline,
      strokeWidth: TaxAdvisor_SW
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-36,-30 L-36,55", stroke: TaxAdvisor_COL.blazerDark, strokeWidth: 2, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M36,-30 L36,55", stroke: TaxAdvisor_COL.blazerDark, strokeWidth: 2, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-10,-50 L0,10 L10,-50", fill: TaxAdvisor_COL.shirt, stroke: TaxAdvisor_COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -6, cy: 5, r: 3, fill: TaxAdvisor_COL.blazerDark, stroke: TaxAdvisor_COL.outline, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -6, cy: 22, r: 3, fill: TaxAdvisor_COL.blazerDark, stroke: TaxAdvisor_COL.outline, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-10,-50 L-22,-50 L-28,5", fill: "none", stroke: TaxAdvisor_COL.blazerDark, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M10,-50 L22,-50 L28,5", fill: "none", stroke: TaxAdvisor_COL.blazerDark, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M26,-32 L30,-24 L34,-32", fill: TaxAdvisor_COL.scarf, stroke: TaxAdvisor_COL.outline, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -10, y: -52, width: 20, height: 10, fill: TaxAdvisor_COL.skin, stroke: TaxAdvisor_COL.outline, strokeWidth: TaxAdvisor_SW })
] });
const TaxLeftArm = ({ gestureRotation }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(-42, -26) rotate(${-8 + gestureRotation * 0.7}, 0, 0)`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -15, y2: 35, stroke: TaxAdvisor_COL.blazer, strokeWidth: 12, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -15, y2: 35, stroke: TaxAdvisor_COL.outline, strokeWidth: 14, strokeLinecap: "round", opacity: 0.12 }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(-15, 35)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -5, y2: 26, stroke: TaxAdvisor_COL.skin, strokeWidth: 7, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -7, cy: 30, r: 7, fill: TaxAdvisor_COL.skin, stroke: TaxAdvisor_COL.outline, strokeWidth: TaxAdvisor_SW }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(-22, 10) rotate(-10)", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 24, height: 32, rx: 2, fill: TaxAdvisor_COL.clipboard, stroke: TaxAdvisor_COL.outline, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 6, y: -3, width: 12, height: 6, rx: 2, fill: TaxAdvisor_COL.clipboardClip, stroke: TaxAdvisor_COL.outline, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 4, y1: 10, x2: 20, y2: 10, stroke: "#CCC", strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 4, y1: 15, x2: 20, y2: 15, stroke: "#CCC", strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 4, y1: 20, x2: 16, y2: 20, stroke: "#CCC", strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M2,10 L3,11 L5,8", fill: "none", stroke: "#2D5016", strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M2,15 L3,16 L5,13", fill: "none", stroke: "#2D5016", strokeWidth: 1 })
    ] })
  ] })
] });
const TaxRightArm = () => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(42, -26)", children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 14, y2: 35, stroke: TaxAdvisor_COL.blazer, strokeWidth: 12, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 14, y2: 35, stroke: TaxAdvisor_COL.outline, strokeWidth: 14, strokeLinecap: "round", opacity: 0.12 }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(14, 35)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 4, y2: 26, stroke: TaxAdvisor_COL.skin, strokeWidth: 7, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 6, cy: 30, r: 7, fill: TaxAdvisor_COL.skin, stroke: TaxAdvisor_COL.outline, strokeWidth: TaxAdvisor_SW })
  ] })
] });
const TaxHead = ({ emo, blink, pupil, mouthShape, talking }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-42,5 Q-48,-8 -44,-26 Q-38,-44 0,-48 Q38,-44 44,-26 Q48,-8 42,5\n         L38,10 Q20,14 0,14 Q-20,14 -38,10 Z",
      fill: TaxAdvisor_COL.hair,
      stroke: TaxAdvisor_COL.outline,
      strokeWidth: 2.5
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 44, ry: 46, fill: TaxAdvisor_COL.skin, stroke: TaxAdvisor_COL.outline, strokeWidth: TaxAdvisor_SW }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-36,-26 Q-30,-42 0,-46 Q30,-42 36,-26\n         L34,-20 Q26,-36 0,-38 Q-26,-36 -34,-20 Z",
      fill: TaxAdvisor_COL.hair,
      stroke: TaxAdvisor_COL.outline,
      strokeWidth: 2
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-10,-40 Q0,-46 10,-40", fill: "none", stroke: TaxAdvisor_COL.hairShine, strokeWidth: 1.2, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -16, cy: 0, r: 13, fill: TaxAdvisor_COL.glassLens, stroke: TaxAdvisor_COL.glasses, strokeWidth: 2.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 16, cy: 0, r: 13, fill: TaxAdvisor_COL.glassLens, stroke: TaxAdvisor_COL.glasses, strokeWidth: 2.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,0 Q0,-3 3,0", fill: "none", stroke: TaxAdvisor_COL.glasses, strokeWidth: 2.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -29, y1: -2, x2: -44, y2: -5, stroke: TaxAdvisor_COL.glasses, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 29, y1: -2, x2: 44, y2: -5, stroke: TaxAdvisor_COL.glasses, strokeWidth: 2 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(-16, ${0 + emo.eyeOffsetY})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(TaxEye, { blink, scaleY: emo.eyeScaleY, pupilScale: emo.pupilScale, px: pupil.x, py: pupil.y }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(16, ${0 + emo.eyeOffsetY})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(TaxEye, { blink, scaleY: emo.eyeScaleY, pupilScale: emo.pupilScale, px: pupil.x, py: pupil.y }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(-16, ${-15 + emo.browLeftY}) rotate(${emo.browLeftRotation})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -9, y: 0, width: 18, height: 3, rx: 1.5, fill: TaxAdvisor_COL.hair }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(16, ${-15 + emo.browRightY}) rotate(${emo.browRightRotation})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -9, y: 0, width: 18, height: 3, rx: 1.5, fill: TaxAdvisor_COL.hair }) }),
  emo.blushOpacity > 0.01 && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -28, cy: 14, rx: 7, ry: 4, fill: TaxAdvisor_COL.blush, opacity: emo.blushOpacity }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 28, cy: 14, rx: 7, ry: 4, fill: TaxAdvisor_COL.blush, opacity: emo.blushOpacity })
  ] }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,8 Q0,15 3,8", fill: "none", stroke: TaxAdvisor_COL.outline, strokeWidth: 2, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-30,12 Q-28,18 -24,14", fill: "none", stroke: TaxAdvisor_COL.skinShadow, strokeWidth: 1, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M30,12 Q28,18 24,14", fill: "none", stroke: TaxAdvisor_COL.skinShadow, strokeWidth: 1, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    TaxMouth,
    {
      shape: mouthShape,
      curve: emo.mouthCurve,
      width: emo.mouthWidth,
      emotionOpen: emo.mouthOpen,
      talking
    }
  )
] });
const TaxEye = ({ blink, scaleY, pupilScale, px, py }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `scale(1, ${scaleY * blink})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 8, ry: 6, fill: TaxAdvisor_COL.eyeWhite, stroke: TaxAdvisor_COL.outline, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px, cy: py, r: 3.8 * pupilScale, fill: TaxAdvisor_COL.iris }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px, cy: py, r: 2 * pupilScale, fill: TaxAdvisor_COL.pupil }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: px + 1.5, cy: py - 1.5, r: 1.2, fill: "white", opacity: 0.8 })
] });
const TaxMouth = ({ shape, curve, width, emotionOpen, talking }) => {
  const talkOpen = talking ? [0, 3, 6, 10][shape] : emotionOpen * 10;
  const openAmount = Math.max(talkOpen, emotionOpen * 10);
  const hw = 11 * width;
  if (openAmount < 1) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${-hw},26 Q0,${26 + curve} ${hw},26`,
        fill: "none",
        stroke: TaxAdvisor_COL.outline,
        strokeWidth: 2.5,
        strokeLinecap: "round"
      }
    );
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(0, 26)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 0,
        cy: 0,
        rx: hw,
        ry: openAmount * 0.48,
        fill: TaxAdvisor_COL.mouth,
        stroke: TaxAdvisor_COL.outline,
        strokeWidth: 2.5
      }
    ),
    openAmount > 6 && /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 1, cy: openAmount * 0.22, rx: hw * 0.45, ry: openAmount * 0.18, fill: TaxAdvisor_COL.tongue }),
    openAmount > 3 && /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -hw * 0.6, y: -openAmount * 0.35, width: hw * 1.2, height: 2.5, fill: "white", rx: 1 })
  ] });
};
/* harmony default export */ const characters_TaxAdvisor = ((/* unused pure expression or super */ null && (TaxAdvisor)));

;// ./src/crowds/AztecCrowd.tsx





const AztecCrowd_SKIN = "#B8865A";
const AztecCrowd_SKIN_DARK = "#9A6E42";
const SKIN_LIGHT = "#D4A06A";
const AztecCrowd_LOINCLOTH = "#E8D8B8";
const COTTON_WHITE = "#F0E8D0";
const COTTON_BLUE = "#3B6B8A";
const JAGUAR_SPOT = "#C8A040";
const JAGUAR_DARK = "#5C4420";
const EAGLE_WHITE = "#E8E0D0";
const EAGLE_GRAY = "#8A8A7A";
const FEATHER_GREEN = "#1A6B3A";
const FEATHER_RED = "#B02020";
const FEATHER_BLUE = "#2040A0";
const FEATHER_GOLD = "#D4A020";
const OBSIDIAN = "#2A2A3A";
const OBSIDIAN_SHINE = "#4A4A6A";
const JADE = "#3A8A5A";
const TURQUOISE = "#40B0B0";
const GOLD = "#D4A020";
const GOLD_LIGHT = "#F0C840";
const AztecCrowd_WOOD = "#7A5030";
const WOOD_DARK = "#5A3820";
const AztecCrowd_STONE = "#8A7A6A";
const AztecCrowd_ROPE = "#9B8968";
const CACAO = "#4A2A10";
const MAIZE_GREEN = "#5A8A30";
const MAIZE_GOLD = "#E8C040";
const BLOOD_RED = "#8B0000";
const INCENSE_GRAY = "rgba(180,170,160,0.4)";
const AztecCrowd_OUTLINE = "#1A1A1A";
const JaguarWarrior = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const fightCycle = sineWave(frame, 0.2, seed);
  const armSwing = fightCycle * 8;
  const bodyLean = fightCycle * 3;
  const legStride = fightCycle * 5;
  const breathe = sineWave(frame, 0.08, seed + 1) * 0.5;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 14, ry: 4, fill: "rgba(0,0,0,0.18)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -10, x2: -7 - legStride, y2: 2, stroke: AztecCrowd_SKIN_DARK, strokeWidth: 3.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -9 - legStride, y: -2, width: 4, height: 5, rx: 1, fill: GOLD, opacity: 0.6 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: -10, x2: 8 + legStride, y2: 2, stroke: AztecCrowd_SKIN, strokeWidth: 3.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 6 + legStride, y: -2, width: 4, height: 5, rx: 1, fill: GOLD, opacity: 0.6 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -10, x2: bodyLean, y2: -26 - breathe, stroke: AztecCrowd_SKIN, strokeWidth: 5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -4 + bodyLean * 0.3, y: -24 - breathe, width: 8, height: 12, rx: 2, fill: JAGUAR_SPOT, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -1 + bodyLean * 0.3, cy: -20 - breathe, r: 1.2, fill: JAGUAR_DARK }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 3 + bodyLean * 0.3, cy: -18 - breathe, r: 1, fill: JAGUAR_DARK }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0 + bodyLean * 0.3, cy: -15 - breathe, r: 1.2, fill: JAGUAR_DARK }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${bodyLean + 1}, ${-30 - breathe})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 5, fill: AztecCrowd_SKIN, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-7,-3 Q-8,-10 -3,-12 Q0,-14 3,-12 Q8,-10 7,-3 L5,-2 L-5,-2 Z",
          fill: JAGUAR_SPOT,
          stroke: AztecCrowd_OUTLINE,
          strokeWidth: 0.6
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-6,-8 L-8,-14 L-4,-10 Z", fill: JAGUAR_SPOT, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M6,-8 L8,-14 L4,-10 Z", fill: JAGUAR_SPOT, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -4, cy: -8, r: 1, fill: JAGUAR_DARK }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 4, cy: -8, r: 1, fill: JAGUAR_DARK }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,2 L-3,5 L-1,3 L1,3 L3,5 L4,2", fill: "white", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.4 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-5,-12 L5,-12 L6,-8 L-6,-8 Z", fill: COTTON_WHITE, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-5,-8 L-4,-5 M-2,-8 L-1,-5 M1,-8 L2,-5 M4,-8 L5,-5", stroke: GOLD, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: bodyLean - 2, y1: -22 - breathe, x2: -10, y2: -16, stroke: AztecCrowd_SKIN_DARK, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -14, cy: -14, r: 8, fill: FEATHER_GREEN, stroke: AztecCrowd_OUTLINE, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -14, cy: -14, r: 5, fill: GOLD, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -14, cy: -14, r: 2.5, fill: TURQUOISE }),
    [-30, -15, 0, 15, 30].map((angle, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: -14 + Math.cos((angle + 180) * Math.PI / 180) * 8,
        y1: -14 + Math.sin((angle + 180) * Math.PI / 180) * 8,
        x2: -14 + Math.cos((angle + 180) * Math.PI / 180) * 12,
        y2: -14 + Math.sin((angle + 180) * Math.PI / 180) * 12,
        stroke: [FEATHER_RED, FEATHER_GREEN, FEATHER_BLUE, FEATHER_GREEN, FEATHER_RED][i],
        strokeWidth: 1.5,
        strokeLinecap: "round"
      },
      `sf-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: bodyLean + 2, y1: -22 - breathe, x2: 14 + armSwing, y2: -18, stroke: AztecCrowd_SKIN, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${14 + armSwing}, -18) rotate(${-20 + fightCycle * 15})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -2, y: -20, width: 4, height: 22, rx: 1, fill: AztecCrowd_WOOD, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.6 }),
      [-16, -12, -8, -4].map((oy, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)(react.Fragment, { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: `M-2,${oy} L-5,${oy - 1.5} L-2,${oy + 2} Z`, fill: OBSIDIAN, stroke: OBSIDIAN_SHINE, strokeWidth: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: `M2,${oy} L5,${oy - 1.5} L2,${oy + 2} Z`, fill: OBSIDIAN, stroke: OBSIDIAN_SHINE, strokeWidth: 0.3 })
      ] }, `ob-${i}`))
    ] })
  ] });
};
const EagleWarrior = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const marchCycle = sineWave(frame, 0.16, seed);
  const armSwing = marchCycle * 6;
  const legStride = marchCycle * 4;
  const breathe = sineWave(frame, 0.08, seed + 2) * 0.5;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 13, ry: 3.5, fill: "rgba(0,0,0,0.16)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -10, x2: -6 - legStride, y2: 2, stroke: AztecCrowd_SKIN_DARK, strokeWidth: 3.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: -10, x2: 6 + legStride, y2: 2, stroke: AztecCrowd_SKIN, strokeWidth: 3.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -8 - legStride, y: 0, width: 5, height: 3, rx: 1, fill: AztecCrowd_WOOD }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 4 + legStride, y: 0, width: 5, height: 3, rx: 1, fill: AztecCrowd_WOOD }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -10, x2: 0, y2: -26 - breathe, stroke: AztecCrowd_SKIN, strokeWidth: 5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: -24 - breathe, width: 10, height: 12, rx: 2, fill: EAGLE_WHITE, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
    [-22, -19, -16].map((fy, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: -4,
        y1: fy - breathe,
        x2: 4,
        y2: fy - breathe,
        stroke: EAGLE_GRAY,
        strokeWidth: 0.5,
        opacity: 0.4
      },
      `ef-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(0, ${-30 - breathe})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 4.5, fill: AztecCrowd_SKIN, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M0,-6 L-4,-4 L-8,-8 L-3,-5 L0,-7 L3,-5 L8,-8 L4,-4 Z",
          fill: EAGLE_WHITE,
          stroke: AztecCrowd_OUTLINE,
          strokeWidth: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-8,-8 L-3,-6", stroke: GOLD, strokeWidth: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M8,-8 L3,-6", stroke: GOLD, strokeWidth: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -6, x2: -4, y2: -16, stroke: EAGLE_WHITE, strokeWidth: 1.5, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -6, x2: 0, y2: -18, stroke: EAGLE_WHITE, strokeWidth: 1.5, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -6, x2: 4, y2: -16, stroke: EAGLE_WHITE, strokeWidth: 1.5, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -4, cy: -16, r: 1.5, fill: FEATHER_RED }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -18, r: 1.5, fill: FEATHER_RED }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 4, cy: -16, r: 1.5, fill: FEATHER_RED })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-5,-12 L5,-12 L6,-7 L-6,-7 Z", fill: EAGLE_WHITE, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -22 - breathe, x2: -12 - armSwing, y2: -14, stroke: AztecCrowd_SKIN_DARK, strokeWidth: 2.5, strokeLinecap: "round" }),
    [-18, -15, -12].map((fy, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: -10 - armSwing,
        y1: fy,
        x2: -16 - armSwing,
        y2: fy + 2,
        stroke: EAGLE_WHITE,
        strokeWidth: 1.5,
        strokeLinecap: "round"
      },
      `wf-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -22 - breathe, x2: 10 + armSwing, y2: -18, stroke: AztecCrowd_SKIN, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 10 + armSwing, y1: -18, x2: 12 + armSwing, y2: -42, stroke: AztecCrowd_WOOD, strokeWidth: 2, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${10 + armSwing},-42 L${12 + armSwing},-50 L${14 + armSwing},-42 Z`,
        fill: OBSIDIAN,
        stroke: AztecCrowd_OUTLINE,
        strokeWidth: 0.5
      }
    )
  ] });
};
const AztecPriest = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const breathe = sineWave(frame, 0.07, seed) * 0.6;
  const incenseWaft = sineWave(frame, 0.12, seed + 1) * 3;
  const armGesture = sineWave(frame, 0.09, seed + 2) * 4;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 10, ry: 3, fill: "rgba(0,0,0,0.14)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -6, x2: -4, y2: 2, stroke: AztecCrowd_SKIN_DARK, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: -6, x2: 4, y2: 2, stroke: AztecCrowd_SKIN, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: "M-7,-6 L-8,-26 Q-8,-28 -6,-28 L6,-28 Q8,-28 8,-26 L7,-6 Z",
        fill: COTTON_BLUE,
        stroke: AztecCrowd_OUTLINE,
        strokeWidth: 0.6
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-7,-6 L7,-6", stroke: GOLD, strokeWidth: 1.2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-7,-10 L7,-10", stroke: FEATHER_RED, strokeWidth: 0.6 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -6, x2: 0, y2: -26 - breathe, stroke: AztecCrowd_SKIN, strokeWidth: 0 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -31 - breathe, r: 4.5, fill: AztecCrowd_SKIN, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-32 L-1,-31 M1,-31 L3,-32", stroke: AztecCrowd_OUTLINE, strokeWidth: 1.2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(0, ${-36 - breathe})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -6, y: -2, width: 12, height: 4, rx: 1, fill: GOLD, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: -1, width: 3, height: 2, rx: 0.5, fill: TURQUOISE }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -1, y: -1, width: 3, height: 2, rx: 0.5, fill: JADE }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 3, y: -1, width: 2, height: 2, rx: 0.5, fill: TURQUOISE }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -2, x2: -6, y2: -20, stroke: FEATHER_GREEN, strokeWidth: 2, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -2, x2: -3, y2: -24, stroke: FEATHER_GREEN, strokeWidth: 2, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -2, x2: 0, y2: -26, stroke: FEATHER_GREEN, strokeWidth: 2.5, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -2, x2: 3, y2: -24, stroke: FEATHER_GREEN, strokeWidth: 2, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -2, x2: 6, y2: -20, stroke: FEATHER_GREEN, strokeWidth: 2, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -2, x2: -4, y2: -18, stroke: FEATHER_RED, strokeWidth: 1, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -2, x2: 4, y2: -18, stroke: FEATHER_RED, strokeWidth: 1, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -26, r: 1.5, fill: GOLD_LIGHT }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -3, cy: -24, r: 1.2, fill: GOLD_LIGHT }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 3, cy: -24, r: 1.2, fill: GOLD_LIGHT })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -22 - breathe, x2: 12 + armGesture, y2: -20, stroke: AztecCrowd_SKIN, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${14 + armGesture}, -20)`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,0 Q-5,-4 -3,-6 Q0,-8 3,-6 Q5,-4 4,0 Z", fill: AztecCrowd_STONE, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -4, y1: -2, x2: -8, y2: -2, stroke: AztecCrowd_STONE, strokeWidth: 1.5, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M0,-6 Q${incenseWaft},-12 ${-incenseWaft},-18 Q${incenseWaft * 0.5},-24 0,-30`,
          fill: "none",
          stroke: INCENSE_GRAY,
          strokeWidth: 1.5,
          opacity: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M2,-6 Q${incenseWaft + 2},-14 ${-incenseWaft + 1},-20`,
          fill: "none",
          stroke: INCENSE_GRAY,
          strokeWidth: 1,
          opacity: 0.3
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -22 - breathe, x2: -8, y2: -14, stroke: AztecCrowd_SKIN_DARK, strokeWidth: 2, strokeLinecap: "round" })
  ] });
};
const SacrificePriest = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const breathe = sineWave(frame, 0.07, seed) * 0.5;
  const armRaise = sineWave(frame, 0.1, seed + 1) * 5;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 10, ry: 3, fill: "rgba(0,0,0,0.15)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -6, x2: -4, y2: 2, stroke: AztecCrowd_SKIN_DARK, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: -6, x2: 4, y2: 2, stroke: AztecCrowd_SKIN, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: "M-7,-6 L-8,-26 Q-8,-28 -6,-28 L6,-28 Q8,-28 8,-26 L7,-6 Z",
        fill: "#1A1A2A",
        stroke: AztecCrowd_OUTLINE,
        strokeWidth: 0.6
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -2, cy: -18, r: 2, fill: BLOOD_RED, opacity: 0.6 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 3, cy: -14, r: 1.5, fill: BLOOD_RED, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -31 - breathe, r: 4.5, fill: AztecCrowd_SKIN, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(0, ${-31 - breathe})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 4.8, fill: "#E8E0D0", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -2, cy: -1, r: 1.5, fill: AztecCrowd_OUTLINE }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 2, cy: -1, r: 1.5, fill: AztecCrowd_OUTLINE }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-0.5,1 L0.5,1 L0,2.5 Z", fill: AztecCrowd_OUTLINE }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,3 L-2,4 L-1,3 L0,4 L1,3 L2,4 L3,3", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5, fill: "none" })
    ] }),
    [-3, -1, 1, 3].map((dx, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: dx,
        y1: -34 - breathe,
        x2: dx * 2,
        y2: -46 - breathe,
        stroke: [FEATHER_RED, FEATHER_GREEN, FEATHER_BLUE, FEATHER_RED][i],
        strokeWidth: 1.5,
        strokeLinecap: "round"
      },
      `bp-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -22 - breathe, x2: 10, y2: -28 - armRaise, stroke: AztecCrowd_SKIN, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(10, ${-30 - armRaise}) rotate(-30)`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -1.5, y: -3, width: 3, height: 8, rx: 1, fill: AztecCrowd_WOOD, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-2,-3 L0,-12 L2,-3 Z", fill: OBSIDIAN, stroke: OBSIDIAN_SHINE, strokeWidth: 0.3 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -22 - breathe, x2: -8, y2: -16, stroke: AztecCrowd_SKIN_DARK, strokeWidth: 2, strokeLinecap: "round" })
  ] });
};
const MerchantTrader = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const walkCycle = sineWave(frame, 0.14, seed);
  const bob = Math.abs(walkCycle) * 1.5;
  const legSwing = walkCycle * 4;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 12, ry: 3, fill: "rgba(0,0,0,0.13)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -2, y1: -8, x2: -5 - legSwing, y2: 2, stroke: AztecCrowd_SKIN_DARK, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 2, y1: -8, x2: 5 + legSwing, y2: 2, stroke: AztecCrowd_SKIN, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -7 - legSwing, y: 0, width: 4, height: 3, rx: 1, fill: AztecCrowd_WOOD }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 3 + legSwing, y: 0, width: 4, height: 3, rx: 1, fill: AztecCrowd_WOOD }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -8, x2: 0, y2: -24 - bob, stroke: AztecCrowd_SKIN, strokeWidth: 4, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M-6,-24 L-8,-10 L8,-10 L6,-24 Z`,
        fill: COTTON_BLUE,
        stroke: AztecCrowd_OUTLINE,
        strokeWidth: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -7, y1: -12, x2: 7, y2: -12, stroke: GOLD, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -7, y1: -14, x2: 7, y2: -14, stroke: FEATHER_RED, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -27 - bob, r: 4, fill: AztecCrowd_SKIN, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -4, y: -29 - bob, width: 8, height: 3, rx: 1, fill: COTTON_WHITE, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-10 L3,-10 L4,-6 L-4,-6 Z", fill: COTTON_WHITE, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -26 - bob, x2: 0, y2: -20 - bob, stroke: AztecCrowd_ROPE, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(-2, ${-32 - bob})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -8, y: -4, width: 12, height: 14, rx: 2, fill: COTTON_WHITE, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -3, cy: 2, r: 2, fill: JADE, opacity: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 4, height: 3, rx: 0.5, fill: CACAO }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -6, y1: 4, x2: 2, y2: 4, stroke: FEATHER_GREEN, strokeWidth: 1 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 6, y1: -18 - bob, x2: 10, y2: 4, stroke: AztecCrowd_WOOD, strokeWidth: 2, strokeLinecap: "round" })
  ] });
};
const Farmer = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const digCycle = sineWave(frame, 0.18, seed);
  const armDig = digCycle * 6;
  const bodyBend = digCycle * 2;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 10, ry: 3, fill: "rgba(0,0,0,0.12)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -8, x2: -4, y2: 2, stroke: AztecCrowd_SKIN_DARK, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: -8, x2: 5, y2: 2, stroke: AztecCrowd_SKIN, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -8, x2: bodyBend + 2, y2: -22, stroke: AztecCrowd_SKIN, strokeWidth: 4, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M-4,-20 L-5,-10 L5,-10 L4,-20 Z`,
        fill: COTTON_WHITE,
        stroke: AztecCrowd_OUTLINE,
        strokeWidth: 0.5,
        opacity: 0.8
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: bodyBend + 2, cy: -25, r: 3.5, fill: AztecCrowd_SKIN, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: bodyBend - 1, y1: -26, x2: bodyBend + 5, y2: -26, stroke: COTTON_WHITE, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-10 L3,-10 L4,-6 L-4,-6 Z", fill: AztecCrowd_LOINCLOTH, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: bodyBend + 2, y1: -20, x2: 12 + armDig, y2: -10, stroke: AztecCrowd_SKIN, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 12 + armDig, y1: -10, x2: 16 + armDig, y2: 4, stroke: AztecCrowd_WOOD, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: `M${15 + armDig},2 L${18 + armDig},6 L${14 + armDig},5 Z`, fill: WOOD_DARK, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: bodyBend + 2, y1: -18, x2: -4, y2: -12, stroke: AztecCrowd_SKIN_DARK, strokeWidth: 2, strokeLinecap: "round" })
  ] });
};
const AztecWaterCarrier = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const walkCycle = sineWave(frame, 0.14, seed);
  const bob = Math.abs(walkCycle) * 1.5;
  const legSwing = walkCycle * 4;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 10, ry: 3, fill: "rgba(0,0,0,0.12)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -2, y1: -8, x2: -4 - legSwing, y2: 2, stroke: AztecCrowd_SKIN_DARK, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 2, y1: -8, x2: 4 + legSwing, y2: 2, stroke: AztecCrowd_SKIN, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -8, x2: 0, y2: -22 - bob, stroke: AztecCrowd_SKIN, strokeWidth: 4, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,-20 L-5,-10 L5,-10 L4,-20 Z", fill: COTTON_WHITE, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -25 - bob, r: 3.5, fill: AztecCrowd_SKIN, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -2.5, y1: -26 - bob, x2: 2.5, y2: -26 - bob, stroke: COTTON_WHITE, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-10 L3,-10 L4,-6 L-4,-6 Z", fill: AztecCrowd_LOINCLOTH, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -20 - bob, x2: 6, y2: -26 - bob, stroke: AztecCrowd_SKIN, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -18 - bob, x2: -4, y2: -24 - bob, stroke: AztecCrowd_SKIN_DARK, strokeWidth: 2, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(2, ${-30 - bob})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-5,2 Q-7,-2 -5,-6 Q-3,-10 0,-11 Q3,-10 5,-6 Q7,-2 5,2 Z",
          fill: "#B07040",
          stroke: AztecCrowd_OUTLINE,
          strokeWidth: 0.8
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -5, y1: -3, x2: 5, y2: -3, stroke: FEATHER_RED, strokeWidth: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -11, rx: 3, ry: 1.5, fill: "#A06030", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 })
    ] })
  ] });
};
const Noblewoman = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const breathe = sineWave(frame, 0.07, seed) * 0.5;
  const hairSway = sineWave(frame, 0.05, seed + 1) * 1;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 10, ry: 3, fill: "rgba(0,0,0,0.12)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-8,2 L-6,-8 L6,-8 L8,2 Z", fill: COTTON_WHITE, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -7, y1: 0, x2: 7, y2: 0, stroke: FEATHER_RED, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -6, y1: -2, x2: 6, y2: -2, stroke: FEATHER_BLUE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -8, x2: 0, y2: -22 - breathe, stroke: AztecCrowd_SKIN, strokeWidth: 0 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: "M-8,-8 L-10,-22 Q-10,-24 -8,-24 L8,-24 Q10,-24 10,-22 L8,-8 Z",
        fill: COTTON_BLUE,
        stroke: AztecCrowd_OUTLINE,
        strokeWidth: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,-24 L-4,-16 M0,-24 L4,-16", stroke: GOLD, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -27 - breathe, r: 4, fill: AztecCrowd_SKIN, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M-4,-28 Q-5,-22 -6,-18 Q${-6 + hairSway},-14 -5,-10`,
        fill: "none",
        stroke: "#1A1A1A",
        strokeWidth: 2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M4,-28 Q5,-22 6,-18 Q${6 + hairSway},-14 5,-10`,
        fill: "none",
        stroke: "#1A1A1A",
        strokeWidth: 2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -31 - breathe, r: 2, fill: JADE, stroke: GOLD, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -4.5, cy: -26 - breathe, r: 1.2, fill: JADE, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 4.5, cy: -26 - breathe, r: 1.2, fill: JADE, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-24 Q0,-22 3,-24", fill: "none", stroke: GOLD, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -22, r: 1.5, fill: TURQUOISE, stroke: GOLD, strokeWidth: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -20 - breathe, x2: -6, y2: -12, stroke: AztecCrowd_SKIN, strokeWidth: 2, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -20 - breathe, x2: 6, y2: -14, stroke: AztecCrowd_SKIN_DARK, strokeWidth: 2, strokeLinecap: "round" })
  ] });
};
const Drummer = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const drumHit = sineWave(frame, 0.3, seed);
  const leftArm = drumHit > 0 ? drumHit * 6 : 0;
  const rightArm = drumHit < 0 ? -drumHit * 6 : 0;
  const breathe = sineWave(frame, 0.08, seed + 1) * 0.5;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 10, ry: 3, fill: "rgba(0,0,0,0.12)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,-2 L-7,2 L-2,2 Z", fill: AztecCrowd_SKIN, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M4,-2 L7,2 L2,2 Z", fill: AztecCrowd_SKIN_DARK, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -2, x2: 0, y2: -18 - breathe, stroke: AztecCrowd_SKIN, strokeWidth: 4, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,-16 L-5,-4 L5,-4 L4,-16 Z", fill: COTTON_WHITE, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -21 - breathe, r: 3.5, fill: AztecCrowd_SKIN, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -22 - breathe, x2: 3, y2: -22 - breathe, stroke: FEATHER_RED, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 2, y1: -23 - breathe, x2: 4, y2: -30 - breathe, stroke: FEATHER_GREEN, strokeWidth: 1, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(10, -2)", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-6,-18 L-6,0 Q-6,2 -4,2 L4,2 Q6,2 6,0 L6,-18 Z",
          fill: AztecCrowd_WOOD,
          stroke: AztecCrowd_OUTLINE,
          strokeWidth: 0.8
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -18, rx: 6, ry: 2.5, fill: "#D4C0A0", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -8, r: 3, fill: "none", stroke: GOLD, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,-12 L4,-12 M-4,-4 L4,-4", stroke: WOOD_DARK, strokeWidth: 0.5 }),
      Math.abs(drumHit) > 0.5 && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -18, rx: 8, ry: 3, fill: "none", stroke: "rgba(180,160,100,0.3)", strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -18, rx: 10, ry: 3.5, fill: "none", stroke: "rgba(180,160,100,0.15)", strokeWidth: 0.5 })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -16 - breathe, x2: 8, y2: -18 - leftArm, stroke: AztecCrowd_SKIN, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -14 - breathe, x2: 12, y2: -18 - rightArm, stroke: AztecCrowd_SKIN_DARK, strokeWidth: 2.5, strokeLinecap: "round" })
  ] });
};
const ConchPlayer = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const breathe = sineWave(frame, 0.07, seed) * 0.5;
  const blowPulse = sineWave(frame, 0.15, seed + 1);
  const cheekPuff = blowPulse > 0.3 ? (blowPulse - 0.3) * 3 : 0;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 9, ry: 2.5, fill: "rgba(0,0,0,0.12)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -8, x2: -4, y2: 2, stroke: AztecCrowd_SKIN_DARK, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: -8, x2: 4, y2: 2, stroke: AztecCrowd_SKIN, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -8, x2: 0, y2: -22 - breathe, stroke: AztecCrowd_SKIN, strokeWidth: 4, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,-20 L-5,-10 L5,-10 L4,-20 Z", fill: COTTON_WHITE, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -4, y1: -12, x2: 4, y2: -12, stroke: GOLD, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -25 - breathe, r: 3.5 + cheekPuff * 0.3, fill: AztecCrowd_SKIN, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -26 - breathe, x2: 3, y2: -26 - breathe, stroke: FEATHER_RED, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-10 L3,-10 L4,-6 L-4,-6 Z", fill: AztecCrowd_LOINCLOTH, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -20 - breathe, x2: 8, y2: -24 - breathe, stroke: AztecCrowd_SKIN, strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -18 - breathe, x2: 6, y2: -22 - breathe, stroke: AztecCrowd_SKIN_DARK, strokeWidth: 2, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(10, ${-25 - breathe}) rotate(15)`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M0,0 Q4,-2 8,-1 Q12,0 14,3 Q16,8 12,10 Q8,8 4,6 Q2,4 0,0 Z",
          fill: "#E0C8A0",
          stroke: AztecCrowd_OUTLINE,
          strokeWidth: 0.6
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M2,1 Q6,0 10,2 Q12,4 10,6", fill: "none", stroke: "#C8A880", strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q2,2 4,2 Q6,2 6,4", fill: "none", stroke: "#D4B090", strokeWidth: 0.4 }),
      blowPulse > 0.3 && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: `M14,3 Q18,${2 - blowPulse * 2} 22,3`, fill: "none", stroke: "rgba(200,180,140,0.3)", strokeWidth: 1 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: `M16,3 Q20,${1 - blowPulse * 3} 26,3`, fill: "none", stroke: "rgba(200,180,140,0.15)", strokeWidth: 0.8 })
      ] })
    ] })
  ] });
};
const SickPerson = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const shiver = sineWave(frame, 0.25, seed) * 1;
  const breathe = sineWave(frame, 0.1, seed + 1) * 0.8;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 12, ry: 3, fill: "rgba(0,0,0,0.1)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -14, y: 0, width: 28, height: 3, rx: 1, fill: AztecCrowd_WOOD, opacity: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -8, y1: -2 + shiver, x2: 8, y2: -2 + shiver, stroke: AztecCrowd_SKIN, strokeWidth: 5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M-6,-6 L6,-6 L8,2 L-8,2 Z`,
        fill: COTTON_WHITE,
        stroke: AztecCrowd_OUTLINE,
        strokeWidth: 0.5,
        opacity: 0.7
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -10, cy: -4 + shiver, r: 3.5, fill: AztecCrowd_SKIN, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -11, cy: -5 + shiver, r: 0.8, fill: BLOOD_RED, opacity: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -9, cy: -3 + shiver, r: 0.6, fill: BLOOD_RED, opacity: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -11, cy: -2 + shiver, r: 0.7, fill: BLOOD_RED, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -8, cy: -5 + shiver, r: 0.5, fill: BLOOD_RED, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -2, cy: -3 + shiver, r: 0.6, fill: BLOOD_RED, opacity: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 2, cy: -4 + shiver, r: 0.5, fill: BLOOD_RED, opacity: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 5, cy: -2 + shiver, r: 0.6, fill: BLOOD_RED, opacity: 0.25 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -2 + shiver, x2: -2, y2: -8 + breathe, stroke: AztecCrowd_SKIN_DARK, strokeWidth: 2, strokeLinecap: "round" })
  ] });
};
const Mourner = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const sob = sineWave(frame, 0.15, seed) * 2;
  const headBow = sineWave(frame, 0.08, seed + 1) * 3;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 8, ry: 2.5, fill: "rgba(0,0,0,0.1)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,-2 L-6,2 L-1,2 Z", fill: AztecCrowd_SKIN, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M4,-2 L6,2 L1,2 Z", fill: AztecCrowd_SKIN_DARK, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -2, x2: headBow + 1, y2: -14 + sob, stroke: AztecCrowd_SKIN, strokeWidth: 4, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,-12 L-5,-4 L5,-4 L4,-12 Z", fill: COTTON_WHITE, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5, opacity: 0.7 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: headBow + 2, cy: -17 + sob, r: 3.5, fill: AztecCrowd_SKIN, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${headBow - 1},-18 Q${headBow - 3},-14 ${headBow - 4},-10`,
        fill: "none",
        stroke: "#1A1A1A",
        strokeWidth: 1.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${headBow + 4},-18 Q${headBow + 5},-14 ${headBow + 6},-10`,
        fill: "none",
        stroke: "#1A1A1A",
        strokeWidth: 1.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: headBow + 1,
        y1: -12 + sob,
        x2: headBow + 4,
        y2: -16 + sob,
        stroke: AztecCrowd_SKIN,
        strokeWidth: 2,
        strokeLinecap: "round"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: headBow + 1,
        y1: -11 + sob,
        x2: headBow - 2,
        y2: -15 + sob,
        stroke: AztecCrowd_SKIN_DARK,
        strokeWidth: 2,
        strokeLinecap: "round"
      }
    )
  ] });
};
const SpanishSoldier = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const marchCycle = sineWave(frame, 0.15, seed);
  const legSwing = marchCycle * 4;
  const armSwing = marchCycle * 5;
  const breathe = sineWave(frame, 0.08, seed + 1) * 0.5;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 12, ry: 3, fill: "rgba(0,0,0,0.15)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -10, x2: -5 - legSwing, y2: 2, stroke: "#4A3828", strokeWidth: 3.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: -10, x2: 5 + legSwing, y2: 2, stroke: "#5A4838", strokeWidth: 3.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -7 - legSwing, y: -1, width: 5, height: 4, rx: 1, fill: "#3A2818", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 3 + legSwing, y: -1, width: 5, height: 4, rx: 1, fill: "#3A2818", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: "M-6,-10 L-6,-26 Q-6,-28 -4,-28 L4,-28 Q6,-28 6,-26 L6,-10 Z",
        fill: "#8A8A8A",
        stroke: AztecCrowd_OUTLINE,
        strokeWidth: 0.8
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -24, x2: -3, y2: -14, stroke: "rgba(255,255,255,0.2)", strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -5, y1: -18, x2: 5, y2: -18, stroke: "#6A6A6A", strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -5, y1: -22, x2: 5, y2: -22, stroke: "#6A6A6A", strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(0, ${-30 - breathe})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 4.5, fill: "#C8A880", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-7,1 L-5,-2 L5,-2 L7,1 Z", fill: "#8A8A8A", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-2,-4 Q0,-8 2,-4", fill: "#8A8A8A", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -1, y1: -6, x2: 1, y2: -6, stroke: "rgba(255,255,255,0.3)", strokeWidth: 0.5 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M-3,${-28 - breathe} Q0,${-25 - breathe} 3,${-28 - breathe}`,
        fill: "#5A3A1A",
        stroke: "none"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -22 - breathe, x2: 10 + armSwing, y2: -16, stroke: "#C8A880", strokeWidth: 2.5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${12 + armSwing}, -16) rotate(${-10 + marchCycle * 8})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -1, y: -18, width: 2, height: 20, rx: 0.5, fill: "#B0B0B0", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -16, x2: 0, y2: 0, stroke: "rgba(255,255,255,0.15)", strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -4, y: 0, width: 8, height: 2, rx: 0.5, fill: GOLD, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 4, r: 1.5, fill: GOLD, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.3 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -22 - breathe, x2: -8, y2: -16, stroke: "#C8A880", strokeWidth: 2, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -12, cy: -14, r: 7, fill: "#7A7A7A", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -12, cy: -14, r: 4, fill: "none", stroke: "#6A6A6A", strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -12, cy: -14, r: 2, fill: GOLD, stroke: AztecCrowd_OUTLINE, strokeWidth: 0.3 })
  ] });
};
const Horseman = ({
  x,
  y,
  scale = 1,
  seed = 0,
  flip = false
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const gallopCycle = sineWave(frame, 0.2, seed);
  const horseBob = Math.abs(gallopCycle) * 3;
  const legKick = gallopCycle * 8;
  const tailSwish = sineWave(frame, 0.15, seed + 1) * 10;
  const riderBob = horseBob * 0.5;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 4, rx: 24, ry: 5, fill: "rgba(0,0,0,0.18)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(0, ${-horseBob})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -12, y1: -4, x2: -14 - legKick, y2: 4, stroke: "#5A3A1A", strokeWidth: 3, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -6, y1: -4, x2: -4 + legKick, y2: 4, stroke: "#6A4A2A", strokeWidth: 3, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 8, y1: -4, x2: 6 - legKick, y2: 4, stroke: "#5A3A1A", strokeWidth: 3, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 14, y1: -4, x2: 16 + legKick, y2: 4, stroke: "#6A4A2A", strokeWidth: 3, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -12, rx: 18, ry: 10, fill: "#6A4A2A", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-6,-20 Q0,-24 6,-20 L4,-18 L-4,-18 Z", fill: "#3A2010", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M14,-14 Q18,-24 16,-34 Q14,-38 12,-38", fill: "#6A4A2A", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(14, -40)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 4, ry: 6, fill: "#6A4A2A", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.8 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 2, cy: 4, rx: 3, ry: 3, fill: "#7A5A3A", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -1, cy: -2, r: 1, fill: AztecCrowd_OUTLINE }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-2,-6 L-1,-10 L1,-6", fill: "#6A4A2A", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-2,-4 Q-4,-8 -3,-14 Q-2,-18 0,-20", fill: "none", stroke: "#3A2010", strokeWidth: 2 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: 0, x2: 3, y2: 2, stroke: "#444", strokeWidth: 0.8 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: 2, x2: 4, y2: 6, stroke: "#444", strokeWidth: 0.8 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M-18,-10 Q${-24 + tailSwish},-6 ${-22 + tailSwish},0`,
          fill: "none",
          stroke: "#3A2010",
          strokeWidth: 2.5,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M14,-38 Q6,-30 0,-24", fill: "none", stroke: "#444", strokeWidth: 0.8 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(0, ${-22 - horseBob - riderBob})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -4, y1: 0, x2: -8, y2: 8, stroke: "#4A3828", strokeWidth: 3, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 4, y1: 0, x2: 8, y2: 8, stroke: "#5A4838", strokeWidth: 3, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -14, stroke: "#8A8A8A", strokeWidth: 5, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -4, y: -12, width: 8, height: 10, rx: 1, fill: "#8A8A8A", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -17, r: 3.5, fill: "#C8A880", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-5,-16 L-3,-18 L3,-18 L5,-16", fill: "#8A8A8A", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-1,-20 Q0,-22 1,-20", fill: "#8A8A8A", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 4, y1: -10, x2: 20, y2: -36, stroke: AztecCrowd_WOOD, strokeWidth: 2, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M20,-36 L19,-42 L21,-42 Z", fill: "#B0B0B0", stroke: AztecCrowd_OUTLINE, strokeWidth: 0.3 })
    ] })
  ] });
};
const AztecCrowdLayer = ({ config }) => {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { children: config.figures.map((fig, i) => {
    const props = {
      x: fig.x,
      y: fig.y,
      scale: fig.scale ?? 1,
      seed: fig.seed ?? i * 7,
      flip: fig.flip ?? false
    };
    switch (fig.type) {
      case "jaguarWarrior":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(JaguarWarrior, { ...props }, `aztec-${i}`);
      case "eagleWarrior":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(EagleWarrior, { ...props }, `aztec-${i}`);
      case "aztecPriest":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecPriest, { ...props }, `aztec-${i}`);
      case "sacrificePriest":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(SacrificePriest, { ...props }, `aztec-${i}`);
      case "merchantTrader":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(MerchantTrader, { ...props }, `aztec-${i}`);
      case "farmer":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(Farmer, { ...props }, `aztec-${i}`);
      case "waterCarrier":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecWaterCarrier, { ...props }, `aztec-${i}`);
      case "noblewoman":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(Noblewoman, { ...props }, `aztec-${i}`);
      case "drummer":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(Drummer, { ...props }, `aztec-${i}`);
      case "conchPlayer":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(ConchPlayer, { ...props }, `aztec-${i}`);
      case "sickPerson":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(SickPerson, { ...props }, `aztec-${i}`);
      case "mourner":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(Mourner, { ...props }, `aztec-${i}`);
      case "spanishSoldier":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(SpanishSoldier, { ...props }, `aztec-${i}`);
      case "horseman":
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(Horseman, { ...props }, `aztec-${i}`);
      default:
        return null;
    }
  }) });
};
const AZTEC_CROWD_CONFIGS = {
  battle: {
    figures: [
      // Aztec warriors fighting
      { type: "jaguarWarrior", x: 400, y: 680, scale: 0.9, seed: 1 },
      { type: "jaguarWarrior", x: 550, y: 690, scale: 0.85, seed: 2 },
      { type: "eagleWarrior", x: 480, y: 670, scale: 0.9, seed: 3 },
      { type: "eagleWarrior", x: 650, y: 695, scale: 0.8, seed: 4 },
      { type: "jaguarWarrior", x: 750, y: 700, scale: 0.75, seed: 5, flip: true },
      // Spanish forces
      { type: "spanishSoldier", x: 1100, y: 680, scale: 0.9, seed: 6, flip: true },
      { type: "spanishSoldier", x: 1250, y: 690, scale: 0.85, seed: 7, flip: true },
      { type: "spanishSoldier", x: 1050, y: 695, scale: 0.8, seed: 8, flip: true },
      { type: "horseman", x: 1400, y: 670, scale: 0.75, seed: 9, flip: true },
      { type: "horseman", x: 1550, y: 685, scale: 0.7, seed: 10, flip: true },
      // Background warriors (smaller)
      { type: "jaguarWarrior", x: 300, y: 620, scale: 0.5, seed: 11 },
      { type: "eagleWarrior", x: 700, y: 610, scale: 0.45, seed: 12 },
      { type: "spanishSoldier", x: 1300, y: 615, scale: 0.5, seed: 13, flip: true }
    ]
  },
  tenochtitlan: {
    figures: [
      // City life - traders and commoners
      { type: "merchantTrader", x: 350, y: 750, scale: 0.7, seed: 20 },
      { type: "merchantTrader", x: 1500, y: 740, scale: 0.65, seed: 21, flip: true },
      { type: "noblewoman", x: 500, y: 755, scale: 0.7, seed: 22 },
      { type: "farmer", x: 250, y: 760, scale: 0.65, seed: 23 },
      { type: "waterCarrier", x: 650, y: 745, scale: 0.7, seed: 24 },
      { type: "aztecPriest", x: 900, y: 730, scale: 0.8, seed: 25 },
      { type: "drummer", x: 1100, y: 750, scale: 0.65, seed: 26 },
      { type: "jaguarWarrior", x: 1350, y: 735, scale: 0.7, seed: 27, flip: true },
      { type: "noblewoman", x: 1600, y: 755, scale: 0.6, seed: 28, flip: true }
    ]
  },
  market: {
    figures: [
      // Bustling market scene
      { type: "merchantTrader", x: 300, y: 720, scale: 0.8, seed: 30 },
      { type: "merchantTrader", x: 600, y: 730, scale: 0.75, seed: 31 },
      { type: "merchantTrader", x: 900, y: 725, scale: 0.8, seed: 32, flip: true },
      { type: "merchantTrader", x: 1200, y: 735, scale: 0.7, seed: 33 },
      { type: "noblewoman", x: 450, y: 740, scale: 0.7, seed: 34 },
      { type: "noblewoman", x: 1050, y: 730, scale: 0.65, seed: 35, flip: true },
      { type: "farmer", x: 750, y: 745, scale: 0.7, seed: 36 },
      { type: "waterCarrier", x: 1400, y: 720, scale: 0.65, seed: 37, flip: true },
      { type: "eagleWarrior", x: 1550, y: 710, scale: 0.7, seed: 38, flip: true },
      { type: "drummer", x: 200, y: 750, scale: 0.6, seed: 39 }
    ]
  },
  sacrifice: {
    figures: [
      // Ceremony observers
      { type: "aztecPriest", x: 700, y: 750, scale: 0.8, seed: 40 },
      { type: "sacrificePriest", x: 850, y: 740, scale: 0.85, seed: 41 },
      { type: "sacrificePriest", x: 1050, y: 745, scale: 0.8, seed: 42, flip: true },
      { type: "drummer", x: 500, y: 760, scale: 0.7, seed: 43 },
      { type: "conchPlayer", x: 1250, y: 755, scale: 0.7, seed: 44, flip: true },
      { type: "jaguarWarrior", x: 350, y: 765, scale: 0.7, seed: 45 },
      { type: "eagleWarrior", x: 1400, y: 760, scale: 0.65, seed: 46, flip: true },
      { type: "noblewoman", x: 600, y: 770, scale: 0.6, seed: 47 },
      { type: "noblewoman", x: 1150, y: 765, scale: 0.6, seed: 48, flip: true }
    ]
  },
  chinampas: {
    figures: [
      // Farmers working floating gardens
      { type: "farmer", x: 400, y: 700, scale: 0.75, seed: 50 },
      { type: "farmer", x: 700, y: 710, scale: 0.7, seed: 51 },
      { type: "farmer", x: 1e3, y: 695, scale: 0.75, seed: 52, flip: true },
      { type: "farmer", x: 1300, y: 705, scale: 0.7, seed: 53 },
      { type: "waterCarrier", x: 550, y: 720, scale: 0.65, seed: 54 },
      { type: "waterCarrier", x: 1150, y: 715, scale: 0.65, seed: 55, flip: true },
      { type: "merchantTrader", x: 850, y: 730, scale: 0.6, seed: 56 },
      { type: "noblewoman", x: 1500, y: 725, scale: 0.55, seed: 57, flip: true }
    ]
  },
  plague: {
    figures: [
      // Devastation scene
      { type: "sickPerson", x: 400, y: 760, scale: 0.8, seed: 60 },
      { type: "sickPerson", x: 700, y: 770, scale: 0.75, seed: 61 },
      { type: "sickPerson", x: 1100, y: 755, scale: 0.8, seed: 62 },
      { type: "mourner", x: 500, y: 750, scale: 0.75, seed: 63 },
      { type: "mourner", x: 900, y: 760, scale: 0.7, seed: 64 },
      { type: "mourner", x: 1300, y: 765, scale: 0.7, seed: 65, flip: true },
      { type: "aztecPriest", x: 600, y: 740, scale: 0.7, seed: 66 },
      { type: "waterCarrier", x: 1450, y: 750, scale: 0.6, seed: 67, flip: true }
    ]
  }
};

;// ./src/backgrounds/BattleScene.tsx






const BattleScene_C = {
  // Sky
  skyTop: "#1A0A1E",
  skyMid: "#3A1A2E",
  skyLow: "#6A2A1E",
  skyHorizon: "#C85A20",
  skyFire: "#E87030",
  cloudDark: "#2A1A1E",
  cloudMid: "#4A2A2E",
  cloudLight: "#7A4A3E",
  cloudHighlight: "#C86A40",
  cloudEmber: "#E88040",
  // Sun (obscured, behind smoke)
  sunGlow: "rgba(255,120,40,0.25)",
  sunCore: "#FFB060",
  // Mountains (distant)
  mountainFar: "#2A1A2A",
  mountainMid: "#3A2030",
  mountainNear: "#4A2838",
  mountainSnow: "#C8B8C8",
  mountainSnowShadow: "#8A7A8A",
  // City silhouette (Tenochtitlan burning)
  cityDark: "#1A0A0A",
  cityMid: "#2A1010",
  cityLight: "#3A1818",
  cityFire: "#E86020",
  cityFireGlow: "rgba(255,100,20,0.4)",
  citySmoke: "rgba(40,20,10,0.6)",
  templeStone: "#4A3828",
  templeShadow: "#2A1A10",
  templeHighlight: "#6A4A30",
  // Lake
  lakeDark: "#1A2A3A",
  lakeMid: "#2A3A4A",
  lakeLight: "#3A4A5A",
  lakeReflection: "rgba(230,120,40,0.15)",
  lakeFireReflect: "rgba(255,80,20,0.2)",
  // Causeway
  causewayStone: "#5A4A3A",
  causewayShadow: "#3A2A1A",
  causewayEdge: "#4A3A2A",
  // Battlefield ground
  groundDark: "#3A2A1A",
  groundMid: "#5A4228",
  groundLight: "#6A5238",
  groundDust: "#8A7A5A",
  groundBlood: "#4A1010",
  groundBloodWet: "#6A1818",
  mudDark: "#3A2818",
  mudLight: "#5A4030",
  // Dust and smoke
  dustLight: "rgba(160,140,100,0.35)",
  dustMid: "rgba(120,100,70,0.3)",
  dustDark: "rgba(80,60,40,0.25)",
  smokeDark: "rgba(30,20,15,0.6)",
  smokeMid: "rgba(60,40,25,0.4)",
  smokeLight: "rgba(100,80,50,0.3)",
  smokeWhite: "rgba(180,170,150,0.25)",
  // Fire
  fireDark: "#A03010",
  fireMid: "#E06020",
  fireLight: "#FF9030",
  fireBright: "#FFCC60",
  fireGlow: "rgba(255,120,30,0.3)",
  emberRed: "#C04020",
  emberOrange: "#E08030",
  emberYellow: "#FFC040",
  // Weapons & armor
  obsidian: "#2A2A3A",
  obsidianShine: "#4A4A6A",
  steelDark: "#5A5A5A",
  steelMid: "#8A8A8A",
  steelLight: "#B0B0B0",
  steelShine: "rgba(255,255,255,0.2)",
  gold: "#D4A020",
  goldLight: "#F0C840",
  woodWeapon: "#6A4020",
  woodDark: "#4A2810",
  shieldGreen: "#1A5A2A",
  shieldRed: "#8A1010",
  // Aztec colors
  featherGreen: "#1A6B3A",
  featherRed: "#B02020",
  featherBlue: "#2040A0",
  jaguarSpot: "#C8A040",
  jaguarDark: "#5A4420",
  eagleWhite: "#D8D0C0",
  cottonWhite: "#E8E0D0",
  // Spanish colors
  spanishRed: "#8A1020",
  spanishBlue: "#1A2060",
  fabricCream: "#D8C8A0",
  leather: "#5A3820",
  // Atmospheric
  fogNear: "rgba(80,60,40,0.2)",
  fogMid: "rgba(60,40,25,0.15)",
  fogFar: "rgba(40,20,15,0.1)",
  godRay: "rgba(255,180,80,0.06)",
  godRayBright: "rgba(255,200,100,0.1)",
  vignette: "rgba(10,5,0,0.4)",
  bloodMist: "rgba(120,20,10,0.08)",
  // Board
  boardBg: "#3A2818",
  boardFrame: "#5A3820",
  boardStone: "#6A5040",
  chalk: "#E8D8C0",
  // Outline
  outline: "#1A1A1A"
};
const BurningBuilding = ({ x, y, w, h, fireIntensity, smokeDrift }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: -h, width: w, height: h, fill: BattleScene_C.cityDark }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 2, y: -h + 4, width: w - 4, height: h - 4, fill: BattleScene_C.cityMid, opacity: 0.5 }),
  Array.from({ length: Math.floor(w / 12) }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "rect",
    {
      x: 4 + i * 12,
      y: -h + 8 + i % 2 * 10,
      width: 6,
      height: 5,
      fill: BattleScene_C.cityFire,
      opacity: 0.4 + fireIntensity * 0.3
    },
    `win-${i}`
  )),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.6 + fireIntensity * 0.3, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${w * 0.2},${-h} Q${w * 0.15},${-h - 12 - fireIntensity * 8} ${w * 0.3},${-h - 6}`,
        fill: BattleScene_C.fireMid,
        opacity: 0.7
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${w * 0.5},${-h} Q${w * 0.45},${-h - 18 - fireIntensity * 12} ${w * 0.6},${-h - 8}`,
        fill: BattleScene_C.fireLight,
        opacity: 0.6
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${w * 0.7},${-h} Q${w * 0.75},${-h - 10 - fireIntensity * 6} ${w * 0.8},${-h - 4}`,
        fill: BattleScene_C.fireMid,
        opacity: 0.5
      }
    )
  ] }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "ellipse",
    {
      cx: w / 2,
      cy: -h - 10,
      rx: w * 0.6,
      ry: 15 + fireIntensity * 10,
      fill: BattleScene_C.cityFireGlow,
      opacity: 0.3 + fireIntensity * 0.2
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M${w * 0.4},${-h - 10}
      Q${w * 0.3 + smokeDrift * 3},${-h - 40} ${w * 0.5 + smokeDrift * 6},${-h - 70}
      Q${w * 0.4 + smokeDrift * 8},${-h - 100} ${w * 0.6 + smokeDrift * 10},${-h - 140}`,
      fill: "none",
      stroke: BattleScene_C.smokeDark,
      strokeWidth: w * 0.4,
      strokeLinecap: "round",
      opacity: 0.5
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M${w * 0.5},${-h - 5}
      Q${w * 0.6 + smokeDrift * 2},${-h - 30} ${w * 0.4 + smokeDrift * 5},${-h - 60}`,
      fill: "none",
      stroke: BattleScene_C.smokeMid,
      strokeWidth: w * 0.3,
      strokeLinecap: "round",
      opacity: 0.4
    }
  )
] });
const TempleSilhouette = ({ x, y, w, h, fireGlow }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M0,0
      L${w * 0.1},${-h * 0.3}
      L${w * 0.15},${-h * 0.3}
      L${w * 0.2},${-h * 0.55}
      L${w * 0.25},${-h * 0.55}
      L${w * 0.3},${-h * 0.75}
      L${w * 0.35},${-h * 0.75}
      L${w * 0.4},${-h}
      L${w * 0.6},${-h}
      L${w * 0.65},${-h * 0.75}
      L${w * 0.7},${-h * 0.75}
      L${w * 0.75},${-h * 0.55}
      L${w * 0.8},${-h * 0.55}
      L${w * 0.85},${-h * 0.3}
      L${w * 0.9},${-h * 0.3}
      L${w},0 Z`,
      fill: BattleScene_C.cityDark
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: w * 0.38, y: -h - 12, width: w * 0.24, height: 14, fill: BattleScene_C.cityMid }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: w * 0.1, y1: -h * 0.3, x2: w * 0.9, y2: -h * 0.3, stroke: BattleScene_C.cityLight, strokeWidth: 0.5, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: w * 0.2, y1: -h * 0.55, x2: w * 0.8, y2: -h * 0.55, stroke: BattleScene_C.cityLight, strokeWidth: 0.5, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: w * 0.3, y1: -h * 0.75, x2: w * 0.7, y2: -h * 0.75, stroke: BattleScene_C.cityLight, strokeWidth: 0.5, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${w * 0.5}, ${-h - 12})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 0,
        cy: -8,
        rx: 12 + fireGlow * 5,
        ry: 8 + fireGlow * 3,
        fill: BattleScene_C.fireGlow,
        opacity: 0.4 + fireGlow * 0.2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M-4,0 Q-6,${-10 - fireGlow * 6} 0,${-16 - fireGlow * 8} Q6,${-10 - fireGlow * 6} 4,0`,
        fill: BattleScene_C.fireMid,
        opacity: 0.6
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M-2,0 Q-3,${-8 - fireGlow * 4} 0,${-12 - fireGlow * 6} Q3,${-8 - fireGlow * 4} 2,0`,
        fill: BattleScene_C.fireLight,
        opacity: 0.5
      }
    )
  ] })
] });
const Cannon = ({ x, y, scale, fireCycle, smokeDrift }) => {
  const isFiring = fireCycle > 0.7;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -8, cy: 2, r: 6, fill: BattleScene_C.woodDark, stroke: BattleScene_C.outline, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -8, cy: 2, r: 2, fill: BattleScene_C.steelDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 8, cy: 2, r: 6, fill: BattleScene_C.woodDark, stroke: BattleScene_C.outline, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 8, cy: 2, r: 2, fill: BattleScene_C.steelDark }),
    [0, 60, 120].map((angle, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)(react.Fragment, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: -8 + Math.cos(angle * Math.PI / 180) * 2,
          y1: 2 + Math.sin(angle * Math.PI / 180) * 2,
          x2: -8 + Math.cos(angle * Math.PI / 180) * 5.5,
          y2: 2 + Math.sin(angle * Math.PI / 180) * 5.5,
          stroke: BattleScene_C.woodWeapon,
          strokeWidth: 1
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 8 + Math.cos(angle * Math.PI / 180) * 2,
          y1: 2 + Math.sin(angle * Math.PI / 180) * 2,
          x2: 8 + Math.cos(angle * Math.PI / 180) * 5.5,
          y2: 2 + Math.sin(angle * Math.PI / 180) * 5.5,
          stroke: BattleScene_C.woodWeapon,
          strokeWidth: 1
        }
      )
    ] }, `spoke-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -10, y: -6, width: 20, height: 6, rx: 1, fill: BattleScene_C.woodWeapon, stroke: BattleScene_C.outline, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -4, y: -12, width: 30, height: 8, rx: 2, fill: BattleScene_C.steelDark, stroke: BattleScene_C.outline, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -2, y: -11, width: 26, height: 6, rx: 1.5, fill: BattleScene_C.steelMid }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -10, x2: 22, y2: -10, stroke: BattleScene_C.steelShine, strokeWidth: 0.8, opacity: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 4, y: -12, width: 3, height: 8, rx: 0.5, fill: BattleScene_C.steelDark, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 14, y: -12, width: 3, height: 8, rx: 0.5, fill: BattleScene_C.steelDark, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 26, cy: -8, rx: 4.5, ry: 5, fill: BattleScene_C.steelDark, stroke: BattleScene_C.outline, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 26, cy: -8, rx: 3, ry: 3.5, fill: "#2A2A2A" }),
    isFiring && /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(26, -8)", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 10, cy: 0, rx: 14, ry: 8, fill: BattleScene_C.fireBright, opacity: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 8, cy: 0, rx: 10, ry: 6, fill: "white", opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 20 + smokeDrift * 4,
          cy: -2,
          rx: 18 + smokeDrift * 8,
          ry: 12 + smokeDrift * 3,
          fill: BattleScene_C.smokeWhite,
          opacity: 0.6 - smokeDrift * 0.1
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 30 + smokeDrift * 8,
          cy: -4,
          rx: 14 + smokeDrift * 6,
          ry: 10 + smokeDrift * 2,
          fill: BattleScene_C.smokeMid,
          opacity: 0.4
        }
      )
    ] })
  ] });
};
const FallenWarrior = ({ x, y, isAztec, rotation }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) rotate(${rotation})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "line",
    {
      x1: -10,
      y1: 0,
      x2: 10,
      y2: 0,
      stroke: isAztec ? "#B8865A" : "#8A8A8A",
      strokeWidth: 4,
      strokeLinecap: "round"
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "circle",
    {
      cx: -12,
      cy: 0,
      r: 3,
      fill: isAztec ? "#B8865A" : "#C8A880",
      stroke: BattleScene_C.outline,
      strokeWidth: 0.5
    }
  ),
  isAztec ? /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 6, cy: -4, r: 4, fill: BattleScene_C.shieldGreen, opacity: 0.6, stroke: BattleScene_C.outline, strokeWidth: 0.4 }) : /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 4, y1: -3, x2: 14, y2: -6, stroke: BattleScene_C.steelMid, strokeWidth: 1.5, opacity: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 8, ry: 3, fill: BattleScene_C.groundBlood, opacity: 0.4 })
] });
const BattleDebris = ({ x, y, type }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  type === "shield" && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 0,
        cy: 0,
        rx: 6,
        ry: 5,
        fill: BattleScene_C.shieldGreen,
        opacity: 0.5,
        stroke: BattleScene_C.outline,
        strokeWidth: 0.5,
        transform: "rotate(25)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 2, fill: BattleScene_C.gold, opacity: 0.4 })
  ] }),
  type === "spear" && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -12, y1: 2, x2: 12, y2: -1, stroke: BattleScene_C.woodWeapon, strokeWidth: 2, opacity: 0.6 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M12,-1 L16,-3 L14,1 Z", fill: BattleScene_C.obsidian, opacity: 0.5 })
  ] }),
  type === "sword" && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -8, y1: 1, x2: 8, y2: -1, stroke: BattleScene_C.steelMid, strokeWidth: 1.5, opacity: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -10, y: -1, width: 4, height: 3, rx: 0.5, fill: BattleScene_C.gold, opacity: 0.4 })
  ] }),
  type === "obsidian" && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -6, y: -1, width: 12, height: 3, rx: 0.5, fill: BattleScene_C.woodWeapon, opacity: 0.5 }),
    [-4, -1, 2, 5].map((ox, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${ox},-1 L${ox - 1},-3 L${ox + 1},-1`,
        fill: BattleScene_C.obsidian,
        opacity: 0.4
      },
      `ob-${i}`
    ))
  ] })
] });
const DustCloud = ({ x, y, size, drift, opacity }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x + drift}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "ellipse",
    {
      cx: 0,
      cy: 0,
      rx: size * 1.5,
      ry: size * 0.6,
      fill: BattleScene_C.dustLight,
      opacity: opacity * 0.6
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "ellipse",
    {
      cx: size * 0.3,
      cy: -size * 0.2,
      rx: size,
      ry: size * 0.4,
      fill: BattleScene_C.dustMid,
      opacity: opacity * 0.4
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "ellipse",
    {
      cx: -size * 0.4,
      cy: size * 0.1,
      rx: size * 0.8,
      ry: size * 0.3,
      fill: BattleScene_C.dustDark,
      opacity: opacity * 0.3
    }
  )
] });
const SmokeColumn = ({ x, y, height, width: w, drift, opacity }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M0,0
      Q${drift * 4},${-height * 0.3} ${drift * 8},${-height * 0.5}
      Q${drift * 10},${-height * 0.7} ${drift * 12},${-height}`,
      fill: "none",
      stroke: BattleScene_C.smokeDark,
      strokeWidth: w,
      strokeLinecap: "round",
      opacity: opacity * 0.5
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M${w * 0.3},0
      Q${drift * 3 + w * 0.2},${-height * 0.25} ${drift * 7},${-height * 0.45}
      Q${drift * 9 + w * 0.1},${-height * 0.65} ${drift * 11},${-height * 0.9}`,
      fill: "none",
      stroke: BattleScene_C.smokeMid,
      strokeWidth: w * 0.7,
      strokeLinecap: "round",
      opacity: opacity * 0.3
    }
  )
] });
const SpanishBanner = ({ x, y, sway }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -60, stroke: BattleScene_C.woodDark, strokeWidth: 2, strokeLinecap: "round" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -58, x2: 3, y2: -58, stroke: BattleScene_C.gold, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -62, x2: 0, y2: -55, stroke: BattleScene_C.gold, strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M0,-55 Q${8 + sway * 3},-50 ${12 + sway * 4},-45
      L${10 + sway * 3},-35 Q${6 + sway * 2},-38 0,-40 Z`,
      fill: BattleScene_C.spanishRed,
      stroke: BattleScene_C.outline,
      strokeWidth: 0.5,
      opacity: 0.8
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "line",
    {
      x1: 4 + sway,
      y1: -50,
      x2: 8 + sway * 2,
      y2: -50,
      stroke: BattleScene_C.gold,
      strokeWidth: 1,
      opacity: 0.6
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "line",
    {
      x1: 6 + sway * 1.5,
      y1: -53,
      x2: 6 + sway * 1.5,
      y2: -47,
      stroke: BattleScene_C.gold,
      strokeWidth: 1,
      opacity: 0.6
    }
  )
] });
const AztecBanner = ({ x, y, sway }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -65, stroke: BattleScene_C.woodWeapon, strokeWidth: 2.5, strokeLinecap: "round" }),
  [-3, -1, 1, 3].map((dx, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "line",
    {
      x1: 0,
      y1: -65,
      x2: dx * 2 + sway,
      y2: -75 - Math.abs(dx) * 2,
      stroke: [BattleScene_C.featherGreen, BattleScene_C.featherRed, BattleScene_C.featherBlue, BattleScene_C.featherGreen][i],
      strokeWidth: 2,
      strokeLinecap: "round"
    },
    `bf-${i}`
  )),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M-2,-60 L-8 + ${sway},-50 L-6 + ${sway},-35 L-2,-30 Z`,
      fill: BattleScene_C.featherGreen,
      stroke: BattleScene_C.outline,
      strokeWidth: 0.5,
      opacity: 0.7
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M2,-60 L8 + ${sway},-50 L6 + ${sway},-35 L2,-30 Z`,
      fill: BattleScene_C.featherRed,
      stroke: BattleScene_C.outline,
      strokeWidth: 0.5,
      opacity: 0.7
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: sway * 0.5, cy: -48, r: 4, fill: BattleScene_C.gold, stroke: BattleScene_C.outline, strokeWidth: 0.5, opacity: 0.7 })
] });
const BattleScene = ({
  boardText = "",
  width = 1920,
  height = 1080
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const cloudDrift1 = sineWave(frame, 0.02) * 15;
  const cloudDrift2 = sineWave(frame, 0.025, 1) * 12;
  const cloudDrift3 = sineWave(frame, 0.018, 2) * 18;
  const smokeDrift1 = sineWave(frame, 0.03, 0.5) * 8;
  const smokeDrift2 = sineWave(frame, 0.035, 1.5) * 10;
  const smokeDrift3 = sineWave(frame, 0.028, 2.5) * 6;
  const fireFlicker1 = sineWave(frame, 0.15) * 0.5 + 0.5;
  const fireFlicker2 = sineWave(frame, 0.18, 1) * 0.5 + 0.5;
  const fireFlicker3 = sineWave(frame, 0.12, 2) * 0.5 + 0.5;
  const dustDrift1 = sineWave(frame, 0.04) * 20;
  const dustDrift2 = sineWave(frame, 0.05, 1.5) * 25;
  const dustDrift3 = sineWave(frame, 0.035, 3) * 15;
  const bannerSway1 = sineWave(frame, 0.1) * 3;
  const bannerSway2 = sineWave(frame, 0.12, 1) * 2.5;
  const cannonFire1 = sineWave(frame, 0.08, 0);
  const cannonFire2 = sineWave(frame, 0.08, 2);
  const godRayPulse = sineWave(frame, 0.03) * 0.03 + 0.06;
  const waterRipple = sineWave(frame, 0.1) * 2;
  const mistFloat = sineWave(frame, 0.02) * 10;
  const emberFloat1 = sineWave(frame, 0.08, 0) * 5;
  const emberFloat2 = sineWave(frame, 0.1, 1.5) * 4;
  const emberFloat3 = sineWave(frame, 0.07, 3) * 6;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("svg", { viewBox: `0 0 ${width} ${height}`, width, height, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("defs", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "bs-sky", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: BattleScene_C.skyTop }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "30%", stopColor: BattleScene_C.skyMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "60%", stopColor: BattleScene_C.skyLow }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "85%", stopColor: BattleScene_C.skyHorizon }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: BattleScene_C.skyFire })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "bs-ground", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: BattleScene_C.groundMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "30%", stopColor: BattleScene_C.groundDark }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "70%", stopColor: BattleScene_C.mudDark }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: BattleScene_C.groundDark })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "bs-lake", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: BattleScene_C.lakeDark }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "50%", stopColor: BattleScene_C.lakeMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: BattleScene_C.lakeLight })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "bs-fireglow", cx: "50%", cy: "40%", r: "50%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: BattleScene_C.fireGlow }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "bs-sunglow", cx: "65%", cy: "25%", r: "35%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: BattleScene_C.sunGlow }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "60%", stopColor: "rgba(255,120,40,0.08)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "bs-vignette", cx: "50%", cy: "50%", r: "70%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(0,0,0,0)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "70%", stopColor: "rgba(0,0,0,0)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: BattleScene_C.vignette })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "bs-bloodmist", cx: "50%", cy: "65%", r: "40%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: BattleScene_C.bloodMist }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "bs-godray1", x1: "60%", y1: "0%", x2: "40%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: BattleScene_C.godRayBright }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "50%", stopColor: BattleScene_C.godRay }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("pattern", { id: "bs-stone-pattern", x: "0", y: "0", width: "20", height: "10", patternUnits: "userSpaceOnUse", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { width: "20", height: "10", fill: BattleScene_C.causewayStone }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "0", y1: "5", x2: "20", y2: "5", stroke: BattleScene_C.causewayShadow, strokeWidth: 0.5, opacity: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "10", y1: "0", x2: "10", y2: "5", stroke: BattleScene_C.causewayShadow, strokeWidth: 0.5, opacity: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "0", y1: "5", x2: "0", y2: "10", stroke: BattleScene_C.causewayShadow, strokeWidth: 0.5, opacity: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "20", y1: "5", x2: "20", y2: "10", stroke: BattleScene_C.causewayShadow, strokeWidth: 0.5, opacity: 0.3 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("pattern", { id: "bs-ground-tex", x: "0", y: "0", width: "40", height: "40", patternUnits: "userSpaceOnUse", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { width: "40", height: "40", fill: "rgba(0,0,0,0)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "8", cy: "12", r: "1", fill: BattleScene_C.groundDust, opacity: 0.15 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "25", cy: "6", r: "0.8", fill: BattleScene_C.groundDust, opacity: 0.1 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "32", cy: "28", r: "1.2", fill: BattleScene_C.groundDust, opacity: 0.12 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "15", cy: "35", r: "0.6", fill: BattleScene_C.groundDust, opacity: 0.1 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M5,22 Q8,20 11,22", fill: "none", stroke: BattleScene_C.mudLight, strokeWidth: 0.3, opacity: 0.1 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M28,15 Q30,13 33,15", fill: "none", stroke: BattleScene_C.mudLight, strokeWidth: 0.3, opacity: 0.08 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("filter", { id: "bs-smoke-blur", x: "-20%", y: "-20%", width: "140%", height: "140%", children: /* @__PURE__ */ (0,jsx_runtime.jsx)("feGaussianBlur", { stdDeviation: "3" }) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("filter", { id: "bs-fire-glow", x: "-30%", y: "-30%", width: "160%", height: "160%", children: /* @__PURE__ */ (0,jsx_runtime.jsx)("feGaussianBlur", { stdDeviation: "5" }) }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "bs-mountain-haze", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(40,20,15,0)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "60%", stopColor: "rgba(40,20,15,0.08)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(100,60,30,0.15)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "bs-lake-reflect", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(255,120,40,0.12)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "50%", stopColor: "rgba(255,80,20,0.08)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("pattern", { id: "bs-dust-particles", x: "0", y: "0", width: "60", height: "60", patternUnits: "userSpaceOnUse", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "10", cy: "15", r: "0.5", fill: BattleScene_C.groundDust, opacity: 0.08 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "30", cy: "8", r: "0.3", fill: BattleScene_C.groundDust, opacity: 0.06 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "45", cy: "35", r: "0.6", fill: BattleScene_C.groundDust, opacity: 0.07 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "20", cy: "48", r: "0.4", fill: BattleScene_C.groundDust, opacity: 0.05 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "52", cy: "22", r: "0.5", fill: BattleScene_C.groundDust, opacity: 0.06 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "8", cy: "42", r: "0.3", fill: BattleScene_C.groundDust, opacity: 0.04 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "38", cy: "55", r: "0.4", fill: BattleScene_C.groundDust, opacity: 0.05 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("pattern", { id: "bs-canvas", x: "0", y: "0", width: "4", height: "4", patternUnits: "userSpaceOnUse", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { width: "4", height: "4", fill: "rgba(0,0,0,0)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "0", y1: "0", x2: "4", y2: "0", stroke: "rgba(0,0,0,0.01)", strokeWidth: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "0", y1: "2", x2: "4", y2: "2", stroke: "rgba(0,0,0,0.008)", strokeWidth: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "0", y1: "0", x2: "0", y2: "4", stroke: "rgba(0,0,0,0.01)", strokeWidth: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "2", y1: "0", x2: "2", y2: "4", stroke: "rgba(0,0,0,0.008)", strokeWidth: 0.3 })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height: height * 0.45, fill: "url(#bs-sky)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height: height * 0.5, fill: "url(#bs-sunglow)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "circle",
      {
        cx: width * 0.65,
        cy: height * 0.18,
        r: 35,
        fill: BattleScene_C.sunCore,
        opacity: 0.2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "circle",
      {
        cx: width * 0.65,
        cy: height * 0.18,
        r: 60,
        fill: BattleScene_C.sunGlow,
        opacity: 0.15
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.6, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 200 + cloudDrift1,
          cy: 80,
          rx: 180,
          ry: 40,
          fill: BattleScene_C.cloudDark
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 220 + cloudDrift1,
          cy: 75,
          rx: 140,
          ry: 30,
          fill: BattleScene_C.cloudMid,
          opacity: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 600 + cloudDrift2,
          cy: 60,
          rx: 220,
          ry: 45,
          fill: BattleScene_C.cloudDark
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 620 + cloudDrift2,
          cy: 55,
          rx: 160,
          ry: 30,
          fill: BattleScene_C.cloudMid,
          opacity: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 1100 + cloudDrift3,
          cy: 90,
          rx: 250,
          ry: 50,
          fill: BattleScene_C.cloudDark
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 1120 + cloudDrift3,
          cy: 85,
          rx: 180,
          ry: 35,
          fill: BattleScene_C.cloudMid,
          opacity: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 1500 + cloudDrift1 * 0.5,
          cy: 70,
          rx: 200,
          ry: 38,
          fill: BattleScene_C.cloudDark
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.7, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 350 + cloudDrift2 * 0.8,
          cy: 140,
          rx: 200,
          ry: 35,
          fill: BattleScene_C.cloudMid
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 370 + cloudDrift2 * 0.8,
          cy: 135,
          rx: 150,
          ry: 25,
          fill: BattleScene_C.cloudLight,
          opacity: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 380 + cloudDrift2 * 0.8,
          cy: 132,
          rx: 80,
          ry: 15,
          fill: BattleScene_C.cloudHighlight,
          opacity: 0.25
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 850 + cloudDrift1 * 0.6,
          cy: 120,
          rx: 240,
          ry: 42,
          fill: BattleScene_C.cloudMid
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 870 + cloudDrift1 * 0.6,
          cy: 115,
          rx: 180,
          ry: 30,
          fill: BattleScene_C.cloudLight,
          opacity: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 900 + cloudDrift1 * 0.6,
          cy: 110,
          rx: 100,
          ry: 18,
          fill: BattleScene_C.cloudHighlight,
          opacity: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 1400 + cloudDrift3 * 0.7,
          cy: 130,
          rx: 220,
          ry: 38,
          fill: BattleScene_C.cloudMid
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 1420 + cloudDrift3 * 0.7,
          cy: 125,
          rx: 160,
          ry: 28,
          fill: BattleScene_C.cloudLight,
          opacity: 0.35
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.5, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 150 + cloudDrift3,
          cy: 200,
          rx: 300,
          ry: 50,
          fill: BattleScene_C.cloudDark
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 700 + cloudDrift1 * 1.2,
          cy: 180,
          rx: 280,
          ry: 45,
          fill: BattleScene_C.cloudDark
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 1300 + cloudDrift2 * 0.9,
          cy: 190,
          rx: 320,
          ry: 55,
          fill: BattleScene_C.cloudDark
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 1700 + cloudDrift3 * 0.6,
          cy: 210,
          rx: 250,
          ry: 40,
          fill: BattleScene_C.cloudDark
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.35, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 800 + cloudDrift1 * 0.5,
          cy: 170,
          rx: 300,
          ry: 25,
          fill: BattleScene_C.cloudEmber
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 500 + cloudDrift2 * 0.4,
          cy: 185,
          rx: 200,
          ry: 20,
          fill: BattleScene_C.cloudHighlight
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 1200 + cloudDrift3 * 0.3,
          cy: 175,
          rx: 250,
          ry: 22,
          fill: BattleScene_C.cloudEmber
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: godRayPulse, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "polygon",
        {
          points: `${width * 0.6},0 ${width * 0.52},${height * 0.5} ${width * 0.58},${height * 0.5}`,
          fill: "url(#bs-godray1)"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "polygon",
        {
          points: `${width * 0.7},0 ${width * 0.64},${height * 0.45} ${width * 0.68},${height * 0.45}`,
          fill: "url(#bs-godray1)"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "polygon",
        {
          points: `${width * 0.45},${height * 0.05} ${width * 0.4},${height * 0.48} ${width * 0.44},${height * 0.48}`,
          fill: "url(#bs-godray1)"
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${height * 0.35}
        Q${width * 0.08},${height * 0.22} ${width * 0.15},${height * 0.28}
        Q${width * 0.2},${height * 0.18} ${width * 0.28},${height * 0.25}
        Q${width * 0.35},${height * 0.12} ${width * 0.42},${height * 0.2}
        L${width * 0.42},${height * 0.45}
        L0,${height * 0.45} Z`,
        fill: BattleScene_C.mountainFar
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.3},${height * 0.35}
        Q${width * 0.35},${height * 0.1} ${width * 0.42},${height * 0.08}
        Q${width * 0.49},${height * 0.1} ${width * 0.54},${height * 0.35}`,
        fill: BattleScene_C.mountainMid
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.37},${height * 0.15}
        Q${width * 0.39},${height * 0.09} ${width * 0.42},${height * 0.08}
        Q${width * 0.45},${height * 0.09} ${width * 0.47},${height * 0.15}
        Q${width * 0.44},${height * 0.13} ${width * 0.42},${height * 0.12}
        Q${width * 0.4},${height * 0.13} ${width * 0.37},${height * 0.15} Z`,
        fill: BattleScene_C.mountainSnow,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.39},${height * 0.12}
        Q${width * 0.41},${height * 0.095} ${width * 0.42},${height * 0.09}
        Q${width * 0.43},${height * 0.095} ${width * 0.45},${height * 0.12}`,
        fill: BattleScene_C.mountainSnowShadow,
        opacity: 0.3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.5},${height * 0.35}
        Q${width * 0.55},${height * 0.2} ${width * 0.58},${height * 0.14}
        Q${width * 0.6},${height * 0.16} ${width * 0.63},${height * 0.13}
        Q${width * 0.66},${height * 0.16} ${width * 0.68},${height * 0.18}
        Q${width * 0.72},${height * 0.22} ${width * 0.78},${height * 0.35}`,
        fill: BattleScene_C.mountainNear
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.57},${height * 0.17}
        Q${width * 0.58},${height * 0.145} ${width * 0.59},${height * 0.15}
        Q${width * 0.6},${height * 0.16} ${width * 0.58},${height * 0.18}`,
        fill: BattleScene_C.mountainSnow,
        opacity: 0.3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.62},${height * 0.15}
        Q${width * 0.63},${height * 0.135} ${width * 0.64},${height * 0.14}
        Q${width * 0.65},${height * 0.16} ${width * 0.63},${height * 0.17}`,
        fill: BattleScene_C.mountainSnow,
        opacity: 0.25
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.7},${height * 0.35}
        Q${width * 0.78},${height * 0.2} ${width * 0.85},${height * 0.22}
        Q${width * 0.92},${height * 0.18} ${width},${height * 0.25}
        L${width},${height * 0.45}
        L${width * 0.7},${height * 0.45} Z`,
        fill: BattleScene_C.mountainFar
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.25,
        width,
        height: height * 0.2,
        fill: BattleScene_C.fogFar,
        opacity: 0.6
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.32,
        width,
        height: height * 0.16,
        fill: "url(#bs-lake)",
        opacity: 0.7
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * 0.2,
        y: height * 0.34,
        width: width * 0.6,
        height: height * 0.12,
        fill: BattleScene_C.lakeFireReflect,
        opacity: 0.3 + fireFlicker1 * 0.15
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * 0.3,
        y: height * 0.35,
        width: width * 0.4,
        height: height * 0.08,
        fill: BattleScene_C.lakeReflection,
        opacity: 0.2
      }
    ),
    Array.from({ length: 8 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: width * 0.05 + i * width * 0.12,
        y1: height * 0.36 + i % 3 * 8 + waterRipple * (i % 2 === 0 ? 1 : -1),
        x2: width * 0.05 + i * width * 0.12 + 60,
        y2: height * 0.36 + i % 3 * 8 + waterRipple * (i % 2 === 0 ? 1 : -1),
        stroke: BattleScene_C.lakeLight,
        strokeWidth: 0.5,
        opacity: 0.15
      },
      `wr-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      BurningBuilding,
      {
        x: width * 0.15,
        y: height * 0.34,
        w: 40,
        h: 30,
        fireIntensity: fireFlicker1,
        smokeDrift: smokeDrift1
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      BurningBuilding,
      {
        x: width * 0.2,
        y: height * 0.33,
        w: 35,
        h: 25,
        fireIntensity: fireFlicker2,
        smokeDrift: smokeDrift2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      BurningBuilding,
      {
        x: width * 0.25,
        y: height * 0.335,
        w: 30,
        h: 20,
        fireIntensity: fireFlicker3,
        smokeDrift: smokeDrift1
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      TempleSilhouette,
      {
        x: width * 0.35,
        y: height * 0.34,
        w: 120,
        h: 80,
        fireGlow: fireFlicker1
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      BurningBuilding,
      {
        x: width * 0.55,
        y: height * 0.335,
        w: 35,
        h: 28,
        fireIntensity: fireFlicker2,
        smokeDrift: smokeDrift3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      BurningBuilding,
      {
        x: width * 0.6,
        y: height * 0.34,
        w: 45,
        h: 32,
        fireIntensity: fireFlicker1,
        smokeDrift: smokeDrift2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      BurningBuilding,
      {
        x: width * 0.67,
        y: height * 0.336,
        w: 30,
        h: 22,
        fireIntensity: fireFlicker3,
        smokeDrift: smokeDrift1
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      TempleSilhouette,
      {
        x: width * 0.72,
        y: height * 0.34,
        w: 80,
        h: 55,
        fireGlow: fireFlicker2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      BurningBuilding,
      {
        x: width * 0.82,
        y: height * 0.338,
        w: 25,
        h: 18,
        fireIntensity: fireFlicker1,
        smokeDrift: smokeDrift3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      BurningBuilding,
      {
        x: width * 0.87,
        y: height * 0.34,
        w: 30,
        h: 20,
        fireIntensity: fireFlicker2,
        smokeDrift: smokeDrift1
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      SmokeColumn,
      {
        x: width * 0.25,
        y: height * 0.28,
        height: 150,
        width: 25,
        drift: smokeDrift1,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      SmokeColumn,
      {
        x: width * 0.42,
        y: height * 0.24,
        height: 180,
        width: 35,
        drift: smokeDrift2,
        opacity: 0.6
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      SmokeColumn,
      {
        x: width * 0.62,
        y: height * 0.26,
        height: 160,
        width: 28,
        drift: smokeDrift3,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      SmokeColumn,
      {
        x: width * 0.78,
        y: height * 0.27,
        height: 140,
        width: 22,
        drift: smokeDrift1,
        opacity: 0.45
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.28,
        width,
        height: height * 0.12,
        fill: BattleScene_C.citySmoke,
        opacity: 0.3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.42},${height * 0.42}
        L${width * 0.35},${height * 0.52}
        L${width * 0.25},${height * 0.58}
        L0,${height * 0.62}
        L0,${height * 0.68}
        L${width * 0.28},${height * 0.63}
        L${width * 0.38},${height * 0.55}
        L${width * 0.48},${height * 0.42} Z`,
        fill: "url(#bs-stone-pattern)",
        stroke: BattleScene_C.causewayEdge,
        strokeWidth: 1
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.42},${height * 0.42}
        L${width * 0.35},${height * 0.52}
        L${width * 0.25},${height * 0.58}
        L0,${height * 0.62}`,
        fill: "none",
        stroke: BattleScene_C.causewayShadow,
        strokeWidth: 2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.48},${height * 0.42}
        L${width * 0.38},${height * 0.55}
        L${width * 0.28},${height * 0.63}
        L0,${height * 0.68}`,
        fill: "none",
        stroke: BattleScene_C.causewayShadow,
        strokeWidth: 2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * 0.32,
        y: height * 0.54,
        width: 20,
        height: 8,
        fill: BattleScene_C.lakeMid,
        opacity: 0.6
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * 0.18,
        y: height * 0.6,
        width: 25,
        height: 10,
        fill: BattleScene_C.lakeMid,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${height * 0.55}
        Q${width * 0.3},${height * 0.52} ${width * 0.5},${height * 0.54}
        Q${width * 0.7},${height * 0.52} ${width},${height * 0.55}
        L${width},${height} L0,${height} Z`,
        fill: "url(#bs-ground)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.55,
        width,
        height: height * 0.45,
        fill: "url(#bs-ground-tex)"
      }
    ),
    Array.from({ length: 12 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${100 + i * 160},${height * 0.7 + i % 3 * 20}
            Q${120 + i * 160},${height * 0.7 + i % 3 * 20 - 3} ${140 + i * 160},${height * 0.7 + i % 3 * 20}`,
        fill: "none",
        stroke: BattleScene_C.mudDark,
        strokeWidth: 1,
        opacity: 0.15
      },
      `rut-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.35,
        cy: height * 0.72,
        rx: 25,
        ry: 8,
        fill: BattleScene_C.groundBlood,
        opacity: 0.25
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.55,
        cy: height * 0.68,
        rx: 18,
        ry: 6,
        fill: BattleScene_C.groundBloodWet,
        opacity: 0.2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.75,
        cy: height * 0.74,
        rx: 22,
        ry: 7,
        fill: BattleScene_C.groundBlood,
        opacity: 0.2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.45,
        cy: height * 0.78,
        rx: 15,
        ry: 5,
        fill: BattleScene_C.groundBloodWet,
        opacity: 0.15
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.65,
        cy: height * 0.82,
        rx: 20,
        ry: 6,
        fill: BattleScene_C.groundBlood,
        opacity: 0.18
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(FallenWarrior, { x: width * 0.2, y: height * 0.72, isAztec: true, rotation: -15 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(FallenWarrior, { x: width * 0.4, y: height * 0.76, isAztec: false, rotation: 20 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(FallenWarrior, { x: width * 0.58, y: height * 0.7, isAztec: true, rotation: -8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(FallenWarrior, { x: width * 0.72, y: height * 0.78, isAztec: false, rotation: 12 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(FallenWarrior, { x: width * 0.88, y: height * 0.73, isAztec: true, rotation: -20 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(FallenWarrior, { x: width * 0.32, y: height * 0.82, isAztec: true, rotation: 5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(FallenWarrior, { x: width * 0.52, y: height * 0.84, isAztec: false, rotation: -10 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(FallenWarrior, { x: width * 0.8, y: height * 0.86, isAztec: true, rotation: 15 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BattleDebris, { x: width * 0.15, y: height * 0.74, type: "shield" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BattleDebris, { x: width * 0.3, y: height * 0.7, type: "spear" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BattleDebris, { x: width * 0.48, y: height * 0.77, type: "sword" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BattleDebris, { x: width * 0.62, y: height * 0.72, type: "obsidian" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BattleDebris, { x: width * 0.78, y: height * 0.8, type: "shield" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BattleDebris, { x: width * 0.42, y: height * 0.85, type: "spear" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BattleDebris, { x: width * 0.68, y: height * 0.88, type: "sword" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BattleDebris, { x: width * 0.9, y: height * 0.76, type: "obsidian" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BattleDebris, { x: width * 0.1, y: height * 0.8, type: "obsidian" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BattleDebris, { x: width * 0.55, y: height * 0.9, type: "shield" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      Cannon,
      {
        x: width * 0.82,
        y: height * 0.66,
        scale: 0.9,
        fireCycle: cannonFire1,
        smokeDrift: smokeDrift1
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      Cannon,
      {
        x: width * 0.92,
        y: height * 0.7,
        scale: 0.8,
        fireCycle: cannonFire2,
        smokeDrift: smokeDrift2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.45,
        cy: height * 0.68,
        rx: 12,
        ry: 5,
        fill: BattleScene_C.mudDark,
        stroke: BattleScene_C.groundDark,
        strokeWidth: 1,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.35,
        cy: height * 0.73,
        rx: 10,
        ry: 4,
        fill: BattleScene_C.mudDark,
        stroke: BattleScene_C.groundDark,
        strokeWidth: 1,
        opacity: 0.35
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecBanner, { x: width * 0.18, y: height * 0.68, sway: bannerSway1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecBanner, { x: width * 0.28, y: height * 0.65, sway: bannerSway2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(SpanishBanner, { x: width * 0.78, y: height * 0.64, sway: bannerSway1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(SpanishBanner, { x: width * 0.88, y: height * 0.67, sway: bannerSway2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecCrowdLayer, { config: AZTEC_CROWD_CONFIGS.battle }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(DustCloud, { x: width * 0.1, y: height * 0.7, size: 60, drift: dustDrift1, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(DustCloud, { x: width * 0.35, y: height * 0.66, size: 80, drift: dustDrift2, opacity: 0.35 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(DustCloud, { x: width * 0.55, y: height * 0.72, size: 70, drift: dustDrift3, opacity: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(DustCloud, { x: width * 0.75, y: height * 0.68, size: 90, drift: dustDrift1 * 0.8, opacity: 0.35 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(DustCloud, { x: width * 0.9, y: height * 0.74, size: 50, drift: dustDrift2 * 0.6, opacity: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(DustCloud, { x: width * 0.05, y: height * 0.85, size: 100, drift: dustDrift3 * 1.2, opacity: 0.25 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(DustCloud, { x: width * 0.4, y: height * 0.88, size: 120, drift: dustDrift1 * 1.3, opacity: 0.2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(DustCloud, { x: width * 0.7, y: height * 0.86, size: 110, drift: dustDrift2 * 1.1, opacity: 0.22 }),
    [
      { x: width * 0.3, y: height * 0.65, s: 1 },
      { x: width * 0.5, y: height * 0.62, s: 0.8 },
      { x: width * 0.68, y: height * 0.66, s: 0.9 }
    ].map((fire, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${fire.x}, ${fire.y}) scale(${fire.s})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 0,
          cy: 5,
          rx: 15,
          ry: 4,
          fill: BattleScene_C.fireGlow,
          opacity: 0.3 + [fireFlicker1, fireFlicker2, fireFlicker3][i] * 0.2
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M-8,0 Q-10,${-12 - [fireFlicker1, fireFlicker2, fireFlicker3][i] * 10} 0,${-20 - [fireFlicker1, fireFlicker2, fireFlicker3][i] * 14}
            Q10,${-12 - [fireFlicker1, fireFlicker2, fireFlicker3][i] * 10} 8,0`,
          fill: BattleScene_C.fireMid,
          opacity: 0.6
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M-4,0 Q-5,${-8 - [fireFlicker1, fireFlicker2, fireFlicker3][i] * 6} 0,${-14 - [fireFlicker1, fireFlicker2, fireFlicker3][i] * 8}
            Q5,${-8 - [fireFlicker1, fireFlicker2, fireFlicker3][i] * 6} 4,0`,
          fill: BattleScene_C.fireLight,
          opacity: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M-2,0 Q-2,${-5 - [fireFlicker1, fireFlicker2, fireFlicker3][i] * 4} 0,${-8 - [fireFlicker1, fireFlicker2, fireFlicker3][i] * 5}
            Q2,${-5 - [fireFlicker1, fireFlicker2, fireFlicker3][i] * 4} 2,0`,
          fill: BattleScene_C.fireBright,
          opacity: 0.4
        }
      )
    ] }, `gf-${i}`)),
    Array.from({ length: 20 }, (_, i) => {
      const ex = 100 + i * 97 % (width - 200);
      const baseY = height * 0.3 + i * 43 % (height * 0.4);
      const ey = baseY + [emberFloat1, emberFloat2, emberFloat3][i % 3] * (1 + i % 4);
      const eSize = 1 + i % 3 * 0.5;
      const eOpacity = 0.3 + i % 4 * 0.1;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: ex,
          cy: ey,
          r: eSize,
          fill: [BattleScene_C.emberRed, BattleScene_C.emberOrange, BattleScene_C.emberYellow][i % 3],
          opacity: eOpacity
        },
        `ember-${i}`
      );
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.2 + mistFloat,
        cy: height * 0.92,
        rx: 200,
        ry: 30,
        fill: BattleScene_C.fogNear,
        opacity: 0.3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.6 - mistFloat,
        cy: height * 0.94,
        rx: 250,
        ry: 35,
        fill: BattleScene_C.fogNear,
        opacity: 0.25
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.85 + mistFloat * 0.5,
        cy: height * 0.9,
        rx: 180,
        ry: 25,
        fill: BattleScene_C.fogMid,
        opacity: 0.2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${height * 0.8}
        Q${smokeDrift1 * 5},${height * 0.75} ${width * 0.15 + smokeDrift1 * 8},${height * 0.7}
        Q${width * 0.25 + smokeDrift1 * 10},${height * 0.65} ${width * 0.3 + smokeDrift1 * 12},${height * 0.55}`,
        fill: "none",
        stroke: BattleScene_C.smokeLight,
        strokeWidth: 40,
        strokeLinecap: "round",
        opacity: 0.15
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width},${height * 0.78}
        Q${width - smokeDrift2 * 5},${height * 0.73} ${width * 0.85 - smokeDrift2 * 8},${height * 0.68}
        Q${width * 0.75 - smokeDrift2 * 10},${height * 0.63} ${width * 0.7 - smokeDrift2 * 12},${height * 0.55}`,
        fill: "none",
        stroke: BattleScene_C.smokeLight,
        strokeWidth: 35,
        strokeLinecap: "round",
        opacity: 0.12
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height, fill: "url(#bs-bloodmist)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(${width * 0.22}, ${height * 0.78})`, children: /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `scale(1.3)`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 4, rx: 18, ry: 5, fill: "rgba(0,0,0,0.2)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -8, y1: -12, x2: -16, y2: 4, stroke: "#9A6E42", strokeWidth: 4.5, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 4,
          y1: -12,
          x2: 18 + sineWave(frame, 0.2) * 4,
          y2: 2,
          stroke: "#B8865A",
          strokeWidth: 4.5,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 0,
          y1: -12,
          x2: 6 + sineWave(frame, 0.2) * 2,
          y2: -32,
          stroke: "#B8865A",
          strokeWidth: 6,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 2,
          y: -30,
          width: 10,
          height: 14,
          rx: 2,
          fill: BattleScene_C.jaguarSpot,
          stroke: BattleScene_C.outline,
          strokeWidth: 0.6
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 5, cy: -26, r: 1.5, fill: BattleScene_C.jaguarDark }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 9, cy: -22, r: 1.2, fill: BattleScene_C.jaguarDark }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 6, cy: -19, r: 1.4, fill: BattleScene_C.jaguarDark }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 8, cy: -36, r: 6, fill: "#B8865A", stroke: BattleScene_C.outline, strokeWidth: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M1,-38 Q0,-48 4,-50 Q8,-52 12,-50 Q16,-48 15,-38 L12,-36 L4,-36 Z",
          fill: BattleScene_C.jaguarSpot,
          stroke: BattleScene_C.outline,
          strokeWidth: 0.6
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M2,-46 L0,-52 L5,-47 Z", fill: BattleScene_C.jaguarSpot, stroke: BattleScene_C.outline, strokeWidth: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M14,-46 L16,-52 L11,-47 Z", fill: BattleScene_C.jaguarSpot, stroke: BattleScene_C.outline, strokeWidth: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 4, cy: -45, r: 1.2, fill: BattleScene_C.jaguarDark }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 12, cy: -45, r: 1.2, fill: BattleScene_C.jaguarDark }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M3,-34 L4,-31 L6,-33 L8,-31 L10,-33 L12,-31 L13,-34",
          fill: "white",
          stroke: BattleScene_C.outline,
          strokeWidth: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 8,
          y1: -28,
          x2: 26 + sineWave(frame, 0.25) * 6,
          y2: -22,
          stroke: "#B8865A",
          strokeWidth: 3.5,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${28 + sineWave(frame, 0.25) * 6}, -22) rotate(${-25 + sineWave(frame, 0.25) * 20})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -2.5, y: -24, width: 5, height: 26, rx: 1.5, fill: BattleScene_C.woodWeapon, stroke: BattleScene_C.outline, strokeWidth: 0.6 }),
        [-20, -16, -12, -8, -4].map((oy, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)(react.Fragment, { children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: `M-2.5,${oy} L-6,${oy - 2} L-2.5,${oy + 2.5} Z`, fill: BattleScene_C.obsidian, stroke: BattleScene_C.obsidianShine, strokeWidth: 0.3 }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: `M2.5,${oy} L6,${oy - 2} L2.5,${oy + 2.5} Z`, fill: BattleScene_C.obsidian, stroke: BattleScene_C.obsidianShine, strokeWidth: 0.3 })
        ] }, `fob-${i}`))
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 4, y1: -26, x2: -10, y2: -20, stroke: "#9A6E42", strokeWidth: 3, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -14, cy: -18, r: 10, fill: BattleScene_C.shieldGreen, stroke: BattleScene_C.outline, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -14, cy: -18, r: 6, fill: BattleScene_C.gold, stroke: BattleScene_C.outline, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -14, cy: -18, r: 3, fill: "#40B0B0" }),
      [-40, -20, 0, 20, 40].map((angle, fi) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: -14 + Math.cos((angle + 180) * Math.PI / 180) * 10,
          y1: -18 + Math.sin((angle + 180) * Math.PI / 180) * 10,
          x2: -14 + Math.cos((angle + 180) * Math.PI / 180) * 15,
          y2: -18 + Math.sin((angle + 180) * Math.PI / 180) * 15,
          stroke: [BattleScene_C.featherRed, BattleScene_C.featherGreen, BattleScene_C.featherBlue, BattleScene_C.featherGreen, BattleScene_C.featherRed][fi],
          strokeWidth: 2,
          strokeLinecap: "round"
        },
        `sff-${fi}`
      )),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,-14 L6,-14 L7,-9 L-5,-9 Z", fill: BattleScene_C.cottonWhite, stroke: BattleScene_C.outline, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-9 L-2,-6 M0,-9 L1,-6 M3,-9 L4,-6", stroke: BattleScene_C.gold, strokeWidth: 0.5 })
    ] }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(${width * 0.72}, ${height * 0.8})`, children: /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "scale(-1.2, 1.2)", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 4, rx: 16, ry: 4.5, fill: "rgba(0,0,0,0.2)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -4, y1: -10, x2: -8, y2: 4, stroke: "#4A3828", strokeWidth: 4.5, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 4,
          y1: -10,
          x2: 6 + sineWave(frame, 0.18, 1) * 3,
          y2: 4,
          stroke: "#5A4838",
          strokeWidth: 4.5,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -10, y: 1, width: 6, height: 5, rx: 1, fill: "#3A2818", stroke: BattleScene_C.outline, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 4 + sineWave(frame, 0.18, 1) * 3,
          y: 1,
          width: 6,
          height: 5,
          rx: 1,
          fill: "#3A2818",
          stroke: BattleScene_C.outline,
          strokeWidth: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-7,-10 L-7,-30 Q-7,-32 -5,-32 L5,-32 Q7,-32 7,-30 L7,-10 Z",
          fill: BattleScene_C.steelMid,
          stroke: BattleScene_C.outline,
          strokeWidth: 1
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -4, y1: -28, x2: -4, y2: -14, stroke: BattleScene_C.steelShine, strokeWidth: 1.5, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -6, y1: -20, x2: 6, y2: -20, stroke: BattleScene_C.steelDark, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -6, y1: -25, x2: 6, y2: -25, stroke: BattleScene_C.steelDark, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -36, r: 5.5, fill: "#C8A880", stroke: BattleScene_C.outline, strokeWidth: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-8,-35 L-6,-37 L6,-37 L8,-35 Z", fill: BattleScene_C.steelMid, stroke: BattleScene_C.outline, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-2,-39 Q0,-44 2,-39", fill: BattleScene_C.steelMid, stroke: BattleScene_C.outline, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-33 Q0,-30 3,-33", fill: "#5A3A1A" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 0,
          y1: -26,
          x2: 14 + sineWave(frame, 0.2, 2) * 4,
          y2: -32,
          stroke: "#C8A880",
          strokeWidth: 3,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${16 + sineWave(frame, 0.2, 2) * 4}, -34) rotate(${-50 + sineWave(frame, 0.2, 2) * 15})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -1.5, y: -22, width: 3, height: 24, rx: 0.5, fill: BattleScene_C.steelLight, stroke: BattleScene_C.outline, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -20, x2: 0, y2: 0, stroke: BattleScene_C.steelShine, strokeWidth: 0.5, opacity: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: 0, width: 10, height: 2.5, rx: 0.5, fill: BattleScene_C.gold, stroke: BattleScene_C.outline, strokeWidth: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 5, r: 2, fill: BattleScene_C.gold, stroke: BattleScene_C.outline, strokeWidth: 0.3 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -24, x2: -10, y2: -18, stroke: "#C8A880", strokeWidth: 2.5, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -14, cy: -16, r: 9, fill: BattleScene_C.steelDark, stroke: BattleScene_C.outline, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -14, cy: -16, r: 5, fill: "none", stroke: BattleScene_C.steelMid, strokeWidth: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -14, cy: -16, r: 2.5, fill: BattleScene_C.gold, stroke: BattleScene_C.outline, strokeWidth: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -14, y1: -20, x2: -14, y2: -12, stroke: BattleScene_C.spanishRed, strokeWidth: 1.5, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -18, y1: -16, x2: -10, y2: -16, stroke: BattleScene_C.spanishRed, strokeWidth: 1.5, opacity: 0.5 })
    ] }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.38}, ${height * 0.7}) scale(0.7)`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 4, rx: 30, ry: 6, fill: "rgba(0,0,0,0.15)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -15, y1: -10, x2: -20, y2: 3, stroke: "#9A6E42", strokeWidth: 3, strokeLinecap: "round" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: -9,
            y1: -10,
            x2: -4 + sineWave(frame, 0.22, 3) * 3,
            y2: 3,
            stroke: "#B8865A",
            strokeWidth: 3,
            strokeLinecap: "round"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -12, y1: -10, x2: -10, y2: -26, stroke: "#B8865A", strokeWidth: 4.5, strokeLinecap: "round" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -14, y: -24, width: 8, height: 12, rx: 1.5, fill: BattleScene_C.eagleWhite, stroke: BattleScene_C.outline, strokeWidth: 0.4 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -10, cy: -30, r: 4, fill: "#B8865A", stroke: BattleScene_C.outline, strokeWidth: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M-10,-35 L-14,-33 L-18,-38 L-13,-34 L-10,-36 L-7,-34 L-2,-38 L-6,-33 Z",
            fill: BattleScene_C.eagleWhite,
            stroke: BattleScene_C.outline,
            strokeWidth: 0.4
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -10, y1: -35, x2: -10, y2: -44, stroke: BattleScene_C.eagleWhite, strokeWidth: 1.5, strokeLinecap: "round" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -10, cy: -44, r: 1.5, fill: BattleScene_C.featherRed }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: -10,
            y1: -24,
            x2: 4 + sineWave(frame, 0.22, 3) * 5,
            y2: -20,
            stroke: "#B8865A",
            strokeWidth: 2.5,
            strokeLinecap: "round"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: 4 + sineWave(frame, 0.22, 3) * 5,
            y1: -20,
            x2: 6 + sineWave(frame, 0.22, 3) * 5,
            y2: -38,
            stroke: BattleScene_C.woodWeapon,
            strokeWidth: 2,
            strokeLinecap: "round"
          }
        )
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(25, 0) scale(-1, 1)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -4, y1: -10, x2: -6, y2: 3, stroke: "#4A3828", strokeWidth: 3, strokeLinecap: "round" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: -10, x2: 5, y2: 3, stroke: "#5A4838", strokeWidth: 3, strokeLinecap: "round" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: -24, width: 10, height: 14, rx: 1, fill: BattleScene_C.steelMid, stroke: BattleScene_C.outline, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -28, r: 4, fill: "#C8A880", stroke: BattleScene_C.outline, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-6,-27 L-4,-29 L4,-29 L6,-27", fill: BattleScene_C.steelMid, stroke: BattleScene_C.outline, strokeWidth: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -22, x2: 12, y2: -18, stroke: "#C8A880", strokeWidth: 2.5, strokeLinecap: "round" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 12, y1: -18, x2: 14, y2: -32, stroke: BattleScene_C.steelLight, strokeWidth: 1.5 })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.6}, ${height * 0.72}) scale(0.65)`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 4, rx: 28, ry: 5, fill: "rgba(0,0,0,0.12)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -10, y1: -8, x2: -14, y2: 3, stroke: "#9A6E42", strokeWidth: 3, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -4, y1: -8, x2: 0, y2: 3, stroke: "#B8865A", strokeWidth: 3, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -7, y1: -8, x2: -5, y2: -22, stroke: "#B8865A", strokeWidth: 4.5, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -9, y: -20, width: 8, height: 10, rx: 1.5, fill: BattleScene_C.jaguarSpot, stroke: BattleScene_C.outline, strokeWidth: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -5, cy: -26, r: 4, fill: "#B8865A", stroke: BattleScene_C.outline, strokeWidth: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-9,-28 Q-10,-36 -5,-38 Q0,-36 1,-28", fill: BattleScene_C.jaguarSpot, stroke: BattleScene_C.outline, strokeWidth: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -5, y1: -18, x2: 8, y2: -16, stroke: "#B8865A", strokeWidth: 2.5, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 10, y1: -8, x2: 14, y2: 3, stroke: "#4A3828", strokeWidth: 3, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 16, y1: -8, x2: 18, y2: 3, stroke: "#5A4838", strokeWidth: 3, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 8, y: -22, width: 10, height: 14, rx: 1, fill: BattleScene_C.steelMid, stroke: BattleScene_C.outline, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 13, cy: -26, r: 4, fill: "#C8A880", stroke: BattleScene_C.outline, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M8,-25 L10,-27 L16,-27 L18,-25", fill: BattleScene_C.steelMid, stroke: BattleScene_C.outline, strokeWidth: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 13, y1: -18, x2: 4, y2: -16, stroke: "#C8A880", strokeWidth: 2.5, strokeLinecap: "round" })
    ] }),
    [
      { x: width * 0.05, y: height * 0.88, rx: 12, ry: 6 },
      { x: width * 0.15, y: height * 0.92, rx: 8, ry: 4 },
      { x: width * 0.32, y: height * 0.9, rx: 15, ry: 7 },
      { x: width * 0.48, y: height * 0.94, rx: 10, ry: 5 },
      { x: width * 0.62, y: height * 0.91, rx: 13, ry: 6 },
      { x: width * 0.78, y: height * 0.93, rx: 9, ry: 4.5 },
      { x: width * 0.88, y: height * 0.89, rx: 11, ry: 5.5 },
      { x: width * 0.95, y: height * 0.95, rx: 7, ry: 3.5 }
    ].map((rock, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${rock.x}, ${rock.y})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 0,
          cy: 0,
          rx: rock.rx,
          ry: rock.ry,
          fill: BattleScene_C.groundMid,
          stroke: BattleScene_C.outline,
          strokeWidth: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: -rock.rx * 0.2,
          cy: -rock.ry * 0.3,
          rx: rock.rx * 0.5,
          ry: rock.ry * 0.4,
          fill: BattleScene_C.groundLight,
          opacity: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: -rock.rx * 0.3,
          y1: rock.ry * 0.1,
          x2: rock.rx * 0.2,
          y2: rock.ry * 0.2,
          stroke: BattleScene_C.groundDark,
          strokeWidth: 0.4,
          opacity: 0.3
        }
      )
    ] }, `rock-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.7},${height * 0.85} Q${width * 0.75},${height * 0.84} ${width * 0.82},${height * 0.86}
        Q${width * 0.88},${height * 0.87} ${width * 0.95},${height * 0.86}`,
        fill: "none",
        stroke: BattleScene_C.mudDark,
        strokeWidth: 3,
        opacity: 0.2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.72},${height * 0.86} Q${width * 0.77},${height * 0.85} ${width * 0.84},${height * 0.87}
        Q${width * 0.9},${height * 0.88} ${width * 0.97},${height * 0.87}`,
        fill: "none",
        stroke: BattleScene_C.mudDark,
        strokeWidth: 3,
        opacity: 0.18
      }
    ),
    Array.from({ length: 15 }, (_, i) => {
      const cx = 80 + i * 131 % (width - 160);
      const cy = height * 0.82 + i * 47 % (height * 0.15);
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${cx},${cy} L${cx + 2},${cy - 3} L${cx + 4},${cy} L${cx + 2},${cy + 1} Z`,
          fill: BattleScene_C.obsidian,
          opacity: 0.2 + i % 3 * 0.05
        },
        `chip-${i}`
      );
    }),
    [
      { x: width * 0.25, y: height * 0.78, angle: -70 },
      { x: width * 0.42, y: height * 0.82, angle: -65 },
      { x: width * 0.58, y: height * 0.76, angle: -80 },
      { x: width * 0.74, y: height * 0.84, angle: -60 },
      { x: width * 0.36, y: height * 0.88, angle: -75 },
      { x: width * 0.66, y: height * 0.9, angle: -68 }
    ].map((arrow, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${arrow.x}, ${arrow.y}) rotate(${arrow.angle})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -18, stroke: BattleScene_C.woodWeapon, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-1.5,-18 L0,-22 L1.5,-18 Z", fill: BattleScene_C.obsidian }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -2, y1: -2, x2: -1, y2: 2, stroke: BattleScene_C.featherRed, strokeWidth: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 2, y1: -2, x2: 1, y2: 2, stroke: BattleScene_C.featherRed, strokeWidth: 0.8 })
    ] }, `arrow-${i}`)),
    Array.from({ length: 10 }, (_, i) => {
      const fx = 120 + i * 183 % (width - 240);
      const fy = height * 0.75 + i * 59 % (height * 0.18);
      const fcolor = [BattleScene_C.featherGreen, BattleScene_C.featherRed, BattleScene_C.featherBlue, BattleScene_C.eagleWhite][i % 4];
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${fx}, ${fy}) rotate(${i * 37 % 360})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M0,0 Q2,-4 1,-8 Q0,-6 -1,-8 Q-2,-4 0,0 Z`,
            fill: fcolor,
            opacity: 0.25
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -7, stroke: fcolor, strokeWidth: 0.3, opacity: 0.2 })
      ] }, `feather-${i}`);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.3, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: width * 0.85 + smokeDrift1 * 3,
          cy: height * 0.6,
          rx: 80,
          ry: 25,
          fill: BattleScene_C.smokeWhite
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: width * 0.9 + smokeDrift2 * 2,
          cy: height * 0.58,
          rx: 60,
          ry: 20,
          fill: BattleScene_C.smokeMid
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: width * 0.88 + smokeDrift3 * 2.5,
          cy: height * 0.62,
          rx: 70,
          ry: 22,
          fill: BattleScene_C.smokeLight
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.8},${height * 0.65}
        Q${width * 0.7 + smokeDrift1 * 4},${height * 0.6} ${width * 0.6 + smokeDrift1 * 8},${height * 0.58}
        Q${width * 0.5 + smokeDrift1 * 10},${height * 0.56} ${width * 0.4 + smokeDrift1 * 12},${height * 0.55}`,
        fill: "none",
        stroke: BattleScene_C.smokeWhite,
        strokeWidth: 30,
        strokeLinecap: "round",
        opacity: 0.1
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.85}, ${height * 0.75}) scale(-1, 1)`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 15, rx: 30, ry: 6, fill: "rgba(0,0,0,0.2)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -8, y1: 0, x2: -10, y2: 14, stroke: "#5A3A1A", strokeWidth: 3.5, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -2, y1: 0, x2: -4, y2: 14, stroke: "#6A4A2A", strokeWidth: 3.5, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-10,0 Q-8,-10 0,-18 Q8,-24 14,-28",
          fill: "none",
          stroke: "#6A4A2A",
          strokeWidth: 12,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 2,
          cy: -14,
          rx: 16,
          ry: 10,
          fill: "#6A4A2A",
          stroke: BattleScene_C.outline,
          strokeWidth: 0.8
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 10,
          y1: -22,
          x2: 14 + sineWave(frame, 0.25, 4) * 4,
          y2: -34,
          stroke: "#5A3A1A",
          strokeWidth: 3,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 12,
          y1: -20,
          x2: 18 + sineWave(frame, 0.25, 5) * 3,
          y2: -32,
          stroke: "#6A4A2A",
          strokeWidth: 3,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M10,-22 Q14,-32 12,-40", fill: "none", stroke: "#6A4A2A", strokeWidth: 6, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 12, cy: -44, rx: 4, ry: 5.5, fill: "#6A4A2A", stroke: BattleScene_C.outline, strokeWidth: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 14, cy: -40, rx: 2.5, ry: 2.5, fill: "#7A5A3A" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 10, cy: -46, r: 1, fill: BattleScene_C.outline }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M10,-48 L9,-52 L11,-48", fill: "#6A4A2A", stroke: BattleScene_C.outline, strokeWidth: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M10,-38 Q8,-44 10,-50", fill: "none", stroke: "#3A2010", strokeWidth: 2.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(2, -24)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -12, stroke: BattleScene_C.steelMid, strokeWidth: 4.5, strokeLinecap: "round" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -3.5, y: -10, width: 7, height: 8, rx: 1, fill: BattleScene_C.steelMid, stroke: BattleScene_C.outline, strokeWidth: 0.4 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -15, r: 3.5, fill: "#C8A880", stroke: BattleScene_C.outline, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-5,-14 L-3,-16 L3,-16 L5,-14", fill: BattleScene_C.steelMid, stroke: BattleScene_C.outline, strokeWidth: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 2, y1: -8, x2: 18, y2: -30, stroke: BattleScene_C.woodWeapon, strokeWidth: 2 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M18,-30 L17,-36 L19,-36 Z", fill: BattleScene_C.steelLight })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.5 - 220}, ${height * 0.88})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -6,
          y: -6,
          width: 452,
          height: 112,
          rx: 4,
          fill: "rgba(0,0,0,0.3)"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -10,
          y: -10,
          width: 460,
          height: 120,
          rx: 6,
          fill: BattleScene_C.boardFrame,
          stroke: BattleScene_C.outline,
          strokeWidth: 2
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 0,
          y: 0,
          width: 440,
          height: 100,
          rx: 3,
          fill: BattleScene_C.boardBg
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 0,
          y: 0,
          width: 440,
          height: 100,
          rx: 3,
          fill: BattleScene_C.boardStone,
          opacity: 0.15
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M20,0 L25,15 L22,30", fill: "none", stroke: BattleScene_C.outline, strokeWidth: 0.3, opacity: 0.2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M420,10 L415,25 L418,40", fill: "none", stroke: BattleScene_C.outline, strokeWidth: 0.3, opacity: 0.15 }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.3, children: [
        Array.from({ length: 22 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M${i * 20 + 5},2 L${i * 20 + 10},2 L${i * 20 + 10},6 L${i * 20 + 15},6 L${i * 20 + 15},2 L${i * 20 + 20},2`,
            fill: "none",
            stroke: BattleScene_C.gold,
            strokeWidth: 0.8
          },
          `bp-${i}`
        )),
        Array.from({ length: 22 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M${i * 20 + 5},98 L${i * 20 + 10},98 L${i * 20 + 10},94 L${i * 20 + 15},94 L${i * 20 + 15},98 L${i * 20 + 20},98`,
            fill: "none",
            stroke: BattleScene_C.gold,
            strokeWidth: 0.8
          },
          `bpb-${i}`
        ))
      ] }),
      boardText && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "text",
        {
          x: 220,
          y: 58,
          textAnchor: "middle",
          fill: BattleScene_C.chalk,
          fontSize: 36,
          fontFamily: "'Courier New', monospace",
          fontWeight: "bold",
          opacity: 0.9,
          children: boardText
        }
      )
    ] }),
    [
      { x: width * 0.08, y: height * 0.95 },
      { x: width * 0.22, y: height * 0.96 },
      { x: width * 0.45, y: height * 0.97 },
      { x: width * 0.68, y: height * 0.95 },
      { x: width * 0.85, y: height * 0.96 }
    ].map((pot, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${pot.x}, ${pot.y})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M-6,0 Q-8,-4 -5,-8 Q-2,-6 0,-8 Q3,-5 4,-3 L2,0 Z`,
          fill: "#A07040",
          stroke: BattleScene_C.outline,
          strokeWidth: 0.4,
          opacity: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -5, x2: 1, y2: -4, stroke: "#8A5A30", strokeWidth: 0.3, opacity: 0.2 })
    ] }, `pot-${i}`)),
    Array.from({ length: 12 }, (_, i) => {
      const bx = 60 + i * 167 % (width - 120);
      const by = height * 0.86 + i * 31 % (height * 0.1);
      return i % 3 === 0 ? /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: bx,
          cy: by,
          r: 2,
          fill: "#3A8A5A",
          opacity: 0.2,
          stroke: BattleScene_C.outline,
          strokeWidth: 0.2
        },
        `jade-${i}`
      ) : /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: bx,
          cy: by,
          rx: 1.5,
          ry: 1,
          fill: "#4A2A10",
          opacity: 0.15
        },
        `cacao-${i}`
      );
    }),
    [
      { x: width * 0.18, y: height * 0.84, color: BattleScene_C.cottonWhite },
      { x: width * 0.38, y: height * 0.88, color: BattleScene_C.spanishRed },
      { x: width * 0.56, y: height * 0.82, color: BattleScene_C.featherGreen },
      { x: width * 0.72, y: height * 0.86, color: BattleScene_C.fabricCream },
      { x: width * 0.84, y: height * 0.9, color: BattleScene_C.jaguarSpot }
    ].map((scrap, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${scrap.x},${scrap.y}
            Q${scrap.x + 4},${scrap.y - 3} ${scrap.x + 8},${scrap.y - 1}
            Q${scrap.x + 6},${scrap.y + 2} ${scrap.x + 2},${scrap.y + 1} Z`,
        fill: scrap.color,
        opacity: 0.15
      },
      `scrap-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { opacity: 0.3, children: Array.from({ length: 8 }, (_, i) => {
      const fx = width * 0.12 + i * 35;
      const fy = height * 0.6 + i * 1.5;
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${fx}, ${fy})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -5, stroke: BattleScene_C.cottonWhite, strokeWidth: 1.2, strokeLinecap: "round" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -6, r: 1.2, fill: "#B8865A" })
      ] }, `flee-${i}`);
    }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { opacity: 0.35, children: [
      { x: width * 0.15, y: height * 0.4 },
      { x: width * 0.55, y: height * 0.38 },
      { x: width * 0.8, y: height * 0.41 }
    ].map((canoe, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${canoe.x}, ${canoe.y + waterRipple * (i % 2 === 0 ? 1 : -1)})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-12,0 Q-14,-3 -10,-4 L10,-4 Q14,-3 12,0 Z",
          fill: BattleScene_C.woodWeapon,
          stroke: BattleScene_C.outline,
          strokeWidth: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -4, y1: -4, x2: -4, y2: -10, stroke: "#B8865A", strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -4, cy: -11, r: 1, fill: "#B8865A" })
    ] }, `canoe-${i}`)) }),
    Array.from({ length: 6 }, (_, i) => {
      const bx = width * 0.2 + i * width * 0.12;
      const baseBy = height * 0.15 + i % 3 * 30;
      const by = baseBy + sineWave(frame, 0.04, i * 2) * 8;
      const wingAngle = sineWave(frame, 0.06, i * 1.5) * 8;
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${bx}, ${by})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M0,0 Q-${6 + wingAngle},-${3 + wingAngle * 0.3} -${12 + wingAngle},${1 + wingAngle * 0.2}`,
            fill: "none",
            stroke: BattleScene_C.cloudDark,
            strokeWidth: 1.2,
            strokeLinecap: "round"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M0,0 Q${6 + wingAngle},-${3 + wingAngle * 0.3} ${12 + wingAngle},${1 + wingAngle * 0.2}`,
            fill: "none",
            stroke: BattleScene_C.cloudDark,
            strokeWidth: 1.2,
            strokeLinecap: "round"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 1, fill: BattleScene_C.cloudDark })
      ] }, `vulture-${i}`);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.25, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.32},${height * 0.54}
          Q${width * 0.3 + smokeDrift2 * 2},${height * 0.48} ${width * 0.28 + smokeDrift2 * 4},${height * 0.4}`,
          fill: "none",
          stroke: BattleScene_C.smokeMid,
          strokeWidth: 8,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.18},${height * 0.6}
          Q${width * 0.16 + smokeDrift3 * 1.5},${height * 0.54} ${width * 0.14 + smokeDrift3 * 3},${height * 0.46}`,
          fill: "none",
          stroke: BattleScene_C.smokeLight,
          strokeWidth: 6,
          strokeLinecap: "round"
        }
      )
    ] }),
    Array.from({ length: 8 }, (_, i) => {
      const sx = 150 + i * 223 % (width - 300);
      const sy = height * 0.8 + i * 37 % (height * 0.12);
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: sx, cy: sy, r: 3 + i % 3, fill: BattleScene_C.groundBloodWet, opacity: 0.12 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: sx + 4, cy: sy - 2, r: 1.5, fill: BattleScene_C.groundBlood, opacity: 0.1 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: sx - 3, cy: sy + 1, r: 1, fill: BattleScene_C.groundBlood, opacity: 0.08 })
      ] }, `splat-${i}`);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height,
        fill: "url(#bs-fireglow)",
        opacity: 0.2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height,
        fill: "url(#bs-vignette)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height: height * 0.15,
        fill: BattleScene_C.smokeDark,
        opacity: 0.15
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "bs-left-dark", x1: "0%", y1: "0%", x2: "15%", y2: "0%", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(10,5,0,0.25)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width: width * 0.2,
        height,
        fill: "url(#bs-left-dark)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "bs-right-dark", x1: "85%", y1: "0%", x2: "100%", y2: "0%", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(0,0,0,0)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(10,5,0,0.25)" })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * 0.8,
        y: 0,
        width: width * 0.2,
        height,
        fill: "url(#bs-right-dark)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "bs-bottom-dark", x1: "0%", y1: "80%", x2: "0%", y2: "100%", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(0,0,0,0)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(10,5,0,0.3)" })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.8,
        width,
        height: height * 0.2,
        fill: "url(#bs-bottom-dark)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height,
        fill: "rgba(180,80,20,0.04)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height,
        fill: "url(#bs-canvas)",
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.4,
        width,
        height: height * 0.5,
        fill: "url(#bs-dust-particles)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { opacity: 0.03, children: Array.from({ length: 30 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: i * 71 % width,
        y: i * 43 % height,
        width: 2,
        height: 2,
        fill: i % 2 === 0 ? "#FFF" : "#000"
      },
      `grain-${i}`
    )) })
  ] });
};
/* harmony default export */ const backgrounds_BattleScene = ((/* unused pure expression or super */ null && (BattleScene)));

;// ./src/backgrounds/Tenochtitlan.tsx





const Tenochtitlan_C = {
  // Sky
  skyZenith: "#1A3A6A",
  skyUpper: "#2A5A8A",
  skyMid: "#4A8AB8",
  skyLow: "#7AB8D8",
  skyHorizon: "#C8D8E8",
  skyWarm: "#E8D0B0",
  // Clouds
  cloudWhite: "#F0EEE8",
  cloudLight: "#D8D4C8",
  cloudMid: "#B8B0A0",
  cloudShadow: "#8A8478",
  cloudWarm: "#E8C8A0",
  cloudPink: "#E0B8B0",
  // Sun
  sunCore: "#FFF8E0",
  sunGlow: "rgba(255,220,140,0.3)",
  sunRay: "rgba(255,200,100,0.08)",
  sunRayBright: "rgba(255,210,120,0.12)",
  // Volcanoes
  volcanoFar: "#4A3A5A",
  volcanoMid: "#5A4A6A",
  volcanoNear: "#6A5A78",
  volcanoBase: "#7A6A88",
  snowBright: "#F0ECE8",
  snowMid: "#D8D0C8",
  snowShadow: "#B0A8A0",
  snowBlue: "#C0C8D8",
  // Mountains
  mountainFar: "#5A5068",
  mountainMid: "#6A6078",
  mountainNear: "#7A7088",
  mountainFoot: "#8A8098",
  // Lake
  lakeDeep: "#1A3040",
  lakeMid: "#2A4A5A",
  lakeLight: "#3A6070",
  lakeSurface: "#4A7888",
  lakeShallow: "#5A8898",
  lakeReflectSky: "rgba(120,180,220,0.15)",
  lakeReflectCity: "rgba(180,140,80,0.12)",
  lakeReflectMtn: "rgba(80,60,90,0.1)",
  lakeGlint: "rgba(255,240,200,0.2)",
  lakeRipple: "rgba(255,255,255,0.06)",
  // Chinampas
  chinampaDark: "#2A4A1A",
  chinampaMid: "#3A5A2A",
  chinampaLight: "#4A6A3A",
  chinampaEdge: "#5A4A2A",
  chinampaWater: "#3A5A5A",
  // Reeds
  reedDark: "#3A4A1A",
  reedLight: "#5A6A2A",
  reedTip: "#7A8A4A",
  // City - Templo Mayor
  templeStone: "#C8B898",
  templeShadow: "#8A7A60",
  templeLight: "#E0D0B0",
  templeRed: "#A04030",
  templeBlue: "#304080",
  templeStair: "#A08A68",
  templeStairShadow: "#7A6A4A",
  templeFireGlow: "rgba(255,140,40,0.3)",
  // City buildings
  buildingWhite: "#E8E0D0",
  buildingCream: "#D8C8A8",
  buildingShadow: "#A08A68",
  buildingDark: "#7A6A50",
  buildingRoof: "#8A6A40",
  buildingRoofDark: "#6A4A28",
  // Palaces
  palaceWhite: "#F0E8D8",
  palaceCream: "#E0D0B0",
  palaceGold: "#D4A020",
  palaceGoldLight: "#F0C840",
  palaceRed: "#B04030",
  palaceBlue: "#2A4080",
  // Causeways
  causewayStone: "#B0A088",
  causewayShadow: "#8A7A60",
  causewayEdge: "#9A8A70",
  causewayWall: "#A09078",
  // Aqueduct
  aqueductStone: "#B8A890",
  aqueductShadow: "#8A7A60",
  aqueductWater: "#5A8898",
  aqueductArch: "#A09078",
  // Canoes
  canoeWood: "#7A5030",
  canoeDark: "#5A3820",
  canoeLight: "#9A7040",
  // Market
  marketAwning1: "#C83020",
  marketAwning2: "#2050A0",
  marketAwning3: "#D4A020",
  marketAwning4: "#1A6A3A",
  // Smoke/Fire
  templeSmoke: "rgba(120,100,80,0.3)",
  templeFire: "#E08030",
  fireGlow: "rgba(255,140,40,0.15)",
  incenseSmoke: "rgba(160,150,140,0.2)",
  // Atmosphere
  fogNear: "rgba(180,200,220,0.15)",
  fogMid: "rgba(160,180,200,0.1)",
  fogFar: "rgba(140,160,180,0.08)",
  mistLake: "rgba(200,220,240,0.12)",
  godRay: "rgba(255,220,140,0.06)",
  godRayBright: "rgba(255,230,160,0.1)",
  haze: "rgba(180,180,200,0.06)",
  vignette: "rgba(20,15,30,0.3)",
  // Birds
  birdDark: "#2A2A3A",
  // Board
  boardStone: "#8A7A60",
  boardSurface: "#C8B898",
  boardFrame: "#6A5A40",
  boardText: "#2A1A0A",
  // Greenery
  treeDark: "#2A4A1A",
  treeMid: "#3A5A2A",
  treeLight: "#4A7A3A",
  treeHighlight: "#5A8A4A",
  cypressDark: "#1A3A1A",
  cypressMid: "#2A4A2A",
  // Water plants
  lilyPad: "#3A6A2A",
  lilyFlower: "#E0B0C0",
  // Outline
  outline: "#1A1A1A"
};
const Volcano = ({ x, baseY, peakY, width: w, snowLine, fill, snowIntensity }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M${x - w / 2},${baseY}
      Q${x - w * 0.15},${peakY + (baseY - peakY) * 0.3} ${x - w * 0.05},${peakY + 5}
      Q${x},${peakY} ${x + w * 0.05},${peakY + 5}
      Q${x + w * 0.15},${peakY + (baseY - peakY) * 0.3} ${x + w / 2},${baseY} Z`,
      fill
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M${x - w * 0.1},${peakY + 15}
      Q${x - w * 0.08},${peakY + (baseY - peakY) * 0.4} ${x - w * 0.2},${baseY}`,
      fill: "none",
      stroke: "rgba(0,0,0,0.06)",
      strokeWidth: 1.5
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M${x + w * 0.08},${peakY + 20}
      Q${x + w * 0.12},${peakY + (baseY - peakY) * 0.5} ${x + w * 0.25},${baseY}`,
      fill: "none",
      stroke: "rgba(0,0,0,0.05)",
      strokeWidth: 1
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M${x - w * 0.12},${snowLine}
      Q${x - w * 0.08},${peakY + 8} ${x - w * 0.04},${peakY + 4}
      Q${x},${peakY} ${x + w * 0.04},${peakY + 4}
      Q${x + w * 0.08},${peakY + 8} ${x + w * 0.12},${snowLine}
      Q${x + w * 0.06},${snowLine + 5} ${x},${snowLine + 8}
      Q${x - w * 0.06},${snowLine + 5} ${x - w * 0.12},${snowLine} Z`,
      fill: Tenochtitlan_C.snowBright,
      opacity: snowIntensity
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M${x},${peakY + 2}
      Q${x + w * 0.04},${peakY + 6} ${x + w * 0.1},${snowLine}
      Q${x + w * 0.05},${snowLine + 3} ${x},${snowLine + 6}
      Q${x - w * 0.02},${snowLine + 2} ${x},${peakY + 2} Z`,
      fill: Tenochtitlan_C.snowShadow,
      opacity: snowIntensity * 0.4
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M${x - w * 0.03},${peakY + 10}
      Q${x - w * 0.06},${peakY + 15} ${x - w * 0.08},${snowLine - 5}`,
      fill: "none",
      stroke: Tenochtitlan_C.snowBlue,
      strokeWidth: 2,
      opacity: snowIntensity * 0.3
    }
  )
] });
const SteppedPyramid = ({ x, y, w, h, steps, hasTemple, hasFire, fireFlicker, smokeOffset }) => {
  const stepH = h / steps;
  const stepInset = w / (steps * 2 + 2);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
    Array.from({ length: steps }, (_, i) => {
      const sw = w - i * stepInset * 2;
      const sx = -sw / 2;
      const sy = -i * stepH;
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: sx,
            y: sy - stepH,
            width: sw,
            height: stepH,
            fill: i % 2 === 0 ? Tenochtitlan_C.templeStone : Tenochtitlan_C.templeLight,
            stroke: Tenochtitlan_C.templeShadow,
            strokeWidth: 0.5
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: sx,
            y: sy - 3,
            width: sw,
            height: 3,
            fill: Tenochtitlan_C.templeStairShadow,
            opacity: 0.3
          }
        ),
        Array.from({ length: Math.floor(sw / 15) }, (_2, j) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: sx + 5 + j * 15,
            y1: sy - stepH + 2,
            x2: sx + 5 + j * 15,
            y2: sy - 2,
            stroke: Tenochtitlan_C.templeShadow,
            strokeWidth: 0.3,
            opacity: 0.15
          },
          `sl-${j}`
        ))
      ] }, `step-${i}`);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: -w * 0.08,
        y: -h,
        width: w * 0.16,
        height: h,
        fill: Tenochtitlan_C.templeStair,
        stroke: Tenochtitlan_C.templeStairShadow,
        strokeWidth: 0.5
      }
    ),
    Array.from({ length: steps * 3 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: -w * 0.08,
        y1: -h + i * (h / (steps * 3)),
        x2: w * 0.08,
        y2: -h + i * (h / (steps * 3)),
        stroke: Tenochtitlan_C.templeStairShadow,
        strokeWidth: 0.3,
        opacity: 0.3
      },
      `stair-${i}`
    )),
    hasTemple && /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(0, ${-h})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -w * 0.2,
          y: -stepH * 1.5,
          width: w * 0.18,
          height: stepH * 1.5,
          fill: Tenochtitlan_C.templeBlue,
          stroke: Tenochtitlan_C.outline,
          strokeWidth: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${-w * 0.22},${-stepH * 1.5} L${-w * 0.11},${-stepH * 2.2} L${-w * 0.01},${-stepH * 1.5} Z`,
          fill: Tenochtitlan_C.templeBlue,
          stroke: Tenochtitlan_C.outline,
          strokeWidth: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: w * 0.02,
          y: -stepH * 1.5,
          width: w * 0.18,
          height: stepH * 1.5,
          fill: Tenochtitlan_C.templeRed,
          stroke: Tenochtitlan_C.outline,
          strokeWidth: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${w * 0.01},${-stepH * 1.5} L${w * 0.11},${-stepH * 2.2} L${w * 0.21},${-stepH * 1.5} Z`,
          fill: Tenochtitlan_C.templeRed,
          stroke: Tenochtitlan_C.outline,
          strokeWidth: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -w * 0.15,
          y: -stepH * 0.8,
          width: w * 0.08,
          height: stepH * 0.8,
          fill: Tenochtitlan_C.outline,
          opacity: 0.6
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: w * 0.07,
          y: -stepH * 0.8,
          width: w * 0.08,
          height: stepH * 0.8,
          fill: Tenochtitlan_C.outline,
          opacity: 0.6
        }
      )
    ] }),
    hasFire && /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(0, ${-h - stepH * 1.2})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 0,
          cy: 6,
          rx: 8 + fireFlicker * 4,
          ry: 4 + fireFlicker * 2,
          fill: Tenochtitlan_C.fireGlow,
          opacity: 0.4 + fireFlicker * 0.2
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M-4,2 Q-5,${-6 - fireFlicker * 8} 0,${-12 - fireFlicker * 12}
            Q5,${-6 - fireFlicker * 8} 4,2`,
          fill: Tenochtitlan_C.templeFire,
          opacity: 0.7
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M-2,2 Q-3,${-4 - fireFlicker * 5} 0,${-8 - fireFlicker * 8}
            Q3,${-4 - fireFlicker * 5} 2,2`,
          fill: "#FFCC60",
          opacity: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M0,${-12 - fireFlicker * 12}
            Q${smokeOffset * 3},${-25 - fireFlicker * 10} ${smokeOffset * 6},${-40}
            Q${smokeOffset * 8},${-55} ${smokeOffset * 10},${-70}`,
          fill: "none",
          stroke: Tenochtitlan_C.templeSmoke,
          strokeWidth: 6,
          strokeLinecap: "round",
          opacity: 0.4
        }
      )
    ] })
  ] });
};
const BuildingCluster = ({ x, y, count, maxH, spread }) => /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(${x}, ${y})`, children: Array.from({ length: count }, (_, i) => {
  const bw = 8 + i * 7 % 12;
  const bh = maxH * 0.4 + i * 13 % (maxH * 0.6);
  const bx = -spread / 2 + i * spread / count;
  const isWhite = i % 3 !== 0;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: bx,
        y: -bh,
        width: bw,
        height: bh,
        fill: isWhite ? Tenochtitlan_C.buildingWhite : Tenochtitlan_C.buildingCream,
        stroke: Tenochtitlan_C.buildingShadow,
        strokeWidth: 0.3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: bx - 1,
        y: -bh - 2,
        width: bw + 2,
        height: 3,
        fill: Tenochtitlan_C.buildingRoof,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: bx + bw * 0.3,
        y: -bh * 0.3,
        width: bw * 0.3,
        height: bh * 0.3,
        fill: Tenochtitlan_C.buildingDark,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: bx + bw * 0.7,
        y: -bh,
        width: bw * 0.3,
        height: bh,
        fill: Tenochtitlan_C.buildingShadow,
        opacity: 0.15
      }
    )
  ] }, `bld-${i}`);
}) });
const Canoe = ({ x, y, scale, hasPaddler, bob, loaded = false }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y + bob}) scale(${scale})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 4, rx: 16, ry: 2.5, fill: "rgba(0,0,0,0.08)" }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-18,0 Q-20,-4 -16,-5 L16,-5 Q20,-4 18,0 Q14,3 0,3 Q-14,3 -18,0 Z",
      fill: Tenochtitlan_C.canoeWood,
      stroke: Tenochtitlan_C.canoeDark,
      strokeWidth: 0.6
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -14, y1: -3, x2: 14, y2: -3, stroke: Tenochtitlan_C.canoeLight, strokeWidth: 0.4, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -12, y1: -1, x2: 12, y2: -1, stroke: Tenochtitlan_C.canoeDark, strokeWidth: 0.3, opacity: 0.2 }),
  loaded && /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -8, y: -7, width: 6, height: 4, rx: 1, fill: Tenochtitlan_C.buildingCream, opacity: 0.6 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 2, cy: -7, r: 2.5, fill: "#3A5A2A", opacity: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 5, y: -8, width: 5, height: 5, rx: 0.5, fill: "#A07040", opacity: 0.5 })
  ] }),
  hasPaddler && /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(-2, -5)", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -8, stroke: "#B8865A", strokeWidth: 2, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -10, r: 2.5, fill: "#B8865A", stroke: Tenochtitlan_C.outline, strokeWidth: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -2, y1: -11, x2: 2, y2: -11, stroke: "#E8E0D0", strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: -6, x2: 8, y2: 2, stroke: Tenochtitlan_C.canoeWood, strokeWidth: 1.2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M7,0 L9,4 L7,4 Z", fill: Tenochtitlan_C.canoeDark })
  ] })
] });
const WillowTree = ({ x, y, scale, sway }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: "M-3,0 Q-2,-15 -1,-30 Q0,-35 1,-30 Q2,-15 3,0 Z",
      fill: "#5A3A20",
      stroke: Tenochtitlan_C.outline,
      strokeWidth: 0.4
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -1, y1: -25, x2: -10 + sway, y2: -20, stroke: "#5A3A20", strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 1, y1: -28, x2: 12 + sway, y2: -22, stroke: "#5A3A20", strokeWidth: 1.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -30, x2: -5 + sway * 0.5, y2: -38, stroke: "#5A3A20", strokeWidth: 1 }),
  [-12, -8, -4, 0, 4, 8, 12].map((dx, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M${dx + sway * 0.3},${-28 - Math.abs(dx) * 0.3}
          Q${dx * 0.8 + sway * 0.8},${-15} ${dx * 0.6 + sway},${-2 + Math.abs(dx) * 0.2}`,
      fill: "none",
      stroke: i % 2 === 0 ? Tenochtitlan_C.treeMid : Tenochtitlan_C.treeLight,
      strokeWidth: 2,
      strokeLinecap: "round",
      opacity: 0.7
    },
    `frond-${i}`
  )),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "ellipse",
    {
      cx: sway * 0.5,
      cy: -30,
      rx: 14,
      ry: 8,
      fill: Tenochtitlan_C.treeMid,
      opacity: 0.4
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "ellipse",
    {
      cx: sway * 0.3 - 2,
      cy: -28,
      rx: 10,
      ry: 6,
      fill: Tenochtitlan_C.treeLight,
      opacity: 0.3
    }
  )
] });
const ReedCluster = ({ x, y, count, maxH, sway }) => /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(${x}, ${y})`, children: Array.from({ length: count }, (_, i) => {
  const rh = maxH * 0.6 + i * 7 % (maxH * 0.4);
  const rx = -count * 1.5 + i * 3;
  const rSway = sway * (0.5 + i % 3 * 0.25);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${rx},0 Q${rx + rSway * 0.5},${-rh * 0.5} ${rx + rSway},${-rh}`,
        fill: "none",
        stroke: i % 2 === 0 ? Tenochtitlan_C.reedDark : Tenochtitlan_C.reedLight,
        strokeWidth: 1.5,
        strokeLinecap: "round"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: rx + rSway,
        cy: -rh - 3,
        rx: 1,
        ry: 3,
        fill: Tenochtitlan_C.reedTip,
        opacity: 0.6
      }
    )
  ] }, `reed-${i}`);
}) });
const Tenochtitlan = ({
  boardText = "",
  width = 1920,
  height = 1080
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const cloudDrift1 = sineWave(frame, 0.015) * 20;
  const cloudDrift2 = sineWave(frame, 0.02, 1) * 15;
  const cloudDrift3 = sineWave(frame, 0.012, 2.5) * 25;
  const waterRipple1 = sineWave(frame, 0.08) * 2;
  const waterRipple2 = sineWave(frame, 0.1, 1) * 1.5;
  const waterRipple3 = sineWave(frame, 0.06, 2) * 2.5;
  const waterGlint = sineWave(frame, 0.12) * 0.5 + 0.5;
  const fireFlicker1 = sineWave(frame, 0.15) * 0.5 + 0.5;
  const fireFlicker2 = sineWave(frame, 0.18, 1.2) * 0.5 + 0.5;
  const smokeDrift1 = sineWave(frame, 0.03, 0.5) * 6;
  const smokeDrift2 = sineWave(frame, 0.035, 1.5) * 8;
  const treeSway = sineWave(frame, 0.04) * 3;
  const reedSway = sineWave(frame, 0.06, 1) * 2;
  const birdFloat1 = sineWave(frame, 0.05) * 6;
  const birdFloat2 = sineWave(frame, 0.04, 2) * 5;
  const wingBeat = sineWave(frame, 0.08) * 6;
  const canoeBob1 = sineWave(frame, 0.07) * 1.5;
  const canoeBob2 = sineWave(frame, 0.08, 1) * 1.2;
  const canoeBob3 = sineWave(frame, 0.06, 2) * 1.8;
  const godRayPulse = sineWave(frame, 0.025) * 0.03 + 0.06;
  const mistFloat = sineWave(frame, 0.02) * 12;
  const flagSway = sineWave(frame, 0.1) * 3;
  const lilyBob = sineWave(frame, 0.05, 0.5) * 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("svg", { viewBox: `0 0 ${width} ${height}`, width, height, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("defs", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "tn-sky", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: Tenochtitlan_C.skyZenith }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "25%", stopColor: Tenochtitlan_C.skyUpper }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "50%", stopColor: Tenochtitlan_C.skyMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "75%", stopColor: Tenochtitlan_C.skyLow }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "90%", stopColor: Tenochtitlan_C.skyHorizon }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: Tenochtitlan_C.skyWarm })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "tn-lake", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: Tenochtitlan_C.lakeSurface }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "30%", stopColor: Tenochtitlan_C.lakeMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "70%", stopColor: Tenochtitlan_C.lakeDeep }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: Tenochtitlan_C.lakeDeep })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "tn-sunglow", cx: "50%", cy: "18%", r: "40%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: Tenochtitlan_C.sunGlow }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "50%", stopColor: "rgba(255,220,140,0.1)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "tn-vignette", cx: "50%", cy: "45%", r: "70%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(0,0,0,0)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "75%", stopColor: "rgba(0,0,0,0)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: Tenochtitlan_C.vignette })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "tn-godray", x1: "50%", y1: "0%", x2: "50%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: Tenochtitlan_C.godRayBright }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "50%", stopColor: Tenochtitlan_C.godRay }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("pattern", { id: "tn-water-ripple", x: "0", y: "0", width: "80", height: "12", patternUnits: "userSpaceOnUse", children: /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,6 Q20,3 40,6 Q60,9 80,6", fill: "none", stroke: Tenochtitlan_C.lakeRipple, strokeWidth: 0.5 }) }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("pattern", { id: "tn-causeway-stone", x: "0", y: "0", width: "16", height: "8", patternUnits: "userSpaceOnUse", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { width: "16", height: "8", fill: Tenochtitlan_C.causewayStone }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "0", y1: "4", x2: "16", y2: "4", stroke: Tenochtitlan_C.causewayShadow, strokeWidth: 0.3, opacity: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "8", y1: "0", x2: "8", y2: "4", stroke: Tenochtitlan_C.causewayShadow, strokeWidth: 0.3, opacity: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "0", y1: "4", x2: "0", y2: "8", stroke: Tenochtitlan_C.causewayShadow, strokeWidth: 0.3, opacity: 0.2 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("pattern", { id: "tn-canvas", x: "0", y: "0", width: "4", height: "4", patternUnits: "userSpaceOnUse", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { width: "4", height: "4", fill: "rgba(0,0,0,0)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "0", y1: "0", x2: "4", y2: "0", stroke: "rgba(0,0,0,0.008)", strokeWidth: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "0", y1: "2", x2: "4", y2: "2", stroke: "rgba(0,0,0,0.006)", strokeWidth: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "0", y1: "0", x2: "0", y2: "4", stroke: "rgba(0,0,0,0.008)", strokeWidth: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "2", y1: "0", x2: "2", y2: "4", stroke: "rgba(0,0,0,0.006)", strokeWidth: 0.3 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "tn-mtn-haze", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(0,0,0,0)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: Tenochtitlan_C.fogFar })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height: height * 0.5, fill: "url(#tn-sky)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height: height * 0.55, fill: "url(#tn-sunglow)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "circle",
      {
        cx: width * 0.5,
        cy: height * 0.15,
        r: 30,
        fill: Tenochtitlan_C.sunCore,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "circle",
      {
        cx: width * 0.5,
        cy: height * 0.15,
        r: 60,
        fill: Tenochtitlan_C.sunGlow,
        opacity: 0.25
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "circle",
      {
        cx: width * 0.5,
        cy: height * 0.15,
        r: 100,
        fill: "rgba(255,220,140,0.08)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.35, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 300 + cloudDrift1,
          cy: 50,
          rx: 250,
          ry: 15,
          fill: Tenochtitlan_C.cloudLight
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 800 + cloudDrift2 * 0.5,
          cy: 40,
          rx: 300,
          ry: 12,
          fill: Tenochtitlan_C.cloudWhite
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 1400 + cloudDrift3 * 0.3,
          cy: 55,
          rx: 220,
          ry: 14,
          fill: Tenochtitlan_C.cloudLight
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.5, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 150 + cloudDrift2,
          cy: 100,
          rx: 200,
          ry: 35,
          fill: Tenochtitlan_C.cloudMid
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 170 + cloudDrift2,
          cy: 95,
          rx: 150,
          ry: 25,
          fill: Tenochtitlan_C.cloudLight,
          opacity: 0.6
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 180 + cloudDrift2,
          cy: 90,
          rx: 80,
          ry: 15,
          fill: Tenochtitlan_C.cloudWhite,
          opacity: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 650 + cloudDrift1 * 0.7,
          cy: 80,
          rx: 240,
          ry: 40,
          fill: Tenochtitlan_C.cloudMid
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 670 + cloudDrift1 * 0.7,
          cy: 75,
          rx: 180,
          ry: 28,
          fill: Tenochtitlan_C.cloudLight,
          opacity: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 690 + cloudDrift1 * 0.7,
          cy: 72,
          rx: 100,
          ry: 16,
          fill: Tenochtitlan_C.cloudWhite,
          opacity: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 1200 + cloudDrift3 * 0.6,
          cy: 95,
          rx: 260,
          ry: 38,
          fill: Tenochtitlan_C.cloudMid
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 1220 + cloudDrift3 * 0.6,
          cy: 90,
          rx: 190,
          ry: 26,
          fill: Tenochtitlan_C.cloudLight,
          opacity: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 1650 + cloudDrift1 * 0.4,
          cy: 85,
          rx: 180,
          ry: 30,
          fill: Tenochtitlan_C.cloudMid
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 1660 + cloudDrift1 * 0.4,
          cy: 80,
          rx: 120,
          ry: 20,
          fill: Tenochtitlan_C.cloudWhite,
          opacity: 0.4
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.4, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 400 + cloudDrift3,
          cy: 160,
          rx: 300,
          ry: 28,
          fill: Tenochtitlan_C.cloudShadow
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 420 + cloudDrift3,
          cy: 155,
          rx: 200,
          ry: 18,
          fill: Tenochtitlan_C.cloudWarm,
          opacity: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 1e3 + cloudDrift2 * 0.8,
          cy: 150,
          rx: 280,
          ry: 25,
          fill: Tenochtitlan_C.cloudShadow
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 1020 + cloudDrift2 * 0.8,
          cy: 145,
          rx: 180,
          ry: 16,
          fill: Tenochtitlan_C.cloudPink,
          opacity: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 1600 + cloudDrift1 * 0.6,
          cy: 165,
          rx: 250,
          ry: 22,
          fill: Tenochtitlan_C.cloudShadow
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: godRayPulse, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "polygon",
        {
          points: `${width * 0.48},${height * 0.05} ${width * 0.42},${height * 0.5} ${width * 0.46},${height * 0.5}`,
          fill: "url(#tn-godray)"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "polygon",
        {
          points: `${width * 0.52},${height * 0.05} ${width * 0.56},${height * 0.55} ${width * 0.6},${height * 0.55}`,
          fill: "url(#tn-godray)"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "polygon",
        {
          points: `${width * 0.44},${height * 0.08} ${width * 0.36},${height * 0.48} ${width * 0.4},${height * 0.48}`,
          fill: "url(#tn-godray)"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "polygon",
        {
          points: `${width * 0.56},${height * 0.08} ${width * 0.64},${height * 0.5} ${width * 0.68},${height * 0.5}`,
          fill: "url(#tn-godray)"
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${height * 0.32}
        Q${width * 0.05},${height * 0.28} ${width * 0.1},${height * 0.3}
        Q${width * 0.15},${height * 0.25} ${width * 0.22},${height * 0.29}
        L${width * 0.22},${height * 0.38} L0,${height * 0.38} Z`,
        fill: Tenochtitlan_C.mountainFar
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.78},${height * 0.32}
        Q${width * 0.84},${height * 0.26} ${width * 0.9},${height * 0.29}
        Q${width * 0.95},${height * 0.25} ${width},${height * 0.3}
        L${width},${height * 0.38} L${width * 0.78},${height * 0.38} Z`,
        fill: Tenochtitlan_C.mountainFar
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      Volcano,
      {
        x: width * 0.32,
        baseY: height * 0.38,
        peakY: height * 0.06,
        width: width * 0.28,
        snowLine: height * 0.14,
        fill: Tenochtitlan_C.volcanoMid,
        snowIntensity: 0.7
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.56},${height * 0.38}
          Q${width * 0.6},${height * 0.22} ${width * 0.63},${height * 0.14}
          Q${width * 0.65},${height * 0.16} ${width * 0.67},${height * 0.12}
          Q${width * 0.69},${height * 0.15} ${width * 0.71},${height * 0.13}
          Q${width * 0.73},${height * 0.17} ${width * 0.76},${height * 0.2}
          Q${width * 0.8},${height * 0.26} ${width * 0.84},${height * 0.38}`,
          fill: Tenochtitlan_C.volcanoNear
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.62},${height * 0.17}
          Q${width * 0.63},${height * 0.145} ${width * 0.635},${height * 0.15}
          Q${width * 0.64},${height * 0.17} ${width * 0.625},${height * 0.19}`,
          fill: Tenochtitlan_C.snowBright,
          opacity: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.665},${height * 0.14}
          Q${width * 0.67},${height * 0.125} ${width * 0.675},${height * 0.13}
          Q${width * 0.68},${height * 0.15} ${width * 0.67},${height * 0.16}`,
          fill: Tenochtitlan_C.snowBright,
          opacity: 0.55
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.7},${height * 0.15}
          Q${width * 0.71},${height * 0.135} ${width * 0.715},${height * 0.14}
          Q${width * 0.72},${height * 0.16} ${width * 0.705},${height * 0.17}`,
          fill: Tenochtitlan_C.snowMid,
          opacity: 0.45
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${height * 0.38}
        Q${width * 0.15},${height * 0.34} ${width * 0.25},${height * 0.36}
        Q${width * 0.4},${height * 0.32} ${width * 0.5},${height * 0.35}
        Q${width * 0.6},${height * 0.33} ${width * 0.75},${height * 0.36}
        Q${width * 0.88},${height * 0.34} ${width},${height * 0.37}
        L${width},${height * 0.42} L0,${height * 0.42} Z`,
        fill: Tenochtitlan_C.mountainFoot,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.25,
        width,
        height: height * 0.18,
        fill: "url(#tn-mtn-haze)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.36,
        width,
        height: height * 0.64,
        fill: "url(#tn-lake)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.38,
        width,
        height: height * 0.6,
        fill: "url(#tn-water-ripple)",
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.36,
        width,
        height: height * 0.15,
        fill: Tenochtitlan_C.lakeReflectSky
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.12, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.2},${height * 0.42}
          Q${width * 0.32},${height * 0.52} ${width * 0.44},${height * 0.42}
          L${width * 0.44},${height * 0.48} L${width * 0.2},${height * 0.48} Z`,
          fill: Tenochtitlan_C.lakeReflectMtn
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.56},${height * 0.42}
          Q${width * 0.7},${height * 0.55} ${width * 0.84},${height * 0.42}
          L${width * 0.84},${height * 0.5} L${width * 0.56},${height * 0.5} Z`,
          fill: Tenochtitlan_C.lakeReflectMtn
        }
      )
    ] }),
    Array.from({ length: 20 }, (_, i) => {
      const gx = 80 + i * 97 % (width - 160);
      const gy = height * 0.4 + i * 31 % (height * 0.25);
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: gx - 3,
          y1: gy + waterRipple1 * (i % 2 === 0 ? 1 : -1),
          x2: gx + 3,
          y2: gy + waterRipple1 * (i % 2 === 0 ? 1 : -1),
          stroke: Tenochtitlan_C.lakeGlint,
          strokeWidth: 0.8,
          opacity: (waterGlint * 0.3 + 0.1) * (i % 3 === 0 ? 1.2 : 0.8)
        },
        `glint-${i}`
      );
    }),
    Array.from({ length: 15 }, (_, i) => {
      const ry = height * 0.42 + i * (height * 0.04);
      const rOffset = [waterRipple1, waterRipple2, waterRipple3][i % 3];
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${60 + i * 20},${ry + rOffset}
              Q${width * 0.25 + i * 10},${ry + rOffset - 1} ${width * 0.5},${ry + rOffset}
              Q${width * 0.75 - i * 10},${ry + rOffset + 1} ${width - 60 - i * 20},${ry + rOffset}`,
          fill: "none",
          stroke: Tenochtitlan_C.lakeRipple,
          strokeWidth: 0.6,
          opacity: 0.3 - i * 0.015
        },
        `ripple-${i}`
      );
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${height * 0.38}
        Q${width * 0.1},${height * 0.39} ${width * 0.18},${height * 0.38}
        L${width * 0.18},${height * 0.42} L0,${height * 0.42} Z`,
        fill: Tenochtitlan_C.chinampaEdge,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.82},${height * 0.38}
        Q${width * 0.9},${height * 0.39} ${width},${height * 0.38}
        L${width},${height * 0.42} L${width * 0.82},${height * 0.42} Z`,
        fill: Tenochtitlan_C.chinampaEdge,
        opacity: 0.4
      }
    ),
    Array.from({ length: 12 }, (_, i) => {
      const tx = 20 + i * 15;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: tx,
          y1: height * 0.39,
          x2: tx + treeSway * 0.3,
          y2: height * 0.35,
          stroke: Tenochtitlan_C.treeDark,
          strokeWidth: 2,
          strokeLinecap: "round",
          opacity: 0.3
        },
        `dtree-l-${i}`
      );
    }),
    Array.from({ length: 12 }, (_, i) => {
      const tx = width * 0.84 + i * 14;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: tx,
          y1: height * 0.39,
          x2: tx + treeSway * 0.3,
          y2: height * 0.35,
          stroke: Tenochtitlan_C.treeDark,
          strokeWidth: 2,
          strokeLinecap: "round",
          opacity: 0.3
        },
        `dtree-r-${i}`
      );
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.25},${height * 0.42}
        L${width * 0.15},${height * 0.52}
        L${width * 0.08},${height * 0.6}
        L0,${height * 0.72}
        L0,${height * 0.74}
        L${width * 0.1},${height * 0.62}
        L${width * 0.17},${height * 0.54}
        L${width * 0.27},${height * 0.42} Z`,
        fill: "url(#tn-causeway-stone)",
        stroke: Tenochtitlan_C.causewayEdge,
        strokeWidth: 0.8
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.25},${height * 0.42}
        L${width * 0.15},${height * 0.52}
        L${width * 0.08},${height * 0.6} L0,${height * 0.72}`,
        fill: "none",
        stroke: Tenochtitlan_C.causewayShadow,
        strokeWidth: 1.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.72},${height * 0.42}
        L${width * 0.8},${height * 0.52}
        L${width * 0.88},${height * 0.62}
        L${width},${height * 0.74}
        L${width},${height * 0.76}
        L${width * 0.9},${height * 0.64}
        L${width * 0.82},${height * 0.54}
        L${width * 0.74},${height * 0.42} Z`,
        fill: "url(#tn-causeway-stone)",
        stroke: Tenochtitlan_C.causewayEdge,
        strokeWidth: 0.8
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.74},${height * 0.42}
        L${width * 0.82},${height * 0.54}
        L${width * 0.9},${height * 0.64} L${width},${height * 0.76}`,
        fill: "none",
        stroke: Tenochtitlan_C.causewayShadow,
        strokeWidth: 1.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.48},${height * 0.43}
        L${width * 0.46},${height * 0.55}
        L${width * 0.44},${height * 0.68}
        L${width * 0.42},${height * 0.85}
        L${width * 0.58},${height * 0.85}
        L${width * 0.56},${height * 0.68}
        L${width * 0.54},${height * 0.55}
        L${width * 0.52},${height * 0.43} Z`,
        fill: "url(#tn-causeway-stone)",
        stroke: Tenochtitlan_C.causewayEdge,
        strokeWidth: 0.8
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { opacity: 0.7, children: Array.from({ length: 8 }, (_, i) => {
      const ax = width * 0.22 - i * 18;
      const ay = height * 0.43 + i * 12;
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${ax}, ${ay})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M-6,0 L-6,-8 Q0,-14 6,-8 L6,0",
            fill: "none",
            stroke: Tenochtitlan_C.aqueductStone,
            strokeWidth: 2
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: -7,
            y: -10,
            width: 14,
            height: 3,
            fill: Tenochtitlan_C.aqueductStone,
            stroke: Tenochtitlan_C.aqueductShadow,
            strokeWidth: 0.5
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: -5,
            y: -9,
            width: 10,
            height: 1.5,
            fill: Tenochtitlan_C.aqueductWater,
            opacity: 0.5
          }
        )
      ] }, `aq-${i}`);
    }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.5,
        cy: height * 0.44,
        rx: width * 0.22,
        ry: height * 0.06,
        fill: Tenochtitlan_C.chinampaEdge,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.5,
        cy: height * 0.43,
        rx: width * 0.21,
        ry: height * 0.055,
        fill: Tenochtitlan_C.buildingCream,
        opacity: 0.6
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BuildingCluster, { x: width * 0.35, y: height * 0.41, count: 8, maxH: 18, spread: 80 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BuildingCluster, { x: width * 0.65, y: height * 0.41, count: 8, maxH: 16, spread: 70 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BuildingCluster, { x: width * 0.42, y: height * 0.4, count: 6, maxH: 14, spread: 50 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BuildingCluster, { x: width * 0.58, y: height * 0.4, count: 6, maxH: 15, spread: 55 }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.38}, ${height * 0.4})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -30,
          y: -20,
          width: 60,
          height: 20,
          fill: Tenochtitlan_C.palaceWhite,
          stroke: Tenochtitlan_C.buildingShadow,
          strokeWidth: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -32,
          y: -22,
          width: 64,
          height: 3,
          fill: Tenochtitlan_C.palaceCream,
          stroke: Tenochtitlan_C.buildingShadow,
          strokeWidth: 0.3
        }
      ),
      Array.from({ length: 5 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: -22 + i * 11,
          y1: -19,
          x2: -22 + i * 11,
          y2: -2,
          stroke: Tenochtitlan_C.buildingShadow,
          strokeWidth: 1
        },
        `col-${i}`
      )),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -30, y1: -10, x2: 30, y2: -10, stroke: Tenochtitlan_C.palaceGold, strokeWidth: 0.8, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -8, y: -12, width: 16, height: 12, fill: Tenochtitlan_C.buildingDark, opacity: 0.3 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      SteppedPyramid,
      {
        x: width * 0.5,
        y: height * 0.41,
        w: 100,
        h: 80,
        steps: 5,
        hasTemple: true,
        hasFire: true,
        fireFlicker: fireFlicker1,
        smokeOffset: smokeDrift1
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      SteppedPyramid,
      {
        x: width * 0.6,
        y: height * 0.415,
        w: 50,
        h: 40,
        steps: 4,
        hasTemple: false,
        hasFire: true,
        fireFlicker: fireFlicker2,
        smokeOffset: smokeDrift2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(${width * 0.45}, ${height * 0.44})`, children: Array.from({ length: 6 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: -20 + i * 14,
        y: -6,
        width: 10,
        height: 4,
        rx: 1,
        fill: [Tenochtitlan_C.marketAwning1, Tenochtitlan_C.marketAwning2, Tenochtitlan_C.marketAwning3, Tenochtitlan_C.marketAwning4, Tenochtitlan_C.marketAwning1, Tenochtitlan_C.marketAwning3][i],
        opacity: 0.5
      },
      `awn-${i}`
    )) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * 0.44,
        y: height * 0.41,
        width: width * 0.12,
        height: height * 0.025,
        fill: Tenochtitlan_C.causewayStone,
        opacity: 0.3
      }
    ),
    [width * 0.38, width * 0.5, width * 0.62].map((fx, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${fx}, ${height * 0.37})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -12, stroke: Tenochtitlan_C.canoeWood, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M0,-12 Q${4 + flagSway},-10 ${6 + flagSway},-8 L${4 + flagSway},-6 L0,-8 Z`,
          fill: [Tenochtitlan_C.marketAwning1, Tenochtitlan_C.marketAwning3, Tenochtitlan_C.marketAwning2][i],
          opacity: 0.6
        }
      )
    ] }, `flag-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.62}, ${height * 0.41})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -25,
          y: -16,
          width: 50,
          height: 16,
          fill: Tenochtitlan_C.palaceWhite,
          stroke: Tenochtitlan_C.buildingShadow,
          strokeWidth: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -27,
          y: -18,
          width: 54,
          height: 3,
          fill: Tenochtitlan_C.palaceCream,
          stroke: Tenochtitlan_C.buildingShadow,
          strokeWidth: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -15,
          y: -8,
          width: 30,
          height: 8,
          fill: Tenochtitlan_C.palaceCream,
          opacity: 0.4
        }
      ),
      Array.from({ length: 4 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: -18 + i * 12,
          y1: -15,
          x2: -18 + i * 12,
          y2: -2,
          stroke: Tenochtitlan_C.buildingShadow,
          strokeWidth: 0.8
        },
        `pcol-${i}`
      )),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: -25,
          y1: -7,
          x2: 25,
          y2: -7,
          stroke: Tenochtitlan_C.palaceGold,
          strokeWidth: 0.6,
          opacity: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: -25,
          y1: -16,
          x2: 25,
          y2: -16,
          stroke: Tenochtitlan_C.palaceRed,
          strokeWidth: 1,
          opacity: 0.4
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.44}, ${height * 0.425})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M0,-3 L30,-3 L30,3 L0,3 Z",
          fill: Tenochtitlan_C.templeStone,
          stroke: Tenochtitlan_C.templeShadow,
          strokeWidth: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -6,
          y: -6,
          width: 6,
          height: 12,
          fill: Tenochtitlan_C.templeStone,
          stroke: Tenochtitlan_C.templeShadow,
          strokeWidth: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 30,
          y: -6,
          width: 6,
          height: 12,
          fill: Tenochtitlan_C.templeStone,
          stroke: Tenochtitlan_C.templeShadow,
          strokeWidth: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 15, cy: -3, r: 2, fill: "none", stroke: Tenochtitlan_C.templeShadow, strokeWidth: 0.5 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.53}, ${height * 0.42})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 0,
          y: -8,
          width: 16,
          height: 8,
          fill: Tenochtitlan_C.canoeWood,
          stroke: Tenochtitlan_C.outline,
          strokeWidth: 0.4
        }
      ),
      Array.from({ length: 3 }, (_, row) => Array.from({ length: 4 }, (_2, col) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: 2 + col * 4,
          cy: -2 - row * 3,
          r: 1.2,
          fill: "#E8E0D0",
          stroke: Tenochtitlan_C.outline,
          strokeWidth: 0.2,
          opacity: 0.5
        },
        `skull-${row}-${col}`
      )))
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BuildingCluster, { x: width * 0.32, y: height * 0.435, count: 10, maxH: 12, spread: 90 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BuildingCluster, { x: width * 0.68, y: height * 0.435, count: 10, maxH: 11, spread: 85 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BuildingCluster, { x: width * 0.38, y: height * 0.445, count: 7, maxH: 10, spread: 60 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BuildingCluster, { x: width * 0.62, y: height * 0.445, count: 7, maxH: 10, spread: 55 }),
    [
      { x: width * 0.34, y: height * 0.44 },
      { x: width * 0.66, y: height * 0.44 },
      { x: width * 0.4, y: height * 0.435 }
    ].map((garden, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: garden.x,
          cy: garden.y,
          rx: 12,
          ry: 4,
          fill: Tenochtitlan_C.treeMid,
          opacity: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: garden.x,
          y1: garden.y,
          x2: garden.x + treeSway * 0.3,
          y2: garden.y - 8,
          stroke: Tenochtitlan_C.treeDark,
          strokeWidth: 1.5,
          strokeLinecap: "round",
          opacity: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: garden.x + treeSway * 0.3,
          cy: garden.y - 10,
          rx: 6,
          ry: 4,
          fill: Tenochtitlan_C.treeLight,
          opacity: 0.3
        }
      )
    ] }, `garden-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.2, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.38},${height * 0.38}
          Q${width * 0.37 + smokeDrift2 * 0.5},${height * 0.34} ${width * 0.36 + smokeDrift2},${height * 0.3}`,
          fill: "none",
          stroke: Tenochtitlan_C.incenseSmoke,
          strokeWidth: 4,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.62},${height * 0.39}
          Q${width * 0.63 + smokeDrift1 * 0.4},${height * 0.35} ${width * 0.64 + smokeDrift1 * 0.8},${height * 0.31}`,
          fill: "none",
          stroke: Tenochtitlan_C.incenseSmoke,
          strokeWidth: 3,
          strokeLinecap: "round"
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.35, children: [
      Array.from({ length: 6 }, (_, i) => {
        const fx = width * 0.24 - i * 12;
        const fy = height * 0.42 + i * 10;
        return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${fx}, ${fy})`, children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -4, stroke: "#B8865A", strokeWidth: 1, strokeLinecap: "round" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -5, r: 1, fill: "#B8865A" })
        ] }, `cwalk-l-${i}`);
      }),
      Array.from({ length: 5 }, (_, i) => {
        const fx = width * 0.73 + i * 14;
        const fy = height * 0.42 + i * 11;
        return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${fx}, ${fy})`, children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -4, stroke: "#B8865A", strokeWidth: 1, strokeLinecap: "round" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -5, r: 1, fill: "#B8865A" })
        ] }, `cwalk-r-${i}`);
      }),
      Array.from({ length: 8 }, (_, i) => {
        const fx = width * 0.49 + i % 2 * 8;
        const fy = height * 0.48 + i * 15;
        return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${fx}, ${fy})`, children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -5, stroke: "#B8865A", strokeWidth: 1.2, strokeLinecap: "round" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -6, r: 1.2, fill: "#B8865A" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -1.5, y1: -3, x2: 1.5, y2: -3, stroke: "#E8E0D0", strokeWidth: 0.8 })
        ] }, `cwalk-c-${i}`);
      })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.3},${height * 0.445}
        Q${width * 0.4},${height * 0.45} ${width * 0.5},${height * 0.445}
        Q${width * 0.6},${height * 0.45} ${width * 0.7},${height * 0.445}`,
        fill: "none",
        stroke: Tenochtitlan_C.causewayStone,
        strokeWidth: 2,
        opacity: 0.3
      }
    ),
    [width * 0.35, width * 0.45, width * 0.55, width * 0.65].map((dx, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: dx,
          y1: height * 0.445,
          x2: dx,
          y2: height * 0.46,
          stroke: Tenochtitlan_C.canoeWood,
          strokeWidth: 2,
          opacity: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: dx - 4,
          y: height * 0.46,
          width: 8,
          height: 2,
          fill: Tenochtitlan_C.canoeWood,
          opacity: 0.3
        }
      )
    ] }, `dock-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.1, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: width * 0.5,
          cy: height * 0.52,
          rx: width * 0.2,
          ry: height * 0.04,
          fill: Tenochtitlan_C.lakeReflectCity
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: width * 0.47,
          y: height * 0.46,
          width: width * 0.06,
          height: height * 0.06,
          fill: Tenochtitlan_C.lakeReflectCity,
          opacity: 0.5
        }
      )
    ] }),
    [
      { x: width * 0.28, y: height * 0.48, w: 40, h: 14 },
      { x: width * 0.3, y: height * 0.52, w: 35, h: 12 },
      { x: width * 0.25, y: height * 0.55, w: 45, h: 15 },
      { x: width * 0.7, y: height * 0.48, w: 38, h: 13 },
      { x: width * 0.72, y: height * 0.53, w: 42, h: 14 },
      { x: width * 0.68, y: height * 0.57, w: 36, h: 12 }
    ].map((ch, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${ch.x}, ${ch.y})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -2,
          y: -2,
          width: ch.w + 4,
          height: ch.h + 4,
          fill: Tenochtitlan_C.chinampaWater,
          opacity: 0.3,
          rx: 1
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 0,
          y: 0,
          width: ch.w,
          height: ch.h,
          fill: Tenochtitlan_C.chinampaMid,
          stroke: Tenochtitlan_C.chinampaEdge,
          strokeWidth: 0.5,
          rx: 1
        }
      ),
      Array.from({ length: Math.floor(ch.w / 8) }, (_, j) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 4 + j * 8,
          y1: 2,
          x2: 4 + j * 8,
          y2: ch.h - 2,
          stroke: Tenochtitlan_C.chinampaLight,
          strokeWidth: 2,
          opacity: 0.4
        },
        `crop-${j}`
      )),
      i % 2 === 0 && /* @__PURE__ */ (0,jsx_runtime.jsx)(WillowTree, { x: ch.w + 3, y: ch.h / 2, scale: 0.3, sway: treeSway * 0.5 })
    ] }, `chinampa-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      Canoe,
      {
        x: width * 0.2,
        y: height * 0.5,
        scale: 0.7,
        hasPaddler: true,
        bob: canoeBob1,
        loaded: true
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      Canoe,
      {
        x: width * 0.35,
        y: height * 0.55,
        scale: 0.6,
        hasPaddler: true,
        bob: canoeBob2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      Canoe,
      {
        x: width * 0.65,
        y: height * 0.53,
        scale: 0.65,
        hasPaddler: true,
        bob: canoeBob3,
        loaded: true
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      Canoe,
      {
        x: width * 0.8,
        y: height * 0.5,
        scale: 0.55,
        hasPaddler: true,
        bob: canoeBob1
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      Canoe,
      {
        x: width * 0.15,
        y: height * 0.62,
        scale: 0.8,
        hasPaddler: true,
        bob: canoeBob2,
        loaded: true
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      Canoe,
      {
        x: width * 0.85,
        y: height * 0.6,
        scale: 0.75,
        hasPaddler: true,
        bob: canoeBob3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      Canoe,
      {
        x: width * 0.4,
        y: height * 0.46,
        scale: 0.3,
        hasPaddler: true,
        bob: canoeBob1 * 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      Canoe,
      {
        x: width * 0.6,
        y: height * 0.47,
        scale: 0.25,
        hasPaddler: true,
        bob: canoeBob2 * 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${height * 0.78}
        Q${width * 0.15},${height * 0.76} ${width * 0.3},${height * 0.78}
        Q${width * 0.5},${height * 0.8} ${width * 0.7},${height * 0.78}
        Q${width * 0.85},${height * 0.76} ${width},${height * 0.78}
        L${width},${height} L0,${height} Z`,
        fill: Tenochtitlan_C.chinampaEdge
      }
    ),
    Array.from({ length: 20 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${i * (width / 20)},${height * 0.79 + i % 3 * 2}
            Q${i * (width / 20) + 30},${height * 0.78 + i % 2 * 3} ${(i + 1) * (width / 20)},${height * 0.79}`,
        fill: "none",
        stroke: Tenochtitlan_C.chinampaDark,
        strokeWidth: 0.5,
        opacity: 0.15
      },
      `shore-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ReedCluster, { x: width * 0.05, y: height * 0.78, count: 8, maxH: 35, sway: reedSway }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ReedCluster, { x: width * 0.12, y: height * 0.77, count: 6, maxH: 30, sway: reedSway * 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ReedCluster, { x: width * 0.88, y: height * 0.77, count: 7, maxH: 32, sway: reedSway * 0.9 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ReedCluster, { x: width * 0.95, y: height * 0.78, count: 9, maxH: 38, sway: reedSway }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ReedCluster, { x: width * 0.35, y: height * 0.79, count: 5, maxH: 25, sway: reedSway * 0.7 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ReedCluster, { x: width * 0.65, y: height * 0.79, count: 5, maxH: 28, sway: reedSway * 0.6 }),
    [
      { x: width * 0.08, y: height * 0.76 },
      { x: width * 0.15, y: height * 0.74 },
      { x: width * 0.82, y: height * 0.75 },
      { x: width * 0.92, y: height * 0.76 },
      { x: width * 0.38, y: height * 0.77 },
      { x: width * 0.62, y: height * 0.76 }
    ].map((lily, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${lily.x}, ${lily.y + lilyBob})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 5, ry: 3, fill: Tenochtitlan_C.lilyPad, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 L2,-3 L0,0", fill: "none", stroke: Tenochtitlan_C.chinampaDark, strokeWidth: 0.3 }),
      i % 3 === 0 && /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 2, cy: -2, r: 2, fill: Tenochtitlan_C.lilyFlower, opacity: 0.4 })
    ] }, `lily-${i}`)),
    Array.from({ length: 25 }, (_, i) => {
      const px = 30 + i * 79 % (width - 60);
      const py = height * 0.8 + i * 31 % (height * 0.12);
      const pr = 1.5 + i % 4 * 0.8;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: px,
          cy: py,
          r: pr,
          fill: i % 3 === 0 ? Tenochtitlan_C.causewayStone : Tenochtitlan_C.chinampaEdge,
          opacity: 0.15 + i % 3 * 0.05
        },
        `pebble-${i}`
      );
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${height * 0.84}
        Q${width * 0.15},${height * 0.82} ${width * 0.3},${height * 0.84}
        Q${width * 0.5},${height * 0.86} ${width * 0.7},${height * 0.84}
        Q${width * 0.85},${height * 0.82} ${width},${height * 0.84}`,
        fill: "none",
        stroke: Tenochtitlan_C.causewayStone,
        strokeWidth: 8,
        opacity: 0.12,
        strokeLinecap: "round"
      }
    ),
    Array.from({ length: 15 }, (_, i) => {
      const fx = 40 + i * 131 % (width - 80);
      const fy = height * 0.8 + i * 23 % (height * 0.1);
      const fColors = ["#E06060", "#E0E040", "#A060C0", "#60A0E0", "#E0A040"];
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${fx}, ${fy})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: 0,
            y1: 0,
            x2: treeSway * 0.2,
            y2: -6 - i % 3 * 2,
            stroke: Tenochtitlan_C.reedDark,
            strokeWidth: 0.8
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "circle",
          {
            cx: treeSway * 0.2,
            cy: -7 - i % 3 * 2,
            r: 1.5,
            fill: fColors[i % 5],
            opacity: 0.4
          }
        )
      ] }, `flower-${i}`);
    }),
    Array.from({ length: 20 }, (_, i) => {
      const gx = 20 + i * 103 % (width - 40);
      const gy = height * 0.79 + i * 17 % (height * 0.08);
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${gx}, ${gy})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: 0,
            y1: 0,
            x2: -2 + reedSway * 0.3,
            y2: -5,
            stroke: Tenochtitlan_C.chinampaLight,
            strokeWidth: 0.8,
            strokeLinecap: "round",
            opacity: 0.4
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: 2,
            y1: 0,
            x2: 3 + reedSway * 0.3,
            y2: -6,
            stroke: Tenochtitlan_C.chinampaMid,
            strokeWidth: 0.8,
            strokeLinecap: "round",
            opacity: 0.35
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: -1,
            y1: 0,
            x2: 0 + reedSway * 0.2,
            y2: -4,
            stroke: Tenochtitlan_C.chinampaLight,
            strokeWidth: 0.7,
            strokeLinecap: "round",
            opacity: 0.3
          }
        )
      ] }, `grass-${i}`);
    }),
    [
      { x: width * 0.2, y: height * 0.73 },
      { x: width * 0.78, y: height * 0.74 },
      { x: width * 0.55, y: height * 0.75 }
    ].map((duck, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${duck.x}, ${duck.y + canoeBob1 * 0.5})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M4,1 Q8,0 12,1", fill: "none", stroke: Tenochtitlan_C.lakeRipple, strokeWidth: 0.5, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 4, ry: 2, fill: "#5A4A30", opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -3, cy: -2, r: 1.5, fill: "#2A5A2A", opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -4.5, y1: -2, x2: -6, y2: -1.5, stroke: "#D4A020", strokeWidth: 0.5, opacity: 0.4 })
    ] }, `duck-${i}`)),
    waterGlint > 0.8 && /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.4}, ${height * 0.65})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M0,0 Q-3,-4 -1,-6 Q1,-4 3,-3 Q1,-2 0,0 Z",
          fill: "#8A9A8A",
          opacity: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 1, rx: 4, ry: 1.5, fill: "none", stroke: Tenochtitlan_C.lakeRipple, strokeWidth: 0.5, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 1, rx: 7, ry: 2.5, fill: "none", stroke: Tenochtitlan_C.lakeRipple, strokeWidth: 0.3, opacity: 0.2 })
    ] }),
    [
      { x: width * 0.08, y: height * 0.78, rx: 10, ry: 5 },
      { x: width * 0.22, y: height * 0.79, rx: 8, ry: 4 },
      { x: width * 0.42, y: height * 0.78, rx: 12, ry: 5.5 },
      { x: width * 0.58, y: height * 0.79, rx: 7, ry: 3.5 },
      { x: width * 0.76, y: height * 0.78, rx: 11, ry: 5 },
      { x: width * 0.92, y: height * 0.79, rx: 9, ry: 4 }
    ].map((rock, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${rock.x}, ${rock.y})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 0,
          cy: 0,
          rx: rock.rx,
          ry: rock.ry,
          fill: Tenochtitlan_C.mountainFoot,
          opacity: 0.35,
          stroke: Tenochtitlan_C.outline,
          strokeWidth: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: -rock.rx * 0.2,
          cy: -rock.ry * 0.3,
          rx: rock.rx * 0.4,
          ry: rock.ry * 0.3,
          fill: Tenochtitlan_C.causewayStone,
          opacity: 0.15
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: rock.rx * 0.1,
          cy: rock.ry * 0.2,
          rx: rock.rx * 0.3,
          ry: rock.ry * 0.2,
          fill: Tenochtitlan_C.chinampaDark,
          opacity: 0.15
        }
      )
    ] }, `frock-${i}`)),
    Array.from({ length: 4 }, (_, i) => {
      const dx = width * 0.15 + i * width * 0.2;
      const dy = height * 0.72 + sineWave(frame, 0.06, i * 3) * 5;
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${dx}, ${dy})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: 0, x2: 3, y2: 0, stroke: "#4080A0", strokeWidth: 0.5, opacity: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: 0,
            y1: 0,
            x2: -2 + sineWave(frame, 0.15, i) * 2,
            y2: -2,
            stroke: "rgba(180,220,255,0.3)",
            strokeWidth: 0.3
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: 0,
            y1: 0,
            x2: 2 + sineWave(frame, 0.15, i + 1) * 2,
            y2: -2,
            stroke: "rgba(180,220,255,0.3)",
            strokeWidth: 0.3
          }
        )
      ] }, `dfly-${i}`);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WillowTree, { x: width * 0.03, y: height * 0.78, scale: 1.2, sway: treeSway }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WillowTree, { x: width * 0.97, y: height * 0.77, scale: 1.1, sway: treeSway * 0.9 }),
    [width * 0.18, width * 0.82].map((cx, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${cx}, ${height * 0.78})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -30, stroke: "#3A2A10", strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M-4,${-8} Q0,${-35 + treeSway * 0.5} 4,${-8}`,
          fill: Tenochtitlan_C.cypressDark,
          opacity: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M-3,${-10} Q0,${-32 + treeSway * 0.5} 3,${-10}`,
          fill: Tenochtitlan_C.cypressMid,
          opacity: 0.4
        }
      )
    ] }, `cypress-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecCrowdLayer, { config: AZTEC_CROWD_CONFIGS.tenochtitlan }),
    Array.from({ length: 8 }, (_, i) => {
      const bx = width * 0.15 + i * width * 0.1;
      const by = height * 0.2 + i % 3 * 25 + birdFloat1 * (i % 2 === 0 ? 1 : -0.5);
      const wAngle = wingBeat * (i % 2 === 0 ? 1 : -1);
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${bx}, ${by})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M0,0 Q-${5 + wAngle},-${2 + wAngle * 0.3} -${10 + wAngle},${wAngle * 0.3}`,
            fill: "none",
            stroke: Tenochtitlan_C.birdDark,
            strokeWidth: 1,
            strokeLinecap: "round",
            opacity: 0.4
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M0,0 Q${5 + wAngle},-${2 + wAngle * 0.3} ${10 + wAngle},${wAngle * 0.3}`,
            fill: "none",
            stroke: Tenochtitlan_C.birdDark,
            strokeWidth: 1,
            strokeLinecap: "round",
            opacity: 0.4
          }
        )
      ] }, `bird-${i}`);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.1}, ${height * 0.75})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -10, stroke: "#8A8A7A", strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -10, x2: 0, y2: -18, stroke: "#E8E0D0", strokeWidth: 2, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -20, r: 2, fill: "#E8E0D0", stroke: Tenochtitlan_C.outline, strokeWidth: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 2, y1: -20, x2: 6, y2: -19, stroke: "#D4A020", strokeWidth: 0.8 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.2 + mistFloat,
        cy: height * 0.55,
        rx: 180,
        ry: 20,
        fill: Tenochtitlan_C.mistLake,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.5 - mistFloat * 0.5,
        cy: height * 0.5,
        rx: 220,
        ry: 25,
        fill: Tenochtitlan_C.mistLake,
        opacity: 0.3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.8 + mistFloat * 0.7,
        cy: height * 0.53,
        rx: 160,
        ry: 18,
        fill: Tenochtitlan_C.mistLake,
        opacity: 0.35
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.15 + mistFloat * 0.5,
        cy: height * 0.8,
        rx: 200,
        ry: 25,
        fill: Tenochtitlan_C.fogNear,
        opacity: 0.25
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.85 - mistFloat * 0.3,
        cy: height * 0.82,
        rx: 180,
        ry: 22,
        fill: Tenochtitlan_C.fogNear,
        opacity: 0.2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.3,
        width,
        height: height * 0.12,
        fill: Tenochtitlan_C.haze,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.5 - 220}, ${height * 0.86})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -6,
          y: -6,
          width: 452,
          height: 112,
          rx: 4,
          fill: "rgba(0,0,0,0.25)"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -10,
          y: -10,
          width: 460,
          height: 120,
          rx: 6,
          fill: Tenochtitlan_C.boardFrame,
          stroke: Tenochtitlan_C.outline,
          strokeWidth: 2
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 0,
          y: 0,
          width: 440,
          height: 100,
          rx: 3,
          fill: Tenochtitlan_C.boardSurface
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 0,
          y: 0,
          width: 440,
          height: 100,
          rx: 3,
          fill: Tenochtitlan_C.boardStone,
          opacity: 0.12
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M15,0 L20,18 L17,35", fill: "none", stroke: Tenochtitlan_C.outline, strokeWidth: 0.3, opacity: 0.15 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M425,5 L420,22 L423,42", fill: "none", stroke: Tenochtitlan_C.outline, strokeWidth: 0.3, opacity: 0.12 }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.3, children: [
        Array.from({ length: 22 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M${i * 20 + 5},2 L${i * 20 + 10},2 L${i * 20 + 10},6 L${i * 20 + 15},6 L${i * 20 + 15},2`,
            fill: "none",
            stroke: Tenochtitlan_C.palaceGold,
            strokeWidth: 0.8
          },
          `bf-${i}`
        )),
        Array.from({ length: 22 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M${i * 20 + 5},98 L${i * 20 + 10},98 L${i * 20 + 10},94 L${i * 20 + 15},94 L${i * 20 + 15},98`,
            fill: "none",
            stroke: Tenochtitlan_C.palaceGold,
            strokeWidth: 0.8
          },
          `bfb-${i}`
        ))
      ] }),
      boardText && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "text",
        {
          x: 220,
          y: 58,
          textAnchor: "middle",
          fill: Tenochtitlan_C.boardText,
          fontSize: 36,
          fontFamily: "'Courier New', monospace",
          fontWeight: "bold",
          opacity: 0.85,
          children: boardText
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.08, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.25},${height * 0.43}
          L${width * 0.15},${height * 0.53}
          L${width * 0.08},${height * 0.61} L0,${height * 0.73}
          L0,${height * 0.75}
          L${width * 0.1},${height * 0.63}
          L${width * 0.17},${height * 0.55}
          L${width * 0.27},${height * 0.43} Z`,
          fill: Tenochtitlan_C.lakeDeep
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.74},${height * 0.43}
          L${width * 0.82},${height * 0.55}
          L${width * 0.9},${height * 0.65} L${width},${height * 0.77}
          L${width},${height * 0.79}
          L${width * 0.92},${height * 0.67}
          L${width * 0.84},${height * 0.57}
          L${width * 0.76},${height * 0.43} Z`,
          fill: Tenochtitlan_C.lakeDeep
        }
      )
    ] }),
    Array.from({ length: 10 }, (_, i) => {
      const lx = 100 + i * 191 % (width - 200);
      const ly = height * 0.5 + i * 47 % (height * 0.2);
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: lx + waterRipple2 * (i % 2 === 0 ? 1 : -1),
          cy: ly + waterRipple1 * 0.5,
          rx: 1.5,
          ry: 0.8,
          fill: i % 3 === 0 ? Tenochtitlan_C.chinampaLight : Tenochtitlan_C.reedDark,
          opacity: 0.15,
          transform: `rotate(${i * 23 % 180}, ${lx}, ${ly})`
        },
        `leaf-${i}`
      );
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.12, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.25},${height * 0.56}
          Q${width * 0.27},${height * 0.54} ${width * 0.29},${height * 0.56}
          Q${width * 0.27},${height * 0.58} ${width * 0.25},${height * 0.56}`,
          fill: "none",
          stroke: Tenochtitlan_C.canoeWood,
          strokeWidth: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.73},${height * 0.54}
          Q${width * 0.75},${height * 0.52} ${width * 0.77},${height * 0.54}
          Q${width * 0.75},${height * 0.56} ${width * 0.73},${height * 0.54}`,
          fill: "none",
          stroke: Tenochtitlan_C.canoeWood,
          strokeWidth: 0.5
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.3,
        cy: height * 0.55,
        rx: 80,
        ry: 20,
        fill: Tenochtitlan_C.lakeShallow,
        opacity: 0.06
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.7,
        cy: height * 0.58,
        rx: 60,
        ry: 15,
        fill: Tenochtitlan_C.lakeShallow,
        opacity: 0.05
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.5,
        cy: height * 0.65,
        rx: 100,
        ry: 25,
        fill: Tenochtitlan_C.lakeDeep,
        opacity: 0.04
      }
    ),
    Array.from({ length: 6 }, (_, i) => {
      const crx = width * 0.47 + i % 2 * 12;
      const cry = height * 0.56 + i * 18;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: crx - 4,
          y1: cry + waterRipple2,
          x2: crx + 4,
          y2: cry + waterRipple2,
          stroke: Tenochtitlan_C.lakeReflectCity,
          strokeWidth: 1.5,
          opacity: 0.08
        },
        `cref-${i}`
      );
    }),
    Array.from({ length: 8 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.1 + i * width * 0.1},${height * 0.48 + i % 3 * 20 + waterRipple3}
            Q${width * 0.15 + i * width * 0.1},${height * 0.47 + i % 3 * 20 + waterRipple3}
            ${width * 0.2 + i * width * 0.1},${height * 0.48 + i % 3 * 20 + waterRipple3}`,
        fill: "none",
        stroke: Tenochtitlan_C.lakeGlint,
        strokeWidth: 0.4,
        opacity: 0.1
      },
      `wind-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height,
        fill: "rgba(255,220,140,0.03)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height,
        fill: "url(#tn-vignette)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "tn-left-dark", x1: "0%", y1: "0%", x2: "12%", y2: "0%", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(15,10,25,0.2)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width: width * 0.15,
        height,
        fill: "url(#tn-left-dark)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "tn-right-dark", x1: "88%", y1: "0%", x2: "100%", y2: "0%", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(0,0,0,0)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(15,10,25,0.2)" })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * 0.85,
        y: 0,
        width: width * 0.15,
        height,
        fill: "url(#tn-right-dark)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "tn-top-dark", x1: "0%", y1: "0%", x2: "0%", y2: "10%", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(10,15,35,0.15)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height: height * 0.15,
        fill: "url(#tn-top-dark)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.36,
        width,
        height: height * 0.42,
        fill: `rgba(${100 + Math.floor(waterGlint * 30)},${160 + Math.floor(waterGlint * 20)},${200 + Math.floor(waterGlint * 15)},0.02)`
      }
    ),
    Array.from({ length: 15 }, (_, i) => {
      const px = width * 0.35 + i * 71 % (width * 0.3);
      const py = height * 0.1 + i * 53 % (height * 0.35);
      const pSize = 0.5 + i % 3 * 0.3;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: px + sineWave(frame, 0.02, i) * 3,
          cy: py + sineWave(frame, 0.015, i + 1) * 2,
          r: pSize,
          fill: Tenochtitlan_C.sunCore,
          opacity: 0.08 + i % 3 * 0.02
        },
        `dust-${i}`
      );
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "tn-bottom", x1: "0%", y1: "85%", x2: "0%", y2: "100%", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(0,0,0,0)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(15,10,5,0.2)" })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.85,
        width,
        height: height * 0.15,
        fill: "url(#tn-bottom)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height,
        fill: "url(#tn-canvas)",
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { opacity: 0.02, children: Array.from({ length: 20 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: i * 103 % width,
        y: i * 67 % height,
        width: 1.5,
        height: 1.5,
        fill: i % 2 === 0 ? "#FFF" : "#000"
      },
      `grain-${i}`
    )) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width: width * 0.5,
        height,
        fill: "rgba(40,60,120,0.02)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * 0.5,
        y: 0,
        width: width * 0.5,
        height,
        fill: "rgba(200,160,80,0.02)"
      }
    )
  ] });
};
/* harmony default export */ const backgrounds_Tenochtitlan = ((/* unused pure expression or super */ null && (Tenochtitlan)));

;// ./src/backgrounds/AztecMarket.tsx





const AztecMarket_C = {
  // Sky
  skyTop: "#2A5A8A",
  skyMid: "#5A90B8",
  skyLow: "#8AB8D0",
  skyHorizon: "#C8D8E0",
  // Clouds
  cloudWhite: "#F0EEE8",
  cloudLight: "#E0D8C8",
  cloudMid: "#C0B8A8",
  cloudShadow: "#9A9488",
  // Sun
  sunGlow: "rgba(255,220,140,0.2)",
  sunWarm: "rgba(255,200,100,0.08)",
  // Temple (background)
  templeStone: "#C8B898",
  templeShadow: "#8A7A60",
  templeLight: "#E0D0B0",
  templeRed: "#A04030",
  templeBlue: "#304080",
  templeStair: "#A08A68",
  templeStairShadow: "#7A6A4A",
  // Market ground (stone pavement)
  paveDark: "#7A6A50",
  paveMid: "#9A8A68",
  paveLight: "#B0A080",
  paveJoint: "#6A5A40",
  paveWet: "#6A6048",
  // Market stalls
  stallWood: "#7A5030",
  stallWoodDark: "#5A3820",
  stallWoodLight: "#9A6840",
  stallPost: "#6A4828",
  stallRope: "#9B8968",
  // Awnings
  awningRed: "#C83020",
  awningBlue: "#2050A0",
  awningGold: "#D4A020",
  awningGreen: "#1A6A3A",
  awningWhite: "#E8E0D0",
  awningCream: "#D8C8A8",
  awningStripe: "#B04030",
  // Textiles
  textileRed: "#C02020",
  textileBlue: "#2040B0",
  textileGreen: "#1A6A2A",
  textileGold: "#D4A020",
  textilePurple: "#6A2080",
  textileWhite: "#F0E8D8",
  textileOrange: "#D06020",
  textilePink: "#D06080",
  // Goods
  cacaoBean: "#4A2A10",
  jadeGreen: "#3A8A5A",
  jadeDark: "#2A6A3A",
  turquoise: "#40B0B0",
  obsidian: "#2A2A3A",
  obsidianShine: "#4A4A6A",
  gold: "#D4A020",
  goldLight: "#F0C840",
  copper: "#B87040",
  pottery: "#B07040",
  potteryDark: "#8A5028",
  potteryRed: "#C04830",
  // Food
  maizeGold: "#E8C040",
  maizeGreen: "#5A8A30",
  tomatoRed: "#D03020",
  chiliRed: "#B82020",
  chiliGreen: "#3A6A1A",
  squashOrange: "#D08030",
  squashGreen: "#4A7A2A",
  avocadoGreen: "#3A5A1A",
  beanBrown: "#6A4A20",
  // Animals
  turkeyBrown: "#5A3A1A",
  turkeyRed: "#C03020",
  dogTan: "#B89060",
  parrotGreen: "#1A8A2A",
  parrotRed: "#D02020",
  parrotBlue: "#2040C0",
  cageWood: "#7A5A30",
  // Featherwork
  featherGreen: "#1A6B3A",
  featherRed: "#B02020",
  featherBlue: "#2040A0",
  featherGold: "#D4A020",
  quetzalGreen: "#00AA44",
  // Smoke/dust
  cookSmoke: "rgba(140,120,90,0.25)",
  dustLight: "rgba(160,140,100,0.2)",
  dustMid: "rgba(120,100,70,0.15)",
  incenseGray: "rgba(160,150,140,0.2)",
  // Atmosphere
  fogNear: "rgba(200,190,170,0.12)",
  warmGlow: "rgba(255,200,120,0.06)",
  vignette: "rgba(30,20,10,0.3)",
  // Board
  boardWood: "#5A3820",
  boardSurface: "#7A5A38",
  boardText: "#E8D8C0",
  // People colors
  skin: "#B8865A",
  skinDark: "#9A6E42",
  cotton: "#E8E0D0",
  cottonBlue: "#3B6B8A",
  // Drain channel
  drainStone: "#6A5A40",
  drainWater: "#5A7A6A",
  // Outline
  outline: "#1A1A1A"
};
const MarketStall = ({ x, y, w, awningColor, awningColor2, hasPots, hasTextiles, hasFood, hasFeathers, hasJade }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -50, stroke: AztecMarket_C.stallPost, strokeWidth: 3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: w, y1: 0, x2: w, y2: -50, stroke: AztecMarket_C.stallPost, strokeWidth: 3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -48, x2: w + 3, y2: -48, stroke: AztecMarket_C.stallWood, strokeWidth: 2.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M-5,-48 Q${w * 0.25},-42 ${w * 0.5},-46 Q${w * 0.75},-42 ${w + 5},-48
      L${w + 8},-38 Q${w * 0.75},-34 ${w * 0.5},-38 Q${w * 0.25},-34 -8,-38 Z`,
      fill: awningColor,
      stroke: AztecMarket_C.outline,
      strokeWidth: 0.5,
      opacity: 0.85
    }
  ),
  awningColor2 && /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M${w * 0.2},-46 Q${w * 0.35},-40 ${w * 0.5},-44 Q${w * 0.65},-40 ${w * 0.8},-46`,
      fill: "none",
      stroke: awningColor2,
      strokeWidth: 2,
      opacity: 0.4
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "rect",
    {
      x: -2,
      y: -38,
      width: w + 4,
      height: 5,
      fill: "rgba(0,0,0,0.08)"
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "rect",
    {
      x: -3,
      y: -8,
      width: w + 6,
      height: 8,
      fill: AztecMarket_C.stallWood,
      stroke: AztecMarket_C.stallWoodDark,
      strokeWidth: 0.8
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "rect",
    {
      x: -2,
      y: -10,
      width: w + 4,
      height: 3,
      fill: AztecMarket_C.stallWoodLight,
      stroke: AztecMarket_C.stallWoodDark,
      strokeWidth: 0.5
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "rect",
    {
      x: 2,
      y: -6,
      width: w - 4,
      height: 4,
      rx: 1,
      fill: AztecMarket_C.stallWoodDark,
      opacity: 0.3
    }
  ),
  hasPots && /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { children: Array.from({ length: Math.floor(w / 14) }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${6 + i * 14}, -10)`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M-4,0 Q-5,-4 -4,-8 Q-2,-10 0,-10 Q2,-10 4,-8 Q5,-4 4,0 Z`,
        fill: i % 2 === 0 ? AztecMarket_C.pottery : AztecMarket_C.potteryRed,
        stroke: AztecMarket_C.outline,
        strokeWidth: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -10, rx: 3, ry: 1.5, fill: AztecMarket_C.potteryDark, stroke: AztecMarket_C.outline, strokeWidth: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -6, x2: 3, y2: -6, stroke: AztecMarket_C.gold, strokeWidth: 0.4, opacity: 0.4 })
  ] }, `pot-${i}`)) }),
  hasTextiles && /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
    Array.from({ length: Math.floor(w / 10) }, (_, i) => {
      const tColors = [AztecMarket_C.textileRed, AztecMarket_C.textileBlue, AztecMarket_C.textileGreen, AztecMarket_C.textileGold, AztecMarket_C.textilePurple];
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 3 + i * 10,
          y: -18,
          width: 7,
          height: 8,
          rx: 0.5,
          fill: tColors[i % 5],
          stroke: AztecMarket_C.outline,
          strokeWidth: 0.3,
          opacity: 0.7
        },
        `tex-${i}`
      );
    }),
    Array.from({ length: 3 }, (_, i) => {
      const hColors = [AztecMarket_C.textileOrange, AztecMarket_C.textileBlue, AztecMarket_C.textilePink];
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: w * 0.2 + i * w * 0.25,
          y: -45,
          width: 8,
          height: 20,
          fill: hColors[i],
          stroke: AztecMarket_C.outline,
          strokeWidth: 0.3,
          opacity: 0.5
        },
        `htex-${i}`
      );
    })
  ] }),
  hasFood && /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
    Array.from({ length: 3 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${4 + i * 8}, -12) rotate(${-10 + i * 10})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 2, ry: 5, fill: AztecMarket_C.maizeGold, stroke: AztecMarket_C.outline, strokeWidth: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 5, x2: 0, y2: 8, stroke: AztecMarket_C.maizeGreen, strokeWidth: 1 })
    ] }, `corn-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${w * 0.4}, -12)`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 3, fill: AztecMarket_C.tomatoRed, opacity: 0.7 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 3, cy: 1, r: 2.5, fill: AztecMarket_C.tomatoRed, opacity: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -2, cy: 2, r: 2, fill: AztecMarket_C.tomatoRed, opacity: 0.65 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(${w * 0.6}, -12)`, children: Array.from({ length: 4 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${i * 5 - 8},0 Q${i * 5 - 6},-4 ${i * 5 - 4},0`,
        fill: i % 2 === 0 ? AztecMarket_C.chiliRed : AztecMarket_C.chiliGreen,
        stroke: AztecMarket_C.outline,
        strokeWidth: 0.2
      },
      `chili-${i}`
    )) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: w * 0.85,
        cy: -12,
        rx: 4,
        ry: 3,
        fill: AztecMarket_C.squashOrange,
        stroke: AztecMarket_C.outline,
        strokeWidth: 0.3,
        opacity: 0.6
      }
    )
  ] }),
  hasFeathers && /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
    Array.from({ length: 4 }, (_, i) => {
      const fColors = [AztecMarket_C.quetzalGreen, AztecMarket_C.featherRed, AztecMarket_C.featherBlue, AztecMarket_C.featherGold];
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${8 + i * w * 0.22}, -12)`, children: [
        [-20, -10, 0, 10, 20].map((angle, j) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: 0,
            y1: 0,
            x2: Math.sin(angle * Math.PI / 180) * 10,
            y2: -Math.cos(angle * Math.PI / 180) * 10,
            stroke: fColors[(i + j) % 4],
            strokeWidth: 1.2,
            strokeLinecap: "round"
          },
          `ff-${j}`
        )),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 1.5, fill: AztecMarket_C.gold })
      ] }, `fan-${i}`);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${w * 0.5}, -46)`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -3, y: 0, width: 6, height: 3, rx: 1, fill: AztecMarket_C.gold }),
      [-3, -1, 1, 3].map((dx, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: dx,
          y1: 0,
          x2: dx * 2,
          y2: -10,
          stroke: [AztecMarket_C.quetzalGreen, AztecMarket_C.featherRed, AztecMarket_C.quetzalGreen, AztecMarket_C.featherBlue][i],
          strokeWidth: 1.5,
          strokeLinecap: "round"
        },
        `hf-${i}`
      ))
    ] })
  ] }),
  hasJade && /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
    Array.from({ length: Math.floor(w / 8) }, (_, i) => {
      const isJade = i % 3 !== 0;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(${4 + i * 8}, -12)`, children: isJade ? /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: 0,
          cy: 0,
          r: 2.5,
          fill: i % 2 === 0 ? AztecMarket_C.jadeGreen : AztecMarket_C.jadeDark,
          stroke: AztecMarket_C.outline,
          strokeWidth: 0.3,
          opacity: 0.7
        }
      ) : /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -2,
          y: -2,
          width: 4,
          height: 4,
          rx: 0.5,
          fill: AztecMarket_C.turquoise,
          stroke: AztecMarket_C.outline,
          strokeWidth: 0.3,
          opacity: 0.6
        }
      ) }, `gem-${i}`);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: w * 0.3, cy: -14, r: 3, fill: AztecMarket_C.gold, opacity: 0.5, stroke: AztecMarket_C.outline, strokeWidth: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: w * 0.7, cy: -14, r: 2.5, fill: AztecMarket_C.goldLight, opacity: 0.5, stroke: AztecMarket_C.outline, strokeWidth: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: w * 0.5,
        cy: -15,
        rx: 4,
        ry: 3,
        fill: AztecMarket_C.obsidian,
        stroke: AztecMarket_C.obsidianShine,
        strokeWidth: 0.5,
        opacity: 0.6
      }
    )
  ] })
] });
const BirdCage = ({ x, y, birdColor, flutter }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "rect",
    {
      x: -8,
      y: -18,
      width: 16,
      height: 18,
      rx: 1,
      fill: "none",
      stroke: AztecMarket_C.cageWood,
      strokeWidth: 1
    }
  ),
  Array.from({ length: 5 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "line",
    {
      x1: -6 + i * 3,
      y1: -18,
      x2: -6 + i * 3,
      y2: 0,
      stroke: AztecMarket_C.cageWood,
      strokeWidth: 0.5
    },
    `bar-${i}`
  )),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-8,-18 Q0,-24 8,-18", fill: "none", stroke: AztecMarket_C.cageWood, strokeWidth: 1 }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(0, ${-10 + flutter * 1.5})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 3, ry: 2, fill: birdColor, opacity: 0.6 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -2, cy: -1.5, r: 1.5, fill: birdColor, opacity: 0.7 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3.5, y1: -1.5, x2: -5, y2: -1, stroke: AztecMarket_C.maizeGold, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -2.5, cy: -2, r: 0.4, fill: AztecMarket_C.outline }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M1,0 Q${3 + flutter * 2},${-2 - flutter} ${2 + flutter},${1}`,
        fill: birdColor,
        opacity: 0.5
      }
    )
  ] })
] });
const GroundDisplay = ({ x, y, type }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "rect",
    {
      x: -15,
      y: -2,
      width: 30,
      height: 4,
      rx: 1,
      fill: AztecMarket_C.stallRope,
      stroke: AztecMarket_C.stallWoodDark,
      strokeWidth: 0.4,
      opacity: 0.5
    }
  ),
  Array.from({ length: 6 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "line",
    {
      x1: -13 + i * 5,
      y1: -1,
      x2: -13 + i * 5,
      y2: 1,
      stroke: AztecMarket_C.stallWoodDark,
      strokeWidth: 0.3,
      opacity: 0.2
    },
    `weave-${i}`
  )),
  type === "cacao" && /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { children: Array.from({ length: 12 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "ellipse",
    {
      cx: -10 + i % 4 * 6 + (i > 7 ? 2 : 0),
      cy: -4 - Math.floor(i / 4) * 3,
      rx: 2,
      ry: 1.2,
      fill: AztecMarket_C.cacaoBean,
      stroke: AztecMarket_C.outline,
      strokeWidth: 0.2,
      opacity: 0.6,
      transform: `rotate(${i * 20 % 60 - 30})`
    },
    `bean-${i}`
  )) }),
  type === "obsidian" && /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
    Array.from({ length: 5 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(${-10 + i * 6}, -4) rotate(${-5 + i * 3})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-1,0 L0,-8 L1,0 Z", fill: AztecMarket_C.obsidian, stroke: AztecMarket_C.obsidianShine, strokeWidth: 0.3 }) }, `blade-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 8, cy: -6, r: 3, fill: AztecMarket_C.obsidian, stroke: AztecMarket_C.obsidianShine, strokeWidth: 0.5, opacity: 0.5 })
  ] }),
  type === "feathers" && /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { children: Array.from({ length: 6 }, (_, i) => {
    const fc = [AztecMarket_C.quetzalGreen, AztecMarket_C.featherRed, AztecMarket_C.featherBlue, AztecMarket_C.featherGold, AztecMarket_C.quetzalGreen, AztecMarket_C.featherRed];
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: -10 + i * 5,
        y1: -2,
        x2: -10 + i * 5 + 1,
        y2: -10 - i % 3 * 2,
        stroke: fc[i],
        strokeWidth: 1.5,
        strokeLinecap: "round",
        opacity: 0.6
      },
      `f-${i}`
    );
  }) }),
  type === "cotton" && /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { children: Array.from({ length: 4 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "rect",
    {
      x: -12 + i * 7,
      y: -6,
      width: 6,
      height: 4,
      rx: 0.5,
      fill: [AztecMarket_C.cotton, AztecMarket_C.cottonBlue, AztecMarket_C.awningCream, AztecMarket_C.textileWhite][i],
      stroke: AztecMarket_C.outline,
      strokeWidth: 0.3,
      opacity: 0.5
    },
    `cotton-${i}`
  )) })
] });
const Turkey = ({ x, y, peck, flip = false }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${flip ? -1 : 1}, 1)`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 6, ry: 4, fill: AztecMarket_C.turkeyBrown, stroke: AztecMarket_C.outline, strokeWidth: 0.4 }),
  [-15, -8, 0, 8, 15].map((angle, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "line",
    {
      x1: 5,
      y1: -1,
      x2: 5 + Math.cos((angle + 90) * Math.PI / 180) * 8,
      y2: -1 + Math.sin((angle + 90) * Math.PI / 180) * 8,
      stroke: i % 2 === 0 ? AztecMarket_C.turkeyBrown : "#3A2A0A",
      strokeWidth: 1.5,
      strokeLinecap: "round"
    },
    `tf-${i}`
  )),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M-4,-2 Q-6,${-6 - peck} -5,${-10 - peck * 2}`,
      fill: "none",
      stroke: AztecMarket_C.turkeyBrown,
      strokeWidth: 2,
      strokeLinecap: "round"
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -5, cy: -11 - peck * 2, r: 2, fill: AztecMarket_C.turkeyBrown, stroke: AztecMarket_C.outline, strokeWidth: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "path",
    {
      d: `M-5,${-10 - peck * 2} L-4,${-8 - peck * 2} L-6,${-8 - peck * 2} Z`,
      fill: AztecMarket_C.turkeyRed,
      opacity: 0.6
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -6, cy: -11.5 - peck * 2, r: 0.5, fill: AztecMarket_C.outline }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "line",
    {
      x1: -7,
      y1: -11 - peck * 2,
      x2: -9,
      y2: -10.5 - peck * 2,
      stroke: AztecMarket_C.maizeGold,
      strokeWidth: 0.8
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -2, y1: 3, x2: -3, y2: 6, stroke: AztecMarket_C.maizeGold, strokeWidth: 0.8 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 2, y1: 3, x2: 3, y2: 6, stroke: AztecMarket_C.maizeGold, strokeWidth: 0.8 })
] });
const DrainChannel = ({ x1: cx1, y1: cy1, x2: cx2, y2: cy2, width: w }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "line",
    {
      x1: cx1,
      y1: cy1,
      x2: cx2,
      y2: cy2,
      stroke: AztecMarket_C.drainStone,
      strokeWidth: w + 2
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "line",
    {
      x1: cx1,
      y1: cy1,
      x2: cx2,
      y2: cy2,
      stroke: AztecMarket_C.drainWater,
      strokeWidth: w,
      opacity: 0.4
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "line",
    {
      x1: cx1,
      y1: cy1 - w / 2 - 1,
      x2: cx2,
      y2: cy2 - w / 2 - 1,
      stroke: AztecMarket_C.drainStone,
      strokeWidth: 1,
      opacity: 0.4
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "line",
    {
      x1: cx1,
      y1: cy1 + w / 2 + 1,
      x2: cx2,
      y2: cy2 + w / 2 + 1,
      stroke: AztecMarket_C.drainStone,
      strokeWidth: 1,
      opacity: 0.4
    }
  )
] });
const AztecMarket = ({
  boardText = "",
  width = 1920,
  height = 1080
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const cloudDrift1 = sineWave(frame, 0.015) * 15;
  const cloudDrift2 = sineWave(frame, 0.02, 1.5) * 12;
  const smokeDrift1 = sineWave(frame, 0.035, 0.5) * 6;
  const smokeDrift2 = sineWave(frame, 0.04, 2) * 8;
  const smokeDrift3 = sineWave(frame, 0.03, 3.5) * 5;
  const awningFlap1 = sineWave(frame, 0.08) * 2;
  const awningFlap2 = sineWave(frame, 0.09, 1) * 1.5;
  const dustFloat = sineWave(frame, 0.025) * 10;
  const birdFlutter1 = sineWave(frame, 0.2) * 1;
  const birdFlutter2 = sineWave(frame, 0.22, 1) * 1;
  const turkeyPeck = Math.max(0, sineWave(frame, 0.12));
  const flagSway = sineWave(frame, 0.1) * 3;
  const godRayPulse = sineWave(frame, 0.025) * 0.02 + 0.05;
  const fireFlicker = sineWave(frame, 0.15) * 0.5 + 0.5;
  const mistFloat = sineWave(frame, 0.02) * 8;
  const flyingBirdWing = sineWave(frame, 0.08) * 5;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("svg", { viewBox: `0 0 ${width} ${height}`, width, height, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("defs", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "am-sky", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: AztecMarket_C.skyTop }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "40%", stopColor: AztecMarket_C.skyMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "75%", stopColor: AztecMarket_C.skyLow }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: AztecMarket_C.skyHorizon })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "am-ground", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: AztecMarket_C.paveMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "50%", stopColor: AztecMarket_C.paveDark }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: AztecMarket_C.paveDark })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "am-sunglow", cx: "60%", cy: "15%", r: "45%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: AztecMarket_C.sunGlow }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "am-vignette", cx: "50%", cy: "50%", r: "70%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(0,0,0,0)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "75%", stopColor: "rgba(0,0,0,0)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: AztecMarket_C.vignette })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("pattern", { id: "am-pave", x: "0", y: "0", width: "30", height: "20", patternUnits: "userSpaceOnUse", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { width: "30", height: "20", fill: AztecMarket_C.paveMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: "0", y: "0", width: "14", height: "9", fill: AztecMarket_C.paveLight, opacity: 0.3, rx: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: "16", y: "0", width: "14", height: "9", fill: AztecMarket_C.paveMid, rx: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: "8", y: "11", width: "14", height: "9", fill: AztecMarket_C.paveLight, opacity: 0.25, rx: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "0", y1: "10", x2: "30", y2: "10", stroke: AztecMarket_C.paveJoint, strokeWidth: 0.5, opacity: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "15", y1: "0", x2: "15", y2: "10", stroke: AztecMarket_C.paveJoint, strokeWidth: 0.5, opacity: 0.25 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "8", y1: "10", x2: "8", y2: "20", stroke: AztecMarket_C.paveJoint, strokeWidth: 0.5, opacity: 0.25 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "22", y1: "10", x2: "22", y2: "20", stroke: AztecMarket_C.paveJoint, strokeWidth: 0.5, opacity: 0.25 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "am-godray", x1: "60%", y1: "0%", x2: "40%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(255,220,140,0.1)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "50%", stopColor: "rgba(255,200,100,0.04)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("pattern", { id: "am-canvas", x: "0", y: "0", width: "4", height: "4", patternUnits: "userSpaceOnUse", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { width: "4", height: "4", fill: "rgba(0,0,0,0)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "0", y1: "0", x2: "4", y2: "0", stroke: "rgba(0,0,0,0.008)", strokeWidth: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "0", y1: "2", x2: "4", y2: "2", stroke: "rgba(0,0,0,0.006)", strokeWidth: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "0", y1: "0", x2: "0", y2: "4", stroke: "rgba(0,0,0,0.008)", strokeWidth: 0.3 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("pattern", { id: "am-dust", x: "0", y: "0", width: "50", height: "50", patternUnits: "userSpaceOnUse", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "8", cy: "12", r: "0.4", fill: AztecMarket_C.dustLight, opacity: 0.06 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "28", cy: "5", r: "0.3", fill: AztecMarket_C.dustLight, opacity: 0.04 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "42", cy: "32", r: "0.5", fill: AztecMarket_C.dustMid, opacity: 0.05 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "18", cy: "42", r: "0.3", fill: AztecMarket_C.dustLight, opacity: 0.04 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "38", cy: "18", r: "0.4", fill: AztecMarket_C.dustMid, opacity: 0.05 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "5", cy: "36", r: "0.3", fill: AztecMarket_C.dustLight, opacity: 0.03 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "am-ground-shadow", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(0,0,0,0.05)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "50%", stopColor: "rgba(0,0,0,0)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0.08)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "am-ambient", cx: "50%", cy: "55%", r: "50%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(255,200,120,0.06)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "70%", stopColor: "rgba(255,180,80,0.02)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("pattern", { id: "am-textile-stripe", x: "0", y: "0", width: "6", height: "6", patternUnits: "userSpaceOnUse", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { width: "6", height: "6", fill: AztecMarket_C.textileRed }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: "0", y: "0", width: "6", height: "2", fill: AztecMarket_C.textileGold, opacity: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: "0", y: "4", width: "6", height: "2", fill: AztecMarket_C.textileBlue, opacity: 0.3 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("filter", { id: "am-smoke-blur", x: "-30%", y: "-30%", width: "160%", height: "160%", children: /* @__PURE__ */ (0,jsx_runtime.jsx)("feGaussianBlur", { stdDeviation: "2" }) })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height: height * 0.35, fill: "url(#am-sky)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height: height * 0.4, fill: "url(#am-sunglow)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.5, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 250 + cloudDrift1,
          cy: 60,
          rx: 200,
          ry: 30,
          fill: AztecMarket_C.cloudMid
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 270 + cloudDrift1,
          cy: 55,
          rx: 140,
          ry: 20,
          fill: AztecMarket_C.cloudLight,
          opacity: 0.6
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 700 + cloudDrift2,
          cy: 80,
          rx: 250,
          ry: 35,
          fill: AztecMarket_C.cloudMid
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 720 + cloudDrift2,
          cy: 75,
          rx: 170,
          ry: 22,
          fill: AztecMarket_C.cloudWhite,
          opacity: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 1300 + cloudDrift1 * 0.7,
          cy: 50,
          rx: 220,
          ry: 28,
          fill: AztecMarket_C.cloudMid
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 1320 + cloudDrift1 * 0.7,
          cy: 45,
          rx: 150,
          ry: 18,
          fill: AztecMarket_C.cloudLight,
          opacity: 0.55
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 1650 + cloudDrift2 * 0.5,
          cy: 70,
          rx: 180,
          ry: 25,
          fill: AztecMarket_C.cloudShadow
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: godRayPulse, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "polygon",
        {
          points: `${width * 0.55},0 ${width * 0.48},${height * 0.45} ${width * 0.52},${height * 0.45}`,
          fill: "url(#am-godray)"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "polygon",
        {
          points: `${width * 0.65},0 ${width * 0.6},${height * 0.4} ${width * 0.64},${height * 0.4}`,
          fill: "url(#am-godray)"
        }
      )
    ] }),
    Array.from({ length: 5 }, (_, i) => {
      const bx = width * 0.2 + i * width * 0.15;
      const by = height * 0.08 + i % 3 * 15 + sineWave(frame, 0.04, i) * 4;
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${bx}, ${by})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M0,0 Q-${4 + flyingBirdWing * (i % 2 === 0 ? 1 : -1)},${-2} -${8},${flyingBirdWing * 0.2}`,
            fill: "none",
            stroke: AztecMarket_C.outline,
            strokeWidth: 0.8,
            opacity: 0.3
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M0,0 Q${4 + flyingBirdWing * (i % 2 === 0 ? 1 : -1)},${-2} ${8},${flyingBirdWing * 0.2}`,
            fill: "none",
            stroke: AztecMarket_C.outline,
            strokeWidth: 0.8,
            opacity: 0.3
          }
        )
      ] }, `skybird-${i}`);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.5}, ${height * 0.35})`, children: [
      Array.from({ length: 6 }, (_, i) => {
        const sw = 320 - i * 40;
        const sh = 20;
        const sy = -i * sh;
        return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "rect",
            {
              x: -sw / 2,
              y: sy - sh,
              width: sw,
              height: sh,
              fill: i % 2 === 0 ? AztecMarket_C.templeStone : AztecMarket_C.templeLight,
              stroke: AztecMarket_C.templeShadow,
              strokeWidth: 0.5
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "rect",
            {
              x: -sw / 2,
              y: sy - 2,
              width: sw,
              height: 2,
              fill: AztecMarket_C.templeStairShadow,
              opacity: 0.25
            }
          ),
          Array.from({ length: Math.floor(sw / 20) }, (_2, j) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "line",
            {
              x1: -sw / 2 + 8 + j * 20,
              y1: sy - sh + 2,
              x2: -sw / 2 + 8 + j * 20,
              y2: sy - 2,
              stroke: AztecMarket_C.templeShadow,
              strokeWidth: 0.3,
              opacity: 0.12
            },
            `bl-${j}`
          ))
        ] }, `pstep-${i}`);
      }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -20,
          y: -120,
          width: 40,
          height: 120,
          fill: AztecMarket_C.templeStair,
          stroke: AztecMarket_C.templeStairShadow,
          strokeWidth: 0.5
        }
      ),
      Array.from({ length: 18 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: -20,
          y1: -120 + i * (120 / 18),
          x2: 20,
          y2: -120 + i * (120 / 18),
          stroke: AztecMarket_C.templeStairShadow,
          strokeWidth: 0.3,
          opacity: 0.3
        },
        `stl-${i}`
      )),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -50,
          y: -145,
          width: 40,
          height: 25,
          fill: AztecMarket_C.templeBlue,
          stroke: AztecMarket_C.outline,
          strokeWidth: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-52,-145 L-30,-162 L-8,-145 Z",
          fill: AztecMarket_C.templeBlue,
          stroke: AztecMarket_C.outline,
          strokeWidth: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 10,
          y: -145,
          width: 40,
          height: 25,
          fill: AztecMarket_C.templeRed,
          stroke: AztecMarket_C.outline,
          strokeWidth: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M8,-145 L30,-162 L52,-145 Z",
          fill: AztecMarket_C.templeRed,
          stroke: AztecMarket_C.outline,
          strokeWidth: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.6 + fireFlicker * 0.3, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "ellipse",
          {
            cx: -30,
            cy: -155,
            rx: 6 + fireFlicker * 3,
            ry: 4,
            fill: AztecMarket_C.warmGlow,
            opacity: 0.5
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M-32,-150 Q-33,${-158 - fireFlicker * 6} -30,${-164 - fireFlicker * 8}
            Q-27,${-158 - fireFlicker * 6} -28,-150`,
            fill: "#E08030",
            opacity: 0.5
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "ellipse",
          {
            cx: 30,
            cy: -155,
            rx: 6 + fireFlicker * 3,
            ry: 4,
            fill: AztecMarket_C.warmGlow,
            opacity: 0.5
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M28,-150 Q27,${-158 - fireFlicker * 6} 30,${-164 - fireFlicker * 8}
            Q33,${-158 - fireFlicker * 6} 32,-150`,
            fill: "#E08030",
            opacity: 0.5
          }
        )
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M-30,-164 Q${-32 + smokeDrift1},-180 ${-28 + smokeDrift1 * 2},-200`,
          fill: "none",
          stroke: AztecMarket_C.cookSmoke,
          strokeWidth: 8,
          strokeLinecap: "round",
          opacity: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M30,-164 Q${32 + smokeDrift2},-180 ${28 + smokeDrift2 * 2},-200`,
          fill: "none",
          stroke: AztecMarket_C.cookSmoke,
          strokeWidth: 8,
          strokeLinecap: "round",
          opacity: 0.3
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.5}, ${height * 0.35})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(-25, 0)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -3, r: 4, fill: AztecMarket_C.templeStone, stroke: AztecMarket_C.outline, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,-3 L-8,-2 L-4,-1", fill: AztecMarket_C.templeStone, stroke: AztecMarket_C.outline, strokeWidth: 0.4 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -1, cy: -4, r: 1, fill: AztecMarket_C.outline, opacity: 0.5 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(25, 0) scale(-1,1)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -3, r: 4, fill: AztecMarket_C.templeStone, stroke: AztecMarket_C.outline, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,-3 L-8,-2 L-4,-1", fill: AztecMarket_C.templeStone, stroke: AztecMarket_C.outline, strokeWidth: 0.4 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -1, cy: -4, r: 1, fill: AztecMarket_C.outline, opacity: 0.5 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(60, -5)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M-6,0 Q-4,-6 0,-8 Q4,-6 6,0 Z",
            fill: AztecMarket_C.templeStone,
            stroke: AztecMarket_C.outline,
            strokeWidth: 0.4
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M0,-8 L-4,-12 M0,-8 L4,-12",
            fill: "none",
            stroke: AztecMarket_C.templeStone,
            strokeWidth: 1,
            strokeLinecap: "round"
          }
        )
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(-80, -10)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: 0,
            y: -12,
            width: 24,
            height: 12,
            fill: AztecMarket_C.stallWoodDark,
            stroke: AztecMarket_C.outline,
            strokeWidth: 0.4
          }
        ),
        Array.from({ length: 3 }, (_, row) => Array.from({ length: 5 }, (_2, col) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "circle",
          {
            cx: 3 + col * 5,
            cy: -3 - row * 4,
            r: 1.5,
            fill: "#E0D8C8",
            stroke: AztecMarket_C.outline,
            strokeWidth: 0.2,
            opacity: 0.4
          },
          `tsk-${row}-${col}`
        )))
      ] }),
      [-50, 50].map((bx, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${bx}, -2)`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M-4,0 Q-5,-3 -3,-6 Q0,-8 3,-6 Q5,-3 4,0 Z",
            fill: AztecMarket_C.potteryDark,
            stroke: AztecMarket_C.outline,
            strokeWidth: 0.4
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M0,-6 Q${smokeDrift1 * 0.5},-12 ${smokeDrift1},-20`,
            fill: "none",
            stroke: AztecMarket_C.incenseGray,
            strokeWidth: 2,
            strokeLinecap: "round",
            opacity: 0.3
          }
        )
      ] }, `brazier-${i}`)),
      [-100, -40, 40, 100].map((bx, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${bx}, -20)`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -15, stroke: AztecMarket_C.stallPost, strokeWidth: 1 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M0,-15 Q${3 + flagSway * 0.5},-13 ${5 + flagSway},-11 L${3 + flagSway * 0.5},-9 L0,-11 Z`,
            fill: [AztecMarket_C.awningRed, AztecMarket_C.awningGold, AztecMarket_C.awningBlue, AztecMarket_C.awningGreen][i],
            opacity: 0.5
          }
        )
      ] }, `tbanner-${i}`))
    ] }),
    Array.from({ length: 6 }, (_, i) => {
      const bx = width * 0.02 + i * (width * 0.16);
      const bh = 25 + i * 11 % 15;
      const bw = 35 + i % 3 * 8;
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: bx,
            y: height * 0.35 - bh,
            width: bw,
            height: bh,
            fill: i % 2 === 0 ? AztecMarket_C.templeLight : AztecMarket_C.templeStone,
            stroke: AztecMarket_C.templeShadow,
            strokeWidth: 0.3,
            opacity: 0.5
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: bx - 1,
            y: height * 0.35 - bh - 2,
            width: bw + 2,
            height: 2.5,
            fill: AztecMarket_C.templeStairShadow,
            opacity: 0.3
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: bx + bw * 0.35,
            y: height * 0.35 - bh * 0.4,
            width: bw * 0.2,
            height: bh * 0.4,
            fill: AztecMarket_C.outline,
            opacity: 0.2
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: bx + bw * 0.75,
            y: height * 0.35 - bh,
            width: bw * 0.25,
            height: bh,
            fill: AztecMarket_C.templeShadow,
            opacity: 0.1
          }
        )
      ] }, `bgbld-${i}`);
    }),
    Array.from({ length: 8 }, (_, i) => {
      const bx = width * 0.08 + i * (width * 0.11);
      const bh = 20 + i * 7 % 20;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: bx,
          y: height * 0.35 - bh,
          width: 30 + i % 3 * 10,
          height: bh,
          fill: i % 3 === 0 ? AztecMarket_C.templeLight : AztecMarket_C.templeStone,
          stroke: AztecMarket_C.templeShadow,
          strokeWidth: 0.3,
          opacity: 0.5
        },
        `sidebld-${i}`
      );
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.35,
        width,
        height: height * 0.65,
        fill: "url(#am-ground)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.35,
        width,
        height: height * 0.65,
        fill: "url(#am-pave)",
        opacity: 0.6
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(DrainChannel, { x1: 0, y1: height * 0.55, x2: width, y2: height * 0.55, width: 4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(DrainChannel, { x1: width * 0.3, y1: height * 0.35, x2: width * 0.3, y2: height, width: 3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(DrainChannel, { x1: width * 0.7, y1: height * 0.35, x2: width * 0.7, y2: height, width: 3 }),
    Array.from({ length: 8 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 120 + i * 243 % (width - 240),
        cy: height * 0.5 + i * 67 % (height * 0.3),
        rx: 15 + i % 3 * 5,
        ry: 6 + i % 2 * 3,
        fill: AztecMarket_C.paveWet,
        opacity: 0.1
      },
      `wet-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      MarketStall,
      {
        x: width * 0.05,
        y: height * 0.45,
        w: 100,
        awningColor: AztecMarket_C.awningRed,
        awningColor2: AztecMarket_C.awningGold,
        hasPots: true
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      MarketStall,
      {
        x: width * 0.15,
        y: height * 0.44,
        w: 90,
        awningColor: AztecMarket_C.awningBlue,
        hasTextiles: true
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      MarketStall,
      {
        x: width * 0.26,
        y: height * 0.45,
        w: 100,
        awningColor: AztecMarket_C.awningGreen,
        awningColor2: AztecMarket_C.awningWhite,
        hasFood: true
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      MarketStall,
      {
        x: width * 0.58,
        y: height * 0.44,
        w: 95,
        awningColor: AztecMarket_C.awningGold,
        awningColor2: AztecMarket_C.awningRed,
        hasFeathers: true
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      MarketStall,
      {
        x: width * 0.68,
        y: height * 0.45,
        w: 100,
        awningColor: AztecMarket_C.awningRed,
        hasJade: true
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      MarketStall,
      {
        x: width * 0.8,
        y: height * 0.44,
        w: 90,
        awningColor: AztecMarket_C.awningBlue,
        awningColor2: AztecMarket_C.awningWhite,
        hasPots: true
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(GroundDisplay, { x: width * 0.12, y: height * 0.58, type: "cacao" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(GroundDisplay, { x: width * 0.28, y: height * 0.56, type: "obsidian" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(GroundDisplay, { x: width * 0.44, y: height * 0.57, type: "feathers" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(GroundDisplay, { x: width * 0.6, y: height * 0.58, type: "cotton" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(GroundDisplay, { x: width * 0.76, y: height * 0.56, type: "cacao" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(GroundDisplay, { x: width * 0.9, y: height * 0.57, type: "obsidian" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BirdCage, { x: width * 0.36, y: height * 0.55, birdColor: AztecMarket_C.parrotGreen, flutter: birdFlutter1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BirdCage, { x: width * 0.52, y: height * 0.54, birdColor: AztecMarket_C.parrotRed, flutter: birdFlutter2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(BirdCage, { x: width * 0.84, y: height * 0.55, birdColor: AztecMarket_C.parrotBlue, flutter: birdFlutter1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Turkey, { x: width * 0.2, y: height * 0.6, peck: turkeyPeck }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Turkey, { x: width * 0.48, y: height * 0.62, peck: turkeyPeck * 0.8, flip: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Turkey, { x: width * 0.72, y: height * 0.6, peck: turkeyPeck * 1.1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.65}, ${height * 0.63})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 6, ry: 3.5, fill: AztecMarket_C.dogTan, stroke: AztecMarket_C.outline, strokeWidth: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -5, cy: -3, r: 2.5, fill: AztecMarket_C.dogTan, stroke: AztecMarket_C.outline, strokeWidth: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-6,-5 L-7,-8 L-5,-6", fill: AztecMarket_C.dogTan, stroke: AztecMarket_C.outline, strokeWidth: 0.2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,-5 L-3,-8 L-2,-6", fill: AztecMarket_C.dogTan, stroke: AztecMarket_C.outline, strokeWidth: 0.2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -6.5, cy: -3.5, r: 0.5, fill: AztecMarket_C.outline }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -7.5, y1: -2.5, x2: -8.5, y2: -2.5, stroke: AztecMarket_C.outline, strokeWidth: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: 3, x2: -4, y2: 6, stroke: AztecMarket_C.dogTan, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: 3, x2: 4, y2: 6, stroke: AztecMarket_C.dogTan, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M6,0 Q8,-1 10,0", fill: "none", stroke: AztecMarket_C.dogTan, strokeWidth: 0.8 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      MarketStall,
      {
        x: width * 0.02,
        y: height * 0.7,
        w: 110,
        awningColor: AztecMarket_C.awningGold,
        awningColor2: AztecMarket_C.awningGreen,
        hasFood: true
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      MarketStall,
      {
        x: width * 0.18,
        y: height * 0.69,
        w: 100,
        awningColor: AztecMarket_C.awningRed,
        hasTextiles: true
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      MarketStall,
      {
        x: width * 0.35,
        y: height * 0.7,
        w: 115,
        awningColor: AztecMarket_C.awningWhite,
        awningColor2: AztecMarket_C.awningBlue,
        hasJade: true
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      MarketStall,
      {
        x: width * 0.55,
        y: height * 0.69,
        w: 105,
        awningColor: AztecMarket_C.awningGreen,
        hasFood: true
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      MarketStall,
      {
        x: width * 0.72,
        y: height * 0.7,
        w: 110,
        awningColor: AztecMarket_C.awningBlue,
        awningColor2: AztecMarket_C.awningGold,
        hasFeathers: true
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      MarketStall,
      {
        x: width * 0.88,
        y: height * 0.69,
        w: 100,
        awningColor: AztecMarket_C.awningRed,
        awningColor2: AztecMarket_C.awningWhite,
        hasPots: true
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecCrowdLayer, { config: AZTEC_CROWD_CONFIGS.market }),
    Array.from({ length: 12 }, (_, i) => {
      const px = 80 + i * 163 % (width - 160);
      const py = height * 0.55 + i * 43 % (height * 0.2);
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${px}, ${py})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 5, ry: 1.5, fill: "rgba(0,0,0,0.08)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -8, stroke: AztecMarket_C.skin, strokeWidth: 2, strokeLinecap: "round" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -10, r: 2, fill: AztecMarket_C.skin, stroke: AztecMarket_C.outline, strokeWidth: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: -2.5,
            y: -7,
            width: 5,
            height: 5,
            rx: 0.5,
            fill: [AztecMarket_C.cotton, AztecMarket_C.cottonBlue, AztecMarket_C.awningCream, AztecMarket_C.textileWhite][i % 4],
            stroke: AztecMarket_C.outline,
            strokeWidth: 0.2,
            opacity: 0.6
          }
        )
      ] }, `shopper-${i}`);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.3, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.1},${height * 0.42}
          Q${width * 0.08 + smokeDrift1 * 2},${height * 0.36} ${width * 0.06 + smokeDrift1 * 4},${height * 0.28}`,
          fill: "none",
          stroke: AztecMarket_C.cookSmoke,
          strokeWidth: 12,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.3},${height * 0.43}
          Q${width * 0.28 + smokeDrift2 * 1.5},${height * 0.37} ${width * 0.26 + smokeDrift2 * 3},${height * 0.3}`,
          fill: "none",
          stroke: AztecMarket_C.cookSmoke,
          strokeWidth: 10,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.6},${height * 0.42}
          Q${width * 0.58 + smokeDrift3 * 2},${height * 0.36} ${width * 0.56 + smokeDrift3 * 3},${height * 0.29}`,
          fill: "none",
          stroke: AztecMarket_C.cookSmoke,
          strokeWidth: 11,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.85},${height * 0.43}
          Q${width * 0.83 + smokeDrift1 * 1.5},${height * 0.37} ${width * 0.81 + smokeDrift1 * 3},${height * 0.3}`,
          fill: "none",
          stroke: AztecMarket_C.cookSmoke,
          strokeWidth: 9,
          strokeLinecap: "round"
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.25 + dustFloat,
        cy: height * 0.6,
        rx: 120,
        ry: 20,
        fill: AztecMarket_C.dustLight,
        opacity: 0.2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.6 - dustFloat * 0.5,
        cy: height * 0.58,
        rx: 100,
        ry: 18,
        fill: AztecMarket_C.dustMid,
        opacity: 0.15
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.85 + dustFloat * 0.7,
        cy: height * 0.62,
        rx: 90,
        ry: 16,
        fill: AztecMarket_C.dustLight,
        opacity: 0.18
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.25, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.08},${height * 0.66}
          Q${width * 0.06 + smokeDrift2 * 1.5},${height * 0.6} ${width * 0.04 + smokeDrift2 * 2.5},${height * 0.52}`,
          fill: "none",
          stroke: AztecMarket_C.cookSmoke,
          strokeWidth: 10,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${width * 0.58},${height * 0.65}
          Q${width * 0.56 + smokeDrift1 * 1.5},${height * 0.59} ${width * 0.54 + smokeDrift1 * 2.5},${height * 0.52}`,
          fill: "none",
          stroke: AztecMarket_C.cookSmoke,
          strokeWidth: 8,
          strokeLinecap: "round"
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { opacity: 0.15, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.45},${height * 0.5}
          Q${width * 0.44 + smokeDrift3},${height * 0.44} ${width * 0.43 + smokeDrift3 * 2},${height * 0.38}`,
        fill: "none",
        stroke: AztecMarket_C.incenseGray,
        strokeWidth: 3,
        strokeLinecap: "round"
      }
    ) }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.4}, ${height * 0.62})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-10,0 Q-14,-8 -12,-16 Q-8,-22 0,-24 Q8,-22 12,-16 Q14,-8 10,0 Z",
          fill: AztecMarket_C.pottery,
          stroke: AztecMarket_C.outline,
          strokeWidth: 0.6
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -24, rx: 6, ry: 3, fill: AztecMarket_C.potteryDark, stroke: AztecMarket_C.outline, strokeWidth: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -12, y1: -12, x2: 12, y2: -12, stroke: AztecMarket_C.potteryRed, strokeWidth: 1, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -11, y1: -8, x2: 11, y2: -8, stroke: AztecMarket_C.gold, strokeWidth: 0.6, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-6,-14 L-4,-14 L-4,-16 L-2,-16 L-2,-14 L0,-14 L0,-16 L2,-16 L2,-14 L4,-14",
          fill: "none",
          stroke: AztecMarket_C.potteryRed,
          strokeWidth: 0.5,
          opacity: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(18, 2)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M-4,0 Q-5,-3 -4,-6 Q-2,-8 0,-8 Q2,-8 4,-6 Q5,-3 4,0 Z",
            fill: AztecMarket_C.potteryRed,
            stroke: AztecMarket_C.outline,
            strokeWidth: 0.4
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -8, rx: 2.5, ry: 1.2, fill: AztecMarket_C.potteryDark, stroke: AztecMarket_C.outline, strokeWidth: 0.3 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(-16, 3)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M-3,0 Q-4,-2 -3,-5 Q-1,-6 0,-6 Q1,-6 3,-5 Q4,-2 3,0 Z",
            fill: AztecMarket_C.pottery,
            stroke: AztecMarket_C.outline,
            strokeWidth: 0.3
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -6, rx: 2, ry: 1, fill: AztecMarket_C.potteryDark, stroke: AztecMarket_C.outline, strokeWidth: 0.2 })
      ] })
    ] }),
    [
      { x: width * 0.15, y: height * 0.63 },
      { x: width * 0.5, y: height * 0.61 },
      { x: width * 0.82, y: height * 0.62 }
    ].map((basket, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${basket.x}, ${basket.y})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-8,0 Q-10,-4 -8,-8 L8,-8 Q10,-4 8,0 Z",
          fill: AztecMarket_C.stallRope,
          stroke: AztecMarket_C.stallWoodDark,
          strokeWidth: 0.5
        }
      ),
      Array.from({ length: 4 }, (_, j) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: -7 + j * 4,
          y1: -7,
          x2: -7 + j * 4,
          y2: -1,
          stroke: AztecMarket_C.stallWoodDark,
          strokeWidth: 0.3,
          opacity: 0.3
        },
        `bw-${j}`
      )),
      i === 0 && // Avocados
      /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { children: Array.from({ length: 5 }, (_, j) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: -5 + j * 3,
          cy: -10 - j % 2,
          rx: 2,
          ry: 2.5,
          fill: AztecMarket_C.avocadoGreen,
          stroke: AztecMarket_C.outline,
          strokeWidth: 0.2,
          opacity: 0.5
        },
        `avo-${j}`
      )) }),
      i === 1 && // Beans
      /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { children: Array.from({ length: 8 }, (_, j) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: -5 + j % 4 * 3,
          cy: -10 - Math.floor(j / 4) * 2,
          rx: 1.5,
          ry: 1,
          fill: AztecMarket_C.beanBrown,
          opacity: 0.4
        },
        `bean-${j}`
      )) }),
      i === 2 && // Squash
      /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { children: Array.from({ length: 3 }, (_, j) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: -4 + j * 4,
          cy: -10,
          rx: 3,
          ry: 2.5,
          fill: j % 2 === 0 ? AztecMarket_C.squashOrange : AztecMarket_C.squashGreen,
          stroke: AztecMarket_C.outline,
          strokeWidth: 0.2,
          opacity: 0.5
        },
        `sq-${j}`
      )) })
    ] }, `basket-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(${width * 0.22}, ${height * 0.58})`, children: Array.from({ length: 3 }, (_, row) => Array.from({ length: 4 - row }, (_2, col) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: col * 12 + row * 6 - 20,
        y: -row * 8 - 4,
        width: 10,
        height: 7,
        rx: 1,
        fill: [AztecMarket_C.cotton, AztecMarket_C.cottonBlue, AztecMarket_C.awningCream, AztecMarket_C.textileWhite][(row + col) % 4],
        stroke: AztecMarket_C.outline,
        strokeWidth: 0.3,
        opacity: 0.5
      },
      `bale-${row}-${col}`
    ))) }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.38}, ${height * 0.64})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -20,
          y: -3,
          width: 40,
          height: 6,
          rx: 1,
          fill: "none",
          stroke: AztecMarket_C.stallWoodDark,
          strokeWidth: 1,
          opacity: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(Turkey, { x: -8, y: 0, peck: turkeyPeck * 0.7 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(Turkey, { x: 8, y: 0, peck: turkeyPeck * 1.2, flip: true })
    ] }),
    [width * 0.08, width * 0.32, width * 0.62, width * 0.86].map((hx, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${hx}, ${height * 0.42})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: 15, stroke: AztecMarket_C.stallRope, strokeWidth: 0.5 }),
      Array.from({ length: 5 }, (_, j) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${-1 + j % 2 * 2},${3 + j * 3} Q${-2 + j % 2 * 4},${5 + j * 3} ${-1 + j % 2 * 2},${6 + j * 3}`,
          fill: j % 2 === 0 ? AztecMarket_C.chiliRed : AztecMarket_C.chiliGreen,
          opacity: 0.5
        },
        `hc-${j}`
      ))
    ] }, `hang-${i}`)),
    [width * 0.12, width * 0.42, width * 0.75].map((fx, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${fx},${height * 0.4} Q${fx + 30},${height * 0.42 + awningFlap1} ${fx + 60},${height * 0.4}`,
          fill: "none",
          stroke: AztecMarket_C.maizeGreen,
          strokeWidth: 1.5,
          opacity: 0.3
        }
      ),
      Array.from({ length: 5 }, (_, j) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: fx + 5 + j * 12,
          cy: height * 0.405 + j % 2 * 2 + awningFlap1 * 0.5,
          r: 2,
          fill: j % 2 === 0 ? AztecMarket_C.maizeGold : AztecMarket_C.tomatoRed,
          opacity: 0.3
        },
        `gf-${j}`
      ))
    ] }, `garland-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.55}, ${height * 0.58})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 3, rx: 6, ry: 2, fill: "rgba(0,0,0,0.1)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -14, stroke: AztecMarket_C.skin, strokeWidth: 3, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -17, r: 3, fill: AztecMarket_C.skin, stroke: AztecMarket_C.outline, strokeWidth: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -3,
          y: -12,
          width: 6,
          height: 8,
          rx: 1,
          fill: AztecMarket_C.cottonBlue,
          stroke: AztecMarket_C.outline,
          strokeWidth: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -10, x2: -10, y2: -12, stroke: AztecMarket_C.skinDark, strokeWidth: 2, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -10, x2: 10, y2: -12, stroke: AztecMarket_C.skin, strokeWidth: 2, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -12, y1: -12, x2: 12, y2: -12, stroke: AztecMarket_C.stallWoodDark, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-14,-12 L-16,-8 L-8,-8 L-10,-12", fill: "none", stroke: AztecMarket_C.copper, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M10,-12 L8,-8 L16,-8 L14,-12", fill: "none", stroke: AztecMarket_C.copper, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -12, cy: -9, r: 1.5, fill: AztecMarket_C.cacaoBean, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 12, cy: -9, r: 1.5, fill: AztecMarket_C.jadeGreen, opacity: 0.5 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.92}, ${height * 0.6})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 3, rx: 8, ry: 2, fill: "rgba(0,0,0,0.08)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -12, stroke: AztecMarket_C.skin, strokeWidth: 3, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -15, r: 2.5, fill: AztecMarket_C.skin, stroke: AztecMarket_C.outline, strokeWidth: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -3, y: -10, width: 6, height: 7, rx: 1, fill: AztecMarket_C.cotton, stroke: AztecMarket_C.outline, strokeWidth: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -14, y1: -10, x2: 14, y2: -10, stroke: AztecMarket_C.stallWood, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: "translate(-12, -6)", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-3,0 Q-4,-3 -3,-6 Q0,-8 3,-6 Q4,-3 3,0 Z",
          fill: AztecMarket_C.pottery,
          stroke: AztecMarket_C.outline,
          strokeWidth: 0.3
        }
      ) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: "translate(12, -6)", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-3,0 Q-4,-3 -3,-6 Q0,-8 3,-6 Q4,-3 3,0 Z",
          fill: AztecMarket_C.pottery,
          stroke: AztecMarket_C.outline,
          strokeWidth: 0.3
        }
      ) })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.88}, ${height * 0.55})`, opacity: 0.3, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -30, stroke: AztecMarket_C.stallPost, strokeWidth: 3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 30, y1: 0, x2: 30, y2: -30, stroke: AztecMarket_C.stallPost, strokeWidth: 3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,-25 Q15,-22 30,-25", fill: "none", stroke: AztecMarket_C.stallRope, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,-20 Q15,-17 30,-20", fill: "none", stroke: AztecMarket_C.stallRope, strokeWidth: 1.5 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.68}, ${height * 0.58})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 3, rx: 8, ry: 2.5, fill: "rgba(0,0,0,0.08)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,0 L-5,3 L5,3 L3,0 Z", fill: AztecMarket_C.skin, stroke: AztecMarket_C.outline, strokeWidth: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -10, stroke: AztecMarket_C.skin, strokeWidth: 3, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -13, r: 2.5, fill: AztecMarket_C.skin, stroke: AztecMarket_C.outline, strokeWidth: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -3, y: -9, width: 6, height: 6, rx: 1, fill: AztecMarket_C.cotton, stroke: AztecMarket_C.outline, strokeWidth: 0.2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -6, x2: 6, y2: -4, stroke: AztecMarket_C.skinDark, strokeWidth: 1.5, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M5,-5 L7,-10 L9,-5 Z", fill: AztecMarket_C.obsidian, stroke: AztecMarket_C.obsidianShine, strokeWidth: 0.3 }),
      Array.from({ length: 5 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${-6 + i * 4},2 L${-5 + i * 4},-1 L${-4 + i * 4},2 Z`,
          fill: AztecMarket_C.obsidian,
          opacity: 0.3
        },
        `shard-${i}`
      ))
    ] }),
    Array.from({ length: 8 }, (_, i) => {
      const sx = 100 + i * 239 % (width - 200);
      const sy = height * 0.72 + i * 31 % (height * 0.1);
      return i % 2 === 0 ? /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: sx,
          cy: sy,
          rx: 2,
          ry: 1.2,
          fill: AztecMarket_C.cacaoBean,
          opacity: 0.2
        },
        `spill-${i}`
      ) : /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: sx,
          cy: sy,
          r: 1.5,
          fill: AztecMarket_C.tomatoRed,
          opacity: 0.15
        },
        `spill-${i}`
      );
    }),
    Array.from({ length: 6 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 200 + i * 287 % (width - 400),
        cy: height * 0.65 + i * 53 % (height * 0.15),
        rx: 20,
        ry: 8,
        fill: AztecMarket_C.paveDark,
        opacity: 0.06
      },
      `foot-${i}`
    )),
    [0.05, 0.18, 0.35, 0.55, 0.72, 0.88].map((sx, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * sx,
        y: height * 0.7,
        width: i % 2 === 0 ? 110 : 100,
        height: 30,
        fill: "rgba(0,0,0,0.06)"
      },
      `awshad-${i}`
    )),
    Array.from({ length: 10 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "circle",
      {
        cx: 60 + i * 197 % (width - 120),
        cy: height * 0.6 + i * 41 % (height * 0.2),
        r: 1.2,
        fill: i % 3 === 0 ? AztecMarket_C.maizeGold : i % 3 === 1 ? AztecMarket_C.tomatoRed : AztecMarket_C.featherGold,
        opacity: 0.2
      },
      `petal-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.05}, ${height * 0.88})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-12,0 Q-16,-8 -14,-18 Q-8,-24 0,-24 Q8,-24 14,-18 Q16,-8 12,0 Z",
          fill: AztecMarket_C.pottery,
          stroke: AztecMarket_C.outline,
          strokeWidth: 0.6
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -24, rx: 8, ry: 3, fill: AztecMarket_C.potteryDark, stroke: AztecMarket_C.outline, strokeWidth: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -12, y1: -12, x2: 12, y2: -12, stroke: AztecMarket_C.potteryRed, strokeWidth: 1.2, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-8,-15 L-6,-15 L-6,-17 L-4,-17 L-4,-15 L-2,-15",
          fill: "none",
          stroke: AztecMarket_C.potteryRed,
          strokeWidth: 0.5,
          opacity: 0.3
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.95}, ${height * 0.9})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-8,0 Q-10,-5 -6,-10 Q-2,-8 2,-10 L4,-4 L2,0 Z",
          fill: AztecMarket_C.pottery,
          stroke: AztecMarket_C.outline,
          strokeWidth: 0.4,
          opacity: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M6,-2 Q8,-6 4,-8 L6,-4 Z",
          fill: AztecMarket_C.potteryDark,
          opacity: 0.3
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.15}, ${height * 0.9})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-10,0 Q-12,-8 -8,-14 L8,-14 Q12,-8 10,0 Z",
          fill: AztecMarket_C.cotton,
          stroke: AztecMarket_C.stallWoodDark,
          strokeWidth: 0.5,
          opacity: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -4, y1: -14, x2: -2, y2: -18, stroke: AztecMarket_C.stallRope, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 4, y1: -14, x2: 2, y2: -18, stroke: AztecMarket_C.stallRope, strokeWidth: 1 }),
      Array.from({ length: 8 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 12 + i * 3 + i % 2 * 2,
          cy: -2 + i % 3 * 2,
          rx: 1.5,
          ry: 1,
          fill: AztecMarket_C.cacaoBean,
          opacity: 0.4,
          transform: `rotate(${i * 25 % 60}, ${12 + i * 3}, 0)`
        },
        `sb-${i}`
      ))
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.78}, ${height * 0.85})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -30, stroke: AztecMarket_C.stallPost, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -8, y: 0, width: 16, height: 3, rx: 1, fill: AztecMarket_C.stallWood }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -6, y: -32, width: 12, height: 4, rx: 1, fill: AztecMarket_C.gold, stroke: AztecMarket_C.outline, strokeWidth: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: -31, width: 3, height: 2, rx: 0.5, fill: AztecMarket_C.turquoise }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -1, y: -31, width: 3, height: 2, rx: 0.5, fill: AztecMarket_C.jadeGreen }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 3, y: -31, width: 2, height: 2, rx: 0.5, fill: AztecMarket_C.turquoise }),
      [-4, -2, 0, 2, 4].map((dx, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: dx,
          y1: -32,
          x2: dx * 2 + flagSway * 0.3,
          y2: -55 - Math.abs(dx) * 3,
          stroke: i === 2 ? AztecMarket_C.quetzalGreen : i % 2 === 0 ? AztecMarket_C.featherGreen : AztecMarket_C.featherRed,
          strokeWidth: 2,
          strokeLinecap: "round"
        },
        `hdf-${i}`
      )),
      [-4, -2, 0, 2, 4].map((dx, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: dx * 2 + flagSway * 0.3,
          cy: -56 - Math.abs(dx) * 3,
          r: 1.5,
          fill: AztecMarket_C.goldLight
        },
        `hdt-${i}`
      ))
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.5}, ${height * 0.88})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -25,
          y: -6,
          width: 50,
          height: 6,
          rx: 2,
          fill: AztecMarket_C.paveMid,
          stroke: AztecMarket_C.paveJoint,
          strokeWidth: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -22,
          y: 0,
          width: 8,
          height: 6,
          rx: 1,
          fill: AztecMarket_C.paveDark,
          stroke: AztecMarket_C.paveJoint,
          strokeWidth: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 14,
          y: 0,
          width: 8,
          height: 6,
          rx: 1,
          fill: AztecMarket_C.paveDark,
          stroke: AztecMarket_C.paveJoint,
          strokeWidth: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -20, y1: -3, x2: 20, y2: -3, stroke: AztecMarket_C.paveJoint, strokeWidth: 0.3, opacity: 0.2 })
    ] }),
    [width * 0.1, width * 0.35, width * 0.65, width * 0.9].map((tx, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${tx}, ${height * 0.5})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 0, y2: -35, stroke: AztecMarket_C.stallPost, strokeWidth: 2.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-5,-35 Q-6,-38 -4,-40 L4,-40 Q6,-38 5,-35 Z",
          fill: AztecMarket_C.potteryDark,
          stroke: AztecMarket_C.outline,
          strokeWidth: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.4 + fireFlicker * 0.3, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M-2,-40 Q-3,${-44 - fireFlicker * 3} 0,${-48 - fireFlicker * 5}
              Q3,${-44 - fireFlicker * 3} 2,-40`,
            fill: "#E08030",
            opacity: 0.6
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M-1,-40 Q-1,${-43 - fireFlicker * 2} 0,${-45 - fireFlicker * 3}
              Q1,${-43 - fireFlicker * 2} 1,-40`,
            fill: "#FFCC60",
            opacity: 0.4
          }
        )
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: 0,
          cy: -44,
          r: 8 + fireFlicker * 3,
          fill: "rgba(255,160,40,0.06)"
        }
      )
    ] }, `torch-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { opacity: 0.08, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.5},${height * 0.36}
          L${width * 0.45},${height} M${width * 0.5},${height * 0.36}
          L${width * 0.55},${height}`,
        fill: "none",
        stroke: AztecMarket_C.paveWet,
        strokeWidth: 4
      }
    ) }),
    [
      { x: width * 0.32, y: height * 0.66 },
      { x: width * 0.58, y: height * 0.64 }
    ].map((child, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${child.x}, ${child.y})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 3, ry: 1, fill: "rgba(0,0,0,0.06)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 0,
          y1: 0,
          x2: 0,
          y2: -5,
          stroke: AztecMarket_C.skin,
          strokeWidth: 1.5,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: 0,
          cy: -6.5,
          r: 1.8,
          fill: AztecMarket_C.skin,
          stroke: AztecMarket_C.outline,
          strokeWidth: 0.2
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -1.5,
          y: -4,
          width: 3,
          height: 3,
          rx: 0.5,
          fill: AztecMarket_C.cotton,
          opacity: 0.5
        }
      )
    ] }, `child-${i}`)),
    Array.from({ length: 15 }, (_, i) => {
      const sx = 50 + i * 131 % (width - 100);
      const sy = height * 0.5 + i * 47 % (height * 0.25);
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: sx,
          cy: sy,
          rx: 12 + i % 3 * 5,
          ry: 5 + i % 2 * 3,
          fill: "rgba(0,0,0,0.04)"
        },
        `shade-${i}`
      );
    }),
    Array.from({ length: 8 }, (_, i) => {
      const lx = 100 + i * 247 % (width - 200);
      const ly = height * 0.55 + i * 61 % (height * 0.2);
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: lx,
          cy: ly,
          rx: 15 + i % 4 * 5,
          ry: 8 + i % 3 * 3,
          fill: "rgba(255,220,140,0.04)"
        },
        `light-${i}`
      );
    }),
    Array.from({ length: 6 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${80 + i * 311 % (width - 160)},${height * 0.7 + i * 29 % (height * 0.15)}
            Q${82 + i * 311 % (width - 160)},${height * 0.7 + i * 29 % (height * 0.15) - 3}
            ${85 + i * 311 % (width - 160)},${height * 0.7 + i * 29 % (height * 0.15)}`,
        fill: AztecMarket_C.maizeGreen,
        opacity: 0.1
      },
      `husk-${i}`
    )),
    Array.from({ length: 4 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.04, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: width * 0.6 + i * 15, cy: height * 0.65 + i * 3, r: 1.5, fill: AztecMarket_C.paveDark }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: width * 0.6 + i * 15 - 1, cy: height * 0.65 + i * 3 - 2, r: 0.6, fill: AztecMarket_C.paveDark }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: width * 0.6 + i * 15 + 1, cy: height * 0.65 + i * 3 - 2, r: 0.6, fill: AztecMarket_C.paveDark })
    ] }, `paw-${i}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.5 - 220}, ${height * 0.86})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -6,
          y: -6,
          width: 452,
          height: 112,
          rx: 4,
          fill: "rgba(0,0,0,0.25)"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -10,
          y: -10,
          width: 460,
          height: 120,
          rx: 6,
          fill: AztecMarket_C.boardWood,
          stroke: AztecMarket_C.outline,
          strokeWidth: 2
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 0,
          y: 0,
          width: 440,
          height: 100,
          rx: 3,
          fill: AztecMarket_C.boardSurface
        }
      ),
      Array.from({ length: 8 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M0,${10 + i * 12} Q${100 + i % 3 * 40},${8 + i * 12} ${220},${10 + i * 12}
              Q${340 - i % 3 * 30},${12 + i * 12} 440,${10 + i * 12}`,
          fill: "none",
          stroke: AztecMarket_C.boardWood,
          strokeWidth: 0.5,
          opacity: 0.15
        },
        `wg-${i}`
      )),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { opacity: 0.3, children: Array.from({ length: 22 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${i * 20 + 5},3 L${i * 20 + 10},3 L${i * 20 + 10},7 L${i * 20 + 15},7 L${i * 20 + 15},3`,
          fill: "none",
          stroke: AztecMarket_C.gold,
          strokeWidth: 0.8
        },
        `abf-${i}`
      )) }),
      boardText && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "text",
        {
          x: 220,
          y: 58,
          textAnchor: "middle",
          fill: AztecMarket_C.boardText,
          fontSize: 36,
          fontFamily: "'Courier New', monospace",
          fontWeight: "bold",
          opacity: 0.9,
          children: boardText
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height,
        fill: AztecMarket_C.warmGlow
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.3 + mistFloat,
        cy: height * 0.85,
        rx: 200,
        ry: 20,
        fill: AztecMarket_C.fogNear,
        opacity: 0.2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.7 - mistFloat,
        cy: height * 0.87,
        rx: 180,
        ry: 18,
        fill: AztecMarket_C.fogNear,
        opacity: 0.15
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height,
        fill: "url(#am-vignette)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "am-bottom", x1: "0%", y1: "88%", x2: "0%", y2: "100%", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(0,0,0,0)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(20,10,5,0.2)" })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.88,
        width,
        height: height * 0.12,
        fill: "url(#am-bottom)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height,
        fill: "url(#am-canvas)",
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height,
        fill: "rgba(200,160,80,0.03)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "am-left", x1: "0%", y1: "0%", x2: "10%", y2: "0%", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(20,10,5,0.18)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(0,0,0,0)" })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width: width * 0.12,
        height,
        fill: "url(#am-left)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "am-right", x1: "90%", y1: "0%", x2: "100%", y2: "0%", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(0,0,0,0)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(20,10,5,0.18)" })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * 0.88,
        y: 0,
        width: width * 0.12,
        height,
        fill: "url(#am-right)"
      }
    ),
    Array.from({ length: 25 }, (_, i) => {
      const dx = 80 + i * 83 % (width - 160);
      const dy = height * 0.35 + i * 37 % (height * 0.3);
      const ds = 0.4 + i % 3 * 0.3;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: dx + sineWave(frame, 0.015, i * 0.7) * 3,
          cy: dy + sineWave(frame, 0.012, i * 1.3) * 2,
          r: ds,
          fill: "#FFF8E0",
          opacity: 0.06 + i % 4 * 0.015
        },
        `mote-${i}`
      );
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { opacity: 0.12, children: [width * 0.2, width * 0.45, width * 0.7, width * 0.92].map((sx, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${sx},${height * 0.68}
              Q${sx + smokeDrift1 * (i % 2 === 0 ? 1 : -1)},${height * 0.58}
              ${sx + smokeDrift1 * 2 * (i % 2 === 0 ? 1 : -1)},${height * 0.48}`,
        fill: "none",
        stroke: AztecMarket_C.cookSmoke,
        strokeWidth: 4,
        strokeLinecap: "round"
      },
      `thinsmoke-${i}`
    )) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.5,
        cy: height * 0.6,
        rx: width * 0.35,
        ry: height * 0.1,
        fill: AztecMarket_C.dustLight,
        opacity: 0.06
      }
    ),
    Array.from({ length: 6 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: width * 0.02 + i * (width * 0.16),
          y: height * 0.92,
          width: width * 0.14,
          height: height * 0.06,
          fill: AztecMarket_C.paveMid,
          stroke: AztecMarket_C.paveJoint,
          strokeWidth: 0.5,
          opacity: 0.2,
          rx: 1
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: width * 0.09 + i * (width * 0.16),
          y1: height * 0.92,
          x2: width * 0.09 + i * (width * 0.16),
          y2: height * 0.98,
          stroke: AztecMarket_C.paveJoint,
          strokeWidth: 0.3,
          opacity: 0.15
        }
      )
    ] }, `fstone-${i}`)),
    [width * 0.1, width * 0.35, width * 0.65, width * 0.9].map((gx, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "circle",
      {
        cx: gx,
        cy: height * 0.5,
        r: 40 + fireFlicker * 10,
        fill: "rgba(255,160,40,0.02)"
      },
      `tglow-${i}`
    )),
    Array.from({ length: 4 }, (_, i) => {
      const bx = width * 0.25 + i * width * 0.15;
      const by = height * 0.72 + i % 2 * 5;
      const peckCycle = sineWave(frame, 0.2, i * 2);
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${bx}, ${by})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "ellipse",
          {
            cx: 0,
            cy: 0,
            rx: 2,
            ry: 1.5,
            fill: "#5A4A30",
            opacity: 0.3
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "circle",
          {
            cx: -1.5,
            cy: -1 - Math.max(0, peckCycle) * 1.5,
            r: 1,
            fill: "#5A4A30",
            opacity: 0.3
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: -2.5,
            y1: -1 - Math.max(0, peckCycle) * 1.5,
            x2: -3.5,
            y2: -0.5 - Math.max(0, peckCycle),
            stroke: "#8A6A30",
            strokeWidth: 0.4,
            opacity: 0.3
          }
        )
      ] }, `gbird-${i}`);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.35,
        width,
        height: height * 0.65,
        fill: "url(#am-ambient)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.35,
        width,
        height: height * 0.65,
        fill: "url(#am-ground-shadow)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.35,
        width,
        height: height * 0.5,
        fill: "url(#am-dust)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { opacity: 0.02, children: Array.from({ length: 20 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: i * 107 % width,
        y: i * 59 % height,
        width: 1.5,
        height: 1.5,
        fill: i % 2 === 0 ? "#FFF" : "#000"
      },
      `g-${i}`
    )) })
  ] });
};
/* harmony default export */ const backgrounds_AztecMarket = ((/* unused pure expression or super */ null && (AztecMarket)));

;// ./src/backgrounds/AztecSacrifice.tsx





const AztecSacrifice_C = {
  // Night sky
  skyTop: "#06040A",
  skyMid: "#0E0818",
  skyLow: "#1A0E28",
  skyHorizon: "#2A1838",
  skyGlow: "rgba(200,100,30,0.12)",
  starWhite: "#E8E0D0",
  starYellow: "#F0D880",
  starDim: "rgba(200,190,170,0.4)",
  // Moon
  moonFace: "#E8DCC0",
  moonShadow: "#C8B898",
  moonGlow: "rgba(220,210,180,0.15)",
  moonCrater: "#B8A880",
  // Distant city silhouette
  cityDark: "#0A0610",
  cityMid: "#1A1020",
  cityLight: "#2A1830",
  cityWindow: "rgba(220,160,60,0.5)",
  cityTorch: "rgba(255,140,40,0.3)",
  // Templo Mayor pyramid
  pyramidBase: "#4A3828",
  pyramidMid: "#5A4832",
  pyramidLight: "#6A583C",
  pyramidDark: "#2A1A10",
  pyramidShadow: "#1A0E08",
  pyramidHighlight: "#7A6848",
  pyramidEdge: "#3A2818",
  stairStone: "#5A4A38",
  stairShadow: "#3A2A1A",
  stairHighlight: "#7A6A52",
  stairCenter: "#6A5A42",
  // Temple shrines (top)
  shrineRed: "#8A2020",
  shrineRedDark: "#5A1010",
  shrineRedLight: "#B03030",
  shrineBlue: "#1A3A6A",
  shrineBlueDark: "#0A1A3A",
  shrineBlueLight: "#2A4A8A",
  shrineRoof: "#3A2A1A",
  shrineRoofEdge: "#5A4A30",
  // Sacrificial stone (techcatl)
  altarStone: "#6A5A48",
  altarDark: "#3A2A1A",
  altarLight: "#8A7A60",
  altarBlood: "#5A0808",
  altarBloodWet: "#8A1010",
  altarBloodDrip: "#6A0A0A",
  altarCarving: "#4A3A28",
  // Fire & torches
  fireDark: "#8A2010",
  fireMid: "#D06020",
  fireLight: "#F0A030",
  fireBright: "#FFD060",
  fireWhite: "#FFF0C0",
  fireGlow: "rgba(255,140,40,0.35)",
  fireGlowWide: "rgba(255,120,30,0.12)",
  torchWood: "#5A3818",
  torchWoodDark: "#3A2010",
  torchBase: "#4A2A10",
  emberRed: "#C04020",
  emberOrange: "#E08030",
  emberYellow: "#FFC040",
  sparkWhite: "#FFF8E0",
  // Incense & smoke
  smokeDark: "rgba(20,15,10,0.5)",
  smokeMid: "rgba(60,45,30,0.35)",
  smokeLight: "rgba(120,100,70,0.2)",
  smokeWhite: "rgba(200,190,170,0.15)",
  incenseBlue: "rgba(80,100,140,0.2)",
  incenseGray: "rgba(160,150,140,0.25)",
  copalSmoke: "rgba(140,120,80,0.18)",
  // Blood channel
  bloodDark: "#3A0808",
  bloodMid: "#6A1010",
  bloodLight: "#8A2020",
  bloodGlisten: "rgba(180,40,40,0.5)",
  bloodDried: "#3A1818",
  // Priests
  priestBlack: "#1A1A1A",
  priestRobe: "#2A1A1A",
  priestSkin: "#8A6A42",
  priestPaint: "#1A1A2A",
  priestPaintRed: "#8A1818",
  priestJade: "#2A7A4A",
  // Decorations
  skullWhite: "#E0D8C8",
  skullShadow: "#A8A090",
  skullEye: "#1A1010",
  bannerRed: "#8A2020",
  bannerGold: "#C8A030",
  bannerBlue: "#1A2A5A",
  bannerGreen: "#1A5A2A",
  featherGreen: "#1A6A3A",
  featherRed: "#A02020",
  featherBlue: "#1A3080",
  featherGold: "#D0A020",
  jadeGreen: "#2A8A4A",
  jadeDark: "#1A5A30",
  turquoise: "#30A0A0",
  turquoiseDark: "#1A6A6A",
  goldBright: "#E0B830",
  goldDark: "#8A7020",
  obsidian: "#2A2A3A",
  obsidianShine: "#4A4A6A",
  // Ground / plaza
  plazaStone: "#4A3A2A",
  plazaDark: "#2A1A0A",
  plazaLight: "#5A4A38",
  plazaGap: "#1A1008",
  plazaBlood: "#3A1010",
  // Serpent heads
  serpentStone: "#6A5A48",
  serpentDark: "#3A2A1A",
  serpentEye: "#C8A020",
  serpentTongue: "#8A2020",
  serpentTooth: "#D8D0C0",
  // Tzompantli (skull rack)
  rackWood: "#5A3818",
  rackWoodDark: "#3A2010",
  rackRope: "#8A7858",
  // Atmospheric
  vignetteBlack: "rgba(0,0,0,0.7)",
  vignetteEdge: "rgba(0,0,0,0.9)",
  fogDark: "rgba(20,10,5,0.3)",
  fogLight: "rgba(60,40,20,0.15)",
  godRay: "rgba(255,180,80,0.06)",
  boardBg: "#2A1A0A",
  boardEdge: "#5A4A30",
  boardText: "#E8D8B8",
  boardShadow: "rgba(0,0,0,0.5)"
};
const AztecSacrifice_Torch = ({ x, y, scale = 1, frame, seed = 0 }) => {
  const flicker1 = sineWave(frame, 3.2, seed);
  const flicker2 = sineWave(frame, 5.7, seed + 1.5);
  const flicker3 = sineWave(frame, 8.1, seed + 3);
  const sway = sineWave(frame, 1.1, seed + 0.5) * 2;
  const intensity = 0.8 + flicker1 * 0.1 + flicker2 * 0.1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x},${y}) scale(${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -4, y: 0, width: 8, height: 50, rx: 2, fill: AztecSacrifice_C.torchWood, stroke: AztecSacrifice_C.torchWoodDark, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -6, y: 45, width: 12, height: 8, rx: 1, fill: AztecSacrifice_C.torchWoodDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: -5, width: 10, height: 15, rx: 2, fill: AztecSacrifice_C.bannerRed, opacity: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0 + sway * 0.5, cy: -25, rx: 40 * intensity, ry: 50 * intensity, fill: AztecSacrifice_C.fireGlowWide }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0 + sway * 0.3, cy: -20, rx: 25 * intensity, ry: 35 * intensity, fill: AztecSacrifice_C.fireGlow }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0 + sway, cy: -18 + flicker2 * 2, rx: 8 + flicker1 * 2, ry: 20 + flicker2 * 3, fill: AztecSacrifice_C.fireDark, opacity: 0.9 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: sway * 0.7, cy: -22 + flicker1 * 2, rx: 6 + flicker2 * 1.5, ry: 16 + flicker1 * 2, fill: AztecSacrifice_C.fireMid }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: sway * 0.4, cy: -25 + flicker3 * 1.5, rx: 4 + flicker1, ry: 12 + flicker3 * 2, fill: AztecSacrifice_C.fireLight }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: sway * 0.2, cy: -27 + flicker2, rx: 2.5 + flicker3 * 0.8, ry: 8 + flicker1 * 1.5, fill: AztecSacrifice_C.fireBright }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -28 + flicker1, rx: 1.5, ry: 5 + flicker2, fill: AztecSacrifice_C.fireWhite, opacity: 0.7 }),
    [0, 1, 2, 3, 4].map((i) => {
      const sparkPhase = seed + i * 1.7;
      const sparkY = -35 - (frame * 0.8 + i * 30 + seed * 10) % 50;
      const sparkX = sineWave(frame, 2 + i * 0.5, sparkPhase) * (6 + i * 2);
      const sparkOp = Math.max(0, 1 - (frame * 0.8 + i * 30 + seed * 10) % 50 / 50);
      return /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: sparkX + sway, cy: sparkY, r: 0.8 + Math.random() * 0.4, fill: i % 2 === 0 ? AztecSacrifice_C.emberYellow : AztecSacrifice_C.emberOrange, opacity: sparkOp * 0.8 }, i);
    })
  ] });
};
const SerpentHead = ({ x, y, scale = 1, flip = false }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x},${y}) scale(${flip ? -scale : scale},${scale})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q15,-5 25,-2 Q35,2 38,10 Q40,18 35,22 Q25,28 10,25 Q0,22 -5,15 Q-8,8 0,0Z", fill: AztecSacrifice_C.serpentStone, stroke: AztecSacrifice_C.serpentDark, strokeWidth: 0.8 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M25,15 Q35,18 38,22 Q36,28 28,30 Q20,28 18,22Z", fill: AztecSacrifice_C.serpentDark }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 18, cy: 8, r: 4, fill: AztecSacrifice_C.serpentEye }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 18, cy: 8, r: 2, fill: AztecSacrifice_C.obsidian }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 19, cy: 7, r: 0.8, fill: AztecSacrifice_C.goldBright, opacity: 0.6 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M30,18 L32,25 L28,20Z", fill: AztecSacrifice_C.serpentTooth }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M24,20 L25,27 L22,22Z", fill: AztecSacrifice_C.serpentTooth }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M35,22 Q42,24 48,20 Q45,26 38,25", fill: AztecSacrifice_C.serpentTongue, strokeWidth: 0.5, stroke: AztecSacrifice_C.bloodDark }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 30, cy: 6, r: 1.5, fill: AztecSacrifice_C.serpentDark }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M5,8 Q10,5 15,7", fill: "none", stroke: AztecSacrifice_C.serpentDark, strokeWidth: 0.4, opacity: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M8,14 Q13,11 18,13", fill: "none", stroke: AztecSacrifice_C.serpentDark, strokeWidth: 0.4, opacity: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M3,18 Q8,16 12,18", fill: "none", stroke: AztecSacrifice_C.serpentDark, strokeWidth: 0.4, opacity: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q-5,-8 2,-15 Q5,-10 8,-18 Q8,-8 12,-14 Q10,-5 15,-8 Q12,0 18,-3", fill: AztecSacrifice_C.featherGreen, opacity: 0.7, stroke: AztecSacrifice_C.serpentDark, strokeWidth: 0.3 })
] });
const Skull = ({ x, y, scale = 1, rot = 0 }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x},${y}) rotate(${rot}) scale(${scale})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 6, ry: 7, fill: AztecSacrifice_C.skullWhite, stroke: AztecSacrifice_C.skullShadow, strokeWidth: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -1, rx: 5.5, ry: 6, fill: AztecSacrifice_C.skullWhite }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -2.2, cy: -1, rx: 1.8, ry: 2, fill: AztecSacrifice_C.skullEye }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 2.2, cy: -1, rx: 1.8, ry: 2, fill: AztecSacrifice_C.skullEye }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-0.8,1.5 L0,3 L0.8,1.5", fill: "none", stroke: AztecSacrifice_C.skullEye, strokeWidth: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -3, y: 4, width: 6, height: 2, rx: 0.5, fill: AztecSacrifice_C.skullWhite, stroke: AztecSacrifice_C.skullShadow, strokeWidth: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -1.5, y1: 4, x2: -1.5, y2: 6, stroke: AztecSacrifice_C.skullShadow, strokeWidth: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 4, x2: 0, y2: 6, stroke: AztecSacrifice_C.skullShadow, strokeWidth: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 1.5, y1: 4, x2: 1.5, y2: 6, stroke: AztecSacrifice_C.skullShadow, strokeWidth: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -4.5, cy: 0, rx: 1, ry: 2, fill: AztecSacrifice_C.skullShadow, opacity: 0.3 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 4.5, cy: 0, rx: 1, ry: 2, fill: AztecSacrifice_C.skullShadow, opacity: 0.3 })
] });
const SkullRack = ({ x, y, width = 200, rows = 4, frame }) => {
  const cols = Math.floor(width / 16);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x},${y})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 6, height: rows * 18 + 10, rx: 1, fill: AztecSacrifice_C.rackWood, stroke: AztecSacrifice_C.rackWoodDark, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: width - 6, y: 0, width: 6, height: rows * 18 + 10, rx: 1, fill: AztecSacrifice_C.rackWood, stroke: AztecSacrifice_C.rackWoodDark, strokeWidth: 0.8 }),
    Array.from({ length: rows }).map((_, row) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 3, y: 8 + row * 18, width: width - 6, height: 3, rx: 0.5, fill: AztecSacrifice_C.rackWood, stroke: AztecSacrifice_C.rackWoodDark, strokeWidth: 0.4 }),
      Array.from({ length: cols }).map((_2, col) => {
        const rot = sineWave(frame, 0.3 + col * 0.05, row * 2 + col) * 8;
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(Skull, { x: 10 + col * (width - 20) / cols, y: 10 + row * 18, scale: 0.65, rot }, col);
      })
    ] }, row)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -3, y: -5, width: width + 6, height: 8, rx: 2, fill: AztecSacrifice_C.rackWoodDark, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 })
  ] });
};
const IncenseBurner = ({ x, y, scale = 1, frame, seed = 0 }) => {
  const smoke1 = sineWave(frame, 0.8, seed);
  const smoke2 = sineWave(frame, 1.3, seed + 2);
  const glow = 0.6 + sineWave(frame, 2, seed) * 0.2;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x},${y}) scale(${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 20, rx: 12, ry: 3, fill: AztecSacrifice_C.pyramidDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,20 L-3,5 L3,5 L4,20Z", fill: AztecSacrifice_C.pyramidMid, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-10,5 Q-12,-2 -8,-5 Q0,-8 8,-5 Q12,-2 10,5Z", fill: AztecSacrifice_C.pyramidBase, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-7,0 Q-3,-2 0,0 Q3,-2 7,0", fill: "none", stroke: AztecSacrifice_C.goldDark, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -5, cy: 2, r: 1, fill: AztecSacrifice_C.turquoiseDark, opacity: 0.6 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 5, cy: 2, r: 1, fill: AztecSacrifice_C.turquoiseDark, opacity: 0.6 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -3, rx: 6, ry: 2.5, fill: AztecSacrifice_C.fireDark, opacity: glow }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -3, rx: 4, ry: 1.5, fill: AztecSacrifice_C.fireMid, opacity: glow * 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -3, rx: 2, ry: 1, fill: AztecSacrifice_C.fireLight, opacity: glow * 0.6 }),
    [0, 1, 2].map((i) => {
      const sX = (i - 1) * 4 + smoke1 * 3 * (i === 1 ? -1 : 1);
      const phase = seed + i * 1.5;
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: sX + sineWave(frame, 0.5, phase) * 5, cy: -15 - i * 8 + smoke2 * 2, rx: 5 + i * 3, ry: 4 + i * 2, fill: AztecSacrifice_C.copalSmoke, opacity: 0.3 - i * 0.05 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: sX + sineWave(frame, 0.4, phase + 1) * 8, cy: -28 - i * 12 + smoke1 * 3, rx: 8 + i * 4, ry: 5 + i * 3, fill: AztecSacrifice_C.incenseGray, opacity: 0.2 - i * 0.04 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: sX + sineWave(frame, 0.3, phase + 2) * 12, cy: -45 - i * 15, rx: 12 + i * 5, ry: 7 + i * 3, fill: AztecSacrifice_C.smokeWhite, opacity: 0.12 - i * 0.03 })
      ] }, i);
    })
  ] });
};
const SacredBanner = ({ x, y, color, colorDark, height = 80, frame, seed = 0 }) => {
  const sway = sineWave(frame, 0.6, seed) * 3;
  const wave1 = sineWave(frame, 1.2, seed + 1) * 2;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x},${y})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -2, y: -10, width: 4, height: height + 20, rx: 1, fill: AztecSacrifice_C.rackWood, stroke: AztecSacrifice_C.rackWoodDark, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -12, r: 4, fill: AztecSacrifice_C.goldBright, stroke: AztecSacrifice_C.goldDark, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -12, r: 2, fill: AztecSacrifice_C.turquoise }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M3,0 Q${8 + sway},${height * 0.3} ${5 + wave1},${height * 0.6} Q${3 + sway * 0.5},${height * 0.8} ${6 + wave1 * 0.5},${height}
            L${-4 + wave1 * 0.3},${height} Q${-2 + sway * 0.3},${height * 0.8} ${-3 + wave1 * 0.5},${height * 0.6}
            Q${-6 + sway * 0.5},${height * 0.3} -3,0Z`,
        fill: color,
        stroke: colorDark,
        strokeWidth: 0.5
      }
    ),
    [0.2, 0.4, 0.6, 0.8].map((t, i) => {
      const by = height * t;
      const bx = sineWave(frame, 0.6, seed + i) * 1.5;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${bx},${by - 5} L${bx + 5},${by} L${bx},${by + 5} L${bx - 5},${by}Z`,
          fill: AztecSacrifice_C.goldBright,
          opacity: 0.5
        },
        i
      );
    }),
    Array.from({ length: 5 }).map((_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: -3 + i * 2.5 + sway * 0.3,
        y1: height,
        x2: -4 + i * 2.5 + sway * 0.5,
        y2: height + 8 + sineWave(frame, 1, seed + i) * 2,
        stroke: AztecSacrifice_C.goldBright,
        strokeWidth: 0.8,
        opacity: 0.6
      },
      i
    ))
  ] });
};
const FeatherCrest = ({ x, y, scale = 1, frame, seed = 0 }) => {
  const sway = sineWave(frame, 0.8, seed) * 2;
  const colors = [AztecSacrifice_C.featherGreen, AztecSacrifice_C.featherBlue, AztecSacrifice_C.featherRed, AztecSacrifice_C.featherGold, AztecSacrifice_C.featherGreen, AztecSacrifice_C.featherBlue, AztecSacrifice_C.featherRed];
  return /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(${x},${y}) scale(${scale})`, children: colors.map((color, i) => {
    const angle = -60 + i * 20;
    const featherSway = sway + sineWave(frame, 1.2, seed + i * 0.7) * 3;
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,0 Q${Math.sin((angle + featherSway) * Math.PI / 180) * 20},${-15} ${Math.sin((angle + featherSway) * Math.PI / 180) * 35},${-40 - i * 2}`,
        fill: "none",
        stroke: color,
        strokeWidth: 2.5,
        strokeLinecap: "round",
        opacity: 0.8
      },
      i
    );
  }) });
};
const CarvedStep = ({ x, y, width, height }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x},${y})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height, fill: AztecSacrifice_C.stairStone, stroke: AztecSacrifice_C.stairShadow, strokeWidth: 0.5 }),
  Array.from({ length: Math.floor(width / 25) }).map((_, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${12 + i * 25},${height / 2})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: -4, width: 10, height: 8, rx: 1, fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.4, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 2, fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.3, opacity: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -2, x2: 3, y2: 2, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.3, opacity: 0.3 })
  ] }, i)),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: width, y2: 0, stroke: AztecSacrifice_C.stairHighlight, strokeWidth: 0.5, opacity: 0.4 })
] });
const SacrificialKnife = ({ x, y, scale = 1, rotation = 0 }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x},${y}) rotate(${rotation}) scale(${scale})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q5,-2 18,-5 Q22,-4 20,0 Q18,4 5,2Z", fill: AztecSacrifice_C.obsidian, stroke: AztecSacrifice_C.obsidianShine, strokeWidth: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M2,0 Q10,-1 18,-4", fill: "none", stroke: AztecSacrifice_C.obsidianShine, strokeWidth: 0.3, opacity: 0.6 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 Q-2,-3 -10,-3 Q-14,-2 -14,0 Q-14,2 -10,3 Q-2,3 0,0Z", fill: AztecSacrifice_C.turquoiseDark, stroke: AztecSacrifice_C.jadeDark, strokeWidth: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -5, cy: 0, r: 1.5, fill: AztecSacrifice_C.turquoise, opacity: 0.8 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -9, cy: 0, r: 1.2, fill: AztecSacrifice_C.jadeGreen, opacity: 0.8 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -7, cy: -1.5, r: 0.8, fill: AztecSacrifice_C.goldBright, opacity: 0.6 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -7, cy: 1.5, r: 0.8, fill: AztecSacrifice_C.goldBright, opacity: 0.6 })
] });
const StoneTablet = ({ x, y, width, height, text, frame }) => {
  const glow = 0.5 + sineWave(frame, 0.5, 0) * 0.1;
  if (!text) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x},${y})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 4, y: 4, width, height, rx: 6, fill: AztecSacrifice_C.boardShadow }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height, rx: 6, fill: AztecSacrifice_C.boardBg, stroke: AztecSacrifice_C.boardEdge, strokeWidth: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 6, y: 6, width: width - 12, height: height - 12, rx: 3, fill: "none", stroke: AztecSacrifice_C.goldDark, strokeWidth: 1, opacity: 0.4 }),
    [[10, 10], [width - 14, 10], [10, height - 14], [width - 14, height - 14]].map(([cx, cy], i) => /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx, cy, r: 3, fill: AztecSacrifice_C.turquoiseDark, opacity: 0.4 }, i)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("text", { x: width / 2, y: height / 2 + 6, textAnchor: "middle", fill: AztecSacrifice_C.boardText, fontSize: 16, fontFamily: "Georgia, serif", opacity: glow, children: text }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height, rx: 6, fill: AztecSacrifice_C.fireGlowWide, opacity: 0.15 + sineWave(frame, 2, 5) * 0.05 })
  ] });
};
const BloodDrip = ({ x, startY, frame, seed = 0, speed = 0.5 }) => {
  const progress = (frame * speed + seed * 40) % 120 / 120;
  const dripY = startY + progress * 60;
  const opacity = progress < 0.8 ? 0.8 : (1 - progress) * 4;
  const stretch = 1 + progress * 0.5;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: x, y1: startY, x2: x, y2: dripY - 3, stroke: AztecSacrifice_C.bloodMid, strokeWidth: 1.2, opacity: opacity * 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: x, cy: dripY, rx: 1.5, ry: 2 * stretch, fill: AztecSacrifice_C.bloodLight, opacity }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: x, cy: dripY - 0.5, rx: 0.8, ry: 1, fill: AztecSacrifice_C.bloodGlisten, opacity: opacity * 0.5 })
  ] });
};
const CeremonialDrum = ({ x, y, scale = 1, frame, seed = 0 }) => {
  const vibrate = sineWave(frame, 6, seed) * 0.5;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x},${y}) scale(${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 25, rx: 18, ry: 5, fill: AztecSacrifice_C.rackWoodDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -18, y: 0, width: 36, height: 25, rx: 2, fill: AztecSacrifice_C.rackWood, stroke: AztecSacrifice_C.rackWoodDark, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0 + vibrate, rx: 18, ry: 5, fill: AztecSacrifice_C.skullWhite, stroke: AztecSacrifice_C.rackWoodDark, strokeWidth: 0.8, opacity: 0.9 }),
    [-12, -6, 0, 6, 12].map((rx, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: rx, y1: 5, x2: rx + 2, y2: 22, stroke: AztecSacrifice_C.rackRope, strokeWidth: 0.6 }, i)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-15,10 Q-8,8 0,10 Q8,8 15,10", fill: "none", stroke: AztecSacrifice_C.goldDark, strokeWidth: 0.5, opacity: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-15,16 Q-8,14 0,16 Q8,14 15,16", fill: "none", stroke: AztecSacrifice_C.goldDark, strokeWidth: 0.5, opacity: 0.5 })
  ] });
};
const OfferingBowl = ({ x, y, scale = 1 }) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x},${y}) scale(${scale})`, children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 12, rx: 14, ry: 3, fill: AztecSacrifice_C.plazaDark, opacity: 0.4 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-12,0 Q-14,8 -10,10 Q0,14 10,10 Q14,8 12,0Z", fill: AztecSacrifice_C.pyramidBase, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.6 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 12, ry: 3.5, fill: AztecSacrifice_C.pyramidMid, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -0.5, rx: 9, ry: 2.5, fill: AztecSacrifice_C.bloodDark, opacity: 0.7 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 12, ry: 3.5, fill: "none", stroke: AztecSacrifice_C.goldDark, strokeWidth: 0.4, opacity: 0.5 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -8, cy: 5, r: 1, fill: AztecSacrifice_C.jadeGreen, opacity: 0.6 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 8, cy: 5, r: 1, fill: AztecSacrifice_C.jadeGreen, opacity: 0.6 }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 8, r: 1, fill: AztecSacrifice_C.turquoise, opacity: 0.6 })
] });
const AztecSacrifice = ({
  boardText,
  width = 1920,
  height = 1080
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const breathe = sineWave(frame, 0.3, 0);
  const slowDrift = sineWave(frame, 0.15, 0);
  const fireFlicker = sineWave(frame, 3, 0);
  const smokeRise = sineWave(frame, 0.4, 2);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("svg", { viewBox: `0 0 ${width} ${height}`, width, height, style: { backgroundColor: AztecSacrifice_C.skyTop }, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("defs", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "sac-sky", x1: "0", y1: "0", x2: "0", y2: "1", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: AztecSacrifice_C.skyTop }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "30%", stopColor: AztecSacrifice_C.skyMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "60%", stopColor: AztecSacrifice_C.skyLow }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: AztecSacrifice_C.skyHorizon })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("pattern", { id: "sac-stone-tex", width: "8", height: "8", patternUnits: "userSpaceOnUse", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { width: "8", height: "8", fill: AztecSacrifice_C.pyramidMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: "0", y: "0", width: "4", height: "4", fill: AztecSacrifice_C.pyramidBase, opacity: "0.3" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: "4", y: "4", width: "4", height: "4", fill: AztecSacrifice_C.pyramidBase, opacity: "0.2" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "2", cy: "6", r: "0.3", fill: AztecSacrifice_C.pyramidDark, opacity: "0.2" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "6", cy: "2", r: "0.3", fill: AztecSacrifice_C.pyramidDark, opacity: "0.15" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "sac-blood-grad", x1: "0", y1: "0", x2: "0", y2: "1", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: AztecSacrifice_C.bloodLight }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "50%", stopColor: AztecSacrifice_C.bloodMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: AztecSacrifice_C.bloodDark })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "sac-fire-glow", cx: "0.5", cy: "0.5", r: "0.5", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: AztecSacrifice_C.fireLight, stopOpacity: "0.3" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "50%", stopColor: AztecSacrifice_C.fireMid, stopOpacity: "0.1" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: AztecSacrifice_C.fireDark, stopOpacity: "0" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "sac-moon-glow", cx: "0.5", cy: "0.5", r: "0.5", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: AztecSacrifice_C.moonFace, stopOpacity: "0.4" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "40%", stopColor: AztecSacrifice_C.moonGlow, stopOpacity: "0.15" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: AztecSacrifice_C.moonGlow, stopOpacity: "0" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("filter", { id: "sac-canvas", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("feTurbulence", { type: "fractalNoise", baseFrequency: "0.8", numOctaves: "4", seed: "42", result: "noise" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("feColorMatrix", { type: "saturate", values: "0", in: "noise", result: "gray" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("feBlend", { in: "SourceGraphic", in2: "gray", mode: "multiply", result: "canvas" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "sac-vignette", cx: "0.5", cy: "0.45", r: "0.7", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "transparent" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "70%", stopColor: "rgba(0,0,0,0.2)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: AztecSacrifice_C.vignetteEdge })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "sac-godray", x1: "0.5", y1: "0", x2: "0.5", y2: "1", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: AztecSacrifice_C.fireLight, stopOpacity: "0.08" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: AztecSacrifice_C.fireDark, stopOpacity: "0" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("filter", { id: "sac-smoke-blur", children: /* @__PURE__ */ (0,jsx_runtime.jsx)("feGaussianBlur", { stdDeviation: "3" }) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("filter", { id: "sac-star-glow", children: /* @__PURE__ */ (0,jsx_runtime.jsx)("feGaussianBlur", { stdDeviation: "1.5" }) })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height, fill: "url(#sac-sky)" }),
    [
      [120, 45, 1.2],
      [280, 30, 0.8],
      [450, 60, 1],
      [620, 25, 0.7],
      [780, 50, 1.1],
      [920, 35, 0.6],
      [1050, 55, 0.9],
      [1200, 20, 1],
      [1380, 45, 0.7],
      [1520, 30, 0.8],
      [1680, 65, 0.6],
      [1800, 40, 1],
      [200, 90, 0.5],
      [500, 85, 0.7],
      [850, 75, 0.8],
      [1100, 80, 0.6],
      [1450, 70, 0.9],
      [1700, 85, 0.5],
      [350, 110, 0.4],
      [700, 100, 0.6],
      [1e3, 95, 0.5],
      [1300, 105, 0.7],
      [1600, 115, 0.4],
      [1850, 60, 0.6],
      [160, 140, 0.5],
      [420, 130, 0.6],
      [680, 125, 0.4],
      [940, 135, 0.5],
      [1160, 120, 0.7],
      [1400, 140, 0.4],
      [1650, 128, 0.6],
      [1880, 110, 0.5]
    ].map(([sx, sy, sr], i) => {
      const twinkle = 0.4 + sineWave(frame, 0.5 + i * 0.1, i * 1.3) * 0.4;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: sx, cy: sy, r: sr, fill: i % 3 === 0 ? AztecSacrifice_C.starYellow : AztecSacrifice_C.starWhite, opacity: twinkle }, i);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 1650, cy: 100, r: 60, fill: "url(#sac-moon-glow)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 1650, cy: 100, r: 28, fill: AztecSacrifice_C.moonFace, opacity: 0.9 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 1650, cy: 100, r: 26, fill: AztecSacrifice_C.moonShadow, opacity: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 1642, cy: 92, r: 4, fill: AztecSacrifice_C.moonCrater, opacity: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 1658, cy: 105, r: 3, fill: AztecSacrifice_C.moonCrater, opacity: 0.25 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 1645, cy: 108, r: 2.5, fill: AztecSacrifice_C.moonCrater, opacity: 0.2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 1656, cy: 90, r: 2, fill: AztecSacrifice_C.moonCrater, opacity: 0.2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 1660, cy: 96, r: 24, fill: AztecSacrifice_C.skyMid, opacity: 0.5 }),
    [
      [200, 80, 250, 20, 0.08],
      [600, 120, 300, 25, 0.06],
      [1e3, 60, 200, 18, 0.07],
      [1400, 100, 280, 22, 0.05],
      [1700, 70, 220, 16, 0.06]
    ].map(([cx, cy, w, h, op], i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: cx + slowDrift * 10,
        cy,
        rx: w,
        ry: h,
        fill: AztecSacrifice_C.skyLow,
        opacity: op
      },
      i
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width / 2,
        cy: height * 0.35,
        rx: 600,
        ry: 80,
        fill: AztecSacrifice_C.skyGlow,
        opacity: 0.3 + fireFlicker * 0.05
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.6, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M0,360 L80,360 L80,340 L100,340 L100,320 L110,310 L120,320 L120,340
          L200,340 L200,330 L220,330 L220,350 L300,350 L300,320 L310,300 L320,320 L320,350
          L400,350 L400,345 L450,345 L450,330 L460,310 L470,330 L470,350
          L550,350 L550,340 L580,340 L580,355 L650,355 L650,335 L660,315 L670,335 L670,355
          L750,355 L750,345 L800,345 L800,355 L880,355 L880,325 L890,305 L900,325 L900,355
          L980,355 L980,340 L1020,340 L1020,355 L1100,355 L1100,330 L1110,310 L1120,330 L1120,355
          L1200,355 L1200,345 L1250,345 L1250,360 L1350,360 L1350,340 L1360,320 L1370,340 L1370,360
          L1500,360 L1500,350 L1550,350 L1550,335 L1560,315 L1570,335 L1570,355
          L1650,355 L1650,345 L1700,345 L1700,360 L1800,360 L1800,340 L1810,325 L1820,340 L1820,360
          L${width},360 L${width},370 L0,370Z`,
          fill: AztecSacrifice_C.cityDark
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M300,350 L340,260 L380,350Z", fill: AztecSacrifice_C.cityMid }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M880,355 L930,250 L980,355Z", fill: AztecSacrifice_C.cityMid }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M1550,355 L1590,270 L1630,355Z", fill: AztecSacrifice_C.cityMid }),
      [120, 250, 420, 580, 720, 890, 1050, 1220, 1380, 1550, 1720, 1850].map((wx, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: wx,
          y: 342 + i % 3 * 4,
          width: 2,
          height: 2,
          fill: AztecSacrifice_C.cityWindow,
          opacity: 0.3 + sineWave(frame, 0.3 + i * 0.1, i) * 0.15
        },
        i
      )),
      [350, 920, 1580].map((tx, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: tx,
          cy: 255 + i * 5,
          r: 5,
          fill: AztecSacrifice_C.cityTorch,
          opacity: 0.4 + sineWave(frame, 2, i * 3) * 0.15
        },
        i
      ))
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 460, y: 620, width: 1e3, height: 60, fill: "url(#sac-stone-tex)", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(CarvedStep, { x: 460, y: 620, width: 1e3, height: 60 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 510, y: 560, width: 900, height: 60, fill: "url(#sac-stone-tex)", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(CarvedStep, { x: 510, y: 560, width: 900, height: 60 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 560, y: 500, width: 800, height: 60, fill: "url(#sac-stone-tex)", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(CarvedStep, { x: 560, y: 500, width: 800, height: 60 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 610, y: 440, width: 700, height: 60, fill: "url(#sac-stone-tex)", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(CarvedStep, { x: 610, y: 440, width: 700, height: 60 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 660, y: 380, width: 600, height: 60, fill: "url(#sac-stone-tex)", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(CarvedStep, { x: 660, y: 380, width: 600, height: 60 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 710, y: 320, width: 500, height: 60, fill: "url(#sac-stone-tex)", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(CarvedStep, { x: 710, y: 320, width: 500, height: 60 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: `M460,680 L710,320 L710,380 L460,680Z`, fill: AztecSacrifice_C.pyramidShadow, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 900, y: 320, width: 120, height: 360, fill: AztecSacrifice_C.stairCenter, stroke: AztecSacrifice_C.stairShadow, strokeWidth: 0.5 }),
      Array.from({ length: 24 }).map((_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 900,
          y1: 325 + i * 15,
          x2: 1020,
          y2: 325 + i * 15,
          stroke: AztecSacrifice_C.stairShadow,
          strokeWidth: 0.5,
          opacity: 0.5
        },
        i
      )),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 960, y1: 320, x2: 960, y2: 680, stroke: AztecSacrifice_C.stairShadow, strokeWidth: 0.5, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 896, y: 320, width: 4, height: 360, fill: AztecSacrifice_C.pyramidDark }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 1020, y: 320, width: 4, height: 360, fill: AztecSacrifice_C.pyramidDark }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(SerpentHead, { x: 880, y: 665, scale: 1.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(SerpentHead, { x: 1040, y: 665, scale: 1.8, flip: true }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M898,680 Q895,500 898,320", fill: "none", stroke: AztecSacrifice_C.serpentStone, strokeWidth: 4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M1022,680 Q1025,500 1022,320", fill: "none", stroke: AztecSacrifice_C.serpentStone, strokeWidth: 4 }),
      Array.from({ length: 8 }).map((_, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 896, cy: 360 + i * 40, r: 3, fill: AztecSacrifice_C.serpentStone, stroke: AztecSacrifice_C.serpentDark, strokeWidth: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 1024, cy: 360 + i * 40, r: 3, fill: AztecSacrifice_C.serpentStone, stroke: AztecSacrifice_C.serpentDark, strokeWidth: 0.3 })
      ] }, i))
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 720, y: 260, width: 200, height: 65, rx: 2, fill: AztecSacrifice_C.shrineBlue, stroke: AztecSacrifice_C.shrineBlueDark, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 720, y: 252, width: 200, height: 12, rx: 1, fill: AztecSacrifice_C.shrineBlueLight, stroke: AztecSacrifice_C.shrineBlueDark, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 790, y: 280, width: 50, height: 45, rx: 2, fill: AztecSacrifice_C.shrineBlueDark }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 792, y: 282, width: 46, height: 41, rx: 1, fill: AztecSacrifice_C.priestBlack, opacity: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M715,252 L820,220 L925,252Z", fill: AztecSacrifice_C.shrineRoof, stroke: AztecSacrifice_C.shrineRoofEdge, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(FeatherCrest, { x: 820, y: 222, scale: 0.8, frame, seed: 0 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 750, cy: 290, r: 8, fill: "none", stroke: AztecSacrifice_C.turquoise, strokeWidth: 1, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M746,298 L750,306 L754,298", fill: "none", stroke: AztecSacrifice_C.turquoise, strokeWidth: 0.8, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 885, cy: 290, r: 8, fill: "none", stroke: AztecSacrifice_C.turquoise, strokeWidth: 1, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M881,298 L885,306 L889,298", fill: "none", stroke: AztecSacrifice_C.turquoise, strokeWidth: 0.8, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 1e3, y: 260, width: 200, height: 65, rx: 2, fill: AztecSacrifice_C.shrineRed, stroke: AztecSacrifice_C.shrineRedDark, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 1e3, y: 252, width: 200, height: 12, rx: 1, fill: AztecSacrifice_C.shrineRedLight, stroke: AztecSacrifice_C.shrineRedDark, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 1070, y: 280, width: 50, height: 45, rx: 2, fill: AztecSacrifice_C.shrineRedDark }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 1072, y: 282, width: 46, height: 41, rx: 1, fill: AztecSacrifice_C.priestBlack, opacity: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M995,252 L1100,220 L1205,252Z", fill: AztecSacrifice_C.shrineRoof, stroke: AztecSacrifice_C.shrineRoofEdge, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(FeatherCrest, { x: 1100, y: 222, scale: 0.8, frame, seed: 3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M1030,280 L1040,295 L1020,295Z", fill: "none", stroke: AztecSacrifice_C.goldBright, strokeWidth: 1, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 1035, cy: 295, r: 5, fill: "none", stroke: AztecSacrifice_C.goldBright, strokeWidth: 0.8, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M1160,280 L1170,295 L1150,295Z", fill: "none", stroke: AztecSacrifice_C.goldBright, strokeWidth: 1, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 1165, cy: 295, r: 5, fill: "none", stroke: AztecSacrifice_C.goldBright, strokeWidth: 0.8, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 960, cy: 312, rx: 30, ry: 8, fill: AztecSacrifice_C.altarDark, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M930,300 Q930,290 940,288 Q960,284 980,288 Q990,290 990,300 Q990,308 980,310 Q960,314 940,310 Q930,308 930,300Z",
          fill: AztecSacrifice_C.altarStone,
          stroke: AztecSacrifice_C.altarDark,
          strokeWidth: 1
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 960, cy: 296, rx: 18, ry: 4, fill: AztecSacrifice_C.altarBlood, opacity: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 955, cy: 298, rx: 10, ry: 3, fill: AztecSacrifice_C.altarBloodWet, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M938,300 Q948,296 958,300 Q968,296 978,300", fill: "none", stroke: AztecSacrifice_C.altarCarving, strokeWidth: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 945, cy: 304, r: 2, fill: "none", stroke: AztecSacrifice_C.altarCarving, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 975, cy: 304, r: 2, fill: "none", stroke: AztecSacrifice_C.altarCarving, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(SacrificialKnife, { x: 970, y: 293, scale: 0.8, rotation: -15 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M958,310 Q958,400 957,500 Q956,600 955,680`,
          fill: "none",
          stroke: "url(#sac-blood-grad)",
          strokeWidth: 3,
          opacity: 0.6
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M962,310 Q963,420 964,520 Q965,620 966,680`,
          fill: "none",
          stroke: "url(#sac-blood-grad)",
          strokeWidth: 2,
          opacity: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 960, cy: 682, rx: 25, ry: 5, fill: AztecSacrifice_C.bloodDark, opacity: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 960, cy: 681, rx: 18, ry: 3, fill: AztecSacrifice_C.bloodMid, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 958, cy: 680, rx: 8, ry: 2, fill: AztecSacrifice_C.bloodGlisten, opacity: 0.3 }),
      [940, 950, 960, 970, 980].map((bx, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(BloodDrip, { x: bx, startY: 310, frame, seed: i * 7, speed: 0.3 + i * 0.05 }, i)),
      Array.from({ length: 8 }).map((_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: 950 + Math.sin(i * 2.3) * 15,
          cy: 350 + i * 40,
          r: 1.5 + Math.sin(i * 1.7) * 0.5,
          fill: AztecSacrifice_C.bloodDried,
          opacity: 0.3 + Math.sin(i * 3.1) * 0.1
        },
        i
      ))
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecSacrifice_Torch, { x: 710, y: 260, scale: 1.2, frame, seed: 0 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecSacrifice_Torch, { x: 1210, y: 260, scale: 1.2, frame, seed: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecSacrifice_Torch, { x: 875, y: 400, scale: 0.9, frame, seed: 4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecSacrifice_Torch, { x: 1040, y: 400, scale: 0.9, frame, seed: 5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecSacrifice_Torch, { x: 870, y: 520, scale: 0.8, frame, seed: 6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecSacrifice_Torch, { x: 1045, y: 520, scale: 0.8, frame, seed: 7 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecSacrifice_Torch, { x: 865, y: 620, scale: 0.7, frame, seed: 8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecSacrifice_Torch, { x: 1050, y: 620, scale: 0.7, frame, seed: 9 }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(750,310)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 5, rx: 15, ry: 4, fill: AztecSacrifice_C.pyramidDark, opacity: 0.4 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-12,0 Q-14,-8 -8,-10 Q0,-12 8,-10 Q14,-8 12,0Z", fill: AztecSacrifice_C.pyramidBase, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.8 }),
        (() => {
          const f1 = sineWave(frame, 3.5, 10);
          const f2 = sineWave(frame, 5.2, 11);
          return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -18, rx: 20 + f1 * 3, ry: 25 + f2 * 4, fill: AztecSacrifice_C.fireGlow }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: f1 * 2, cy: -20 + f2, rx: 12 + f1 * 2, ry: 18 + f2 * 3, fill: AztecSacrifice_C.fireDark }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: f2, cy: -22 + f1, rx: 8 + f2 * 1.5, ry: 14 + f1 * 2, fill: AztecSacrifice_C.fireMid }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: f1 * 0.5, cy: -24 + f2 * 0.8, rx: 5 + f1, ry: 10 + f2 * 1.5, fill: AztecSacrifice_C.fireLight }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -25, rx: 3, ry: 6 + f1, fill: AztecSacrifice_C.fireBright, opacity: 0.8 })
          ] });
        })()
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(1170,310)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 5, rx: 15, ry: 4, fill: AztecSacrifice_C.pyramidDark, opacity: 0.4 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-12,0 Q-14,-8 -8,-10 Q0,-12 8,-10 Q14,-8 12,0Z", fill: AztecSacrifice_C.pyramidBase, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.8 }),
        (() => {
          const f1 = sineWave(frame, 3.5, 14);
          const f2 = sineWave(frame, 5.2, 15);
          return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -18, rx: 20 + f1 * 3, ry: 25 + f2 * 4, fill: AztecSacrifice_C.fireGlow }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: f1 * 2, cy: -20 + f2, rx: 12 + f1 * 2, ry: 18 + f2 * 3, fill: AztecSacrifice_C.fireDark }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: f2, cy: -22 + f1, rx: 8 + f2 * 1.5, ry: 14 + f1 * 2, fill: AztecSacrifice_C.fireMid }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: f1 * 0.5, cy: -24 + f2 * 0.8, rx: 5 + f1, ry: 10 + f2 * 1.5, fill: AztecSacrifice_C.fireLight }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -25, rx: 3, ry: 6 + f1, fill: AztecSacrifice_C.fireBright, opacity: 0.8 })
          ] });
        })()
      ] }),
      [200, 380, 1540, 1720].map((fx, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecSacrifice_Torch, { x: fx, y: 650, scale: 0.6, frame, seed: 20 + i }, i)),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 750, cy: 310, rx: 80, ry: 30, fill: AztecSacrifice_C.fireGlowWide, opacity: 0.2 + fireFlicker * 0.05 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 1170, cy: 310, rx: 80, ry: 30, fill: AztecSacrifice_C.fireGlowWide, opacity: 0.2 + fireFlicker * 0.05 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 960, cy: 310, rx: 60, ry: 20, fill: AztecSacrifice_C.fireGlowWide, opacity: 0.15 + fireFlicker * 0.03 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(IncenseBurner, { x: 780, y: 310, scale: 0.9, frame, seed: 30 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(IncenseBurner, { x: 1140, y: 310, scale: 0.9, frame, seed: 32 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(IncenseBurner, { x: 850, y: 615, scale: 0.7, frame, seed: 34 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(IncenseBurner, { x: 1070, y: 615, scale: 0.7, frame, seed: 36 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { filter: "url(#sac-smoke-blur)", children: [
        [780, 200, 60, 40, 0.15],
        [960, 180, 80, 50, 0.12],
        [1150, 210, 70, 45, 0.13]
      ].map(([sx, sy, sw, sh, sop], i) => {
        const drift = slowDrift * 15 + sineWave(frame, 0.3, i * 3) * 20;
        const rise = smokeRise * 10;
        return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "ellipse",
            {
              cx: sx + drift,
              cy: sy - 40 + rise,
              rx: sw * 1.5,
              ry: sh * 1.2,
              fill: AztecSacrifice_C.smokeDark,
              opacity: sop * 0.6
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "ellipse",
            {
              cx: sx + drift * 0.7,
              cy: sy + rise * 0.5,
              rx: sw,
              ry: sh,
              fill: AztecSacrifice_C.smokeMid,
              opacity: sop
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "ellipse",
            {
              cx: sx + drift * 0.4,
              cy: sy + 30 + rise * 0.3,
              rx: sw * 0.7,
              ry: sh * 0.7,
              fill: AztecSacrifice_C.smokeLight,
              opacity: sop * 0.8
            }
          )
        ] }, i);
      }) })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(SkullRack, { x: 140, y: 540, width: 180, rows: 5, frame }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(SkullRack, { x: 1600, y: 540, width: 180, rows: 5, frame }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(SkullRack, { x: 460, y: 610, width: 100, rows: 3, frame })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(SacredBanner, { x: 440, y: 460, color: AztecSacrifice_C.bannerRed, colorDark: AztecSacrifice_C.shrineRedDark, height: 100, frame, seed: 0 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(SacredBanner, { x: 480, y: 420, color: AztecSacrifice_C.bannerBlue, colorDark: AztecSacrifice_C.shrineBlueDark, height: 110, frame, seed: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(SacredBanner, { x: 1440, y: 460, color: AztecSacrifice_C.bannerGold, colorDark: AztecSacrifice_C.goldDark, height: 100, frame, seed: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(SacredBanner, { x: 1480, y: 420, color: AztecSacrifice_C.bannerGreen, colorDark: AztecSacrifice_C.jadeDark, height: 110, frame, seed: 3 }),
      [
        [710, 270, 920, 270, 30],
        [1e3, 270, 1210, 270, 30]
      ].map(([x1, y1, x2, y2, sag], i) => {
        const sagAnim = sag + sineWave(frame, 0.5, i * 4) * 3;
        const mx = (x1 + x2) / 2;
        const my = (y1 + y2) / 2 + sagAnim;
        return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "path",
            {
              d: `M${x1},${y1} Q${mx},${my} ${x2},${y2}`,
              fill: "none",
              stroke: AztecSacrifice_C.featherGold,
              strokeWidth: 1.5,
              opacity: 0.6
            }
          ),
          Array.from({ length: 6 }).map((_, j) => {
            const t = (j + 1) / 7;
            const px = x1 + (x2 - x1) * t;
            const py = y1 + sagAnim * 4 * t * (1 - t) + sineWave(frame, 0.8, i * 4 + j) * 2;
            const paperColor = j % 3 === 0 ? AztecSacrifice_C.bannerRed : j % 3 === 1 ? AztecSacrifice_C.bannerGold : AztecSacrifice_C.bannerBlue;
            return /* @__PURE__ */ (0,jsx_runtime.jsx)(
              "rect",
              {
                x: px - 3,
                y: py,
                width: 6,
                height: 10 + j % 3 * 2,
                fill: paperColor,
                opacity: 0.5,
                rx: 0.5
              },
              j
            );
          })
        ] }, i);
      }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(OfferingBowl, { x: 500, y: 670, scale: 0.9 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(OfferingBowl, { x: 560, y: 672, scale: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(OfferingBowl, { x: 1360, y: 670, scale: 0.9 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(OfferingBowl, { x: 1420, y: 672, scale: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(CeremonialDrum, { x: 380, y: 645, scale: 0.9, frame, seed: 40 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(CeremonialDrum, { x: 1540, y: 645, scale: 0.9, frame, seed: 42 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 680, width, height: 400, fill: AztecSacrifice_C.plazaStone }),
      Array.from({ length: 20 }).map(
        (_, row) => Array.from({ length: 30 }).map((_2, col) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: col * 65 + row % 2 * 32,
            y: 680 + row * 20,
            width: 64,
            height: 19,
            fill: (row + col) % 3 === 0 ? AztecSacrifice_C.plazaLight : AztecSacrifice_C.plazaStone,
            stroke: AztecSacrifice_C.plazaGap,
            strokeWidth: 0.3,
            opacity: 0.8
          },
          `${row}-${col}`
        ))
      ),
      [
        [940, 700, 20, 6],
        [960, 710, 15, 4],
        [930, 720, 12, 3],
        [955, 730, 18, 5],
        [970, 695, 10, 3]
      ].map(([bx, by, bw, bh], i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: bx,
          cy: by,
          rx: bw,
          ry: bh,
          fill: AztecSacrifice_C.plazaBlood,
          opacity: 0.3 - i * 0.03
        },
        i
      )),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 750, width, height: 330, fill: AztecSacrifice_C.fogDark, opacity: 0.15 + breathe * 0.03 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(960,265)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -8, y: 10, width: 16, height: 30, rx: 2, fill: AztecSacrifice_C.priestBlack }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 5, r: 7, fill: AztecSacrifice_C.priestSkin }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -6, y: 2, width: 12, height: 3, fill: AztecSacrifice_C.priestPaint, opacity: 0.7 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-10,-2 Q0,-18 10,-2", fill: AztecSacrifice_C.featherGreen, stroke: AztecSacrifice_C.jadeDark, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-7,-5 Q0,-22 7,-5", fill: AztecSacrifice_C.featherRed, opacity: 0.7 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M-8,15 Q-20,${5 + sineWave(frame, 0.8, 50) * 3} -18,${-2 + sineWave(frame, 0.8, 50) * 2}`,
            fill: "none",
            stroke: AztecSacrifice_C.priestSkin,
            strokeWidth: 4,
            strokeLinecap: "round"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M8,15 Q20,${5 + sineWave(frame, 0.8, 51) * 3} 18,${-2 + sineWave(frame, 0.8, 51) * 2}`,
            fill: "none",
            stroke: AztecSacrifice_C.priestSkin,
            strokeWidth: 4,
            strokeLinecap: "round"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(SacrificialKnife, { x: 18, y: -5 + sineWave(frame, 0.8, 51) * 2, scale: 0.6, rotation: -45 + sineWave(frame, 0.8, 51) * 5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-6,10 Q0,14 6,10", fill: "none", stroke: AztecSacrifice_C.jadeGreen, strokeWidth: 1.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -3, cy: 25, r: 2, fill: AztecSacrifice_C.bloodDark, opacity: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 4, cy: 28, r: 1.5, fill: AztecSacrifice_C.bloodMid, opacity: 0.4 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -1, cy: 32, r: 1.8, fill: AztecSacrifice_C.bloodDark, opacity: 0.4 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(930,275)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -6, y: 8, width: 12, height: 25, rx: 2, fill: AztecSacrifice_C.priestRobe }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 4, r: 6, fill: AztecSacrifice_C.priestSkin }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: 1, width: 10, height: 3, fill: AztecSacrifice_C.priestPaintRed, opacity: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-6,12 Q-14,15 -16,18", fill: "none", stroke: AztecSacrifice_C.priestSkin, strokeWidth: 3, strokeLinecap: "round" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -18, cy: 20, rx: 6, ry: 3, fill: AztecSacrifice_C.pyramidBase, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -18, cy: 19, rx: 4, ry: 2, fill: AztecSacrifice_C.bloodDark, opacity: 0.6 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(990,275)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -6, y: 8, width: 12, height: 25, rx: 2, fill: AztecSacrifice_C.priestRobe }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 4, r: 6, fill: AztecSacrifice_C.priestSkin }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: 1, width: 10, height: 3, fill: AztecSacrifice_C.priestPaintRed, opacity: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M6,12 Q14,10 18,8", fill: "none", stroke: AztecSacrifice_C.priestSkin, strokeWidth: 3, strokeLinecap: "round" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(1030,310)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: 6, width: 10, height: 22, rx: 2, fill: AztecSacrifice_C.priestBlack }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 2, r: 5, fill: AztecSacrifice_C.priestSkin }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M5,10 Q12,8 18,10 Q22,12 20,15 Q16,16 10,14Z", fill: AztecSacrifice_C.skullWhite, stroke: AztecSacrifice_C.skullShadow, strokeWidth: 0.5 })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecCrowdLayer, { config: AZTEC_CROWD_CONFIGS.sacrifice, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { children: [
      [250, 730, 0.6],
      [350, 740, 0.55],
      [1550, 735, 0.6],
      [1650, 740, 0.55],
      [150, 745, 0.5],
      [1750, 745, 0.5]
    ].map(([fx, fy, fs], i) => {
      const bob = sineWave(frame, 0.5, i * 2) * 2;
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${fx},${fy + bob}) scale(${fs})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -6, y: 0, width: 12, height: 18, rx: 2, fill: i % 2 === 0 ? "#E8D8B8" : "#3B6B8A" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -5, r: 5, fill: AztecSacrifice_C.priestSkin }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-6,5 Q-10,8 -8,12", fill: "none", stroke: AztecSacrifice_C.priestSkin, strokeWidth: 2.5, strokeLinecap: "round" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M6,5 Q10,8 8,12", fill: "none", stroke: AztecSacrifice_C.priestSkin, strokeWidth: 2.5, strokeLinecap: "round" })
      ] }, i);
    }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { opacity: 0.15 + breathe * 0.03, children: [750, 960, 1170].map((rx, i) => {
      const rayWidth = 40 + sineWave(frame, 0.3, i * 5) * 10;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "polygon",
        {
          points: `${rx - rayWidth / 2},310 ${rx + rayWidth / 2},310 ${rx + rayWidth},0 ${rx - rayWidth},0`,
          fill: "url(#sac-godray)"
        },
        i
      );
    }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { children: Array.from({ length: 7 }).map((_, i) => {
      const stairX = 940 + sineWave(frame, 0.3, i * 2) * 1;
      const stairY = 640 - i * 45;
      const walk = sineWave(frame, 0.6, i * 1.5) * 1.5;
      const stumble = i === 3 ? sineWave(frame, 0.4, 20) * 3 : 0;
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${stairX},${stairY + walk + stumble}) scale(0.5)`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -6, y: 5, width: 12, height: 25, rx: 2, fill: "#E8D8B8", opacity: 0.9 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 6, fill: AztecSacrifice_C.priestSkin }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-5,-4 Q0,-8 5,-4", fill: "#2A1A0A" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M-6,12 Q-10,15 -8,18 Q-4,20 0,18 Q4,20 8,18 Q10,15 6,12",
            fill: "none",
            stroke: AztecSacrifice_C.priestSkin,
            strokeWidth: 2
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,16 Q0,18 4,16", fill: "none", stroke: "#9B8968", strokeWidth: 1.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -2, cy: -1, r: 0.8, fill: "#1A1A1A" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 2, cy: -1, r: 0.8, fill: "#1A1A1A" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-2,3 Q0,2 2,3", fill: "none", stroke: "#1A1A1A", strokeWidth: 0.5 }),
        i % 2 === 0 && /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(25,0)", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -5, y: 5, width: 10, height: 22, rx: 2, fill: AztecSacrifice_C.priestBlack }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 5, fill: AztecSacrifice_C.priestSkin }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 8, y1: -15, x2: 8, y2: 25, stroke: "#7A5030", strokeWidth: 2 }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M6,-15 L8,-22 L10,-15Z", fill: AztecSacrifice_C.obsidian }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -8, cy: 15, rx: 6, ry: 8, fill: AztecSacrifice_C.bannerRed, stroke: AztecSacrifice_C.shrineRedDark, strokeWidth: 0.5 }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-8,10 L-8,20", fill: "none", stroke: AztecSacrifice_C.goldBright, strokeWidth: 0.4 }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-12,15 L-4,15", fill: "none", stroke: AztecSacrifice_C.goldBright, strokeWidth: 0.4 })
        ] })
      ] }, i);
    }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.5, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(520,480)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 40, cy: 40, r: 35, fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 1.2 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 40, cy: 40, r: 28, fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.8 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 40, cy: 40, r: 20, fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 40, cy: 40, r: 12, fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 40, cy: 40, r: 6, fill: AztecSacrifice_C.pyramidDark, opacity: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 37, cy: 38, r: 1.5, fill: AztecSacrifice_C.pyramidShadow }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 43, cy: 38, r: 1.5, fill: AztecSacrifice_C.pyramidShadow }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M37,43 Q40,45 43,43", fill: "none", stroke: AztecSacrifice_C.pyramidShadow, strokeWidth: 0.8 }),
        Array.from({ length: 16 }).map((_, j) => {
          const angle = j / 16 * Math.PI * 2;
          return /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "line",
            {
              x1: 40 + Math.cos(angle) * 14,
              y1: 40 + Math.sin(angle) * 14,
              x2: 40 + Math.cos(angle) * 26,
              y2: 40 + Math.sin(angle) * 26,
              stroke: AztecSacrifice_C.pyramidDark,
              strokeWidth: 0.5
            },
            j
          );
        }),
        [0, 90, 180, 270].map((angle, j) => {
          const rad = angle * Math.PI / 180;
          const gx = 40 + Math.cos(rad) * 32;
          const gy = 40 + Math.sin(rad) * 32;
          return /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: gx, cy: gy, r: 3, fill: AztecSacrifice_C.pyramidDark, opacity: 0.4 }, j);
        })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(1280,480)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 70, height: 90, rx: 3, fill: AztecSacrifice_C.pyramidMid, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 35, cy: 20, r: 10, fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.8 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M25,20 Q20,15 22,10 Q30,5 38,5 Q46,5 48,10 Q50,15 45,20",
            fill: "none",
            stroke: AztecSacrifice_C.pyramidDark,
            strokeWidth: 0.6
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 25, y: 32, width: 20, height: 30, rx: 2, fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 18, cy: 48, r: 8, fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 52, y1: 35, x2: 58, y2: 65, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 1 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M28,10 Q35,-2 42,10", fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.4 })
      ] }),
      [0, 1, 2, 3, 4, 5].map((step) => {
        const stepY = 625 + (step === 0 ? 0 : 0) - step * 60;
        const stepX = 465 + step * 50;
        const stepW = 990 - step * 100;
        return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "path",
            {
              d: `M${stepX + 20},${stepY + 30} Q${stepX + stepW * 0.25},${stepY + 22} ${stepX + stepW * 0.5},${stepY + 30} Q${stepX + stepW * 0.75},${stepY + 38} ${stepX + stepW - 20},${stepY + 30}`,
              fill: "none",
              stroke: AztecSacrifice_C.pyramidDark,
              strokeWidth: 0.6,
              opacity: 0.3
            }
          ),
          Array.from({ length: Math.floor(stepW / 60) }).map((_, d) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "path",
            {
              d: `M${stepX + 40 + d * 60},${stepY + 25} L${stepX + 45 + d * 60},${stepY + 30} L${stepX + 40 + d * 60},${stepY + 35} L${stepX + 35 + d * 60},${stepY + 30}Z`,
              fill: "none",
              stroke: AztecSacrifice_C.pyramidDark,
              strokeWidth: 0.3,
              opacity: 0.3
            },
            d
          ))
        ] }, step);
      })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 140, y: 520, width: 130, height: 160, fill: AztecSacrifice_C.pyramidBase, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 140, y: 510, width: 130, height: 15, fill: AztecSacrifice_C.pyramidMid, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 185, y: 560, width: 40, height: 120, rx: 2, fill: AztecSacrifice_C.priestBlack, opacity: 0.7 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecSacrifice_Torch, { x: 175, y: 540, scale: 0.5, frame, seed: 60 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M145,535 Q170,528 205,535 Q240,528 265,535", fill: "none", stroke: AztecSacrifice_C.goldDark, strokeWidth: 0.6, opacity: 0.3 }),
      Array.from({ length: 5 }).map((_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 150 + i * 24,
          y: 525,
          width: 12,
          height: 8,
          rx: 1,
          fill: "none",
          stroke: AztecSacrifice_C.pyramidDark,
          strokeWidth: 0.4,
          opacity: 0.4
        },
        i
      )),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M140,510 L205,480 L270,510Z", fill: AztecSacrifice_C.shrineRoof, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 1650, y: 520, width: 130, height: 160, fill: AztecSacrifice_C.pyramidBase, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 1650, y: 510, width: 130, height: 15, fill: AztecSacrifice_C.pyramidMid, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 1695, y: 560, width: 40, height: 120, rx: 2, fill: AztecSacrifice_C.priestBlack, opacity: 0.7 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecSacrifice_Torch, { x: 1740, y: 540, scale: 0.5, frame, seed: 62 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M1655,535 Q1680,528 1715,535 Q1750,528 1775,535", fill: "none", stroke: AztecSacrifice_C.goldDark, strokeWidth: 0.6, opacity: 0.3 }),
      Array.from({ length: 5 }).map((_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 1660 + i * 24,
          y: 525,
          width: 12,
          height: 8,
          rx: 1,
          fill: "none",
          stroke: AztecSacrifice_C.pyramidDark,
          strokeWidth: 0.4,
          opacity: 0.4
        },
        i
      )),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M1650,510 L1715,480 L1780,510Z", fill: AztecSacrifice_C.shrineRoof, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 700, width: 400, height: 40, fill: AztecSacrifice_C.pyramidBase, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
      Array.from({ length: 6 }).map((_, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${30 + i * 60},700)`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 20, r: 8, fill: AztecSacrifice_C.serpentStone, stroke: AztecSacrifice_C.serpentDark, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -2, cy: 18, r: 1.5, fill: AztecSacrifice_C.serpentEye }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 2, cy: 18, r: 1.5, fill: AztecSacrifice_C.serpentEye }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,23 Q0,26 4,23", fill: AztecSacrifice_C.serpentTongue })
      ] }, i)),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 1520, y: 700, width: 400, height: 40, fill: AztecSacrifice_C.pyramidBase, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
      Array.from({ length: 6 }).map((_, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${1550 + i * 60},700)`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 20, r: 8, fill: AztecSacrifice_C.serpentStone, stroke: AztecSacrifice_C.serpentDark, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -2, cy: 18, r: 1.5, fill: AztecSacrifice_C.serpentEye }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 2, cy: 18, r: 1.5, fill: AztecSacrifice_C.serpentEye }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,23 Q0,26 4,23", fill: AztecSacrifice_C.serpentTongue })
      ] }, i))
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(820,580)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -20, y: 70, width: 40, height: 30, fill: AztecSacrifice_C.pyramidMid, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.8 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -23, y: 95, width: 46, height: 10, rx: 2, fill: AztecSacrifice_C.pyramidBase, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -12, y: 20, width: 24, height: 50, rx: 3, fill: AztecSacrifice_C.pyramidLight, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 12, r: 12, fill: AztecSacrifice_C.pyramidLight, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-12,8 Q0,-8 12,8", fill: AztecSacrifice_C.pyramidMid, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,-5 L0,5 L8,12", fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,5 Q-5,10 -3,15 Q0,12 3,15 Q5,10 0,5Z", fill: AztecSacrifice_C.pyramidDark, opacity: 0.7 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-12,30 Q-30,20 -40,35 Q-35,40 -12,40", fill: AztecSacrifice_C.pyramidLight, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M12,30 Q30,20 40,35 Q35,40 12,40", fill: AztecSacrifice_C.pyramidLight, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -25, cy: 55, r: 10, fill: AztecSacrifice_C.pyramidMid, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 25, y1: 25, x2: 30, y2: 70, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 2 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(1100,580)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -20, y: 70, width: 40, height: 30, fill: AztecSacrifice_C.pyramidMid, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.8 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -23, y: 95, width: 46, height: 10, rx: 2, fill: AztecSacrifice_C.pyramidBase, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -12, y: 20, width: 24, height: 50, rx: 3, fill: AztecSacrifice_C.pyramidLight, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 12, r: 12, fill: AztecSacrifice_C.pyramidLight, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-10,2 Q-12,-5 -6,-2Z", fill: AztecSacrifice_C.pyramidMid, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.4 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M10,2 Q12,-5 6,-2Z", fill: AztecSacrifice_C.pyramidMid, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.4 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -4, cy: 8, r: 2, fill: AztecSacrifice_C.pyramidDark, opacity: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 4, cy: 8, r: 2, fill: AztecSacrifice_C.pyramidDark, opacity: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,14 Q0,16 3,14", fill: AztecSacrifice_C.pyramidDark, opacity: 0.5 }),
        [[-5, 30], [5, 35], [-3, 45], [6, 50], [-6, 55]].map(([sx, sy], i) => /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: sx, cy: sy, r: 2, fill: AztecSacrifice_C.pyramidDark, opacity: 0.3 }, i)),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 25, cy: 55, r: 10, fill: AztecSacrifice_C.pyramidMid, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -25, y1: 25, x2: -30, y2: 70, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 2 })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 600, width: 120, height: 480, fill: AztecSacrifice_C.pyramidBase, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(20,640)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 80, height: 100, rx: 3, fill: AztecSacrifice_C.pyramidMid, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 40, cy: 25, r: 12, fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 1, opacity: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M30,40 L40,55 L50,40", fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.8, opacity: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 25, y: 60, width: 30, height: 30, rx: 2, fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.6, opacity: 0.4 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M35,65 L40,75 L45,65", fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5, opacity: 0.4 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecSacrifice_Torch, { x: 60, y: 580, scale: 1, frame, seed: 50 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 1820, y: 580, width: 100, height: 500, fill: AztecSacrifice_C.pyramidBase, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(1840,620)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 60, height: 80, rx: 3, fill: AztecSacrifice_C.pyramidMid, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 30, cy: 20, r: 10, fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.8, opacity: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M20,35 L30,50 L40,35", fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.6, opacity: 0.4 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecSacrifice_Torch, { x: 1860, y: 570, scale: 1, frame, seed: 52 }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { filter: "url(#sac-smoke-blur)", opacity: 0.3, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 100 + slowDrift * 20, cy: 800, rx: 120, ry: 40, fill: AztecSacrifice_C.smokeMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 1800 - slowDrift * 15, cy: 820, rx: 100, ry: 35, fill: AztecSacrifice_C.smokeMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 960 + slowDrift * 10, cy: 850, rx: 200, ry: 50, fill: AztecSacrifice_C.smokeDark, opacity: 0.2 })
      ] }),
      Array.from({ length: 20 }).map((_, i) => {
        const ex = 200 + i * 83 % 1520;
        const ey = 300 + (frame * 0.3 + i * 47) % 600;
        const eSize = 0.5 + i % 5 * 0.3;
        const eOp = Math.max(0, 0.7 - (ey - 300) / 600);
        const eDrift = sineWave(frame, 0.5 + i * 0.1, i * 2) * 10;
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "circle",
          {
            cx: ex + eDrift,
            cy: 1080 - ey,
            r: eSize,
            fill: i % 3 === 0 ? AztecSacrifice_C.emberYellow : i % 3 === 1 ? AztecSacrifice_C.emberOrange : AztecSacrifice_C.emberRed,
            opacity: eOp * 0.6
          },
          i
        );
      })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      Array.from({ length: 30 }).map((_, i) => {
        const px = 300 + i * 47 % 1320;
        const py = 690 + i * 23 % 60;
        const pRot = i * 37;
        const pSize = 1.5 + i % 4 * 0.5;
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "ellipse",
          {
            cx: px,
            cy: py,
            rx: pSize,
            ry: pSize * 0.6,
            fill: i % 3 === 0 ? AztecSacrifice_C.goldBright : i % 3 === 1 ? AztecSacrifice_C.fireMid : AztecSacrifice_C.featherRed,
            opacity: 0.4 + i % 5 * 0.05,
            transform: `rotate(${pRot},${px},${py})`
          },
          i
        );
      }),
      [500, 700, 1200, 1400].map((ix, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: ix, cy: 695, rx: 15, ry: 3, fill: AztecSacrifice_C.smokeMid, opacity: 0.15 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "ellipse",
          {
            cx: ix + sineWave(frame, 0.4, i * 5) * 5,
            cy: 685 + smokeRise * 3,
            rx: 10 + sineWave(frame, 0.6, i) * 3,
            ry: 8,
            fill: AztecSacrifice_C.copalSmoke,
            opacity: 0.1
          }
        )
      ] }, i)),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 460, y1: 680, x2: 460, y2: 780, stroke: AztecSacrifice_C.plazaGap, strokeWidth: 2, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 1460, y1: 680, x2: 1460, y2: 780, stroke: AztecSacrifice_C.plazaGap, strokeWidth: 2, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 460, y1: 780, x2: 1460, y2: 780, stroke: AztecSacrifice_C.plazaGap, strokeWidth: 2, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 900, y1: 682, x2: 900, y2: 780, stroke: AztecSacrifice_C.bloodDark, strokeWidth: 1.5, opacity: 0.25 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 1020, y1: 682, x2: 1020, y2: 780, stroke: AztecSacrifice_C.bloodDark, strokeWidth: 1, opacity: 0.2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: "translate(620,672)", children: Array.from({ length: 6 }).map((_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: i * 8 - 20,
          cy: Math.sin(i * 1.3) * 3,
          r: 3 + i % 3,
          fill: i % 2 === 0 ? AztecSacrifice_C.jadeGreen : AztecSacrifice_C.turquoise,
          opacity: 0.6,
          stroke: AztecSacrifice_C.jadeDark,
          strokeWidth: 0.3
        },
        i
      )) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: "translate(1300,672)", children: Array.from({ length: 5 }).map((_, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "circle",
          {
            cx: i * 10 - 20,
            cy: Math.cos(i * 1.7) * 2,
            r: 2.5 + i % 2,
            fill: AztecSacrifice_C.goldBright,
            opacity: 0.5,
            stroke: AztecSacrifice_C.goldDark,
            strokeWidth: 0.3
          }
        ),
        i % 2 === 0 && /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: i * 10 - 22,
            y: -6,
            width: 5,
            height: 3,
            rx: 0.5,
            fill: AztecSacrifice_C.goldBright,
            opacity: 0.4
          }
        )
      ] }, i)) }),
      [550, 1380].map((fbx, fi) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${fbx},670)`, children: [
        Array.from({ length: 8 }).map((_, i) => {
          const fAngle = -30 + i * 8;
          const fColor = [AztecSacrifice_C.featherGreen, AztecSacrifice_C.featherBlue, AztecSacrifice_C.featherRed, AztecSacrifice_C.featherGold][i % 4];
          return /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "line",
            {
              x1: 0,
              y1: 0,
              x2: Math.sin(fAngle * Math.PI / 180) * 15,
              y2: -10 - Math.cos(fAngle * Math.PI / 180) * 8,
              stroke: fColor,
              strokeWidth: 1.5,
              strokeLinecap: "round",
              opacity: 0.6
            },
            i
          );
        }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 5, ry: 2, fill: AztecSacrifice_C.rackRope })
      ] }, fi)),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(700,690)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 15, rx: 25, ry: 5, fill: AztecSacrifice_C.pyramidDark, opacity: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M-20,0 Q-18,-8 -10,-10 Q0,-12 10,-10 Q18,-8 20,0 Q18,8 10,10 Q0,12 -10,10 Q-18,8 -20,0Z",
            fill: AztecSacrifice_C.pyramidLight,
            stroke: AztecSacrifice_C.pyramidDark,
            strokeWidth: 0.8
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -18, cy: -5, r: 7, fill: AztecSacrifice_C.pyramidLight, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -20, cy: -7, r: 1.5, fill: AztecSacrifice_C.pyramidDark, opacity: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -5, rx: 8, ry: 4, fill: AztecSacrifice_C.pyramidMid, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -6, rx: 6, ry: 3, fill: AztecSacrifice_C.bloodDark, opacity: 0.4 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 15, cy: 0, r: 5, fill: AztecSacrifice_C.pyramidLight, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.4 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(1220,690) scale(-1,1)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 15, rx: 25, ry: 5, fill: AztecSacrifice_C.pyramidDark, opacity: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M-20,0 Q-18,-8 -10,-10 Q0,-12 10,-10 Q18,-8 20,0 Q18,8 10,10 Q0,12 -10,10 Q-18,8 -20,0Z",
            fill: AztecSacrifice_C.pyramidLight,
            stroke: AztecSacrifice_C.pyramidDark,
            strokeWidth: 0.8
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -18, cy: -5, r: 7, fill: AztecSacrifice_C.pyramidLight, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -20, cy: -7, r: 1.5, fill: AztecSacrifice_C.pyramidDark, opacity: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -5, rx: 8, ry: 4, fill: AztecSacrifice_C.pyramidMid, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -6, rx: 6, ry: 3, fill: AztecSacrifice_C.bloodDark, opacity: 0.4 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 15, cy: 0, r: 5, fill: AztecSacrifice_C.pyramidLight, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.4 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(340,660)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 40, height: 30, fill: "none", stroke: AztecSacrifice_C.rackWood, strokeWidth: 1.5 }),
        Array.from({ length: 5 }).map((_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: 8 + i * 8,
            y1: 0,
            x2: 8 + i * 8,
            y2: 30,
            stroke: AztecSacrifice_C.rackWood,
            strokeWidth: 1
          },
          i
        )),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 20, cy: 18, rx: 12, ry: 8, fill: "#5C4420", opacity: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 15, cy: 14, r: 1, fill: AztecSacrifice_C.serpentEye, opacity: 0.8 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 25, cy: 14, r: 1, fill: AztecSacrifice_C.serpentEye, opacity: 0.8 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(1500,640)", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 20, height: 45, rx: 2, fill: AztecSacrifice_C.pyramidMid, stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -3, y: 42, width: 26, height: 8, rx: 1, fill: AztecSacrifice_C.pyramidBase }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 10, cy: 10, r: 4, fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.5, opacity: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 5, y: 18, width: 10, height: 8, rx: 1, fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.4, opacity: 0.4 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M5,30 Q10,33 15,30", fill: "none", stroke: AztecSacrifice_C.pyramidDark, strokeWidth: 0.4, opacity: 0.4 })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(StoneTablet, { x: 50, y: 900, width: 350, height: 60, text: boardText, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height, fill: "url(#sac-vignette)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 400, width, height: 680, fill: AztecSacrifice_C.fireGlowWide, opacity: 0.08 + fireFlicker * 0.02 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 1400, y: 0, width: 520, height: 400, fill: AztecSacrifice_C.moonGlow, opacity: 0.05 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height, fill: "url(#sac-stone-tex)", opacity: 0.03 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 0,
          y: 900,
          width,
          height: 180,
          fill: AztecSacrifice_C.fogDark,
          opacity: 0.2 + breathe * 0.03
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 0,
          y: 0,
          width,
          height: 150,
          fill: AztecSacrifice_C.vignetteBlack,
          opacity: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 0,
          y: 0,
          width,
          height,
          fill: "rgba(180,120,40,0.03)"
        }
      )
    ] })
  ] });
};
/* harmony default export */ const backgrounds_AztecSacrifice = ((/* unused pure expression or super */ null && (AztecSacrifice)));

;// ./src/backgrounds/Chinampas.tsx





const Chinampas_C = {
  // Sky
  skyTop: "#3B5998",
  skyMid: "#7B9FD4",
  skyBottom: "#E8C8A0",
  skyPink: "#E8A0A0",
  skyGold: "#F0D080",
  skyLavender: "#C8B0D8",
  cloudWhite: "#F8F0E8",
  cloudPink: "#F0D0C0",
  cloudGold: "#F0E0B0",
  cloudShadow: "rgba(100,80,120,0.15)",
  // Mountains & Tenochtitlan
  mountainFar: "#6878A8",
  mountainMid: "#5A6888",
  mountainNear: "#4A5870",
  mountainSnow: "#D8E0F0",
  cityGold: "#D4A840",
  cityStone: "#A89878",
  cityWhite: "#E8E0D0",
  templePyramid: "#B8986A",
  templeRed: "#B85040",
  templeTop: "#D4A040",
  // Water
  waterDeep: "#2A5060",
  waterMid: "#3A7080",
  waterLight: "#4A9098",
  waterSurface: "#5AABB0",
  waterReflect: "#80C8D0",
  waterHighlight: "rgba(200,230,240,0.4)",
  waterShadow: "rgba(20,40,50,0.3)",
  waterGold: "rgba(240,200,120,0.15)",
  waterRipple: "rgba(255,255,255,0.12)",
  // Chinampa earth & structure
  earthDark: "#3A2A18",
  earthMid: "#5A4228",
  earthRich: "#6A5030",
  earthLight: "#8A6838",
  earthWet: "#4A3420",
  wickerwork: "#7A6040",
  wickerDark: "#5A4030",
  mudBank: "#6A5838",
  stakeWood: "#5A3820",
  // Crops - Corn (Maize)
  cornStalk: "#4A8A30",
  cornLeaf: "#5AA838",
  cornLeafDark: "#387828",
  cornSilk: "#F0E080",
  cornCob: "#E8C840",
  cornTassel: "#C8A040",
  // Crops - Squash
  squashGreen: "#4A7A30",
  squashOrange: "#D87830",
  squashYellow: "#E0A830",
  squashLeaf: "#3A6828",
  squashVine: "#508838",
  // Crops - Flowers (Marigold / Cempasuchil)
  marigoldYellow: "#F0C020",
  marigoldOrange: "#E89020",
  marigoldDeep: "#D07018",
  marigoldPetal: "#F8D040",
  flowerPurple: "#8040A0",
  flowerWhite: "#F0E8E0",
  flowerPink: "#D080A0",
  // Crops - Tomatoes & Chili
  tomatoRed: "#C83028",
  tomatoGreen: "#5A8830",
  tomatoDark: "#A02820",
  chiliRed: "#D03020",
  chiliGreen: "#488028",
  chiliDark: "#A02018",
  // Trees (Ahuejote willows)
  willowTrunk: "#5A4838",
  willowTrunkDark: "#3A2828",
  willowTrunkLight: "#7A6848",
  willowBark: "#4A3828",
  willowLeaf: "#4A8838",
  willowLeafLight: "#68A848",
  willowLeafDark: "#387028",
  willowDroop: "#58A040",
  // Canoe
  canoeWood: "#6A4828",
  canoeDark: "#4A3018",
  canoeLight: "#8A6838",
  canoeInside: "#5A3820",
  paddle: "#7A5830",
  paddleBlade: "#6A4828",
  // Reeds & lilies
  reedGreen: "#4A7838",
  reedDark: "#387028",
  reedLight: "#68A850",
  reedTip: "#7A9860",
  lilyPadGreen: "#3A7038",
  lilyPadLight: "#4A8848",
  lilyPadDark: "#2A5828",
  lilyFlower: "#F0D0E0",
  lilyFlowerPink: "#E0A0B0",
  lilyCenter: "#F0E080",
  // Birds
  heronWhite: "#E8E4D8",
  heronGray: "#A0A098",
  heronBeak: "#D0A040",
  heronLeg: "#808070",
  duckBrown: "#7A5A38",
  duckGreen: "#2A6838",
  duckBeak: "#D09030",
  // Atmosphere
  mistWhite: "rgba(230,235,240,0.12)",
  mistGold: "rgba(240,210,160,0.08)",
  mistBlue: "rgba(140,180,210,0.06)",
  morningGlow: "rgba(255,200,140,0.1)",
  atmosphereHaze: "rgba(180,190,210,0.08)",
  // Stone tablet
  stoneTablet: "#8A7A6A",
  stoneTabletDark: "#6A5A4A",
  stoneTabletLight: "#A89A8A",
  stoneFrame: "#5A4A3A",
  glyphColor: "#4A3A2A",
  chalkText: "#F0E8D8",
  // Canvas texture
  canvasOverlay: "rgba(200,190,170,0.04)",
  // General
  outline: "#1A1A1A",
  shadow: "rgba(0,0,0,0.15)"
};
const Chinampas_WillowTree = ({ x, y, scale = 1, seed = 0, trunkHeight = 180 }) => {
  const frame = (0,esm.useCurrentFrame)();
  const sway = sineWave(frame, 0.08, seed) * 3;
  const breeze = sineWave(frame, 0.12, seed + 1.5) * 2;
  const leafSway1 = sineWave(frame, 0.15, seed + 0.3) * 4;
  const leafSway2 = sineWave(frame, 0.1, seed + 0.7) * 3;
  const leafSway3 = sineWave(frame, 0.13, seed + 1.1) * 5;
  const th = trunkHeight;
  const crownSpread = th * 0.7;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 15,
        cy: 8,
        rx: crownSpread * 0.5,
        ry: 12,
        fill: Chinampas_C.shadow,
        opacity: 0.3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,0 Q${sway * 0.5},-${th * 0.4} ${sway},-${th}`,
        fill: "none",
        stroke: Chinampas_C.willowTrunkDark,
        strokeWidth: 14,
        strokeLinecap: "round"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,0 Q${sway * 0.5},-${th * 0.4} ${sway},-${th}`,
        fill: "none",
        stroke: Chinampas_C.willowTrunk,
        strokeWidth: 10,
        strokeLinecap: "round"
      }
    ),
    [0.15, 0.3, 0.45, 0.6, 0.75, 0.88].map((r, i) => {
      const tx = sway * r * 0.5;
      const ty = -th * r;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: tx - 4,
          y1: ty - 3,
          x2: tx + 4,
          y2: ty + 3,
          stroke: Chinampas_C.willowBark,
          strokeWidth: 1,
          opacity: 0.3
        },
        `bark-${i}`
      );
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${sway * 0.6},-${th * 0.65} Q${sway - 30},-${th * 0.8} ${sway - 50 + breeze},-${th * 0.7}`,
        fill: "none",
        stroke: Chinampas_C.willowTrunk,
        strokeWidth: 5,
        strokeLinecap: "round"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${sway * 0.7},-${th * 0.7} Q${sway + 25},-${th * 0.85} ${sway + 45 + breeze},-${th * 0.75}`,
        fill: "none",
        stroke: Chinampas_C.willowTrunk,
        strokeWidth: 4,
        strokeLinecap: "round"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: sway,
        cy: -th - 10,
        rx: crownSpread * 0.55,
        ry: th * 0.3,
        fill: Chinampas_C.willowLeafDark,
        opacity: 0.6
      }
    ),
    [-60, -45, -30, -18].map((offsetX, i) => {
      const branchSway = leafSway1 * (0.5 + i * 0.15);
      const startX = sway + offsetX;
      const startY = -th + 10 - i * 8;
      const endX = startX + offsetX * 0.8 + branchSway;
      const endY = startY + th * 0.55 + i * 10;
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M${startX},${startY} Q${startX + offsetX * 0.4 + branchSway * 0.5},${startY + (endY - startY) * 0.5} ${endX},${endY}`,
            fill: "none",
            stroke: Chinampas_C.willowLeafDark,
            strokeWidth: 2,
            opacity: 0.4
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M${startX},${startY} Q${startX + offsetX * 0.3 + branchSway * 0.6},${startY + (endY - startY) * 0.4} ${endX + 3},${endY - 5}`,
            fill: "none",
            stroke: Chinampas_C.willowLeaf,
            strokeWidth: 3.5,
            strokeLinecap: "round",
            opacity: 0.7
          }
        ),
        [0.3, 0.5, 0.7, 0.9].map((t, j) => {
          const lx = startX + (endX - startX) * t + branchSway * t * 0.3;
          const ly = startY + (endY - startY) * t;
          return /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "ellipse",
            {
              cx: lx,
              cy: ly,
              rx: 6 + j,
              ry: 3,
              fill: j % 2 === 0 ? Chinampas_C.willowLeaf : Chinampas_C.willowLeafLight,
              opacity: 0.6 + j * 0.05,
              transform: `rotate(${offsetX * 0.5 + branchSway * 2}, ${lx}, ${ly})`
            },
            `lleaf-${i}-${j}`
          );
        })
      ] }, `lbranch-${i}`);
    }),
    [18, 30, 45, 55].map((offsetX, i) => {
      const branchSway = leafSway2 * (0.5 + i * 0.12);
      const startX = sway + offsetX;
      const startY = -th + 5 - i * 6;
      const endX = startX + offsetX * 0.75 + branchSway;
      const endY = startY + th * 0.5 + i * 12;
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M${startX},${startY} Q${startX + offsetX * 0.35 + branchSway * 0.4},${startY + (endY - startY) * 0.5} ${endX},${endY}`,
            fill: "none",
            stroke: Chinampas_C.willowLeaf,
            strokeWidth: 3,
            strokeLinecap: "round",
            opacity: 0.65
          }
        ),
        [0.25, 0.5, 0.75, 0.95].map((t, j) => {
          const lx = startX + (endX - startX) * t + branchSway * t * 0.2;
          const ly = startY + (endY - startY) * t;
          return /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "ellipse",
            {
              cx: lx,
              cy: ly,
              rx: 5 + j,
              ry: 3,
              fill: j % 2 === 0 ? Chinampas_C.willowLeafLight : Chinampas_C.willowDroop,
              opacity: 0.55 + j * 0.06,
              transform: `rotate(${-offsetX * 0.4 + branchSway * 1.5}, ${lx}, ${ly})`
            },
            `rleaf-${i}-${j}`
          );
        })
      ] }, `rbranch-${i}`);
    }),
    [-35, 0, 25].map((offsetX, i) => {
      const branchSway = leafSway3 * (0.6 + i * 0.1);
      const startX = sway + offsetX;
      const startY = -th - 5;
      const endX = startX + offsetX * 0.9 + branchSway;
      const endY = startY + th * 0.65;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${startX},${startY} C${startX + offsetX * 0.3},${startY + 40} ${endX - branchSway * 0.5},${endY - 30} ${endX},${endY}`,
          fill: "none",
          stroke: Chinampas_C.willowLeafLight,
          strokeWidth: 2.5,
          strokeLinecap: "round",
          opacity: 0.5
        },
        `fbranch-${i}`
      );
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: sway + 5,
        cy: -th - 15,
        rx: crownSpread * 0.3,
        ry: th * 0.15,
        fill: Chinampas_C.willowLeafLight,
        opacity: 0.3
      }
    )
  ] });
};
const ChinampaPlot = ({ x, y, plotWidth, plotHeight, cropType, seed = 0 }) => {
  const frame = (0,esm.useCurrentFrame)();
  const cropSway = sineWave(frame, 0.1, seed) * 2;
  const growPulse = sineWave(frame, 0.06, seed + 2) * 0.5;
  const renderCorn = (cx, cy, idx) => {
    const stalkSway = sineWave(frame, 0.09, seed + idx * 0.3) * 3;
    const stalkH = 35 + idx * 3;
    return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${cx}, ${cy})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 0,
          y1: 0,
          x2: stalkSway,
          y2: -stalkH,
          stroke: Chinampas_C.cornStalk,
          strokeWidth: 2.5,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${stalkSway * 0.3},-${stalkH * 0.4} Q${-12 + stalkSway * 0.5},-${stalkH * 0.5} ${-15 + stalkSway * 0.6},-${stalkH * 0.35}`,
          fill: "none",
          stroke: Chinampas_C.cornLeaf,
          strokeWidth: 2,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${stalkSway * 0.5},-${stalkH * 0.6} Q${10 + stalkSway * 0.4},-${stalkH * 0.7} ${14 + stalkSway * 0.3},-${stalkH * 0.55}`,
          fill: "none",
          stroke: Chinampas_C.cornLeafDark,
          strokeWidth: 2,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${stalkSway * 0.7},-${stalkH * 0.75} Q${-8 + stalkSway * 0.6},-${stalkH * 0.85} ${-11 + stalkSway * 0.7},-${stalkH * 0.7}`,
          fill: "none",
          stroke: Chinampas_C.cornLeaf,
          strokeWidth: 1.5,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: stalkSway * 0.5 + 3,
          cy: -stalkH * 0.5,
          rx: 3,
          ry: 6,
          fill: Chinampas_C.cornCob,
          stroke: Chinampas_C.cornStalk,
          strokeWidth: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${stalkSway},-${stalkH} L${stalkSway - 4},-${stalkH + 6} M${stalkSway},-${stalkH} L${stalkSway + 3},-${stalkH + 5} M${stalkSway},-${stalkH} L${stalkSway},-${stalkH + 7}`,
          fill: "none",
          stroke: Chinampas_C.cornTassel,
          strokeWidth: 1
        }
      )
    ] }, `corn-${idx}`);
  };
  const renderSquash = (cx, cy, idx) => {
    const leafWiggle = sineWave(frame, 0.11, seed + idx * 0.5) * 2;
    return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${cx}, ${cy})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: leafWiggle,
          cy: -6,
          rx: 10,
          ry: 7,
          fill: Chinampas_C.squashLeaf,
          opacity: 0.8,
          transform: `rotate(${leafWiggle * 3}, ${leafWiggle}, -6)`
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: leafWiggle + 8,
          cy: -4,
          rx: 8,
          ry: 6,
          fill: Chinampas_C.squashGreen,
          opacity: 0.7,
          transform: `rotate(${-leafWiggle * 2}, ${leafWiggle + 8}, -4)`
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${leafWiggle - 5},-5 Q${leafWiggle - 15},-8 ${leafWiggle - 18},-3`,
          fill: "none",
          stroke: Chinampas_C.squashVine,
          strokeWidth: 1.5
        }
      ),
      idx % 2 === 0 ? /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 5, cy: -2, rx: 6, ry: 4, fill: Chinampas_C.squashOrange, stroke: Chinampas_C.earthDark, strokeWidth: 0.5 }) : /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -3, cy: -2, rx: 5, ry: 3.5, fill: Chinampas_C.squashYellow, stroke: Chinampas_C.earthDark, strokeWidth: 0.5 })
    ] }, `squash-${idx}`);
  };
  const renderMarigold = (cx, cy, idx) => {
    const flowerSway = sineWave(frame, 0.14, seed + idx * 0.4) * 2;
    const petalPulse = 1 + sineWave(frame, 0.08, seed + idx) * 0.05;
    return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${cx}, ${cy})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 0,
          y1: 0,
          x2: flowerSway,
          y2: -18,
          stroke: Chinampas_C.cornStalk,
          strokeWidth: 1.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${flowerSway * 0.3},-8 Q${-6},-10 ${-8},-6`,
          fill: Chinampas_C.squashGreen,
          opacity: 0.7
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${flowerSway}, -18) scale(${petalPulse})`, children: [
        [0, 45, 90, 135, 180, 225, 270, 315].map((angle, pi) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "ellipse",
          {
            cx: 0,
            cy: -4,
            rx: 2.5,
            ry: 4,
            fill: pi % 2 === 0 ? Chinampas_C.marigoldYellow : Chinampas_C.marigoldOrange,
            transform: `rotate(${angle}, 0, 0)`,
            opacity: 0.85
          },
          `petal-${pi}`
        )),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 2.5, fill: Chinampas_C.marigoldDeep })
      ] })
    ] }, `marigold-${idx}`);
  };
  const renderTomato = (cx, cy, idx) => {
    const leafWave = sineWave(frame, 0.1, seed + idx * 0.6) * 1.5;
    return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${cx}, ${cy})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 2, x2: 0, y2: -22, stroke: Chinampas_C.stakeWood, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M0,-5 Q${5 + leafWave},-10 ${3 + leafWave},-18`,
          fill: "none",
          stroke: Chinampas_C.tomatoGreen,
          strokeWidth: 1.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 6 + leafWave,
          cy: -12,
          rx: 6,
          ry: 3.5,
          fill: Chinampas_C.tomatoGreen,
          opacity: 0.7,
          transform: `rotate(${15 + leafWave * 3}, ${6 + leafWave}, -12)`
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: -4 + leafWave * 0.5,
          cy: -16,
          rx: 5,
          ry: 3,
          fill: Chinampas_C.squashGreen,
          opacity: 0.6,
          transform: `rotate(${-20 + leafWave * 2}, ${-4}, -16)`
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 4 + leafWave * 0.3, cy: -8, r: 3.5, fill: Chinampas_C.tomatoRed, stroke: Chinampas_C.tomatoDark, strokeWidth: 0.5 }),
      idx % 3 === 0 && /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -2, cy: -5, r: 2.8, fill: Chinampas_C.tomatoRed, stroke: Chinampas_C.tomatoDark, strokeWidth: 0.5 }),
      idx % 2 === 0 && /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 6, cy: -15, r: 2, fill: Chinampas_C.tomatoGreen, stroke: Chinampas_C.squashGreen, strokeWidth: 0.4 })
    ] }, `tomato-${idx}`);
  };
  const renderChili = (cx, cy, idx) => {
    const chiliSway = sineWave(frame, 0.12, seed + idx * 0.35) * 2;
    return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${cx}, ${cy})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: chiliSway * 0.5, y2: -16, stroke: Chinampas_C.chiliGreen, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: `M${chiliSway * 0.2},-8 Q${-7},-10 ${-9},-6`, fill: Chinampas_C.chiliGreen, opacity: 0.65 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: `M${chiliSway * 0.4},-12 Q${6},-15 ${8},-10`, fill: Chinampas_C.squashGreen, opacity: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${chiliSway * 0.5 + 2},-14 Q${chiliSway * 0.5 + 6},-10 ${chiliSway * 0.5 + 4},-5`,
          fill: "none",
          stroke: idx % 2 === 0 ? Chinampas_C.chiliRed : Chinampas_C.chiliGreen,
          strokeWidth: 2.5,
          strokeLinecap: "round"
        }
      ),
      idx % 3 === 0 && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${chiliSway * 0.5 - 3},-12 Q${chiliSway * 0.5 - 6},-8 ${chiliSway * 0.5 - 5},-4`,
          fill: "none",
          stroke: Chinampas_C.chiliRed,
          strokeWidth: 2,
          strokeLinecap: "round"
        }
      )
    ] }, `chili-${idx}`);
  };
  const cropCount = Math.floor(plotWidth / 16);
  const rowCount = Math.floor(plotHeight / 18);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: -2,
        y: -2,
        width: plotWidth + 4,
        height: plotHeight + 4,
        rx: 3,
        fill: Chinampas_C.wickerwork,
        stroke: Chinampas_C.wickerDark,
        strokeWidth: 1.5,
        opacity: 0.8
      }
    ),
    Array.from({ length: Math.floor(plotHeight / 6) }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: 0,
        y1: i * 6,
        x2: plotWidth,
        y2: i * 6,
        stroke: Chinampas_C.wickerDark,
        strokeWidth: 0.5,
        opacity: 0.2
      },
      `wicker-h-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 2,
        y: 2,
        width: plotWidth - 4,
        height: plotHeight - 4,
        rx: 1,
        fill: Chinampas_C.earthRich
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 8 + cropSway * 0.2, y: 5, width: plotWidth * 0.3, height: plotHeight * 0.4, fill: Chinampas_C.earthDark, opacity: 0.2, rx: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: plotWidth * 0.5, y: plotHeight * 0.3, width: plotWidth * 0.35, height: plotHeight * 0.5, fill: Chinampas_C.earthWet, opacity: 0.15, rx: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 2, y: plotHeight - 5, width: plotWidth - 4, height: 3, fill: Chinampas_C.earthWet, opacity: 0.4 + growPulse * 0.05, rx: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 2, y: 2, width: plotWidth - 4, height: 2, fill: Chinampas_C.earthWet, opacity: 0.3, rx: 1 }),
    Array.from(
      { length: rowCount },
      (_, row) => Array.from({ length: cropCount }, (_2, col) => {
        const cx = 8 + col * (plotWidth / cropCount);
        const cy = 8 + row * (plotHeight / rowCount);
        const idx = row * cropCount + col;
        switch (cropType) {
          case "corn":
            return renderCorn(cx, cy, idx);
          case "squash":
            return renderSquash(cx, cy, idx);
          case "marigold":
            return renderMarigold(cx, cy, idx);
          case "tomato":
            return renderTomato(cx, cy, idx);
          case "chili":
            return renderChili(cx, cy, idx);
          case "mixed":
            if (idx % 5 === 0) return renderMarigold(cx, cy, idx);
            if (idx % 5 === 1) return renderCorn(cx, cy, idx);
            if (idx % 5 === 2) return renderSquash(cx, cy, idx);
            if (idx % 5 === 3) return renderTomato(cx, cy, idx);
            return renderChili(cx, cy, idx);
          default:
            return renderCorn(cx, cy, idx);
        }
      })
    )
  ] });
};
const Chinampas_Canoe = ({ x, y, scale = 1, seed = 0, flip = false, loaded = true }) => {
  const frame = (0,esm.useCurrentFrame)();
  const bob = sineWave(frame, 0.12, seed) * 2;
  const rock = sineWave(frame, 0.09, seed + 0.5) * 1.5;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y + bob}) scale(${scale * fDir}, ${scale}) rotate(${rock})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 6, rx: 40, ry: 4, fill: Chinampas_C.waterShadow, opacity: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: "M-40,0 Q-45,-6 -35,-8 L35,-8 Q45,-6 40,0 Q35,5 -35,5 Q-45,3 -40,0 Z",
        fill: Chinampas_C.canoeWood,
        stroke: Chinampas_C.canoeDark,
        strokeWidth: 1.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-30,-5 Q0,-7 30,-5", fill: "none", stroke: Chinampas_C.canoeLight, strokeWidth: 0.8, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-28,-2 Q0,-4 28,-2", fill: "none", stroke: Chinampas_C.canoeLight, strokeWidth: 0.6, opacity: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: "M-30,-4 Q0,-6 30,-4 Q25,1 -25,1 Z",
        fill: Chinampas_C.canoeInside,
        opacity: 0.5
      }
    ),
    loaded && /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -12, cy: -8, rx: 7, ry: 5, fill: Chinampas_C.wickerwork, stroke: Chinampas_C.wickerDark, strokeWidth: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -12, cy: -10, rx: 5, ry: 3, fill: Chinampas_C.cornCob, opacity: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -14, cy: -11, r: 2, fill: Chinampas_C.tomatoRed }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -10, cy: -11.5, r: 1.5, fill: Chinampas_C.marigoldYellow }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 8, cy: -7, rx: 6, ry: 4.5, fill: Chinampas_C.wickerwork, stroke: Chinampas_C.wickerDark, strokeWidth: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 8, cy: -9, rx: 4, ry: 2.5, fill: Chinampas_C.squashGreen, opacity: 0.7 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 10, cy: -9.5, rx: 3, ry: 2, fill: Chinampas_C.squashOrange, opacity: 0.8 }),
      [0, 3, -3, 1.5, -1.5].map((ox, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -2 + ox, cy: -10 - i * 0.5, r: 2, fill: i % 2 === 0 ? Chinampas_C.marigoldYellow : Chinampas_C.marigoldOrange, opacity: 0.8 }, `flwr-${i}`))
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(25, -6)`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: -15, x2: 5, y2: 10, stroke: Chinampas_C.paddle, strokeWidth: 2, strokeLinecap: "round" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 5.5, cy: 12, rx: 3, ry: 6, fill: Chinampas_C.paddleBlade, stroke: Chinampas_C.canoeDark, strokeWidth: 0.5 })
    ] })
  ] });
};
const CropRow = ({ x, y, length, cropType, seed = 0, density = 12 }) => {
  const frame = (0,esm.useCurrentFrame)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(${x}, ${y})`, children: Array.from({ length: density }, (_, i) => {
    const cx = i / density * length;
    const sway = sineWave(frame, 0.1, seed + i * 0.2) * 2;
    const h = 25 + sineWave(frame, 0.03, seed + i) * 2;
    if (cropType === "corn" || cropType === "mixed" && i % 2 === 0) {
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${cx}, 0)`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: sway, y2: -h, stroke: Chinampas_C.cornStalk, strokeWidth: 2, strokeLinecap: "round" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M${sway * 0.4},-${h * 0.5} Q${-8 + sway * 0.3},-${h * 0.6} ${-10 + sway * 0.4},-${h * 0.45}`,
            fill: "none",
            stroke: Chinampas_C.cornLeaf,
            strokeWidth: 1.5
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M${sway * 0.6},-${h * 0.7} Q${6 + sway * 0.3},-${h * 0.8} ${8 + sway * 0.2},-${h * 0.65}`,
            fill: "none",
            stroke: Chinampas_C.cornLeafDark,
            strokeWidth: 1.5
          }
        ),
        i % 3 === 0 && /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: sway * 0.4 + 2, cy: -h * 0.45, rx: 2, ry: 4, fill: Chinampas_C.cornCob, opacity: 0.7 })
      ] }, `crow-${i}`);
    }
    const petalScale = 1 + sineWave(frame, 0.07, seed + i * 0.5) * 0.04;
    return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${cx}, 0)`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: sway * 0.7, y2: -14, stroke: Chinampas_C.cornStalk, strokeWidth: 1.2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${sway * 0.7}, -14) scale(${petalScale})`, children: [
        [0, 60, 120, 180, 240, 300].map((a, pi) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "ellipse",
          {
            cx: 0,
            cy: -3,
            rx: 2,
            ry: 3,
            fill: pi % 2 === 0 ? Chinampas_C.marigoldYellow : Chinampas_C.marigoldOrange,
            transform: `rotate(${a}, 0, 0)`,
            opacity: 0.8
          },
          `p-${pi}`
        )),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 2, fill: Chinampas_C.marigoldDeep })
      ] })
    ] }, `crow-${i}`);
  }) });
};
const WaterLily = ({ x, y, scale = 1, seed = 0, hasFlower = false }) => {
  const frame = (0,esm.useCurrentFrame)();
  const drift = sineWave(frame, 0.06, seed) * 3;
  const bob = sineWave(frame, 0.1, seed + 1) * 1;
  const padRotate = sineWave(frame, 0.04, seed + 2) * 5;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x + drift}, ${y + bob}) scale(${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 16, ry: 5, fill: "none", stroke: Chinampas_C.waterRipple, strokeWidth: 1, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `rotate(${padRotate})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 12, ry: 8, fill: Chinampas_C.lilyPadGreen }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -2, cy: -1, rx: 10, ry: 6.5, fill: Chinampas_C.lilyPadLight, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,0 L3,-8 L-3,-8 Z", fill: Chinampas_C.waterMid }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -8, y2: -4, stroke: Chinampas_C.lilyPadDark, strokeWidth: 0.5, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 8, y2: -3, stroke: Chinampas_C.lilyPadDark, strokeWidth: 0.5, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -5, y2: 5, stroke: Chinampas_C.lilyPadDark, strokeWidth: 0.5, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 6, y2: 4, stroke: Chinampas_C.lilyPadDark, strokeWidth: 0.5, opacity: 0.4 })
    ] }),
    hasFlower && /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(2, -8)`, children: [
      [0, 40, 80, 120, 160, 200, 240, 280, 320].map((angle, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 0,
          cy: -4,
          rx: 2.5,
          ry: 5,
          fill: i % 3 === 0 ? Chinampas_C.lilyFlower : Chinampas_C.lilyFlowerPink,
          opacity: 0.85,
          transform: `rotate(${angle}, 0, 0)`
        },
        `lp-${i}`
      )),
      [20, 70, 120, 170, 220, 270, 320].map((angle, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 0,
          cy: -2.5,
          rx: 1.5,
          ry: 3.5,
          fill: Chinampas_C.lilyFlower,
          opacity: 0.9,
          transform: `rotate(${angle}, 0, 0)`
        },
        `lip-${i}`
      )),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 2.5, fill: Chinampas_C.lilyCenter }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0.5, cy: -0.5, r: 1, fill: "#F8E8A0", opacity: 0.7 })
    ] })
  ] });
};
const Chinampas_ReedCluster = ({ x, y, count = 7, maxHeight = 60, seed = 0 }) => {
  const frame = (0,esm.useCurrentFrame)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(${x}, ${y})`, children: Array.from({ length: count }, (_, i) => {
    const reedSway = sineWave(frame, 0.1 + i * 0.01, seed + i * 0.5) * 3;
    const h = maxHeight * (0.5 + i % 3 * 0.2);
    const xOff = (i - count / 2) * 5;
    const hasCattail = i % 2 === 0;
    return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${xOff},0 Q${xOff + reedSway * 0.5},-${h * 0.5} ${xOff + reedSway},-${h}`,
          fill: "none",
          stroke: Chinampas_C.reedGreen,
          strokeWidth: 2,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${xOff + reedSway * 0.3},-${h * 0.4}
                Q${xOff + reedSway * 0.3 + (i % 2 === 0 ? -12 : 10)},-${h * 0.5}
                ${xOff + reedSway * 0.3 + (i % 2 === 0 ? -15 : 13)},-${h * 0.35}`,
          fill: "none",
          stroke: Chinampas_C.reedLight,
          strokeWidth: 1.5,
          strokeLinecap: "round",
          opacity: 0.7
        }
      ),
      hasCattail && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: xOff + reedSway,
          cy: -h - 4,
          rx: 2.5,
          ry: 7,
          fill: Chinampas_C.earthMid,
          stroke: Chinampas_C.earthDark,
          strokeWidth: 0.5
        }
      ),
      !hasCattail && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: xOff + reedSway,
          y1: -h,
          x2: xOff + reedSway + 2,
          y2: -h - 8,
          stroke: Chinampas_C.reedTip,
          strokeWidth: 1,
          strokeLinecap: "round",
          opacity: 0.6
        }
      )
    ] }, `reed-${i}`);
  }) });
};
const Heron = ({ x, y, scale = 1, seed = 0, flip = false }) => {
  const frame = (0,esm.useCurrentFrame)();
  const headBob = sineWave(frame, 0.06, seed) * 2;
  const neckShift = sineWave(frame, 0.04, seed + 1) * 1.5;
  const legShift = sineWave(frame, 0.03, seed + 2) * 0.5;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 3, rx: 15, ry: 4, fill: Chinampas_C.shadow, opacity: 0.2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -2, y1: -2, x2: -4 + legShift, y2: -30, stroke: Chinampas_C.heronLeg, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -4 + legShift, y1: -30, x2: -4 + legShift, y2: -28, stroke: Chinampas_C.heronLeg, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: -2, x2: 5 - legShift, y2: -30, stroke: Chinampas_C.heronLeg, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 5 - legShift, y1: -30, x2: 5 - legShift, y2: -28, stroke: Chinampas_C.heronLeg, strokeWidth: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${5 - legShift},-30 L${8 - legShift},-30.5 M${5 - legShift},-30 L${3 - legShift},-30.5 M${5 - legShift},-30 L${5 - legShift},-31`,
        stroke: Chinampas_C.heronLeg,
        strokeWidth: 0.8
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -38, rx: 10, ry: 7, fill: Chinampas_C.heronWhite, stroke: Chinampas_C.heronGray, strokeWidth: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-5,-40 Q-10,-35 -8,-32", fill: "none", stroke: Chinampas_C.heronGray, strokeWidth: 1, opacity: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-3,-42 Q-12,-38 -10,-34", fill: "none", stroke: Chinampas_C.heronGray, strokeWidth: 0.8, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-8,-36 L-16,-34 M-7,-37 L-15,-36", fill: "none", stroke: Chinampas_C.heronGray, strokeWidth: 1, opacity: 0.6 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M2,-44 Q${5 + neckShift},-52 ${3 + neckShift},-58 Q${1 + neckShift},-62 ${neckShift},-65`,
        fill: "none",
        stroke: Chinampas_C.heronWhite,
        strokeWidth: 3.5,
        strokeLinecap: "round"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M2,-44 Q${5 + neckShift},-52 ${3 + neckShift},-58 Q${1 + neckShift},-62 ${neckShift},-65`,
        fill: "none",
        stroke: Chinampas_C.heronGray,
        strokeWidth: 0.5,
        strokeLinecap: "round",
        opacity: 0.3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${neckShift}, ${-66 + headBob})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 5, ry: 3.5, fill: Chinampas_C.heronWhite, stroke: Chinampas_C.heronGray, strokeWidth: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 3, cy: -1, r: 1, fill: Chinampas_C.outline }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 3.3, cy: -1.2, r: 0.3, fill: "white" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -2, x2: -8, y2: -4, stroke: Chinampas_C.outline, strokeWidth: 0.8, opacity: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -2, y1: -2.5, x2: -7, y2: -5, stroke: Chinampas_C.outline, strokeWidth: 0.6, opacity: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M5,-0.5 L14,0 L5,0.8 Z", fill: Chinampas_C.heronBeak, stroke: Chinampas_C.outline, strokeWidth: 0.5 })
    ] })
  ] });
};
const Duck = ({ x, y, scale = 1, seed = 0, flip = false }) => {
  const frame = (0,esm.useCurrentFrame)();
  const bob = sineWave(frame, 0.15, seed) * 1.5;
  const headTilt = sineWave(frame, 0.08, seed + 1) * 3;
  const fDir = flip ? -1 : 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y + bob}) scale(${scale * fDir}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-12,2 Q-18,0 -25,2", fill: "none", stroke: Chinampas_C.waterRipple, strokeWidth: 0.8, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-10,4 Q-20,2 -28,4", fill: "none", stroke: Chinampas_C.waterRipple, strokeWidth: 0.6, opacity: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 10, ry: 5, fill: Chinampas_C.duckBrown }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -1, cy: -1, rx: 8, ry: 3.5, fill: Chinampas_C.duckBrown, opacity: 0.8 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,-2 Q0,-4 5,-2 Q3,0 -2,0 Z", fill: Chinampas_C.duckGreen, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-9,-1 L-14,-4 L-12,0 Z", fill: Chinampas_C.duckBrown }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(8, -4) rotate(${headTilt})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: -3, rx: 4, ry: 3.5, fill: Chinampas_C.duckGreen }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 2, cy: -4, r: 0.8, fill: Chinampas_C.outline }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 2.2, cy: -4.2, r: 0.2, fill: "white" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M4,-3 L8,-2.5 L4,-1.5 Z", fill: Chinampas_C.duckBeak })
    ] })
  ] });
};
const Chinampas = ({
  boardText = "",
  width = 1920,
  height = 1080
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const cloudDrift = sineWave(frame, 0.02, 0) * 15;
  const waterShimmer = sineWave(frame, 0.08, 0) * 2;
  const mistPulse = sineWave(frame, 0.04, 0.5);
  const morningGlow = 0.6 + sineWave(frame, 0.03, 1) * 0.1;
  const waterWave1 = sineWave(frame, 0.12, 0);
  const waterWave2 = sineWave(frame, 0.09, 1.2);
  const waterWave3 = sineWave(frame, 0.07, 2.4);
  const reflectionShift = sineWave(frame, 0.05, 0.8) * 3;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("svg", { viewBox: `0 0 ${width} ${height}`, width, height, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("defs", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "chin-sky", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: Chinampas_C.skyTop }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "30%", stopColor: Chinampas_C.skyMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "60%", stopColor: Chinampas_C.skyLavender }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "80%", stopColor: Chinampas_C.skyPink }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "95%", stopColor: Chinampas_C.skyGold }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: Chinampas_C.skyBottom })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "chin-water", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: Chinampas_C.waterSurface }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "30%", stopColor: Chinampas_C.waterMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "70%", stopColor: Chinampas_C.waterDeep }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: Chinampas_C.waterDeep })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "chin-sun-glow", cx: "25%", cy: "25%", r: "35%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(255,220,150,0.35)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "50%", stopColor: "rgba(255,200,130,0.12)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(255,180,100,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "chin-mist", x1: "0%", y1: "100%", x2: "0%", y2: "0%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(230,235,240,0.2)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "40%", stopColor: "rgba(230,235,240,0.08)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(230,235,240,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("pattern", { id: "chin-water-ripple", x: "0", y: "0", width: "80", height: "20", patternUnits: "userSpaceOnUse", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M0,10 Q20,${8 + waterWave1 * 2} 40,10 Q60,${12 + waterWave2 * 2} 80,10`,
          fill: "none",
          stroke: Chinampas_C.waterHighlight,
          strokeWidth: 0.6,
          opacity: 0.3
        }
      ) }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("pattern", { id: "chin-canvas", x: "0", y: "0", width: "4", height: "4", patternUnits: "userSpaceOnUse", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: "0", y: "0", width: "4", height: "4", fill: "transparent" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: "0", y: "0", width: "1", height: "1", fill: Chinampas_C.canvasOverlay }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: "2", y: "2", width: "1", height: "1", fill: Chinampas_C.canvasOverlay })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "chin-mt-haze", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: Chinampas_C.mountainFar }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: Chinampas_C.atmosphereHaze })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("pattern", { id: "chin-earth-tex", x: "0", y: "0", width: "6", height: "6", patternUnits: "userSpaceOnUse", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: "0", y: "0", width: "6", height: "6", fill: Chinampas_C.earthRich }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "2", cy: "2", r: "0.8", fill: Chinampas_C.earthDark, opacity: 0.3 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "5", cy: "4", r: "0.5", fill: Chinampas_C.earthLight, opacity: 0.2 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "chin-water-gold", x1: "0%", y1: "0%", x2: "100%", y2: "0%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "rgba(240,200,120,0)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "20%", stopColor: "rgba(240,200,120,0.08)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "50%", stopColor: "rgba(255,220,150,0.15)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "80%", stopColor: "rgba(240,200,120,0.06)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "rgba(240,200,120,0)" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "chin-stone-tab", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: Chinampas_C.stoneTabletLight }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: Chinampas_C.stoneTablet })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height: height * 0.45, fill: "url(#chin-sky)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height: height * 0.5, fill: "url(#chin-sun-glow)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.2}, ${height * 0.32})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 80, fill: "rgba(255,210,140,0.06)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 55, fill: "rgba(255,200,130,0.1)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 35, fill: "rgba(255,220,160,0.15)" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 22, fill: "#FFE090", opacity: 0.9 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 18, fill: "#FFF0B0", opacity: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -4, cy: -4, r: 6, fill: "white", opacity: 0.2 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${200 + cloudDrift}, ${height * 0.08})`, opacity: 0.5, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 90, ry: 25, fill: Chinampas_C.cloudPink }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -30, cy: -8, rx: 60, ry: 18, fill: Chinampas_C.cloudWhite }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 25, cy: -5, rx: 50, ry: 15, fill: Chinampas_C.cloudGold, opacity: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -10, cy: 5, rx: 70, ry: 12, fill: Chinampas_C.cloudShadow })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${750 + cloudDrift * 0.7}, ${height * 0.12})`, opacity: 0.4, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 120, ry: 15, fill: Chinampas_C.cloudWhite }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 30, cy: -3, rx: 80, ry: 10, fill: Chinampas_C.cloudPink, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -20, cy: 3, rx: 90, ry: 8, fill: Chinampas_C.cloudShadow })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${1400 + cloudDrift * 0.5}, ${height * 0.06})`, opacity: 0.45, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 65, ry: 18, fill: Chinampas_C.cloudGold }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -15, cy: -5, rx: 45, ry: 12, fill: Chinampas_C.cloudWhite }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 20, cy: 3, rx: 40, ry: 10, fill: Chinampas_C.cloudShadow })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${1100 + cloudDrift * 0.3}, ${height * 0.04})`, opacity: 0.3, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 100, ry: 8, fill: Chinampas_C.cloudWhite }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 40, cy: 2, rx: 60, ry: 5, fill: Chinampas_C.cloudPink, opacity: 0.4 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${500 + cloudDrift * 0.6}, ${height * 0.22})`, opacity: 0.3, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 150, ry: 10, fill: Chinampas_C.cloudGold }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: -30, cy: -2, rx: 100, ry: 7, fill: Chinampas_C.cloudWhite, opacity: 0.6 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${height * 0.38}
          Q${width * 0.05},${height * 0.32} ${width * 0.12},${height * 0.34}
          Q${width * 0.18},${height * 0.28} ${width * 0.25},${height * 0.3}
          L${width * 0.3},${height * 0.32}
          Q${width * 0.38},${height * 0.25} ${width * 0.45},${height * 0.27}
          Q${width * 0.5},${height * 0.22} ${width * 0.55},${height * 0.26}
          Q${width * 0.62},${height * 0.24} ${width * 0.68},${height * 0.28}
          Q${width * 0.75},${height * 0.3} ${width * 0.82},${height * 0.26}
          Q${width * 0.88},${height * 0.23} ${width * 0.93},${height * 0.29}
          Q${width * 0.97},${height * 0.32} ${width},${height * 0.35}
          L${width},${height * 0.45} L0,${height * 0.45} Z`,
        fill: Chinampas_C.mountainFar,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.18},${height * 0.28} L${width * 0.2},${height * 0.29} L${width * 0.16},${height * 0.295} Z`,
        fill: Chinampas_C.mountainSnow,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.5},${height * 0.22} L${width * 0.52},${height * 0.235} L${width * 0.48},${height * 0.24} Z`,
        fill: Chinampas_C.mountainSnow,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${width * 0.88},${height * 0.23} L${width * 0.9},${height * 0.245} L${width * 0.86},${height * 0.25} Z`,
        fill: Chinampas_C.mountainSnow,
        opacity: 0.45
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${height * 0.4}
          Q${width * 0.08},${height * 0.36} ${width * 0.15},${height * 0.37}
          Q${width * 0.22},${height * 0.33} ${width * 0.3},${height * 0.35}
          Q${width * 0.4},${height * 0.34} ${width * 0.48},${height * 0.36}
          Q${width * 0.55},${height * 0.33} ${width * 0.62},${height * 0.35}
          Q${width * 0.7},${height * 0.37} ${width * 0.78},${height * 0.34}
          Q${width * 0.85},${height * 0.36} ${width * 0.92},${height * 0.38}
          L${width},${height * 0.4}
          L${width},${height * 0.45} L0,${height * 0.45} Z`,
        fill: Chinampas_C.mountainMid,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.55}, ${height * 0.36})`, opacity: 0.55, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-20,0 L-15,-35 L-5,-40 L5,-40 L15,-35 L20,0 Z", fill: Chinampas_C.templePyramid }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-5,-40 L-3,-50 L3,-50 L5,-40 Z", fill: Chinampas_C.templeRed }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -2, y: -53, width: 4, height: 5, fill: Chinampas_C.templeTop }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-60,0 L-55,-22 L-45,-25 L-40,-22 L-35,0 Z", fill: Chinampas_C.cityStone }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -48, y: -28, width: 6, height: 5, fill: Chinampas_C.templeRed, opacity: 0.7 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M40,0 L45,-20 L50,-22 L55,-20 L60,0 Z", fill: Chinampas_C.cityStone }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 46, y: -25, width: 5, height: 4, fill: Chinampas_C.cityGold, opacity: 0.6 }),
      [-80, -70, -30, 25, 35, 70, 80, 95].map((bx, i) => {
        const bh = 8 + i % 3 * 5;
        return /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: bx, y: -bh, width: 8, height: bh, fill: Chinampas_C.cityWhite, opacity: 0.5 }, `bldg-${i}`);
      }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -100, y: -2, width: 80, height: 3, fill: Chinampas_C.cityStone, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 60, y: -1, width: 70, height: 3, fill: Chinampas_C.cityStone, opacity: 0.3 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.25,
        width,
        height: height * 0.2,
        fill: Chinampas_C.atmosphereHaze,
        opacity: 0.5 + mistPulse * 0.1
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.42, width, height: height * 0.58, fill: "url(#chin-water)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.42,
        width,
        height: height * 0.15,
        fill: "url(#chin-water-gold)",
        opacity: morningGlow
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.42,
        width,
        height: height * 0.58,
        fill: "url(#chin-water-ripple)",
        opacity: 0.5
      }
    ),
    Array.from({ length: 18 }, (_, i) => {
      const wy = height * 0.44 + i * (height * 0.56 / 18);
      const waveOffset = sineWave(frame, 0.06 + i * 5e-3, i * 0.4) * 8;
      const waveAmp = sineWave(frame, 0.08, i * 0.7) * 3;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${-20 + waveOffset},${wy}
              Q${width * 0.15 + waveOffset},${wy + waveAmp}
              ${width * 0.3 + waveOffset},${wy}
              Q${width * 0.45 + waveOffset},${wy - waveAmp}
              ${width * 0.6 + waveOffset},${wy}
              Q${width * 0.75 + waveOffset},${wy + waveAmp * 0.8}
              ${width * 0.9 + waveOffset},${wy}
              Q${width + waveOffset},${wy - waveAmp * 0.6}
              ${width + 20},${wy}`,
          fill: "none",
          stroke: Chinampas_C.waterHighlight,
          strokeWidth: 0.5 + (i < 5 ? 0.3 : 0),
          opacity: 0.15 + (i < 4 ? 0.1 : 0)
        },
        `wave-${i}`
      );
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { opacity: 0.15 + sineWave(frame, 0.05, 0) * 0.05, transform: `translate(${reflectionShift}, 0)`, children: Array.from({ length: 12 }, (_, i) => {
      const ry = height * 0.43 + i * 15;
      const rx = width * 0.2 + sineWave(frame, 0.1, i * 0.3) * 8;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: rx,
          cy: ry,
          rx: 15 - i * 0.5,
          ry: 2,
          fill: "#FFE0A0",
          opacity: 0.3 - i * 0.02
        },
        `sunref-${i}`
      );
    }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 200, y: height * 0.44, plotWidth: 140, plotHeight: 40, cropType: "corn", seed: 10 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 380, y: height * 0.43, plotWidth: 120, plotHeight: 35, cropType: "marigold", seed: 11 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 550, y: height * 0.445, plotWidth: 130, plotHeight: 38, cropType: "squash", seed: 12 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 730, y: height * 0.44, plotWidth: 110, plotHeight: 35, cropType: "tomato", seed: 13 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 900, y: height * 0.445, plotWidth: 140, plotHeight: 40, cropType: "mixed", seed: 14 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 1100, y: height * 0.44, plotWidth: 120, plotHeight: 36, cropType: "corn", seed: 15 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 1280, y: height * 0.443, plotWidth: 130, plotHeight: 38, cropType: "chili", seed: 16 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 1460, y: height * 0.445, plotWidth: 110, plotHeight: 35, cropType: "marigold", seed: 17 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 1620, y: height * 0.44, plotWidth: 140, plotHeight: 38, cropType: "squash", seed: 18 }),
    [340, 510, 680, 840, 1040, 1220, 1410, 1570, 1760].map((cx, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: cx,
        y: height * 0.44,
        width: 40,
        height: 40,
        fill: Chinampas_C.waterReflect,
        opacity: 0.15 + sineWave(frame, 0.08, i) * 0.05
      },
      `chan-far-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_WillowTree, { x: 340, y: height * 0.44, scale: 0.35, seed: 20, trunkHeight: 100 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_WillowTree, { x: 680, y: height * 0.445, scale: 0.3, seed: 21, trunkHeight: 90 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_WillowTree, { x: 1040, y: height * 0.44, scale: 0.35, seed: 22, trunkHeight: 95 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_WillowTree, { x: 1410, y: height * 0.445, scale: 0.32, seed: 23, trunkHeight: 85 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 100, y: height * 0.52, plotWidth: 180, plotHeight: 55, cropType: "corn", seed: 30 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 340, y: height * 0.51, plotWidth: 160, plotHeight: 50, cropType: "marigold", seed: 31 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 560, y: height * 0.525, plotWidth: 200, plotHeight: 55, cropType: "squash", seed: 32 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 820, y: height * 0.52, plotWidth: 170, plotHeight: 50, cropType: "chili", seed: 33 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 1050, y: height * 0.515, plotWidth: 190, plotHeight: 55, cropType: "mixed", seed: 34 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 1300, y: height * 0.525, plotWidth: 160, plotHeight: 50, cropType: "tomato", seed: 35 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 1520, y: height * 0.52, plotWidth: 180, plotHeight: 52, cropType: "corn", seed: 36 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 1750, y: height * 0.515, plotWidth: 150, plotHeight: 48, cropType: "marigold", seed: 37 }),
    [280, 500, 760, 990, 1240, 1460, 1700].map((cx, i) => {
      const shimmer = sineWave(frame, 0.07, i * 0.8 + 5) * 2;
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: cx,
            y: height * 0.52,
            width: 60,
            height: 55,
            fill: Chinampas_C.waterMid,
            opacity: 0.2
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: cx + 10,
            y1: height * 0.53 + shimmer,
            x2: cx + 50,
            y2: height * 0.53 + shimmer,
            stroke: Chinampas_C.waterHighlight,
            strokeWidth: 0.8,
            opacity: 0.2
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: cx + 15,
            y1: height * 0.55 + shimmer * 0.7,
            x2: cx + 45,
            y2: height * 0.55 + shimmer * 0.7,
            stroke: Chinampas_C.waterHighlight,
            strokeWidth: 0.5,
            opacity: 0.15
          }
        )
      ] }, `chan-mid-${i}`);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_WillowTree, { x: 280, y: height * 0.52, scale: 0.5, seed: 40, trunkHeight: 130 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_WillowTree, { x: 760, y: height * 0.525, scale: 0.55, seed: 41, trunkHeight: 140 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_WillowTree, { x: 1240, y: height * 0.52, scale: 0.5, seed: 42, trunkHeight: 125 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_WillowTree, { x: 1700, y: height * 0.515, scale: 0.45, seed: 43, trunkHeight: 120 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_Canoe, { x: 510, y: height * 0.47, scale: 0.5, seed: 50, loaded: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_Canoe, { x: 1200, y: height * 0.48, scale: 0.45, seed: 51, flip: true, loaded: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_Canoe, { x: 500, y: height * 0.56, scale: 0.65, seed: 52, loaded: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_Canoe, { x: 990, y: height * 0.555, scale: 0.6, seed: 53, flip: true, loaded: false }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_Canoe, { x: 1460, y: height * 0.56, scale: 0.6, seed: 54, loaded: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 50, y: height * 0.65, plotWidth: 280, plotHeight: 80, cropType: "corn", seed: 60 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 400, y: height * 0.64, plotWidth: 250, plotHeight: 75, cropType: "marigold", seed: 61 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 720, y: height * 0.66, plotWidth: 300, plotHeight: 85, cropType: "mixed", seed: 62 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 1100, y: height * 0.64, plotWidth: 260, plotHeight: 78, cropType: "squash", seed: 63 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 1440, y: height * 0.65, plotWidth: 280, plotHeight: 80, cropType: "chili", seed: 64 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ChinampaPlot, { x: 1780, y: height * 0.66, plotWidth: 120, plotHeight: 70, cropType: "tomato", seed: 65 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(CropRow, { x: 80, y: height * 0.65, length: 240, cropType: "corn", seed: 70, density: 15 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(CropRow, { x: 430, y: height * 0.64, length: 210, cropType: "marigold", seed: 71, density: 18 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(CropRow, { x: 750, y: height * 0.66, length: 260, cropType: "mixed", seed: 72, density: 16 }),
    [330, 650, 1020, 1360, 1720].map((cx, i) => {
      const chanWidth = 70;
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "rect",
          {
            x: cx,
            y: height * 0.64,
            width: chanWidth,
            height: 85,
            fill: Chinampas_C.waterMid,
            opacity: 0.25
          }
        ),
        [0, 1, 2, 3].map((j) => {
          const lineY = height * 0.65 + j * 18 + sineWave(frame, 0.08, i + j) * 2;
          return /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "line",
            {
              x1: cx + 8,
              y1: lineY,
              x2: cx + chanWidth - 8,
              y2: lineY,
              stroke: Chinampas_C.waterHighlight,
              strokeWidth: 0.8,
              opacity: 0.18 - j * 0.03
            },
            `ref-${i}-${j}`
          );
        }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: cx,
            y1: height * 0.64,
            x2: cx,
            y2: height * 0.64 + 85,
            stroke: Chinampas_C.waterShadow,
            strokeWidth: 2,
            opacity: 0.3
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: cx + chanWidth,
            y1: height * 0.64,
            x2: cx + chanWidth,
            y2: height * 0.64 + 85,
            stroke: Chinampas_C.waterShadow,
            strokeWidth: 2,
            opacity: 0.3
          }
        )
      ] }, `chan-fg-${i}`);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_Canoe, { x: 365, y: height * 0.7, scale: 0.8, seed: 80, loaded: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_Canoe, { x: 685, y: height * 0.72, scale: 0.75, seed: 81, flip: true, loaded: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_Canoe, { x: 1055, y: height * 0.7, scale: 0.8, seed: 82, loaded: false }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_Canoe, { x: 1395, y: height * 0.71, scale: 0.7, seed: 83, flip: true, loaded: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_WillowTree, { x: 50, y: height * 0.65, scale: 0.75, seed: 90, trunkHeight: 180 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_WillowTree, { x: 330, y: height * 0.64, scale: 0.7, seed: 91, trunkHeight: 170 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_WillowTree, { x: 650, y: height * 0.66, scale: 0.8, seed: 92, trunkHeight: 190 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_WillowTree, { x: 1020, y: height * 0.64, scale: 0.7, seed: 93, trunkHeight: 175 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_WillowTree, { x: 1360, y: height * 0.65, scale: 0.75, seed: 94, trunkHeight: 185 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_WillowTree, { x: 1720, y: height * 0.66, scale: 0.65, seed: 95, trunkHeight: 160 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_ReedCluster, { x: 45, y: height * 0.73, count: 8, maxHeight: 50, seed: 100 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_ReedCluster, { x: 330, y: height * 0.72, count: 6, maxHeight: 45, seed: 101 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_ReedCluster, { x: 650, y: height * 0.74, count: 7, maxHeight: 55, seed: 102 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_ReedCluster, { x: 1020, y: height * 0.72, count: 6, maxHeight: 48, seed: 103 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_ReedCluster, { x: 1360, y: height * 0.73, count: 8, maxHeight: 52, seed: 104 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_ReedCluster, { x: 1720, y: height * 0.74, count: 5, maxHeight: 42, seed: 105 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_ReedCluster, { x: 1860, y: height * 0.75, count: 9, maxHeight: 58, seed: 106 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WaterLily, { x: 350, y: height * 0.69, scale: 1.2, seed: 110, hasFlower: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WaterLily, { x: 375, y: height * 0.71, scale: 0.9, seed: 111, hasFlower: false }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WaterLily, { x: 660, y: height * 0.73, scale: 1.1, seed: 112, hasFlower: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WaterLily, { x: 685, y: height * 0.7, scale: 0.8, seed: 113, hasFlower: false }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WaterLily, { x: 695, y: height * 0.72, scale: 1, seed: 114, hasFlower: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WaterLily, { x: 1035, y: height * 0.69, scale: 0.9, seed: 115, hasFlower: false }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WaterLily, { x: 1055, y: height * 0.72, scale: 1.2, seed: 116, hasFlower: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WaterLily, { x: 1375, y: height * 0.7, scale: 1, seed: 117, hasFlower: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WaterLily, { x: 1395, y: height * 0.72, scale: 0.85, seed: 118, hasFlower: false }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WaterLily, { x: 1740, y: height * 0.73, scale: 1.1, seed: 119, hasFlower: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WaterLily, { x: 520, y: height * 0.49, scale: 0.5, seed: 120, hasFlower: false }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WaterLily, { x: 860, y: height * 0.48, scale: 0.45, seed: 121, hasFlower: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WaterLily, { x: 1210, y: height * 0.49, scale: 0.5, seed: 122, hasFlower: false }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Heron, { x: 110, y: height * 0.74, scale: 0.8, seed: 130 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Heron, { x: 1550, y: height * 0.73, scale: 0.7, seed: 131, flip: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Heron, { x: 850, y: height * 0.5, scale: 0.4, seed: 132 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Duck, { x: 380, y: height * 0.685, scale: 0.9, seed: 140 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Duck, { x: 400, y: height * 0.695, scale: 0.7, seed: 141, flip: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Duck, { x: 1050, y: height * 0.695, scale: 0.8, seed: 142 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Duck, { x: 1070, y: height * 0.685, scale: 0.6, seed: 143, flip: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Duck, { x: 1740, y: height * 0.7, scale: 0.75, seed: 144 }),
    [
      { bx: 350, by: height * 0.15, bs: 0.6 },
      { bx: 380, by: height * 0.14, bs: 0.5 },
      { bx: 400, by: height * 0.16, bs: 0.45 },
      { bx: 1300, by: height * 0.1, bs: 0.5 },
      { bx: 1330, by: height * 0.09, bs: 0.4 },
      { bx: 1280, by: height * 0.11, bs: 0.45 }
    ].map((bird, i) => {
      const wingFlap = sineWave(frame, 0.2 + i * 0.02, i * 0.5) * 3;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { transform: `translate(${bird.bx + cloudDrift * 0.3}, ${bird.by}) scale(${bird.bs})`, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M-8,${wingFlap} L0,0 L8,${wingFlap}`,
          fill: "none",
          stroke: Chinampas_C.outline,
          strokeWidth: 1.5,
          opacity: 0.4
        }
      ) }, `fbird-${i}`);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecCrowdLayer, { config: AZTEC_CROWD_CONFIGS.chinampas }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: height * 0.82, width, height: height * 0.18, fill: Chinampas_C.waterDeep, opacity: 0.3 }),
    Array.from({ length: 8 }, (_, i) => {
      const fy = height * 0.84 + i * 12;
      const fWave = sineWave(frame, 0.1 + i * 8e-3, i * 0.6) * 12;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${-10 + fWave},${fy}
              Q${width * 0.2 + fWave},${fy + sineWave(frame, 0.09, i * 0.9) * 4}
              ${width * 0.4 + fWave},${fy}
              Q${width * 0.6 + fWave},${fy - sineWave(frame, 0.11, i * 0.7) * 3}
              ${width * 0.8 + fWave},${fy}
              Q${width + fWave},${fy + sineWave(frame, 0.08, i * 1.1) * 3}
              ${width + 20},${fy}`,
          fill: "none",
          stroke: Chinampas_C.waterHighlight,
          strokeWidth: 0.7,
          opacity: 0.12
        },
        `fgwave-${i}`
      );
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_ReedCluster, { x: 30, y: height * 0.88, count: 10, maxHeight: 70, seed: 150 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_ReedCluster, { x: 180, y: height * 0.9, count: 8, maxHeight: 60, seed: 151 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_ReedCluster, { x: 1750, y: height * 0.88, count: 9, maxHeight: 65, seed: 152 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas_ReedCluster, { x: 1880, y: height * 0.9, count: 7, maxHeight: 55, seed: 153 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WaterLily, { x: 250, y: height * 0.86, scale: 1.4, seed: 160, hasFlower: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WaterLily, { x: 310, y: height * 0.88, scale: 1.2, seed: 161, hasFlower: false }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WaterLily, { x: 1600, y: height * 0.87, scale: 1.3, seed: 162, hasFlower: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WaterLily, { x: 1650, y: height * 0.89, scale: 1, seed: 163, hasFlower: false }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width / 2 - 210}, ${height * 0.78})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -4, y: 4, width: 420, height: 170, rx: 6, fill: Chinampas_C.shadow, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -8, y: -8, width: 436, height: 186, rx: 8, fill: Chinampas_C.stoneFrame, stroke: Chinampas_C.outline, strokeWidth: 2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -4, y: -4, width: 428, height: 178, rx: 5, fill: Chinampas_C.stoneTabletDark }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 420, height: 170, rx: 3, fill: "url(#chin-stone-tab)" }),
      [15, 45, 80, 115, 150].map((sy, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 10,
          y1: sy,
          x2: 410,
          y2: sy + sineWave(frame, 0.01, i) * 0.5,
          stroke: Chinampas_C.stoneTabletDark,
          strokeWidth: 0.5,
          opacity: 0.15
        },
        `stone-line-${i}`
      )),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: 0.3, children: [
        Array.from({ length: 14 }, (_, i) => {
          const gx = 15 + i * 30;
          return /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "path",
            {
              d: `M${gx},12 L${gx + 8},12 L${gx + 8},18 L${gx + 16},18 L${gx + 16},12 L${gx + 24},12`,
              fill: "none",
              stroke: Chinampas_C.glyphColor,
              strokeWidth: 1.5
            },
            `fret-top-${i}`
          );
        }),
        Array.from({ length: 14 }, (_, i) => {
          const gx = 15 + i * 30;
          return /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "path",
            {
              d: `M${gx},155 L${gx + 8},155 L${gx + 8},149 L${gx + 16},149 L${gx + 16},155 L${gx + 24},155`,
              fill: "none",
              stroke: Chinampas_C.glyphColor,
              strokeWidth: 1.5
            },
            `fret-bot-${i}`
          );
        }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 20, cy: 85, r: 8, fill: "none", stroke: Chinampas_C.glyphColor, strokeWidth: 1 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 20, cy: 85, r: 4, fill: "none", stroke: Chinampas_C.glyphColor, strokeWidth: 0.8 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 400, cy: 85, r: 8, fill: "none", stroke: Chinampas_C.glyphColor, strokeWidth: 1 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 400, cy: 85, r: 4, fill: "none", stroke: Chinampas_C.glyphColor, strokeWidth: 0.8 }),
        [30, 50, 70].map((dy, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 12, cy: dy, r: 1.5, fill: Chinampas_C.glyphColor }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 408, cy: dy, r: 1.5, fill: Chinampas_C.glyphColor }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 12, cy: dy + 70, r: 1.5, fill: Chinampas_C.glyphColor }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 408, cy: dy + 70, r: 1.5, fill: Chinampas_C.glyphColor })
        ] }, `dot-l-${i}`))
      ] }),
      boardText && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "text",
        {
          x: 210,
          y: 95,
          textAnchor: "middle",
          fill: Chinampas_C.chalkText,
          fontSize: 36,
          fontFamily: "'Courier New', monospace",
          fontWeight: "bold",
          opacity: 0.9,
          children: boardText
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.42,
        width,
        height: height * 0.15,
        fill: "url(#chin-mist)",
        opacity: 0.6 + mistPulse * 0.15
      }
    ),
    [
      { mx: 200, my: height * 0.5, mw: 250, mh: 25 },
      { mx: 600, my: height * 0.48, mw: 200, mh: 20 },
      { mx: 1e3, my: height * 0.51, mw: 280, mh: 22 },
      { mx: 1400, my: height * 0.49, mw: 220, mh: 18 },
      { mx: 100, my: height * 0.53, mw: 180, mh: 15 },
      { mx: 1650, my: height * 0.52, mw: 200, mh: 20 }
    ].map((mist, i) => {
      const mistDrift = sineWave(frame, 0.03 + i * 5e-3, i * 1.5) * 20;
      const mistFade = 0.08 + sineWave(frame, 0.04, i * 0.8) * 0.04;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: mist.mx + mistDrift,
          cy: mist.my,
          rx: mist.mw,
          ry: mist.mh,
          fill: Chinampas_C.mistWhite,
          opacity: mistFade
        },
        `mist-${i}`
      );
    }),
    [
      { mx: 300, my: height * 0.46 },
      { mx: 800, my: height * 0.47 },
      { mx: 1200, my: height * 0.45 }
    ].map((gm, i) => {
      const gDrift = sineWave(frame, 0.025, i * 2) * 15;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: gm.mx + gDrift,
          cy: gm.my,
          rx: 180,
          ry: 15,
          fill: Chinampas_C.mistGold,
          opacity: 0.1 + sineWave(frame, 0.035, i) * 0.03
        },
        `gmist-${i}`
      );
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height,
        fill: Chinampas_C.morningGlow,
        opacity: 0.15 + sineWave(frame, 0.02, 0) * 0.03
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width: width * 0.1,
        height,
        fill: "rgba(30,30,50,0.08)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: width * 0.9,
        y: 0,
        width: width * 0.1,
        height,
        fill: "rgba(30,30,50,0.08)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.9,
        width,
        height: height * 0.1,
        fill: "rgba(20,30,40,0.12)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height, fill: "url(#chin-canvas)", opacity: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height: height * 0.5,
        fill: "rgba(255,240,210,0.03)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.5,
        width,
        height: height * 0.5,
        fill: "rgba(180,210,230,0.03)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: waterWave3 * 2,
        y: height * 0.42,
        width,
        height: 8,
        fill: Chinampas_C.waterHighlight,
        opacity: 0.15 + waterShimmer * 0.05
      }
    )
  ] });
};
/* harmony default export */ const backgrounds_Chinampas = ((/* unused pure expression or super */ null && (Chinampas)));

;// ./src/backgrounds/AztecPlague.tsx






const AztecPlague_C = {
  // Sky & Atmosphere
  skyTop: "#1A1C1E",
  skyMid: "#2A2D2B",
  skyBottom: "#3A3C38",
  skyHaze: "#3E3F3A",
  cloudDark: "#2E302C",
  cloudMid: "#3A3D38",
  cloudLight: "#4A4D47",
  cloudGreen: "#3B3E35",
  fogNear: "rgba(58,60,54,0.45)",
  fogFar: "rgba(42,45,43,0.6)",
  hazeGreen: "rgba(70,75,60,0.25)",
  ashHaze: "rgba(90,88,82,0.15)",
  // Ground & Earth
  groundDark: "#2E2A24",
  groundMid: "#3E382E",
  groundLight: "#4E473A",
  groundAsh: "#504A40",
  mud: "#3A3428",
  mudDark: "#2A2620",
  dirt: "#4A4234",
  dirtLight: "#5A5244",
  pathStone: "#4E4840",
  pathDark: "#3E3830",
  dust: "#6A6458",
  // Stone & Architecture
  stoneLight: "#6A6458",
  stoneMid: "#5A5448",
  stoneDark: "#4A4438",
  stoneVeryDark: "#3A3428",
  stoneRed: "#6A4A3A",
  stoneRedDark: "#5A3A2A",
  stoneCarved: "#5E5648",
  mortar: "#4E4A40",
  plaster: "#6E685C",
  plasterDamaged: "#5E584C",
  // Fire & Pyres
  fireCore: "#D4842A",
  fireMid: "#B86A20",
  fireOuter: "#8A4A18",
  fireDim: "#6A3A14",
  ember: "#C47020",
  emberDim: "#8A4A14",
  coalDark: "#2A1A10",
  coalGlow: "#5A3018",
  smokeBlack: "#1A1A18",
  smokeDark: "#2E2C28",
  smokeMid: "#4A4840",
  smokeLight: "#6A6860",
  // Sickness & Death
  skinSick: "#7A7A5A",
  skinSickDark: "#5A5A40",
  skinPale: "#8A886A",
  skinGray: "#6A685A",
  spots: "#5A3A2A",
  spotsDark: "#4A2A1A",
  spotsLight: "#6A4A3A",
  clothWhite: "#7A786E",
  clothDirty: "#6A6858",
  clothDark: "#4A4840",
  wrapLinen: "#6E6A5E",
  wrapDirty: "#5E5A4E",
  wrapDark: "#4E4A3E",
  // Aztec Colors (muted/desaturated)
  aztecRed: "#6A3A2A",
  aztecRedDark: "#4A2A1A",
  aztecBlue: "#3A4A5A",
  aztecBlueDark: "#2A3A4A",
  aztecGold: "#7A6A3A",
  aztecGoldDark: "#5A4A2A",
  aztecGreen: "#3A5A3A",
  aztecGreenDark: "#2A4A2A",
  aztecTurquoise: "#3E5A5A",
  aztecOrange: "#7A5A2A",
  jade: "#4A6A4A",
  jadeDark: "#3A5A3A",
  // Wood & Organic
  wood: "#4A3A28",
  woodDark: "#3A2A18",
  woodLight: "#5A4A38",
  thatch: "#5A5040",
  thatchDark: "#4A4030",
  reed: "#5E5840",
  reedDry: "#6E6850",
  // Herbs & Medicine
  herbGreen: "#4A5A3A",
  herbDark: "#3A4A2A",
  incense: "#8A7A5A",
  incenseSmoke: "rgba(120,110,90,0.3)",
  // UI Elements
  boardBg: "#3E382E",
  boardFrame: "#2E2820",
  boardStone: "#5A5448",
  boardText: "#9A9488",
  chalk: "#A09A8A",
  glyphColor: "#6A6458",
  // Outline
  outline: "#1A1A18",
  outlineSoft: "#2A2A28"
};
const AbandonedBuilding = ({ x, y, scale = 1, variant = 0, hasDoorMark = true, frame }) => {
  const windSway = sineWave(frame, 0.06, variant * 2.1) * 1.5;
  const clothFlutter = sineWave(frame, 0.25, variant * 3.7) * 3;
  const bW = 120 + variant * 20;
  const bH = 100 + variant * 15;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: bW / 2, cy: 5, rx: bW * 0.6, ry: 8, fill: "rgba(0,0,0,0.2)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: -bH, width: bW, height: bH, fill: AztecPlague_C.stoneMid, stroke: AztecPlague_C.outline, strokeWidth: 1.5 }),
    Array.from({ length: Math.floor(bH / 18) }, (_, row) => /* @__PURE__ */ (0,jsx_runtime.jsxs)(react.Fragment, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 0,
          y1: -bH + row * 18,
          x2: bW,
          y2: -bH + row * 18,
          stroke: AztecPlague_C.stoneVeryDark,
          strokeWidth: 0.6,
          opacity: 0.4
        }
      ),
      Array.from({ length: 3 + row % 2 }, (_2, col) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: bW * (col + (row % 2 === 0 ? 0.5 : 0)) / (3 + row % 2),
          y1: -bH + row * 18,
          x2: bW * (col + (row % 2 === 0 ? 0.5 : 0)) / (3 + row % 2),
          y2: -bH + (row + 1) * 18,
          stroke: AztecPlague_C.stoneVeryDark,
          strokeWidth: 0.4,
          opacity: 0.3
        },
        `col-${col}`
      ))
    ] }, `row-${row}`)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -3, y: -bH - 12, width: bW + 6, height: 14, fill: AztecPlague_C.stoneCarved, stroke: AztecPlague_C.outline, strokeWidth: 1 }),
    Array.from({ length: Math.floor(bW / 14) }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${i * 14 + 2},${-bH - 3} l4,-4 l4,0 l0,4 l-4,0 l0,4`,
        fill: "none",
        stroke: AztecPlague_C.aztecRedDark,
        strokeWidth: 1,
        opacity: 0.5
      },
      `fret-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${bW * 0.6},${-bH * 0.7} q8,-5 15,2 q3,8 -5,12 q-10,2 -12,-6 z`,
        fill: AztecPlague_C.plasterDamaged,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${bW * 0.15},${-bH * 0.3} q5,-8 12,-2 q4,6 -2,10 q-8,3 -12,-4 z`,
        fill: AztecPlague_C.plasterDamaged,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: bW * 0.3,
        y: -bH * 0.7,
        width: bW * 0.35,
        height: bH * 0.7,
        fill: AztecPlague_C.stoneVeryDark,
        stroke: AztecPlague_C.outline,
        strokeWidth: 1.2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: bW * 0.28,
        y: -bH * 0.72,
        width: bW * 0.39,
        height: bH * 0.04,
        fill: AztecPlague_C.stoneCarved,
        stroke: AztecPlague_C.outline,
        strokeWidth: 0.8
      }
    ),
    hasDoorMark && /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${bW * 0.47}, ${-bH * 0.55})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 8, fill: "none", stroke: AztecPlague_C.aztecRed, strokeWidth: 2, opacity: 0.7 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -3, y1: -2, x2: -1, y2: -2, stroke: AztecPlague_C.aztecRed, strokeWidth: 1.5, opacity: 0.7 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 1, y1: -2, x2: 3, y2: -2, stroke: AztecPlague_C.aztecRed, strokeWidth: 1.5, opacity: 0.7 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -2, y1: 3, x2: 2, y2: 3, stroke: AztecPlague_C.aztecRed, strokeWidth: 1, opacity: 0.7 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -4, y1: 8, x2: 4, y2: 8, stroke: AztecPlague_C.aztecRed, strokeWidth: 1.5, opacity: 0.6 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 5, x2: 0, y2: 11, stroke: AztecPlague_C.aztecRed, strokeWidth: 1, opacity: 0.6 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${bW * 0.32},${-bH * 0.68} q${2 + clothFlutter},${bH * 0.15} ${1 + clothFlutter * 0.5},${bH * 0.35}
           q${-1 + clothFlutter * 0.3},${bH * 0.1} ${clothFlutter * 0.5},${bH * 0.2}`,
        fill: "none",
        stroke: AztecPlague_C.clothDirty,
        strokeWidth: 3,
        opacity: 0.5
      }
    ),
    variant % 2 === 0 && /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: bW * 0.75,
          y: -bH * 0.65,
          width: bW * 0.15,
          height: bH * 0.15,
          fill: AztecPlague_C.stoneVeryDark,
          stroke: AztecPlague_C.outline,
          strokeWidth: 0.8
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: bW * 0.825,
          y1: -bH * 0.65,
          x2: bW * 0.825,
          y2: -bH * 0.5,
          stroke: AztecPlague_C.stoneDark,
          strokeWidth: 0.8
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${bW * 0.1},${-bH - 10} q${windSway * 0.5},-8 ${windSway},-2
           M${bW * 0.5},${-bH - 8} q${windSway * 0.3},-6 ${windSway * 0.8},-1
           M${bW * 0.8},${-bH - 10} q${windSway * 0.6},-7 ${windSway * 0.4},-3`,
        fill: "none",
        stroke: AztecPlague_C.thatchDark,
        strokeWidth: 2,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -8, cy: -3, r: 2.5, fill: AztecPlague_C.stoneDark, opacity: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: bW + 5, cy: -2, r: 3, fill: AztecPlague_C.stoneMid, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: -12,
        y: -5,
        width: 6,
        height: 2,
        fill: AztecPlague_C.wood,
        transform: `rotate(${15 + variant * 10}, -9, -4)`,
        opacity: 0.5
      }
    )
  ] });
};
const FuneralPyre = ({ x, y, scale = 1, intensity = 1, seed = 0, frame }) => {
  const flicker1 = sineWave(frame, 0.35, seed);
  const flicker2 = sineWave(frame, 0.55, seed + 1.3);
  const flicker3 = sineWave(frame, 0.42, seed + 2.7);
  const emberFloat = sineWave(frame, 0.12, seed + 0.5);
  const smokeRise = (frame * 0.8 + seed * 50) % 200;
  const fireH = 45 * intensity;
  const fireW = 35 * intensity;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 0,
        cy: 5,
        rx: 50 * intensity,
        ry: 10,
        fill: AztecPlague_C.fireOuter,
        opacity: 0.15 + flicker1 * 0.05
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -20, y1: 0, x2: 20, y2: -3, stroke: AztecPlague_C.coalDark, strokeWidth: 5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -18, y1: -4, x2: 22, y2: -1, stroke: AztecPlague_C.coalDark, strokeWidth: 4, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -15, y1: -7, x2: 18, y2: -6, stroke: AztecPlague_C.coalGlow, strokeWidth: 4, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -22, y1: 3, x2: 24, y2: 1, stroke: AztecPlague_C.woodDark, strokeWidth: 5, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -8, y1: -2, x2: -5, y2: 5, stroke: AztecPlague_C.coalDark, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 10, y1: -3, x2: 12, y2: 4, stroke: AztecPlague_C.coalDark, strokeWidth: 3, strokeLinecap: "round" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${-14},${-8} q${5},${-6} ${14},${-5} q${10},${1} ${14},${5}
           q${-5},{3} ${-14},{4} q${-10},${0} ${-14},${-4} z`,
        fill: AztecPlague_C.wrapDirty,
        stroke: AztecPlague_C.wrapDark,
        strokeWidth: 0.8,
        opacity: 0.6
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${-fireW},0
           Q${-fireW * 0.8 + flicker2 * 3},${-fireH * 0.4}
            ${-fireW * 0.3 + flicker1 * 4},${-fireH * 0.7}
           Q${flicker3 * 5},${-fireH - flicker1 * 8}
            ${fireW * 0.3 + flicker2 * 3},${-fireH * 0.65}
           Q${fireW * 0.8 + flicker3 * 4},${-fireH * 0.35}
            ${fireW},0 Z`,
        fill: AztecPlague_C.fireOuter,
        opacity: 0.7 + flicker1 * 0.1
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${-fireW * 0.7},${-2}
           Q${-fireW * 0.5 + flicker3 * 2},${-fireH * 0.45}
            ${flicker1 * 3},${-fireH * 0.8 - flicker2 * 6}
           Q${fireW * 0.5 + flicker1 * 2},${-fireH * 0.4}
            ${fireW * 0.7},${-2} Z`,
        fill: AztecPlague_C.fireMid,
        opacity: 0.65 + flicker2 * 0.1
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${-fireW * 0.4},${-4}
           Q${-fireW * 0.2 + flicker2 * 2},${-fireH * 0.5}
            ${flicker3 * 2},${-fireH * 0.65 - flicker1 * 5}
           Q${fireW * 0.3 + flicker3},${-fireH * 0.4}
            ${fireW * 0.4},${-4} Z`,
        fill: AztecPlague_C.fireCore,
        opacity: 0.6 + flicker3 * 0.15
      }
    ),
    [0, 1, 2, 3, 4, 5].map((i) => {
      const ePhase = (frame * 0.6 + i * 33 + seed * 17) % 120;
      const eX = sineWave(frame, 0.18, i * 1.7 + seed) * 15;
      const eY = -10 - ePhase * 0.8;
      const eOp = Math.max(0, 1 - ePhase / 100) * 0.7;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: eX,
          cy: eY,
          r: 1 + Math.random() * 0.5,
          fill: i % 2 === 0 ? AztecPlague_C.ember : AztecPlague_C.emberDim,
          opacity: eOp
        },
        `ember-${i}`
      );
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "circle",
      {
        cx: 0,
        cy: -fireH * 0.3,
        r: fireW * 2,
        fill: AztecPlague_C.fireOuter,
        opacity: 0.04 + flicker1 * 0.02
      }
    )
  ] });
};
const SickMat = ({ x, y, scale = 1, variant = 0, frame }) => {
  const breathe = sineWave(frame, 0.08, variant * 1.4) * 1.2;
  const shiver = sineWave(frame, 0.6, variant * 2.3) * 0.4;
  const flip = variant % 2 === 0 ? 1 : -1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * flip}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: -30,
        y: -2,
        width: 65,
        height: 8,
        rx: 1,
        fill: AztecPlague_C.reed,
        stroke: AztecPlague_C.reedDry,
        strokeWidth: 0.5,
        opacity: 0.7
      }
    ),
    Array.from({ length: 8 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: -30 + i * 8,
        y1: -2,
        x2: -30 + i * 8,
        y2: 6,
        stroke: AztecPlague_C.reedDry,
        strokeWidth: 0.4,
        opacity: 0.3
      },
      `weave-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(0, ${breathe})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 5,
          cy: -8,
          rx: 12,
          ry: 6 + breathe * 0.3,
          fill: AztecPlague_C.skinSick,
          stroke: AztecPlague_C.outlineSoft,
          strokeWidth: 0.8
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${-10},${-12 + breathe * 0.2} q${15},${-4} ${30},${-1}
             q${5},${3 + breathe * 0.2} ${2},${8} l${-34},${2} z`,
          fill: AztecPlague_C.clothDirty,
          stroke: AztecPlague_C.clothDark,
          strokeWidth: 0.6,
          opacity: 0.7
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${-18 + shiver}, ${-10})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "ellipse",
          {
            cx: 0,
            cy: 0,
            rx: 6,
            ry: 5.5,
            fill: AztecPlague_C.skinSick,
            stroke: AztecPlague_C.outlineSoft,
            strokeWidth: 0.8
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M-5,-4 q-2,-3 0,-5 q3,-2 6,-1 q3,1 4,4",
            fill: AztecPlague_C.stoneVeryDark,
            opacity: 0.6
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: -3,
            y1: -1,
            x2: -1,
            y2: -0.5,
            stroke: AztecPlague_C.outline,
            strokeWidth: 0.7
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "line",
          {
            x1: 1,
            y1: -0.5,
            x2: 3,
            y2: -1,
            stroke: AztecPlague_C.outline,
            strokeWidth: 0.7
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "ellipse",
          {
            cx: 0,
            cy: 2.5,
            rx: 2,
            ry: 1.2,
            fill: AztecPlague_C.stoneVeryDark,
            opacity: 0.5
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -3, cy: 1, r: 0.8, fill: AztecPlague_C.spots, opacity: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 2, cy: 0, r: 0.7, fill: AztecPlague_C.spots, opacity: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 4, cy: 2, r: 0.6, fill: AztecPlague_C.spotsDark, opacity: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -1, cy: 3, r: 0.7, fill: AztecPlague_C.spots, opacity: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -4, cy: -1, r: 0.5, fill: AztecPlague_C.spotsLight, opacity: 0.4 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${-8},${-6} q${-5},${3} ${-10},${8}`,
          fill: "none",
          stroke: AztecPlague_C.skinSickDark,
          strokeWidth: 3,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -18, cy: 2, r: 2.5, fill: AztecPlague_C.skinSick, opacity: 0.7 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -12, cy: -2, r: 0.6, fill: AztecPlague_C.spots, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -14, cy: 1, r: 0.7, fill: AztecPlague_C.spots, opacity: 0.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -10, cy: 0, r: 0.5, fill: AztecPlague_C.spotsDark, opacity: 0.4 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 30, cy: -2, rx: 5, ry: 2, fill: AztecPlague_C.stoneDark, stroke: AztecPlague_C.outline, strokeWidth: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 30, cy: -3, rx: 4, ry: 1.5, fill: AztecPlague_C.aztecBlueDark, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 25, y1: -1, x2: 27, y2: -4, stroke: AztecPlague_C.herbDark, strokeWidth: 0.8, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 33, y1: 0, x2: 35, y2: -3, stroke: AztecPlague_C.herbGreen, strokeWidth: 0.6, opacity: 0.3 })
  ] });
};
const HealerFigure = ({ x, y, scale = 1, variant = 0, frame }) => {
  const armMove = sineWave(frame, 0.12, variant * 1.8) * 8;
  const bodyRock = sineWave(frame, 0.08, variant * 0.9) * 2;
  const headTilt = sineWave(frame, 0.1, variant * 1.2) * 3;
  const incenseWisp = sineWave(frame, 0.3, variant * 2.5);
  const flip = variant % 2 === 0 ? 1 : -1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * flip}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 14, ry: 4, fill: "rgba(0,0,0,0.2)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: "M-4,0 q-2,-6 -6,-10 q-2,-4 0,-8",
        fill: "none",
        stroke: AztecPlague_C.skinSickDark,
        strokeWidth: 3.5,
        strokeLinecap: "round"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: "M4,0 q-1,-8 2,-14",
        fill: "none",
        stroke: AztecPlague_C.skinSick,
        strokeWidth: 3.5,
        strokeLinecap: "round"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(0, ${bodyRock})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${-6},${-18} q${-2},${-10} ${0},${-22}
             q${3},${-4} ${8},${-3}
             q${2},${10} ${0},${22} z`,
          fill: AztecPlague_C.clothDirty,
          stroke: AztecPlague_C.outlineSoft,
          strokeWidth: 0.8
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(1, ${-42 + headTilt * 0.3}) rotate(${headTilt})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 6, fill: AztecPlague_C.skinSick, stroke: AztecPlague_C.outlineSoft, strokeWidth: 0.8 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -2, cy: -1, r: 0.8, fill: AztecPlague_C.outline, opacity: 0.7 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 2, cy: -1, r: 0.8, fill: AztecPlague_C.outline, opacity: 0.7 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-1.5,2.5 q1.5,1 3,0", fill: "none", stroke: AztecPlague_C.outline, strokeWidth: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-4,-5 q-3,-8 -1,-14", fill: "none", stroke: AztecPlague_C.aztecGreenDark, strokeWidth: 1.5, opacity: 0.7 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0,-6 q0,-10 2,-15", fill: "none", stroke: AztecPlague_C.aztecRedDark, strokeWidth: 1.5, opacity: 0.6 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M3,-5 q3,-9 5,-13", fill: "none", stroke: AztecPlague_C.aztecGreenDark, strokeWidth: 1.2, opacity: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -5, y1: 0, x2: -3, y2: 1, stroke: AztecPlague_C.aztecRed, strokeWidth: 0.8, opacity: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 3, y1: 1, x2: 5, y2: 0, stroke: AztecPlague_C.aztecRed, strokeWidth: 0.8, opacity: 0.5 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${6},${-28} q${8 + armMove * 0.5},${5} ${12 + armMove},${10}`,
          fill: "none",
          stroke: AztecPlague_C.skinSick,
          strokeWidth: 3,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${18 + armMove}, ${-18})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 0, rx: 4, ry: 2, fill: AztecPlague_C.stoneDark, stroke: AztecPlague_C.outline, strokeWidth: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M0,-2 q${incenseWisp * 2},-6 ${incenseWisp * 3},-12
               q${-incenseWisp},-4 ${incenseWisp * 2},-18`,
            fill: "none",
            stroke: AztecPlague_C.incenseSmoke,
            strokeWidth: 2,
            opacity: 0.4
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: `M1,-3 q${-incenseWisp * 1.5},-5 ${-incenseWisp * 2},-10
               q${incenseWisp * 0.8},-6 ${-incenseWisp},-14`,
            fill: "none",
            stroke: AztecPlague_C.incenseSmoke,
            strokeWidth: 1.5,
            opacity: 0.3
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: -1, r: 1.5, fill: AztecPlague_C.emberDim, opacity: 0.6 + incenseWisp * 0.1 })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${-6},${-28} q${-6 - armMove * 0.3},${4} ${-10 - armMove * 0.5},${12}`,
          fill: "none",
          stroke: AztecPlague_C.skinSickDark,
          strokeWidth: 3,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${-16 - armMove * 0.5}, ${-16})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: -3, y2: -6, stroke: AztecPlague_C.herbDark, strokeWidth: 1.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 1, y2: -7, stroke: AztecPlague_C.herbGreen, strokeWidth: 1.2 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 0, x2: 3, y2: -5, stroke: AztecPlague_C.herbDark, strokeWidth: 1 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -3, cy: -7, r: 1.5, fill: AztecPlague_C.herbGreen, opacity: 0.5 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 1, cy: -8, r: 1.2, fill: AztecPlague_C.herbDark, opacity: 0.4 })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 10,
        y: -3,
        width: 6,
        height: 4,
        rx: 1,
        fill: AztecPlague_C.clothDirty,
        stroke: AztecPlague_C.outlineSoft,
        strokeWidth: 0.4,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -10, cy: -1, r: 2, fill: AztecPlague_C.stoneDark, opacity: 0.4 })
  ] });
};
const MarkedDoor = ({ x, y, scale = 1, variant = 0, frame }) => {
  const clothSway = sineWave(frame, 0.15, variant * 3.1) * 2;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: -18,
        y: -60,
        width: 36,
        height: 60,
        fill: AztecPlague_C.stoneMid,
        stroke: AztecPlague_C.outline,
        strokeWidth: 1.2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: -14,
        y: -55,
        width: 28,
        height: 55,
        fill: AztecPlague_C.stoneVeryDark
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: -20,
        y: -63,
        width: 40,
        height: 6,
        fill: AztecPlague_C.stoneCarved,
        stroke: AztecPlague_C.outline,
        strokeWidth: 0.8
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: "M-15,-61 q5,-2 10,0 q5,2 10,0 q5,-2 10,0",
        fill: "none",
        stroke: AztecPlague_C.aztecRedDark,
        strokeWidth: 1,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: -8,
        y1: -45,
        x2: 8,
        y2: -25,
        stroke: AztecPlague_C.aztecRed,
        strokeWidth: 3,
        strokeLinecap: "round",
        opacity: 0.7
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: 8,
        y1: -45,
        x2: -8,
        y2: -25,
        stroke: AztecPlague_C.aztecRed,
        strokeWidth: 3,
        strokeLinecap: "round",
        opacity: 0.7
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(0, -15)", opacity: 0.6, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 5, fill: "none", stroke: AztecPlague_C.aztecRed, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -2, cy: -1, r: 1, fill: AztecPlague_C.aztecRed }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 2, cy: -1, r: 1, fill: AztecPlague_C.aztecRed }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -2, y1: 3, x2: 2, y2: 3, stroke: AztecPlague_C.aztecRed, strokeWidth: 0.8 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -1, y1: 2.5, x2: -1, y2: 3.5, stroke: AztecPlague_C.aztecRed, strokeWidth: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 2.5, x2: 0, y2: 3.5, stroke: AztecPlague_C.aztecRed, strokeWidth: 0.4 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 1, y1: 2.5, x2: 1, y2: 3.5, stroke: AztecPlague_C.aztecRed, strokeWidth: 0.4 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M-14,-53 q${clothSway},-3 ${2 + clothSway * 0.5},-20
           q${1 + clothSway * 0.3},-8 ${3 + clothSway * 0.2},-25`,
        fill: "none",
        stroke: AztecPlague_C.clothDirty,
        strokeWidth: 2.5,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M14,-55 q${-clothSway * 0.8},${-5} ${-1 - clothSway * 0.4},-15`,
        fill: "none",
        stroke: AztecPlague_C.clothDark,
        strokeWidth: 2,
        opacity: 0.35
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -8, cy: -2, r: 1.5, fill: AztecPlague_C.aztecRedDark, opacity: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -5, cy: -1, r: 1, fill: AztecPlague_C.herbDark, opacity: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -7, y1: -1, x2: -9, y2: -5, stroke: AztecPlague_C.reedDry, strokeWidth: 0.6, opacity: 0.3 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -4, y1: 0, x2: -3, y2: -4, stroke: AztecPlague_C.reedDry, strokeWidth: 0.5, opacity: 0.25 })
  ] });
};
const EmptyMarketStall = ({ x, y, scale = 1, variant = 0, frame }) => {
  const canopyFlap = sineWave(frame, 0.18, variant * 2.4) * 3;
  const windRattle = sineWave(frame, 0.4, variant * 1.6) * 1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 20, cy: 3, rx: 30, ry: 5, fill: "rgba(0,0,0,0.15)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: -15,
        y1: 0,
        x2: -15,
        y2: -55,
        stroke: AztecPlague_C.wood,
        strokeWidth: 4,
        strokeLinecap: "round"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: 40,
        y1: 0,
        x2: 38,
        y2: -50,
        stroke: AztecPlague_C.wood,
        strokeWidth: 4,
        strokeLinecap: "round"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: -15,
        y1: -50,
        x2: 25,
        y2: -48,
        stroke: AztecPlague_C.woodDark,
        strokeWidth: 3,
        strokeLinecap: "round"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${-18},${-52} q${10 + canopyFlap},${-5 + canopyFlap * 0.5} ${25},${-3}
           q${10 + canopyFlap * 0.3},${2} ${15},${5 + canopyFlap}`,
        fill: AztecPlague_C.clothDirty,
        stroke: AztecPlague_C.clothDark,
        strokeWidth: 0.8,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${22 + canopyFlap * 0.5},${-50 + canopyFlap}
           q${3},${4} ${2},${10} q${-2},${3} ${-1},${6}`,
        fill: "none",
        stroke: AztecPlague_C.clothDark,
        strokeWidth: 1.5,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: -12,
        y: -20,
        width: 50,
        height: 4,
        rx: 1,
        fill: AztecPlague_C.woodLight,
        stroke: AztecPlague_C.woodDark,
        strokeWidth: 0.8,
        transform: `rotate(${3 + variant}, 13, -18)`
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${-8}, ${-3}) rotate(${75 + variant * 15})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 0,
          cy: 0,
          rx: 6,
          ry: 4,
          fill: AztecPlague_C.stoneRed,
          stroke: AztecPlague_C.stoneRedDark,
          strokeWidth: 0.8,
          opacity: 0.7
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 0,
          cy: -1,
          rx: 4,
          ry: 2.5,
          fill: AztecPlague_C.stoneRedDark,
          opacity: 0.5
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${20},${-2} q${3},${-5} ${1},${-10} q${3},${0} ${6},${0}
               q${-1},${5} ${1},${10} z`,
        fill: AztecPlague_C.stoneRed,
        stroke: AztecPlague_C.stoneRedDark,
        strokeWidth: 0.6,
        opacity: 0.6
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${28},${0} l${3},${-4} l${3},${2} z`,
        fill: AztecPlague_C.stoneRedDark,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 35,
        cy: -1,
        rx: 3,
        ry: 1.5,
        fill: AztecPlague_C.aztecGold,
        stroke: AztecPlague_C.aztecGoldDark,
        strokeWidth: 0.4,
        opacity: 0.4,
        transform: "rotate(30, 35, -1)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 38,
        cy: 1,
        rx: 2.5,
        ry: 1.2,
        fill: AztecPlague_C.aztecGold,
        opacity: 0.35,
        transform: "rotate(-20, 38, 1)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${5},${-1} q${3 + windRattle},${-2} ${8},${-1} q${2},${2} ${0},${3} q${-5},${1} ${-9},${0} z`,
        fill: AztecPlague_C.aztecRedDark,
        opacity: 0.35
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: 42,
        y1: 2,
        x2: 48,
        y2: -15,
        stroke: AztecPlague_C.woodDark,
        strokeWidth: 2,
        strokeLinecap: "round",
        opacity: 0.4
      }
    )
  ] });
};
const WrappedBody = ({ x, y, scale = 1, variant = 0, frame }) => {
  const clothRipple = sineWave(frame, 0.1, variant * 2.2) * 0.5;
  const angle = variant % 3 === 0 ? -5 : variant % 3 === 1 ? 8 : 0;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale}) rotate(${angle})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 3, rx: 22, ry: 4, fill: "rgba(0,0,0,0.15)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: -24,
        y: -1,
        width: 48,
        height: 5,
        rx: 1,
        fill: AztecPlague_C.reedDry,
        stroke: AztecPlague_C.reed,
        strokeWidth: 0.4,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${-20},${-2 + clothRipple}
           q${2},${-8} ${8},${-10}
           q${8},${-3} ${16},${-2 + clothRipple * 0.5}
           q${6},${1} ${12},${4}
           q${2},${4} ${0},${8}
           q${-6},${2} ${-16},${2}
           q${-12},${0} ${-18},${-2} z`,
        fill: AztecPlague_C.wrapLinen,
        stroke: AztecPlague_C.wrapDark,
        strokeWidth: 0.8
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: -10,
        y1: -10 + clothRipple,
        x2: -10,
        y2: 3,
        stroke: AztecPlague_C.wrapDark,
        strokeWidth: 0.8,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: 0,
        y1: -12 + clothRipple * 0.5,
        x2: 0,
        y2: 4,
        stroke: AztecPlague_C.wrapDark,
        strokeWidth: 0.8,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: 10,
        y1: -10 + clothRipple * 0.3,
        x2: 10,
        y2: 2,
        stroke: AztecPlague_C.wrapDark,
        strokeWidth: 0.8,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: -15,
        cy: -5,
        rx: 6,
        ry: 5,
        fill: AztecPlague_C.wrapDirty,
        stroke: AztecPlague_C.wrapDark,
        strokeWidth: 0.5,
        opacity: 0.7
      }
    ),
    variant % 2 === 0 && /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: "translate(2, -12)", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 2, fill: AztecPlague_C.aztecRedDark, opacity: 0.3 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 3, cy: 1, r: 1.5, fill: AztecPlague_C.aztecRedDark, opacity: 0.25 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 1, y1: 0, x2: 0, y2: 4, stroke: AztecPlague_C.herbDark, strokeWidth: 0.5, opacity: 0.3 })
    ] })
  ] });
};
const SmokePlume = ({ x, y, scale = 1, seed = 0, darkness = 0.5, frame }) => {
  const drift = sineWave(frame, 0.04, seed) * 20;
  const drift2 = sineWave(frame, 0.06, seed + 1.5) * 15;
  const expand = sineWave(frame, 0.03, seed + 3);
  const billow1 = sineWave(frame, 0.08, seed + 0.7);
  const billow2 = sineWave(frame, 0.11, seed + 2.1);
  const billow3 = sineWave(frame, 0.07, seed + 4.3);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: drift * 0.2,
        cy: -20,
        rx: 18 + expand * 3,
        ry: 12 + billow1 * 2,
        fill: AztecPlague_C.smokeBlack,
        opacity: darkness * 0.6
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: drift * 0.4 + 5,
        cy: -45,
        rx: 22 + expand * 4 + billow2 * 3,
        ry: 15 + billow1 * 3,
        fill: AztecPlague_C.smokeDark,
        opacity: darkness * 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: drift * 0.6 + 3,
        cy: -75,
        rx: 28 + expand * 5 + billow3 * 4,
        ry: 18 + billow2 * 3,
        fill: AztecPlague_C.smokeMid,
        opacity: darkness * 0.35
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: drift * 0.8 - 5,
        cy: -100,
        rx: 32 + expand * 6,
        ry: 20 + billow3 * 4,
        fill: AztecPlague_C.smokeMid,
        opacity: darkness * 0.3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: drift + drift2 * 0.5,
        cy: -135,
        rx: 40 + expand * 8 + billow1 * 5,
        ry: 22 + billow2 * 5,
        fill: AztecPlague_C.smokeLight,
        opacity: darkness * 0.2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: drift * 1.2 + drift2,
        cy: -170,
        rx: 50 + expand * 10,
        ry: 25 + billow3 * 6,
        fill: AztecPlague_C.smokeLight,
        opacity: darkness * 0.12
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: drift * 1.5 + drift2 * 0.8,
        cy: -210,
        rx: 60 + expand * 12,
        ry: 28,
        fill: AztecPlague_C.ashHaze,
        opacity: darkness * 0.08
      }
    )
  ] });
};
const DistantTemple = ({ x, y, scale = 1, opacity = 0.3 }) => {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale})`, opacity, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${-60},0 L${-55},${-15} L${-40},${-15} L${-38},${-30}
           L${-25},${-30} L${-22},${-45} L${-10},${-45} L${-8},${-60}
           L${8},${-60} L${10},${-45} L${22},${-45} L${25},${-30}
           L${38},${-30} L${40},${-15} L${55},${-15} L${60},0 Z`,
        fill: AztecPlague_C.stoneVeryDark
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: -6, y: -72, width: 12, height: 12, fill: AztecPlague_C.stoneVeryDark }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-8,-72 L0,-80 L8,-72 Z", fill: AztecPlague_C.stoneVeryDark })
  ] });
};
const ScatteredDebris = ({ x, y, variant = 0 }) => {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
    variant % 3 === 0 && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M0,0 l4,-6 l3,2 l-2,5 z`,
          fill: AztecPlague_C.stoneRed,
          opacity: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M6,-1 l3,-4 l2,3 z`,
          fill: AztecPlague_C.stoneRedDark,
          opacity: 0.35
        }
      )
    ] }),
    variant % 3 === 1 && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 0,
          y1: 0,
          x2: 8,
          y2: -3,
          stroke: AztecPlague_C.woodDark,
          strokeWidth: 2,
          strokeLinecap: "round",
          opacity: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M8,-3 l3,-2 l1,3 l-2,1 z",
          fill: AztecPlague_C.stoneDark,
          opacity: 0.5
        }
      )
    ] }),
    variant % 3 === 2 && /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,0 q3,-2 6,-1 q2,2 1,4 q-4,1 -7,0 z`,
        fill: AztecPlague_C.clothDirty,
        opacity: 0.3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 10, cy: 1, r: 1, fill: AztecPlague_C.aztecGold, opacity: 0.2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 13, cy: -1, r: 0.8, fill: AztecPlague_C.aztecGoldDark, opacity: 0.2 })
  ] });
};
const AshParticles = ({ width, height, frame }) => {
  const particles = Array.from({ length: 35 }, (_, i) => {
    const seed = i * 7.3;
    const baseX = seed * 137.5 % width;
    const baseY = seed * 89.3 % (height * 0.8);
    const driftX = sineWave(frame, 0.03 + i * 2e-3, seed) * 30;
    const driftY = -((frame * 0.3 + seed * 20) % (height * 0.5));
    const size = 0.5 + i % 5 * 0.3;
    const opacity = 0.08 + i % 4 * 0.03;
    return { x: baseX + driftX, y: baseY + driftY, size, opacity, i };
  });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { children: particles.map(({ x, y, size, opacity, i }) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "circle",
    {
      cx: x,
      cy: y + height * 0.2,
      r: size,
      fill: i % 3 === 0 ? AztecPlague_C.ashHaze : i % 3 === 1 ? AztecPlague_C.smokeMid : AztecPlague_C.dust,
      opacity
    },
    `ash-${i}`
  )) });
};
const GriefFigure = ({ x, y, scale = 1, variant = 0, frame }) => {
  const rockMotion = sineWave(frame, 0.06, variant * 1.9) * 2;
  const flip = variant % 2 === 0 ? 1 : -1;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale * flip}, ${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("ellipse", { cx: 0, cy: 2, rx: 8, ry: 3, fill: "rgba(0,0,0,0.15)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${rockMotion * 0.5}, 0)`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-3,0 q-1,-5 -3,-10",
          fill: "none",
          stroke: AztecPlague_C.skinGray,
          strokeWidth: 2.5,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M3,0 q1,-6 0,-12",
          fill: "none",
          stroke: AztecPlague_C.skinGray,
          strokeWidth: 2.5,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M0,-12 q${-2 + rockMotion * 0.3},-8 ${-4 + rockMotion},-16`,
          fill: "none",
          stroke: AztecPlague_C.clothDirty,
          strokeWidth: 4,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: -4 + rockMotion,
          cy: -30,
          r: 4,
          fill: AztecPlague_C.skinGray,
          stroke: AztecPlague_C.outlineSoft,
          strokeWidth: 0.6
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${-2},${-20} q${-3 + rockMotion * 0.2},${-4} ${-5 + rockMotion * 0.3},${-8}`,
          fill: "none",
          stroke: AztecPlague_C.skinSickDark,
          strokeWidth: 2,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${2},${-20} q${-4 + rockMotion * 0.2},${-5} ${-3 + rockMotion * 0.3},${-9}`,
          fill: "none",
          stroke: AztecPlague_C.skinSick,
          strokeWidth: 2,
          strokeLinecap: "round"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: `M${-5},${-25} q${3},${8} ${8},${14} q${-5},${3} ${-10},${2}`,
          fill: AztecPlague_C.clothDark,
          opacity: 0.4
        }
      )
    ] })
  ] });
};
const CrumblingWall = ({ x, y, wallWidth = 80, wallHeight = 50, collapseRight = false }) => {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: -wallHeight,
        width: wallWidth * 0.6,
        height: wallHeight,
        fill: AztecPlague_C.stoneMid,
        stroke: AztecPlague_C.outline,
        strokeWidth: 1
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M${wallWidth * 0.6},${-wallHeight}
           l${collapseRight ? 5 : -2},${wallHeight * 0.2}
           l${collapseRight ? 8 : 3},${wallHeight * 0.15}
           l${collapseRight ? -3 : 5},${wallHeight * 0.25}
           l${collapseRight ? 10 : -4},${wallHeight * 0.4}
           L${wallWidth * 0.6},0 Z`,
        fill: AztecPlague_C.stoneDark,
        stroke: AztecPlague_C.outline,
        strokeWidth: 0.8
      }
    ),
    Array.from({ length: Math.floor(wallHeight / 12) }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: 0,
        y1: -wallHeight + i * 12,
        x2: wallWidth * 0.6,
        y2: -wallHeight + i * 12,
        stroke: AztecPlague_C.stoneVeryDark,
        strokeWidth: 0.5,
        opacity: 0.3
      },
      `wl-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${wallWidth * 0.15}, ${-wallHeight * 0.5})`, opacity: 0.3, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 8, fill: "none", stroke: AztecPlague_C.stoneCarved, strokeWidth: 1.5 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M-5,-5 L5,5 M-5,5 L5,-5", stroke: AztecPlague_C.stoneCarved, strokeWidth: 1 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 3, fill: "none", stroke: AztecPlague_C.stoneCarved, strokeWidth: 0.8 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: wallWidth * 0.65, cy: -3, r: 4, fill: AztecPlague_C.stoneDark, opacity: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: wallWidth * 0.7, cy: -1, r: 3, fill: AztecPlague_C.stoneMid, opacity: 0.4 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: wallWidth * 0.58, cy: -1, r: 2.5, fill: AztecPlague_C.stoneDark, opacity: 0.45 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: wallWidth * 0.62,
        y: -6,
        width: 5,
        height: 3,
        fill: AztecPlague_C.stoneMid,
        transform: `rotate(25, ${wallWidth * 0.64}, -4.5)`,
        opacity: 0.4
      }
    )
  ] });
};
const CopalBurner = ({ x, y, scale = 1, seed = 0, frame }) => {
  const smokeWisp = sineWave(frame, 0.2, seed);
  const glowPulse = sineWave(frame, 0.15, seed + 1.2);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${x}, ${y}) scale(${scale})`, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -6, y1: 0, x2: -3, y2: -8, stroke: AztecPlague_C.stoneDark, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 6, y1: 0, x2: 3, y2: -8, stroke: AztecPlague_C.stoneDark, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 2, x2: 0, y2: -8, stroke: AztecPlague_C.stoneDark, strokeWidth: 1.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 0,
        cy: -10,
        rx: 8,
        ry: 3,
        fill: AztecPlague_C.stoneDark,
        stroke: AztecPlague_C.outline,
        strokeWidth: 0.6
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 0,
        cy: -11,
        rx: 6,
        ry: 2,
        fill: AztecPlague_C.coalDark
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: 0,
        cy: -11,
        rx: 4,
        ry: 1.5,
        fill: AztecPlague_C.emberDim,
        opacity: 0.4 + glowPulse * 0.15
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,-13 q${smokeWisp * 3},-8 ${smokeWisp * 4},-18
           q${-smokeWisp * 2},-6 ${smokeWisp * 5},-28`,
        fill: "none",
        stroke: AztecPlague_C.incenseSmoke,
        strokeWidth: 2.5,
        opacity: 0.3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M1,-14 q${-smokeWisp * 2},-6 ${-smokeWisp * 3},-14
           q${smokeWisp},-8 ${-smokeWisp * 2},-22`,
        fill: "none",
        stroke: AztecPlague_C.incenseSmoke,
        strokeWidth: 1.8,
        opacity: 0.2
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: "M-7,-10 q0,-1 1,-1 q1,0 1,1",
        fill: "none",
        stroke: AztecPlague_C.stoneCarved,
        strokeWidth: 0.5,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: "M5,-10 q0,-1 1,-1 q1,0 1,1",
        fill: "none",
        stroke: AztecPlague_C.stoneCarved,
        strokeWidth: 0.5,
        opacity: 0.4
      }
    )
  ] });
};
const AztecPlague = ({
  boardText = "",
  width = 1920,
  height = 1080
}) => {
  const frame = (0,esm.useCurrentFrame)();
  const windSlow = sineWave(frame, 0.03);
  const windMed = sineWave(frame, 0.07, 1.2);
  const cloudDrift1 = sineWave(frame, 0.015, 0);
  const cloudDrift2 = sineWave(frame, 0.02, 2.5);
  const cloudDrift3 = sineWave(frame, 0.018, 5);
  const hazeFlicker = sineWave(frame, 0.04, 0.8);
  const vignetteBreath = sineWave(frame, 0.025, 3.3);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)("svg", { viewBox: `0 0 ${width} ${height}`, width, height, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("defs", { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "aztec-sky", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: AztecPlague_C.skyTop }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "40%", stopColor: AztecPlague_C.skyMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "75%", stopColor: AztecPlague_C.skyBottom }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: AztecPlague_C.skyHaze })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "aztec-ground", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: AztecPlague_C.groundMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "30%", stopColor: AztecPlague_C.groundDark }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: AztecPlague_C.mudDark })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "pyre-glow-1", cx: "50%", cy: "50%", r: "50%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: AztecPlague_C.fireOuter, stopOpacity: "0.12" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "60%", stopColor: AztecPlague_C.fireDim, stopOpacity: "0.05" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "transparent", stopOpacity: "0" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "pyre-glow-2", cx: "50%", cy: "50%", r: "50%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: AztecPlague_C.fireOuter, stopOpacity: "0.08" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "70%", stopColor: AztecPlague_C.fireDim, stopOpacity: "0.03" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "transparent", stopOpacity: "0" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("radialGradient", { id: "vignette", cx: "50%", cy: "50%", r: "60%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: "transparent", stopOpacity: "0" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "70%", stopColor: AztecPlague_C.skyTop, stopOpacity: "0.3" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: AztecPlague_C.skyTop, stopOpacity: "0.7" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "ground-fog", x1: "0%", y1: "0%", x2: "0%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: AztecPlague_C.fogNear }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: "transparent" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("linearGradient", { id: "sick-atmosphere", x1: "0%", y1: "0%", x2: "100%", y2: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "0%", stopColor: AztecPlague_C.hazeGreen }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "50%", stopColor: "rgba(60,65,50,0.15)" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("stop", { offset: "100%", stopColor: AztecPlague_C.hazeGreen })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)("pattern", { id: "stone-texture", x: "0", y: "0", width: "20", height: "20", patternUnits: "userSpaceOnUse", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { width: "20", height: "20", fill: AztecPlague_C.stoneMid }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "5", cy: "5", r: "0.5", fill: AztecPlague_C.stoneVeryDark, opacity: "0.2" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "15", cy: "12", r: "0.4", fill: AztecPlague_C.stoneVeryDark, opacity: "0.15" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: "8", cy: "18", r: "0.3", fill: AztecPlague_C.stoneDark, opacity: "0.1" })
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("filter", { id: "smoke-blur", children: /* @__PURE__ */ (0,jsx_runtime.jsx)("feGaussianBlur", { stdDeviation: "3" }) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("filter", { id: "distant-haze", children: /* @__PURE__ */ (0,jsx_runtime.jsx)("feGaussianBlur", { stdDeviation: "2" }) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("filter", { id: "fire-glow", children: /* @__PURE__ */ (0,jsx_runtime.jsx)("feGaussianBlur", { stdDeviation: "6" }) })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width, height: height * 0.55, fill: "url(#aztec-sky)" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.2 + cloudDrift1 * 15,
        cy: height * 0.08,
        rx: 280,
        ry: 50,
        fill: AztecPlague_C.cloudDark,
        opacity: 0.7
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.35 + cloudDrift1 * 10,
        cy: height * 0.12,
        rx: 200,
        ry: 40,
        fill: AztecPlague_C.cloudMid,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.6 + cloudDrift2 * 12,
        cy: height * 0.06,
        rx: 320,
        ry: 55,
        fill: AztecPlague_C.cloudDark,
        opacity: 0.65
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.8 + cloudDrift2 * 8,
        cy: height * 0.1,
        rx: 250,
        ry: 45,
        fill: AztecPlague_C.cloudGreen,
        opacity: 0.55
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.45 + cloudDrift3 * 10,
        cy: height * 0.16,
        rx: 350,
        ry: 60,
        fill: AztecPlague_C.cloudMid,
        opacity: 0.6
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.15 + cloudDrift2 * 8,
        cy: height * 0.22,
        rx: 220,
        ry: 35,
        fill: AztecPlague_C.cloudGreen,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.5 + cloudDrift1 * 6,
        cy: height * 0.2,
        rx: 300,
        ry: 45,
        fill: AztecPlague_C.cloudDark,
        opacity: 0.5
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.75 + cloudDrift3 * 10,
        cy: height * 0.18,
        rx: 260,
        ry: 40,
        fill: AztecPlague_C.cloudMid,
        opacity: 0.45
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.9 + cloudDrift1 * 5,
        cy: height * 0.25,
        rx: 200,
        ry: 50,
        fill: AztecPlague_C.cloudDark,
        opacity: 0.55
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height: height * 0.55,
        fill: "url(#sick-atmosphere)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.28,
        width,
        height: height * 0.2,
        fill: AztecPlague_C.fogFar
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { filter: "url(#distant-haze)", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(DistantTemple, { x: width * 0.12, y: height * 0.38, scale: 0.8, opacity: 0.15 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(DistantTemple, { x: width * 0.35, y: height * 0.36, scale: 1.2, opacity: 0.2 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(DistantTemple, { x: width * 0.7, y: height * 0.37, scale: 1, opacity: 0.18 }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(DistantTemple, { x: width * 0.88, y: height * 0.39, scale: 0.7, opacity: 0.12 })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { filter: "url(#fire-glow)", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: width * 0.25,
          cy: height * 0.35,
          r: 8,
          fill: AztecPlague_C.fireOuter,
          opacity: 0.15 + hazeFlicker * 0.05
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: width * 0.55,
          cy: height * 0.33,
          r: 10,
          fill: AztecPlague_C.fireMid,
          opacity: 0.12 + hazeFlicker * 0.04
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "circle",
        {
          cx: width * 0.78,
          cy: height * 0.36,
          r: 7,
          fill: AztecPlague_C.fireOuter,
          opacity: 0.1 + hazeFlicker * 0.03
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { filter: "url(#smoke-blur)", opacity: 0.3, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(SmokePlume, { x: width * 0.25, y: height * 0.35, scale: 0.6, seed: 0, darkness: 0.25, frame }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(SmokePlume, { x: width * 0.55, y: height * 0.33, scale: 0.7, seed: 3.5, darkness: 0.3, frame }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(SmokePlume, { x: width * 0.78, y: height * 0.36, scale: 0.5, seed: 7.1, darkness: 0.2, frame })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.45,
        width,
        height: height * 0.55,
        fill: "url(#aztec-ground)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${height * 0.55} Q${width * 0.25},${height * 0.52} ${width * 0.5},${height * 0.54}
           Q${width * 0.75},${height * 0.56} ${width},${height * 0.53}
           L${width},${height * 0.62} Q${width * 0.75},${height * 0.64} ${width * 0.5},${height * 0.62}
           Q${width * 0.25},${height * 0.6} 0,${height * 0.63} Z`,
        fill: AztecPlague_C.pathStone,
        opacity: 0.4
      }
    ),
    Array.from({ length: 15 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "line",
      {
        x1: width * (i / 15),
        y1: height * (0.54 + Math.sin(i * 0.8) * 0.02),
        x2: width * (i / 15),
        y2: height * (0.62 + Math.sin(i * 0.8) * 0.02),
        stroke: AztecPlague_C.pathDark,
        strokeWidth: 0.5,
        opacity: 0.2
      },
      `path-${i}`
    )),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(AbandonedBuilding, { x: width * 0.02, y: height * 0.52, scale: 1.1, variant: 0, hasDoorMark: true, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(AbandonedBuilding, { x: width * 0.12, y: height * 0.5, scale: 1.3, variant: 1, hasDoorMark: true, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(AbandonedBuilding, { x: width * 0.25, y: height * 0.51, scale: 1, variant: 2, hasDoorMark: false, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(AbandonedBuilding, { x: width * 0.68, y: height * 0.5, scale: 1.2, variant: 3, hasDoorMark: true, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(AbandonedBuilding, { x: width * 0.82, y: height * 0.52, scale: 1, variant: 4, hasDoorMark: true, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(AbandonedBuilding, { x: width * 0.92, y: height * 0.51, scale: 0.9, variant: 5, hasDoorMark: false, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(CrumblingWall, { x: width * 0.38, y: height * 0.53, wallWidth: 90, wallHeight: 45, collapseRight: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(CrumblingWall, { x: width * 0.58, y: height * 0.54, wallWidth: 70, wallHeight: 35, collapseRight: false }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(MarkedDoor, { x: width * 0.45, y: height * 0.54, scale: 0.9, variant: 0, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(MarkedDoor, { x: width * 0.54, y: height * 0.53, scale: 0.8, variant: 1, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(EmptyMarketStall, { x: width * 0.33, y: height * 0.58, scale: 1, variant: 0, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(EmptyMarketStall, { x: width * 0.6, y: height * 0.57, scale: 0.9, variant: 1, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(FuneralPyre, { x: width * 0.2, y: height * 0.5, scale: 0.7, intensity: 0.8, seed: 1, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(FuneralPyre, { x: width * 0.75, y: height * 0.49, scale: 0.6, intensity: 0.7, seed: 4.2, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "circle",
      {
        cx: width * 0.2,
        cy: height * 0.5,
        r: 80,
        fill: "url(#pyre-glow-2)",
        opacity: 0.5 + hazeFlicker * 0.1
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "circle",
      {
        cx: width * 0.75,
        cy: height * 0.49,
        r: 70,
        fill: "url(#pyre-glow-2)",
        opacity: 0.4 + hazeFlicker * 0.08
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(SmokePlume, { x: width * 0.2, y: height * 0.48, scale: 0.9, seed: 1.5, darkness: 0.45, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(SmokePlume, { x: width * 0.75, y: height * 0.47, scale: 0.8, seed: 5, darkness: 0.4, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(GriefFigure, { x: width * 0.18, y: height * 0.56, scale: 0.8, variant: 0, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(GriefFigure, { x: width * 0.42, y: height * 0.55, scale: 0.7, variant: 1, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(GriefFigure, { x: width * 0.72, y: height * 0.56, scale: 0.75, variant: 2, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ScatteredDebris, { x: width * 0.15, y: height * 0.56, variant: 0 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ScatteredDebris, { x: width * 0.3, y: height * 0.58, variant: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ScatteredDebris, { x: width * 0.48, y: height * 0.55, variant: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ScatteredDebris, { x: width * 0.63, y: height * 0.57, variant: 0 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ScatteredDebris, { x: width * 0.85, y: height * 0.56, variant: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(CopalBurner, { x: width * 0.4, y: height * 0.56, scale: 1, seed: 2, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(CopalBurner, { x: width * 0.65, y: height * 0.55, scale: 0.8, seed: 6.3, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecCrowdLayer, { config: AZTEC_CROWD_CONFIGS.plague }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(FuneralPyre, { x: width * 0.35, y: height * 0.72, scale: 1.3, intensity: 1.2, seed: 2.5, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "circle",
      {
        cx: width * 0.35,
        cy: height * 0.72,
        r: 150,
        fill: "url(#pyre-glow-1)",
        opacity: 0.6 + hazeFlicker * 0.15
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(SmokePlume, { x: width * 0.35, y: height * 0.68, scale: 1.2, seed: 2.8, darkness: 0.55, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(SickMat, { x: width * 0.05, y: height * 0.82, scale: 1.2, variant: 0, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(SickMat, { x: width * 0.15, y: height * 0.85, scale: 1.1, variant: 1, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(SickMat, { x: width * 0.08, y: height * 0.9, scale: 1, variant: 2, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(SickMat, { x: width * 0.72, y: height * 0.83, scale: 1.15, variant: 3, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(SickMat, { x: width * 0.82, y: height * 0.86, scale: 1, variant: 4, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(SickMat, { x: width * 0.9, y: height * 0.82, scale: 0.95, variant: 5, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(HealerFigure, { x: width * 0.12, y: height * 0.8, scale: 1.1, variant: 0, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(HealerFigure, { x: width * 0.78, y: height * 0.81, scale: 1, variant: 1, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WrappedBody, { x: width * 0.5, y: height * 0.78, scale: 1.2, variant: 0, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WrappedBody, { x: width * 0.55, y: height * 0.82, scale: 1.1, variant: 1, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WrappedBody, { x: width * 0.6, y: height * 0.8, scale: 1, variant: 2, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(WrappedBody, { x: width * 0.48, y: height * 0.84, scale: 0.95, variant: 3, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(GriefFigure, { x: width * 0.52, y: height * 0.76, scale: 1.2, variant: 3, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(GriefFigure, { x: width * 0.62, y: height * 0.78, scale: 1.1, variant: 4, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ScatteredDebris, { x: width * 0.02, y: height * 0.88, variant: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ScatteredDebris, { x: width * 0.25, y: height * 0.84, variant: 0 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ScatteredDebris, { x: width * 0.68, y: height * 0.88, variant: 1 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ScatteredDebris, { x: width * 0.88, y: height * 0.9, variant: 2 }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.03}, ${height * 0.92})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 0,
          cy: 0,
          rx: 14,
          ry: 10,
          fill: AztecPlague_C.stoneRed,
          stroke: AztecPlague_C.stoneRedDark,
          strokeWidth: 1.2,
          opacity: 0.6
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 0,
          cy: -3,
          rx: 10,
          ry: 6,
          fill: AztecPlague_C.stoneRedDark,
          opacity: 0.4
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-8,2 q4,-2 8,-1 q4,1 8,0",
          fill: "none",
          stroke: AztecPlague_C.aztecGold,
          strokeWidth: 0.8,
          opacity: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M-6,-4 q3,-1 6,0 q3,1 6,0",
          fill: "none",
          stroke: AztecPlague_C.aztecRed,
          strokeWidth: 0.6,
          opacity: 0.3
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.93}, ${height * 0.88}) rotate(15)`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -12,
          y: -4,
          width: 24,
          height: 8,
          rx: 2,
          fill: AztecPlague_C.stoneDark,
          stroke: AztecPlague_C.outlineSoft,
          strokeWidth: 0.8,
          opacity: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: -14,
          cy: 0,
          rx: 3,
          ry: 4,
          fill: AztecPlague_C.stoneMid,
          opacity: 0.4
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.28}, ${height * 0.87})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 0,
          cy: 0,
          rx: 4,
          ry: 1.8,
          fill: AztecPlague_C.aztecGold,
          stroke: AztecPlague_C.aztecGoldDark,
          strokeWidth: 0.4,
          opacity: 0.35,
          transform: "rotate(-25)"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "ellipse",
        {
          cx: 6,
          cy: 2,
          rx: 3.5,
          ry: 1.5,
          fill: AztecPlague_C.aztecGoldDark,
          opacity: 0.3,
          transform: "rotate(40, 6, 2)"
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width * 0.7}, ${height * 0.9})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "path",
        {
          d: "M0,0 l2,-10 l2,0 l-1,10 z",
          fill: AztecPlague_C.stoneVeryDark,
          opacity: 0.5
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "line",
        {
          x1: 1,
          y1: 0,
          x2: 1,
          y2: 6,
          stroke: AztecPlague_C.woodDark,
          strokeWidth: 2,
          strokeLinecap: "round",
          opacity: 0.4
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(CopalBurner, { x: width * 0.22, y: height * 0.83, scale: 1.3, seed: 8.7, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${width / 2 - 210}, ${height * 0.68})`, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 4,
          y: 4,
          width: 420,
          height: 170,
          rx: 4,
          fill: "rgba(0,0,0,0.3)"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: -8,
          y: -8,
          width: 436,
          height: 186,
          rx: 6,
          fill: AztecPlague_C.boardFrame,
          stroke: AztecPlague_C.outline,
          strokeWidth: 2
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 0,
          y: 0,
          width: 420,
          height: 170,
          rx: 2,
          fill: AztecPlague_C.boardBg
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "rect",
        {
          x: 0,
          y: 0,
          width: 420,
          height: 170,
          rx: 2,
          fill: "url(#stone-texture)",
          opacity: 0.3
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { opacity: 0.4, children: Array.from({ length: 14 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${10 + i * 30}, 8)`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 4, height: 4, fill: AztecPlague_C.glyphColor }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 6, y: 0, width: 4, height: 2, fill: AztecPlague_C.glyphColor }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 6, y: 4, width: 2, height: 2, fill: AztecPlague_C.glyphColor })
      ] }, `glyph-t-${i}`)) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { opacity: 0.4, children: Array.from({ length: 14 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${10 + i * 30}, 155)`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 0, width: 4, height: 4, fill: AztecPlague_C.glyphColor }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 6, y: 2, width: 4, height: 2, fill: AztecPlague_C.glyphColor }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: 0, y: 6, width: 2, height: 2, fill: AztecPlague_C.glyphColor })
      ] }, `glyph-b-${i}`)) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { opacity: 0.35, children: Array.from({ length: 5 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(5, ${25 + i * 28})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 3, cy: 3, r: 2, fill: "none", stroke: AztecPlague_C.glyphColor, strokeWidth: 0.8 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 8, x2: 6, y2: 8, stroke: AztecPlague_C.glyphColor, strokeWidth: 0.6 })
      ] }, `glyph-l-${i}`)) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { opacity: 0.35, children: Array.from({ length: 5 }, (_, i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(407, ${25 + i * 28})`, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 3, cy: 3, r: 2, fill: "none", stroke: AztecPlague_C.glyphColor, strokeWidth: 0.8 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: 0, y1: 8, x2: 6, y2: 8, stroke: AztecPlague_C.glyphColor, strokeWidth: 0.6 })
      ] }, `glyph-r-${i}`)) }),
      [
        [15, 18],
        [395, 18],
        [15, 145],
        [395, 145]
      ].map(([cx, cy], i) => /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { transform: `translate(${cx}, ${cy})`, opacity: 0.25, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 0, cy: 0, r: 6, fill: "none", stroke: AztecPlague_C.glyphColor, strokeWidth: 0.8 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: -2, cy: -1, r: 1, fill: AztecPlague_C.glyphColor }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("circle", { cx: 2, cy: -1, r: 1, fill: AztecPlague_C.glyphColor }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: -2, y1: 3, x2: 2, y2: 3, stroke: AztecPlague_C.glyphColor, strokeWidth: 0.5 })
      ] }, `skull-${i}`)),
      boardText && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        "text",
        {
          x: 210,
          y: 95,
          textAnchor: "middle",
          fill: AztecPlague_C.chalk,
          fontSize: 34,
          fontFamily: "'Courier New', monospace",
          fontWeight: "bold",
          opacity: 0.85,
          children: boardText
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.7,
        width,
        height: height * 0.3,
        fill: "url(#ground-fog)",
        opacity: 0.4 + hazeFlicker * 0.1
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.3 + windSlow * 30,
        cy: height * 0.65,
        rx: 400,
        ry: 40,
        fill: AztecPlague_C.smokeMid,
        opacity: 0.08 + windMed * 0.02
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.7 + windSlow * 20,
        cy: height * 0.6,
        rx: 350,
        ry: 35,
        fill: AztecPlague_C.smokeDark,
        opacity: 0.06 + windMed * 0.02
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "ellipse",
      {
        cx: width * 0.5 + windMed * 25,
        cy: height * 0.75,
        rx: 500,
        ry: 50,
        fill: AztecPlague_C.smokeMid,
        opacity: 0.1 + hazeFlicker * 0.03
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(AshParticles, { width, height, frame }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "path",
      {
        d: `M0,${height * 0.55} Q${width * 0.2 + windSlow * 15},${height * 0.52}
           ${width * 0.4},${height * 0.54 + windMed * 3}
           Q${width * 0.6 + windSlow * 10},${height * 0.51}
           ${width * 0.8},${height * 0.53 + windMed * 2}
           Q${width * 0.9},${height * 0.55} ${width},${height * 0.54}
           L${width},${height * 0.58} L0,${height * 0.58} Z`,
        fill: AztecPlague_C.fogNear,
        opacity: 0.25
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height,
        fill: AztecPlague_C.hazeGreen,
        opacity: 0.08
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height,
        fill: "url(#vignette)",
        opacity: 0.85 + vignetteBreath * 0.05
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height: height * 0.15,
        fill: AztecPlague_C.skyTop,
        opacity: 0.4
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: height * 0.9,
        width,
        height: height * 0.1,
        fill: AztecPlague_C.skyTop,
        opacity: 0.3
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("g", { filter: "url(#fire-glow)", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "circle",
      {
        cx: width * 0.35,
        cy: height * 0.72,
        r: 200,
        fill: AztecPlague_C.fireOuter,
        opacity: 0.03 + hazeFlicker * 0.01
      }
    ) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "rect",
      {
        x: 0,
        y: 0,
        width,
        height,
        fill: "rgba(20,22,18,0.15)"
      }
    )
  ] });
};

;// ./src/Root.tsx






























const CharPreview = ({ children }) => /* @__PURE__ */ (0,jsx_runtime.jsx)("div", { style: {
  display: "flex",
  justifyContent: "center",
  alignItems: "center",
  width: "100%",
  height: "100%",
  backgroundColor: "#E8E8E0"
}, children });
const ProfessorPintPreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(CharPreview, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(ProfessorPint, { emotion: "happy", talking: true, scale: 2 }) });
const AverageJoePreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(CharPreview, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(AverageJoe, { emotion: "happy", talking: true, scale: 2 }) });
const PharaohPreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(CharPreview, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(Pharaoh, { emotion: "happy", talking: true, scale: 2 }) });
const WallStreetBrokerPreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(CharPreview, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(WallStreetBroker, { emotion: "happy", talking: true, scale: 2 }) });
const CryptoBroPreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(CharPreview, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(CryptoBro, { emotion: "happy", talking: true, scale: 2 }) });
const BankerPreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(CharPreview, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(Banker, { emotion: "neutral", talking: true, scale: 2 }) });
const MarketVendorPreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(CharPreview, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(MarketVendor, { emotion: "happy", talking: true, scale: 2 }) });
const TaxAdvisorPreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(CharPreview, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(TaxAdvisor, { emotion: "thinking", talking: true, scale: 2 }) });
const WorkerPreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(CharPreview, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(Worker, { emotion: "happy", talking: true, scale: 2 }) });
const PubPreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(Pub, { boardText: "WELCOME TO THE PUB", width: 1920, height: 1080 });
const ClassroomPreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(Classroom, { boardText: "WELCOME TO CLASS", width: 1920, height: 1080 });
const PyramidsPreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(Pyramids, { boardText: "ANCIENT ECONOMICS", width: 1920, height: 1080 });
const DesertConstructionPreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(DesertConstruction, { boardText: "BUILDING A PYRAMID", width: 1920, height: 1080 });
const InsidePyramidPreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(InsidePyramid, { boardText: "INSIDE THE TOMB", width: 1920, height: 1080 });
const NileRiverPreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(NileRiver, { boardText: "THE GREAT NILE", width: 1920, height: 1080 });
const WorkersVillagePreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(WorkersVillage, { boardText: "WORKERS VILLAGE", width: 1920, height: 1080 });
const SphinxViewPreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(SphinxView, { boardText: "THE GREAT SPHINX", width: 1920, height: 1080 });
const BattleScenePreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(BattleScene, { boardText: "DE SLAG OM TENOCHTITLAN", width: 1920, height: 1080 });
const TenochtitlanPreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(Tenochtitlan, { boardText: "TENOCHTITLAN", width: 1920, height: 1080 });
const AztecMarketPreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecMarket, { boardText: "DE MARKT VAN TLATELOLCO", width: 1920, height: 1080 });
const AztecSacrificePreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecSacrifice, { boardText: "TEMPLO MAYOR CEREMONIE", width: 1920, height: 1080 });
const ChinampasPreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(Chinampas, { boardText: "DRIJVENDE TUINEN", width: 1920, height: 1080 });
const AztecPlaguePreview = () => /* @__PURE__ */ (0,jsx_runtime.jsx)(AztecPlague, { boardText: "DE GROTE STERFTE", width: 1920, height: 1080 });
const RemotionRoot = () => {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "DemoVideo",
        component: DemoVideo,
        durationInFrames: 600,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "DialogueDemo",
        component: DialogueDemo,
        durationInFrames: 900,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "Pyramids-of-Giza",
        component: PyramidsOfGiza,
        durationInFrames: 21600,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "ProfessorPint-Preview",
        component: ProfessorPintPreview,
        durationInFrames: 300,
        fps: 30,
        width: 800,
        height: 600
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "AverageJoe-Preview",
        component: AverageJoePreview,
        durationInFrames: 300,
        fps: 30,
        width: 800,
        height: 600
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "Pharaoh-Preview",
        component: PharaohPreview,
        durationInFrames: 300,
        fps: 30,
        width: 800,
        height: 600
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "WallStreetBroker-Preview",
        component: WallStreetBrokerPreview,
        durationInFrames: 300,
        fps: 30,
        width: 800,
        height: 600
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "CryptoBro-Preview",
        component: CryptoBroPreview,
        durationInFrames: 300,
        fps: 30,
        width: 800,
        height: 600
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "Banker-Preview",
        component: BankerPreview,
        durationInFrames: 300,
        fps: 30,
        width: 800,
        height: 600
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "MarketVendor-Preview",
        component: MarketVendorPreview,
        durationInFrames: 300,
        fps: 30,
        width: 800,
        height: 600
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "TaxAdvisor-Preview",
        component: TaxAdvisorPreview,
        durationInFrames: 300,
        fps: 30,
        width: 800,
        height: 600
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "Worker-Preview",
        component: WorkerPreview,
        durationInFrames: 300,
        fps: 30,
        width: 800,
        height: 600
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "Pub-Preview",
        component: PubPreview,
        durationInFrames: 300,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "Classroom-Preview",
        component: ClassroomPreview,
        durationInFrames: 300,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "Pyramids-Preview",
        component: PyramidsPreview,
        durationInFrames: 300,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "DesertConstruction-Preview",
        component: DesertConstructionPreview,
        durationInFrames: 300,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "InsidePyramid-Preview",
        component: InsidePyramidPreview,
        durationInFrames: 300,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "NileRiver-Preview",
        component: NileRiverPreview,
        durationInFrames: 300,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "WorkersVillage-Preview",
        component: WorkersVillagePreview,
        durationInFrames: 300,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "SphinxView-Preview",
        component: SphinxViewPreview,
        durationInFrames: 300,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "BattleScene-Preview",
        component: BattleScenePreview,
        durationInFrames: 300,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "Tenochtitlan-Preview",
        component: TenochtitlanPreview,
        durationInFrames: 300,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "AztecMarket-Preview",
        component: AztecMarketPreview,
        durationInFrames: 300,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "AztecSacrifice-Preview",
        component: AztecSacrificePreview,
        durationInFrames: 300,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "Chinampas-Preview",
        component: ChinampasPreview,
        durationInFrames: 300,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "AztecPlague-Preview",
        component: AztecPlaguePreview,
        durationInFrames: 300,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "Compound-Interest",
        component: CompoundInterestVideo,
        durationInFrames: 1800,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "Inflation",
        component: InflationVideo,
        durationInFrames: 1350,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "ETF-Investing",
        component: ETFVideo,
        durationInFrames: 1800,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "Budgeting",
        component: BudgetingVideo,
        durationInFrames: 1350,
        fps: 30,
        width: 1920,
        height: 1080
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      esm.Composition,
      {
        id: "Box3-Belasting",
        component: DutchTaxVideo,
        durationInFrames: 1800,
        fps: 30,
        width: 1920,
        height: 1080
      }
    )
  ] });
};

;// ./src/index.ts



(0,esm.registerRoot)(RemotionRoot);


/***/ }),

/***/ 6507:
/***/ ((__unused_webpack_module, exports) => {

var __webpack_unused_export__;

// https://github.com/remotion-dev/remotion/issues/3412#issuecomment-1910120552
__webpack_unused_export__ = ({ value: true });
exports.d = void 0;
function getEnvVar() {
    const parts = ['proc', 'ess', '.', 'en', 'v', '.', 'NOD', 'E_EN', 'V'];
    return parts.join('');
}
const getEnvVariables = () => {
    if (window.remotion_isStudio) {
        // For the Studio, we already set the environment variables in index-html.ts.
        // We just add NODE_ENV here.
        if (false) {}
        return {
            NODE_ENV: "production",
        };
    }
    const param = window.remotion_envVariables;
    if (!param) {
        return {};
    }
    return { ...JSON.parse(param), NODE_ENV: "production" };
};
const setupEnvVariables = () => {
    const env = getEnvVariables();
    if (!window.process) {
        window.process = {};
    }
    if (!window.process.env) {
        window.process.env = {};
    }
    Object.keys(env).forEach((key) => {
        window.process.env[key] = env[key];
    });
};
setupEnvVariables();
const injected = {};
const injectCSS = (css) => {
    // Skip in node
    if (typeof document === 'undefined') {
        return;
    }
    if (injected[css]) {
        return;
    }
    const head = document.head || document.getElementsByTagName('head')[0];
    const style = document.createElement('style');
    style.appendChild(document.createTextNode(css));
    head.prepend(style);
    injected[css] = true;
};
exports.d = injectCSS;
(0, exports.d)(`
  .css-reset, .css-reset * {
    font-size: 16px;
    line-height: 1.5;
    color: white;
    font-family: Arial, Helvetica, sans-serif;
    background: transparent;
    box-sizing: border-box;
  }

  .algolia-docsearch-suggestion--highlight {
    font-size: 15px;
    line-height: 1.25;
  }

  .__remotion-info-button-container code {
    font-family: monospace;
    font-size: 14px;
    color: #0584f2
  }

  .__remotion-vertical-scrollbar::-webkit-scrollbar {
      width: 6px;
  }
  .__remotion-vertical-scrollbar::-webkit-scrollbar-thumb {
    background-color: rgba(0, 0, 0, 0.0);
  }
  .__remotion-vertical-scrollbar:hover::-webkit-scrollbar-thumb {
    background-color: rgba(0, 0, 0, 0.6);
  }
  .__remotion-vertical-scrollbar:hover::-webkit-scrollbar-thumb:hover {
    background-color: rgba(0, 0, 0, 1);
  }


  .__remotion-horizontal-scrollbar::-webkit-scrollbar {
    height: 6px;
  }
  .__remotion-horizontal-scrollbar::-webkit-scrollbar-thumb {
    background-color: rgba(0, 0, 0, 0.0);
  }
  .__remotion-horizontal-scrollbar:hover::-webkit-scrollbar-thumb {
    background-color: rgba(0, 0, 0, 0.6);
  }
  .__remotion-horizontal-scrollbar:hover::-webkit-scrollbar-thumb:hover {
    background-color: rgba(0, 0, 0, 1);
  }


  @-moz-document url-prefix() {
    .__remotion-vertical-scrollbar {
      scrollbar-width: thin;
      scrollbar-color: rgba(0, 0, 0, 0.6) rgba(0, 0, 0, 0);
    }

    .__remotion-vertical-scrollbar:hover {
      scrollbar-color: rgba(0, 0, 0, 1) rgba(0, 0, 0, 0);
    }

    .__remotion-horizontal-scrollbar {
      scrollbar-width: thin;
      scrollbar-color: rgba(0, 0, 0, 0.6) rgba(0, 0, 0, 0);
    }

    .__remotion-horizontal-scrollbar:hover {
      scrollbar-width: thin;
      scrollbar-color: rgba(0, 0, 0, 1) rgba(0, 0, 0, 0);
    }
  }


  .__remotion-timeline-slider {
    appearance: none;
    width: 100px;
    border-radius: 3px;
    height: 6px;
    background-color: rgba(255, 255, 255, 0.1);
    accent-color: #ffffff;
  }
  
  .__remotion-timeline-slider::-moz-range-thumb {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background-color: #ffffff;
    appearance: none;
  }
`);


/***/ }),

/***/ 3610:
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

var react__WEBPACK_IMPORTED_MODULE_0___namespace_cache;
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6540);


if (typeof globalThis === 'undefined') {
	window.React = /*#__PURE__*/ (react__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (react__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(react__WEBPACK_IMPORTED_MODULE_0__, 2)));
} else {
	globalThis.React = /*#__PURE__*/ (react__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (react__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(react__WEBPACK_IMPORTED_MODULE_0__, 2)));
}


/***/ }),

/***/ 1247:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

/*
 Modernizr 3.0.0pre (Custom Build) | MIT
*/

var Scheduler = __webpack_require__(9982),
  React = __webpack_require__(6540),
  ReactDOM = __webpack_require__(961);
function formatProdErrorMessage(code) {
  var url = "https://react.dev/errors/" + code;
  if (1 < arguments.length) {
    url += "?args[]=" + encodeURIComponent(arguments[1]);
    for (var i = 2; i < arguments.length; i++)
      url += "&args[]=" + encodeURIComponent(arguments[i]);
  }
  return (
    "Minified React error #" +
    code +
    "; visit " +
    url +
    " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
  );
}
function isValidContainer(node) {
  return !(
    !node ||
    (1 !== node.nodeType && 9 !== node.nodeType && 11 !== node.nodeType)
  );
}
function getNearestMountedFiber(fiber) {
  var node = fiber,
    nearestMounted = fiber;
  if (fiber.alternate) for (; node.return; ) node = node.return;
  else {
    fiber = node;
    do
      (node = fiber),
        0 !== (node.flags & 4098) && (nearestMounted = node.return),
        (fiber = node.return);
    while (fiber);
  }
  return 3 === node.tag ? nearestMounted : null;
}
function getSuspenseInstanceFromFiber(fiber) {
  if (13 === fiber.tag) {
    var suspenseState = fiber.memoizedState;
    null === suspenseState &&
      ((fiber = fiber.alternate),
      null !== fiber && (suspenseState = fiber.memoizedState));
    if (null !== suspenseState) return suspenseState.dehydrated;
  }
  return null;
}
function getActivityInstanceFromFiber(fiber) {
  if (31 === fiber.tag) {
    var activityState = fiber.memoizedState;
    null === activityState &&
      ((fiber = fiber.alternate),
      null !== fiber && (activityState = fiber.memoizedState));
    if (null !== activityState) return activityState.dehydrated;
  }
  return null;
}
function assertIsMounted(fiber) {
  if (getNearestMountedFiber(fiber) !== fiber)
    throw Error(formatProdErrorMessage(188));
}
function findCurrentFiberUsingSlowPath(fiber) {
  var alternate = fiber.alternate;
  if (!alternate) {
    alternate = getNearestMountedFiber(fiber);
    if (null === alternate) throw Error(formatProdErrorMessage(188));
    return alternate !== fiber ? null : fiber;
  }
  for (var a = fiber, b = alternate; ; ) {
    var parentA = a.return;
    if (null === parentA) break;
    var parentB = parentA.alternate;
    if (null === parentB) {
      b = parentA.return;
      if (null !== b) {
        a = b;
        continue;
      }
      break;
    }
    if (parentA.child === parentB.child) {
      for (parentB = parentA.child; parentB; ) {
        if (parentB === a) return assertIsMounted(parentA), fiber;
        if (parentB === b) return assertIsMounted(parentA), alternate;
        parentB = parentB.sibling;
      }
      throw Error(formatProdErrorMessage(188));
    }
    if (a.return !== b.return) (a = parentA), (b = parentB);
    else {
      for (var didFindChild = !1, child$0 = parentA.child; child$0; ) {
        if (child$0 === a) {
          didFindChild = !0;
          a = parentA;
          b = parentB;
          break;
        }
        if (child$0 === b) {
          didFindChild = !0;
          b = parentA;
          a = parentB;
          break;
        }
        child$0 = child$0.sibling;
      }
      if (!didFindChild) {
        for (child$0 = parentB.child; child$0; ) {
          if (child$0 === a) {
            didFindChild = !0;
            a = parentB;
            b = parentA;
            break;
          }
          if (child$0 === b) {
            didFindChild = !0;
            b = parentB;
            a = parentA;
            break;
          }
          child$0 = child$0.sibling;
        }
        if (!didFindChild) throw Error(formatProdErrorMessage(189));
      }
    }
    if (a.alternate !== b) throw Error(formatProdErrorMessage(190));
  }
  if (3 !== a.tag) throw Error(formatProdErrorMessage(188));
  return a.stateNode.current === a ? fiber : alternate;
}
function findCurrentHostFiberImpl(node) {
  var tag = node.tag;
  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return node;
  for (node = node.child; null !== node; ) {
    tag = findCurrentHostFiberImpl(node);
    if (null !== tag) return tag;
    node = node.sibling;
  }
  return null;
}
var assign = Object.assign,
  REACT_LEGACY_ELEMENT_TYPE = Symbol.for("react.element"),
  REACT_ELEMENT_TYPE = Symbol.for("react.transitional.element"),
  REACT_PORTAL_TYPE = Symbol.for("react.portal"),
  REACT_FRAGMENT_TYPE = Symbol.for("react.fragment"),
  REACT_STRICT_MODE_TYPE = Symbol.for("react.strict_mode"),
  REACT_PROFILER_TYPE = Symbol.for("react.profiler"),
  REACT_CONSUMER_TYPE = Symbol.for("react.consumer"),
  REACT_CONTEXT_TYPE = Symbol.for("react.context"),
  REACT_FORWARD_REF_TYPE = Symbol.for("react.forward_ref"),
  REACT_SUSPENSE_TYPE = Symbol.for("react.suspense"),
  REACT_SUSPENSE_LIST_TYPE = Symbol.for("react.suspense_list"),
  REACT_MEMO_TYPE = Symbol.for("react.memo"),
  REACT_LAZY_TYPE = Symbol.for("react.lazy");
Symbol.for("react.scope");
var REACT_ACTIVITY_TYPE = Symbol.for("react.activity");
Symbol.for("react.legacy_hidden");
Symbol.for("react.tracing_marker");
var REACT_MEMO_CACHE_SENTINEL = Symbol.for("react.memo_cache_sentinel");
Symbol.for("react.view_transition");
var MAYBE_ITERATOR_SYMBOL = Symbol.iterator;
function getIteratorFn(maybeIterable) {
  if (null === maybeIterable || "object" !== typeof maybeIterable) return null;
  maybeIterable =
    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||
    maybeIterable["@@iterator"];
  return "function" === typeof maybeIterable ? maybeIterable : null;
}
var REACT_CLIENT_REFERENCE = Symbol.for("react.client.reference");
function getComponentNameFromType(type) {
  if (null == type) return null;
  if ("function" === typeof type)
    return type.$$typeof === REACT_CLIENT_REFERENCE
      ? null
      : type.displayName || type.name || null;
  if ("string" === typeof type) return type;
  switch (type) {
    case REACT_FRAGMENT_TYPE:
      return "Fragment";
    case REACT_PROFILER_TYPE:
      return "Profiler";
    case REACT_STRICT_MODE_TYPE:
      return "StrictMode";
    case REACT_SUSPENSE_TYPE:
      return "Suspense";
    case REACT_SUSPENSE_LIST_TYPE:
      return "SuspenseList";
    case REACT_ACTIVITY_TYPE:
      return "Activity";
  }
  if ("object" === typeof type)
    switch (type.$$typeof) {
      case REACT_PORTAL_TYPE:
        return "Portal";
      case REACT_CONTEXT_TYPE:
        return type.displayName || "Context";
      case REACT_CONSUMER_TYPE:
        return (type._context.displayName || "Context") + ".Consumer";
      case REACT_FORWARD_REF_TYPE:
        var innerType = type.render;
        type = type.displayName;
        type ||
          ((type = innerType.displayName || innerType.name || ""),
          (type = "" !== type ? "ForwardRef(" + type + ")" : "ForwardRef"));
        return type;
      case REACT_MEMO_TYPE:
        return (
          (innerType = type.displayName || null),
          null !== innerType
            ? innerType
            : getComponentNameFromType(type.type) || "Memo"
        );
      case REACT_LAZY_TYPE:
        innerType = type._payload;
        type = type._init;
        try {
          return getComponentNameFromType(type(innerType));
        } catch (x) {}
    }
  return null;
}
var isArrayImpl = Array.isArray,
  ReactSharedInternals =
    React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,
  ReactDOMSharedInternals =
    ReactDOM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,
  sharedNotPendingObject = {
    pending: !1,
    data: null,
    method: null,
    action: null
  },
  valueStack = [],
  index = -1;
function createCursor(defaultValue) {
  return { current: defaultValue };
}
function pop(cursor) {
  0 > index ||
    ((cursor.current = valueStack[index]), (valueStack[index] = null), index--);
}
function push(cursor, value) {
  index++;
  valueStack[index] = cursor.current;
  cursor.current = value;
}
var contextStackCursor = createCursor(null),
  contextFiberStackCursor = createCursor(null),
  rootInstanceStackCursor = createCursor(null),
  hostTransitionProviderCursor = createCursor(null);
function pushHostContainer(fiber, nextRootInstance) {
  push(rootInstanceStackCursor, nextRootInstance);
  push(contextFiberStackCursor, fiber);
  push(contextStackCursor, null);
  switch (nextRootInstance.nodeType) {
    case 9:
    case 11:
      fiber = (fiber = nextRootInstance.documentElement)
        ? (fiber = fiber.namespaceURI)
          ? getOwnHostContext(fiber)
          : 0
        : 0;
      break;
    default:
      if (
        ((fiber = nextRootInstance.tagName),
        (nextRootInstance = nextRootInstance.namespaceURI))
      )
        (nextRootInstance = getOwnHostContext(nextRootInstance)),
          (fiber = getChildHostContextProd(nextRootInstance, fiber));
      else
        switch (fiber) {
          case "svg":
            fiber = 1;
            break;
          case "math":
            fiber = 2;
            break;
          default:
            fiber = 0;
        }
  }
  pop(contextStackCursor);
  push(contextStackCursor, fiber);
}
function popHostContainer() {
  pop(contextStackCursor);
  pop(contextFiberStackCursor);
  pop(rootInstanceStackCursor);
}
function pushHostContext(fiber) {
  null !== fiber.memoizedState && push(hostTransitionProviderCursor, fiber);
  var context = contextStackCursor.current;
  var JSCompiler_inline_result = getChildHostContextProd(context, fiber.type);
  context !== JSCompiler_inline_result &&
    (push(contextFiberStackCursor, fiber),
    push(contextStackCursor, JSCompiler_inline_result));
}
function popHostContext(fiber) {
  contextFiberStackCursor.current === fiber &&
    (pop(contextStackCursor), pop(contextFiberStackCursor));
  hostTransitionProviderCursor.current === fiber &&
    (pop(hostTransitionProviderCursor),
    (HostTransitionContext._currentValue = sharedNotPendingObject));
}
var prefix, suffix;
function describeBuiltInComponentFrame(name) {
  if (void 0 === prefix)
    try {
      throw Error();
    } catch (x) {
      var match = x.stack.trim().match(/\n( *(at )?)/);
      prefix = (match && match[1]) || "";
      suffix =
        -1 < x.stack.indexOf("\n    at")
          ? " (<anonymous>)"
          : -1 < x.stack.indexOf("@")
            ? "@unknown:0:0"
            : "";
    }
  return "\n" + prefix + name + suffix;
}
var reentry = !1;
function describeNativeComponentFrame(fn, construct) {
  if (!fn || reentry) return "";
  reentry = !0;
  var previousPrepareStackTrace = Error.prepareStackTrace;
  Error.prepareStackTrace = void 0;
  try {
    var RunInRootFrame = {
      DetermineComponentFrameRoot: function () {
        try {
          if (construct) {
            var Fake = function () {
              throw Error();
            };
            Object.defineProperty(Fake.prototype, "props", {
              set: function () {
                throw Error();
              }
            });
            if ("object" === typeof Reflect && Reflect.construct) {
              try {
                Reflect.construct(Fake, []);
              } catch (x) {
                var control = x;
              }
              Reflect.construct(fn, [], Fake);
            } else {
              try {
                Fake.call();
              } catch (x$1) {
                control = x$1;
              }
              fn.call(Fake.prototype);
            }
          } else {
            try {
              throw Error();
            } catch (x$2) {
              control = x$2;
            }
            (Fake = fn()) &&
              "function" === typeof Fake.catch &&
              Fake.catch(function () {});
          }
        } catch (sample) {
          if (sample && control && "string" === typeof sample.stack)
            return [sample.stack, control.stack];
        }
        return [null, null];
      }
    };
    RunInRootFrame.DetermineComponentFrameRoot.displayName =
      "DetermineComponentFrameRoot";
    var namePropDescriptor = Object.getOwnPropertyDescriptor(
      RunInRootFrame.DetermineComponentFrameRoot,
      "name"
    );
    namePropDescriptor &&
      namePropDescriptor.configurable &&
      Object.defineProperty(
        RunInRootFrame.DetermineComponentFrameRoot,
        "name",
        { value: "DetermineComponentFrameRoot" }
      );
    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),
      sampleStack = _RunInRootFrame$Deter[0],
      controlStack = _RunInRootFrame$Deter[1];
    if (sampleStack && controlStack) {
      var sampleLines = sampleStack.split("\n"),
        controlLines = controlStack.split("\n");
      for (
        namePropDescriptor = RunInRootFrame = 0;
        RunInRootFrame < sampleLines.length &&
        !sampleLines[RunInRootFrame].includes("DetermineComponentFrameRoot");

      )
        RunInRootFrame++;
      for (
        ;
        namePropDescriptor < controlLines.length &&
        !controlLines[namePropDescriptor].includes(
          "DetermineComponentFrameRoot"
        );

      )
        namePropDescriptor++;
      if (
        RunInRootFrame === sampleLines.length ||
        namePropDescriptor === controlLines.length
      )
        for (
          RunInRootFrame = sampleLines.length - 1,
            namePropDescriptor = controlLines.length - 1;
          1 <= RunInRootFrame &&
          0 <= namePropDescriptor &&
          sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor];

        )
          namePropDescriptor--;
      for (
        ;
        1 <= RunInRootFrame && 0 <= namePropDescriptor;
        RunInRootFrame--, namePropDescriptor--
      )
        if (sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor]) {
          if (1 !== RunInRootFrame || 1 !== namePropDescriptor) {
            do
              if (
                (RunInRootFrame--,
                namePropDescriptor--,
                0 > namePropDescriptor ||
                  sampleLines[RunInRootFrame] !==
                    controlLines[namePropDescriptor])
              ) {
                var frame =
                  "\n" +
                  sampleLines[RunInRootFrame].replace(" at new ", " at ");
                fn.displayName &&
                  frame.includes("<anonymous>") &&
                  (frame = frame.replace("<anonymous>", fn.displayName));
                return frame;
              }
            while (1 <= RunInRootFrame && 0 <= namePropDescriptor);
          }
          break;
        }
    }
  } finally {
    (reentry = !1), (Error.prepareStackTrace = previousPrepareStackTrace);
  }
  return (previousPrepareStackTrace = fn ? fn.displayName || fn.name : "")
    ? describeBuiltInComponentFrame(previousPrepareStackTrace)
    : "";
}
function describeFiber(fiber, childFiber) {
  switch (fiber.tag) {
    case 26:
    case 27:
    case 5:
      return describeBuiltInComponentFrame(fiber.type);
    case 16:
      return describeBuiltInComponentFrame("Lazy");
    case 13:
      return fiber.child !== childFiber && null !== childFiber
        ? describeBuiltInComponentFrame("Suspense Fallback")
        : describeBuiltInComponentFrame("Suspense");
    case 19:
      return describeBuiltInComponentFrame("SuspenseList");
    case 0:
    case 15:
      return describeNativeComponentFrame(fiber.type, !1);
    case 11:
      return describeNativeComponentFrame(fiber.type.render, !1);
    case 1:
      return describeNativeComponentFrame(fiber.type, !0);
    case 31:
      return describeBuiltInComponentFrame("Activity");
    default:
      return "";
  }
}
function getStackByFiberInDevAndProd(workInProgress) {
  try {
    var info = "",
      previous = null;
    do
      (info += describeFiber(workInProgress, previous)),
        (previous = workInProgress),
        (workInProgress = workInProgress.return);
    while (workInProgress);
    return info;
  } catch (x) {
    return "\nError generating stack: " + x.message + "\n" + x.stack;
  }
}
var hasOwnProperty = Object.prototype.hasOwnProperty,
  scheduleCallback$3 = Scheduler.unstable_scheduleCallback,
  cancelCallback$1 = Scheduler.unstable_cancelCallback,
  shouldYield = Scheduler.unstable_shouldYield,
  requestPaint = Scheduler.unstable_requestPaint,
  now = Scheduler.unstable_now,
  getCurrentPriorityLevel = Scheduler.unstable_getCurrentPriorityLevel,
  ImmediatePriority = Scheduler.unstable_ImmediatePriority,
  UserBlockingPriority = Scheduler.unstable_UserBlockingPriority,
  NormalPriority$1 = Scheduler.unstable_NormalPriority,
  LowPriority = Scheduler.unstable_LowPriority,
  IdlePriority = Scheduler.unstable_IdlePriority,
  log$1 = Scheduler.log,
  unstable_setDisableYieldValue = Scheduler.unstable_setDisableYieldValue,
  rendererID = null,
  injectedHook = null;
function setIsStrictModeForDevtools(newIsStrictMode) {
  "function" === typeof log$1 && unstable_setDisableYieldValue(newIsStrictMode);
  if (injectedHook && "function" === typeof injectedHook.setStrictMode)
    try {
      injectedHook.setStrictMode(rendererID, newIsStrictMode);
    } catch (err) {}
}
var clz32 = Math.clz32 ? Math.clz32 : clz32Fallback,
  log = Math.log,
  LN2 = Math.LN2;
function clz32Fallback(x) {
  x >>>= 0;
  return 0 === x ? 32 : (31 - ((log(x) / LN2) | 0)) | 0;
}
var nextTransitionUpdateLane = 256,
  nextTransitionDeferredLane = 262144,
  nextRetryLane = 4194304;
function getHighestPriorityLanes(lanes) {
  var pendingSyncLanes = lanes & 42;
  if (0 !== pendingSyncLanes) return pendingSyncLanes;
  switch (lanes & -lanes) {
    case 1:
      return 1;
    case 2:
      return 2;
    case 4:
      return 4;
    case 8:
      return 8;
    case 16:
      return 16;
    case 32:
      return 32;
    case 64:
      return 64;
    case 128:
      return 128;
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
      return lanes & 261888;
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
      return lanes & 3932160;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
      return lanes & 62914560;
    case 67108864:
      return 67108864;
    case 134217728:
      return 134217728;
    case 268435456:
      return 268435456;
    case 536870912:
      return 536870912;
    case 1073741824:
      return 0;
    default:
      return lanes;
  }
}
function getNextLanes(root, wipLanes, rootHasPendingCommit) {
  var pendingLanes = root.pendingLanes;
  if (0 === pendingLanes) return 0;
  var nextLanes = 0,
    suspendedLanes = root.suspendedLanes,
    pingedLanes = root.pingedLanes;
  root = root.warmLanes;
  var nonIdlePendingLanes = pendingLanes & 134217727;
  0 !== nonIdlePendingLanes
    ? ((pendingLanes = nonIdlePendingLanes & ~suspendedLanes),
      0 !== pendingLanes
        ? (nextLanes = getHighestPriorityLanes(pendingLanes))
        : ((pingedLanes &= nonIdlePendingLanes),
          0 !== pingedLanes
            ? (nextLanes = getHighestPriorityLanes(pingedLanes))
            : rootHasPendingCommit ||
              ((rootHasPendingCommit = nonIdlePendingLanes & ~root),
              0 !== rootHasPendingCommit &&
                (nextLanes = getHighestPriorityLanes(rootHasPendingCommit)))))
    : ((nonIdlePendingLanes = pendingLanes & ~suspendedLanes),
      0 !== nonIdlePendingLanes
        ? (nextLanes = getHighestPriorityLanes(nonIdlePendingLanes))
        : 0 !== pingedLanes
          ? (nextLanes = getHighestPriorityLanes(pingedLanes))
          : rootHasPendingCommit ||
            ((rootHasPendingCommit = pendingLanes & ~root),
            0 !== rootHasPendingCommit &&
              (nextLanes = getHighestPriorityLanes(rootHasPendingCommit))));
  return 0 === nextLanes
    ? 0
    : 0 !== wipLanes &&
        wipLanes !== nextLanes &&
        0 === (wipLanes & suspendedLanes) &&
        ((suspendedLanes = nextLanes & -nextLanes),
        (rootHasPendingCommit = wipLanes & -wipLanes),
        suspendedLanes >= rootHasPendingCommit ||
          (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194048)))
      ? wipLanes
      : nextLanes;
}
function checkIfRootIsPrerendering(root, renderLanes) {
  return (
    0 ===
    (root.pendingLanes &
      ~(root.suspendedLanes & ~root.pingedLanes) &
      renderLanes)
  );
}
function computeExpirationTime(lane, currentTime) {
  switch (lane) {
    case 1:
    case 2:
    case 4:
    case 8:
    case 64:
      return currentTime + 250;
    case 16:
    case 32:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
      return currentTime + 5e3;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
      return -1;
    case 67108864:
    case 134217728:
    case 268435456:
    case 536870912:
    case 1073741824:
      return -1;
    default:
      return -1;
  }
}
function claimNextRetryLane() {
  var lane = nextRetryLane;
  nextRetryLane <<= 1;
  0 === (nextRetryLane & 62914560) && (nextRetryLane = 4194304);
  return lane;
}
function createLaneMap(initial) {
  for (var laneMap = [], i = 0; 31 > i; i++) laneMap.push(initial);
  return laneMap;
}
function markRootUpdated$1(root, updateLane) {
  root.pendingLanes |= updateLane;
  268435456 !== updateLane &&
    ((root.suspendedLanes = 0), (root.pingedLanes = 0), (root.warmLanes = 0));
}
function markRootFinished(
  root,
  finishedLanes,
  remainingLanes,
  spawnedLane,
  updatedLanes,
  suspendedRetryLanes
) {
  var previouslyPendingLanes = root.pendingLanes;
  root.pendingLanes = remainingLanes;
  root.suspendedLanes = 0;
  root.pingedLanes = 0;
  root.warmLanes = 0;
  root.expiredLanes &= remainingLanes;
  root.entangledLanes &= remainingLanes;
  root.errorRecoveryDisabledLanes &= remainingLanes;
  root.shellSuspendCounter = 0;
  var entanglements = root.entanglements,
    expirationTimes = root.expirationTimes,
    hiddenUpdates = root.hiddenUpdates;
  for (
    remainingLanes = previouslyPendingLanes & ~remainingLanes;
    0 < remainingLanes;

  ) {
    var index$7 = 31 - clz32(remainingLanes),
      lane = 1 << index$7;
    entanglements[index$7] = 0;
    expirationTimes[index$7] = -1;
    var hiddenUpdatesForLane = hiddenUpdates[index$7];
    if (null !== hiddenUpdatesForLane)
      for (
        hiddenUpdates[index$7] = null, index$7 = 0;
        index$7 < hiddenUpdatesForLane.length;
        index$7++
      ) {
        var update = hiddenUpdatesForLane[index$7];
        null !== update && (update.lane &= -536870913);
      }
    remainingLanes &= ~lane;
  }
  0 !== spawnedLane && markSpawnedDeferredLane(root, spawnedLane, 0);
  0 !== suspendedRetryLanes &&
    0 === updatedLanes &&
    0 !== root.tag &&
    (root.suspendedLanes |=
      suspendedRetryLanes & ~(previouslyPendingLanes & ~finishedLanes));
}
function markSpawnedDeferredLane(root, spawnedLane, entangledLanes) {
  root.pendingLanes |= spawnedLane;
  root.suspendedLanes &= ~spawnedLane;
  var spawnedLaneIndex = 31 - clz32(spawnedLane);
  root.entangledLanes |= spawnedLane;
  root.entanglements[spawnedLaneIndex] =
    root.entanglements[spawnedLaneIndex] |
    1073741824 |
    (entangledLanes & 261930);
}
function markRootEntangled(root, entangledLanes) {
  var rootEntangledLanes = (root.entangledLanes |= entangledLanes);
  for (root = root.entanglements; rootEntangledLanes; ) {
    var index$8 = 31 - clz32(rootEntangledLanes),
      lane = 1 << index$8;
    (lane & entangledLanes) | (root[index$8] & entangledLanes) &&
      (root[index$8] |= entangledLanes);
    rootEntangledLanes &= ~lane;
  }
}
function getBumpedLaneForHydration(root, renderLanes) {
  var renderLane = renderLanes & -renderLanes;
  renderLane =
    0 !== (renderLane & 42) ? 1 : getBumpedLaneForHydrationByLane(renderLane);
  return 0 !== (renderLane & (root.suspendedLanes | renderLanes))
    ? 0
    : renderLane;
}
function getBumpedLaneForHydrationByLane(lane) {
  switch (lane) {
    case 2:
      lane = 1;
      break;
    case 8:
      lane = 4;
      break;
    case 32:
      lane = 16;
      break;
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
      lane = 128;
      break;
    case 268435456:
      lane = 134217728;
      break;
    default:
      lane = 0;
  }
  return lane;
}
function lanesToEventPriority(lanes) {
  lanes &= -lanes;
  return 2 < lanes
    ? 8 < lanes
      ? 0 !== (lanes & 134217727)
        ? 32
        : 268435456
      : 8
    : 2;
}
function resolveUpdatePriority() {
  var updatePriority = ReactDOMSharedInternals.p;
  if (0 !== updatePriority) return updatePriority;
  updatePriority = window.event;
  return void 0 === updatePriority ? 32 : getEventPriority(updatePriority.type);
}
function runWithPriority(priority, fn) {
  var previousPriority = ReactDOMSharedInternals.p;
  try {
    return (ReactDOMSharedInternals.p = priority), fn();
  } finally {
    ReactDOMSharedInternals.p = previousPriority;
  }
}
var randomKey = Math.random().toString(36).slice(2),
  internalInstanceKey = "__reactFiber$" + randomKey,
  internalPropsKey = "__reactProps$" + randomKey,
  internalContainerInstanceKey = "__reactContainer$" + randomKey,
  internalEventHandlersKey = "__reactEvents$" + randomKey,
  internalEventHandlerListenersKey = "__reactListeners$" + randomKey,
  internalEventHandlesSetKey = "__reactHandles$" + randomKey,
  internalRootNodeResourcesKey = "__reactResources$" + randomKey,
  internalHoistableMarker = "__reactMarker$" + randomKey;
function detachDeletedInstance(node) {
  delete node[internalInstanceKey];
  delete node[internalPropsKey];
  delete node[internalEventHandlersKey];
  delete node[internalEventHandlerListenersKey];
  delete node[internalEventHandlesSetKey];
}
function getClosestInstanceFromNode(targetNode) {
  var targetInst = targetNode[internalInstanceKey];
  if (targetInst) return targetInst;
  for (var parentNode = targetNode.parentNode; parentNode; ) {
    if (
      (targetInst =
        parentNode[internalContainerInstanceKey] ||
        parentNode[internalInstanceKey])
    ) {
      parentNode = targetInst.alternate;
      if (
        null !== targetInst.child ||
        (null !== parentNode && null !== parentNode.child)
      )
        for (
          targetNode = getParentHydrationBoundary(targetNode);
          null !== targetNode;

        ) {
          if ((parentNode = targetNode[internalInstanceKey])) return parentNode;
          targetNode = getParentHydrationBoundary(targetNode);
        }
      return targetInst;
    }
    targetNode = parentNode;
    parentNode = targetNode.parentNode;
  }
  return null;
}
function getInstanceFromNode(node) {
  if (
    (node = node[internalInstanceKey] || node[internalContainerInstanceKey])
  ) {
    var tag = node.tag;
    if (
      5 === tag ||
      6 === tag ||
      13 === tag ||
      31 === tag ||
      26 === tag ||
      27 === tag ||
      3 === tag
    )
      return node;
  }
  return null;
}
function getNodeFromInstance(inst) {
  var tag = inst.tag;
  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return inst.stateNode;
  throw Error(formatProdErrorMessage(33));
}
function getResourcesFromRoot(root) {
  var resources = root[internalRootNodeResourcesKey];
  resources ||
    (resources = root[internalRootNodeResourcesKey] =
      { hoistableStyles: new Map(), hoistableScripts: new Map() });
  return resources;
}
function markNodeAsHoistable(node) {
  node[internalHoistableMarker] = !0;
}
var allNativeEvents = new Set(),
  registrationNameDependencies = {};
function registerTwoPhaseEvent(registrationName, dependencies) {
  registerDirectEvent(registrationName, dependencies);
  registerDirectEvent(registrationName + "Capture", dependencies);
}
function registerDirectEvent(registrationName, dependencies) {
  registrationNameDependencies[registrationName] = dependencies;
  for (
    registrationName = 0;
    registrationName < dependencies.length;
    registrationName++
  )
    allNativeEvents.add(dependencies[registrationName]);
}
var VALID_ATTRIBUTE_NAME_REGEX = RegExp(
    "^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"
  ),
  illegalAttributeNameCache = {},
  validatedAttributeNameCache = {};
function isAttributeNameSafe(attributeName) {
  if (hasOwnProperty.call(validatedAttributeNameCache, attributeName))
    return !0;
  if (hasOwnProperty.call(illegalAttributeNameCache, attributeName)) return !1;
  if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName))
    return (validatedAttributeNameCache[attributeName] = !0);
  illegalAttributeNameCache[attributeName] = !0;
  return !1;
}
function setValueForAttribute(node, name, value) {
  if (isAttributeNameSafe(name))
    if (null === value) node.removeAttribute(name);
    else {
      switch (typeof value) {
        case "undefined":
        case "function":
        case "symbol":
          node.removeAttribute(name);
          return;
        case "boolean":
          var prefix$10 = name.toLowerCase().slice(0, 5);
          if ("data-" !== prefix$10 && "aria-" !== prefix$10) {
            node.removeAttribute(name);
            return;
          }
      }
      node.setAttribute(name, "" + value);
    }
}
function setValueForKnownAttribute(node, name, value) {
  if (null === value) node.removeAttribute(name);
  else {
    switch (typeof value) {
      case "undefined":
      case "function":
      case "symbol":
      case "boolean":
        node.removeAttribute(name);
        return;
    }
    node.setAttribute(name, "" + value);
  }
}
function setValueForNamespacedAttribute(node, namespace, name, value) {
  if (null === value) node.removeAttribute(name);
  else {
    switch (typeof value) {
      case "undefined":
      case "function":
      case "symbol":
      case "boolean":
        node.removeAttribute(name);
        return;
    }
    node.setAttributeNS(namespace, name, "" + value);
  }
}
function getToStringValue(value) {
  switch (typeof value) {
    case "bigint":
    case "boolean":
    case "number":
    case "string":
    case "undefined":
      return value;
    case "object":
      return value;
    default:
      return "";
  }
}
function isCheckable(elem) {
  var type = elem.type;
  return (
    (elem = elem.nodeName) &&
    "input" === elem.toLowerCase() &&
    ("checkbox" === type || "radio" === type)
  );
}
function trackValueOnNode(node, valueField, currentValue) {
  var descriptor = Object.getOwnPropertyDescriptor(
    node.constructor.prototype,
    valueField
  );
  if (
    !node.hasOwnProperty(valueField) &&
    "undefined" !== typeof descriptor &&
    "function" === typeof descriptor.get &&
    "function" === typeof descriptor.set
  ) {
    var get = descriptor.get,
      set = descriptor.set;
    Object.defineProperty(node, valueField, {
      configurable: !0,
      get: function () {
        return get.call(this);
      },
      set: function (value) {
        currentValue = "" + value;
        set.call(this, value);
      }
    });
    Object.defineProperty(node, valueField, {
      enumerable: descriptor.enumerable
    });
    return {
      getValue: function () {
        return currentValue;
      },
      setValue: function (value) {
        currentValue = "" + value;
      },
      stopTracking: function () {
        node._valueTracker = null;
        delete node[valueField];
      }
    };
  }
}
function track(node) {
  if (!node._valueTracker) {
    var valueField = isCheckable(node) ? "checked" : "value";
    node._valueTracker = trackValueOnNode(
      node,
      valueField,
      "" + node[valueField]
    );
  }
}
function updateValueIfChanged(node) {
  if (!node) return !1;
  var tracker = node._valueTracker;
  if (!tracker) return !0;
  var lastValue = tracker.getValue();
  var value = "";
  node &&
    (value = isCheckable(node)
      ? node.checked
        ? "true"
        : "false"
      : node.value);
  node = value;
  return node !== lastValue ? (tracker.setValue(node), !0) : !1;
}
function getActiveElement(doc) {
  doc = doc || ("undefined" !== typeof document ? document : void 0);
  if ("undefined" === typeof doc) return null;
  try {
    return doc.activeElement || doc.body;
  } catch (e) {
    return doc.body;
  }
}
var escapeSelectorAttributeValueInsideDoubleQuotesRegex = /[\n"\\]/g;
function escapeSelectorAttributeValueInsideDoubleQuotes(value) {
  return value.replace(
    escapeSelectorAttributeValueInsideDoubleQuotesRegex,
    function (ch) {
      return "\\" + ch.charCodeAt(0).toString(16) + " ";
    }
  );
}
function updateInput(
  element,
  value,
  defaultValue,
  lastDefaultValue,
  checked,
  defaultChecked,
  type,
  name
) {
  element.name = "";
  null != type &&
  "function" !== typeof type &&
  "symbol" !== typeof type &&
  "boolean" !== typeof type
    ? (element.type = type)
    : element.removeAttribute("type");
  if (null != value)
    if ("number" === type) {
      if ((0 === value && "" === element.value) || element.value != value)
        element.value = "" + getToStringValue(value);
    } else
      element.value !== "" + getToStringValue(value) &&
        (element.value = "" + getToStringValue(value));
  else
    ("submit" !== type && "reset" !== type) || element.removeAttribute("value");
  null != value
    ? setDefaultValue(element, type, getToStringValue(value))
    : null != defaultValue
      ? setDefaultValue(element, type, getToStringValue(defaultValue))
      : null != lastDefaultValue && element.removeAttribute("value");
  null == checked &&
    null != defaultChecked &&
    (element.defaultChecked = !!defaultChecked);
  null != checked &&
    (element.checked =
      checked && "function" !== typeof checked && "symbol" !== typeof checked);
  null != name &&
  "function" !== typeof name &&
  "symbol" !== typeof name &&
  "boolean" !== typeof name
    ? (element.name = "" + getToStringValue(name))
    : element.removeAttribute("name");
}
function initInput(
  element,
  value,
  defaultValue,
  checked,
  defaultChecked,
  type,
  name,
  isHydrating
) {
  null != type &&
    "function" !== typeof type &&
    "symbol" !== typeof type &&
    "boolean" !== typeof type &&
    (element.type = type);
  if (null != value || null != defaultValue) {
    if (
      !(
        ("submit" !== type && "reset" !== type) ||
        (void 0 !== value && null !== value)
      )
    ) {
      track(element);
      return;
    }
    defaultValue =
      null != defaultValue ? "" + getToStringValue(defaultValue) : "";
    value = null != value ? "" + getToStringValue(value) : defaultValue;
    isHydrating || value === element.value || (element.value = value);
    element.defaultValue = value;
  }
  checked = null != checked ? checked : defaultChecked;
  checked =
    "function" !== typeof checked && "symbol" !== typeof checked && !!checked;
  element.checked = isHydrating ? element.checked : !!checked;
  element.defaultChecked = !!checked;
  null != name &&
    "function" !== typeof name &&
    "symbol" !== typeof name &&
    "boolean" !== typeof name &&
    (element.name = name);
  track(element);
}
function setDefaultValue(node, type, value) {
  ("number" === type && getActiveElement(node.ownerDocument) === node) ||
    node.defaultValue === "" + value ||
    (node.defaultValue = "" + value);
}
function updateOptions(node, multiple, propValue, setDefaultSelected) {
  node = node.options;
  if (multiple) {
    multiple = {};
    for (var i = 0; i < propValue.length; i++)
      multiple["$" + propValue[i]] = !0;
    for (propValue = 0; propValue < node.length; propValue++)
      (i = multiple.hasOwnProperty("$" + node[propValue].value)),
        node[propValue].selected !== i && (node[propValue].selected = i),
        i && setDefaultSelected && (node[propValue].defaultSelected = !0);
  } else {
    propValue = "" + getToStringValue(propValue);
    multiple = null;
    for (i = 0; i < node.length; i++) {
      if (node[i].value === propValue) {
        node[i].selected = !0;
        setDefaultSelected && (node[i].defaultSelected = !0);
        return;
      }
      null !== multiple || node[i].disabled || (multiple = node[i]);
    }
    null !== multiple && (multiple.selected = !0);
  }
}
function updateTextarea(element, value, defaultValue) {
  if (
    null != value &&
    ((value = "" + getToStringValue(value)),
    value !== element.value && (element.value = value),
    null == defaultValue)
  ) {
    element.defaultValue !== value && (element.defaultValue = value);
    return;
  }
  element.defaultValue =
    null != defaultValue ? "" + getToStringValue(defaultValue) : "";
}
function initTextarea(element, value, defaultValue, children) {
  if (null == value) {
    if (null != children) {
      if (null != defaultValue) throw Error(formatProdErrorMessage(92));
      if (isArrayImpl(children)) {
        if (1 < children.length) throw Error(formatProdErrorMessage(93));
        children = children[0];
      }
      defaultValue = children;
    }
    null == defaultValue && (defaultValue = "");
    value = defaultValue;
  }
  defaultValue = getToStringValue(value);
  element.defaultValue = defaultValue;
  children = element.textContent;
  children === defaultValue &&
    "" !== children &&
    null !== children &&
    (element.value = children);
  track(element);
}
function setTextContent(node, text) {
  if (text) {
    var firstChild = node.firstChild;
    if (
      firstChild &&
      firstChild === node.lastChild &&
      3 === firstChild.nodeType
    ) {
      firstChild.nodeValue = text;
      return;
    }
  }
  node.textContent = text;
}
var unitlessNumbers = new Set(
  "animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(
    " "
  )
);
function setValueForStyle(style, styleName, value) {
  var isCustomProperty = 0 === styleName.indexOf("--");
  null == value || "boolean" === typeof value || "" === value
    ? isCustomProperty
      ? style.setProperty(styleName, "")
      : "float" === styleName
        ? (style.cssFloat = "")
        : (style[styleName] = "")
    : isCustomProperty
      ? style.setProperty(styleName, value)
      : "number" !== typeof value ||
          0 === value ||
          unitlessNumbers.has(styleName)
        ? "float" === styleName
          ? (style.cssFloat = value)
          : (style[styleName] = ("" + value).trim())
        : (style[styleName] = value + "px");
}
function setValueForStyles(node, styles, prevStyles) {
  if (null != styles && "object" !== typeof styles)
    throw Error(formatProdErrorMessage(62));
  node = node.style;
  if (null != prevStyles) {
    for (var styleName in prevStyles)
      !prevStyles.hasOwnProperty(styleName) ||
        (null != styles && styles.hasOwnProperty(styleName)) ||
        (0 === styleName.indexOf("--")
          ? node.setProperty(styleName, "")
          : "float" === styleName
            ? (node.cssFloat = "")
            : (node[styleName] = ""));
    for (var styleName$16 in styles)
      (styleName = styles[styleName$16]),
        styles.hasOwnProperty(styleName$16) &&
          prevStyles[styleName$16] !== styleName &&
          setValueForStyle(node, styleName$16, styleName);
  } else
    for (var styleName$17 in styles)
      styles.hasOwnProperty(styleName$17) &&
        setValueForStyle(node, styleName$17, styles[styleName$17]);
}
function isCustomElement(tagName) {
  if (-1 === tagName.indexOf("-")) return !1;
  switch (tagName) {
    case "annotation-xml":
    case "color-profile":
    case "font-face":
    case "font-face-src":
    case "font-face-uri":
    case "font-face-format":
    case "font-face-name":
    case "missing-glyph":
      return !1;
    default:
      return !0;
  }
}
var aliases = new Map([
    ["acceptCharset", "accept-charset"],
    ["htmlFor", "for"],
    ["httpEquiv", "http-equiv"],
    ["crossOrigin", "crossorigin"],
    ["accentHeight", "accent-height"],
    ["alignmentBaseline", "alignment-baseline"],
    ["arabicForm", "arabic-form"],
    ["baselineShift", "baseline-shift"],
    ["capHeight", "cap-height"],
    ["clipPath", "clip-path"],
    ["clipRule", "clip-rule"],
    ["colorInterpolation", "color-interpolation"],
    ["colorInterpolationFilters", "color-interpolation-filters"],
    ["colorProfile", "color-profile"],
    ["colorRendering", "color-rendering"],
    ["dominantBaseline", "dominant-baseline"],
    ["enableBackground", "enable-background"],
    ["fillOpacity", "fill-opacity"],
    ["fillRule", "fill-rule"],
    ["floodColor", "flood-color"],
    ["floodOpacity", "flood-opacity"],
    ["fontFamily", "font-family"],
    ["fontSize", "font-size"],
    ["fontSizeAdjust", "font-size-adjust"],
    ["fontStretch", "font-stretch"],
    ["fontStyle", "font-style"],
    ["fontVariant", "font-variant"],
    ["fontWeight", "font-weight"],
    ["glyphName", "glyph-name"],
    ["glyphOrientationHorizontal", "glyph-orientation-horizontal"],
    ["glyphOrientationVertical", "glyph-orientation-vertical"],
    ["horizAdvX", "horiz-adv-x"],
    ["horizOriginX", "horiz-origin-x"],
    ["imageRendering", "image-rendering"],
    ["letterSpacing", "letter-spacing"],
    ["lightingColor", "lighting-color"],
    ["markerEnd", "marker-end"],
    ["markerMid", "marker-mid"],
    ["markerStart", "marker-start"],
    ["overlinePosition", "overline-position"],
    ["overlineThickness", "overline-thickness"],
    ["paintOrder", "paint-order"],
    ["panose-1", "panose-1"],
    ["pointerEvents", "pointer-events"],
    ["renderingIntent", "rendering-intent"],
    ["shapeRendering", "shape-rendering"],
    ["stopColor", "stop-color"],
    ["stopOpacity", "stop-opacity"],
    ["strikethroughPosition", "strikethrough-position"],
    ["strikethroughThickness", "strikethrough-thickness"],
    ["strokeDasharray", "stroke-dasharray"],
    ["strokeDashoffset", "stroke-dashoffset"],
    ["strokeLinecap", "stroke-linecap"],
    ["strokeLinejoin", "stroke-linejoin"],
    ["strokeMiterlimit", "stroke-miterlimit"],
    ["strokeOpacity", "stroke-opacity"],
    ["strokeWidth", "stroke-width"],
    ["textAnchor", "text-anchor"],
    ["textDecoration", "text-decoration"],
    ["textRendering", "text-rendering"],
    ["transformOrigin", "transform-origin"],
    ["underlinePosition", "underline-position"],
    ["underlineThickness", "underline-thickness"],
    ["unicodeBidi", "unicode-bidi"],
    ["unicodeRange", "unicode-range"],
    ["unitsPerEm", "units-per-em"],
    ["vAlphabetic", "v-alphabetic"],
    ["vHanging", "v-hanging"],
    ["vIdeographic", "v-ideographic"],
    ["vMathematical", "v-mathematical"],
    ["vectorEffect", "vector-effect"],
    ["vertAdvY", "vert-adv-y"],
    ["vertOriginX", "vert-origin-x"],
    ["vertOriginY", "vert-origin-y"],
    ["wordSpacing", "word-spacing"],
    ["writingMode", "writing-mode"],
    ["xmlnsXlink", "xmlns:xlink"],
    ["xHeight", "x-height"]
  ]),
  isJavaScriptProtocol =
    /^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;
function sanitizeURL(url) {
  return isJavaScriptProtocol.test("" + url)
    ? "javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')"
    : url;
}
function noop$1() {}
var currentReplayingEvent = null;
function getEventTarget(nativeEvent) {
  nativeEvent = nativeEvent.target || nativeEvent.srcElement || window;
  nativeEvent.correspondingUseElement &&
    (nativeEvent = nativeEvent.correspondingUseElement);
  return 3 === nativeEvent.nodeType ? nativeEvent.parentNode : nativeEvent;
}
var restoreTarget = null,
  restoreQueue = null;
function restoreStateOfTarget(target) {
  var internalInstance = getInstanceFromNode(target);
  if (internalInstance && (target = internalInstance.stateNode)) {
    var props = target[internalPropsKey] || null;
    a: switch (((target = internalInstance.stateNode), internalInstance.type)) {
      case "input":
        updateInput(
          target,
          props.value,
          props.defaultValue,
          props.defaultValue,
          props.checked,
          props.defaultChecked,
          props.type,
          props.name
        );
        internalInstance = props.name;
        if ("radio" === props.type && null != internalInstance) {
          for (props = target; props.parentNode; ) props = props.parentNode;
          props = props.querySelectorAll(
            'input[name="' +
              escapeSelectorAttributeValueInsideDoubleQuotes(
                "" + internalInstance
              ) +
              '"][type="radio"]'
          );
          for (
            internalInstance = 0;
            internalInstance < props.length;
            internalInstance++
          ) {
            var otherNode = props[internalInstance];
            if (otherNode !== target && otherNode.form === target.form) {
              var otherProps = otherNode[internalPropsKey] || null;
              if (!otherProps) throw Error(formatProdErrorMessage(90));
              updateInput(
                otherNode,
                otherProps.value,
                otherProps.defaultValue,
                otherProps.defaultValue,
                otherProps.checked,
                otherProps.defaultChecked,
                otherProps.type,
                otherProps.name
              );
            }
          }
          for (
            internalInstance = 0;
            internalInstance < props.length;
            internalInstance++
          )
            (otherNode = props[internalInstance]),
              otherNode.form === target.form && updateValueIfChanged(otherNode);
        }
        break a;
      case "textarea":
        updateTextarea(target, props.value, props.defaultValue);
        break a;
      case "select":
        (internalInstance = props.value),
          null != internalInstance &&
            updateOptions(target, !!props.multiple, internalInstance, !1);
    }
  }
}
var isInsideEventHandler = !1;
function batchedUpdates$1(fn, a, b) {
  if (isInsideEventHandler) return fn(a, b);
  isInsideEventHandler = !0;
  try {
    var JSCompiler_inline_result = fn(a);
    return JSCompiler_inline_result;
  } finally {
    if (
      ((isInsideEventHandler = !1),
      null !== restoreTarget || null !== restoreQueue)
    )
      if (
        (flushSyncWork$1(),
        restoreTarget &&
          ((a = restoreTarget),
          (fn = restoreQueue),
          (restoreQueue = restoreTarget = null),
          restoreStateOfTarget(a),
          fn))
      )
        for (a = 0; a < fn.length; a++) restoreStateOfTarget(fn[a]);
  }
}
function getListener(inst, registrationName) {
  var stateNode = inst.stateNode;
  if (null === stateNode) return null;
  var props = stateNode[internalPropsKey] || null;
  if (null === props) return null;
  stateNode = props[registrationName];
  a: switch (registrationName) {
    case "onClick":
    case "onClickCapture":
    case "onDoubleClick":
    case "onDoubleClickCapture":
    case "onMouseDown":
    case "onMouseDownCapture":
    case "onMouseMove":
    case "onMouseMoveCapture":
    case "onMouseUp":
    case "onMouseUpCapture":
    case "onMouseEnter":
      (props = !props.disabled) ||
        ((inst = inst.type),
        (props = !(
          "button" === inst ||
          "input" === inst ||
          "select" === inst ||
          "textarea" === inst
        )));
      inst = !props;
      break a;
    default:
      inst = !1;
  }
  if (inst) return null;
  if (stateNode && "function" !== typeof stateNode)
    throw Error(
      formatProdErrorMessage(231, registrationName, typeof stateNode)
    );
  return stateNode;
}
var canUseDOM = !(
    "undefined" === typeof window ||
    "undefined" === typeof window.document ||
    "undefined" === typeof window.document.createElement
  ),
  passiveBrowserEventsSupported = !1;
if (canUseDOM)
  try {
    var options = {};
    Object.defineProperty(options, "passive", {
      get: function () {
        passiveBrowserEventsSupported = !0;
      }
    });
    window.addEventListener("test", options, options);
    window.removeEventListener("test", options, options);
  } catch (e) {
    passiveBrowserEventsSupported = !1;
  }
var root = null,
  startText = null,
  fallbackText = null;
function getData() {
  if (fallbackText) return fallbackText;
  var start,
    startValue = startText,
    startLength = startValue.length,
    end,
    endValue = "value" in root ? root.value : root.textContent,
    endLength = endValue.length;
  for (
    start = 0;
    start < startLength && startValue[start] === endValue[start];
    start++
  );
  var minEnd = startLength - start;
  for (
    end = 1;
    end <= minEnd &&
    startValue[startLength - end] === endValue[endLength - end];
    end++
  );
  return (fallbackText = endValue.slice(start, 1 < end ? 1 - end : void 0));
}
function getEventCharCode(nativeEvent) {
  var keyCode = nativeEvent.keyCode;
  "charCode" in nativeEvent
    ? ((nativeEvent = nativeEvent.charCode),
      0 === nativeEvent && 13 === keyCode && (nativeEvent = 13))
    : (nativeEvent = keyCode);
  10 === nativeEvent && (nativeEvent = 13);
  return 32 <= nativeEvent || 13 === nativeEvent ? nativeEvent : 0;
}
function functionThatReturnsTrue() {
  return !0;
}
function functionThatReturnsFalse() {
  return !1;
}
function createSyntheticEvent(Interface) {
  function SyntheticBaseEvent(
    reactName,
    reactEventType,
    targetInst,
    nativeEvent,
    nativeEventTarget
  ) {
    this._reactName = reactName;
    this._targetInst = targetInst;
    this.type = reactEventType;
    this.nativeEvent = nativeEvent;
    this.target = nativeEventTarget;
    this.currentTarget = null;
    for (var propName in Interface)
      Interface.hasOwnProperty(propName) &&
        ((reactName = Interface[propName]),
        (this[propName] = reactName
          ? reactName(nativeEvent)
          : nativeEvent[propName]));
    this.isDefaultPrevented = (
      null != nativeEvent.defaultPrevented
        ? nativeEvent.defaultPrevented
        : !1 === nativeEvent.returnValue
    )
      ? functionThatReturnsTrue
      : functionThatReturnsFalse;
    this.isPropagationStopped = functionThatReturnsFalse;
    return this;
  }
  assign(SyntheticBaseEvent.prototype, {
    preventDefault: function () {
      this.defaultPrevented = !0;
      var event = this.nativeEvent;
      event &&
        (event.preventDefault
          ? event.preventDefault()
          : "unknown" !== typeof event.returnValue && (event.returnValue = !1),
        (this.isDefaultPrevented = functionThatReturnsTrue));
    },
    stopPropagation: function () {
      var event = this.nativeEvent;
      event &&
        (event.stopPropagation
          ? event.stopPropagation()
          : "unknown" !== typeof event.cancelBubble &&
            (event.cancelBubble = !0),
        (this.isPropagationStopped = functionThatReturnsTrue));
    },
    persist: function () {},
    isPersistent: functionThatReturnsTrue
  });
  return SyntheticBaseEvent;
}
var EventInterface = {
    eventPhase: 0,
    bubbles: 0,
    cancelable: 0,
    timeStamp: function (event) {
      return event.timeStamp || Date.now();
    },
    defaultPrevented: 0,
    isTrusted: 0
  },
  SyntheticEvent = createSyntheticEvent(EventInterface),
  UIEventInterface = assign({}, EventInterface, { view: 0, detail: 0 }),
  SyntheticUIEvent = createSyntheticEvent(UIEventInterface),
  lastMovementX,
  lastMovementY,
  lastMouseEvent,
  MouseEventInterface = assign({}, UIEventInterface, {
    screenX: 0,
    screenY: 0,
    clientX: 0,
    clientY: 0,
    pageX: 0,
    pageY: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    getModifierState: getEventModifierState,
    button: 0,
    buttons: 0,
    relatedTarget: function (event) {
      return void 0 === event.relatedTarget
        ? event.fromElement === event.srcElement
          ? event.toElement
          : event.fromElement
        : event.relatedTarget;
    },
    movementX: function (event) {
      if ("movementX" in event) return event.movementX;
      event !== lastMouseEvent &&
        (lastMouseEvent && "mousemove" === event.type
          ? ((lastMovementX = event.screenX - lastMouseEvent.screenX),
            (lastMovementY = event.screenY - lastMouseEvent.screenY))
          : (lastMovementY = lastMovementX = 0),
        (lastMouseEvent = event));
      return lastMovementX;
    },
    movementY: function (event) {
      return "movementY" in event ? event.movementY : lastMovementY;
    }
  }),
  SyntheticMouseEvent = createSyntheticEvent(MouseEventInterface),
  DragEventInterface = assign({}, MouseEventInterface, { dataTransfer: 0 }),
  SyntheticDragEvent = createSyntheticEvent(DragEventInterface),
  FocusEventInterface = assign({}, UIEventInterface, { relatedTarget: 0 }),
  SyntheticFocusEvent = createSyntheticEvent(FocusEventInterface),
  AnimationEventInterface = assign({}, EventInterface, {
    animationName: 0,
    elapsedTime: 0,
    pseudoElement: 0
  }),
  SyntheticAnimationEvent = createSyntheticEvent(AnimationEventInterface),
  ClipboardEventInterface = assign({}, EventInterface, {
    clipboardData: function (event) {
      return "clipboardData" in event
        ? event.clipboardData
        : window.clipboardData;
    }
  }),
  SyntheticClipboardEvent = createSyntheticEvent(ClipboardEventInterface),
  CompositionEventInterface = assign({}, EventInterface, { data: 0 }),
  SyntheticCompositionEvent = createSyntheticEvent(CompositionEventInterface),
  normalizeKey = {
    Esc: "Escape",
    Spacebar: " ",
    Left: "ArrowLeft",
    Up: "ArrowUp",
    Right: "ArrowRight",
    Down: "ArrowDown",
    Del: "Delete",
    Win: "OS",
    Menu: "ContextMenu",
    Apps: "ContextMenu",
    Scroll: "ScrollLock",
    MozPrintableKey: "Unidentified"
  },
  translateToKey = {
    8: "Backspace",
    9: "Tab",
    12: "Clear",
    13: "Enter",
    16: "Shift",
    17: "Control",
    18: "Alt",
    19: "Pause",
    20: "CapsLock",
    27: "Escape",
    32: " ",
    33: "PageUp",
    34: "PageDown",
    35: "End",
    36: "Home",
    37: "ArrowLeft",
    38: "ArrowUp",
    39: "ArrowRight",
    40: "ArrowDown",
    45: "Insert",
    46: "Delete",
    112: "F1",
    113: "F2",
    114: "F3",
    115: "F4",
    116: "F5",
    117: "F6",
    118: "F7",
    119: "F8",
    120: "F9",
    121: "F10",
    122: "F11",
    123: "F12",
    144: "NumLock",
    145: "ScrollLock",
    224: "Meta"
  },
  modifierKeyToProp = {
    Alt: "altKey",
    Control: "ctrlKey",
    Meta: "metaKey",
    Shift: "shiftKey"
  };
function modifierStateGetter(keyArg) {
  var nativeEvent = this.nativeEvent;
  return nativeEvent.getModifierState
    ? nativeEvent.getModifierState(keyArg)
    : (keyArg = modifierKeyToProp[keyArg])
      ? !!nativeEvent[keyArg]
      : !1;
}
function getEventModifierState() {
  return modifierStateGetter;
}
var KeyboardEventInterface = assign({}, UIEventInterface, {
    key: function (nativeEvent) {
      if (nativeEvent.key) {
        var key = normalizeKey[nativeEvent.key] || nativeEvent.key;
        if ("Unidentified" !== key) return key;
      }
      return "keypress" === nativeEvent.type
        ? ((nativeEvent = getEventCharCode(nativeEvent)),
          13 === nativeEvent ? "Enter" : String.fromCharCode(nativeEvent))
        : "keydown" === nativeEvent.type || "keyup" === nativeEvent.type
          ? translateToKey[nativeEvent.keyCode] || "Unidentified"
          : "";
    },
    code: 0,
    location: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    repeat: 0,
    locale: 0,
    getModifierState: getEventModifierState,
    charCode: function (event) {
      return "keypress" === event.type ? getEventCharCode(event) : 0;
    },
    keyCode: function (event) {
      return "keydown" === event.type || "keyup" === event.type
        ? event.keyCode
        : 0;
    },
    which: function (event) {
      return "keypress" === event.type
        ? getEventCharCode(event)
        : "keydown" === event.type || "keyup" === event.type
          ? event.keyCode
          : 0;
    }
  }),
  SyntheticKeyboardEvent = createSyntheticEvent(KeyboardEventInterface),
  PointerEventInterface = assign({}, MouseEventInterface, {
    pointerId: 0,
    width: 0,
    height: 0,
    pressure: 0,
    tangentialPressure: 0,
    tiltX: 0,
    tiltY: 0,
    twist: 0,
    pointerType: 0,
    isPrimary: 0
  }),
  SyntheticPointerEvent = createSyntheticEvent(PointerEventInterface),
  TouchEventInterface = assign({}, UIEventInterface, {
    touches: 0,
    targetTouches: 0,
    changedTouches: 0,
    altKey: 0,
    metaKey: 0,
    ctrlKey: 0,
    shiftKey: 0,
    getModifierState: getEventModifierState
  }),
  SyntheticTouchEvent = createSyntheticEvent(TouchEventInterface),
  TransitionEventInterface = assign({}, EventInterface, {
    propertyName: 0,
    elapsedTime: 0,
    pseudoElement: 0
  }),
  SyntheticTransitionEvent = createSyntheticEvent(TransitionEventInterface),
  WheelEventInterface = assign({}, MouseEventInterface, {
    deltaX: function (event) {
      return "deltaX" in event
        ? event.deltaX
        : "wheelDeltaX" in event
          ? -event.wheelDeltaX
          : 0;
    },
    deltaY: function (event) {
      return "deltaY" in event
        ? event.deltaY
        : "wheelDeltaY" in event
          ? -event.wheelDeltaY
          : "wheelDelta" in event
            ? -event.wheelDelta
            : 0;
    },
    deltaZ: 0,
    deltaMode: 0
  }),
  SyntheticWheelEvent = createSyntheticEvent(WheelEventInterface),
  ToggleEventInterface = assign({}, EventInterface, {
    newState: 0,
    oldState: 0
  }),
  SyntheticToggleEvent = createSyntheticEvent(ToggleEventInterface),
  END_KEYCODES = [9, 13, 27, 32],
  canUseCompositionEvent = canUseDOM && "CompositionEvent" in window,
  documentMode = null;
canUseDOM &&
  "documentMode" in document &&
  (documentMode = document.documentMode);
var canUseTextInputEvent = canUseDOM && "TextEvent" in window && !documentMode,
  useFallbackCompositionData =
    canUseDOM &&
    (!canUseCompositionEvent ||
      (documentMode && 8 < documentMode && 11 >= documentMode)),
  SPACEBAR_CHAR = String.fromCharCode(32),
  hasSpaceKeypress = !1;
function isFallbackCompositionEnd(domEventName, nativeEvent) {
  switch (domEventName) {
    case "keyup":
      return -1 !== END_KEYCODES.indexOf(nativeEvent.keyCode);
    case "keydown":
      return 229 !== nativeEvent.keyCode;
    case "keypress":
    case "mousedown":
    case "focusout":
      return !0;
    default:
      return !1;
  }
}
function getDataFromCustomEvent(nativeEvent) {
  nativeEvent = nativeEvent.detail;
  return "object" === typeof nativeEvent && "data" in nativeEvent
    ? nativeEvent.data
    : null;
}
var isComposing = !1;
function getNativeBeforeInputChars(domEventName, nativeEvent) {
  switch (domEventName) {
    case "compositionend":
      return getDataFromCustomEvent(nativeEvent);
    case "keypress":
      if (32 !== nativeEvent.which) return null;
      hasSpaceKeypress = !0;
      return SPACEBAR_CHAR;
    case "textInput":
      return (
        (domEventName = nativeEvent.data),
        domEventName === SPACEBAR_CHAR && hasSpaceKeypress ? null : domEventName
      );
    default:
      return null;
  }
}
function getFallbackBeforeInputChars(domEventName, nativeEvent) {
  if (isComposing)
    return "compositionend" === domEventName ||
      (!canUseCompositionEvent &&
        isFallbackCompositionEnd(domEventName, nativeEvent))
      ? ((domEventName = getData()),
        (fallbackText = startText = root = null),
        (isComposing = !1),
        domEventName)
      : null;
  switch (domEventName) {
    case "paste":
      return null;
    case "keypress":
      if (
        !(nativeEvent.ctrlKey || nativeEvent.altKey || nativeEvent.metaKey) ||
        (nativeEvent.ctrlKey && nativeEvent.altKey)
      ) {
        if (nativeEvent.char && 1 < nativeEvent.char.length)
          return nativeEvent.char;
        if (nativeEvent.which) return String.fromCharCode(nativeEvent.which);
      }
      return null;
    case "compositionend":
      return useFallbackCompositionData && "ko" !== nativeEvent.locale
        ? null
        : nativeEvent.data;
    default:
      return null;
  }
}
var supportedInputTypes = {
  color: !0,
  date: !0,
  datetime: !0,
  "datetime-local": !0,
  email: !0,
  month: !0,
  number: !0,
  password: !0,
  range: !0,
  search: !0,
  tel: !0,
  text: !0,
  time: !0,
  url: !0,
  week: !0
};
function isTextInputElement(elem) {
  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();
  return "input" === nodeName
    ? !!supportedInputTypes[elem.type]
    : "textarea" === nodeName
      ? !0
      : !1;
}
function createAndAccumulateChangeEvent(
  dispatchQueue,
  inst,
  nativeEvent,
  target
) {
  restoreTarget
    ? restoreQueue
      ? restoreQueue.push(target)
      : (restoreQueue = [target])
    : (restoreTarget = target);
  inst = accumulateTwoPhaseListeners(inst, "onChange");
  0 < inst.length &&
    ((nativeEvent = new SyntheticEvent(
      "onChange",
      "change",
      null,
      nativeEvent,
      target
    )),
    dispatchQueue.push({ event: nativeEvent, listeners: inst }));
}
var activeElement$1 = null,
  activeElementInst$1 = null;
function runEventInBatch(dispatchQueue) {
  processDispatchQueue(dispatchQueue, 0);
}
function getInstIfValueChanged(targetInst) {
  var targetNode = getNodeFromInstance(targetInst);
  if (updateValueIfChanged(targetNode)) return targetInst;
}
function getTargetInstForChangeEvent(domEventName, targetInst) {
  if ("change" === domEventName) return targetInst;
}
var isInputEventSupported = !1;
if (canUseDOM) {
  var JSCompiler_inline_result$jscomp$286;
  if (canUseDOM) {
    var isSupported$jscomp$inline_427 = "oninput" in document;
    if (!isSupported$jscomp$inline_427) {
      var element$jscomp$inline_428 = document.createElement("div");
      element$jscomp$inline_428.setAttribute("oninput", "return;");
      isSupported$jscomp$inline_427 =
        "function" === typeof element$jscomp$inline_428.oninput;
    }
    JSCompiler_inline_result$jscomp$286 = isSupported$jscomp$inline_427;
  } else JSCompiler_inline_result$jscomp$286 = !1;
  isInputEventSupported =
    JSCompiler_inline_result$jscomp$286 &&
    (!document.documentMode || 9 < document.documentMode);
}
function stopWatchingForValueChange() {
  activeElement$1 &&
    (activeElement$1.detachEvent("onpropertychange", handlePropertyChange),
    (activeElementInst$1 = activeElement$1 = null));
}
function handlePropertyChange(nativeEvent) {
  if (
    "value" === nativeEvent.propertyName &&
    getInstIfValueChanged(activeElementInst$1)
  ) {
    var dispatchQueue = [];
    createAndAccumulateChangeEvent(
      dispatchQueue,
      activeElementInst$1,
      nativeEvent,
      getEventTarget(nativeEvent)
    );
    batchedUpdates$1(runEventInBatch, dispatchQueue);
  }
}
function handleEventsForInputEventPolyfill(domEventName, target, targetInst) {
  "focusin" === domEventName
    ? (stopWatchingForValueChange(),
      (activeElement$1 = target),
      (activeElementInst$1 = targetInst),
      activeElement$1.attachEvent("onpropertychange", handlePropertyChange))
    : "focusout" === domEventName && stopWatchingForValueChange();
}
function getTargetInstForInputEventPolyfill(domEventName) {
  if (
    "selectionchange" === domEventName ||
    "keyup" === domEventName ||
    "keydown" === domEventName
  )
    return getInstIfValueChanged(activeElementInst$1);
}
function getTargetInstForClickEvent(domEventName, targetInst) {
  if ("click" === domEventName) return getInstIfValueChanged(targetInst);
}
function getTargetInstForInputOrChangeEvent(domEventName, targetInst) {
  if ("input" === domEventName || "change" === domEventName)
    return getInstIfValueChanged(targetInst);
}
function is(x, y) {
  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);
}
var objectIs = "function" === typeof Object.is ? Object.is : is;
function shallowEqual(objA, objB) {
  if (objectIs(objA, objB)) return !0;
  if (
    "object" !== typeof objA ||
    null === objA ||
    "object" !== typeof objB ||
    null === objB
  )
    return !1;
  var keysA = Object.keys(objA),
    keysB = Object.keys(objB);
  if (keysA.length !== keysB.length) return !1;
  for (keysB = 0; keysB < keysA.length; keysB++) {
    var currentKey = keysA[keysB];
    if (
      !hasOwnProperty.call(objB, currentKey) ||
      !objectIs(objA[currentKey], objB[currentKey])
    )
      return !1;
  }
  return !0;
}
function getLeafNode(node) {
  for (; node && node.firstChild; ) node = node.firstChild;
  return node;
}
function getNodeForCharacterOffset(root, offset) {
  var node = getLeafNode(root);
  root = 0;
  for (var nodeEnd; node; ) {
    if (3 === node.nodeType) {
      nodeEnd = root + node.textContent.length;
      if (root <= offset && nodeEnd >= offset)
        return { node: node, offset: offset - root };
      root = nodeEnd;
    }
    a: {
      for (; node; ) {
        if (node.nextSibling) {
          node = node.nextSibling;
          break a;
        }
        node = node.parentNode;
      }
      node = void 0;
    }
    node = getLeafNode(node);
  }
}
function containsNode(outerNode, innerNode) {
  return outerNode && innerNode
    ? outerNode === innerNode
      ? !0
      : outerNode && 3 === outerNode.nodeType
        ? !1
        : innerNode && 3 === innerNode.nodeType
          ? containsNode(outerNode, innerNode.parentNode)
          : "contains" in outerNode
            ? outerNode.contains(innerNode)
            : outerNode.compareDocumentPosition
              ? !!(outerNode.compareDocumentPosition(innerNode) & 16)
              : !1
    : !1;
}
function getActiveElementDeep(containerInfo) {
  containerInfo =
    null != containerInfo &&
    null != containerInfo.ownerDocument &&
    null != containerInfo.ownerDocument.defaultView
      ? containerInfo.ownerDocument.defaultView
      : window;
  for (
    var element = getActiveElement(containerInfo.document);
    element instanceof containerInfo.HTMLIFrameElement;

  ) {
    try {
      var JSCompiler_inline_result =
        "string" === typeof element.contentWindow.location.href;
    } catch (err) {
      JSCompiler_inline_result = !1;
    }
    if (JSCompiler_inline_result) containerInfo = element.contentWindow;
    else break;
    element = getActiveElement(containerInfo.document);
  }
  return element;
}
function hasSelectionCapabilities(elem) {
  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();
  return (
    nodeName &&
    (("input" === nodeName &&
      ("text" === elem.type ||
        "search" === elem.type ||
        "tel" === elem.type ||
        "url" === elem.type ||
        "password" === elem.type)) ||
      "textarea" === nodeName ||
      "true" === elem.contentEditable)
  );
}
var skipSelectionChangeEvent =
    canUseDOM && "documentMode" in document && 11 >= document.documentMode,
  activeElement = null,
  activeElementInst = null,
  lastSelection = null,
  mouseDown = !1;
function constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget) {
  var doc =
    nativeEventTarget.window === nativeEventTarget
      ? nativeEventTarget.document
      : 9 === nativeEventTarget.nodeType
        ? nativeEventTarget
        : nativeEventTarget.ownerDocument;
  mouseDown ||
    null == activeElement ||
    activeElement !== getActiveElement(doc) ||
    ((doc = activeElement),
    "selectionStart" in doc && hasSelectionCapabilities(doc)
      ? (doc = { start: doc.selectionStart, end: doc.selectionEnd })
      : ((doc = (
          (doc.ownerDocument && doc.ownerDocument.defaultView) ||
          window
        ).getSelection()),
        (doc = {
          anchorNode: doc.anchorNode,
          anchorOffset: doc.anchorOffset,
          focusNode: doc.focusNode,
          focusOffset: doc.focusOffset
        })),
    (lastSelection && shallowEqual(lastSelection, doc)) ||
      ((lastSelection = doc),
      (doc = accumulateTwoPhaseListeners(activeElementInst, "onSelect")),
      0 < doc.length &&
        ((nativeEvent = new SyntheticEvent(
          "onSelect",
          "select",
          null,
          nativeEvent,
          nativeEventTarget
        )),
        dispatchQueue.push({ event: nativeEvent, listeners: doc }),
        (nativeEvent.target = activeElement))));
}
function makePrefixMap(styleProp, eventName) {
  var prefixes = {};
  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();
  prefixes["Webkit" + styleProp] = "webkit" + eventName;
  prefixes["Moz" + styleProp] = "moz" + eventName;
  return prefixes;
}
var vendorPrefixes = {
    animationend: makePrefixMap("Animation", "AnimationEnd"),
    animationiteration: makePrefixMap("Animation", "AnimationIteration"),
    animationstart: makePrefixMap("Animation", "AnimationStart"),
    transitionrun: makePrefixMap("Transition", "TransitionRun"),
    transitionstart: makePrefixMap("Transition", "TransitionStart"),
    transitioncancel: makePrefixMap("Transition", "TransitionCancel"),
    transitionend: makePrefixMap("Transition", "TransitionEnd")
  },
  prefixedEventNames = {},
  style = {};
canUseDOM &&
  ((style = document.createElement("div").style),
  "AnimationEvent" in window ||
    (delete vendorPrefixes.animationend.animation,
    delete vendorPrefixes.animationiteration.animation,
    delete vendorPrefixes.animationstart.animation),
  "TransitionEvent" in window ||
    delete vendorPrefixes.transitionend.transition);
function getVendorPrefixedEventName(eventName) {
  if (prefixedEventNames[eventName]) return prefixedEventNames[eventName];
  if (!vendorPrefixes[eventName]) return eventName;
  var prefixMap = vendorPrefixes[eventName],
    styleProp;
  for (styleProp in prefixMap)
    if (prefixMap.hasOwnProperty(styleProp) && styleProp in style)
      return (prefixedEventNames[eventName] = prefixMap[styleProp]);
  return eventName;
}
var ANIMATION_END = getVendorPrefixedEventName("animationend"),
  ANIMATION_ITERATION = getVendorPrefixedEventName("animationiteration"),
  ANIMATION_START = getVendorPrefixedEventName("animationstart"),
  TRANSITION_RUN = getVendorPrefixedEventName("transitionrun"),
  TRANSITION_START = getVendorPrefixedEventName("transitionstart"),
  TRANSITION_CANCEL = getVendorPrefixedEventName("transitioncancel"),
  TRANSITION_END = getVendorPrefixedEventName("transitionend"),
  topLevelEventsToReactNames = new Map(),
  simpleEventPluginEvents =
    "abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(
      " "
    );
simpleEventPluginEvents.push("scrollEnd");
function registerSimpleEvent(domEventName, reactName) {
  topLevelEventsToReactNames.set(domEventName, reactName);
  registerTwoPhaseEvent(reactName, [domEventName]);
}
var reportGlobalError =
    "function" === typeof reportError
      ? reportError
      : function (error) {
          if (
            "object" === typeof window &&
            "function" === typeof window.ErrorEvent
          ) {
            var event = new window.ErrorEvent("error", {
              bubbles: !0,
              cancelable: !0,
              message:
                "object" === typeof error &&
                null !== error &&
                "string" === typeof error.message
                  ? String(error.message)
                  : String(error),
              error: error
            });
            if (!window.dispatchEvent(event)) return;
          } else if (
            "object" === typeof process &&
            "function" === typeof process.emit
          ) {
            process.emit("uncaughtException", error);
            return;
          }
          console.error(error);
        },
  concurrentQueues = [],
  concurrentQueuesIndex = 0,
  concurrentlyUpdatedLanes = 0;
function finishQueueingConcurrentUpdates() {
  for (
    var endIndex = concurrentQueuesIndex,
      i = (concurrentlyUpdatedLanes = concurrentQueuesIndex = 0);
    i < endIndex;

  ) {
    var fiber = concurrentQueues[i];
    concurrentQueues[i++] = null;
    var queue = concurrentQueues[i];
    concurrentQueues[i++] = null;
    var update = concurrentQueues[i];
    concurrentQueues[i++] = null;
    var lane = concurrentQueues[i];
    concurrentQueues[i++] = null;
    if (null !== queue && null !== update) {
      var pending = queue.pending;
      null === pending
        ? (update.next = update)
        : ((update.next = pending.next), (pending.next = update));
      queue.pending = update;
    }
    0 !== lane && markUpdateLaneFromFiberToRoot(fiber, update, lane);
  }
}
function enqueueUpdate$1(fiber, queue, update, lane) {
  concurrentQueues[concurrentQueuesIndex++] = fiber;
  concurrentQueues[concurrentQueuesIndex++] = queue;
  concurrentQueues[concurrentQueuesIndex++] = update;
  concurrentQueues[concurrentQueuesIndex++] = lane;
  concurrentlyUpdatedLanes |= lane;
  fiber.lanes |= lane;
  fiber = fiber.alternate;
  null !== fiber && (fiber.lanes |= lane);
}
function enqueueConcurrentHookUpdate(fiber, queue, update, lane) {
  enqueueUpdate$1(fiber, queue, update, lane);
  return getRootForUpdatedFiber(fiber);
}
function enqueueConcurrentRenderForLane(fiber, lane) {
  enqueueUpdate$1(fiber, null, null, lane);
  return getRootForUpdatedFiber(fiber);
}
function markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {
  sourceFiber.lanes |= lane;
  var alternate = sourceFiber.alternate;
  null !== alternate && (alternate.lanes |= lane);
  for (var isHidden = !1, parent = sourceFiber.return; null !== parent; )
    (parent.childLanes |= lane),
      (alternate = parent.alternate),
      null !== alternate && (alternate.childLanes |= lane),
      22 === parent.tag &&
        ((sourceFiber = parent.stateNode),
        null === sourceFiber || sourceFiber._visibility & 1 || (isHidden = !0)),
      (sourceFiber = parent),
      (parent = parent.return);
  return 3 === sourceFiber.tag
    ? ((parent = sourceFiber.stateNode),
      isHidden &&
        null !== update &&
        ((isHidden = 31 - clz32(lane)),
        (sourceFiber = parent.hiddenUpdates),
        (alternate = sourceFiber[isHidden]),
        null === alternate
          ? (sourceFiber[isHidden] = [update])
          : alternate.push(update),
        (update.lane = lane | 536870912)),
      parent)
    : null;
}
function getRootForUpdatedFiber(sourceFiber) {
  if (50 < nestedUpdateCount)
    throw (
      ((nestedUpdateCount = 0),
      (rootWithNestedUpdates = null),
      Error(formatProdErrorMessage(185)))
    );
  for (var parent = sourceFiber.return; null !== parent; )
    (sourceFiber = parent), (parent = sourceFiber.return);
  return 3 === sourceFiber.tag ? sourceFiber.stateNode : null;
}
var emptyContextObject = {};
function FiberNode(tag, pendingProps, key, mode) {
  this.tag = tag;
  this.key = key;
  this.sibling =
    this.child =
    this.return =
    this.stateNode =
    this.type =
    this.elementType =
      null;
  this.index = 0;
  this.refCleanup = this.ref = null;
  this.pendingProps = pendingProps;
  this.dependencies =
    this.memoizedState =
    this.updateQueue =
    this.memoizedProps =
      null;
  this.mode = mode;
  this.subtreeFlags = this.flags = 0;
  this.deletions = null;
  this.childLanes = this.lanes = 0;
  this.alternate = null;
}
function createFiberImplClass(tag, pendingProps, key, mode) {
  return new FiberNode(tag, pendingProps, key, mode);
}
function shouldConstruct(Component) {
  Component = Component.prototype;
  return !(!Component || !Component.isReactComponent);
}
function createWorkInProgress(current, pendingProps) {
  var workInProgress = current.alternate;
  null === workInProgress
    ? ((workInProgress = createFiberImplClass(
        current.tag,
        pendingProps,
        current.key,
        current.mode
      )),
      (workInProgress.elementType = current.elementType),
      (workInProgress.type = current.type),
      (workInProgress.stateNode = current.stateNode),
      (workInProgress.alternate = current),
      (current.alternate = workInProgress))
    : ((workInProgress.pendingProps = pendingProps),
      (workInProgress.type = current.type),
      (workInProgress.flags = 0),
      (workInProgress.subtreeFlags = 0),
      (workInProgress.deletions = null));
  workInProgress.flags = current.flags & 65011712;
  workInProgress.childLanes = current.childLanes;
  workInProgress.lanes = current.lanes;
  workInProgress.child = current.child;
  workInProgress.memoizedProps = current.memoizedProps;
  workInProgress.memoizedState = current.memoizedState;
  workInProgress.updateQueue = current.updateQueue;
  pendingProps = current.dependencies;
  workInProgress.dependencies =
    null === pendingProps
      ? null
      : { lanes: pendingProps.lanes, firstContext: pendingProps.firstContext };
  workInProgress.sibling = current.sibling;
  workInProgress.index = current.index;
  workInProgress.ref = current.ref;
  workInProgress.refCleanup = current.refCleanup;
  return workInProgress;
}
function resetWorkInProgress(workInProgress, renderLanes) {
  workInProgress.flags &= 65011714;
  var current = workInProgress.alternate;
  null === current
    ? ((workInProgress.childLanes = 0),
      (workInProgress.lanes = renderLanes),
      (workInProgress.child = null),
      (workInProgress.subtreeFlags = 0),
      (workInProgress.memoizedProps = null),
      (workInProgress.memoizedState = null),
      (workInProgress.updateQueue = null),
      (workInProgress.dependencies = null),
      (workInProgress.stateNode = null))
    : ((workInProgress.childLanes = current.childLanes),
      (workInProgress.lanes = current.lanes),
      (workInProgress.child = current.child),
      (workInProgress.subtreeFlags = 0),
      (workInProgress.deletions = null),
      (workInProgress.memoizedProps = current.memoizedProps),
      (workInProgress.memoizedState = current.memoizedState),
      (workInProgress.updateQueue = current.updateQueue),
      (workInProgress.type = current.type),
      (renderLanes = current.dependencies),
      (workInProgress.dependencies =
        null === renderLanes
          ? null
          : {
              lanes: renderLanes.lanes,
              firstContext: renderLanes.firstContext
            }));
  return workInProgress;
}
function createFiberFromTypeAndProps(
  type,
  key,
  pendingProps,
  owner,
  mode,
  lanes
) {
  var fiberTag = 0;
  owner = type;
  if ("function" === typeof type) shouldConstruct(type) && (fiberTag = 1);
  else if ("string" === typeof type)
    fiberTag = isHostHoistableType(
      type,
      pendingProps,
      contextStackCursor.current
    )
      ? 26
      : "html" === type || "head" === type || "body" === type
        ? 27
        : 5;
  else
    a: switch (type) {
      case REACT_ACTIVITY_TYPE:
        return (
          (type = createFiberImplClass(31, pendingProps, key, mode)),
          (type.elementType = REACT_ACTIVITY_TYPE),
          (type.lanes = lanes),
          type
        );
      case REACT_FRAGMENT_TYPE:
        return createFiberFromFragment(pendingProps.children, mode, lanes, key);
      case REACT_STRICT_MODE_TYPE:
        fiberTag = 8;
        mode |= 24;
        break;
      case REACT_PROFILER_TYPE:
        return (
          (type = createFiberImplClass(12, pendingProps, key, mode | 2)),
          (type.elementType = REACT_PROFILER_TYPE),
          (type.lanes = lanes),
          type
        );
      case REACT_SUSPENSE_TYPE:
        return (
          (type = createFiberImplClass(13, pendingProps, key, mode)),
          (type.elementType = REACT_SUSPENSE_TYPE),
          (type.lanes = lanes),
          type
        );
      case REACT_SUSPENSE_LIST_TYPE:
        return (
          (type = createFiberImplClass(19, pendingProps, key, mode)),
          (type.elementType = REACT_SUSPENSE_LIST_TYPE),
          (type.lanes = lanes),
          type
        );
      default:
        if ("object" === typeof type && null !== type)
          switch (type.$$typeof) {
            case REACT_CONTEXT_TYPE:
              fiberTag = 10;
              break a;
            case REACT_CONSUMER_TYPE:
              fiberTag = 9;
              break a;
            case REACT_FORWARD_REF_TYPE:
              fiberTag = 11;
              break a;
            case REACT_MEMO_TYPE:
              fiberTag = 14;
              break a;
            case REACT_LAZY_TYPE:
              fiberTag = 16;
              owner = null;
              break a;
          }
        fiberTag = 29;
        pendingProps = Error(
          formatProdErrorMessage(130, null === type ? "null" : typeof type, "")
        );
        owner = null;
    }
  key = createFiberImplClass(fiberTag, pendingProps, key, mode);
  key.elementType = type;
  key.type = owner;
  key.lanes = lanes;
  return key;
}
function createFiberFromFragment(elements, mode, lanes, key) {
  elements = createFiberImplClass(7, elements, key, mode);
  elements.lanes = lanes;
  return elements;
}
function createFiberFromText(content, mode, lanes) {
  content = createFiberImplClass(6, content, null, mode);
  content.lanes = lanes;
  return content;
}
function createFiberFromDehydratedFragment(dehydratedNode) {
  var fiber = createFiberImplClass(18, null, null, 0);
  fiber.stateNode = dehydratedNode;
  return fiber;
}
function createFiberFromPortal(portal, mode, lanes) {
  mode = createFiberImplClass(
    4,
    null !== portal.children ? portal.children : [],
    portal.key,
    mode
  );
  mode.lanes = lanes;
  mode.stateNode = {
    containerInfo: portal.containerInfo,
    pendingChildren: null,
    implementation: portal.implementation
  };
  return mode;
}
var CapturedStacks = new WeakMap();
function createCapturedValueAtFiber(value, source) {
  if ("object" === typeof value && null !== value) {
    var existing = CapturedStacks.get(value);
    if (void 0 !== existing) return existing;
    source = {
      value: value,
      source: source,
      stack: getStackByFiberInDevAndProd(source)
    };
    CapturedStacks.set(value, source);
    return source;
  }
  return {
    value: value,
    source: source,
    stack: getStackByFiberInDevAndProd(source)
  };
}
var forkStack = [],
  forkStackIndex = 0,
  treeForkProvider = null,
  treeForkCount = 0,
  idStack = [],
  idStackIndex = 0,
  treeContextProvider = null,
  treeContextId = 1,
  treeContextOverflow = "";
function pushTreeFork(workInProgress, totalChildren) {
  forkStack[forkStackIndex++] = treeForkCount;
  forkStack[forkStackIndex++] = treeForkProvider;
  treeForkProvider = workInProgress;
  treeForkCount = totalChildren;
}
function pushTreeId(workInProgress, totalChildren, index) {
  idStack[idStackIndex++] = treeContextId;
  idStack[idStackIndex++] = treeContextOverflow;
  idStack[idStackIndex++] = treeContextProvider;
  treeContextProvider = workInProgress;
  var baseIdWithLeadingBit = treeContextId;
  workInProgress = treeContextOverflow;
  var baseLength = 32 - clz32(baseIdWithLeadingBit) - 1;
  baseIdWithLeadingBit &= ~(1 << baseLength);
  index += 1;
  var length = 32 - clz32(totalChildren) + baseLength;
  if (30 < length) {
    var numberOfOverflowBits = baseLength - (baseLength % 5);
    length = (
      baseIdWithLeadingBit &
      ((1 << numberOfOverflowBits) - 1)
    ).toString(32);
    baseIdWithLeadingBit >>= numberOfOverflowBits;
    baseLength -= numberOfOverflowBits;
    treeContextId =
      (1 << (32 - clz32(totalChildren) + baseLength)) |
      (index << baseLength) |
      baseIdWithLeadingBit;
    treeContextOverflow = length + workInProgress;
  } else
    (treeContextId =
      (1 << length) | (index << baseLength) | baseIdWithLeadingBit),
      (treeContextOverflow = workInProgress);
}
function pushMaterializedTreeId(workInProgress) {
  null !== workInProgress.return &&
    (pushTreeFork(workInProgress, 1), pushTreeId(workInProgress, 1, 0));
}
function popTreeContext(workInProgress) {
  for (; workInProgress === treeForkProvider; )
    (treeForkProvider = forkStack[--forkStackIndex]),
      (forkStack[forkStackIndex] = null),
      (treeForkCount = forkStack[--forkStackIndex]),
      (forkStack[forkStackIndex] = null);
  for (; workInProgress === treeContextProvider; )
    (treeContextProvider = idStack[--idStackIndex]),
      (idStack[idStackIndex] = null),
      (treeContextOverflow = idStack[--idStackIndex]),
      (idStack[idStackIndex] = null),
      (treeContextId = idStack[--idStackIndex]),
      (idStack[idStackIndex] = null);
}
function restoreSuspendedTreeContext(workInProgress, suspendedContext) {
  idStack[idStackIndex++] = treeContextId;
  idStack[idStackIndex++] = treeContextOverflow;
  idStack[idStackIndex++] = treeContextProvider;
  treeContextId = suspendedContext.id;
  treeContextOverflow = suspendedContext.overflow;
  treeContextProvider = workInProgress;
}
var hydrationParentFiber = null,
  nextHydratableInstance = null,
  isHydrating = !1,
  hydrationErrors = null,
  rootOrSingletonContext = !1,
  HydrationMismatchException = Error(formatProdErrorMessage(519));
function throwOnHydrationMismatch(fiber) {
  var error = Error(
    formatProdErrorMessage(
      418,
      1 < arguments.length && void 0 !== arguments[1] && arguments[1]
        ? "text"
        : "HTML",
      ""
    )
  );
  queueHydrationError(createCapturedValueAtFiber(error, fiber));
  throw HydrationMismatchException;
}
function prepareToHydrateHostInstance(fiber) {
  var instance = fiber.stateNode,
    type = fiber.type,
    props = fiber.memoizedProps;
  instance[internalInstanceKey] = fiber;
  instance[internalPropsKey] = props;
  switch (type) {
    case "dialog":
      listenToNonDelegatedEvent("cancel", instance);
      listenToNonDelegatedEvent("close", instance);
      break;
    case "iframe":
    case "object":
    case "embed":
      listenToNonDelegatedEvent("load", instance);
      break;
    case "video":
    case "audio":
      for (type = 0; type < mediaEventTypes.length; type++)
        listenToNonDelegatedEvent(mediaEventTypes[type], instance);
      break;
    case "source":
      listenToNonDelegatedEvent("error", instance);
      break;
    case "img":
    case "image":
    case "link":
      listenToNonDelegatedEvent("error", instance);
      listenToNonDelegatedEvent("load", instance);
      break;
    case "details":
      listenToNonDelegatedEvent("toggle", instance);
      break;
    case "input":
      listenToNonDelegatedEvent("invalid", instance);
      initInput(
        instance,
        props.value,
        props.defaultValue,
        props.checked,
        props.defaultChecked,
        props.type,
        props.name,
        !0
      );
      break;
    case "select":
      listenToNonDelegatedEvent("invalid", instance);
      break;
    case "textarea":
      listenToNonDelegatedEvent("invalid", instance),
        initTextarea(instance, props.value, props.defaultValue, props.children);
  }
  type = props.children;
  ("string" !== typeof type &&
    "number" !== typeof type &&
    "bigint" !== typeof type) ||
  instance.textContent === "" + type ||
  !0 === props.suppressHydrationWarning ||
  checkForUnmatchedText(instance.textContent, type)
    ? (null != props.popover &&
        (listenToNonDelegatedEvent("beforetoggle", instance),
        listenToNonDelegatedEvent("toggle", instance)),
      null != props.onScroll && listenToNonDelegatedEvent("scroll", instance),
      null != props.onScrollEnd &&
        listenToNonDelegatedEvent("scrollend", instance),
      null != props.onClick && (instance.onclick = noop$1),
      (instance = !0))
    : (instance = !1);
  instance || throwOnHydrationMismatch(fiber, !0);
}
function popToNextHostParent(fiber) {
  for (hydrationParentFiber = fiber.return; hydrationParentFiber; )
    switch (hydrationParentFiber.tag) {
      case 5:
      case 31:
      case 13:
        rootOrSingletonContext = !1;
        return;
      case 27:
      case 3:
        rootOrSingletonContext = !0;
        return;
      default:
        hydrationParentFiber = hydrationParentFiber.return;
    }
}
function popHydrationState(fiber) {
  if (fiber !== hydrationParentFiber) return !1;
  if (!isHydrating) return popToNextHostParent(fiber), (isHydrating = !0), !1;
  var tag = fiber.tag,
    JSCompiler_temp;
  if ((JSCompiler_temp = 3 !== tag && 27 !== tag)) {
    if ((JSCompiler_temp = 5 === tag))
      (JSCompiler_temp = fiber.type),
        (JSCompiler_temp =
          !("form" !== JSCompiler_temp && "button" !== JSCompiler_temp) ||
          shouldSetTextContent(fiber.type, fiber.memoizedProps));
    JSCompiler_temp = !JSCompiler_temp;
  }
  JSCompiler_temp && nextHydratableInstance && throwOnHydrationMismatch(fiber);
  popToNextHostParent(fiber);
  if (13 === tag) {
    fiber = fiber.memoizedState;
    fiber = null !== fiber ? fiber.dehydrated : null;
    if (!fiber) throw Error(formatProdErrorMessage(317));
    nextHydratableInstance =
      getNextHydratableInstanceAfterHydrationBoundary(fiber);
  } else if (31 === tag) {
    fiber = fiber.memoizedState;
    fiber = null !== fiber ? fiber.dehydrated : null;
    if (!fiber) throw Error(formatProdErrorMessage(317));
    nextHydratableInstance =
      getNextHydratableInstanceAfterHydrationBoundary(fiber);
  } else
    27 === tag
      ? ((tag = nextHydratableInstance),
        isSingletonScope(fiber.type)
          ? ((fiber = previousHydratableOnEnteringScopedSingleton),
            (previousHydratableOnEnteringScopedSingleton = null),
            (nextHydratableInstance = fiber))
          : (nextHydratableInstance = tag))
      : (nextHydratableInstance = hydrationParentFiber
          ? getNextHydratable(fiber.stateNode.nextSibling)
          : null);
  return !0;
}
function resetHydrationState() {
  nextHydratableInstance = hydrationParentFiber = null;
  isHydrating = !1;
}
function upgradeHydrationErrorsToRecoverable() {
  var queuedErrors = hydrationErrors;
  null !== queuedErrors &&
    (null === workInProgressRootRecoverableErrors
      ? (workInProgressRootRecoverableErrors = queuedErrors)
      : workInProgressRootRecoverableErrors.push.apply(
          workInProgressRootRecoverableErrors,
          queuedErrors
        ),
    (hydrationErrors = null));
  return queuedErrors;
}
function queueHydrationError(error) {
  null === hydrationErrors
    ? (hydrationErrors = [error])
    : hydrationErrors.push(error);
}
var valueCursor = createCursor(null),
  currentlyRenderingFiber$1 = null,
  lastContextDependency = null;
function pushProvider(providerFiber, context, nextValue) {
  push(valueCursor, context._currentValue);
  context._currentValue = nextValue;
}
function popProvider(context) {
  context._currentValue = valueCursor.current;
  pop(valueCursor);
}
function scheduleContextWorkOnParentPath(parent, renderLanes, propagationRoot) {
  for (; null !== parent; ) {
    var alternate = parent.alternate;
    (parent.childLanes & renderLanes) !== renderLanes
      ? ((parent.childLanes |= renderLanes),
        null !== alternate && (alternate.childLanes |= renderLanes))
      : null !== alternate &&
        (alternate.childLanes & renderLanes) !== renderLanes &&
        (alternate.childLanes |= renderLanes);
    if (parent === propagationRoot) break;
    parent = parent.return;
  }
}
function propagateContextChanges(
  workInProgress,
  contexts,
  renderLanes,
  forcePropagateEntireTree
) {
  var fiber = workInProgress.child;
  null !== fiber && (fiber.return = workInProgress);
  for (; null !== fiber; ) {
    var list = fiber.dependencies;
    if (null !== list) {
      var nextFiber = fiber.child;
      list = list.firstContext;
      a: for (; null !== list; ) {
        var dependency = list;
        list = fiber;
        for (var i = 0; i < contexts.length; i++)
          if (dependency.context === contexts[i]) {
            list.lanes |= renderLanes;
            dependency = list.alternate;
            null !== dependency && (dependency.lanes |= renderLanes);
            scheduleContextWorkOnParentPath(
              list.return,
              renderLanes,
              workInProgress
            );
            forcePropagateEntireTree || (nextFiber = null);
            break a;
          }
        list = dependency.next;
      }
    } else if (18 === fiber.tag) {
      nextFiber = fiber.return;
      if (null === nextFiber) throw Error(formatProdErrorMessage(341));
      nextFiber.lanes |= renderLanes;
      list = nextFiber.alternate;
      null !== list && (list.lanes |= renderLanes);
      scheduleContextWorkOnParentPath(nextFiber, renderLanes, workInProgress);
      nextFiber = null;
    } else nextFiber = fiber.child;
    if (null !== nextFiber) nextFiber.return = fiber;
    else
      for (nextFiber = fiber; null !== nextFiber; ) {
        if (nextFiber === workInProgress) {
          nextFiber = null;
          break;
        }
        fiber = nextFiber.sibling;
        if (null !== fiber) {
          fiber.return = nextFiber.return;
          nextFiber = fiber;
          break;
        }
        nextFiber = nextFiber.return;
      }
    fiber = nextFiber;
  }
}
function propagateParentContextChanges(
  current,
  workInProgress,
  renderLanes,
  forcePropagateEntireTree
) {
  current = null;
  for (
    var parent = workInProgress, isInsidePropagationBailout = !1;
    null !== parent;

  ) {
    if (!isInsidePropagationBailout)
      if (0 !== (parent.flags & 524288)) isInsidePropagationBailout = !0;
      else if (0 !== (parent.flags & 262144)) break;
    if (10 === parent.tag) {
      var currentParent = parent.alternate;
      if (null === currentParent) throw Error(formatProdErrorMessage(387));
      currentParent = currentParent.memoizedProps;
      if (null !== currentParent) {
        var context = parent.type;
        objectIs(parent.pendingProps.value, currentParent.value) ||
          (null !== current ? current.push(context) : (current = [context]));
      }
    } else if (parent === hostTransitionProviderCursor.current) {
      currentParent = parent.alternate;
      if (null === currentParent) throw Error(formatProdErrorMessage(387));
      currentParent.memoizedState.memoizedState !==
        parent.memoizedState.memoizedState &&
        (null !== current
          ? current.push(HostTransitionContext)
          : (current = [HostTransitionContext]));
    }
    parent = parent.return;
  }
  null !== current &&
    propagateContextChanges(
      workInProgress,
      current,
      renderLanes,
      forcePropagateEntireTree
    );
  workInProgress.flags |= 262144;
}
function checkIfContextChanged(currentDependencies) {
  for (
    currentDependencies = currentDependencies.firstContext;
    null !== currentDependencies;

  ) {
    if (
      !objectIs(
        currentDependencies.context._currentValue,
        currentDependencies.memoizedValue
      )
    )
      return !0;
    currentDependencies = currentDependencies.next;
  }
  return !1;
}
function prepareToReadContext(workInProgress) {
  currentlyRenderingFiber$1 = workInProgress;
  lastContextDependency = null;
  workInProgress = workInProgress.dependencies;
  null !== workInProgress && (workInProgress.firstContext = null);
}
function readContext(context) {
  return readContextForConsumer(currentlyRenderingFiber$1, context);
}
function readContextDuringReconciliation(consumer, context) {
  null === currentlyRenderingFiber$1 && prepareToReadContext(consumer);
  return readContextForConsumer(consumer, context);
}
function readContextForConsumer(consumer, context) {
  var value = context._currentValue;
  context = { context: context, memoizedValue: value, next: null };
  if (null === lastContextDependency) {
    if (null === consumer) throw Error(formatProdErrorMessage(308));
    lastContextDependency = context;
    consumer.dependencies = { lanes: 0, firstContext: context };
    consumer.flags |= 524288;
  } else lastContextDependency = lastContextDependency.next = context;
  return value;
}
var AbortControllerLocal =
    "undefined" !== typeof AbortController
      ? AbortController
      : function () {
          var listeners = [],
            signal = (this.signal = {
              aborted: !1,
              addEventListener: function (type, listener) {
                listeners.push(listener);
              }
            });
          this.abort = function () {
            signal.aborted = !0;
            listeners.forEach(function (listener) {
              return listener();
            });
          };
        },
  scheduleCallback$2 = Scheduler.unstable_scheduleCallback,
  NormalPriority = Scheduler.unstable_NormalPriority,
  CacheContext = {
    $$typeof: REACT_CONTEXT_TYPE,
    Consumer: null,
    Provider: null,
    _currentValue: null,
    _currentValue2: null,
    _threadCount: 0
  };
function createCache() {
  return {
    controller: new AbortControllerLocal(),
    data: new Map(),
    refCount: 0
  };
}
function releaseCache(cache) {
  cache.refCount--;
  0 === cache.refCount &&
    scheduleCallback$2(NormalPriority, function () {
      cache.controller.abort();
    });
}
var currentEntangledListeners = null,
  currentEntangledPendingCount = 0,
  currentEntangledLane = 0,
  currentEntangledActionThenable = null;
function entangleAsyncAction(transition, thenable) {
  if (null === currentEntangledListeners) {
    var entangledListeners = (currentEntangledListeners = []);
    currentEntangledPendingCount = 0;
    currentEntangledLane = requestTransitionLane();
    currentEntangledActionThenable = {
      status: "pending",
      value: void 0,
      then: function (resolve) {
        entangledListeners.push(resolve);
      }
    };
  }
  currentEntangledPendingCount++;
  thenable.then(pingEngtangledActionScope, pingEngtangledActionScope);
  return thenable;
}
function pingEngtangledActionScope() {
  if (
    0 === --currentEntangledPendingCount &&
    null !== currentEntangledListeners
  ) {
    null !== currentEntangledActionThenable &&
      (currentEntangledActionThenable.status = "fulfilled");
    var listeners = currentEntangledListeners;
    currentEntangledListeners = null;
    currentEntangledLane = 0;
    currentEntangledActionThenable = null;
    for (var i = 0; i < listeners.length; i++) (0, listeners[i])();
  }
}
function chainThenableValue(thenable, result) {
  var listeners = [],
    thenableWithOverride = {
      status: "pending",
      value: null,
      reason: null,
      then: function (resolve) {
        listeners.push(resolve);
      }
    };
  thenable.then(
    function () {
      thenableWithOverride.status = "fulfilled";
      thenableWithOverride.value = result;
      for (var i = 0; i < listeners.length; i++) (0, listeners[i])(result);
    },
    function (error) {
      thenableWithOverride.status = "rejected";
      thenableWithOverride.reason = error;
      for (error = 0; error < listeners.length; error++)
        (0, listeners[error])(void 0);
    }
  );
  return thenableWithOverride;
}
var prevOnStartTransitionFinish = ReactSharedInternals.S;
ReactSharedInternals.S = function (transition, returnValue) {
  globalMostRecentTransitionTime = now();
  "object" === typeof returnValue &&
    null !== returnValue &&
    "function" === typeof returnValue.then &&
    entangleAsyncAction(transition, returnValue);
  null !== prevOnStartTransitionFinish &&
    prevOnStartTransitionFinish(transition, returnValue);
};
var resumedCache = createCursor(null);
function peekCacheFromPool() {
  var cacheResumedFromPreviousRender = resumedCache.current;
  return null !== cacheResumedFromPreviousRender
    ? cacheResumedFromPreviousRender
    : workInProgressRoot.pooledCache;
}
function pushTransition(offscreenWorkInProgress, prevCachePool) {
  null === prevCachePool
    ? push(resumedCache, resumedCache.current)
    : push(resumedCache, prevCachePool.pool);
}
function getSuspendedCache() {
  var cacheFromPool = peekCacheFromPool();
  return null === cacheFromPool
    ? null
    : { parent: CacheContext._currentValue, pool: cacheFromPool };
}
var SuspenseException = Error(formatProdErrorMessage(460)),
  SuspenseyCommitException = Error(formatProdErrorMessage(474)),
  SuspenseActionException = Error(formatProdErrorMessage(542)),
  noopSuspenseyCommitThenable = { then: function () {} };
function isThenableResolved(thenable) {
  thenable = thenable.status;
  return "fulfilled" === thenable || "rejected" === thenable;
}
function trackUsedThenable(thenableState, thenable, index) {
  index = thenableState[index];
  void 0 === index
    ? thenableState.push(thenable)
    : index !== thenable && (thenable.then(noop$1, noop$1), (thenable = index));
  switch (thenable.status) {
    case "fulfilled":
      return thenable.value;
    case "rejected":
      throw (
        ((thenableState = thenable.reason),
        checkIfUseWrappedInAsyncCatch(thenableState),
        thenableState)
      );
    default:
      if ("string" === typeof thenable.status) thenable.then(noop$1, noop$1);
      else {
        thenableState = workInProgressRoot;
        if (null !== thenableState && 100 < thenableState.shellSuspendCounter)
          throw Error(formatProdErrorMessage(482));
        thenableState = thenable;
        thenableState.status = "pending";
        thenableState.then(
          function (fulfilledValue) {
            if ("pending" === thenable.status) {
              var fulfilledThenable = thenable;
              fulfilledThenable.status = "fulfilled";
              fulfilledThenable.value = fulfilledValue;
            }
          },
          function (error) {
            if ("pending" === thenable.status) {
              var rejectedThenable = thenable;
              rejectedThenable.status = "rejected";
              rejectedThenable.reason = error;
            }
          }
        );
      }
      switch (thenable.status) {
        case "fulfilled":
          return thenable.value;
        case "rejected":
          throw (
            ((thenableState = thenable.reason),
            checkIfUseWrappedInAsyncCatch(thenableState),
            thenableState)
          );
      }
      suspendedThenable = thenable;
      throw SuspenseException;
  }
}
function resolveLazy(lazyType) {
  try {
    var init = lazyType._init;
    return init(lazyType._payload);
  } catch (x) {
    if (null !== x && "object" === typeof x && "function" === typeof x.then)
      throw ((suspendedThenable = x), SuspenseException);
    throw x;
  }
}
var suspendedThenable = null;
function getSuspendedThenable() {
  if (null === suspendedThenable) throw Error(formatProdErrorMessage(459));
  var thenable = suspendedThenable;
  suspendedThenable = null;
  return thenable;
}
function checkIfUseWrappedInAsyncCatch(rejectedReason) {
  if (
    rejectedReason === SuspenseException ||
    rejectedReason === SuspenseActionException
  )
    throw Error(formatProdErrorMessage(483));
}
var thenableState$1 = null,
  thenableIndexCounter$1 = 0;
function unwrapThenable(thenable) {
  var index = thenableIndexCounter$1;
  thenableIndexCounter$1 += 1;
  null === thenableState$1 && (thenableState$1 = []);
  return trackUsedThenable(thenableState$1, thenable, index);
}
function coerceRef(workInProgress, element) {
  element = element.props.ref;
  workInProgress.ref = void 0 !== element ? element : null;
}
function throwOnInvalidObjectTypeImpl(returnFiber, newChild) {
  if (newChild.$$typeof === REACT_LEGACY_ELEMENT_TYPE)
    throw Error(formatProdErrorMessage(525));
  returnFiber = Object.prototype.toString.call(newChild);
  throw Error(
    formatProdErrorMessage(
      31,
      "[object Object]" === returnFiber
        ? "object with keys {" + Object.keys(newChild).join(", ") + "}"
        : returnFiber
    )
  );
}
function createChildReconciler(shouldTrackSideEffects) {
  function deleteChild(returnFiber, childToDelete) {
    if (shouldTrackSideEffects) {
      var deletions = returnFiber.deletions;
      null === deletions
        ? ((returnFiber.deletions = [childToDelete]), (returnFiber.flags |= 16))
        : deletions.push(childToDelete);
    }
  }
  function deleteRemainingChildren(returnFiber, currentFirstChild) {
    if (!shouldTrackSideEffects) return null;
    for (; null !== currentFirstChild; )
      deleteChild(returnFiber, currentFirstChild),
        (currentFirstChild = currentFirstChild.sibling);
    return null;
  }
  function mapRemainingChildren(currentFirstChild) {
    for (var existingChildren = new Map(); null !== currentFirstChild; )
      null !== currentFirstChild.key
        ? existingChildren.set(currentFirstChild.key, currentFirstChild)
        : existingChildren.set(currentFirstChild.index, currentFirstChild),
        (currentFirstChild = currentFirstChild.sibling);
    return existingChildren;
  }
  function useFiber(fiber, pendingProps) {
    fiber = createWorkInProgress(fiber, pendingProps);
    fiber.index = 0;
    fiber.sibling = null;
    return fiber;
  }
  function placeChild(newFiber, lastPlacedIndex, newIndex) {
    newFiber.index = newIndex;
    if (!shouldTrackSideEffects)
      return (newFiber.flags |= 1048576), lastPlacedIndex;
    newIndex = newFiber.alternate;
    if (null !== newIndex)
      return (
        (newIndex = newIndex.index),
        newIndex < lastPlacedIndex
          ? ((newFiber.flags |= 67108866), lastPlacedIndex)
          : newIndex
      );
    newFiber.flags |= 67108866;
    return lastPlacedIndex;
  }
  function placeSingleChild(newFiber) {
    shouldTrackSideEffects &&
      null === newFiber.alternate &&
      (newFiber.flags |= 67108866);
    return newFiber;
  }
  function updateTextNode(returnFiber, current, textContent, lanes) {
    if (null === current || 6 !== current.tag)
      return (
        (current = createFiberFromText(textContent, returnFiber.mode, lanes)),
        (current.return = returnFiber),
        current
      );
    current = useFiber(current, textContent);
    current.return = returnFiber;
    return current;
  }
  function updateElement(returnFiber, current, element, lanes) {
    var elementType = element.type;
    if (elementType === REACT_FRAGMENT_TYPE)
      return updateFragment(
        returnFiber,
        current,
        element.props.children,
        lanes,
        element.key
      );
    if (
      null !== current &&
      (current.elementType === elementType ||
        ("object" === typeof elementType &&
          null !== elementType &&
          elementType.$$typeof === REACT_LAZY_TYPE &&
          resolveLazy(elementType) === current.type))
    )
      return (
        (current = useFiber(current, element.props)),
        coerceRef(current, element),
        (current.return = returnFiber),
        current
      );
    current = createFiberFromTypeAndProps(
      element.type,
      element.key,
      element.props,
      null,
      returnFiber.mode,
      lanes
    );
    coerceRef(current, element);
    current.return = returnFiber;
    return current;
  }
  function updatePortal(returnFiber, current, portal, lanes) {
    if (
      null === current ||
      4 !== current.tag ||
      current.stateNode.containerInfo !== portal.containerInfo ||
      current.stateNode.implementation !== portal.implementation
    )
      return (
        (current = createFiberFromPortal(portal, returnFiber.mode, lanes)),
        (current.return = returnFiber),
        current
      );
    current = useFiber(current, portal.children || []);
    current.return = returnFiber;
    return current;
  }
  function updateFragment(returnFiber, current, fragment, lanes, key) {
    if (null === current || 7 !== current.tag)
      return (
        (current = createFiberFromFragment(
          fragment,
          returnFiber.mode,
          lanes,
          key
        )),
        (current.return = returnFiber),
        current
      );
    current = useFiber(current, fragment);
    current.return = returnFiber;
    return current;
  }
  function createChild(returnFiber, newChild, lanes) {
    if (
      ("string" === typeof newChild && "" !== newChild) ||
      "number" === typeof newChild ||
      "bigint" === typeof newChild
    )
      return (
        (newChild = createFiberFromText(
          "" + newChild,
          returnFiber.mode,
          lanes
        )),
        (newChild.return = returnFiber),
        newChild
      );
    if ("object" === typeof newChild && null !== newChild) {
      switch (newChild.$$typeof) {
        case REACT_ELEMENT_TYPE:
          return (
            (lanes = createFiberFromTypeAndProps(
              newChild.type,
              newChild.key,
              newChild.props,
              null,
              returnFiber.mode,
              lanes
            )),
            coerceRef(lanes, newChild),
            (lanes.return = returnFiber),
            lanes
          );
        case REACT_PORTAL_TYPE:
          return (
            (newChild = createFiberFromPortal(
              newChild,
              returnFiber.mode,
              lanes
            )),
            (newChild.return = returnFiber),
            newChild
          );
        case REACT_LAZY_TYPE:
          return (
            (newChild = resolveLazy(newChild)),
            createChild(returnFiber, newChild, lanes)
          );
      }
      if (isArrayImpl(newChild) || getIteratorFn(newChild))
        return (
          (newChild = createFiberFromFragment(
            newChild,
            returnFiber.mode,
            lanes,
            null
          )),
          (newChild.return = returnFiber),
          newChild
        );
      if ("function" === typeof newChild.then)
        return createChild(returnFiber, unwrapThenable(newChild), lanes);
      if (newChild.$$typeof === REACT_CONTEXT_TYPE)
        return createChild(
          returnFiber,
          readContextDuringReconciliation(returnFiber, newChild),
          lanes
        );
      throwOnInvalidObjectTypeImpl(returnFiber, newChild);
    }
    return null;
  }
  function updateSlot(returnFiber, oldFiber, newChild, lanes) {
    var key = null !== oldFiber ? oldFiber.key : null;
    if (
      ("string" === typeof newChild && "" !== newChild) ||
      "number" === typeof newChild ||
      "bigint" === typeof newChild
    )
      return null !== key
        ? null
        : updateTextNode(returnFiber, oldFiber, "" + newChild, lanes);
    if ("object" === typeof newChild && null !== newChild) {
      switch (newChild.$$typeof) {
        case REACT_ELEMENT_TYPE:
          return newChild.key === key
            ? updateElement(returnFiber, oldFiber, newChild, lanes)
            : null;
        case REACT_PORTAL_TYPE:
          return newChild.key === key
            ? updatePortal(returnFiber, oldFiber, newChild, lanes)
            : null;
        case REACT_LAZY_TYPE:
          return (
            (newChild = resolveLazy(newChild)),
            updateSlot(returnFiber, oldFiber, newChild, lanes)
          );
      }
      if (isArrayImpl(newChild) || getIteratorFn(newChild))
        return null !== key
          ? null
          : updateFragment(returnFiber, oldFiber, newChild, lanes, null);
      if ("function" === typeof newChild.then)
        return updateSlot(
          returnFiber,
          oldFiber,
          unwrapThenable(newChild),
          lanes
        );
      if (newChild.$$typeof === REACT_CONTEXT_TYPE)
        return updateSlot(
          returnFiber,
          oldFiber,
          readContextDuringReconciliation(returnFiber, newChild),
          lanes
        );
      throwOnInvalidObjectTypeImpl(returnFiber, newChild);
    }
    return null;
  }
  function updateFromMap(
    existingChildren,
    returnFiber,
    newIdx,
    newChild,
    lanes
  ) {
    if (
      ("string" === typeof newChild && "" !== newChild) ||
      "number" === typeof newChild ||
      "bigint" === typeof newChild
    )
      return (
        (existingChildren = existingChildren.get(newIdx) || null),
        updateTextNode(returnFiber, existingChildren, "" + newChild, lanes)
      );
    if ("object" === typeof newChild && null !== newChild) {
      switch (newChild.$$typeof) {
        case REACT_ELEMENT_TYPE:
          return (
            (existingChildren =
              existingChildren.get(
                null === newChild.key ? newIdx : newChild.key
              ) || null),
            updateElement(returnFiber, existingChildren, newChild, lanes)
          );
        case REACT_PORTAL_TYPE:
          return (
            (existingChildren =
              existingChildren.get(
                null === newChild.key ? newIdx : newChild.key
              ) || null),
            updatePortal(returnFiber, existingChildren, newChild, lanes)
          );
        case REACT_LAZY_TYPE:
          return (
            (newChild = resolveLazy(newChild)),
            updateFromMap(
              existingChildren,
              returnFiber,
              newIdx,
              newChild,
              lanes
            )
          );
      }
      if (isArrayImpl(newChild) || getIteratorFn(newChild))
        return (
          (existingChildren = existingChildren.get(newIdx) || null),
          updateFragment(returnFiber, existingChildren, newChild, lanes, null)
        );
      if ("function" === typeof newChild.then)
        return updateFromMap(
          existingChildren,
          returnFiber,
          newIdx,
          unwrapThenable(newChild),
          lanes
        );
      if (newChild.$$typeof === REACT_CONTEXT_TYPE)
        return updateFromMap(
          existingChildren,
          returnFiber,
          newIdx,
          readContextDuringReconciliation(returnFiber, newChild),
          lanes
        );
      throwOnInvalidObjectTypeImpl(returnFiber, newChild);
    }
    return null;
  }
  function reconcileChildrenArray(
    returnFiber,
    currentFirstChild,
    newChildren,
    lanes
  ) {
    for (
      var resultingFirstChild = null,
        previousNewFiber = null,
        oldFiber = currentFirstChild,
        newIdx = (currentFirstChild = 0),
        nextOldFiber = null;
      null !== oldFiber && newIdx < newChildren.length;
      newIdx++
    ) {
      oldFiber.index > newIdx
        ? ((nextOldFiber = oldFiber), (oldFiber = null))
        : (nextOldFiber = oldFiber.sibling);
      var newFiber = updateSlot(
        returnFiber,
        oldFiber,
        newChildren[newIdx],
        lanes
      );
      if (null === newFiber) {
        null === oldFiber && (oldFiber = nextOldFiber);
        break;
      }
      shouldTrackSideEffects &&
        oldFiber &&
        null === newFiber.alternate &&
        deleteChild(returnFiber, oldFiber);
      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);
      null === previousNewFiber
        ? (resultingFirstChild = newFiber)
        : (previousNewFiber.sibling = newFiber);
      previousNewFiber = newFiber;
      oldFiber = nextOldFiber;
    }
    if (newIdx === newChildren.length)
      return (
        deleteRemainingChildren(returnFiber, oldFiber),
        isHydrating && pushTreeFork(returnFiber, newIdx),
        resultingFirstChild
      );
    if (null === oldFiber) {
      for (; newIdx < newChildren.length; newIdx++)
        (oldFiber = createChild(returnFiber, newChildren[newIdx], lanes)),
          null !== oldFiber &&
            ((currentFirstChild = placeChild(
              oldFiber,
              currentFirstChild,
              newIdx
            )),
            null === previousNewFiber
              ? (resultingFirstChild = oldFiber)
              : (previousNewFiber.sibling = oldFiber),
            (previousNewFiber = oldFiber));
      isHydrating && pushTreeFork(returnFiber, newIdx);
      return resultingFirstChild;
    }
    for (
      oldFiber = mapRemainingChildren(oldFiber);
      newIdx < newChildren.length;
      newIdx++
    )
      (nextOldFiber = updateFromMap(
        oldFiber,
        returnFiber,
        newIdx,
        newChildren[newIdx],
        lanes
      )),
        null !== nextOldFiber &&
          (shouldTrackSideEffects &&
            null !== nextOldFiber.alternate &&
            oldFiber.delete(
              null === nextOldFiber.key ? newIdx : nextOldFiber.key
            ),
          (currentFirstChild = placeChild(
            nextOldFiber,
            currentFirstChild,
            newIdx
          )),
          null === previousNewFiber
            ? (resultingFirstChild = nextOldFiber)
            : (previousNewFiber.sibling = nextOldFiber),
          (previousNewFiber = nextOldFiber));
    shouldTrackSideEffects &&
      oldFiber.forEach(function (child) {
        return deleteChild(returnFiber, child);
      });
    isHydrating && pushTreeFork(returnFiber, newIdx);
    return resultingFirstChild;
  }
  function reconcileChildrenIterator(
    returnFiber,
    currentFirstChild,
    newChildren,
    lanes
  ) {
    if (null == newChildren) throw Error(formatProdErrorMessage(151));
    for (
      var resultingFirstChild = null,
        previousNewFiber = null,
        oldFiber = currentFirstChild,
        newIdx = (currentFirstChild = 0),
        nextOldFiber = null,
        step = newChildren.next();
      null !== oldFiber && !step.done;
      newIdx++, step = newChildren.next()
    ) {
      oldFiber.index > newIdx
        ? ((nextOldFiber = oldFiber), (oldFiber = null))
        : (nextOldFiber = oldFiber.sibling);
      var newFiber = updateSlot(returnFiber, oldFiber, step.value, lanes);
      if (null === newFiber) {
        null === oldFiber && (oldFiber = nextOldFiber);
        break;
      }
      shouldTrackSideEffects &&
        oldFiber &&
        null === newFiber.alternate &&
        deleteChild(returnFiber, oldFiber);
      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);
      null === previousNewFiber
        ? (resultingFirstChild = newFiber)
        : (previousNewFiber.sibling = newFiber);
      previousNewFiber = newFiber;
      oldFiber = nextOldFiber;
    }
    if (step.done)
      return (
        deleteRemainingChildren(returnFiber, oldFiber),
        isHydrating && pushTreeFork(returnFiber, newIdx),
        resultingFirstChild
      );
    if (null === oldFiber) {
      for (; !step.done; newIdx++, step = newChildren.next())
        (step = createChild(returnFiber, step.value, lanes)),
          null !== step &&
            ((currentFirstChild = placeChild(step, currentFirstChild, newIdx)),
            null === previousNewFiber
              ? (resultingFirstChild = step)
              : (previousNewFiber.sibling = step),
            (previousNewFiber = step));
      isHydrating && pushTreeFork(returnFiber, newIdx);
      return resultingFirstChild;
    }
    for (
      oldFiber = mapRemainingChildren(oldFiber);
      !step.done;
      newIdx++, step = newChildren.next()
    )
      (step = updateFromMap(oldFiber, returnFiber, newIdx, step.value, lanes)),
        null !== step &&
          (shouldTrackSideEffects &&
            null !== step.alternate &&
            oldFiber.delete(null === step.key ? newIdx : step.key),
          (currentFirstChild = placeChild(step, currentFirstChild, newIdx)),
          null === previousNewFiber
            ? (resultingFirstChild = step)
            : (previousNewFiber.sibling = step),
          (previousNewFiber = step));
    shouldTrackSideEffects &&
      oldFiber.forEach(function (child) {
        return deleteChild(returnFiber, child);
      });
    isHydrating && pushTreeFork(returnFiber, newIdx);
    return resultingFirstChild;
  }
  function reconcileChildFibersImpl(
    returnFiber,
    currentFirstChild,
    newChild,
    lanes
  ) {
    "object" === typeof newChild &&
      null !== newChild &&
      newChild.type === REACT_FRAGMENT_TYPE &&
      null === newChild.key &&
      (newChild = newChild.props.children);
    if ("object" === typeof newChild && null !== newChild) {
      switch (newChild.$$typeof) {
        case REACT_ELEMENT_TYPE:
          a: {
            for (var key = newChild.key; null !== currentFirstChild; ) {
              if (currentFirstChild.key === key) {
                key = newChild.type;
                if (key === REACT_FRAGMENT_TYPE) {
                  if (7 === currentFirstChild.tag) {
                    deleteRemainingChildren(
                      returnFiber,
                      currentFirstChild.sibling
                    );
                    lanes = useFiber(
                      currentFirstChild,
                      newChild.props.children
                    );
                    lanes.return = returnFiber;
                    returnFiber = lanes;
                    break a;
                  }
                } else if (
                  currentFirstChild.elementType === key ||
                  ("object" === typeof key &&
                    null !== key &&
                    key.$$typeof === REACT_LAZY_TYPE &&
                    resolveLazy(key) === currentFirstChild.type)
                ) {
                  deleteRemainingChildren(
                    returnFiber,
                    currentFirstChild.sibling
                  );
                  lanes = useFiber(currentFirstChild, newChild.props);
                  coerceRef(lanes, newChild);
                  lanes.return = returnFiber;
                  returnFiber = lanes;
                  break a;
                }
                deleteRemainingChildren(returnFiber, currentFirstChild);
                break;
              } else deleteChild(returnFiber, currentFirstChild);
              currentFirstChild = currentFirstChild.sibling;
            }
            newChild.type === REACT_FRAGMENT_TYPE
              ? ((lanes = createFiberFromFragment(
                  newChild.props.children,
                  returnFiber.mode,
                  lanes,
                  newChild.key
                )),
                (lanes.return = returnFiber),
                (returnFiber = lanes))
              : ((lanes = createFiberFromTypeAndProps(
                  newChild.type,
                  newChild.key,
                  newChild.props,
                  null,
                  returnFiber.mode,
                  lanes
                )),
                coerceRef(lanes, newChild),
                (lanes.return = returnFiber),
                (returnFiber = lanes));
          }
          return placeSingleChild(returnFiber);
        case REACT_PORTAL_TYPE:
          a: {
            for (key = newChild.key; null !== currentFirstChild; ) {
              if (currentFirstChild.key === key)
                if (
                  4 === currentFirstChild.tag &&
                  currentFirstChild.stateNode.containerInfo ===
                    newChild.containerInfo &&
                  currentFirstChild.stateNode.implementation ===
                    newChild.implementation
                ) {
                  deleteRemainingChildren(
                    returnFiber,
                    currentFirstChild.sibling
                  );
                  lanes = useFiber(currentFirstChild, newChild.children || []);
                  lanes.return = returnFiber;
                  returnFiber = lanes;
                  break a;
                } else {
                  deleteRemainingChildren(returnFiber, currentFirstChild);
                  break;
                }
              else deleteChild(returnFiber, currentFirstChild);
              currentFirstChild = currentFirstChild.sibling;
            }
            lanes = createFiberFromPortal(newChild, returnFiber.mode, lanes);
            lanes.return = returnFiber;
            returnFiber = lanes;
          }
          return placeSingleChild(returnFiber);
        case REACT_LAZY_TYPE:
          return (
            (newChild = resolveLazy(newChild)),
            reconcileChildFibersImpl(
              returnFiber,
              currentFirstChild,
              newChild,
              lanes
            )
          );
      }
      if (isArrayImpl(newChild))
        return reconcileChildrenArray(
          returnFiber,
          currentFirstChild,
          newChild,
          lanes
        );
      if (getIteratorFn(newChild)) {
        key = getIteratorFn(newChild);
        if ("function" !== typeof key) throw Error(formatProdErrorMessage(150));
        newChild = key.call(newChild);
        return reconcileChildrenIterator(
          returnFiber,
          currentFirstChild,
          newChild,
          lanes
        );
      }
      if ("function" === typeof newChild.then)
        return reconcileChildFibersImpl(
          returnFiber,
          currentFirstChild,
          unwrapThenable(newChild),
          lanes
        );
      if (newChild.$$typeof === REACT_CONTEXT_TYPE)
        return reconcileChildFibersImpl(
          returnFiber,
          currentFirstChild,
          readContextDuringReconciliation(returnFiber, newChild),
          lanes
        );
      throwOnInvalidObjectTypeImpl(returnFiber, newChild);
    }
    return ("string" === typeof newChild && "" !== newChild) ||
      "number" === typeof newChild ||
      "bigint" === typeof newChild
      ? ((newChild = "" + newChild),
        null !== currentFirstChild && 6 === currentFirstChild.tag
          ? (deleteRemainingChildren(returnFiber, currentFirstChild.sibling),
            (lanes = useFiber(currentFirstChild, newChild)),
            (lanes.return = returnFiber),
            (returnFiber = lanes))
          : (deleteRemainingChildren(returnFiber, currentFirstChild),
            (lanes = createFiberFromText(newChild, returnFiber.mode, lanes)),
            (lanes.return = returnFiber),
            (returnFiber = lanes)),
        placeSingleChild(returnFiber))
      : deleteRemainingChildren(returnFiber, currentFirstChild);
  }
  return function (returnFiber, currentFirstChild, newChild, lanes) {
    try {
      thenableIndexCounter$1 = 0;
      var firstChildFiber = reconcileChildFibersImpl(
        returnFiber,
        currentFirstChild,
        newChild,
        lanes
      );
      thenableState$1 = null;
      return firstChildFiber;
    } catch (x) {
      if (x === SuspenseException || x === SuspenseActionException) throw x;
      var fiber = createFiberImplClass(29, x, null, returnFiber.mode);
      fiber.lanes = lanes;
      fiber.return = returnFiber;
      return fiber;
    } finally {
    }
  };
}
var reconcileChildFibers = createChildReconciler(!0),
  mountChildFibers = createChildReconciler(!1),
  hasForceUpdate = !1;
function initializeUpdateQueue(fiber) {
  fiber.updateQueue = {
    baseState: fiber.memoizedState,
    firstBaseUpdate: null,
    lastBaseUpdate: null,
    shared: { pending: null, lanes: 0, hiddenCallbacks: null },
    callbacks: null
  };
}
function cloneUpdateQueue(current, workInProgress) {
  current = current.updateQueue;
  workInProgress.updateQueue === current &&
    (workInProgress.updateQueue = {
      baseState: current.baseState,
      firstBaseUpdate: current.firstBaseUpdate,
      lastBaseUpdate: current.lastBaseUpdate,
      shared: current.shared,
      callbacks: null
    });
}
function createUpdate(lane) {
  return { lane: lane, tag: 0, payload: null, callback: null, next: null };
}
function enqueueUpdate(fiber, update, lane) {
  var updateQueue = fiber.updateQueue;
  if (null === updateQueue) return null;
  updateQueue = updateQueue.shared;
  if (0 !== (executionContext & 2)) {
    var pending = updateQueue.pending;
    null === pending
      ? (update.next = update)
      : ((update.next = pending.next), (pending.next = update));
    updateQueue.pending = update;
    update = getRootForUpdatedFiber(fiber);
    markUpdateLaneFromFiberToRoot(fiber, null, lane);
    return update;
  }
  enqueueUpdate$1(fiber, updateQueue, update, lane);
  return getRootForUpdatedFiber(fiber);
}
function entangleTransitions(root, fiber, lane) {
  fiber = fiber.updateQueue;
  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194048))) {
    var queueLanes = fiber.lanes;
    queueLanes &= root.pendingLanes;
    lane |= queueLanes;
    fiber.lanes = lane;
    markRootEntangled(root, lane);
  }
}
function enqueueCapturedUpdate(workInProgress, capturedUpdate) {
  var queue = workInProgress.updateQueue,
    current = workInProgress.alternate;
  if (
    null !== current &&
    ((current = current.updateQueue), queue === current)
  ) {
    var newFirst = null,
      newLast = null;
    queue = queue.firstBaseUpdate;
    if (null !== queue) {
      do {
        var clone = {
          lane: queue.lane,
          tag: queue.tag,
          payload: queue.payload,
          callback: null,
          next: null
        };
        null === newLast
          ? (newFirst = newLast = clone)
          : (newLast = newLast.next = clone);
        queue = queue.next;
      } while (null !== queue);
      null === newLast
        ? (newFirst = newLast = capturedUpdate)
        : (newLast = newLast.next = capturedUpdate);
    } else newFirst = newLast = capturedUpdate;
    queue = {
      baseState: current.baseState,
      firstBaseUpdate: newFirst,
      lastBaseUpdate: newLast,
      shared: current.shared,
      callbacks: current.callbacks
    };
    workInProgress.updateQueue = queue;
    return;
  }
  workInProgress = queue.lastBaseUpdate;
  null === workInProgress
    ? (queue.firstBaseUpdate = capturedUpdate)
    : (workInProgress.next = capturedUpdate);
  queue.lastBaseUpdate = capturedUpdate;
}
var didReadFromEntangledAsyncAction = !1;
function suspendIfUpdateReadFromEntangledAsyncAction() {
  if (didReadFromEntangledAsyncAction) {
    var entangledActionThenable = currentEntangledActionThenable;
    if (null !== entangledActionThenable) throw entangledActionThenable;
  }
}
function processUpdateQueue(
  workInProgress$jscomp$0,
  props,
  instance$jscomp$0,
  renderLanes
) {
  didReadFromEntangledAsyncAction = !1;
  var queue = workInProgress$jscomp$0.updateQueue;
  hasForceUpdate = !1;
  var firstBaseUpdate = queue.firstBaseUpdate,
    lastBaseUpdate = queue.lastBaseUpdate,
    pendingQueue = queue.shared.pending;
  if (null !== pendingQueue) {
    queue.shared.pending = null;
    var lastPendingUpdate = pendingQueue,
      firstPendingUpdate = lastPendingUpdate.next;
    lastPendingUpdate.next = null;
    null === lastBaseUpdate
      ? (firstBaseUpdate = firstPendingUpdate)
      : (lastBaseUpdate.next = firstPendingUpdate);
    lastBaseUpdate = lastPendingUpdate;
    var current = workInProgress$jscomp$0.alternate;
    null !== current &&
      ((current = current.updateQueue),
      (pendingQueue = current.lastBaseUpdate),
      pendingQueue !== lastBaseUpdate &&
        (null === pendingQueue
          ? (current.firstBaseUpdate = firstPendingUpdate)
          : (pendingQueue.next = firstPendingUpdate),
        (current.lastBaseUpdate = lastPendingUpdate)));
  }
  if (null !== firstBaseUpdate) {
    var newState = queue.baseState;
    lastBaseUpdate = 0;
    current = firstPendingUpdate = lastPendingUpdate = null;
    pendingQueue = firstBaseUpdate;
    do {
      var updateLane = pendingQueue.lane & -536870913,
        isHiddenUpdate = updateLane !== pendingQueue.lane;
      if (
        isHiddenUpdate
          ? (workInProgressRootRenderLanes & updateLane) === updateLane
          : (renderLanes & updateLane) === updateLane
      ) {
        0 !== updateLane &&
          updateLane === currentEntangledLane &&
          (didReadFromEntangledAsyncAction = !0);
        null !== current &&
          (current = current.next =
            {
              lane: 0,
              tag: pendingQueue.tag,
              payload: pendingQueue.payload,
              callback: null,
              next: null
            });
        a: {
          var workInProgress = workInProgress$jscomp$0,
            update = pendingQueue;
          updateLane = props;
          var instance = instance$jscomp$0;
          switch (update.tag) {
            case 1:
              workInProgress = update.payload;
              if ("function" === typeof workInProgress) {
                newState = workInProgress.call(instance, newState, updateLane);
                break a;
              }
              newState = workInProgress;
              break a;
            case 3:
              workInProgress.flags = (workInProgress.flags & -65537) | 128;
            case 0:
              workInProgress = update.payload;
              updateLane =
                "function" === typeof workInProgress
                  ? workInProgress.call(instance, newState, updateLane)
                  : workInProgress;
              if (null === updateLane || void 0 === updateLane) break a;
              newState = assign({}, newState, updateLane);
              break a;
            case 2:
              hasForceUpdate = !0;
          }
        }
        updateLane = pendingQueue.callback;
        null !== updateLane &&
          ((workInProgress$jscomp$0.flags |= 64),
          isHiddenUpdate && (workInProgress$jscomp$0.flags |= 8192),
          (isHiddenUpdate = queue.callbacks),
          null === isHiddenUpdate
            ? (queue.callbacks = [updateLane])
            : isHiddenUpdate.push(updateLane));
      } else
        (isHiddenUpdate = {
          lane: updateLane,
          tag: pendingQueue.tag,
          payload: pendingQueue.payload,
          callback: pendingQueue.callback,
          next: null
        }),
          null === current
            ? ((firstPendingUpdate = current = isHiddenUpdate),
              (lastPendingUpdate = newState))
            : (current = current.next = isHiddenUpdate),
          (lastBaseUpdate |= updateLane);
      pendingQueue = pendingQueue.next;
      if (null === pendingQueue)
        if (((pendingQueue = queue.shared.pending), null === pendingQueue))
          break;
        else
          (isHiddenUpdate = pendingQueue),
            (pendingQueue = isHiddenUpdate.next),
            (isHiddenUpdate.next = null),
            (queue.lastBaseUpdate = isHiddenUpdate),
            (queue.shared.pending = null);
    } while (1);
    null === current && (lastPendingUpdate = newState);
    queue.baseState = lastPendingUpdate;
    queue.firstBaseUpdate = firstPendingUpdate;
    queue.lastBaseUpdate = current;
    null === firstBaseUpdate && (queue.shared.lanes = 0);
    workInProgressRootSkippedLanes |= lastBaseUpdate;
    workInProgress$jscomp$0.lanes = lastBaseUpdate;
    workInProgress$jscomp$0.memoizedState = newState;
  }
}
function callCallback(callback, context) {
  if ("function" !== typeof callback)
    throw Error(formatProdErrorMessage(191, callback));
  callback.call(context);
}
function commitCallbacks(updateQueue, context) {
  var callbacks = updateQueue.callbacks;
  if (null !== callbacks)
    for (
      updateQueue.callbacks = null, updateQueue = 0;
      updateQueue < callbacks.length;
      updateQueue++
    )
      callCallback(callbacks[updateQueue], context);
}
var currentTreeHiddenStackCursor = createCursor(null),
  prevEntangledRenderLanesCursor = createCursor(0);
function pushHiddenContext(fiber, context) {
  fiber = entangledRenderLanes;
  push(prevEntangledRenderLanesCursor, fiber);
  push(currentTreeHiddenStackCursor, context);
  entangledRenderLanes = fiber | context.baseLanes;
}
function reuseHiddenContextOnStack() {
  push(prevEntangledRenderLanesCursor, entangledRenderLanes);
  push(currentTreeHiddenStackCursor, currentTreeHiddenStackCursor.current);
}
function popHiddenContext() {
  entangledRenderLanes = prevEntangledRenderLanesCursor.current;
  pop(currentTreeHiddenStackCursor);
  pop(prevEntangledRenderLanesCursor);
}
var suspenseHandlerStackCursor = createCursor(null),
  shellBoundary = null;
function pushPrimaryTreeSuspenseHandler(handler) {
  var current = handler.alternate;
  push(suspenseStackCursor, suspenseStackCursor.current & 1);
  push(suspenseHandlerStackCursor, handler);
  null === shellBoundary &&
    (null === current || null !== currentTreeHiddenStackCursor.current
      ? (shellBoundary = handler)
      : null !== current.memoizedState && (shellBoundary = handler));
}
function pushDehydratedActivitySuspenseHandler(fiber) {
  push(suspenseStackCursor, suspenseStackCursor.current);
  push(suspenseHandlerStackCursor, fiber);
  null === shellBoundary && (shellBoundary = fiber);
}
function pushOffscreenSuspenseHandler(fiber) {
  22 === fiber.tag
    ? (push(suspenseStackCursor, suspenseStackCursor.current),
      push(suspenseHandlerStackCursor, fiber),
      null === shellBoundary && (shellBoundary = fiber))
    : reuseSuspenseHandlerOnStack(fiber);
}
function reuseSuspenseHandlerOnStack() {
  push(suspenseStackCursor, suspenseStackCursor.current);
  push(suspenseHandlerStackCursor, suspenseHandlerStackCursor.current);
}
function popSuspenseHandler(fiber) {
  pop(suspenseHandlerStackCursor);
  shellBoundary === fiber && (shellBoundary = null);
  pop(suspenseStackCursor);
}
var suspenseStackCursor = createCursor(0);
function findFirstSuspended(row) {
  for (var node = row; null !== node; ) {
    if (13 === node.tag) {
      var state = node.memoizedState;
      if (
        null !== state &&
        ((state = state.dehydrated),
        null === state ||
          isSuspenseInstancePending(state) ||
          isSuspenseInstanceFallback(state))
      )
        return node;
    } else if (
      19 === node.tag &&
      ("forwards" === node.memoizedProps.revealOrder ||
        "backwards" === node.memoizedProps.revealOrder ||
        "unstable_legacy-backwards" === node.memoizedProps.revealOrder ||
        "together" === node.memoizedProps.revealOrder)
    ) {
      if (0 !== (node.flags & 128)) return node;
    } else if (null !== node.child) {
      node.child.return = node;
      node = node.child;
      continue;
    }
    if (node === row) break;
    for (; null === node.sibling; ) {
      if (null === node.return || node.return === row) return null;
      node = node.return;
    }
    node.sibling.return = node.return;
    node = node.sibling;
  }
  return null;
}
var renderLanes = 0,
  currentlyRenderingFiber = null,
  currentHook = null,
  workInProgressHook = null,
  didScheduleRenderPhaseUpdate = !1,
  didScheduleRenderPhaseUpdateDuringThisPass = !1,
  shouldDoubleInvokeUserFnsInHooksDEV = !1,
  localIdCounter = 0,
  thenableIndexCounter = 0,
  thenableState = null,
  globalClientIdCounter = 0;
function throwInvalidHookError() {
  throw Error(formatProdErrorMessage(321));
}
function areHookInputsEqual(nextDeps, prevDeps) {
  if (null === prevDeps) return !1;
  for (var i = 0; i < prevDeps.length && i < nextDeps.length; i++)
    if (!objectIs(nextDeps[i], prevDeps[i])) return !1;
  return !0;
}
function renderWithHooks(
  current,
  workInProgress,
  Component,
  props,
  secondArg,
  nextRenderLanes
) {
  renderLanes = nextRenderLanes;
  currentlyRenderingFiber = workInProgress;
  workInProgress.memoizedState = null;
  workInProgress.updateQueue = null;
  workInProgress.lanes = 0;
  ReactSharedInternals.H =
    null === current || null === current.memoizedState
      ? HooksDispatcherOnMount
      : HooksDispatcherOnUpdate;
  shouldDoubleInvokeUserFnsInHooksDEV = !1;
  nextRenderLanes = Component(props, secondArg);
  shouldDoubleInvokeUserFnsInHooksDEV = !1;
  didScheduleRenderPhaseUpdateDuringThisPass &&
    (nextRenderLanes = renderWithHooksAgain(
      workInProgress,
      Component,
      props,
      secondArg
    ));
  finishRenderingHooks(current);
  return nextRenderLanes;
}
function finishRenderingHooks(current) {
  ReactSharedInternals.H = ContextOnlyDispatcher;
  var didRenderTooFewHooks = null !== currentHook && null !== currentHook.next;
  renderLanes = 0;
  workInProgressHook = currentHook = currentlyRenderingFiber = null;
  didScheduleRenderPhaseUpdate = !1;
  thenableIndexCounter = 0;
  thenableState = null;
  if (didRenderTooFewHooks) throw Error(formatProdErrorMessage(300));
  null === current ||
    didReceiveUpdate ||
    ((current = current.dependencies),
    null !== current &&
      checkIfContextChanged(current) &&
      (didReceiveUpdate = !0));
}
function renderWithHooksAgain(workInProgress, Component, props, secondArg) {
  currentlyRenderingFiber = workInProgress;
  var numberOfReRenders = 0;
  do {
    didScheduleRenderPhaseUpdateDuringThisPass && (thenableState = null);
    thenableIndexCounter = 0;
    didScheduleRenderPhaseUpdateDuringThisPass = !1;
    if (25 <= numberOfReRenders) throw Error(formatProdErrorMessage(301));
    numberOfReRenders += 1;
    workInProgressHook = currentHook = null;
    if (null != workInProgress.updateQueue) {
      var children = workInProgress.updateQueue;
      children.lastEffect = null;
      children.events = null;
      children.stores = null;
      null != children.memoCache && (children.memoCache.index = 0);
    }
    ReactSharedInternals.H = HooksDispatcherOnRerender;
    children = Component(props, secondArg);
  } while (didScheduleRenderPhaseUpdateDuringThisPass);
  return children;
}
function TransitionAwareHostComponent() {
  var dispatcher = ReactSharedInternals.H,
    maybeThenable = dispatcher.useState()[0];
  maybeThenable =
    "function" === typeof maybeThenable.then
      ? useThenable(maybeThenable)
      : maybeThenable;
  dispatcher = dispatcher.useState()[0];
  (null !== currentHook ? currentHook.memoizedState : null) !== dispatcher &&
    (currentlyRenderingFiber.flags |= 1024);
  return maybeThenable;
}
function checkDidRenderIdHook() {
  var didRenderIdHook = 0 !== localIdCounter;
  localIdCounter = 0;
  return didRenderIdHook;
}
function bailoutHooks(current, workInProgress, lanes) {
  workInProgress.updateQueue = current.updateQueue;
  workInProgress.flags &= -2053;
  current.lanes &= ~lanes;
}
function resetHooksOnUnwind(workInProgress) {
  if (didScheduleRenderPhaseUpdate) {
    for (
      workInProgress = workInProgress.memoizedState;
      null !== workInProgress;

    ) {
      var queue = workInProgress.queue;
      null !== queue && (queue.pending = null);
      workInProgress = workInProgress.next;
    }
    didScheduleRenderPhaseUpdate = !1;
  }
  renderLanes = 0;
  workInProgressHook = currentHook = currentlyRenderingFiber = null;
  didScheduleRenderPhaseUpdateDuringThisPass = !1;
  thenableIndexCounter = localIdCounter = 0;
  thenableState = null;
}
function mountWorkInProgressHook() {
  var hook = {
    memoizedState: null,
    baseState: null,
    baseQueue: null,
    queue: null,
    next: null
  };
  null === workInProgressHook
    ? (currentlyRenderingFiber.memoizedState = workInProgressHook = hook)
    : (workInProgressHook = workInProgressHook.next = hook);
  return workInProgressHook;
}
function updateWorkInProgressHook() {
  if (null === currentHook) {
    var nextCurrentHook = currentlyRenderingFiber.alternate;
    nextCurrentHook =
      null !== nextCurrentHook ? nextCurrentHook.memoizedState : null;
  } else nextCurrentHook = currentHook.next;
  var nextWorkInProgressHook =
    null === workInProgressHook
      ? currentlyRenderingFiber.memoizedState
      : workInProgressHook.next;
  if (null !== nextWorkInProgressHook)
    (workInProgressHook = nextWorkInProgressHook),
      (currentHook = nextCurrentHook);
  else {
    if (null === nextCurrentHook) {
      if (null === currentlyRenderingFiber.alternate)
        throw Error(formatProdErrorMessage(467));
      throw Error(formatProdErrorMessage(310));
    }
    currentHook = nextCurrentHook;
    nextCurrentHook = {
      memoizedState: currentHook.memoizedState,
      baseState: currentHook.baseState,
      baseQueue: currentHook.baseQueue,
      queue: currentHook.queue,
      next: null
    };
    null === workInProgressHook
      ? (currentlyRenderingFiber.memoizedState = workInProgressHook =
          nextCurrentHook)
      : (workInProgressHook = workInProgressHook.next = nextCurrentHook);
  }
  return workInProgressHook;
}
function createFunctionComponentUpdateQueue() {
  return { lastEffect: null, events: null, stores: null, memoCache: null };
}
function useThenable(thenable) {
  var index = thenableIndexCounter;
  thenableIndexCounter += 1;
  null === thenableState && (thenableState = []);
  thenable = trackUsedThenable(thenableState, thenable, index);
  index = currentlyRenderingFiber;
  null ===
    (null === workInProgressHook
      ? index.memoizedState
      : workInProgressHook.next) &&
    ((index = index.alternate),
    (ReactSharedInternals.H =
      null === index || null === index.memoizedState
        ? HooksDispatcherOnMount
        : HooksDispatcherOnUpdate));
  return thenable;
}
function use(usable) {
  if (null !== usable && "object" === typeof usable) {
    if ("function" === typeof usable.then) return useThenable(usable);
    if (usable.$$typeof === REACT_CONTEXT_TYPE) return readContext(usable);
  }
  throw Error(formatProdErrorMessage(438, String(usable)));
}
function useMemoCache(size) {
  var memoCache = null,
    updateQueue = currentlyRenderingFiber.updateQueue;
  null !== updateQueue && (memoCache = updateQueue.memoCache);
  if (null == memoCache) {
    var current = currentlyRenderingFiber.alternate;
    null !== current &&
      ((current = current.updateQueue),
      null !== current &&
        ((current = current.memoCache),
        null != current &&
          (memoCache = {
            data: current.data.map(function (array) {
              return array.slice();
            }),
            index: 0
          })));
  }
  null == memoCache && (memoCache = { data: [], index: 0 });
  null === updateQueue &&
    ((updateQueue = createFunctionComponentUpdateQueue()),
    (currentlyRenderingFiber.updateQueue = updateQueue));
  updateQueue.memoCache = memoCache;
  updateQueue = memoCache.data[memoCache.index];
  if (void 0 === updateQueue)
    for (
      updateQueue = memoCache.data[memoCache.index] = Array(size), current = 0;
      current < size;
      current++
    )
      updateQueue[current] = REACT_MEMO_CACHE_SENTINEL;
  memoCache.index++;
  return updateQueue;
}
function basicStateReducer(state, action) {
  return "function" === typeof action ? action(state) : action;
}
function updateReducer(reducer) {
  var hook = updateWorkInProgressHook();
  return updateReducerImpl(hook, currentHook, reducer);
}
function updateReducerImpl(hook, current, reducer) {
  var queue = hook.queue;
  if (null === queue) throw Error(formatProdErrorMessage(311));
  queue.lastRenderedReducer = reducer;
  var baseQueue = hook.baseQueue,
    pendingQueue = queue.pending;
  if (null !== pendingQueue) {
    if (null !== baseQueue) {
      var baseFirst = baseQueue.next;
      baseQueue.next = pendingQueue.next;
      pendingQueue.next = baseFirst;
    }
    current.baseQueue = baseQueue = pendingQueue;
    queue.pending = null;
  }
  pendingQueue = hook.baseState;
  if (null === baseQueue) hook.memoizedState = pendingQueue;
  else {
    current = baseQueue.next;
    var newBaseQueueFirst = (baseFirst = null),
      newBaseQueueLast = null,
      update = current,
      didReadFromEntangledAsyncAction$60 = !1;
    do {
      var updateLane = update.lane & -536870913;
      if (
        updateLane !== update.lane
          ? (workInProgressRootRenderLanes & updateLane) === updateLane
          : (renderLanes & updateLane) === updateLane
      ) {
        var revertLane = update.revertLane;
        if (0 === revertLane)
          null !== newBaseQueueLast &&
            (newBaseQueueLast = newBaseQueueLast.next =
              {
                lane: 0,
                revertLane: 0,
                gesture: null,
                action: update.action,
                hasEagerState: update.hasEagerState,
                eagerState: update.eagerState,
                next: null
              }),
            updateLane === currentEntangledLane &&
              (didReadFromEntangledAsyncAction$60 = !0);
        else if ((renderLanes & revertLane) === revertLane) {
          update = update.next;
          revertLane === currentEntangledLane &&
            (didReadFromEntangledAsyncAction$60 = !0);
          continue;
        } else
          (updateLane = {
            lane: 0,
            revertLane: update.revertLane,
            gesture: null,
            action: update.action,
            hasEagerState: update.hasEagerState,
            eagerState: update.eagerState,
            next: null
          }),
            null === newBaseQueueLast
              ? ((newBaseQueueFirst = newBaseQueueLast = updateLane),
                (baseFirst = pendingQueue))
              : (newBaseQueueLast = newBaseQueueLast.next = updateLane),
            (currentlyRenderingFiber.lanes |= revertLane),
            (workInProgressRootSkippedLanes |= revertLane);
        updateLane = update.action;
        shouldDoubleInvokeUserFnsInHooksDEV &&
          reducer(pendingQueue, updateLane);
        pendingQueue = update.hasEagerState
          ? update.eagerState
          : reducer(pendingQueue, updateLane);
      } else
        (revertLane = {
          lane: updateLane,
          revertLane: update.revertLane,
          gesture: update.gesture,
          action: update.action,
          hasEagerState: update.hasEagerState,
          eagerState: update.eagerState,
          next: null
        }),
          null === newBaseQueueLast
            ? ((newBaseQueueFirst = newBaseQueueLast = revertLane),
              (baseFirst = pendingQueue))
            : (newBaseQueueLast = newBaseQueueLast.next = revertLane),
          (currentlyRenderingFiber.lanes |= updateLane),
          (workInProgressRootSkippedLanes |= updateLane);
      update = update.next;
    } while (null !== update && update !== current);
    null === newBaseQueueLast
      ? (baseFirst = pendingQueue)
      : (newBaseQueueLast.next = newBaseQueueFirst);
    if (
      !objectIs(pendingQueue, hook.memoizedState) &&
      ((didReceiveUpdate = !0),
      didReadFromEntangledAsyncAction$60 &&
        ((reducer = currentEntangledActionThenable), null !== reducer))
    )
      throw reducer;
    hook.memoizedState = pendingQueue;
    hook.baseState = baseFirst;
    hook.baseQueue = newBaseQueueLast;
    queue.lastRenderedState = pendingQueue;
  }
  null === baseQueue && (queue.lanes = 0);
  return [hook.memoizedState, queue.dispatch];
}
function rerenderReducer(reducer) {
  var hook = updateWorkInProgressHook(),
    queue = hook.queue;
  if (null === queue) throw Error(formatProdErrorMessage(311));
  queue.lastRenderedReducer = reducer;
  var dispatch = queue.dispatch,
    lastRenderPhaseUpdate = queue.pending,
    newState = hook.memoizedState;
  if (null !== lastRenderPhaseUpdate) {
    queue.pending = null;
    var update = (lastRenderPhaseUpdate = lastRenderPhaseUpdate.next);
    do (newState = reducer(newState, update.action)), (update = update.next);
    while (update !== lastRenderPhaseUpdate);
    objectIs(newState, hook.memoizedState) || (didReceiveUpdate = !0);
    hook.memoizedState = newState;
    null === hook.baseQueue && (hook.baseState = newState);
    queue.lastRenderedState = newState;
  }
  return [newState, dispatch];
}
function updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {
  var fiber = currentlyRenderingFiber,
    hook = updateWorkInProgressHook(),
    isHydrating$jscomp$0 = isHydrating;
  if (isHydrating$jscomp$0) {
    if (void 0 === getServerSnapshot) throw Error(formatProdErrorMessage(407));
    getServerSnapshot = getServerSnapshot();
  } else getServerSnapshot = getSnapshot();
  var snapshotChanged = !objectIs(
    (currentHook || hook).memoizedState,
    getServerSnapshot
  );
  snapshotChanged &&
    ((hook.memoizedState = getServerSnapshot), (didReceiveUpdate = !0));
  hook = hook.queue;
  updateEffect(subscribeToStore.bind(null, fiber, hook, subscribe), [
    subscribe
  ]);
  if (
    hook.getSnapshot !== getSnapshot ||
    snapshotChanged ||
    (null !== workInProgressHook && workInProgressHook.memoizedState.tag & 1)
  ) {
    fiber.flags |= 2048;
    pushSimpleEffect(
      9,
      { destroy: void 0 },
      updateStoreInstance.bind(
        null,
        fiber,
        hook,
        getServerSnapshot,
        getSnapshot
      ),
      null
    );
    if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));
    isHydrating$jscomp$0 ||
      0 !== (renderLanes & 127) ||
      pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);
  }
  return getServerSnapshot;
}
function pushStoreConsistencyCheck(fiber, getSnapshot, renderedSnapshot) {
  fiber.flags |= 16384;
  fiber = { getSnapshot: getSnapshot, value: renderedSnapshot };
  getSnapshot = currentlyRenderingFiber.updateQueue;
  null === getSnapshot
    ? ((getSnapshot = createFunctionComponentUpdateQueue()),
      (currentlyRenderingFiber.updateQueue = getSnapshot),
      (getSnapshot.stores = [fiber]))
    : ((renderedSnapshot = getSnapshot.stores),
      null === renderedSnapshot
        ? (getSnapshot.stores = [fiber])
        : renderedSnapshot.push(fiber));
}
function updateStoreInstance(fiber, inst, nextSnapshot, getSnapshot) {
  inst.value = nextSnapshot;
  inst.getSnapshot = getSnapshot;
  checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);
}
function subscribeToStore(fiber, inst, subscribe) {
  return subscribe(function () {
    checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);
  });
}
function checkIfSnapshotChanged(inst) {
  var latestGetSnapshot = inst.getSnapshot;
  inst = inst.value;
  try {
    var nextValue = latestGetSnapshot();
    return !objectIs(inst, nextValue);
  } catch (error) {
    return !0;
  }
}
function forceStoreRerender(fiber) {
  var root = enqueueConcurrentRenderForLane(fiber, 2);
  null !== root && scheduleUpdateOnFiber(root, fiber, 2);
}
function mountStateImpl(initialState) {
  var hook = mountWorkInProgressHook();
  if ("function" === typeof initialState) {
    var initialStateInitializer = initialState;
    initialState = initialStateInitializer();
    if (shouldDoubleInvokeUserFnsInHooksDEV) {
      setIsStrictModeForDevtools(!0);
      try {
        initialStateInitializer();
      } finally {
        setIsStrictModeForDevtools(!1);
      }
    }
  }
  hook.memoizedState = hook.baseState = initialState;
  hook.queue = {
    pending: null,
    lanes: 0,
    dispatch: null,
    lastRenderedReducer: basicStateReducer,
    lastRenderedState: initialState
  };
  return hook;
}
function updateOptimisticImpl(hook, current, passthrough, reducer) {
  hook.baseState = passthrough;
  return updateReducerImpl(
    hook,
    currentHook,
    "function" === typeof reducer ? reducer : basicStateReducer
  );
}
function dispatchActionState(
  fiber,
  actionQueue,
  setPendingState,
  setState,
  payload
) {
  if (isRenderPhaseUpdate(fiber)) throw Error(formatProdErrorMessage(485));
  fiber = actionQueue.action;
  if (null !== fiber) {
    var actionNode = {
      payload: payload,
      action: fiber,
      next: null,
      isTransition: !0,
      status: "pending",
      value: null,
      reason: null,
      listeners: [],
      then: function (listener) {
        actionNode.listeners.push(listener);
      }
    };
    null !== ReactSharedInternals.T
      ? setPendingState(!0)
      : (actionNode.isTransition = !1);
    setState(actionNode);
    setPendingState = actionQueue.pending;
    null === setPendingState
      ? ((actionNode.next = actionQueue.pending = actionNode),
        runActionStateAction(actionQueue, actionNode))
      : ((actionNode.next = setPendingState.next),
        (actionQueue.pending = setPendingState.next = actionNode));
  }
}
function runActionStateAction(actionQueue, node) {
  var action = node.action,
    payload = node.payload,
    prevState = actionQueue.state;
  if (node.isTransition) {
    var prevTransition = ReactSharedInternals.T,
      currentTransition = {};
    ReactSharedInternals.T = currentTransition;
    try {
      var returnValue = action(prevState, payload),
        onStartTransitionFinish = ReactSharedInternals.S;
      null !== onStartTransitionFinish &&
        onStartTransitionFinish(currentTransition, returnValue);
      handleActionReturnValue(actionQueue, node, returnValue);
    } catch (error) {
      onActionError(actionQueue, node, error);
    } finally {
      null !== prevTransition &&
        null !== currentTransition.types &&
        (prevTransition.types = currentTransition.types),
        (ReactSharedInternals.T = prevTransition);
    }
  } else
    try {
      (prevTransition = action(prevState, payload)),
        handleActionReturnValue(actionQueue, node, prevTransition);
    } catch (error$66) {
      onActionError(actionQueue, node, error$66);
    }
}
function handleActionReturnValue(actionQueue, node, returnValue) {
  null !== returnValue &&
  "object" === typeof returnValue &&
  "function" === typeof returnValue.then
    ? returnValue.then(
        function (nextState) {
          onActionSuccess(actionQueue, node, nextState);
        },
        function (error) {
          return onActionError(actionQueue, node, error);
        }
      )
    : onActionSuccess(actionQueue, node, returnValue);
}
function onActionSuccess(actionQueue, actionNode, nextState) {
  actionNode.status = "fulfilled";
  actionNode.value = nextState;
  notifyActionListeners(actionNode);
  actionQueue.state = nextState;
  actionNode = actionQueue.pending;
  null !== actionNode &&
    ((nextState = actionNode.next),
    nextState === actionNode
      ? (actionQueue.pending = null)
      : ((nextState = nextState.next),
        (actionNode.next = nextState),
        runActionStateAction(actionQueue, nextState)));
}
function onActionError(actionQueue, actionNode, error) {
  var last = actionQueue.pending;
  actionQueue.pending = null;
  if (null !== last) {
    last = last.next;
    do
      (actionNode.status = "rejected"),
        (actionNode.reason = error),
        notifyActionListeners(actionNode),
        (actionNode = actionNode.next);
    while (actionNode !== last);
  }
  actionQueue.action = null;
}
function notifyActionListeners(actionNode) {
  actionNode = actionNode.listeners;
  for (var i = 0; i < actionNode.length; i++) (0, actionNode[i])();
}
function actionStateReducer(oldState, newState) {
  return newState;
}
function mountActionState(action, initialStateProp) {
  if (isHydrating) {
    var ssrFormState = workInProgressRoot.formState;
    if (null !== ssrFormState) {
      a: {
        var JSCompiler_inline_result = currentlyRenderingFiber;
        if (isHydrating) {
          if (nextHydratableInstance) {
            b: {
              var JSCompiler_inline_result$jscomp$0 = nextHydratableInstance;
              for (
                var inRootOrSingleton = rootOrSingletonContext;
                8 !== JSCompiler_inline_result$jscomp$0.nodeType;

              ) {
                if (!inRootOrSingleton) {
                  JSCompiler_inline_result$jscomp$0 = null;
                  break b;
                }
                JSCompiler_inline_result$jscomp$0 = getNextHydratable(
                  JSCompiler_inline_result$jscomp$0.nextSibling
                );
                if (null === JSCompiler_inline_result$jscomp$0) {
                  JSCompiler_inline_result$jscomp$0 = null;
                  break b;
                }
              }
              inRootOrSingleton = JSCompiler_inline_result$jscomp$0.data;
              JSCompiler_inline_result$jscomp$0 =
                "F!" === inRootOrSingleton || "F" === inRootOrSingleton
                  ? JSCompiler_inline_result$jscomp$0
                  : null;
            }
            if (JSCompiler_inline_result$jscomp$0) {
              nextHydratableInstance = getNextHydratable(
                JSCompiler_inline_result$jscomp$0.nextSibling
              );
              JSCompiler_inline_result =
                "F!" === JSCompiler_inline_result$jscomp$0.data;
              break a;
            }
          }
          throwOnHydrationMismatch(JSCompiler_inline_result);
        }
        JSCompiler_inline_result = !1;
      }
      JSCompiler_inline_result && (initialStateProp = ssrFormState[0]);
    }
  }
  ssrFormState = mountWorkInProgressHook();
  ssrFormState.memoizedState = ssrFormState.baseState = initialStateProp;
  JSCompiler_inline_result = {
    pending: null,
    lanes: 0,
    dispatch: null,
    lastRenderedReducer: actionStateReducer,
    lastRenderedState: initialStateProp
  };
  ssrFormState.queue = JSCompiler_inline_result;
  ssrFormState = dispatchSetState.bind(
    null,
    currentlyRenderingFiber,
    JSCompiler_inline_result
  );
  JSCompiler_inline_result.dispatch = ssrFormState;
  JSCompiler_inline_result = mountStateImpl(!1);
  inRootOrSingleton = dispatchOptimisticSetState.bind(
    null,
    currentlyRenderingFiber,
    !1,
    JSCompiler_inline_result.queue
  );
  JSCompiler_inline_result = mountWorkInProgressHook();
  JSCompiler_inline_result$jscomp$0 = {
    state: initialStateProp,
    dispatch: null,
    action: action,
    pending: null
  };
  JSCompiler_inline_result.queue = JSCompiler_inline_result$jscomp$0;
  ssrFormState = dispatchActionState.bind(
    null,
    currentlyRenderingFiber,
    JSCompiler_inline_result$jscomp$0,
    inRootOrSingleton,
    ssrFormState
  );
  JSCompiler_inline_result$jscomp$0.dispatch = ssrFormState;
  JSCompiler_inline_result.memoizedState = action;
  return [initialStateProp, ssrFormState, !1];
}
function updateActionState(action) {
  var stateHook = updateWorkInProgressHook();
  return updateActionStateImpl(stateHook, currentHook, action);
}
function updateActionStateImpl(stateHook, currentStateHook, action) {
  currentStateHook = updateReducerImpl(
    stateHook,
    currentStateHook,
    actionStateReducer
  )[0];
  stateHook = updateReducer(basicStateReducer)[0];
  if (
    "object" === typeof currentStateHook &&
    null !== currentStateHook &&
    "function" === typeof currentStateHook.then
  )
    try {
      var state = useThenable(currentStateHook);
    } catch (x) {
      if (x === SuspenseException) throw SuspenseActionException;
      throw x;
    }
  else state = currentStateHook;
  currentStateHook = updateWorkInProgressHook();
  var actionQueue = currentStateHook.queue,
    dispatch = actionQueue.dispatch;
  action !== currentStateHook.memoizedState &&
    ((currentlyRenderingFiber.flags |= 2048),
    pushSimpleEffect(
      9,
      { destroy: void 0 },
      actionStateActionEffect.bind(null, actionQueue, action),
      null
    ));
  return [state, dispatch, stateHook];
}
function actionStateActionEffect(actionQueue, action) {
  actionQueue.action = action;
}
function rerenderActionState(action) {
  var stateHook = updateWorkInProgressHook(),
    currentStateHook = currentHook;
  if (null !== currentStateHook)
    return updateActionStateImpl(stateHook, currentStateHook, action);
  updateWorkInProgressHook();
  stateHook = stateHook.memoizedState;
  currentStateHook = updateWorkInProgressHook();
  var dispatch = currentStateHook.queue.dispatch;
  currentStateHook.memoizedState = action;
  return [stateHook, dispatch, !1];
}
function pushSimpleEffect(tag, inst, create, deps) {
  tag = { tag: tag, create: create, deps: deps, inst: inst, next: null };
  inst = currentlyRenderingFiber.updateQueue;
  null === inst &&
    ((inst = createFunctionComponentUpdateQueue()),
    (currentlyRenderingFiber.updateQueue = inst));
  create = inst.lastEffect;
  null === create
    ? (inst.lastEffect = tag.next = tag)
    : ((deps = create.next),
      (create.next = tag),
      (tag.next = deps),
      (inst.lastEffect = tag));
  return tag;
}
function updateRef() {
  return updateWorkInProgressHook().memoizedState;
}
function mountEffectImpl(fiberFlags, hookFlags, create, deps) {
  var hook = mountWorkInProgressHook();
  currentlyRenderingFiber.flags |= fiberFlags;
  hook.memoizedState = pushSimpleEffect(
    1 | hookFlags,
    { destroy: void 0 },
    create,
    void 0 === deps ? null : deps
  );
}
function updateEffectImpl(fiberFlags, hookFlags, create, deps) {
  var hook = updateWorkInProgressHook();
  deps = void 0 === deps ? null : deps;
  var inst = hook.memoizedState.inst;
  null !== currentHook &&
  null !== deps &&
  areHookInputsEqual(deps, currentHook.memoizedState.deps)
    ? (hook.memoizedState = pushSimpleEffect(hookFlags, inst, create, deps))
    : ((currentlyRenderingFiber.flags |= fiberFlags),
      (hook.memoizedState = pushSimpleEffect(
        1 | hookFlags,
        inst,
        create,
        deps
      )));
}
function mountEffect(create, deps) {
  mountEffectImpl(8390656, 8, create, deps);
}
function updateEffect(create, deps) {
  updateEffectImpl(2048, 8, create, deps);
}
function useEffectEventImpl(payload) {
  currentlyRenderingFiber.flags |= 4;
  var componentUpdateQueue = currentlyRenderingFiber.updateQueue;
  if (null === componentUpdateQueue)
    (componentUpdateQueue = createFunctionComponentUpdateQueue()),
      (currentlyRenderingFiber.updateQueue = componentUpdateQueue),
      (componentUpdateQueue.events = [payload]);
  else {
    var events = componentUpdateQueue.events;
    null === events
      ? (componentUpdateQueue.events = [payload])
      : events.push(payload);
  }
}
function updateEvent(callback) {
  var ref = updateWorkInProgressHook().memoizedState;
  useEffectEventImpl({ ref: ref, nextImpl: callback });
  return function () {
    if (0 !== (executionContext & 2)) throw Error(formatProdErrorMessage(440));
    return ref.impl.apply(void 0, arguments);
  };
}
function updateInsertionEffect(create, deps) {
  return updateEffectImpl(4, 2, create, deps);
}
function updateLayoutEffect(create, deps) {
  return updateEffectImpl(4, 4, create, deps);
}
function imperativeHandleEffect(create, ref) {
  if ("function" === typeof ref) {
    create = create();
    var refCleanup = ref(create);
    return function () {
      "function" === typeof refCleanup ? refCleanup() : ref(null);
    };
  }
  if (null !== ref && void 0 !== ref)
    return (
      (create = create()),
      (ref.current = create),
      function () {
        ref.current = null;
      }
    );
}
function updateImperativeHandle(ref, create, deps) {
  deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;
  updateEffectImpl(4, 4, imperativeHandleEffect.bind(null, create, ref), deps);
}
function mountDebugValue() {}
function updateCallback(callback, deps) {
  var hook = updateWorkInProgressHook();
  deps = void 0 === deps ? null : deps;
  var prevState = hook.memoizedState;
  if (null !== deps && areHookInputsEqual(deps, prevState[1]))
    return prevState[0];
  hook.memoizedState = [callback, deps];
  return callback;
}
function updateMemo(nextCreate, deps) {
  var hook = updateWorkInProgressHook();
  deps = void 0 === deps ? null : deps;
  var prevState = hook.memoizedState;
  if (null !== deps && areHookInputsEqual(deps, prevState[1]))
    return prevState[0];
  prevState = nextCreate();
  if (shouldDoubleInvokeUserFnsInHooksDEV) {
    setIsStrictModeForDevtools(!0);
    try {
      nextCreate();
    } finally {
      setIsStrictModeForDevtools(!1);
    }
  }
  hook.memoizedState = [prevState, deps];
  return prevState;
}
function mountDeferredValueImpl(hook, value, initialValue) {
  if (
    void 0 === initialValue ||
    (0 !== (renderLanes & 1073741824) &&
      0 === (workInProgressRootRenderLanes & 261930))
  )
    return (hook.memoizedState = value);
  hook.memoizedState = initialValue;
  hook = requestDeferredLane();
  currentlyRenderingFiber.lanes |= hook;
  workInProgressRootSkippedLanes |= hook;
  return initialValue;
}
function updateDeferredValueImpl(hook, prevValue, value, initialValue) {
  if (objectIs(value, prevValue)) return value;
  if (null !== currentTreeHiddenStackCursor.current)
    return (
      (hook = mountDeferredValueImpl(hook, value, initialValue)),
      objectIs(hook, prevValue) || (didReceiveUpdate = !0),
      hook
    );
  if (
    0 === (renderLanes & 42) ||
    (0 !== (renderLanes & 1073741824) &&
      0 === (workInProgressRootRenderLanes & 261930))
  )
    return (didReceiveUpdate = !0), (hook.memoizedState = value);
  hook = requestDeferredLane();
  currentlyRenderingFiber.lanes |= hook;
  workInProgressRootSkippedLanes |= hook;
  return prevValue;
}
function startTransition(fiber, queue, pendingState, finishedState, callback) {
  var previousPriority = ReactDOMSharedInternals.p;
  ReactDOMSharedInternals.p =
    0 !== previousPriority && 8 > previousPriority ? previousPriority : 8;
  var prevTransition = ReactSharedInternals.T,
    currentTransition = {};
  ReactSharedInternals.T = currentTransition;
  dispatchOptimisticSetState(fiber, !1, queue, pendingState);
  try {
    var returnValue = callback(),
      onStartTransitionFinish = ReactSharedInternals.S;
    null !== onStartTransitionFinish &&
      onStartTransitionFinish(currentTransition, returnValue);
    if (
      null !== returnValue &&
      "object" === typeof returnValue &&
      "function" === typeof returnValue.then
    ) {
      var thenableForFinishedState = chainThenableValue(
        returnValue,
        finishedState
      );
      dispatchSetStateInternal(
        fiber,
        queue,
        thenableForFinishedState,
        requestUpdateLane(fiber)
      );
    } else
      dispatchSetStateInternal(
        fiber,
        queue,
        finishedState,
        requestUpdateLane(fiber)
      );
  } catch (error) {
    dispatchSetStateInternal(
      fiber,
      queue,
      { then: function () {}, status: "rejected", reason: error },
      requestUpdateLane()
    );
  } finally {
    (ReactDOMSharedInternals.p = previousPriority),
      null !== prevTransition &&
        null !== currentTransition.types &&
        (prevTransition.types = currentTransition.types),
      (ReactSharedInternals.T = prevTransition);
  }
}
function noop() {}
function startHostTransition(formFiber, pendingState, action, formData) {
  if (5 !== formFiber.tag) throw Error(formatProdErrorMessage(476));
  var queue = ensureFormComponentIsStateful(formFiber).queue;
  startTransition(
    formFiber,
    queue,
    pendingState,
    sharedNotPendingObject,
    null === action
      ? noop
      : function () {
          requestFormReset$1(formFiber);
          return action(formData);
        }
  );
}
function ensureFormComponentIsStateful(formFiber) {
  var existingStateHook = formFiber.memoizedState;
  if (null !== existingStateHook) return existingStateHook;
  existingStateHook = {
    memoizedState: sharedNotPendingObject,
    baseState: sharedNotPendingObject,
    baseQueue: null,
    queue: {
      pending: null,
      lanes: 0,
      dispatch: null,
      lastRenderedReducer: basicStateReducer,
      lastRenderedState: sharedNotPendingObject
    },
    next: null
  };
  var initialResetState = {};
  existingStateHook.next = {
    memoizedState: initialResetState,
    baseState: initialResetState,
    baseQueue: null,
    queue: {
      pending: null,
      lanes: 0,
      dispatch: null,
      lastRenderedReducer: basicStateReducer,
      lastRenderedState: initialResetState
    },
    next: null
  };
  formFiber.memoizedState = existingStateHook;
  formFiber = formFiber.alternate;
  null !== formFiber && (formFiber.memoizedState = existingStateHook);
  return existingStateHook;
}
function requestFormReset$1(formFiber) {
  var stateHook = ensureFormComponentIsStateful(formFiber);
  null === stateHook.next && (stateHook = formFiber.alternate.memoizedState);
  dispatchSetStateInternal(
    formFiber,
    stateHook.next.queue,
    {},
    requestUpdateLane()
  );
}
function useHostTransitionStatus() {
  return readContext(HostTransitionContext);
}
function updateId() {
  return updateWorkInProgressHook().memoizedState;
}
function updateRefresh() {
  return updateWorkInProgressHook().memoizedState;
}
function refreshCache(fiber) {
  for (var provider = fiber.return; null !== provider; ) {
    switch (provider.tag) {
      case 24:
      case 3:
        var lane = requestUpdateLane();
        fiber = createUpdate(lane);
        var root$69 = enqueueUpdate(provider, fiber, lane);
        null !== root$69 &&
          (scheduleUpdateOnFiber(root$69, provider, lane),
          entangleTransitions(root$69, provider, lane));
        provider = { cache: createCache() };
        fiber.payload = provider;
        return;
    }
    provider = provider.return;
  }
}
function dispatchReducerAction(fiber, queue, action) {
  var lane = requestUpdateLane();
  action = {
    lane: lane,
    revertLane: 0,
    gesture: null,
    action: action,
    hasEagerState: !1,
    eagerState: null,
    next: null
  };
  isRenderPhaseUpdate(fiber)
    ? enqueueRenderPhaseUpdate(queue, action)
    : ((action = enqueueConcurrentHookUpdate(fiber, queue, action, lane)),
      null !== action &&
        (scheduleUpdateOnFiber(action, fiber, lane),
        entangleTransitionUpdate(action, queue, lane)));
}
function dispatchSetState(fiber, queue, action) {
  var lane = requestUpdateLane();
  dispatchSetStateInternal(fiber, queue, action, lane);
}
function dispatchSetStateInternal(fiber, queue, action, lane) {
  var update = {
    lane: lane,
    revertLane: 0,
    gesture: null,
    action: action,
    hasEagerState: !1,
    eagerState: null,
    next: null
  };
  if (isRenderPhaseUpdate(fiber)) enqueueRenderPhaseUpdate(queue, update);
  else {
    var alternate = fiber.alternate;
    if (
      0 === fiber.lanes &&
      (null === alternate || 0 === alternate.lanes) &&
      ((alternate = queue.lastRenderedReducer), null !== alternate)
    )
      try {
        var currentState = queue.lastRenderedState,
          eagerState = alternate(currentState, action);
        update.hasEagerState = !0;
        update.eagerState = eagerState;
        if (objectIs(eagerState, currentState))
          return (
            enqueueUpdate$1(fiber, queue, update, 0),
            null === workInProgressRoot && finishQueueingConcurrentUpdates(),
            !1
          );
      } catch (error) {
      } finally {
      }
    action = enqueueConcurrentHookUpdate(fiber, queue, update, lane);
    if (null !== action)
      return (
        scheduleUpdateOnFiber(action, fiber, lane),
        entangleTransitionUpdate(action, queue, lane),
        !0
      );
  }
  return !1;
}
function dispatchOptimisticSetState(fiber, throwIfDuringRender, queue, action) {
  action = {
    lane: 2,
    revertLane: requestTransitionLane(),
    gesture: null,
    action: action,
    hasEagerState: !1,
    eagerState: null,
    next: null
  };
  if (isRenderPhaseUpdate(fiber)) {
    if (throwIfDuringRender) throw Error(formatProdErrorMessage(479));
  } else
    (throwIfDuringRender = enqueueConcurrentHookUpdate(
      fiber,
      queue,
      action,
      2
    )),
      null !== throwIfDuringRender &&
        scheduleUpdateOnFiber(throwIfDuringRender, fiber, 2);
}
function isRenderPhaseUpdate(fiber) {
  var alternate = fiber.alternate;
  return (
    fiber === currentlyRenderingFiber ||
    (null !== alternate && alternate === currentlyRenderingFiber)
  );
}
function enqueueRenderPhaseUpdate(queue, update) {
  didScheduleRenderPhaseUpdateDuringThisPass = didScheduleRenderPhaseUpdate =
    !0;
  var pending = queue.pending;
  null === pending
    ? (update.next = update)
    : ((update.next = pending.next), (pending.next = update));
  queue.pending = update;
}
function entangleTransitionUpdate(root, queue, lane) {
  if (0 !== (lane & 4194048)) {
    var queueLanes = queue.lanes;
    queueLanes &= root.pendingLanes;
    lane |= queueLanes;
    queue.lanes = lane;
    markRootEntangled(root, lane);
  }
}
var ContextOnlyDispatcher = {
  readContext: readContext,
  use: use,
  useCallback: throwInvalidHookError,
  useContext: throwInvalidHookError,
  useEffect: throwInvalidHookError,
  useImperativeHandle: throwInvalidHookError,
  useLayoutEffect: throwInvalidHookError,
  useInsertionEffect: throwInvalidHookError,
  useMemo: throwInvalidHookError,
  useReducer: throwInvalidHookError,
  useRef: throwInvalidHookError,
  useState: throwInvalidHookError,
  useDebugValue: throwInvalidHookError,
  useDeferredValue: throwInvalidHookError,
  useTransition: throwInvalidHookError,
  useSyncExternalStore: throwInvalidHookError,
  useId: throwInvalidHookError,
  useHostTransitionStatus: throwInvalidHookError,
  useFormState: throwInvalidHookError,
  useActionState: throwInvalidHookError,
  useOptimistic: throwInvalidHookError,
  useMemoCache: throwInvalidHookError,
  useCacheRefresh: throwInvalidHookError
};
ContextOnlyDispatcher.useEffectEvent = throwInvalidHookError;
var HooksDispatcherOnMount = {
    readContext: readContext,
    use: use,
    useCallback: function (callback, deps) {
      mountWorkInProgressHook().memoizedState = [
        callback,
        void 0 === deps ? null : deps
      ];
      return callback;
    },
    useContext: readContext,
    useEffect: mountEffect,
    useImperativeHandle: function (ref, create, deps) {
      deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;
      mountEffectImpl(
        4194308,
        4,
        imperativeHandleEffect.bind(null, create, ref),
        deps
      );
    },
    useLayoutEffect: function (create, deps) {
      return mountEffectImpl(4194308, 4, create, deps);
    },
    useInsertionEffect: function (create, deps) {
      mountEffectImpl(4, 2, create, deps);
    },
    useMemo: function (nextCreate, deps) {
      var hook = mountWorkInProgressHook();
      deps = void 0 === deps ? null : deps;
      var nextValue = nextCreate();
      if (shouldDoubleInvokeUserFnsInHooksDEV) {
        setIsStrictModeForDevtools(!0);
        try {
          nextCreate();
        } finally {
          setIsStrictModeForDevtools(!1);
        }
      }
      hook.memoizedState = [nextValue, deps];
      return nextValue;
    },
    useReducer: function (reducer, initialArg, init) {
      var hook = mountWorkInProgressHook();
      if (void 0 !== init) {
        var initialState = init(initialArg);
        if (shouldDoubleInvokeUserFnsInHooksDEV) {
          setIsStrictModeForDevtools(!0);
          try {
            init(initialArg);
          } finally {
            setIsStrictModeForDevtools(!1);
          }
        }
      } else initialState = initialArg;
      hook.memoizedState = hook.baseState = initialState;
      reducer = {
        pending: null,
        lanes: 0,
        dispatch: null,
        lastRenderedReducer: reducer,
        lastRenderedState: initialState
      };
      hook.queue = reducer;
      reducer = reducer.dispatch = dispatchReducerAction.bind(
        null,
        currentlyRenderingFiber,
        reducer
      );
      return [hook.memoizedState, reducer];
    },
    useRef: function (initialValue) {
      var hook = mountWorkInProgressHook();
      initialValue = { current: initialValue };
      return (hook.memoizedState = initialValue);
    },
    useState: function (initialState) {
      initialState = mountStateImpl(initialState);
      var queue = initialState.queue,
        dispatch = dispatchSetState.bind(null, currentlyRenderingFiber, queue);
      queue.dispatch = dispatch;
      return [initialState.memoizedState, dispatch];
    },
    useDebugValue: mountDebugValue,
    useDeferredValue: function (value, initialValue) {
      var hook = mountWorkInProgressHook();
      return mountDeferredValueImpl(hook, value, initialValue);
    },
    useTransition: function () {
      var stateHook = mountStateImpl(!1);
      stateHook = startTransition.bind(
        null,
        currentlyRenderingFiber,
        stateHook.queue,
        !0,
        !1
      );
      mountWorkInProgressHook().memoizedState = stateHook;
      return [!1, stateHook];
    },
    useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {
      var fiber = currentlyRenderingFiber,
        hook = mountWorkInProgressHook();
      if (isHydrating) {
        if (void 0 === getServerSnapshot)
          throw Error(formatProdErrorMessage(407));
        getServerSnapshot = getServerSnapshot();
      } else {
        getServerSnapshot = getSnapshot();
        if (null === workInProgressRoot)
          throw Error(formatProdErrorMessage(349));
        0 !== (workInProgressRootRenderLanes & 127) ||
          pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);
      }
      hook.memoizedState = getServerSnapshot;
      var inst = { value: getServerSnapshot, getSnapshot: getSnapshot };
      hook.queue = inst;
      mountEffect(subscribeToStore.bind(null, fiber, inst, subscribe), [
        subscribe
      ]);
      fiber.flags |= 2048;
      pushSimpleEffect(
        9,
        { destroy: void 0 },
        updateStoreInstance.bind(
          null,
          fiber,
          inst,
          getServerSnapshot,
          getSnapshot
        ),
        null
      );
      return getServerSnapshot;
    },
    useId: function () {
      var hook = mountWorkInProgressHook(),
        identifierPrefix = workInProgressRoot.identifierPrefix;
      if (isHydrating) {
        var JSCompiler_inline_result = treeContextOverflow;
        var idWithLeadingBit = treeContextId;
        JSCompiler_inline_result =
          (
            idWithLeadingBit & ~(1 << (32 - clz32(idWithLeadingBit) - 1))
          ).toString(32) + JSCompiler_inline_result;
        identifierPrefix =
          "_" + identifierPrefix + "R_" + JSCompiler_inline_result;
        JSCompiler_inline_result = localIdCounter++;
        0 < JSCompiler_inline_result &&
          (identifierPrefix += "H" + JSCompiler_inline_result.toString(32));
        identifierPrefix += "_";
      } else
        (JSCompiler_inline_result = globalClientIdCounter++),
          (identifierPrefix =
            "_" +
            identifierPrefix +
            "r_" +
            JSCompiler_inline_result.toString(32) +
            "_");
      return (hook.memoizedState = identifierPrefix);
    },
    useHostTransitionStatus: useHostTransitionStatus,
    useFormState: mountActionState,
    useActionState: mountActionState,
    useOptimistic: function (passthrough) {
      var hook = mountWorkInProgressHook();
      hook.memoizedState = hook.baseState = passthrough;
      var queue = {
        pending: null,
        lanes: 0,
        dispatch: null,
        lastRenderedReducer: null,
        lastRenderedState: null
      };
      hook.queue = queue;
      hook = dispatchOptimisticSetState.bind(
        null,
        currentlyRenderingFiber,
        !0,
        queue
      );
      queue.dispatch = hook;
      return [passthrough, hook];
    },
    useMemoCache: useMemoCache,
    useCacheRefresh: function () {
      return (mountWorkInProgressHook().memoizedState = refreshCache.bind(
        null,
        currentlyRenderingFiber
      ));
    },
    useEffectEvent: function (callback) {
      var hook = mountWorkInProgressHook(),
        ref = { impl: callback };
      hook.memoizedState = ref;
      return function () {
        if (0 !== (executionContext & 2))
          throw Error(formatProdErrorMessage(440));
        return ref.impl.apply(void 0, arguments);
      };
    }
  },
  HooksDispatcherOnUpdate = {
    readContext: readContext,
    use: use,
    useCallback: updateCallback,
    useContext: readContext,
    useEffect: updateEffect,
    useImperativeHandle: updateImperativeHandle,
    useInsertionEffect: updateInsertionEffect,
    useLayoutEffect: updateLayoutEffect,
    useMemo: updateMemo,
    useReducer: updateReducer,
    useRef: updateRef,
    useState: function () {
      return updateReducer(basicStateReducer);
    },
    useDebugValue: mountDebugValue,
    useDeferredValue: function (value, initialValue) {
      var hook = updateWorkInProgressHook();
      return updateDeferredValueImpl(
        hook,
        currentHook.memoizedState,
        value,
        initialValue
      );
    },
    useTransition: function () {
      var booleanOrThenable = updateReducer(basicStateReducer)[0],
        start = updateWorkInProgressHook().memoizedState;
      return [
        "boolean" === typeof booleanOrThenable
          ? booleanOrThenable
          : useThenable(booleanOrThenable),
        start
      ];
    },
    useSyncExternalStore: updateSyncExternalStore,
    useId: updateId,
    useHostTransitionStatus: useHostTransitionStatus,
    useFormState: updateActionState,
    useActionState: updateActionState,
    useOptimistic: function (passthrough, reducer) {
      var hook = updateWorkInProgressHook();
      return updateOptimisticImpl(hook, currentHook, passthrough, reducer);
    },
    useMemoCache: useMemoCache,
    useCacheRefresh: updateRefresh
  };
HooksDispatcherOnUpdate.useEffectEvent = updateEvent;
var HooksDispatcherOnRerender = {
  readContext: readContext,
  use: use,
  useCallback: updateCallback,
  useContext: readContext,
  useEffect: updateEffect,
  useImperativeHandle: updateImperativeHandle,
  useInsertionEffect: updateInsertionEffect,
  useLayoutEffect: updateLayoutEffect,
  useMemo: updateMemo,
  useReducer: rerenderReducer,
  useRef: updateRef,
  useState: function () {
    return rerenderReducer(basicStateReducer);
  },
  useDebugValue: mountDebugValue,
  useDeferredValue: function (value, initialValue) {
    var hook = updateWorkInProgressHook();
    return null === currentHook
      ? mountDeferredValueImpl(hook, value, initialValue)
      : updateDeferredValueImpl(
          hook,
          currentHook.memoizedState,
          value,
          initialValue
        );
  },
  useTransition: function () {
    var booleanOrThenable = rerenderReducer(basicStateReducer)[0],
      start = updateWorkInProgressHook().memoizedState;
    return [
      "boolean" === typeof booleanOrThenable
        ? booleanOrThenable
        : useThenable(booleanOrThenable),
      start
    ];
  },
  useSyncExternalStore: updateSyncExternalStore,
  useId: updateId,
  useHostTransitionStatus: useHostTransitionStatus,
  useFormState: rerenderActionState,
  useActionState: rerenderActionState,
  useOptimistic: function (passthrough, reducer) {
    var hook = updateWorkInProgressHook();
    if (null !== currentHook)
      return updateOptimisticImpl(hook, currentHook, passthrough, reducer);
    hook.baseState = passthrough;
    return [passthrough, hook.queue.dispatch];
  },
  useMemoCache: useMemoCache,
  useCacheRefresh: updateRefresh
};
HooksDispatcherOnRerender.useEffectEvent = updateEvent;
function applyDerivedStateFromProps(
  workInProgress,
  ctor,
  getDerivedStateFromProps,
  nextProps
) {
  ctor = workInProgress.memoizedState;
  getDerivedStateFromProps = getDerivedStateFromProps(nextProps, ctor);
  getDerivedStateFromProps =
    null === getDerivedStateFromProps || void 0 === getDerivedStateFromProps
      ? ctor
      : assign({}, ctor, getDerivedStateFromProps);
  workInProgress.memoizedState = getDerivedStateFromProps;
  0 === workInProgress.lanes &&
    (workInProgress.updateQueue.baseState = getDerivedStateFromProps);
}
var classComponentUpdater = {
  enqueueSetState: function (inst, payload, callback) {
    inst = inst._reactInternals;
    var lane = requestUpdateLane(),
      update = createUpdate(lane);
    update.payload = payload;
    void 0 !== callback && null !== callback && (update.callback = callback);
    payload = enqueueUpdate(inst, update, lane);
    null !== payload &&
      (scheduleUpdateOnFiber(payload, inst, lane),
      entangleTransitions(payload, inst, lane));
  },
  enqueueReplaceState: function (inst, payload, callback) {
    inst = inst._reactInternals;
    var lane = requestUpdateLane(),
      update = createUpdate(lane);
    update.tag = 1;
    update.payload = payload;
    void 0 !== callback && null !== callback && (update.callback = callback);
    payload = enqueueUpdate(inst, update, lane);
    null !== payload &&
      (scheduleUpdateOnFiber(payload, inst, lane),
      entangleTransitions(payload, inst, lane));
  },
  enqueueForceUpdate: function (inst, callback) {
    inst = inst._reactInternals;
    var lane = requestUpdateLane(),
      update = createUpdate(lane);
    update.tag = 2;
    void 0 !== callback && null !== callback && (update.callback = callback);
    callback = enqueueUpdate(inst, update, lane);
    null !== callback &&
      (scheduleUpdateOnFiber(callback, inst, lane),
      entangleTransitions(callback, inst, lane));
  }
};
function checkShouldComponentUpdate(
  workInProgress,
  ctor,
  oldProps,
  newProps,
  oldState,
  newState,
  nextContext
) {
  workInProgress = workInProgress.stateNode;
  return "function" === typeof workInProgress.shouldComponentUpdate
    ? workInProgress.shouldComponentUpdate(newProps, newState, nextContext)
    : ctor.prototype && ctor.prototype.isPureReactComponent
      ? !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)
      : !0;
}
function callComponentWillReceiveProps(
  workInProgress,
  instance,
  newProps,
  nextContext
) {
  workInProgress = instance.state;
  "function" === typeof instance.componentWillReceiveProps &&
    instance.componentWillReceiveProps(newProps, nextContext);
  "function" === typeof instance.UNSAFE_componentWillReceiveProps &&
    instance.UNSAFE_componentWillReceiveProps(newProps, nextContext);
  instance.state !== workInProgress &&
    classComponentUpdater.enqueueReplaceState(instance, instance.state, null);
}
function resolveClassComponentProps(Component, baseProps) {
  var newProps = baseProps;
  if ("ref" in baseProps) {
    newProps = {};
    for (var propName in baseProps)
      "ref" !== propName && (newProps[propName] = baseProps[propName]);
  }
  if ((Component = Component.defaultProps)) {
    newProps === baseProps && (newProps = assign({}, newProps));
    for (var propName$73 in Component)
      void 0 === newProps[propName$73] &&
        (newProps[propName$73] = Component[propName$73]);
  }
  return newProps;
}
function defaultOnUncaughtError(error) {
  reportGlobalError(error);
}
function defaultOnCaughtError(error) {
  console.error(error);
}
function defaultOnRecoverableError(error) {
  reportGlobalError(error);
}
function logUncaughtError(root, errorInfo) {
  try {
    var onUncaughtError = root.onUncaughtError;
    onUncaughtError(errorInfo.value, { componentStack: errorInfo.stack });
  } catch (e$74) {
    setTimeout(function () {
      throw e$74;
    });
  }
}
function logCaughtError(root, boundary, errorInfo) {
  try {
    var onCaughtError = root.onCaughtError;
    onCaughtError(errorInfo.value, {
      componentStack: errorInfo.stack,
      errorBoundary: 1 === boundary.tag ? boundary.stateNode : null
    });
  } catch (e$75) {
    setTimeout(function () {
      throw e$75;
    });
  }
}
function createRootErrorUpdate(root, errorInfo, lane) {
  lane = createUpdate(lane);
  lane.tag = 3;
  lane.payload = { element: null };
  lane.callback = function () {
    logUncaughtError(root, errorInfo);
  };
  return lane;
}
function createClassErrorUpdate(lane) {
  lane = createUpdate(lane);
  lane.tag = 3;
  return lane;
}
function initializeClassErrorUpdate(update, root, fiber, errorInfo) {
  var getDerivedStateFromError = fiber.type.getDerivedStateFromError;
  if ("function" === typeof getDerivedStateFromError) {
    var error = errorInfo.value;
    update.payload = function () {
      return getDerivedStateFromError(error);
    };
    update.callback = function () {
      logCaughtError(root, fiber, errorInfo);
    };
  }
  var inst = fiber.stateNode;
  null !== inst &&
    "function" === typeof inst.componentDidCatch &&
    (update.callback = function () {
      logCaughtError(root, fiber, errorInfo);
      "function" !== typeof getDerivedStateFromError &&
        (null === legacyErrorBoundariesThatAlreadyFailed
          ? (legacyErrorBoundariesThatAlreadyFailed = new Set([this]))
          : legacyErrorBoundariesThatAlreadyFailed.add(this));
      var stack = errorInfo.stack;
      this.componentDidCatch(errorInfo.value, {
        componentStack: null !== stack ? stack : ""
      });
    });
}
function throwException(
  root,
  returnFiber,
  sourceFiber,
  value,
  rootRenderLanes
) {
  sourceFiber.flags |= 32768;
  if (
    null !== value &&
    "object" === typeof value &&
    "function" === typeof value.then
  ) {
    returnFiber = sourceFiber.alternate;
    null !== returnFiber &&
      propagateParentContextChanges(
        returnFiber,
        sourceFiber,
        rootRenderLanes,
        !0
      );
    sourceFiber = suspenseHandlerStackCursor.current;
    if (null !== sourceFiber) {
      switch (sourceFiber.tag) {
        case 31:
        case 13:
          return (
            null === shellBoundary
              ? renderDidSuspendDelayIfPossible()
              : null === sourceFiber.alternate &&
                0 === workInProgressRootExitStatus &&
                (workInProgressRootExitStatus = 3),
            (sourceFiber.flags &= -257),
            (sourceFiber.flags |= 65536),
            (sourceFiber.lanes = rootRenderLanes),
            value === noopSuspenseyCommitThenable
              ? (sourceFiber.flags |= 16384)
              : ((returnFiber = sourceFiber.updateQueue),
                null === returnFiber
                  ? (sourceFiber.updateQueue = new Set([value]))
                  : returnFiber.add(value),
                attachPingListener(root, value, rootRenderLanes)),
            !1
          );
        case 22:
          return (
            (sourceFiber.flags |= 65536),
            value === noopSuspenseyCommitThenable
              ? (sourceFiber.flags |= 16384)
              : ((returnFiber = sourceFiber.updateQueue),
                null === returnFiber
                  ? ((returnFiber = {
                      transitions: null,
                      markerInstances: null,
                      retryQueue: new Set([value])
                    }),
                    (sourceFiber.updateQueue = returnFiber))
                  : ((sourceFiber = returnFiber.retryQueue),
                    null === sourceFiber
                      ? (returnFiber.retryQueue = new Set([value]))
                      : sourceFiber.add(value)),
                attachPingListener(root, value, rootRenderLanes)),
            !1
          );
      }
      throw Error(formatProdErrorMessage(435, sourceFiber.tag));
    }
    attachPingListener(root, value, rootRenderLanes);
    renderDidSuspendDelayIfPossible();
    return !1;
  }
  if (isHydrating)
    return (
      (returnFiber = suspenseHandlerStackCursor.current),
      null !== returnFiber
        ? (0 === (returnFiber.flags & 65536) && (returnFiber.flags |= 256),
          (returnFiber.flags |= 65536),
          (returnFiber.lanes = rootRenderLanes),
          value !== HydrationMismatchException &&
            ((root = Error(formatProdErrorMessage(422), { cause: value })),
            queueHydrationError(createCapturedValueAtFiber(root, sourceFiber))))
        : (value !== HydrationMismatchException &&
            ((returnFiber = Error(formatProdErrorMessage(423), {
              cause: value
            })),
            queueHydrationError(
              createCapturedValueAtFiber(returnFiber, sourceFiber)
            )),
          (root = root.current.alternate),
          (root.flags |= 65536),
          (rootRenderLanes &= -rootRenderLanes),
          (root.lanes |= rootRenderLanes),
          (value = createCapturedValueAtFiber(value, sourceFiber)),
          (rootRenderLanes = createRootErrorUpdate(
            root.stateNode,
            value,
            rootRenderLanes
          )),
          enqueueCapturedUpdate(root, rootRenderLanes),
          4 !== workInProgressRootExitStatus &&
            (workInProgressRootExitStatus = 2)),
      !1
    );
  var wrapperError = Error(formatProdErrorMessage(520), { cause: value });
  wrapperError = createCapturedValueAtFiber(wrapperError, sourceFiber);
  null === workInProgressRootConcurrentErrors
    ? (workInProgressRootConcurrentErrors = [wrapperError])
    : workInProgressRootConcurrentErrors.push(wrapperError);
  4 !== workInProgressRootExitStatus && (workInProgressRootExitStatus = 2);
  if (null === returnFiber) return !0;
  value = createCapturedValueAtFiber(value, sourceFiber);
  sourceFiber = returnFiber;
  do {
    switch (sourceFiber.tag) {
      case 3:
        return (
          (sourceFiber.flags |= 65536),
          (root = rootRenderLanes & -rootRenderLanes),
          (sourceFiber.lanes |= root),
          (root = createRootErrorUpdate(sourceFiber.stateNode, value, root)),
          enqueueCapturedUpdate(sourceFiber, root),
          !1
        );
      case 1:
        if (
          ((returnFiber = sourceFiber.type),
          (wrapperError = sourceFiber.stateNode),
          0 === (sourceFiber.flags & 128) &&
            ("function" === typeof returnFiber.getDerivedStateFromError ||
              (null !== wrapperError &&
                "function" === typeof wrapperError.componentDidCatch &&
                (null === legacyErrorBoundariesThatAlreadyFailed ||
                  !legacyErrorBoundariesThatAlreadyFailed.has(wrapperError)))))
        )
          return (
            (sourceFiber.flags |= 65536),
            (rootRenderLanes &= -rootRenderLanes),
            (sourceFiber.lanes |= rootRenderLanes),
            (rootRenderLanes = createClassErrorUpdate(rootRenderLanes)),
            initializeClassErrorUpdate(
              rootRenderLanes,
              root,
              sourceFiber,
              value
            ),
            enqueueCapturedUpdate(sourceFiber, rootRenderLanes),
            !1
          );
    }
    sourceFiber = sourceFiber.return;
  } while (null !== sourceFiber);
  return !1;
}
var SelectiveHydrationException = Error(formatProdErrorMessage(461)),
  didReceiveUpdate = !1;
function reconcileChildren(current, workInProgress, nextChildren, renderLanes) {
  workInProgress.child =
    null === current
      ? mountChildFibers(workInProgress, null, nextChildren, renderLanes)
      : reconcileChildFibers(
          workInProgress,
          current.child,
          nextChildren,
          renderLanes
        );
}
function updateForwardRef(
  current,
  workInProgress,
  Component,
  nextProps,
  renderLanes
) {
  Component = Component.render;
  var ref = workInProgress.ref;
  if ("ref" in nextProps) {
    var propsWithoutRef = {};
    for (var key in nextProps)
      "ref" !== key && (propsWithoutRef[key] = nextProps[key]);
  } else propsWithoutRef = nextProps;
  prepareToReadContext(workInProgress);
  nextProps = renderWithHooks(
    current,
    workInProgress,
    Component,
    propsWithoutRef,
    ref,
    renderLanes
  );
  key = checkDidRenderIdHook();
  if (null !== current && !didReceiveUpdate)
    return (
      bailoutHooks(current, workInProgress, renderLanes),
      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)
    );
  isHydrating && key && pushMaterializedTreeId(workInProgress);
  workInProgress.flags |= 1;
  reconcileChildren(current, workInProgress, nextProps, renderLanes);
  return workInProgress.child;
}
function updateMemoComponent(
  current,
  workInProgress,
  Component,
  nextProps,
  renderLanes
) {
  if (null === current) {
    var type = Component.type;
    if (
      "function" === typeof type &&
      !shouldConstruct(type) &&
      void 0 === type.defaultProps &&
      null === Component.compare
    )
      return (
        (workInProgress.tag = 15),
        (workInProgress.type = type),
        updateSimpleMemoComponent(
          current,
          workInProgress,
          type,
          nextProps,
          renderLanes
        )
      );
    current = createFiberFromTypeAndProps(
      Component.type,
      null,
      nextProps,
      workInProgress,
      workInProgress.mode,
      renderLanes
    );
    current.ref = workInProgress.ref;
    current.return = workInProgress;
    return (workInProgress.child = current);
  }
  type = current.child;
  if (!checkScheduledUpdateOrContext(current, renderLanes)) {
    var prevProps = type.memoizedProps;
    Component = Component.compare;
    Component = null !== Component ? Component : shallowEqual;
    if (Component(prevProps, nextProps) && current.ref === workInProgress.ref)
      return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);
  }
  workInProgress.flags |= 1;
  current = createWorkInProgress(type, nextProps);
  current.ref = workInProgress.ref;
  current.return = workInProgress;
  return (workInProgress.child = current);
}
function updateSimpleMemoComponent(
  current,
  workInProgress,
  Component,
  nextProps,
  renderLanes
) {
  if (null !== current) {
    var prevProps = current.memoizedProps;
    if (
      shallowEqual(prevProps, nextProps) &&
      current.ref === workInProgress.ref
    )
      if (
        ((didReceiveUpdate = !1),
        (workInProgress.pendingProps = nextProps = prevProps),
        checkScheduledUpdateOrContext(current, renderLanes))
      )
        0 !== (current.flags & 131072) && (didReceiveUpdate = !0);
      else
        return (
          (workInProgress.lanes = current.lanes),
          bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)
        );
  }
  return updateFunctionComponent(
    current,
    workInProgress,
    Component,
    nextProps,
    renderLanes
  );
}
function updateOffscreenComponent(
  current,
  workInProgress,
  renderLanes,
  nextProps
) {
  var nextChildren = nextProps.children,
    prevState = null !== current ? current.memoizedState : null;
  null === current &&
    null === workInProgress.stateNode &&
    (workInProgress.stateNode = {
      _visibility: 1,
      _pendingMarkers: null,
      _retryCache: null,
      _transitions: null
    });
  if ("hidden" === nextProps.mode) {
    if (0 !== (workInProgress.flags & 128)) {
      prevState =
        null !== prevState ? prevState.baseLanes | renderLanes : renderLanes;
      if (null !== current) {
        nextProps = workInProgress.child = current.child;
        for (nextChildren = 0; null !== nextProps; )
          (nextChildren =
            nextChildren | nextProps.lanes | nextProps.childLanes),
            (nextProps = nextProps.sibling);
        nextProps = nextChildren & ~prevState;
      } else (nextProps = 0), (workInProgress.child = null);
      return deferHiddenOffscreenComponent(
        current,
        workInProgress,
        prevState,
        renderLanes,
        nextProps
      );
    }
    if (0 !== (renderLanes & 536870912))
      (workInProgress.memoizedState = { baseLanes: 0, cachePool: null }),
        null !== current &&
          pushTransition(
            workInProgress,
            null !== prevState ? prevState.cachePool : null
          ),
        null !== prevState
          ? pushHiddenContext(workInProgress, prevState)
          : reuseHiddenContextOnStack(),
        pushOffscreenSuspenseHandler(workInProgress);
    else
      return (
        (nextProps = workInProgress.lanes = 536870912),
        deferHiddenOffscreenComponent(
          current,
          workInProgress,
          null !== prevState ? prevState.baseLanes | renderLanes : renderLanes,
          renderLanes,
          nextProps
        )
      );
  } else
    null !== prevState
      ? (pushTransition(workInProgress, prevState.cachePool),
        pushHiddenContext(workInProgress, prevState),
        reuseSuspenseHandlerOnStack(workInProgress),
        (workInProgress.memoizedState = null))
      : (null !== current && pushTransition(workInProgress, null),
        reuseHiddenContextOnStack(),
        reuseSuspenseHandlerOnStack(workInProgress));
  reconcileChildren(current, workInProgress, nextChildren, renderLanes);
  return workInProgress.child;
}
function bailoutOffscreenComponent(current, workInProgress) {
  (null !== current && 22 === current.tag) ||
    null !== workInProgress.stateNode ||
    (workInProgress.stateNode = {
      _visibility: 1,
      _pendingMarkers: null,
      _retryCache: null,
      _transitions: null
    });
  return workInProgress.sibling;
}
function deferHiddenOffscreenComponent(
  current,
  workInProgress,
  nextBaseLanes,
  renderLanes,
  remainingChildLanes
) {
  var JSCompiler_inline_result = peekCacheFromPool();
  JSCompiler_inline_result =
    null === JSCompiler_inline_result
      ? null
      : { parent: CacheContext._currentValue, pool: JSCompiler_inline_result };
  workInProgress.memoizedState = {
    baseLanes: nextBaseLanes,
    cachePool: JSCompiler_inline_result
  };
  null !== current && pushTransition(workInProgress, null);
  reuseHiddenContextOnStack();
  pushOffscreenSuspenseHandler(workInProgress);
  null !== current &&
    propagateParentContextChanges(current, workInProgress, renderLanes, !0);
  workInProgress.childLanes = remainingChildLanes;
  return null;
}
function mountActivityChildren(workInProgress, nextProps) {
  nextProps = mountWorkInProgressOffscreenFiber(
    { mode: nextProps.mode, children: nextProps.children },
    workInProgress.mode
  );
  nextProps.ref = workInProgress.ref;
  workInProgress.child = nextProps;
  nextProps.return = workInProgress;
  return nextProps;
}
function retryActivityComponentWithoutHydrating(
  current,
  workInProgress,
  renderLanes
) {
  reconcileChildFibers(workInProgress, current.child, null, renderLanes);
  current = mountActivityChildren(workInProgress, workInProgress.pendingProps);
  current.flags |= 2;
  popSuspenseHandler(workInProgress);
  workInProgress.memoizedState = null;
  return current;
}
function updateActivityComponent(current, workInProgress, renderLanes) {
  var nextProps = workInProgress.pendingProps,
    didSuspend = 0 !== (workInProgress.flags & 128);
  workInProgress.flags &= -129;
  if (null === current) {
    if (isHydrating) {
      if ("hidden" === nextProps.mode)
        return (
          (current = mountActivityChildren(workInProgress, nextProps)),
          (workInProgress.lanes = 536870912),
          bailoutOffscreenComponent(null, current)
        );
      pushDehydratedActivitySuspenseHandler(workInProgress);
      (current = nextHydratableInstance)
        ? ((current = canHydrateHydrationBoundary(
            current,
            rootOrSingletonContext
          )),
          (current = null !== current && "&" === current.data ? current : null),
          null !== current &&
            ((workInProgress.memoizedState = {
              dehydrated: current,
              treeContext:
                null !== treeContextProvider
                  ? { id: treeContextId, overflow: treeContextOverflow }
                  : null,
              retryLane: 536870912,
              hydrationErrors: null
            }),
            (renderLanes = createFiberFromDehydratedFragment(current)),
            (renderLanes.return = workInProgress),
            (workInProgress.child = renderLanes),
            (hydrationParentFiber = workInProgress),
            (nextHydratableInstance = null)))
        : (current = null);
      if (null === current) throw throwOnHydrationMismatch(workInProgress);
      workInProgress.lanes = 536870912;
      return null;
    }
    return mountActivityChildren(workInProgress, nextProps);
  }
  var prevState = current.memoizedState;
  if (null !== prevState) {
    var dehydrated = prevState.dehydrated;
    pushDehydratedActivitySuspenseHandler(workInProgress);
    if (didSuspend)
      if (workInProgress.flags & 256)
        (workInProgress.flags &= -257),
          (workInProgress = retryActivityComponentWithoutHydrating(
            current,
            workInProgress,
            renderLanes
          ));
      else if (null !== workInProgress.memoizedState)
        (workInProgress.child = current.child),
          (workInProgress.flags |= 128),
          (workInProgress = null);
      else throw Error(formatProdErrorMessage(558));
    else if (
      (didReceiveUpdate ||
        propagateParentContextChanges(current, workInProgress, renderLanes, !1),
      (didSuspend = 0 !== (renderLanes & current.childLanes)),
      didReceiveUpdate || didSuspend)
    ) {
      nextProps = workInProgressRoot;
      if (
        null !== nextProps &&
        ((dehydrated = getBumpedLaneForHydration(nextProps, renderLanes)),
        0 !== dehydrated && dehydrated !== prevState.retryLane)
      )
        throw (
          ((prevState.retryLane = dehydrated),
          enqueueConcurrentRenderForLane(current, dehydrated),
          scheduleUpdateOnFiber(nextProps, current, dehydrated),
          SelectiveHydrationException)
        );
      renderDidSuspendDelayIfPossible();
      workInProgress = retryActivityComponentWithoutHydrating(
        current,
        workInProgress,
        renderLanes
      );
    } else
      (current = prevState.treeContext),
        (nextHydratableInstance = getNextHydratable(dehydrated.nextSibling)),
        (hydrationParentFiber = workInProgress),
        (isHydrating = !0),
        (hydrationErrors = null),
        (rootOrSingletonContext = !1),
        null !== current &&
          restoreSuspendedTreeContext(workInProgress, current),
        (workInProgress = mountActivityChildren(workInProgress, nextProps)),
        (workInProgress.flags |= 4096);
    return workInProgress;
  }
  current = createWorkInProgress(current.child, {
    mode: nextProps.mode,
    children: nextProps.children
  });
  current.ref = workInProgress.ref;
  workInProgress.child = current;
  current.return = workInProgress;
  return current;
}
function markRef(current, workInProgress) {
  var ref = workInProgress.ref;
  if (null === ref)
    null !== current &&
      null !== current.ref &&
      (workInProgress.flags |= 4194816);
  else {
    if ("function" !== typeof ref && "object" !== typeof ref)
      throw Error(formatProdErrorMessage(284));
    if (null === current || current.ref !== ref)
      workInProgress.flags |= 4194816;
  }
}
function updateFunctionComponent(
  current,
  workInProgress,
  Component,
  nextProps,
  renderLanes
) {
  prepareToReadContext(workInProgress);
  Component = renderWithHooks(
    current,
    workInProgress,
    Component,
    nextProps,
    void 0,
    renderLanes
  );
  nextProps = checkDidRenderIdHook();
  if (null !== current && !didReceiveUpdate)
    return (
      bailoutHooks(current, workInProgress, renderLanes),
      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)
    );
  isHydrating && nextProps && pushMaterializedTreeId(workInProgress);
  workInProgress.flags |= 1;
  reconcileChildren(current, workInProgress, Component, renderLanes);
  return workInProgress.child;
}
function replayFunctionComponent(
  current,
  workInProgress,
  nextProps,
  Component,
  secondArg,
  renderLanes
) {
  prepareToReadContext(workInProgress);
  workInProgress.updateQueue = null;
  nextProps = renderWithHooksAgain(
    workInProgress,
    Component,
    nextProps,
    secondArg
  );
  finishRenderingHooks(current);
  Component = checkDidRenderIdHook();
  if (null !== current && !didReceiveUpdate)
    return (
      bailoutHooks(current, workInProgress, renderLanes),
      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)
    );
  isHydrating && Component && pushMaterializedTreeId(workInProgress);
  workInProgress.flags |= 1;
  reconcileChildren(current, workInProgress, nextProps, renderLanes);
  return workInProgress.child;
}
function updateClassComponent(
  current,
  workInProgress,
  Component,
  nextProps,
  renderLanes
) {
  prepareToReadContext(workInProgress);
  if (null === workInProgress.stateNode) {
    var context = emptyContextObject,
      contextType = Component.contextType;
    "object" === typeof contextType &&
      null !== contextType &&
      (context = readContext(contextType));
    context = new Component(nextProps, context);
    workInProgress.memoizedState =
      null !== context.state && void 0 !== context.state ? context.state : null;
    context.updater = classComponentUpdater;
    workInProgress.stateNode = context;
    context._reactInternals = workInProgress;
    context = workInProgress.stateNode;
    context.props = nextProps;
    context.state = workInProgress.memoizedState;
    context.refs = {};
    initializeUpdateQueue(workInProgress);
    contextType = Component.contextType;
    context.context =
      "object" === typeof contextType && null !== contextType
        ? readContext(contextType)
        : emptyContextObject;
    context.state = workInProgress.memoizedState;
    contextType = Component.getDerivedStateFromProps;
    "function" === typeof contextType &&
      (applyDerivedStateFromProps(
        workInProgress,
        Component,
        contextType,
        nextProps
      ),
      (context.state = workInProgress.memoizedState));
    "function" === typeof Component.getDerivedStateFromProps ||
      "function" === typeof context.getSnapshotBeforeUpdate ||
      ("function" !== typeof context.UNSAFE_componentWillMount &&
        "function" !== typeof context.componentWillMount) ||
      ((contextType = context.state),
      "function" === typeof context.componentWillMount &&
        context.componentWillMount(),
      "function" === typeof context.UNSAFE_componentWillMount &&
        context.UNSAFE_componentWillMount(),
      contextType !== context.state &&
        classComponentUpdater.enqueueReplaceState(context, context.state, null),
      processUpdateQueue(workInProgress, nextProps, context, renderLanes),
      suspendIfUpdateReadFromEntangledAsyncAction(),
      (context.state = workInProgress.memoizedState));
    "function" === typeof context.componentDidMount &&
      (workInProgress.flags |= 4194308);
    nextProps = !0;
  } else if (null === current) {
    context = workInProgress.stateNode;
    var unresolvedOldProps = workInProgress.memoizedProps,
      oldProps = resolveClassComponentProps(Component, unresolvedOldProps);
    context.props = oldProps;
    var oldContext = context.context,
      contextType$jscomp$0 = Component.contextType;
    contextType = emptyContextObject;
    "object" === typeof contextType$jscomp$0 &&
      null !== contextType$jscomp$0 &&
      (contextType = readContext(contextType$jscomp$0));
    var getDerivedStateFromProps = Component.getDerivedStateFromProps;
    contextType$jscomp$0 =
      "function" === typeof getDerivedStateFromProps ||
      "function" === typeof context.getSnapshotBeforeUpdate;
    unresolvedOldProps = workInProgress.pendingProps !== unresolvedOldProps;
    contextType$jscomp$0 ||
      ("function" !== typeof context.UNSAFE_componentWillReceiveProps &&
        "function" !== typeof context.componentWillReceiveProps) ||
      ((unresolvedOldProps || oldContext !== contextType) &&
        callComponentWillReceiveProps(
          workInProgress,
          context,
          nextProps,
          contextType
        ));
    hasForceUpdate = !1;
    var oldState = workInProgress.memoizedState;
    context.state = oldState;
    processUpdateQueue(workInProgress, nextProps, context, renderLanes);
    suspendIfUpdateReadFromEntangledAsyncAction();
    oldContext = workInProgress.memoizedState;
    unresolvedOldProps || oldState !== oldContext || hasForceUpdate
      ? ("function" === typeof getDerivedStateFromProps &&
          (applyDerivedStateFromProps(
            workInProgress,
            Component,
            getDerivedStateFromProps,
            nextProps
          ),
          (oldContext = workInProgress.memoizedState)),
        (oldProps =
          hasForceUpdate ||
          checkShouldComponentUpdate(
            workInProgress,
            Component,
            oldProps,
            nextProps,
            oldState,
            oldContext,
            contextType
          ))
          ? (contextType$jscomp$0 ||
              ("function" !== typeof context.UNSAFE_componentWillMount &&
                "function" !== typeof context.componentWillMount) ||
              ("function" === typeof context.componentWillMount &&
                context.componentWillMount(),
              "function" === typeof context.UNSAFE_componentWillMount &&
                context.UNSAFE_componentWillMount()),
            "function" === typeof context.componentDidMount &&
              (workInProgress.flags |= 4194308))
          : ("function" === typeof context.componentDidMount &&
              (workInProgress.flags |= 4194308),
            (workInProgress.memoizedProps = nextProps),
            (workInProgress.memoizedState = oldContext)),
        (context.props = nextProps),
        (context.state = oldContext),
        (context.context = contextType),
        (nextProps = oldProps))
      : ("function" === typeof context.componentDidMount &&
          (workInProgress.flags |= 4194308),
        (nextProps = !1));
  } else {
    context = workInProgress.stateNode;
    cloneUpdateQueue(current, workInProgress);
    contextType = workInProgress.memoizedProps;
    contextType$jscomp$0 = resolveClassComponentProps(Component, contextType);
    context.props = contextType$jscomp$0;
    getDerivedStateFromProps = workInProgress.pendingProps;
    oldState = context.context;
    oldContext = Component.contextType;
    oldProps = emptyContextObject;
    "object" === typeof oldContext &&
      null !== oldContext &&
      (oldProps = readContext(oldContext));
    unresolvedOldProps = Component.getDerivedStateFromProps;
    (oldContext =
      "function" === typeof unresolvedOldProps ||
      "function" === typeof context.getSnapshotBeforeUpdate) ||
      ("function" !== typeof context.UNSAFE_componentWillReceiveProps &&
        "function" !== typeof context.componentWillReceiveProps) ||
      ((contextType !== getDerivedStateFromProps || oldState !== oldProps) &&
        callComponentWillReceiveProps(
          workInProgress,
          context,
          nextProps,
          oldProps
        ));
    hasForceUpdate = !1;
    oldState = workInProgress.memoizedState;
    context.state = oldState;
    processUpdateQueue(workInProgress, nextProps, context, renderLanes);
    suspendIfUpdateReadFromEntangledAsyncAction();
    var newState = workInProgress.memoizedState;
    contextType !== getDerivedStateFromProps ||
    oldState !== newState ||
    hasForceUpdate ||
    (null !== current &&
      null !== current.dependencies &&
      checkIfContextChanged(current.dependencies))
      ? ("function" === typeof unresolvedOldProps &&
          (applyDerivedStateFromProps(
            workInProgress,
            Component,
            unresolvedOldProps,
            nextProps
          ),
          (newState = workInProgress.memoizedState)),
        (contextType$jscomp$0 =
          hasForceUpdate ||
          checkShouldComponentUpdate(
            workInProgress,
            Component,
            contextType$jscomp$0,
            nextProps,
            oldState,
            newState,
            oldProps
          ) ||
          (null !== current &&
            null !== current.dependencies &&
            checkIfContextChanged(current.dependencies)))
          ? (oldContext ||
              ("function" !== typeof context.UNSAFE_componentWillUpdate &&
                "function" !== typeof context.componentWillUpdate) ||
              ("function" === typeof context.componentWillUpdate &&
                context.componentWillUpdate(nextProps, newState, oldProps),
              "function" === typeof context.UNSAFE_componentWillUpdate &&
                context.UNSAFE_componentWillUpdate(
                  nextProps,
                  newState,
                  oldProps
                )),
            "function" === typeof context.componentDidUpdate &&
              (workInProgress.flags |= 4),
            "function" === typeof context.getSnapshotBeforeUpdate &&
              (workInProgress.flags |= 1024))
          : ("function" !== typeof context.componentDidUpdate ||
              (contextType === current.memoizedProps &&
                oldState === current.memoizedState) ||
              (workInProgress.flags |= 4),
            "function" !== typeof context.getSnapshotBeforeUpdate ||
              (contextType === current.memoizedProps &&
                oldState === current.memoizedState) ||
              (workInProgress.flags |= 1024),
            (workInProgress.memoizedProps = nextProps),
            (workInProgress.memoizedState = newState)),
        (context.props = nextProps),
        (context.state = newState),
        (context.context = oldProps),
        (nextProps = contextType$jscomp$0))
      : ("function" !== typeof context.componentDidUpdate ||
          (contextType === current.memoizedProps &&
            oldState === current.memoizedState) ||
          (workInProgress.flags |= 4),
        "function" !== typeof context.getSnapshotBeforeUpdate ||
          (contextType === current.memoizedProps &&
            oldState === current.memoizedState) ||
          (workInProgress.flags |= 1024),
        (nextProps = !1));
  }
  context = nextProps;
  markRef(current, workInProgress);
  nextProps = 0 !== (workInProgress.flags & 128);
  context || nextProps
    ? ((context = workInProgress.stateNode),
      (Component =
        nextProps && "function" !== typeof Component.getDerivedStateFromError
          ? null
          : context.render()),
      (workInProgress.flags |= 1),
      null !== current && nextProps
        ? ((workInProgress.child = reconcileChildFibers(
            workInProgress,
            current.child,
            null,
            renderLanes
          )),
          (workInProgress.child = reconcileChildFibers(
            workInProgress,
            null,
            Component,
            renderLanes
          )))
        : reconcileChildren(current, workInProgress, Component, renderLanes),
      (workInProgress.memoizedState = context.state),
      (current = workInProgress.child))
    : (current = bailoutOnAlreadyFinishedWork(
        current,
        workInProgress,
        renderLanes
      ));
  return current;
}
function mountHostRootWithoutHydrating(
  current,
  workInProgress,
  nextChildren,
  renderLanes
) {
  resetHydrationState();
  workInProgress.flags |= 256;
  reconcileChildren(current, workInProgress, nextChildren, renderLanes);
  return workInProgress.child;
}
var SUSPENDED_MARKER = {
  dehydrated: null,
  treeContext: null,
  retryLane: 0,
  hydrationErrors: null
};
function mountSuspenseOffscreenState(renderLanes) {
  return { baseLanes: renderLanes, cachePool: getSuspendedCache() };
}
function getRemainingWorkInPrimaryTree(
  current,
  primaryTreeDidDefer,
  renderLanes
) {
  current = null !== current ? current.childLanes & ~renderLanes : 0;
  primaryTreeDidDefer && (current |= workInProgressDeferredLane);
  return current;
}
function updateSuspenseComponent(current, workInProgress, renderLanes) {
  var nextProps = workInProgress.pendingProps,
    showFallback = !1,
    didSuspend = 0 !== (workInProgress.flags & 128),
    JSCompiler_temp;
  (JSCompiler_temp = didSuspend) ||
    (JSCompiler_temp =
      null !== current && null === current.memoizedState
        ? !1
        : 0 !== (suspenseStackCursor.current & 2));
  JSCompiler_temp && ((showFallback = !0), (workInProgress.flags &= -129));
  JSCompiler_temp = 0 !== (workInProgress.flags & 32);
  workInProgress.flags &= -33;
  if (null === current) {
    if (isHydrating) {
      showFallback
        ? pushPrimaryTreeSuspenseHandler(workInProgress)
        : reuseSuspenseHandlerOnStack(workInProgress);
      (current = nextHydratableInstance)
        ? ((current = canHydrateHydrationBoundary(
            current,
            rootOrSingletonContext
          )),
          (current = null !== current && "&" !== current.data ? current : null),
          null !== current &&
            ((workInProgress.memoizedState = {
              dehydrated: current,
              treeContext:
                null !== treeContextProvider
                  ? { id: treeContextId, overflow: treeContextOverflow }
                  : null,
              retryLane: 536870912,
              hydrationErrors: null
            }),
            (renderLanes = createFiberFromDehydratedFragment(current)),
            (renderLanes.return = workInProgress),
            (workInProgress.child = renderLanes),
            (hydrationParentFiber = workInProgress),
            (nextHydratableInstance = null)))
        : (current = null);
      if (null === current) throw throwOnHydrationMismatch(workInProgress);
      isSuspenseInstanceFallback(current)
        ? (workInProgress.lanes = 32)
        : (workInProgress.lanes = 536870912);
      return null;
    }
    var nextPrimaryChildren = nextProps.children;
    nextProps = nextProps.fallback;
    if (showFallback)
      return (
        reuseSuspenseHandlerOnStack(workInProgress),
        (showFallback = workInProgress.mode),
        (nextPrimaryChildren = mountWorkInProgressOffscreenFiber(
          { mode: "hidden", children: nextPrimaryChildren },
          showFallback
        )),
        (nextProps = createFiberFromFragment(
          nextProps,
          showFallback,
          renderLanes,
          null
        )),
        (nextPrimaryChildren.return = workInProgress),
        (nextProps.return = workInProgress),
        (nextPrimaryChildren.sibling = nextProps),
        (workInProgress.child = nextPrimaryChildren),
        (nextProps = workInProgress.child),
        (nextProps.memoizedState = mountSuspenseOffscreenState(renderLanes)),
        (nextProps.childLanes = getRemainingWorkInPrimaryTree(
          current,
          JSCompiler_temp,
          renderLanes
        )),
        (workInProgress.memoizedState = SUSPENDED_MARKER),
        bailoutOffscreenComponent(null, nextProps)
      );
    pushPrimaryTreeSuspenseHandler(workInProgress);
    return mountSuspensePrimaryChildren(workInProgress, nextPrimaryChildren);
  }
  var prevState = current.memoizedState;
  if (
    null !== prevState &&
    ((nextPrimaryChildren = prevState.dehydrated), null !== nextPrimaryChildren)
  ) {
    if (didSuspend)
      workInProgress.flags & 256
        ? (pushPrimaryTreeSuspenseHandler(workInProgress),
          (workInProgress.flags &= -257),
          (workInProgress = retrySuspenseComponentWithoutHydrating(
            current,
            workInProgress,
            renderLanes
          )))
        : null !== workInProgress.memoizedState
          ? (reuseSuspenseHandlerOnStack(workInProgress),
            (workInProgress.child = current.child),
            (workInProgress.flags |= 128),
            (workInProgress = null))
          : (reuseSuspenseHandlerOnStack(workInProgress),
            (nextPrimaryChildren = nextProps.fallback),
            (showFallback = workInProgress.mode),
            (nextProps = mountWorkInProgressOffscreenFiber(
              { mode: "visible", children: nextProps.children },
              showFallback
            )),
            (nextPrimaryChildren = createFiberFromFragment(
              nextPrimaryChildren,
              showFallback,
              renderLanes,
              null
            )),
            (nextPrimaryChildren.flags |= 2),
            (nextProps.return = workInProgress),
            (nextPrimaryChildren.return = workInProgress),
            (nextProps.sibling = nextPrimaryChildren),
            (workInProgress.child = nextProps),
            reconcileChildFibers(
              workInProgress,
              current.child,
              null,
              renderLanes
            ),
            (nextProps = workInProgress.child),
            (nextProps.memoizedState =
              mountSuspenseOffscreenState(renderLanes)),
            (nextProps.childLanes = getRemainingWorkInPrimaryTree(
              current,
              JSCompiler_temp,
              renderLanes
            )),
            (workInProgress.memoizedState = SUSPENDED_MARKER),
            (workInProgress = bailoutOffscreenComponent(null, nextProps)));
    else if (
      (pushPrimaryTreeSuspenseHandler(workInProgress),
      isSuspenseInstanceFallback(nextPrimaryChildren))
    ) {
      JSCompiler_temp =
        nextPrimaryChildren.nextSibling &&
        nextPrimaryChildren.nextSibling.dataset;
      if (JSCompiler_temp) var digest = JSCompiler_temp.dgst;
      JSCompiler_temp = digest;
      nextProps = Error(formatProdErrorMessage(419));
      nextProps.stack = "";
      nextProps.digest = JSCompiler_temp;
      queueHydrationError({ value: nextProps, source: null, stack: null });
      workInProgress = retrySuspenseComponentWithoutHydrating(
        current,
        workInProgress,
        renderLanes
      );
    } else if (
      (didReceiveUpdate ||
        propagateParentContextChanges(current, workInProgress, renderLanes, !1),
      (JSCompiler_temp = 0 !== (renderLanes & current.childLanes)),
      didReceiveUpdate || JSCompiler_temp)
    ) {
      JSCompiler_temp = workInProgressRoot;
      if (
        null !== JSCompiler_temp &&
        ((nextProps = getBumpedLaneForHydration(JSCompiler_temp, renderLanes)),
        0 !== nextProps && nextProps !== prevState.retryLane)
      )
        throw (
          ((prevState.retryLane = nextProps),
          enqueueConcurrentRenderForLane(current, nextProps),
          scheduleUpdateOnFiber(JSCompiler_temp, current, nextProps),
          SelectiveHydrationException)
        );
      isSuspenseInstancePending(nextPrimaryChildren) ||
        renderDidSuspendDelayIfPossible();
      workInProgress = retrySuspenseComponentWithoutHydrating(
        current,
        workInProgress,
        renderLanes
      );
    } else
      isSuspenseInstancePending(nextPrimaryChildren)
        ? ((workInProgress.flags |= 192),
          (workInProgress.child = current.child),
          (workInProgress = null))
        : ((current = prevState.treeContext),
          (nextHydratableInstance = getNextHydratable(
            nextPrimaryChildren.nextSibling
          )),
          (hydrationParentFiber = workInProgress),
          (isHydrating = !0),
          (hydrationErrors = null),
          (rootOrSingletonContext = !1),
          null !== current &&
            restoreSuspendedTreeContext(workInProgress, current),
          (workInProgress = mountSuspensePrimaryChildren(
            workInProgress,
            nextProps.children
          )),
          (workInProgress.flags |= 4096));
    return workInProgress;
  }
  if (showFallback)
    return (
      reuseSuspenseHandlerOnStack(workInProgress),
      (nextPrimaryChildren = nextProps.fallback),
      (showFallback = workInProgress.mode),
      (prevState = current.child),
      (digest = prevState.sibling),
      (nextProps = createWorkInProgress(prevState, {
        mode: "hidden",
        children: nextProps.children
      })),
      (nextProps.subtreeFlags = prevState.subtreeFlags & 65011712),
      null !== digest
        ? (nextPrimaryChildren = createWorkInProgress(
            digest,
            nextPrimaryChildren
          ))
        : ((nextPrimaryChildren = createFiberFromFragment(
            nextPrimaryChildren,
            showFallback,
            renderLanes,
            null
          )),
          (nextPrimaryChildren.flags |= 2)),
      (nextPrimaryChildren.return = workInProgress),
      (nextProps.return = workInProgress),
      (nextProps.sibling = nextPrimaryChildren),
      (workInProgress.child = nextProps),
      bailoutOffscreenComponent(null, nextProps),
      (nextProps = workInProgress.child),
      (nextPrimaryChildren = current.child.memoizedState),
      null === nextPrimaryChildren
        ? (nextPrimaryChildren = mountSuspenseOffscreenState(renderLanes))
        : ((showFallback = nextPrimaryChildren.cachePool),
          null !== showFallback
            ? ((prevState = CacheContext._currentValue),
              (showFallback =
                showFallback.parent !== prevState
                  ? { parent: prevState, pool: prevState }
                  : showFallback))
            : (showFallback = getSuspendedCache()),
          (nextPrimaryChildren = {
            baseLanes: nextPrimaryChildren.baseLanes | renderLanes,
            cachePool: showFallback
          })),
      (nextProps.memoizedState = nextPrimaryChildren),
      (nextProps.childLanes = getRemainingWorkInPrimaryTree(
        current,
        JSCompiler_temp,
        renderLanes
      )),
      (workInProgress.memoizedState = SUSPENDED_MARKER),
      bailoutOffscreenComponent(current.child, nextProps)
    );
  pushPrimaryTreeSuspenseHandler(workInProgress);
  renderLanes = current.child;
  current = renderLanes.sibling;
  renderLanes = createWorkInProgress(renderLanes, {
    mode: "visible",
    children: nextProps.children
  });
  renderLanes.return = workInProgress;
  renderLanes.sibling = null;
  null !== current &&
    ((JSCompiler_temp = workInProgress.deletions),
    null === JSCompiler_temp
      ? ((workInProgress.deletions = [current]), (workInProgress.flags |= 16))
      : JSCompiler_temp.push(current));
  workInProgress.child = renderLanes;
  workInProgress.memoizedState = null;
  return renderLanes;
}
function mountSuspensePrimaryChildren(workInProgress, primaryChildren) {
  primaryChildren = mountWorkInProgressOffscreenFiber(
    { mode: "visible", children: primaryChildren },
    workInProgress.mode
  );
  primaryChildren.return = workInProgress;
  return (workInProgress.child = primaryChildren);
}
function mountWorkInProgressOffscreenFiber(offscreenProps, mode) {
  offscreenProps = createFiberImplClass(22, offscreenProps, null, mode);
  offscreenProps.lanes = 0;
  return offscreenProps;
}
function retrySuspenseComponentWithoutHydrating(
  current,
  workInProgress,
  renderLanes
) {
  reconcileChildFibers(workInProgress, current.child, null, renderLanes);
  current = mountSuspensePrimaryChildren(
    workInProgress,
    workInProgress.pendingProps.children
  );
  current.flags |= 2;
  workInProgress.memoizedState = null;
  return current;
}
function scheduleSuspenseWorkOnFiber(fiber, renderLanes, propagationRoot) {
  fiber.lanes |= renderLanes;
  var alternate = fiber.alternate;
  null !== alternate && (alternate.lanes |= renderLanes);
  scheduleContextWorkOnParentPath(fiber.return, renderLanes, propagationRoot);
}
function initSuspenseListRenderState(
  workInProgress,
  isBackwards,
  tail,
  lastContentRow,
  tailMode,
  treeForkCount
) {
  var renderState = workInProgress.memoizedState;
  null === renderState
    ? (workInProgress.memoizedState = {
        isBackwards: isBackwards,
        rendering: null,
        renderingStartTime: 0,
        last: lastContentRow,
        tail: tail,
        tailMode: tailMode,
        treeForkCount: treeForkCount
      })
    : ((renderState.isBackwards = isBackwards),
      (renderState.rendering = null),
      (renderState.renderingStartTime = 0),
      (renderState.last = lastContentRow),
      (renderState.tail = tail),
      (renderState.tailMode = tailMode),
      (renderState.treeForkCount = treeForkCount));
}
function updateSuspenseListComponent(current, workInProgress, renderLanes) {
  var nextProps = workInProgress.pendingProps,
    revealOrder = nextProps.revealOrder,
    tailMode = nextProps.tail;
  nextProps = nextProps.children;
  var suspenseContext = suspenseStackCursor.current,
    shouldForceFallback = 0 !== (suspenseContext & 2);
  shouldForceFallback
    ? ((suspenseContext = (suspenseContext & 1) | 2),
      (workInProgress.flags |= 128))
    : (suspenseContext &= 1);
  push(suspenseStackCursor, suspenseContext);
  reconcileChildren(current, workInProgress, nextProps, renderLanes);
  nextProps = isHydrating ? treeForkCount : 0;
  if (!shouldForceFallback && null !== current && 0 !== (current.flags & 128))
    a: for (current = workInProgress.child; null !== current; ) {
      if (13 === current.tag)
        null !== current.memoizedState &&
          scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);
      else if (19 === current.tag)
        scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);
      else if (null !== current.child) {
        current.child.return = current;
        current = current.child;
        continue;
      }
      if (current === workInProgress) break a;
      for (; null === current.sibling; ) {
        if (null === current.return || current.return === workInProgress)
          break a;
        current = current.return;
      }
      current.sibling.return = current.return;
      current = current.sibling;
    }
  switch (revealOrder) {
    case "forwards":
      renderLanes = workInProgress.child;
      for (revealOrder = null; null !== renderLanes; )
        (current = renderLanes.alternate),
          null !== current &&
            null === findFirstSuspended(current) &&
            (revealOrder = renderLanes),
          (renderLanes = renderLanes.sibling);
      renderLanes = revealOrder;
      null === renderLanes
        ? ((revealOrder = workInProgress.child), (workInProgress.child = null))
        : ((revealOrder = renderLanes.sibling), (renderLanes.sibling = null));
      initSuspenseListRenderState(
        workInProgress,
        !1,
        revealOrder,
        renderLanes,
        tailMode,
        nextProps
      );
      break;
    case "backwards":
    case "unstable_legacy-backwards":
      renderLanes = null;
      revealOrder = workInProgress.child;
      for (workInProgress.child = null; null !== revealOrder; ) {
        current = revealOrder.alternate;
        if (null !== current && null === findFirstSuspended(current)) {
          workInProgress.child = revealOrder;
          break;
        }
        current = revealOrder.sibling;
        revealOrder.sibling = renderLanes;
        renderLanes = revealOrder;
        revealOrder = current;
      }
      initSuspenseListRenderState(
        workInProgress,
        !0,
        renderLanes,
        null,
        tailMode,
        nextProps
      );
      break;
    case "together":
      initSuspenseListRenderState(
        workInProgress,
        !1,
        null,
        null,
        void 0,
        nextProps
      );
      break;
    default:
      workInProgress.memoizedState = null;
  }
  return workInProgress.child;
}
function bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes) {
  null !== current && (workInProgress.dependencies = current.dependencies);
  workInProgressRootSkippedLanes |= workInProgress.lanes;
  if (0 === (renderLanes & workInProgress.childLanes))
    if (null !== current) {
      if (
        (propagateParentContextChanges(
          current,
          workInProgress,
          renderLanes,
          !1
        ),
        0 === (renderLanes & workInProgress.childLanes))
      )
        return null;
    } else return null;
  if (null !== current && workInProgress.child !== current.child)
    throw Error(formatProdErrorMessage(153));
  if (null !== workInProgress.child) {
    current = workInProgress.child;
    renderLanes = createWorkInProgress(current, current.pendingProps);
    workInProgress.child = renderLanes;
    for (renderLanes.return = workInProgress; null !== current.sibling; )
      (current = current.sibling),
        (renderLanes = renderLanes.sibling =
          createWorkInProgress(current, current.pendingProps)),
        (renderLanes.return = workInProgress);
    renderLanes.sibling = null;
  }
  return workInProgress.child;
}
function checkScheduledUpdateOrContext(current, renderLanes) {
  if (0 !== (current.lanes & renderLanes)) return !0;
  current = current.dependencies;
  return null !== current && checkIfContextChanged(current) ? !0 : !1;
}
function attemptEarlyBailoutIfNoScheduledUpdate(
  current,
  workInProgress,
  renderLanes
) {
  switch (workInProgress.tag) {
    case 3:
      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);
      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);
      resetHydrationState();
      break;
    case 27:
    case 5:
      pushHostContext(workInProgress);
      break;
    case 4:
      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);
      break;
    case 10:
      pushProvider(
        workInProgress,
        workInProgress.type,
        workInProgress.memoizedProps.value
      );
      break;
    case 31:
      if (null !== workInProgress.memoizedState)
        return (
          (workInProgress.flags |= 128),
          pushDehydratedActivitySuspenseHandler(workInProgress),
          null
        );
      break;
    case 13:
      var state$102 = workInProgress.memoizedState;
      if (null !== state$102) {
        if (null !== state$102.dehydrated)
          return (
            pushPrimaryTreeSuspenseHandler(workInProgress),
            (workInProgress.flags |= 128),
            null
          );
        if (0 !== (renderLanes & workInProgress.child.childLanes))
          return updateSuspenseComponent(current, workInProgress, renderLanes);
        pushPrimaryTreeSuspenseHandler(workInProgress);
        current = bailoutOnAlreadyFinishedWork(
          current,
          workInProgress,
          renderLanes
        );
        return null !== current ? current.sibling : null;
      }
      pushPrimaryTreeSuspenseHandler(workInProgress);
      break;
    case 19:
      var didSuspendBefore = 0 !== (current.flags & 128);
      state$102 = 0 !== (renderLanes & workInProgress.childLanes);
      state$102 ||
        (propagateParentContextChanges(
          current,
          workInProgress,
          renderLanes,
          !1
        ),
        (state$102 = 0 !== (renderLanes & workInProgress.childLanes)));
      if (didSuspendBefore) {
        if (state$102)
          return updateSuspenseListComponent(
            current,
            workInProgress,
            renderLanes
          );
        workInProgress.flags |= 128;
      }
      didSuspendBefore = workInProgress.memoizedState;
      null !== didSuspendBefore &&
        ((didSuspendBefore.rendering = null),
        (didSuspendBefore.tail = null),
        (didSuspendBefore.lastEffect = null));
      push(suspenseStackCursor, suspenseStackCursor.current);
      if (state$102) break;
      else return null;
    case 22:
      return (
        (workInProgress.lanes = 0),
        updateOffscreenComponent(
          current,
          workInProgress,
          renderLanes,
          workInProgress.pendingProps
        )
      );
    case 24:
      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);
  }
  return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);
}
function beginWork(current, workInProgress, renderLanes) {
  if (null !== current)
    if (current.memoizedProps !== workInProgress.pendingProps)
      didReceiveUpdate = !0;
    else {
      if (
        !checkScheduledUpdateOrContext(current, renderLanes) &&
        0 === (workInProgress.flags & 128)
      )
        return (
          (didReceiveUpdate = !1),
          attemptEarlyBailoutIfNoScheduledUpdate(
            current,
            workInProgress,
            renderLanes
          )
        );
      didReceiveUpdate = 0 !== (current.flags & 131072) ? !0 : !1;
    }
  else
    (didReceiveUpdate = !1),
      isHydrating &&
        0 !== (workInProgress.flags & 1048576) &&
        pushTreeId(workInProgress, treeForkCount, workInProgress.index);
  workInProgress.lanes = 0;
  switch (workInProgress.tag) {
    case 16:
      a: {
        var props = workInProgress.pendingProps;
        current = resolveLazy(workInProgress.elementType);
        workInProgress.type = current;
        if ("function" === typeof current)
          shouldConstruct(current)
            ? ((props = resolveClassComponentProps(current, props)),
              (workInProgress.tag = 1),
              (workInProgress = updateClassComponent(
                null,
                workInProgress,
                current,
                props,
                renderLanes
              )))
            : ((workInProgress.tag = 0),
              (workInProgress = updateFunctionComponent(
                null,
                workInProgress,
                current,
                props,
                renderLanes
              )));
        else {
          if (void 0 !== current && null !== current) {
            var $$typeof = current.$$typeof;
            if ($$typeof === REACT_FORWARD_REF_TYPE) {
              workInProgress.tag = 11;
              workInProgress = updateForwardRef(
                null,
                workInProgress,
                current,
                props,
                renderLanes
              );
              break a;
            } else if ($$typeof === REACT_MEMO_TYPE) {
              workInProgress.tag = 14;
              workInProgress = updateMemoComponent(
                null,
                workInProgress,
                current,
                props,
                renderLanes
              );
              break a;
            }
          }
          workInProgress = getComponentNameFromType(current) || current;
          throw Error(formatProdErrorMessage(306, workInProgress, ""));
        }
      }
      return workInProgress;
    case 0:
      return updateFunctionComponent(
        current,
        workInProgress,
        workInProgress.type,
        workInProgress.pendingProps,
        renderLanes
      );
    case 1:
      return (
        (props = workInProgress.type),
        ($$typeof = resolveClassComponentProps(
          props,
          workInProgress.pendingProps
        )),
        updateClassComponent(
          current,
          workInProgress,
          props,
          $$typeof,
          renderLanes
        )
      );
    case 3:
      a: {
        pushHostContainer(
          workInProgress,
          workInProgress.stateNode.containerInfo
        );
        if (null === current) throw Error(formatProdErrorMessage(387));
        props = workInProgress.pendingProps;
        var prevState = workInProgress.memoizedState;
        $$typeof = prevState.element;
        cloneUpdateQueue(current, workInProgress);
        processUpdateQueue(workInProgress, props, null, renderLanes);
        var nextState = workInProgress.memoizedState;
        props = nextState.cache;
        pushProvider(workInProgress, CacheContext, props);
        props !== prevState.cache &&
          propagateContextChanges(
            workInProgress,
            [CacheContext],
            renderLanes,
            !0
          );
        suspendIfUpdateReadFromEntangledAsyncAction();
        props = nextState.element;
        if (prevState.isDehydrated)
          if (
            ((prevState = {
              element: props,
              isDehydrated: !1,
              cache: nextState.cache
            }),
            (workInProgress.updateQueue.baseState = prevState),
            (workInProgress.memoizedState = prevState),
            workInProgress.flags & 256)
          ) {
            workInProgress = mountHostRootWithoutHydrating(
              current,
              workInProgress,
              props,
              renderLanes
            );
            break a;
          } else if (props !== $$typeof) {
            $$typeof = createCapturedValueAtFiber(
              Error(formatProdErrorMessage(424)),
              workInProgress
            );
            queueHydrationError($$typeof);
            workInProgress = mountHostRootWithoutHydrating(
              current,
              workInProgress,
              props,
              renderLanes
            );
            break a;
          } else {
            current = workInProgress.stateNode.containerInfo;
            switch (current.nodeType) {
              case 9:
                current = current.body;
                break;
              default:
                current =
                  "HTML" === current.nodeName
                    ? current.ownerDocument.body
                    : current;
            }
            nextHydratableInstance = getNextHydratable(current.firstChild);
            hydrationParentFiber = workInProgress;
            isHydrating = !0;
            hydrationErrors = null;
            rootOrSingletonContext = !0;
            renderLanes = mountChildFibers(
              workInProgress,
              null,
              props,
              renderLanes
            );
            for (workInProgress.child = renderLanes; renderLanes; )
              (renderLanes.flags = (renderLanes.flags & -3) | 4096),
                (renderLanes = renderLanes.sibling);
          }
        else {
          resetHydrationState();
          if (props === $$typeof) {
            workInProgress = bailoutOnAlreadyFinishedWork(
              current,
              workInProgress,
              renderLanes
            );
            break a;
          }
          reconcileChildren(current, workInProgress, props, renderLanes);
        }
        workInProgress = workInProgress.child;
      }
      return workInProgress;
    case 26:
      return (
        markRef(current, workInProgress),
        null === current
          ? (renderLanes = getResource(
              workInProgress.type,
              null,
              workInProgress.pendingProps,
              null
            ))
            ? (workInProgress.memoizedState = renderLanes)
            : isHydrating ||
              ((renderLanes = workInProgress.type),
              (current = workInProgress.pendingProps),
              (props = getOwnerDocumentFromRootContainer(
                rootInstanceStackCursor.current
              ).createElement(renderLanes)),
              (props[internalInstanceKey] = workInProgress),
              (props[internalPropsKey] = current),
              setInitialProperties(props, renderLanes, current),
              markNodeAsHoistable(props),
              (workInProgress.stateNode = props))
          : (workInProgress.memoizedState = getResource(
              workInProgress.type,
              current.memoizedProps,
              workInProgress.pendingProps,
              current.memoizedState
            )),
        null
      );
    case 27:
      return (
        pushHostContext(workInProgress),
        null === current &&
          isHydrating &&
          ((props = workInProgress.stateNode =
            resolveSingletonInstance(
              workInProgress.type,
              workInProgress.pendingProps,
              rootInstanceStackCursor.current
            )),
          (hydrationParentFiber = workInProgress),
          (rootOrSingletonContext = !0),
          ($$typeof = nextHydratableInstance),
          isSingletonScope(workInProgress.type)
            ? ((previousHydratableOnEnteringScopedSingleton = $$typeof),
              (nextHydratableInstance = getNextHydratable(props.firstChild)))
            : (nextHydratableInstance = $$typeof)),
        reconcileChildren(
          current,
          workInProgress,
          workInProgress.pendingProps.children,
          renderLanes
        ),
        markRef(current, workInProgress),
        null === current && (workInProgress.flags |= 4194304),
        workInProgress.child
      );
    case 5:
      if (null === current && isHydrating) {
        if (($$typeof = props = nextHydratableInstance))
          (props = canHydrateInstance(
            props,
            workInProgress.type,
            workInProgress.pendingProps,
            rootOrSingletonContext
          )),
            null !== props
              ? ((workInProgress.stateNode = props),
                (hydrationParentFiber = workInProgress),
                (nextHydratableInstance = getNextHydratable(props.firstChild)),
                (rootOrSingletonContext = !1),
                ($$typeof = !0))
              : ($$typeof = !1);
        $$typeof || throwOnHydrationMismatch(workInProgress);
      }
      pushHostContext(workInProgress);
      $$typeof = workInProgress.type;
      prevState = workInProgress.pendingProps;
      nextState = null !== current ? current.memoizedProps : null;
      props = prevState.children;
      shouldSetTextContent($$typeof, prevState)
        ? (props = null)
        : null !== nextState &&
          shouldSetTextContent($$typeof, nextState) &&
          (workInProgress.flags |= 32);
      null !== workInProgress.memoizedState &&
        (($$typeof = renderWithHooks(
          current,
          workInProgress,
          TransitionAwareHostComponent,
          null,
          null,
          renderLanes
        )),
        (HostTransitionContext._currentValue = $$typeof));
      markRef(current, workInProgress);
      reconcileChildren(current, workInProgress, props, renderLanes);
      return workInProgress.child;
    case 6:
      if (null === current && isHydrating) {
        if ((current = renderLanes = nextHydratableInstance))
          (renderLanes = canHydrateTextInstance(
            renderLanes,
            workInProgress.pendingProps,
            rootOrSingletonContext
          )),
            null !== renderLanes
              ? ((workInProgress.stateNode = renderLanes),
                (hydrationParentFiber = workInProgress),
                (nextHydratableInstance = null),
                (current = !0))
              : (current = !1);
        current || throwOnHydrationMismatch(workInProgress);
      }
      return null;
    case 13:
      return updateSuspenseComponent(current, workInProgress, renderLanes);
    case 4:
      return (
        pushHostContainer(
          workInProgress,
          workInProgress.stateNode.containerInfo
        ),
        (props = workInProgress.pendingProps),
        null === current
          ? (workInProgress.child = reconcileChildFibers(
              workInProgress,
              null,
              props,
              renderLanes
            ))
          : reconcileChildren(current, workInProgress, props, renderLanes),
        workInProgress.child
      );
    case 11:
      return updateForwardRef(
        current,
        workInProgress,
        workInProgress.type,
        workInProgress.pendingProps,
        renderLanes
      );
    case 7:
      return (
        reconcileChildren(
          current,
          workInProgress,
          workInProgress.pendingProps,
          renderLanes
        ),
        workInProgress.child
      );
    case 8:
      return (
        reconcileChildren(
          current,
          workInProgress,
          workInProgress.pendingProps.children,
          renderLanes
        ),
        workInProgress.child
      );
    case 12:
      return (
        reconcileChildren(
          current,
          workInProgress,
          workInProgress.pendingProps.children,
          renderLanes
        ),
        workInProgress.child
      );
    case 10:
      return (
        (props = workInProgress.pendingProps),
        pushProvider(workInProgress, workInProgress.type, props.value),
        reconcileChildren(current, workInProgress, props.children, renderLanes),
        workInProgress.child
      );
    case 9:
      return (
        ($$typeof = workInProgress.type._context),
        (props = workInProgress.pendingProps.children),
        prepareToReadContext(workInProgress),
        ($$typeof = readContext($$typeof)),
        (props = props($$typeof)),
        (workInProgress.flags |= 1),
        reconcileChildren(current, workInProgress, props, renderLanes),
        workInProgress.child
      );
    case 14:
      return updateMemoComponent(
        current,
        workInProgress,
        workInProgress.type,
        workInProgress.pendingProps,
        renderLanes
      );
    case 15:
      return updateSimpleMemoComponent(
        current,
        workInProgress,
        workInProgress.type,
        workInProgress.pendingProps,
        renderLanes
      );
    case 19:
      return updateSuspenseListComponent(current, workInProgress, renderLanes);
    case 31:
      return updateActivityComponent(current, workInProgress, renderLanes);
    case 22:
      return updateOffscreenComponent(
        current,
        workInProgress,
        renderLanes,
        workInProgress.pendingProps
      );
    case 24:
      return (
        prepareToReadContext(workInProgress),
        (props = readContext(CacheContext)),
        null === current
          ? (($$typeof = peekCacheFromPool()),
            null === $$typeof &&
              (($$typeof = workInProgressRoot),
              (prevState = createCache()),
              ($$typeof.pooledCache = prevState),
              prevState.refCount++,
              null !== prevState && ($$typeof.pooledCacheLanes |= renderLanes),
              ($$typeof = prevState)),
            (workInProgress.memoizedState = { parent: props, cache: $$typeof }),
            initializeUpdateQueue(workInProgress),
            pushProvider(workInProgress, CacheContext, $$typeof))
          : (0 !== (current.lanes & renderLanes) &&
              (cloneUpdateQueue(current, workInProgress),
              processUpdateQueue(workInProgress, null, null, renderLanes),
              suspendIfUpdateReadFromEntangledAsyncAction()),
            ($$typeof = current.memoizedState),
            (prevState = workInProgress.memoizedState),
            $$typeof.parent !== props
              ? (($$typeof = { parent: props, cache: props }),
                (workInProgress.memoizedState = $$typeof),
                0 === workInProgress.lanes &&
                  (workInProgress.memoizedState =
                    workInProgress.updateQueue.baseState =
                      $$typeof),
                pushProvider(workInProgress, CacheContext, props))
              : ((props = prevState.cache),
                pushProvider(workInProgress, CacheContext, props),
                props !== $$typeof.cache &&
                  propagateContextChanges(
                    workInProgress,
                    [CacheContext],
                    renderLanes,
                    !0
                  ))),
        reconcileChildren(
          current,
          workInProgress,
          workInProgress.pendingProps.children,
          renderLanes
        ),
        workInProgress.child
      );
    case 29:
      throw workInProgress.pendingProps;
  }
  throw Error(formatProdErrorMessage(156, workInProgress.tag));
}
function markUpdate(workInProgress) {
  workInProgress.flags |= 4;
}
function preloadInstanceAndSuspendIfNeeded(
  workInProgress,
  type,
  oldProps,
  newProps,
  renderLanes
) {
  if ((type = 0 !== (workInProgress.mode & 32))) type = !1;
  if (type) {
    if (
      ((workInProgress.flags |= 16777216),
      (renderLanes & 335544128) === renderLanes)
    )
      if (workInProgress.stateNode.complete) workInProgress.flags |= 8192;
      else if (shouldRemainOnPreviousScreen()) workInProgress.flags |= 8192;
      else
        throw (
          ((suspendedThenable = noopSuspenseyCommitThenable),
          SuspenseyCommitException)
        );
  } else workInProgress.flags &= -16777217;
}
function preloadResourceAndSuspendIfNeeded(workInProgress, resource) {
  if ("stylesheet" !== resource.type || 0 !== (resource.state.loading & 4))
    workInProgress.flags &= -16777217;
  else if (((workInProgress.flags |= 16777216), !preloadResource(resource)))
    if (shouldRemainOnPreviousScreen()) workInProgress.flags |= 8192;
    else
      throw (
        ((suspendedThenable = noopSuspenseyCommitThenable),
        SuspenseyCommitException)
      );
}
function scheduleRetryEffect(workInProgress, retryQueue) {
  null !== retryQueue && (workInProgress.flags |= 4);
  workInProgress.flags & 16384 &&
    ((retryQueue =
      22 !== workInProgress.tag ? claimNextRetryLane() : 536870912),
    (workInProgress.lanes |= retryQueue),
    (workInProgressSuspendedRetryLanes |= retryQueue));
}
function cutOffTailIfNeeded(renderState, hasRenderedATailFallback) {
  if (!isHydrating)
    switch (renderState.tailMode) {
      case "hidden":
        hasRenderedATailFallback = renderState.tail;
        for (var lastTailNode = null; null !== hasRenderedATailFallback; )
          null !== hasRenderedATailFallback.alternate &&
            (lastTailNode = hasRenderedATailFallback),
            (hasRenderedATailFallback = hasRenderedATailFallback.sibling);
        null === lastTailNode
          ? (renderState.tail = null)
          : (lastTailNode.sibling = null);
        break;
      case "collapsed":
        lastTailNode = renderState.tail;
        for (var lastTailNode$106 = null; null !== lastTailNode; )
          null !== lastTailNode.alternate && (lastTailNode$106 = lastTailNode),
            (lastTailNode = lastTailNode.sibling);
        null === lastTailNode$106
          ? hasRenderedATailFallback || null === renderState.tail
            ? (renderState.tail = null)
            : (renderState.tail.sibling = null)
          : (lastTailNode$106.sibling = null);
    }
}
function bubbleProperties(completedWork) {
  var didBailout =
      null !== completedWork.alternate &&
      completedWork.alternate.child === completedWork.child,
    newChildLanes = 0,
    subtreeFlags = 0;
  if (didBailout)
    for (var child$107 = completedWork.child; null !== child$107; )
      (newChildLanes |= child$107.lanes | child$107.childLanes),
        (subtreeFlags |= child$107.subtreeFlags & 65011712),
        (subtreeFlags |= child$107.flags & 65011712),
        (child$107.return = completedWork),
        (child$107 = child$107.sibling);
  else
    for (child$107 = completedWork.child; null !== child$107; )
      (newChildLanes |= child$107.lanes | child$107.childLanes),
        (subtreeFlags |= child$107.subtreeFlags),
        (subtreeFlags |= child$107.flags),
        (child$107.return = completedWork),
        (child$107 = child$107.sibling);
  completedWork.subtreeFlags |= subtreeFlags;
  completedWork.childLanes = newChildLanes;
  return didBailout;
}
function completeWork(current, workInProgress, renderLanes) {
  var newProps = workInProgress.pendingProps;
  popTreeContext(workInProgress);
  switch (workInProgress.tag) {
    case 16:
    case 15:
    case 0:
    case 11:
    case 7:
    case 8:
    case 12:
    case 9:
    case 14:
      return bubbleProperties(workInProgress), null;
    case 1:
      return bubbleProperties(workInProgress), null;
    case 3:
      renderLanes = workInProgress.stateNode;
      newProps = null;
      null !== current && (newProps = current.memoizedState.cache);
      workInProgress.memoizedState.cache !== newProps &&
        (workInProgress.flags |= 2048);
      popProvider(CacheContext);
      popHostContainer();
      renderLanes.pendingContext &&
        ((renderLanes.context = renderLanes.pendingContext),
        (renderLanes.pendingContext = null));
      if (null === current || null === current.child)
        popHydrationState(workInProgress)
          ? markUpdate(workInProgress)
          : null === current ||
            (current.memoizedState.isDehydrated &&
              0 === (workInProgress.flags & 256)) ||
            ((workInProgress.flags |= 1024),
            upgradeHydrationErrorsToRecoverable());
      bubbleProperties(workInProgress);
      return null;
    case 26:
      var type = workInProgress.type,
        nextResource = workInProgress.memoizedState;
      null === current
        ? (markUpdate(workInProgress),
          null !== nextResource
            ? (bubbleProperties(workInProgress),
              preloadResourceAndSuspendIfNeeded(workInProgress, nextResource))
            : (bubbleProperties(workInProgress),
              preloadInstanceAndSuspendIfNeeded(
                workInProgress,
                type,
                null,
                newProps,
                renderLanes
              )))
        : nextResource
          ? nextResource !== current.memoizedState
            ? (markUpdate(workInProgress),
              bubbleProperties(workInProgress),
              preloadResourceAndSuspendIfNeeded(workInProgress, nextResource))
            : (bubbleProperties(workInProgress),
              (workInProgress.flags &= -16777217))
          : ((current = current.memoizedProps),
            current !== newProps && markUpdate(workInProgress),
            bubbleProperties(workInProgress),
            preloadInstanceAndSuspendIfNeeded(
              workInProgress,
              type,
              current,
              newProps,
              renderLanes
            ));
      return null;
    case 27:
      popHostContext(workInProgress);
      renderLanes = rootInstanceStackCursor.current;
      type = workInProgress.type;
      if (null !== current && null != workInProgress.stateNode)
        current.memoizedProps !== newProps && markUpdate(workInProgress);
      else {
        if (!newProps) {
          if (null === workInProgress.stateNode)
            throw Error(formatProdErrorMessage(166));
          bubbleProperties(workInProgress);
          return null;
        }
        current = contextStackCursor.current;
        popHydrationState(workInProgress)
          ? prepareToHydrateHostInstance(workInProgress, current)
          : ((current = resolveSingletonInstance(type, newProps, renderLanes)),
            (workInProgress.stateNode = current),
            markUpdate(workInProgress));
      }
      bubbleProperties(workInProgress);
      return null;
    case 5:
      popHostContext(workInProgress);
      type = workInProgress.type;
      if (null !== current && null != workInProgress.stateNode)
        current.memoizedProps !== newProps && markUpdate(workInProgress);
      else {
        if (!newProps) {
          if (null === workInProgress.stateNode)
            throw Error(formatProdErrorMessage(166));
          bubbleProperties(workInProgress);
          return null;
        }
        nextResource = contextStackCursor.current;
        if (popHydrationState(workInProgress))
          prepareToHydrateHostInstance(workInProgress, nextResource);
        else {
          var ownerDocument = getOwnerDocumentFromRootContainer(
            rootInstanceStackCursor.current
          );
          switch (nextResource) {
            case 1:
              nextResource = ownerDocument.createElementNS(
                "http://www.w3.org/2000/svg",
                type
              );
              break;
            case 2:
              nextResource = ownerDocument.createElementNS(
                "http://www.w3.org/1998/Math/MathML",
                type
              );
              break;
            default:
              switch (type) {
                case "svg":
                  nextResource = ownerDocument.createElementNS(
                    "http://www.w3.org/2000/svg",
                    type
                  );
                  break;
                case "math":
                  nextResource = ownerDocument.createElementNS(
                    "http://www.w3.org/1998/Math/MathML",
                    type
                  );
                  break;
                case "script":
                  nextResource = ownerDocument.createElement("div");
                  nextResource.innerHTML = "<script>\x3c/script>";
                  nextResource = nextResource.removeChild(
                    nextResource.firstChild
                  );
                  break;
                case "select":
                  nextResource =
                    "string" === typeof newProps.is
                      ? ownerDocument.createElement("select", {
                          is: newProps.is
                        })
                      : ownerDocument.createElement("select");
                  newProps.multiple
                    ? (nextResource.multiple = !0)
                    : newProps.size && (nextResource.size = newProps.size);
                  break;
                default:
                  nextResource =
                    "string" === typeof newProps.is
                      ? ownerDocument.createElement(type, { is: newProps.is })
                      : ownerDocument.createElement(type);
              }
          }
          nextResource[internalInstanceKey] = workInProgress;
          nextResource[internalPropsKey] = newProps;
          a: for (
            ownerDocument = workInProgress.child;
            null !== ownerDocument;

          ) {
            if (5 === ownerDocument.tag || 6 === ownerDocument.tag)
              nextResource.appendChild(ownerDocument.stateNode);
            else if (
              4 !== ownerDocument.tag &&
              27 !== ownerDocument.tag &&
              null !== ownerDocument.child
            ) {
              ownerDocument.child.return = ownerDocument;
              ownerDocument = ownerDocument.child;
              continue;
            }
            if (ownerDocument === workInProgress) break a;
            for (; null === ownerDocument.sibling; ) {
              if (
                null === ownerDocument.return ||
                ownerDocument.return === workInProgress
              )
                break a;
              ownerDocument = ownerDocument.return;
            }
            ownerDocument.sibling.return = ownerDocument.return;
            ownerDocument = ownerDocument.sibling;
          }
          workInProgress.stateNode = nextResource;
          a: switch (
            (setInitialProperties(nextResource, type, newProps), type)
          ) {
            case "button":
            case "input":
            case "select":
            case "textarea":
              newProps = !!newProps.autoFocus;
              break a;
            case "img":
              newProps = !0;
              break a;
            default:
              newProps = !1;
          }
          newProps && markUpdate(workInProgress);
        }
      }
      bubbleProperties(workInProgress);
      preloadInstanceAndSuspendIfNeeded(
        workInProgress,
        workInProgress.type,
        null === current ? null : current.memoizedProps,
        workInProgress.pendingProps,
        renderLanes
      );
      return null;
    case 6:
      if (current && null != workInProgress.stateNode)
        current.memoizedProps !== newProps && markUpdate(workInProgress);
      else {
        if ("string" !== typeof newProps && null === workInProgress.stateNode)
          throw Error(formatProdErrorMessage(166));
        current = rootInstanceStackCursor.current;
        if (popHydrationState(workInProgress)) {
          current = workInProgress.stateNode;
          renderLanes = workInProgress.memoizedProps;
          newProps = null;
          type = hydrationParentFiber;
          if (null !== type)
            switch (type.tag) {
              case 27:
              case 5:
                newProps = type.memoizedProps;
            }
          current[internalInstanceKey] = workInProgress;
          current =
            current.nodeValue === renderLanes ||
            (null !== newProps && !0 === newProps.suppressHydrationWarning) ||
            checkForUnmatchedText(current.nodeValue, renderLanes)
              ? !0
              : !1;
          current || throwOnHydrationMismatch(workInProgress, !0);
        } else
          (current =
            getOwnerDocumentFromRootContainer(current).createTextNode(
              newProps
            )),
            (current[internalInstanceKey] = workInProgress),
            (workInProgress.stateNode = current);
      }
      bubbleProperties(workInProgress);
      return null;
    case 31:
      renderLanes = workInProgress.memoizedState;
      if (null === current || null !== current.memoizedState) {
        newProps = popHydrationState(workInProgress);
        if (null !== renderLanes) {
          if (null === current) {
            if (!newProps) throw Error(formatProdErrorMessage(318));
            current = workInProgress.memoizedState;
            current = null !== current ? current.dehydrated : null;
            if (!current) throw Error(formatProdErrorMessage(557));
            current[internalInstanceKey] = workInProgress;
          } else
            resetHydrationState(),
              0 === (workInProgress.flags & 128) &&
                (workInProgress.memoizedState = null),
              (workInProgress.flags |= 4);
          bubbleProperties(workInProgress);
          current = !1;
        } else
          (renderLanes = upgradeHydrationErrorsToRecoverable()),
            null !== current &&
              null !== current.memoizedState &&
              (current.memoizedState.hydrationErrors = renderLanes),
            (current = !0);
        if (!current) {
          if (workInProgress.flags & 256)
            return popSuspenseHandler(workInProgress), workInProgress;
          popSuspenseHandler(workInProgress);
          return null;
        }
        if (0 !== (workInProgress.flags & 128))
          throw Error(formatProdErrorMessage(558));
      }
      bubbleProperties(workInProgress);
      return null;
    case 13:
      newProps = workInProgress.memoizedState;
      if (
        null === current ||
        (null !== current.memoizedState &&
          null !== current.memoizedState.dehydrated)
      ) {
        type = popHydrationState(workInProgress);
        if (null !== newProps && null !== newProps.dehydrated) {
          if (null === current) {
            if (!type) throw Error(formatProdErrorMessage(318));
            type = workInProgress.memoizedState;
            type = null !== type ? type.dehydrated : null;
            if (!type) throw Error(formatProdErrorMessage(317));
            type[internalInstanceKey] = workInProgress;
          } else
            resetHydrationState(),
              0 === (workInProgress.flags & 128) &&
                (workInProgress.memoizedState = null),
              (workInProgress.flags |= 4);
          bubbleProperties(workInProgress);
          type = !1;
        } else
          (type = upgradeHydrationErrorsToRecoverable()),
            null !== current &&
              null !== current.memoizedState &&
              (current.memoizedState.hydrationErrors = type),
            (type = !0);
        if (!type) {
          if (workInProgress.flags & 256)
            return popSuspenseHandler(workInProgress), workInProgress;
          popSuspenseHandler(workInProgress);
          return null;
        }
      }
      popSuspenseHandler(workInProgress);
      if (0 !== (workInProgress.flags & 128))
        return (workInProgress.lanes = renderLanes), workInProgress;
      renderLanes = null !== newProps;
      current = null !== current && null !== current.memoizedState;
      renderLanes &&
        ((newProps = workInProgress.child),
        (type = null),
        null !== newProps.alternate &&
          null !== newProps.alternate.memoizedState &&
          null !== newProps.alternate.memoizedState.cachePool &&
          (type = newProps.alternate.memoizedState.cachePool.pool),
        (nextResource = null),
        null !== newProps.memoizedState &&
          null !== newProps.memoizedState.cachePool &&
          (nextResource = newProps.memoizedState.cachePool.pool),
        nextResource !== type && (newProps.flags |= 2048));
      renderLanes !== current &&
        renderLanes &&
        (workInProgress.child.flags |= 8192);
      scheduleRetryEffect(workInProgress, workInProgress.updateQueue);
      bubbleProperties(workInProgress);
      return null;
    case 4:
      return (
        popHostContainer(),
        null === current &&
          listenToAllSupportedEvents(workInProgress.stateNode.containerInfo),
        bubbleProperties(workInProgress),
        null
      );
    case 10:
      return (
        popProvider(workInProgress.type), bubbleProperties(workInProgress), null
      );
    case 19:
      pop(suspenseStackCursor);
      newProps = workInProgress.memoizedState;
      if (null === newProps) return bubbleProperties(workInProgress), null;
      type = 0 !== (workInProgress.flags & 128);
      nextResource = newProps.rendering;
      if (null === nextResource)
        if (type) cutOffTailIfNeeded(newProps, !1);
        else {
          if (
            0 !== workInProgressRootExitStatus ||
            (null !== current && 0 !== (current.flags & 128))
          )
            for (current = workInProgress.child; null !== current; ) {
              nextResource = findFirstSuspended(current);
              if (null !== nextResource) {
                workInProgress.flags |= 128;
                cutOffTailIfNeeded(newProps, !1);
                current = nextResource.updateQueue;
                workInProgress.updateQueue = current;
                scheduleRetryEffect(workInProgress, current);
                workInProgress.subtreeFlags = 0;
                current = renderLanes;
                for (renderLanes = workInProgress.child; null !== renderLanes; )
                  resetWorkInProgress(renderLanes, current),
                    (renderLanes = renderLanes.sibling);
                push(
                  suspenseStackCursor,
                  (suspenseStackCursor.current & 1) | 2
                );
                isHydrating &&
                  pushTreeFork(workInProgress, newProps.treeForkCount);
                return workInProgress.child;
              }
              current = current.sibling;
            }
          null !== newProps.tail &&
            now() > workInProgressRootRenderTargetTime &&
            ((workInProgress.flags |= 128),
            (type = !0),
            cutOffTailIfNeeded(newProps, !1),
            (workInProgress.lanes = 4194304));
        }
      else {
        if (!type)
          if (
            ((current = findFirstSuspended(nextResource)), null !== current)
          ) {
            if (
              ((workInProgress.flags |= 128),
              (type = !0),
              (current = current.updateQueue),
              (workInProgress.updateQueue = current),
              scheduleRetryEffect(workInProgress, current),
              cutOffTailIfNeeded(newProps, !0),
              null === newProps.tail &&
                "hidden" === newProps.tailMode &&
                !nextResource.alternate &&
                !isHydrating)
            )
              return bubbleProperties(workInProgress), null;
          } else
            2 * now() - newProps.renderingStartTime >
              workInProgressRootRenderTargetTime &&
              536870912 !== renderLanes &&
              ((workInProgress.flags |= 128),
              (type = !0),
              cutOffTailIfNeeded(newProps, !1),
              (workInProgress.lanes = 4194304));
        newProps.isBackwards
          ? ((nextResource.sibling = workInProgress.child),
            (workInProgress.child = nextResource))
          : ((current = newProps.last),
            null !== current
              ? (current.sibling = nextResource)
              : (workInProgress.child = nextResource),
            (newProps.last = nextResource));
      }
      if (null !== newProps.tail)
        return (
          (current = newProps.tail),
          (newProps.rendering = current),
          (newProps.tail = current.sibling),
          (newProps.renderingStartTime = now()),
          (current.sibling = null),
          (renderLanes = suspenseStackCursor.current),
          push(
            suspenseStackCursor,
            type ? (renderLanes & 1) | 2 : renderLanes & 1
          ),
          isHydrating && pushTreeFork(workInProgress, newProps.treeForkCount),
          current
        );
      bubbleProperties(workInProgress);
      return null;
    case 22:
    case 23:
      return (
        popSuspenseHandler(workInProgress),
        popHiddenContext(),
        (newProps = null !== workInProgress.memoizedState),
        null !== current
          ? (null !== current.memoizedState) !== newProps &&
            (workInProgress.flags |= 8192)
          : newProps && (workInProgress.flags |= 8192),
        newProps
          ? 0 !== (renderLanes & 536870912) &&
            0 === (workInProgress.flags & 128) &&
            (bubbleProperties(workInProgress),
            workInProgress.subtreeFlags & 6 && (workInProgress.flags |= 8192))
          : bubbleProperties(workInProgress),
        (renderLanes = workInProgress.updateQueue),
        null !== renderLanes &&
          scheduleRetryEffect(workInProgress, renderLanes.retryQueue),
        (renderLanes = null),
        null !== current &&
          null !== current.memoizedState &&
          null !== current.memoizedState.cachePool &&
          (renderLanes = current.memoizedState.cachePool.pool),
        (newProps = null),
        null !== workInProgress.memoizedState &&
          null !== workInProgress.memoizedState.cachePool &&
          (newProps = workInProgress.memoizedState.cachePool.pool),
        newProps !== renderLanes && (workInProgress.flags |= 2048),
        null !== current && pop(resumedCache),
        null
      );
    case 24:
      return (
        (renderLanes = null),
        null !== current && (renderLanes = current.memoizedState.cache),
        workInProgress.memoizedState.cache !== renderLanes &&
          (workInProgress.flags |= 2048),
        popProvider(CacheContext),
        bubbleProperties(workInProgress),
        null
      );
    case 25:
      return null;
    case 30:
      return null;
  }
  throw Error(formatProdErrorMessage(156, workInProgress.tag));
}
function unwindWork(current, workInProgress) {
  popTreeContext(workInProgress);
  switch (workInProgress.tag) {
    case 1:
      return (
        (current = workInProgress.flags),
        current & 65536
          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)
          : null
      );
    case 3:
      return (
        popProvider(CacheContext),
        popHostContainer(),
        (current = workInProgress.flags),
        0 !== (current & 65536) && 0 === (current & 128)
          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)
          : null
      );
    case 26:
    case 27:
    case 5:
      return popHostContext(workInProgress), null;
    case 31:
      if (null !== workInProgress.memoizedState) {
        popSuspenseHandler(workInProgress);
        if (null === workInProgress.alternate)
          throw Error(formatProdErrorMessage(340));
        resetHydrationState();
      }
      current = workInProgress.flags;
      return current & 65536
        ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)
        : null;
    case 13:
      popSuspenseHandler(workInProgress);
      current = workInProgress.memoizedState;
      if (null !== current && null !== current.dehydrated) {
        if (null === workInProgress.alternate)
          throw Error(formatProdErrorMessage(340));
        resetHydrationState();
      }
      current = workInProgress.flags;
      return current & 65536
        ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)
        : null;
    case 19:
      return pop(suspenseStackCursor), null;
    case 4:
      return popHostContainer(), null;
    case 10:
      return popProvider(workInProgress.type), null;
    case 22:
    case 23:
      return (
        popSuspenseHandler(workInProgress),
        popHiddenContext(),
        null !== current && pop(resumedCache),
        (current = workInProgress.flags),
        current & 65536
          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)
          : null
      );
    case 24:
      return popProvider(CacheContext), null;
    case 25:
      return null;
    default:
      return null;
  }
}
function unwindInterruptedWork(current, interruptedWork) {
  popTreeContext(interruptedWork);
  switch (interruptedWork.tag) {
    case 3:
      popProvider(CacheContext);
      popHostContainer();
      break;
    case 26:
    case 27:
    case 5:
      popHostContext(interruptedWork);
      break;
    case 4:
      popHostContainer();
      break;
    case 31:
      null !== interruptedWork.memoizedState &&
        popSuspenseHandler(interruptedWork);
      break;
    case 13:
      popSuspenseHandler(interruptedWork);
      break;
    case 19:
      pop(suspenseStackCursor);
      break;
    case 10:
      popProvider(interruptedWork.type);
      break;
    case 22:
    case 23:
      popSuspenseHandler(interruptedWork);
      popHiddenContext();
      null !== current && pop(resumedCache);
      break;
    case 24:
      popProvider(CacheContext);
  }
}
function commitHookEffectListMount(flags, finishedWork) {
  try {
    var updateQueue = finishedWork.updateQueue,
      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;
    if (null !== lastEffect) {
      var firstEffect = lastEffect.next;
      updateQueue = firstEffect;
      do {
        if ((updateQueue.tag & flags) === flags) {
          lastEffect = void 0;
          var create = updateQueue.create,
            inst = updateQueue.inst;
          lastEffect = create();
          inst.destroy = lastEffect;
        }
        updateQueue = updateQueue.next;
      } while (updateQueue !== firstEffect);
    }
  } catch (error) {
    captureCommitPhaseError(finishedWork, finishedWork.return, error);
  }
}
function commitHookEffectListUnmount(
  flags,
  finishedWork,
  nearestMountedAncestor$jscomp$0
) {
  try {
    var updateQueue = finishedWork.updateQueue,
      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;
    if (null !== lastEffect) {
      var firstEffect = lastEffect.next;
      updateQueue = firstEffect;
      do {
        if ((updateQueue.tag & flags) === flags) {
          var inst = updateQueue.inst,
            destroy = inst.destroy;
          if (void 0 !== destroy) {
            inst.destroy = void 0;
            lastEffect = finishedWork;
            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0,
              destroy_ = destroy;
            try {
              destroy_();
            } catch (error) {
              captureCommitPhaseError(
                lastEffect,
                nearestMountedAncestor,
                error
              );
            }
          }
        }
        updateQueue = updateQueue.next;
      } while (updateQueue !== firstEffect);
    }
  } catch (error) {
    captureCommitPhaseError(finishedWork, finishedWork.return, error);
  }
}
function commitClassCallbacks(finishedWork) {
  var updateQueue = finishedWork.updateQueue;
  if (null !== updateQueue) {
    var instance = finishedWork.stateNode;
    try {
      commitCallbacks(updateQueue, instance);
    } catch (error) {
      captureCommitPhaseError(finishedWork, finishedWork.return, error);
    }
  }
}
function safelyCallComponentWillUnmount(
  current,
  nearestMountedAncestor,
  instance
) {
  instance.props = resolveClassComponentProps(
    current.type,
    current.memoizedProps
  );
  instance.state = current.memoizedState;
  try {
    instance.componentWillUnmount();
  } catch (error) {
    captureCommitPhaseError(current, nearestMountedAncestor, error);
  }
}
function safelyAttachRef(current, nearestMountedAncestor) {
  try {
    var ref = current.ref;
    if (null !== ref) {
      switch (current.tag) {
        case 26:
        case 27:
        case 5:
          var instanceToUse = current.stateNode;
          break;
        case 30:
          instanceToUse = current.stateNode;
          break;
        default:
          instanceToUse = current.stateNode;
      }
      "function" === typeof ref
        ? (current.refCleanup = ref(instanceToUse))
        : (ref.current = instanceToUse);
    }
  } catch (error) {
    captureCommitPhaseError(current, nearestMountedAncestor, error);
  }
}
function safelyDetachRef(current, nearestMountedAncestor) {
  var ref = current.ref,
    refCleanup = current.refCleanup;
  if (null !== ref)
    if ("function" === typeof refCleanup)
      try {
        refCleanup();
      } catch (error) {
        captureCommitPhaseError(current, nearestMountedAncestor, error);
      } finally {
        (current.refCleanup = null),
          (current = current.alternate),
          null != current && (current.refCleanup = null);
      }
    else if ("function" === typeof ref)
      try {
        ref(null);
      } catch (error$140) {
        captureCommitPhaseError(current, nearestMountedAncestor, error$140);
      }
    else ref.current = null;
}
function commitHostMount(finishedWork) {
  var type = finishedWork.type,
    props = finishedWork.memoizedProps,
    instance = finishedWork.stateNode;
  try {
    a: switch (type) {
      case "button":
      case "input":
      case "select":
      case "textarea":
        props.autoFocus && instance.focus();
        break a;
      case "img":
        props.src
          ? (instance.src = props.src)
          : props.srcSet && (instance.srcset = props.srcSet);
    }
  } catch (error) {
    captureCommitPhaseError(finishedWork, finishedWork.return, error);
  }
}
function commitHostUpdate(finishedWork, newProps, oldProps) {
  try {
    var domElement = finishedWork.stateNode;
    updateProperties(domElement, finishedWork.type, oldProps, newProps);
    domElement[internalPropsKey] = newProps;
  } catch (error) {
    captureCommitPhaseError(finishedWork, finishedWork.return, error);
  }
}
function isHostParent(fiber) {
  return (
    5 === fiber.tag ||
    3 === fiber.tag ||
    26 === fiber.tag ||
    (27 === fiber.tag && isSingletonScope(fiber.type)) ||
    4 === fiber.tag
  );
}
function getHostSibling(fiber) {
  a: for (;;) {
    for (; null === fiber.sibling; ) {
      if (null === fiber.return || isHostParent(fiber.return)) return null;
      fiber = fiber.return;
    }
    fiber.sibling.return = fiber.return;
    for (
      fiber = fiber.sibling;
      5 !== fiber.tag && 6 !== fiber.tag && 18 !== fiber.tag;

    ) {
      if (27 === fiber.tag && isSingletonScope(fiber.type)) continue a;
      if (fiber.flags & 2) continue a;
      if (null === fiber.child || 4 === fiber.tag) continue a;
      else (fiber.child.return = fiber), (fiber = fiber.child);
    }
    if (!(fiber.flags & 2)) return fiber.stateNode;
  }
}
function insertOrAppendPlacementNodeIntoContainer(node, before, parent) {
  var tag = node.tag;
  if (5 === tag || 6 === tag)
    (node = node.stateNode),
      before
        ? (9 === parent.nodeType
            ? parent.body
            : "HTML" === parent.nodeName
              ? parent.ownerDocument.body
              : parent
          ).insertBefore(node, before)
        : ((before =
            9 === parent.nodeType
              ? parent.body
              : "HTML" === parent.nodeName
                ? parent.ownerDocument.body
                : parent),
          before.appendChild(node),
          (parent = parent._reactRootContainer),
          (null !== parent && void 0 !== parent) ||
            null !== before.onclick ||
            (before.onclick = noop$1));
  else if (
    4 !== tag &&
    (27 === tag &&
      isSingletonScope(node.type) &&
      ((parent = node.stateNode), (before = null)),
    (node = node.child),
    null !== node)
  )
    for (
      insertOrAppendPlacementNodeIntoContainer(node, before, parent),
        node = node.sibling;
      null !== node;

    )
      insertOrAppendPlacementNodeIntoContainer(node, before, parent),
        (node = node.sibling);
}
function insertOrAppendPlacementNode(node, before, parent) {
  var tag = node.tag;
  if (5 === tag || 6 === tag)
    (node = node.stateNode),
      before ? parent.insertBefore(node, before) : parent.appendChild(node);
  else if (
    4 !== tag &&
    (27 === tag && isSingletonScope(node.type) && (parent = node.stateNode),
    (node = node.child),
    null !== node)
  )
    for (
      insertOrAppendPlacementNode(node, before, parent), node = node.sibling;
      null !== node;

    )
      insertOrAppendPlacementNode(node, before, parent), (node = node.sibling);
}
function commitHostSingletonAcquisition(finishedWork) {
  var singleton = finishedWork.stateNode,
    props = finishedWork.memoizedProps;
  try {
    for (
      var type = finishedWork.type, attributes = singleton.attributes;
      attributes.length;

    )
      singleton.removeAttributeNode(attributes[0]);
    setInitialProperties(singleton, type, props);
    singleton[internalInstanceKey] = finishedWork;
    singleton[internalPropsKey] = props;
  } catch (error) {
    captureCommitPhaseError(finishedWork, finishedWork.return, error);
  }
}
var offscreenSubtreeIsHidden = !1,
  offscreenSubtreeWasHidden = !1,
  needsFormReset = !1,
  PossiblyWeakSet = "function" === typeof WeakSet ? WeakSet : Set,
  nextEffect = null;
function commitBeforeMutationEffects(root, firstChild) {
  root = root.containerInfo;
  eventsEnabled = _enabled;
  root = getActiveElementDeep(root);
  if (hasSelectionCapabilities(root)) {
    if ("selectionStart" in root)
      var JSCompiler_temp = {
        start: root.selectionStart,
        end: root.selectionEnd
      };
    else
      a: {
        JSCompiler_temp =
          ((JSCompiler_temp = root.ownerDocument) &&
            JSCompiler_temp.defaultView) ||
          window;
        var selection =
          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();
        if (selection && 0 !== selection.rangeCount) {
          JSCompiler_temp = selection.anchorNode;
          var anchorOffset = selection.anchorOffset,
            focusNode = selection.focusNode;
          selection = selection.focusOffset;
          try {
            JSCompiler_temp.nodeType, focusNode.nodeType;
          } catch (e$20) {
            JSCompiler_temp = null;
            break a;
          }
          var length = 0,
            start = -1,
            end = -1,
            indexWithinAnchor = 0,
            indexWithinFocus = 0,
            node = root,
            parentNode = null;
          b: for (;;) {
            for (var next; ; ) {
              node !== JSCompiler_temp ||
                (0 !== anchorOffset && 3 !== node.nodeType) ||
                (start = length + anchorOffset);
              node !== focusNode ||
                (0 !== selection && 3 !== node.nodeType) ||
                (end = length + selection);
              3 === node.nodeType && (length += node.nodeValue.length);
              if (null === (next = node.firstChild)) break;
              parentNode = node;
              node = next;
            }
            for (;;) {
              if (node === root) break b;
              parentNode === JSCompiler_temp &&
                ++indexWithinAnchor === anchorOffset &&
                (start = length);
              parentNode === focusNode &&
                ++indexWithinFocus === selection &&
                (end = length);
              if (null !== (next = node.nextSibling)) break;
              node = parentNode;
              parentNode = node.parentNode;
            }
            node = next;
          }
          JSCompiler_temp =
            -1 === start || -1 === end ? null : { start: start, end: end };
        } else JSCompiler_temp = null;
      }
    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };
  } else JSCompiler_temp = null;
  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };
  _enabled = !1;
  for (nextEffect = firstChild; null !== nextEffect; )
    if (
      ((firstChild = nextEffect),
      (root = firstChild.child),
      0 !== (firstChild.subtreeFlags & 1028) && null !== root)
    )
      (root.return = firstChild), (nextEffect = root);
    else
      for (; null !== nextEffect; ) {
        firstChild = nextEffect;
        focusNode = firstChild.alternate;
        root = firstChild.flags;
        switch (firstChild.tag) {
          case 0:
            if (
              0 !== (root & 4) &&
              ((root = firstChild.updateQueue),
              (root = null !== root ? root.events : null),
              null !== root)
            )
              for (
                JSCompiler_temp = 0;
                JSCompiler_temp < root.length;
                JSCompiler_temp++
              )
                (anchorOffset = root[JSCompiler_temp]),
                  (anchorOffset.ref.impl = anchorOffset.nextImpl);
            break;
          case 11:
          case 15:
            break;
          case 1:
            if (0 !== (root & 1024) && null !== focusNode) {
              root = void 0;
              JSCompiler_temp = firstChild;
              anchorOffset = focusNode.memoizedProps;
              focusNode = focusNode.memoizedState;
              selection = JSCompiler_temp.stateNode;
              try {
                var resolvedPrevProps = resolveClassComponentProps(
                  JSCompiler_temp.type,
                  anchorOffset
                );
                root = selection.getSnapshotBeforeUpdate(
                  resolvedPrevProps,
                  focusNode
                );
                selection.__reactInternalSnapshotBeforeUpdate = root;
              } catch (error) {
                captureCommitPhaseError(
                  JSCompiler_temp,
                  JSCompiler_temp.return,
                  error
                );
              }
            }
            break;
          case 3:
            if (0 !== (root & 1024))
              if (
                ((root = firstChild.stateNode.containerInfo),
                (JSCompiler_temp = root.nodeType),
                9 === JSCompiler_temp)
              )
                clearContainerSparingly(root);
              else if (1 === JSCompiler_temp)
                switch (root.nodeName) {
                  case "HEAD":
                  case "HTML":
                  case "BODY":
                    clearContainerSparingly(root);
                    break;
                  default:
                    root.textContent = "";
                }
            break;
          case 5:
          case 26:
          case 27:
          case 6:
          case 4:
          case 17:
            break;
          default:
            if (0 !== (root & 1024)) throw Error(formatProdErrorMessage(163));
        }
        root = firstChild.sibling;
        if (null !== root) {
          root.return = firstChild.return;
          nextEffect = root;
          break;
        }
        nextEffect = firstChild.return;
      }
}
function commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {
  var flags = finishedWork.flags;
  switch (finishedWork.tag) {
    case 0:
    case 11:
    case 15:
      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
      flags & 4 && commitHookEffectListMount(5, finishedWork);
      break;
    case 1:
      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
      if (flags & 4)
        if (((finishedRoot = finishedWork.stateNode), null === current))
          try {
            finishedRoot.componentDidMount();
          } catch (error) {
            captureCommitPhaseError(finishedWork, finishedWork.return, error);
          }
        else {
          var prevProps = resolveClassComponentProps(
            finishedWork.type,
            current.memoizedProps
          );
          current = current.memoizedState;
          try {
            finishedRoot.componentDidUpdate(
              prevProps,
              current,
              finishedRoot.__reactInternalSnapshotBeforeUpdate
            );
          } catch (error$139) {
            captureCommitPhaseError(
              finishedWork,
              finishedWork.return,
              error$139
            );
          }
        }
      flags & 64 && commitClassCallbacks(finishedWork);
      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);
      break;
    case 3:
      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
      if (
        flags & 64 &&
        ((finishedRoot = finishedWork.updateQueue), null !== finishedRoot)
      ) {
        current = null;
        if (null !== finishedWork.child)
          switch (finishedWork.child.tag) {
            case 27:
            case 5:
              current = finishedWork.child.stateNode;
              break;
            case 1:
              current = finishedWork.child.stateNode;
          }
        try {
          commitCallbacks(finishedRoot, current);
        } catch (error) {
          captureCommitPhaseError(finishedWork, finishedWork.return, error);
        }
      }
      break;
    case 27:
      null === current &&
        flags & 4 &&
        commitHostSingletonAcquisition(finishedWork);
    case 26:
    case 5:
      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
      null === current && flags & 4 && commitHostMount(finishedWork);
      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);
      break;
    case 12:
      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
      break;
    case 31:
      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
      flags & 4 && commitActivityHydrationCallbacks(finishedRoot, finishedWork);
      break;
    case 13:
      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
      flags & 4 && commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);
      flags & 64 &&
        ((finishedRoot = finishedWork.memoizedState),
        null !== finishedRoot &&
          ((finishedRoot = finishedRoot.dehydrated),
          null !== finishedRoot &&
            ((finishedWork = retryDehydratedSuspenseBoundary.bind(
              null,
              finishedWork
            )),
            registerSuspenseInstanceRetry(finishedRoot, finishedWork))));
      break;
    case 22:
      flags = null !== finishedWork.memoizedState || offscreenSubtreeIsHidden;
      if (!flags) {
        current =
          (null !== current && null !== current.memoizedState) ||
          offscreenSubtreeWasHidden;
        prevProps = offscreenSubtreeIsHidden;
        var prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;
        offscreenSubtreeIsHidden = flags;
        (offscreenSubtreeWasHidden = current) && !prevOffscreenSubtreeWasHidden
          ? recursivelyTraverseReappearLayoutEffects(
              finishedRoot,
              finishedWork,
              0 !== (finishedWork.subtreeFlags & 8772)
            )
          : recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
        offscreenSubtreeIsHidden = prevProps;
        offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;
      }
      break;
    case 30:
      break;
    default:
      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
  }
}
function detachFiberAfterEffects(fiber) {
  var alternate = fiber.alternate;
  null !== alternate &&
    ((fiber.alternate = null), detachFiberAfterEffects(alternate));
  fiber.child = null;
  fiber.deletions = null;
  fiber.sibling = null;
  5 === fiber.tag &&
    ((alternate = fiber.stateNode),
    null !== alternate && detachDeletedInstance(alternate));
  fiber.stateNode = null;
  fiber.return = null;
  fiber.dependencies = null;
  fiber.memoizedProps = null;
  fiber.memoizedState = null;
  fiber.pendingProps = null;
  fiber.stateNode = null;
  fiber.updateQueue = null;
}
var hostParent = null,
  hostParentIsContainer = !1;
function recursivelyTraverseDeletionEffects(
  finishedRoot,
  nearestMountedAncestor,
  parent
) {
  for (parent = parent.child; null !== parent; )
    commitDeletionEffectsOnFiber(finishedRoot, nearestMountedAncestor, parent),
      (parent = parent.sibling);
}
function commitDeletionEffectsOnFiber(
  finishedRoot,
  nearestMountedAncestor,
  deletedFiber
) {
  if (injectedHook && "function" === typeof injectedHook.onCommitFiberUnmount)
    try {
      injectedHook.onCommitFiberUnmount(rendererID, deletedFiber);
    } catch (err) {}
  switch (deletedFiber.tag) {
    case 26:
      offscreenSubtreeWasHidden ||
        safelyDetachRef(deletedFiber, nearestMountedAncestor);
      recursivelyTraverseDeletionEffects(
        finishedRoot,
        nearestMountedAncestor,
        deletedFiber
      );
      deletedFiber.memoizedState
        ? deletedFiber.memoizedState.count--
        : deletedFiber.stateNode &&
          ((deletedFiber = deletedFiber.stateNode),
          deletedFiber.parentNode.removeChild(deletedFiber));
      break;
    case 27:
      offscreenSubtreeWasHidden ||
        safelyDetachRef(deletedFiber, nearestMountedAncestor);
      var prevHostParent = hostParent,
        prevHostParentIsContainer = hostParentIsContainer;
      isSingletonScope(deletedFiber.type) &&
        ((hostParent = deletedFiber.stateNode), (hostParentIsContainer = !1));
      recursivelyTraverseDeletionEffects(
        finishedRoot,
        nearestMountedAncestor,
        deletedFiber
      );
      releaseSingletonInstance(deletedFiber.stateNode);
      hostParent = prevHostParent;
      hostParentIsContainer = prevHostParentIsContainer;
      break;
    case 5:
      offscreenSubtreeWasHidden ||
        safelyDetachRef(deletedFiber, nearestMountedAncestor);
    case 6:
      prevHostParent = hostParent;
      prevHostParentIsContainer = hostParentIsContainer;
      hostParent = null;
      recursivelyTraverseDeletionEffects(
        finishedRoot,
        nearestMountedAncestor,
        deletedFiber
      );
      hostParent = prevHostParent;
      hostParentIsContainer = prevHostParentIsContainer;
      if (null !== hostParent)
        if (hostParentIsContainer)
          try {
            (9 === hostParent.nodeType
              ? hostParent.body
              : "HTML" === hostParent.nodeName
                ? hostParent.ownerDocument.body
                : hostParent
            ).removeChild(deletedFiber.stateNode);
          } catch (error) {
            captureCommitPhaseError(
              deletedFiber,
              nearestMountedAncestor,
              error
            );
          }
        else
          try {
            hostParent.removeChild(deletedFiber.stateNode);
          } catch (error) {
            captureCommitPhaseError(
              deletedFiber,
              nearestMountedAncestor,
              error
            );
          }
      break;
    case 18:
      null !== hostParent &&
        (hostParentIsContainer
          ? ((finishedRoot = hostParent),
            clearHydrationBoundary(
              9 === finishedRoot.nodeType
                ? finishedRoot.body
                : "HTML" === finishedRoot.nodeName
                  ? finishedRoot.ownerDocument.body
                  : finishedRoot,
              deletedFiber.stateNode
            ),
            retryIfBlockedOn(finishedRoot))
          : clearHydrationBoundary(hostParent, deletedFiber.stateNode));
      break;
    case 4:
      prevHostParent = hostParent;
      prevHostParentIsContainer = hostParentIsContainer;
      hostParent = deletedFiber.stateNode.containerInfo;
      hostParentIsContainer = !0;
      recursivelyTraverseDeletionEffects(
        finishedRoot,
        nearestMountedAncestor,
        deletedFiber
      );
      hostParent = prevHostParent;
      hostParentIsContainer = prevHostParentIsContainer;
      break;
    case 0:
    case 11:
    case 14:
    case 15:
      commitHookEffectListUnmount(2, deletedFiber, nearestMountedAncestor);
      offscreenSubtreeWasHidden ||
        commitHookEffectListUnmount(4, deletedFiber, nearestMountedAncestor);
      recursivelyTraverseDeletionEffects(
        finishedRoot,
        nearestMountedAncestor,
        deletedFiber
      );
      break;
    case 1:
      offscreenSubtreeWasHidden ||
        (safelyDetachRef(deletedFiber, nearestMountedAncestor),
        (prevHostParent = deletedFiber.stateNode),
        "function" === typeof prevHostParent.componentWillUnmount &&
          safelyCallComponentWillUnmount(
            deletedFiber,
            nearestMountedAncestor,
            prevHostParent
          ));
      recursivelyTraverseDeletionEffects(
        finishedRoot,
        nearestMountedAncestor,
        deletedFiber
      );
      break;
    case 21:
      recursivelyTraverseDeletionEffects(
        finishedRoot,
        nearestMountedAncestor,
        deletedFiber
      );
      break;
    case 22:
      offscreenSubtreeWasHidden =
        (prevHostParent = offscreenSubtreeWasHidden) ||
        null !== deletedFiber.memoizedState;
      recursivelyTraverseDeletionEffects(
        finishedRoot,
        nearestMountedAncestor,
        deletedFiber
      );
      offscreenSubtreeWasHidden = prevHostParent;
      break;
    default:
      recursivelyTraverseDeletionEffects(
        finishedRoot,
        nearestMountedAncestor,
        deletedFiber
      );
  }
}
function commitActivityHydrationCallbacks(finishedRoot, finishedWork) {
  if (
    null === finishedWork.memoizedState &&
    ((finishedRoot = finishedWork.alternate),
    null !== finishedRoot &&
      ((finishedRoot = finishedRoot.memoizedState), null !== finishedRoot))
  ) {
    finishedRoot = finishedRoot.dehydrated;
    try {
      retryIfBlockedOn(finishedRoot);
    } catch (error) {
      captureCommitPhaseError(finishedWork, finishedWork.return, error);
    }
  }
}
function commitSuspenseHydrationCallbacks(finishedRoot, finishedWork) {
  if (
    null === finishedWork.memoizedState &&
    ((finishedRoot = finishedWork.alternate),
    null !== finishedRoot &&
      ((finishedRoot = finishedRoot.memoizedState),
      null !== finishedRoot &&
        ((finishedRoot = finishedRoot.dehydrated), null !== finishedRoot)))
  )
    try {
      retryIfBlockedOn(finishedRoot);
    } catch (error) {
      captureCommitPhaseError(finishedWork, finishedWork.return, error);
    }
}
function getRetryCache(finishedWork) {
  switch (finishedWork.tag) {
    case 31:
    case 13:
    case 19:
      var retryCache = finishedWork.stateNode;
      null === retryCache &&
        (retryCache = finishedWork.stateNode = new PossiblyWeakSet());
      return retryCache;
    case 22:
      return (
        (finishedWork = finishedWork.stateNode),
        (retryCache = finishedWork._retryCache),
        null === retryCache &&
          (retryCache = finishedWork._retryCache = new PossiblyWeakSet()),
        retryCache
      );
    default:
      throw Error(formatProdErrorMessage(435, finishedWork.tag));
  }
}
function attachSuspenseRetryListeners(finishedWork, wakeables) {
  var retryCache = getRetryCache(finishedWork);
  wakeables.forEach(function (wakeable) {
    if (!retryCache.has(wakeable)) {
      retryCache.add(wakeable);
      var retry = resolveRetryWakeable.bind(null, finishedWork, wakeable);
      wakeable.then(retry, retry);
    }
  });
}
function recursivelyTraverseMutationEffects(root$jscomp$0, parentFiber) {
  var deletions = parentFiber.deletions;
  if (null !== deletions)
    for (var i = 0; i < deletions.length; i++) {
      var childToDelete = deletions[i],
        root = root$jscomp$0,
        returnFiber = parentFiber,
        parent = returnFiber;
      a: for (; null !== parent; ) {
        switch (parent.tag) {
          case 27:
            if (isSingletonScope(parent.type)) {
              hostParent = parent.stateNode;
              hostParentIsContainer = !1;
              break a;
            }
            break;
          case 5:
            hostParent = parent.stateNode;
            hostParentIsContainer = !1;
            break a;
          case 3:
          case 4:
            hostParent = parent.stateNode.containerInfo;
            hostParentIsContainer = !0;
            break a;
        }
        parent = parent.return;
      }
      if (null === hostParent) throw Error(formatProdErrorMessage(160));
      commitDeletionEffectsOnFiber(root, returnFiber, childToDelete);
      hostParent = null;
      hostParentIsContainer = !1;
      root = childToDelete.alternate;
      null !== root && (root.return = null);
      childToDelete.return = null;
    }
  if (parentFiber.subtreeFlags & 13886)
    for (parentFiber = parentFiber.child; null !== parentFiber; )
      commitMutationEffectsOnFiber(parentFiber, root$jscomp$0),
        (parentFiber = parentFiber.sibling);
}
var currentHoistableRoot = null;
function commitMutationEffectsOnFiber(finishedWork, root) {
  var current = finishedWork.alternate,
    flags = finishedWork.flags;
  switch (finishedWork.tag) {
    case 0:
    case 11:
    case 14:
    case 15:
      recursivelyTraverseMutationEffects(root, finishedWork);
      commitReconciliationEffects(finishedWork);
      flags & 4 &&
        (commitHookEffectListUnmount(3, finishedWork, finishedWork.return),
        commitHookEffectListMount(3, finishedWork),
        commitHookEffectListUnmount(5, finishedWork, finishedWork.return));
      break;
    case 1:
      recursivelyTraverseMutationEffects(root, finishedWork);
      commitReconciliationEffects(finishedWork);
      flags & 512 &&
        (offscreenSubtreeWasHidden ||
          null === current ||
          safelyDetachRef(current, current.return));
      flags & 64 &&
        offscreenSubtreeIsHidden &&
        ((finishedWork = finishedWork.updateQueue),
        null !== finishedWork &&
          ((flags = finishedWork.callbacks),
          null !== flags &&
            ((current = finishedWork.shared.hiddenCallbacks),
            (finishedWork.shared.hiddenCallbacks =
              null === current ? flags : current.concat(flags)))));
      break;
    case 26:
      var hoistableRoot = currentHoistableRoot;
      recursivelyTraverseMutationEffects(root, finishedWork);
      commitReconciliationEffects(finishedWork);
      flags & 512 &&
        (offscreenSubtreeWasHidden ||
          null === current ||
          safelyDetachRef(current, current.return));
      if (flags & 4) {
        var currentResource = null !== current ? current.memoizedState : null;
        flags = finishedWork.memoizedState;
        if (null === current)
          if (null === flags)
            if (null === finishedWork.stateNode) {
              a: {
                flags = finishedWork.type;
                current = finishedWork.memoizedProps;
                hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;
                b: switch (flags) {
                  case "title":
                    currentResource =
                      hoistableRoot.getElementsByTagName("title")[0];
                    if (
                      !currentResource ||
                      currentResource[internalHoistableMarker] ||
                      currentResource[internalInstanceKey] ||
                      "http://www.w3.org/2000/svg" ===
                        currentResource.namespaceURI ||
                      currentResource.hasAttribute("itemprop")
                    )
                      (currentResource = hoistableRoot.createElement(flags)),
                        hoistableRoot.head.insertBefore(
                          currentResource,
                          hoistableRoot.querySelector("head > title")
                        );
                    setInitialProperties(currentResource, flags, current);
                    currentResource[internalInstanceKey] = finishedWork;
                    markNodeAsHoistable(currentResource);
                    flags = currentResource;
                    break a;
                  case "link":
                    var maybeNodes = getHydratableHoistableCache(
                      "link",
                      "href",
                      hoistableRoot
                    ).get(flags + (current.href || ""));
                    if (maybeNodes)
                      for (var i = 0; i < maybeNodes.length; i++)
                        if (
                          ((currentResource = maybeNodes[i]),
                          currentResource.getAttribute("href") ===
                            (null == current.href || "" === current.href
                              ? null
                              : current.href) &&
                            currentResource.getAttribute("rel") ===
                              (null == current.rel ? null : current.rel) &&
                            currentResource.getAttribute("title") ===
                              (null == current.title ? null : current.title) &&
                            currentResource.getAttribute("crossorigin") ===
                              (null == current.crossOrigin
                                ? null
                                : current.crossOrigin))
                        ) {
                          maybeNodes.splice(i, 1);
                          break b;
                        }
                    currentResource = hoistableRoot.createElement(flags);
                    setInitialProperties(currentResource, flags, current);
                    hoistableRoot.head.appendChild(currentResource);
                    break;
                  case "meta":
                    if (
                      (maybeNodes = getHydratableHoistableCache(
                        "meta",
                        "content",
                        hoistableRoot
                      ).get(flags + (current.content || "")))
                    )
                      for (i = 0; i < maybeNodes.length; i++)
                        if (
                          ((currentResource = maybeNodes[i]),
                          currentResource.getAttribute("content") ===
                            (null == current.content
                              ? null
                              : "" + current.content) &&
                            currentResource.getAttribute("name") ===
                              (null == current.name ? null : current.name) &&
                            currentResource.getAttribute("property") ===
                              (null == current.property
                                ? null
                                : current.property) &&
                            currentResource.getAttribute("http-equiv") ===
                              (null == current.httpEquiv
                                ? null
                                : current.httpEquiv) &&
                            currentResource.getAttribute("charset") ===
                              (null == current.charSet
                                ? null
                                : current.charSet))
                        ) {
                          maybeNodes.splice(i, 1);
                          break b;
                        }
                    currentResource = hoistableRoot.createElement(flags);
                    setInitialProperties(currentResource, flags, current);
                    hoistableRoot.head.appendChild(currentResource);
                    break;
                  default:
                    throw Error(formatProdErrorMessage(468, flags));
                }
                currentResource[internalInstanceKey] = finishedWork;
                markNodeAsHoistable(currentResource);
                flags = currentResource;
              }
              finishedWork.stateNode = flags;
            } else
              mountHoistable(
                hoistableRoot,
                finishedWork.type,
                finishedWork.stateNode
              );
          else
            finishedWork.stateNode = acquireResource(
              hoistableRoot,
              flags,
              finishedWork.memoizedProps
            );
        else
          currentResource !== flags
            ? (null === currentResource
                ? null !== current.stateNode &&
                  ((current = current.stateNode),
                  current.parentNode.removeChild(current))
                : currentResource.count--,
              null === flags
                ? mountHoistable(
                    hoistableRoot,
                    finishedWork.type,
                    finishedWork.stateNode
                  )
                : acquireResource(
                    hoistableRoot,
                    flags,
                    finishedWork.memoizedProps
                  ))
            : null === flags &&
              null !== finishedWork.stateNode &&
              commitHostUpdate(
                finishedWork,
                finishedWork.memoizedProps,
                current.memoizedProps
              );
      }
      break;
    case 27:
      recursivelyTraverseMutationEffects(root, finishedWork);
      commitReconciliationEffects(finishedWork);
      flags & 512 &&
        (offscreenSubtreeWasHidden ||
          null === current ||
          safelyDetachRef(current, current.return));
      null !== current &&
        flags & 4 &&
        commitHostUpdate(
          finishedWork,
          finishedWork.memoizedProps,
          current.memoizedProps
        );
      break;
    case 5:
      recursivelyTraverseMutationEffects(root, finishedWork);
      commitReconciliationEffects(finishedWork);
      flags & 512 &&
        (offscreenSubtreeWasHidden ||
          null === current ||
          safelyDetachRef(current, current.return));
      if (finishedWork.flags & 32) {
        hoistableRoot = finishedWork.stateNode;
        try {
          setTextContent(hoistableRoot, "");
        } catch (error) {
          captureCommitPhaseError(finishedWork, finishedWork.return, error);
        }
      }
      flags & 4 &&
        null != finishedWork.stateNode &&
        ((hoistableRoot = finishedWork.memoizedProps),
        commitHostUpdate(
          finishedWork,
          hoistableRoot,
          null !== current ? current.memoizedProps : hoistableRoot
        ));
      flags & 1024 && (needsFormReset = !0);
      break;
    case 6:
      recursivelyTraverseMutationEffects(root, finishedWork);
      commitReconciliationEffects(finishedWork);
      if (flags & 4) {
        if (null === finishedWork.stateNode)
          throw Error(formatProdErrorMessage(162));
        flags = finishedWork.memoizedProps;
        current = finishedWork.stateNode;
        try {
          current.nodeValue = flags;
        } catch (error) {
          captureCommitPhaseError(finishedWork, finishedWork.return, error);
        }
      }
      break;
    case 3:
      tagCaches = null;
      hoistableRoot = currentHoistableRoot;
      currentHoistableRoot = getHoistableRoot(root.containerInfo);
      recursivelyTraverseMutationEffects(root, finishedWork);
      currentHoistableRoot = hoistableRoot;
      commitReconciliationEffects(finishedWork);
      if (flags & 4 && null !== current && current.memoizedState.isDehydrated)
        try {
          retryIfBlockedOn(root.containerInfo);
        } catch (error) {
          captureCommitPhaseError(finishedWork, finishedWork.return, error);
        }
      needsFormReset &&
        ((needsFormReset = !1), recursivelyResetForms(finishedWork));
      break;
    case 4:
      flags = currentHoistableRoot;
      currentHoistableRoot = getHoistableRoot(
        finishedWork.stateNode.containerInfo
      );
      recursivelyTraverseMutationEffects(root, finishedWork);
      commitReconciliationEffects(finishedWork);
      currentHoistableRoot = flags;
      break;
    case 12:
      recursivelyTraverseMutationEffects(root, finishedWork);
      commitReconciliationEffects(finishedWork);
      break;
    case 31:
      recursivelyTraverseMutationEffects(root, finishedWork);
      commitReconciliationEffects(finishedWork);
      flags & 4 &&
        ((flags = finishedWork.updateQueue),
        null !== flags &&
          ((finishedWork.updateQueue = null),
          attachSuspenseRetryListeners(finishedWork, flags)));
      break;
    case 13:
      recursivelyTraverseMutationEffects(root, finishedWork);
      commitReconciliationEffects(finishedWork);
      finishedWork.child.flags & 8192 &&
        (null !== finishedWork.memoizedState) !==
          (null !== current && null !== current.memoizedState) &&
        (globalMostRecentFallbackTime = now());
      flags & 4 &&
        ((flags = finishedWork.updateQueue),
        null !== flags &&
          ((finishedWork.updateQueue = null),
          attachSuspenseRetryListeners(finishedWork, flags)));
      break;
    case 22:
      hoistableRoot = null !== finishedWork.memoizedState;
      var wasHidden = null !== current && null !== current.memoizedState,
        prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,
        prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;
      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden || hoistableRoot;
      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden || wasHidden;
      recursivelyTraverseMutationEffects(root, finishedWork);
      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;
      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;
      commitReconciliationEffects(finishedWork);
      if (flags & 8192)
        a: for (
          root = finishedWork.stateNode,
            root._visibility = hoistableRoot
              ? root._visibility & -2
              : root._visibility | 1,
            hoistableRoot &&
              (null === current ||
                wasHidden ||
                offscreenSubtreeIsHidden ||
                offscreenSubtreeWasHidden ||
                recursivelyTraverseDisappearLayoutEffects(finishedWork)),
            current = null,
            root = finishedWork;
          ;

        ) {
          if (5 === root.tag || 26 === root.tag) {
            if (null === current) {
              wasHidden = current = root;
              try {
                if (((currentResource = wasHidden.stateNode), hoistableRoot))
                  (maybeNodes = currentResource.style),
                    "function" === typeof maybeNodes.setProperty
                      ? maybeNodes.setProperty("display", "none", "important")
                      : (maybeNodes.display = "none");
                else {
                  i = wasHidden.stateNode;
                  var styleProp = wasHidden.memoizedProps.style,
                    display =
                      void 0 !== styleProp &&
                      null !== styleProp &&
                      styleProp.hasOwnProperty("display")
                        ? styleProp.display
                        : null;
                  i.style.display =
                    null == display || "boolean" === typeof display
                      ? ""
                      : ("" + display).trim();
                }
              } catch (error) {
                captureCommitPhaseError(wasHidden, wasHidden.return, error);
              }
            }
          } else if (6 === root.tag) {
            if (null === current) {
              wasHidden = root;
              try {
                wasHidden.stateNode.nodeValue = hoistableRoot
                  ? ""
                  : wasHidden.memoizedProps;
              } catch (error) {
                captureCommitPhaseError(wasHidden, wasHidden.return, error);
              }
            }
          } else if (18 === root.tag) {
            if (null === current) {
              wasHidden = root;
              try {
                var instance = wasHidden.stateNode;
                hoistableRoot
                  ? hideOrUnhideDehydratedBoundary(instance, !0)
                  : hideOrUnhideDehydratedBoundary(wasHidden.stateNode, !1);
              } catch (error) {
                captureCommitPhaseError(wasHidden, wasHidden.return, error);
              }
            }
          } else if (
            ((22 !== root.tag && 23 !== root.tag) ||
              null === root.memoizedState ||
              root === finishedWork) &&
            null !== root.child
          ) {
            root.child.return = root;
            root = root.child;
            continue;
          }
          if (root === finishedWork) break a;
          for (; null === root.sibling; ) {
            if (null === root.return || root.return === finishedWork) break a;
            current === root && (current = null);
            root = root.return;
          }
          current === root && (current = null);
          root.sibling.return = root.return;
          root = root.sibling;
        }
      flags & 4 &&
        ((flags = finishedWork.updateQueue),
        null !== flags &&
          ((current = flags.retryQueue),
          null !== current &&
            ((flags.retryQueue = null),
            attachSuspenseRetryListeners(finishedWork, current))));
      break;
    case 19:
      recursivelyTraverseMutationEffects(root, finishedWork);
      commitReconciliationEffects(finishedWork);
      flags & 4 &&
        ((flags = finishedWork.updateQueue),
        null !== flags &&
          ((finishedWork.updateQueue = null),
          attachSuspenseRetryListeners(finishedWork, flags)));
      break;
    case 30:
      break;
    case 21:
      break;
    default:
      recursivelyTraverseMutationEffects(root, finishedWork),
        commitReconciliationEffects(finishedWork);
  }
}
function commitReconciliationEffects(finishedWork) {
  var flags = finishedWork.flags;
  if (flags & 2) {
    try {
      for (
        var hostParentFiber, parentFiber = finishedWork.return;
        null !== parentFiber;

      ) {
        if (isHostParent(parentFiber)) {
          hostParentFiber = parentFiber;
          break;
        }
        parentFiber = parentFiber.return;
      }
      if (null == hostParentFiber) throw Error(formatProdErrorMessage(160));
      switch (hostParentFiber.tag) {
        case 27:
          var parent = hostParentFiber.stateNode,
            before = getHostSibling(finishedWork);
          insertOrAppendPlacementNode(finishedWork, before, parent);
          break;
        case 5:
          var parent$141 = hostParentFiber.stateNode;
          hostParentFiber.flags & 32 &&
            (setTextContent(parent$141, ""), (hostParentFiber.flags &= -33));
          var before$142 = getHostSibling(finishedWork);
          insertOrAppendPlacementNode(finishedWork, before$142, parent$141);
          break;
        case 3:
        case 4:
          var parent$143 = hostParentFiber.stateNode.containerInfo,
            before$144 = getHostSibling(finishedWork);
          insertOrAppendPlacementNodeIntoContainer(
            finishedWork,
            before$144,
            parent$143
          );
          break;
        default:
          throw Error(formatProdErrorMessage(161));
      }
    } catch (error) {
      captureCommitPhaseError(finishedWork, finishedWork.return, error);
    }
    finishedWork.flags &= -3;
  }
  flags & 4096 && (finishedWork.flags &= -4097);
}
function recursivelyResetForms(parentFiber) {
  if (parentFiber.subtreeFlags & 1024)
    for (parentFiber = parentFiber.child; null !== parentFiber; ) {
      var fiber = parentFiber;
      recursivelyResetForms(fiber);
      5 === fiber.tag && fiber.flags & 1024 && fiber.stateNode.reset();
      parentFiber = parentFiber.sibling;
    }
}
function recursivelyTraverseLayoutEffects(root, parentFiber) {
  if (parentFiber.subtreeFlags & 8772)
    for (parentFiber = parentFiber.child; null !== parentFiber; )
      commitLayoutEffectOnFiber(root, parentFiber.alternate, parentFiber),
        (parentFiber = parentFiber.sibling);
}
function recursivelyTraverseDisappearLayoutEffects(parentFiber) {
  for (parentFiber = parentFiber.child; null !== parentFiber; ) {
    var finishedWork = parentFiber;
    switch (finishedWork.tag) {
      case 0:
      case 11:
      case 14:
      case 15:
        commitHookEffectListUnmount(4, finishedWork, finishedWork.return);
        recursivelyTraverseDisappearLayoutEffects(finishedWork);
        break;
      case 1:
        safelyDetachRef(finishedWork, finishedWork.return);
        var instance = finishedWork.stateNode;
        "function" === typeof instance.componentWillUnmount &&
          safelyCallComponentWillUnmount(
            finishedWork,
            finishedWork.return,
            instance
          );
        recursivelyTraverseDisappearLayoutEffects(finishedWork);
        break;
      case 27:
        releaseSingletonInstance(finishedWork.stateNode);
      case 26:
      case 5:
        safelyDetachRef(finishedWork, finishedWork.return);
        recursivelyTraverseDisappearLayoutEffects(finishedWork);
        break;
      case 22:
        null === finishedWork.memoizedState &&
          recursivelyTraverseDisappearLayoutEffects(finishedWork);
        break;
      case 30:
        recursivelyTraverseDisappearLayoutEffects(finishedWork);
        break;
      default:
        recursivelyTraverseDisappearLayoutEffects(finishedWork);
    }
    parentFiber = parentFiber.sibling;
  }
}
function recursivelyTraverseReappearLayoutEffects(
  finishedRoot$jscomp$0,
  parentFiber,
  includeWorkInProgressEffects
) {
  includeWorkInProgressEffects =
    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 8772);
  for (parentFiber = parentFiber.child; null !== parentFiber; ) {
    var current = parentFiber.alternate,
      finishedRoot = finishedRoot$jscomp$0,
      finishedWork = parentFiber,
      flags = finishedWork.flags;
    switch (finishedWork.tag) {
      case 0:
      case 11:
      case 15:
        recursivelyTraverseReappearLayoutEffects(
          finishedRoot,
          finishedWork,
          includeWorkInProgressEffects
        );
        commitHookEffectListMount(4, finishedWork);
        break;
      case 1:
        recursivelyTraverseReappearLayoutEffects(
          finishedRoot,
          finishedWork,
          includeWorkInProgressEffects
        );
        current = finishedWork;
        finishedRoot = current.stateNode;
        if ("function" === typeof finishedRoot.componentDidMount)
          try {
            finishedRoot.componentDidMount();
          } catch (error) {
            captureCommitPhaseError(current, current.return, error);
          }
        current = finishedWork;
        finishedRoot = current.updateQueue;
        if (null !== finishedRoot) {
          var instance = current.stateNode;
          try {
            var hiddenCallbacks = finishedRoot.shared.hiddenCallbacks;
            if (null !== hiddenCallbacks)
              for (
                finishedRoot.shared.hiddenCallbacks = null, finishedRoot = 0;
                finishedRoot < hiddenCallbacks.length;
                finishedRoot++
              )
                callCallback(hiddenCallbacks[finishedRoot], instance);
          } catch (error) {
            captureCommitPhaseError(current, current.return, error);
          }
        }
        includeWorkInProgressEffects &&
          flags & 64 &&
          commitClassCallbacks(finishedWork);
        safelyAttachRef(finishedWork, finishedWork.return);
        break;
      case 27:
        commitHostSingletonAcquisition(finishedWork);
      case 26:
      case 5:
        recursivelyTraverseReappearLayoutEffects(
          finishedRoot,
          finishedWork,
          includeWorkInProgressEffects
        );
        includeWorkInProgressEffects &&
          null === current &&
          flags & 4 &&
          commitHostMount(finishedWork);
        safelyAttachRef(finishedWork, finishedWork.return);
        break;
      case 12:
        recursivelyTraverseReappearLayoutEffects(
          finishedRoot,
          finishedWork,
          includeWorkInProgressEffects
        );
        break;
      case 31:
        recursivelyTraverseReappearLayoutEffects(
          finishedRoot,
          finishedWork,
          includeWorkInProgressEffects
        );
        includeWorkInProgressEffects &&
          flags & 4 &&
          commitActivityHydrationCallbacks(finishedRoot, finishedWork);
        break;
      case 13:
        recursivelyTraverseReappearLayoutEffects(
          finishedRoot,
          finishedWork,
          includeWorkInProgressEffects
        );
        includeWorkInProgressEffects &&
          flags & 4 &&
          commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);
        break;
      case 22:
        null === finishedWork.memoizedState &&
          recursivelyTraverseReappearLayoutEffects(
            finishedRoot,
            finishedWork,
            includeWorkInProgressEffects
          );
        safelyAttachRef(finishedWork, finishedWork.return);
        break;
      case 30:
        break;
      default:
        recursivelyTraverseReappearLayoutEffects(
          finishedRoot,
          finishedWork,
          includeWorkInProgressEffects
        );
    }
    parentFiber = parentFiber.sibling;
  }
}
function commitOffscreenPassiveMountEffects(current, finishedWork) {
  var previousCache = null;
  null !== current &&
    null !== current.memoizedState &&
    null !== current.memoizedState.cachePool &&
    (previousCache = current.memoizedState.cachePool.pool);
  current = null;
  null !== finishedWork.memoizedState &&
    null !== finishedWork.memoizedState.cachePool &&
    (current = finishedWork.memoizedState.cachePool.pool);
  current !== previousCache &&
    (null != current && current.refCount++,
    null != previousCache && releaseCache(previousCache));
}
function commitCachePassiveMountEffect(current, finishedWork) {
  current = null;
  null !== finishedWork.alternate &&
    (current = finishedWork.alternate.memoizedState.cache);
  finishedWork = finishedWork.memoizedState.cache;
  finishedWork !== current &&
    (finishedWork.refCount++, null != current && releaseCache(current));
}
function recursivelyTraversePassiveMountEffects(
  root,
  parentFiber,
  committedLanes,
  committedTransitions
) {
  if (parentFiber.subtreeFlags & 10256)
    for (parentFiber = parentFiber.child; null !== parentFiber; )
      commitPassiveMountOnFiber(
        root,
        parentFiber,
        committedLanes,
        committedTransitions
      ),
        (parentFiber = parentFiber.sibling);
}
function commitPassiveMountOnFiber(
  finishedRoot,
  finishedWork,
  committedLanes,
  committedTransitions
) {
  var flags = finishedWork.flags;
  switch (finishedWork.tag) {
    case 0:
    case 11:
    case 15:
      recursivelyTraversePassiveMountEffects(
        finishedRoot,
        finishedWork,
        committedLanes,
        committedTransitions
      );
      flags & 2048 && commitHookEffectListMount(9, finishedWork);
      break;
    case 1:
      recursivelyTraversePassiveMountEffects(
        finishedRoot,
        finishedWork,
        committedLanes,
        committedTransitions
      );
      break;
    case 3:
      recursivelyTraversePassiveMountEffects(
        finishedRoot,
        finishedWork,
        committedLanes,
        committedTransitions
      );
      flags & 2048 &&
        ((finishedRoot = null),
        null !== finishedWork.alternate &&
          (finishedRoot = finishedWork.alternate.memoizedState.cache),
        (finishedWork = finishedWork.memoizedState.cache),
        finishedWork !== finishedRoot &&
          (finishedWork.refCount++,
          null != finishedRoot && releaseCache(finishedRoot)));
      break;
    case 12:
      if (flags & 2048) {
        recursivelyTraversePassiveMountEffects(
          finishedRoot,
          finishedWork,
          committedLanes,
          committedTransitions
        );
        finishedRoot = finishedWork.stateNode;
        try {
          var _finishedWork$memoize2 = finishedWork.memoizedProps,
            id = _finishedWork$memoize2.id,
            onPostCommit = _finishedWork$memoize2.onPostCommit;
          "function" === typeof onPostCommit &&
            onPostCommit(
              id,
              null === finishedWork.alternate ? "mount" : "update",
              finishedRoot.passiveEffectDuration,
              -0
            );
        } catch (error) {
          captureCommitPhaseError(finishedWork, finishedWork.return, error);
        }
      } else
        recursivelyTraversePassiveMountEffects(
          finishedRoot,
          finishedWork,
          committedLanes,
          committedTransitions
        );
      break;
    case 31:
      recursivelyTraversePassiveMountEffects(
        finishedRoot,
        finishedWork,
        committedLanes,
        committedTransitions
      );
      break;
    case 13:
      recursivelyTraversePassiveMountEffects(
        finishedRoot,
        finishedWork,
        committedLanes,
        committedTransitions
      );
      break;
    case 23:
      break;
    case 22:
      _finishedWork$memoize2 = finishedWork.stateNode;
      id = finishedWork.alternate;
      null !== finishedWork.memoizedState
        ? _finishedWork$memoize2._visibility & 2
          ? recursivelyTraversePassiveMountEffects(
              finishedRoot,
              finishedWork,
              committedLanes,
              committedTransitions
            )
          : recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork)
        : _finishedWork$memoize2._visibility & 2
          ? recursivelyTraversePassiveMountEffects(
              finishedRoot,
              finishedWork,
              committedLanes,
              committedTransitions
            )
          : ((_finishedWork$memoize2._visibility |= 2),
            recursivelyTraverseReconnectPassiveEffects(
              finishedRoot,
              finishedWork,
              committedLanes,
              committedTransitions,
              0 !== (finishedWork.subtreeFlags & 10256) || !1
            ));
      flags & 2048 && commitOffscreenPassiveMountEffects(id, finishedWork);
      break;
    case 24:
      recursivelyTraversePassiveMountEffects(
        finishedRoot,
        finishedWork,
        committedLanes,
        committedTransitions
      );
      flags & 2048 &&
        commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);
      break;
    default:
      recursivelyTraversePassiveMountEffects(
        finishedRoot,
        finishedWork,
        committedLanes,
        committedTransitions
      );
  }
}
function recursivelyTraverseReconnectPassiveEffects(
  finishedRoot$jscomp$0,
  parentFiber,
  committedLanes$jscomp$0,
  committedTransitions$jscomp$0,
  includeWorkInProgressEffects
) {
  includeWorkInProgressEffects =
    includeWorkInProgressEffects &&
    (0 !== (parentFiber.subtreeFlags & 10256) || !1);
  for (parentFiber = parentFiber.child; null !== parentFiber; ) {
    var finishedRoot = finishedRoot$jscomp$0,
      finishedWork = parentFiber,
      committedLanes = committedLanes$jscomp$0,
      committedTransitions = committedTransitions$jscomp$0,
      flags = finishedWork.flags;
    switch (finishedWork.tag) {
      case 0:
      case 11:
      case 15:
        recursivelyTraverseReconnectPassiveEffects(
          finishedRoot,
          finishedWork,
          committedLanes,
          committedTransitions,
          includeWorkInProgressEffects
        );
        commitHookEffectListMount(8, finishedWork);
        break;
      case 23:
        break;
      case 22:
        var instance = finishedWork.stateNode;
        null !== finishedWork.memoizedState
          ? instance._visibility & 2
            ? recursivelyTraverseReconnectPassiveEffects(
                finishedRoot,
                finishedWork,
                committedLanes,
                committedTransitions,
                includeWorkInProgressEffects
              )
            : recursivelyTraverseAtomicPassiveEffects(
                finishedRoot,
                finishedWork
              )
          : ((instance._visibility |= 2),
            recursivelyTraverseReconnectPassiveEffects(
              finishedRoot,
              finishedWork,
              committedLanes,
              committedTransitions,
              includeWorkInProgressEffects
            ));
        includeWorkInProgressEffects &&
          flags & 2048 &&
          commitOffscreenPassiveMountEffects(
            finishedWork.alternate,
            finishedWork
          );
        break;
      case 24:
        recursivelyTraverseReconnectPassiveEffects(
          finishedRoot,
          finishedWork,
          committedLanes,
          committedTransitions,
          includeWorkInProgressEffects
        );
        includeWorkInProgressEffects &&
          flags & 2048 &&
          commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);
        break;
      default:
        recursivelyTraverseReconnectPassiveEffects(
          finishedRoot,
          finishedWork,
          committedLanes,
          committedTransitions,
          includeWorkInProgressEffects
        );
    }
    parentFiber = parentFiber.sibling;
  }
}
function recursivelyTraverseAtomicPassiveEffects(
  finishedRoot$jscomp$0,
  parentFiber
) {
  if (parentFiber.subtreeFlags & 10256)
    for (parentFiber = parentFiber.child; null !== parentFiber; ) {
      var finishedRoot = finishedRoot$jscomp$0,
        finishedWork = parentFiber,
        flags = finishedWork.flags;
      switch (finishedWork.tag) {
        case 22:
          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);
          flags & 2048 &&
            commitOffscreenPassiveMountEffects(
              finishedWork.alternate,
              finishedWork
            );
          break;
        case 24:
          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);
          flags & 2048 &&
            commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);
          break;
        default:
          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);
      }
      parentFiber = parentFiber.sibling;
    }
}
var suspenseyCommitFlag = 8192;
function recursivelyAccumulateSuspenseyCommit(
  parentFiber,
  committedLanes,
  suspendedState
) {
  if (parentFiber.subtreeFlags & suspenseyCommitFlag)
    for (parentFiber = parentFiber.child; null !== parentFiber; )
      accumulateSuspenseyCommitOnFiber(
        parentFiber,
        committedLanes,
        suspendedState
      ),
        (parentFiber = parentFiber.sibling);
}
function accumulateSuspenseyCommitOnFiber(
  fiber,
  committedLanes,
  suspendedState
) {
  switch (fiber.tag) {
    case 26:
      recursivelyAccumulateSuspenseyCommit(
        fiber,
        committedLanes,
        suspendedState
      );
      fiber.flags & suspenseyCommitFlag &&
        null !== fiber.memoizedState &&
        suspendResource(
          suspendedState,
          currentHoistableRoot,
          fiber.memoizedState,
          fiber.memoizedProps
        );
      break;
    case 5:
      recursivelyAccumulateSuspenseyCommit(
        fiber,
        committedLanes,
        suspendedState
      );
      break;
    case 3:
    case 4:
      var previousHoistableRoot = currentHoistableRoot;
      currentHoistableRoot = getHoistableRoot(fiber.stateNode.containerInfo);
      recursivelyAccumulateSuspenseyCommit(
        fiber,
        committedLanes,
        suspendedState
      );
      currentHoistableRoot = previousHoistableRoot;
      break;
    case 22:
      null === fiber.memoizedState &&
        ((previousHoistableRoot = fiber.alternate),
        null !== previousHoistableRoot &&
        null !== previousHoistableRoot.memoizedState
          ? ((previousHoistableRoot = suspenseyCommitFlag),
            (suspenseyCommitFlag = 16777216),
            recursivelyAccumulateSuspenseyCommit(
              fiber,
              committedLanes,
              suspendedState
            ),
            (suspenseyCommitFlag = previousHoistableRoot))
          : recursivelyAccumulateSuspenseyCommit(
              fiber,
              committedLanes,
              suspendedState
            ));
      break;
    default:
      recursivelyAccumulateSuspenseyCommit(
        fiber,
        committedLanes,
        suspendedState
      );
  }
}
function detachAlternateSiblings(parentFiber) {
  var previousFiber = parentFiber.alternate;
  if (
    null !== previousFiber &&
    ((parentFiber = previousFiber.child), null !== parentFiber)
  ) {
    previousFiber.child = null;
    do
      (previousFiber = parentFiber.sibling),
        (parentFiber.sibling = null),
        (parentFiber = previousFiber);
    while (null !== parentFiber);
  }
}
function recursivelyTraversePassiveUnmountEffects(parentFiber) {
  var deletions = parentFiber.deletions;
  if (0 !== (parentFiber.flags & 16)) {
    if (null !== deletions)
      for (var i = 0; i < deletions.length; i++) {
        var childToDelete = deletions[i];
        nextEffect = childToDelete;
        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(
          childToDelete,
          parentFiber
        );
      }
    detachAlternateSiblings(parentFiber);
  }
  if (parentFiber.subtreeFlags & 10256)
    for (parentFiber = parentFiber.child; null !== parentFiber; )
      commitPassiveUnmountOnFiber(parentFiber),
        (parentFiber = parentFiber.sibling);
}
function commitPassiveUnmountOnFiber(finishedWork) {
  switch (finishedWork.tag) {
    case 0:
    case 11:
    case 15:
      recursivelyTraversePassiveUnmountEffects(finishedWork);
      finishedWork.flags & 2048 &&
        commitHookEffectListUnmount(9, finishedWork, finishedWork.return);
      break;
    case 3:
      recursivelyTraversePassiveUnmountEffects(finishedWork);
      break;
    case 12:
      recursivelyTraversePassiveUnmountEffects(finishedWork);
      break;
    case 22:
      var instance = finishedWork.stateNode;
      null !== finishedWork.memoizedState &&
      instance._visibility & 2 &&
      (null === finishedWork.return || 13 !== finishedWork.return.tag)
        ? ((instance._visibility &= -3),
          recursivelyTraverseDisconnectPassiveEffects(finishedWork))
        : recursivelyTraversePassiveUnmountEffects(finishedWork);
      break;
    default:
      recursivelyTraversePassiveUnmountEffects(finishedWork);
  }
}
function recursivelyTraverseDisconnectPassiveEffects(parentFiber) {
  var deletions = parentFiber.deletions;
  if (0 !== (parentFiber.flags & 16)) {
    if (null !== deletions)
      for (var i = 0; i < deletions.length; i++) {
        var childToDelete = deletions[i];
        nextEffect = childToDelete;
        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(
          childToDelete,
          parentFiber
        );
      }
    detachAlternateSiblings(parentFiber);
  }
  for (parentFiber = parentFiber.child; null !== parentFiber; ) {
    deletions = parentFiber;
    switch (deletions.tag) {
      case 0:
      case 11:
      case 15:
        commitHookEffectListUnmount(8, deletions, deletions.return);
        recursivelyTraverseDisconnectPassiveEffects(deletions);
        break;
      case 22:
        i = deletions.stateNode;
        i._visibility & 2 &&
          ((i._visibility &= -3),
          recursivelyTraverseDisconnectPassiveEffects(deletions));
        break;
      default:
        recursivelyTraverseDisconnectPassiveEffects(deletions);
    }
    parentFiber = parentFiber.sibling;
  }
}
function commitPassiveUnmountEffectsInsideOfDeletedTree_begin(
  deletedSubtreeRoot,
  nearestMountedAncestor
) {
  for (; null !== nextEffect; ) {
    var fiber = nextEffect;
    switch (fiber.tag) {
      case 0:
      case 11:
      case 15:
        commitHookEffectListUnmount(8, fiber, nearestMountedAncestor);
        break;
      case 23:
      case 22:
        if (
          null !== fiber.memoizedState &&
          null !== fiber.memoizedState.cachePool
        ) {
          var cache = fiber.memoizedState.cachePool.pool;
          null != cache && cache.refCount++;
        }
        break;
      case 24:
        releaseCache(fiber.memoizedState.cache);
    }
    cache = fiber.child;
    if (null !== cache) (cache.return = fiber), (nextEffect = cache);
    else
      a: for (fiber = deletedSubtreeRoot; null !== nextEffect; ) {
        cache = nextEffect;
        var sibling = cache.sibling,
          returnFiber = cache.return;
        detachFiberAfterEffects(cache);
        if (cache === fiber) {
          nextEffect = null;
          break a;
        }
        if (null !== sibling) {
          sibling.return = returnFiber;
          nextEffect = sibling;
          break a;
        }
        nextEffect = returnFiber;
      }
  }
}
var DefaultAsyncDispatcher = {
    getCacheForType: function (resourceType) {
      var cache = readContext(CacheContext),
        cacheForType = cache.data.get(resourceType);
      void 0 === cacheForType &&
        ((cacheForType = resourceType()),
        cache.data.set(resourceType, cacheForType));
      return cacheForType;
    },
    cacheSignal: function () {
      return readContext(CacheContext).controller.signal;
    }
  },
  PossiblyWeakMap = "function" === typeof WeakMap ? WeakMap : Map,
  executionContext = 0,
  workInProgressRoot = null,
  workInProgress = null,
  workInProgressRootRenderLanes = 0,
  workInProgressSuspendedReason = 0,
  workInProgressThrownValue = null,
  workInProgressRootDidSkipSuspendedSiblings = !1,
  workInProgressRootIsPrerendering = !1,
  workInProgressRootDidAttachPingListener = !1,
  entangledRenderLanes = 0,
  workInProgressRootExitStatus = 0,
  workInProgressRootSkippedLanes = 0,
  workInProgressRootInterleavedUpdatedLanes = 0,
  workInProgressRootPingedLanes = 0,
  workInProgressDeferredLane = 0,
  workInProgressSuspendedRetryLanes = 0,
  workInProgressRootConcurrentErrors = null,
  workInProgressRootRecoverableErrors = null,
  workInProgressRootDidIncludeRecursiveRenderUpdate = !1,
  globalMostRecentFallbackTime = 0,
  globalMostRecentTransitionTime = 0,
  workInProgressRootRenderTargetTime = Infinity,
  workInProgressTransitions = null,
  legacyErrorBoundariesThatAlreadyFailed = null,
  pendingEffectsStatus = 0,
  pendingEffectsRoot = null,
  pendingFinishedWork = null,
  pendingEffectsLanes = 0,
  pendingEffectsRemainingLanes = 0,
  pendingPassiveTransitions = null,
  pendingRecoverableErrors = null,
  nestedUpdateCount = 0,
  rootWithNestedUpdates = null;
function requestUpdateLane() {
  return 0 !== (executionContext & 2) && 0 !== workInProgressRootRenderLanes
    ? workInProgressRootRenderLanes & -workInProgressRootRenderLanes
    : null !== ReactSharedInternals.T
      ? requestTransitionLane()
      : resolveUpdatePriority();
}
function requestDeferredLane() {
  if (0 === workInProgressDeferredLane)
    if (0 === (workInProgressRootRenderLanes & 536870912) || isHydrating) {
      var lane = nextTransitionDeferredLane;
      nextTransitionDeferredLane <<= 1;
      0 === (nextTransitionDeferredLane & 3932160) &&
        (nextTransitionDeferredLane = 262144);
      workInProgressDeferredLane = lane;
    } else workInProgressDeferredLane = 536870912;
  lane = suspenseHandlerStackCursor.current;
  null !== lane && (lane.flags |= 32);
  return workInProgressDeferredLane;
}
function scheduleUpdateOnFiber(root, fiber, lane) {
  if (
    (root === workInProgressRoot &&
      (2 === workInProgressSuspendedReason ||
        9 === workInProgressSuspendedReason)) ||
    null !== root.cancelPendingCommit
  )
    prepareFreshStack(root, 0),
      markRootSuspended(
        root,
        workInProgressRootRenderLanes,
        workInProgressDeferredLane,
        !1
      );
  markRootUpdated$1(root, lane);
  if (0 === (executionContext & 2) || root !== workInProgressRoot)
    root === workInProgressRoot &&
      (0 === (executionContext & 2) &&
        (workInProgressRootInterleavedUpdatedLanes |= lane),
      4 === workInProgressRootExitStatus &&
        markRootSuspended(
          root,
          workInProgressRootRenderLanes,
          workInProgressDeferredLane,
          !1
        )),
      ensureRootIsScheduled(root);
}
function performWorkOnRoot(root$jscomp$0, lanes, forceSync) {
  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));
  var shouldTimeSlice =
      (!forceSync &&
        0 === (lanes & 127) &&
        0 === (lanes & root$jscomp$0.expiredLanes)) ||
      checkIfRootIsPrerendering(root$jscomp$0, lanes),
    exitStatus = shouldTimeSlice
      ? renderRootConcurrent(root$jscomp$0, lanes)
      : renderRootSync(root$jscomp$0, lanes, !0),
    renderWasConcurrent = shouldTimeSlice;
  do {
    if (0 === exitStatus) {
      workInProgressRootIsPrerendering &&
        !shouldTimeSlice &&
        markRootSuspended(root$jscomp$0, lanes, 0, !1);
      break;
    } else {
      forceSync = root$jscomp$0.current.alternate;
      if (
        renderWasConcurrent &&
        !isRenderConsistentWithExternalStores(forceSync)
      ) {
        exitStatus = renderRootSync(root$jscomp$0, lanes, !1);
        renderWasConcurrent = !1;
        continue;
      }
      if (2 === exitStatus) {
        renderWasConcurrent = lanes;
        if (root$jscomp$0.errorRecoveryDisabledLanes & renderWasConcurrent)
          var JSCompiler_inline_result = 0;
        else
          (JSCompiler_inline_result = root$jscomp$0.pendingLanes & -536870913),
            (JSCompiler_inline_result =
              0 !== JSCompiler_inline_result
                ? JSCompiler_inline_result
                : JSCompiler_inline_result & 536870912
                  ? 536870912
                  : 0);
        if (0 !== JSCompiler_inline_result) {
          lanes = JSCompiler_inline_result;
          a: {
            var root = root$jscomp$0;
            exitStatus = workInProgressRootConcurrentErrors;
            var wasRootDehydrated = root.current.memoizedState.isDehydrated;
            wasRootDehydrated &&
              (prepareFreshStack(root, JSCompiler_inline_result).flags |= 256);
            JSCompiler_inline_result = renderRootSync(
              root,
              JSCompiler_inline_result,
              !1
            );
            if (2 !== JSCompiler_inline_result) {
              if (
                workInProgressRootDidAttachPingListener &&
                !wasRootDehydrated
              ) {
                root.errorRecoveryDisabledLanes |= renderWasConcurrent;
                workInProgressRootInterleavedUpdatedLanes |=
                  renderWasConcurrent;
                exitStatus = 4;
                break a;
              }
              renderWasConcurrent = workInProgressRootRecoverableErrors;
              workInProgressRootRecoverableErrors = exitStatus;
              null !== renderWasConcurrent &&
                (null === workInProgressRootRecoverableErrors
                  ? (workInProgressRootRecoverableErrors = renderWasConcurrent)
                  : workInProgressRootRecoverableErrors.push.apply(
                      workInProgressRootRecoverableErrors,
                      renderWasConcurrent
                    ));
            }
            exitStatus = JSCompiler_inline_result;
          }
          renderWasConcurrent = !1;
          if (2 !== exitStatus) continue;
        }
      }
      if (1 === exitStatus) {
        prepareFreshStack(root$jscomp$0, 0);
        markRootSuspended(root$jscomp$0, lanes, 0, !0);
        break;
      }
      a: {
        shouldTimeSlice = root$jscomp$0;
        renderWasConcurrent = exitStatus;
        switch (renderWasConcurrent) {
          case 0:
          case 1:
            throw Error(formatProdErrorMessage(345));
          case 4:
            if ((lanes & 4194048) !== lanes) break;
          case 6:
            markRootSuspended(
              shouldTimeSlice,
              lanes,
              workInProgressDeferredLane,
              !workInProgressRootDidSkipSuspendedSiblings
            );
            break a;
          case 2:
            workInProgressRootRecoverableErrors = null;
            break;
          case 3:
          case 5:
            break;
          default:
            throw Error(formatProdErrorMessage(329));
        }
        if (
          (lanes & 62914560) === lanes &&
          ((exitStatus = globalMostRecentFallbackTime + 300 - now()),
          10 < exitStatus)
        ) {
          markRootSuspended(
            shouldTimeSlice,
            lanes,
            workInProgressDeferredLane,
            !workInProgressRootDidSkipSuspendedSiblings
          );
          if (0 !== getNextLanes(shouldTimeSlice, 0, !0)) break a;
          pendingEffectsLanes = lanes;
          shouldTimeSlice.timeoutHandle = scheduleTimeout(
            commitRootWhenReady.bind(
              null,
              shouldTimeSlice,
              forceSync,
              workInProgressRootRecoverableErrors,
              workInProgressTransitions,
              workInProgressRootDidIncludeRecursiveRenderUpdate,
              lanes,
              workInProgressDeferredLane,
              workInProgressRootInterleavedUpdatedLanes,
              workInProgressSuspendedRetryLanes,
              workInProgressRootDidSkipSuspendedSiblings,
              renderWasConcurrent,
              "Throttled",
              -0,
              0
            ),
            exitStatus
          );
          break a;
        }
        commitRootWhenReady(
          shouldTimeSlice,
          forceSync,
          workInProgressRootRecoverableErrors,
          workInProgressTransitions,
          workInProgressRootDidIncludeRecursiveRenderUpdate,
          lanes,
          workInProgressDeferredLane,
          workInProgressRootInterleavedUpdatedLanes,
          workInProgressSuspendedRetryLanes,
          workInProgressRootDidSkipSuspendedSiblings,
          renderWasConcurrent,
          null,
          -0,
          0
        );
      }
    }
    break;
  } while (1);
  ensureRootIsScheduled(root$jscomp$0);
}
function commitRootWhenReady(
  root,
  finishedWork,
  recoverableErrors,
  transitions,
  didIncludeRenderPhaseUpdate,
  lanes,
  spawnedLane,
  updatedLanes,
  suspendedRetryLanes,
  didSkipSuspendedSiblings,
  exitStatus,
  suspendedCommitReason,
  completedRenderStartTime,
  completedRenderEndTime
) {
  root.timeoutHandle = -1;
  suspendedCommitReason = finishedWork.subtreeFlags;
  if (
    suspendedCommitReason & 8192 ||
    16785408 === (suspendedCommitReason & 16785408)
  ) {
    suspendedCommitReason = {
      stylesheets: null,
      count: 0,
      imgCount: 0,
      imgBytes: 0,
      suspenseyImages: [],
      waitingForImages: !0,
      waitingForViewTransition: !1,
      unsuspend: noop$1
    };
    accumulateSuspenseyCommitOnFiber(
      finishedWork,
      lanes,
      suspendedCommitReason
    );
    var timeoutOffset =
      (lanes & 62914560) === lanes
        ? globalMostRecentFallbackTime - now()
        : (lanes & 4194048) === lanes
          ? globalMostRecentTransitionTime - now()
          : 0;
    timeoutOffset = waitForCommitToBeReady(
      suspendedCommitReason,
      timeoutOffset
    );
    if (null !== timeoutOffset) {
      pendingEffectsLanes = lanes;
      root.cancelPendingCommit = timeoutOffset(
        commitRoot.bind(
          null,
          root,
          finishedWork,
          lanes,
          recoverableErrors,
          transitions,
          didIncludeRenderPhaseUpdate,
          spawnedLane,
          updatedLanes,
          suspendedRetryLanes,
          exitStatus,
          suspendedCommitReason,
          null,
          completedRenderStartTime,
          completedRenderEndTime
        )
      );
      markRootSuspended(root, lanes, spawnedLane, !didSkipSuspendedSiblings);
      return;
    }
  }
  commitRoot(
    root,
    finishedWork,
    lanes,
    recoverableErrors,
    transitions,
    didIncludeRenderPhaseUpdate,
    spawnedLane,
    updatedLanes,
    suspendedRetryLanes
  );
}
function isRenderConsistentWithExternalStores(finishedWork) {
  for (var node = finishedWork; ; ) {
    var tag = node.tag;
    if (
      (0 === tag || 11 === tag || 15 === tag) &&
      node.flags & 16384 &&
      ((tag = node.updateQueue),
      null !== tag && ((tag = tag.stores), null !== tag))
    )
      for (var i = 0; i < tag.length; i++) {
        var check = tag[i],
          getSnapshot = check.getSnapshot;
        check = check.value;
        try {
          if (!objectIs(getSnapshot(), check)) return !1;
        } catch (error) {
          return !1;
        }
      }
    tag = node.child;
    if (node.subtreeFlags & 16384 && null !== tag)
      (tag.return = node), (node = tag);
    else {
      if (node === finishedWork) break;
      for (; null === node.sibling; ) {
        if (null === node.return || node.return === finishedWork) return !0;
        node = node.return;
      }
      node.sibling.return = node.return;
      node = node.sibling;
    }
  }
  return !0;
}
function markRootSuspended(
  root,
  suspendedLanes,
  spawnedLane,
  didAttemptEntireTree
) {
  suspendedLanes &= ~workInProgressRootPingedLanes;
  suspendedLanes &= ~workInProgressRootInterleavedUpdatedLanes;
  root.suspendedLanes |= suspendedLanes;
  root.pingedLanes &= ~suspendedLanes;
  didAttemptEntireTree && (root.warmLanes |= suspendedLanes);
  didAttemptEntireTree = root.expirationTimes;
  for (var lanes = suspendedLanes; 0 < lanes; ) {
    var index$6 = 31 - clz32(lanes),
      lane = 1 << index$6;
    didAttemptEntireTree[index$6] = -1;
    lanes &= ~lane;
  }
  0 !== spawnedLane &&
    markSpawnedDeferredLane(root, spawnedLane, suspendedLanes);
}
function flushSyncWork$1() {
  return 0 === (executionContext & 6)
    ? (flushSyncWorkAcrossRoots_impl(0, !1), !1)
    : !0;
}
function resetWorkInProgressStack() {
  if (null !== workInProgress) {
    if (0 === workInProgressSuspendedReason)
      var interruptedWork = workInProgress.return;
    else
      (interruptedWork = workInProgress),
        (lastContextDependency = currentlyRenderingFiber$1 = null),
        resetHooksOnUnwind(interruptedWork),
        (thenableState$1 = null),
        (thenableIndexCounter$1 = 0),
        (interruptedWork = workInProgress);
    for (; null !== interruptedWork; )
      unwindInterruptedWork(interruptedWork.alternate, interruptedWork),
        (interruptedWork = interruptedWork.return);
    workInProgress = null;
  }
}
function prepareFreshStack(root, lanes) {
  var timeoutHandle = root.timeoutHandle;
  -1 !== timeoutHandle &&
    ((root.timeoutHandle = -1), cancelTimeout(timeoutHandle));
  timeoutHandle = root.cancelPendingCommit;
  null !== timeoutHandle &&
    ((root.cancelPendingCommit = null), timeoutHandle());
  pendingEffectsLanes = 0;
  resetWorkInProgressStack();
  workInProgressRoot = root;
  workInProgress = timeoutHandle = createWorkInProgress(root.current, null);
  workInProgressRootRenderLanes = lanes;
  workInProgressSuspendedReason = 0;
  workInProgressThrownValue = null;
  workInProgressRootDidSkipSuspendedSiblings = !1;
  workInProgressRootIsPrerendering = checkIfRootIsPrerendering(root, lanes);
  workInProgressRootDidAttachPingListener = !1;
  workInProgressSuspendedRetryLanes =
    workInProgressDeferredLane =
    workInProgressRootPingedLanes =
    workInProgressRootInterleavedUpdatedLanes =
    workInProgressRootSkippedLanes =
    workInProgressRootExitStatus =
      0;
  workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =
    null;
  workInProgressRootDidIncludeRecursiveRenderUpdate = !1;
  0 !== (lanes & 8) && (lanes |= lanes & 32);
  var allEntangledLanes = root.entangledLanes;
  if (0 !== allEntangledLanes)
    for (
      root = root.entanglements, allEntangledLanes &= lanes;
      0 < allEntangledLanes;

    ) {
      var index$4 = 31 - clz32(allEntangledLanes),
        lane = 1 << index$4;
      lanes |= root[index$4];
      allEntangledLanes &= ~lane;
    }
  entangledRenderLanes = lanes;
  finishQueueingConcurrentUpdates();
  return timeoutHandle;
}
function handleThrow(root, thrownValue) {
  currentlyRenderingFiber = null;
  ReactSharedInternals.H = ContextOnlyDispatcher;
  thrownValue === SuspenseException || thrownValue === SuspenseActionException
    ? ((thrownValue = getSuspendedThenable()),
      (workInProgressSuspendedReason = 3))
    : thrownValue === SuspenseyCommitException
      ? ((thrownValue = getSuspendedThenable()),
        (workInProgressSuspendedReason = 4))
      : (workInProgressSuspendedReason =
          thrownValue === SelectiveHydrationException
            ? 8
            : null !== thrownValue &&
                "object" === typeof thrownValue &&
                "function" === typeof thrownValue.then
              ? 6
              : 1);
  workInProgressThrownValue = thrownValue;
  null === workInProgress &&
    ((workInProgressRootExitStatus = 1),
    logUncaughtError(
      root,
      createCapturedValueAtFiber(thrownValue, root.current)
    ));
}
function shouldRemainOnPreviousScreen() {
  var handler = suspenseHandlerStackCursor.current;
  return null === handler
    ? !0
    : (workInProgressRootRenderLanes & 4194048) ===
        workInProgressRootRenderLanes
      ? null === shellBoundary
        ? !0
        : !1
      : (workInProgressRootRenderLanes & 62914560) ===
            workInProgressRootRenderLanes ||
          0 !== (workInProgressRootRenderLanes & 536870912)
        ? handler === shellBoundary
        : !1;
}
function pushDispatcher() {
  var prevDispatcher = ReactSharedInternals.H;
  ReactSharedInternals.H = ContextOnlyDispatcher;
  return null === prevDispatcher ? ContextOnlyDispatcher : prevDispatcher;
}
function pushAsyncDispatcher() {
  var prevAsyncDispatcher = ReactSharedInternals.A;
  ReactSharedInternals.A = DefaultAsyncDispatcher;
  return prevAsyncDispatcher;
}
function renderDidSuspendDelayIfPossible() {
  workInProgressRootExitStatus = 4;
  workInProgressRootDidSkipSuspendedSiblings ||
    ((workInProgressRootRenderLanes & 4194048) !==
      workInProgressRootRenderLanes &&
      null !== suspenseHandlerStackCursor.current) ||
    (workInProgressRootIsPrerendering = !0);
  (0 === (workInProgressRootSkippedLanes & 134217727) &&
    0 === (workInProgressRootInterleavedUpdatedLanes & 134217727)) ||
    null === workInProgressRoot ||
    markRootSuspended(
      workInProgressRoot,
      workInProgressRootRenderLanes,
      workInProgressDeferredLane,
      !1
    );
}
function renderRootSync(root, lanes, shouldYieldForPrerendering) {
  var prevExecutionContext = executionContext;
  executionContext |= 2;
  var prevDispatcher = pushDispatcher(),
    prevAsyncDispatcher = pushAsyncDispatcher();
  if (workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes)
    (workInProgressTransitions = null), prepareFreshStack(root, lanes);
  lanes = !1;
  var exitStatus = workInProgressRootExitStatus;
  a: do
    try {
      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {
        var unitOfWork = workInProgress,
          thrownValue = workInProgressThrownValue;
        switch (workInProgressSuspendedReason) {
          case 8:
            resetWorkInProgressStack();
            exitStatus = 6;
            break a;
          case 3:
          case 2:
          case 9:
          case 6:
            null === suspenseHandlerStackCursor.current && (lanes = !0);
            var reason = workInProgressSuspendedReason;
            workInProgressSuspendedReason = 0;
            workInProgressThrownValue = null;
            throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);
            if (
              shouldYieldForPrerendering &&
              workInProgressRootIsPrerendering
            ) {
              exitStatus = 0;
              break a;
            }
            break;
          default:
            (reason = workInProgressSuspendedReason),
              (workInProgressSuspendedReason = 0),
              (workInProgressThrownValue = null),
              throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);
        }
      }
      workLoopSync();
      exitStatus = workInProgressRootExitStatus;
      break;
    } catch (thrownValue$165) {
      handleThrow(root, thrownValue$165);
    }
  while (1);
  lanes && root.shellSuspendCounter++;
  lastContextDependency = currentlyRenderingFiber$1 = null;
  executionContext = prevExecutionContext;
  ReactSharedInternals.H = prevDispatcher;
  ReactSharedInternals.A = prevAsyncDispatcher;
  null === workInProgress &&
    ((workInProgressRoot = null),
    (workInProgressRootRenderLanes = 0),
    finishQueueingConcurrentUpdates());
  return exitStatus;
}
function workLoopSync() {
  for (; null !== workInProgress; ) performUnitOfWork(workInProgress);
}
function renderRootConcurrent(root, lanes) {
  var prevExecutionContext = executionContext;
  executionContext |= 2;
  var prevDispatcher = pushDispatcher(),
    prevAsyncDispatcher = pushAsyncDispatcher();
  workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes
    ? ((workInProgressTransitions = null),
      (workInProgressRootRenderTargetTime = now() + 500),
      prepareFreshStack(root, lanes))
    : (workInProgressRootIsPrerendering = checkIfRootIsPrerendering(
        root,
        lanes
      ));
  a: do
    try {
      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {
        lanes = workInProgress;
        var thrownValue = workInProgressThrownValue;
        b: switch (workInProgressSuspendedReason) {
          case 1:
            workInProgressSuspendedReason = 0;
            workInProgressThrownValue = null;
            throwAndUnwindWorkLoop(root, lanes, thrownValue, 1);
            break;
          case 2:
          case 9:
            if (isThenableResolved(thrownValue)) {
              workInProgressSuspendedReason = 0;
              workInProgressThrownValue = null;
              replaySuspendedUnitOfWork(lanes);
              break;
            }
            lanes = function () {
              (2 !== workInProgressSuspendedReason &&
                9 !== workInProgressSuspendedReason) ||
                workInProgressRoot !== root ||
                (workInProgressSuspendedReason = 7);
              ensureRootIsScheduled(root);
            };
            thrownValue.then(lanes, lanes);
            break a;
          case 3:
            workInProgressSuspendedReason = 7;
            break a;
          case 4:
            workInProgressSuspendedReason = 5;
            break a;
          case 7:
            isThenableResolved(thrownValue)
              ? ((workInProgressSuspendedReason = 0),
                (workInProgressThrownValue = null),
                replaySuspendedUnitOfWork(lanes))
              : ((workInProgressSuspendedReason = 0),
                (workInProgressThrownValue = null),
                throwAndUnwindWorkLoop(root, lanes, thrownValue, 7));
            break;
          case 5:
            var resource = null;
            switch (workInProgress.tag) {
              case 26:
                resource = workInProgress.memoizedState;
              case 5:
              case 27:
                var hostFiber = workInProgress;
                if (
                  resource
                    ? preloadResource(resource)
                    : hostFiber.stateNode.complete
                ) {
                  workInProgressSuspendedReason = 0;
                  workInProgressThrownValue = null;
                  var sibling = hostFiber.sibling;
                  if (null !== sibling) workInProgress = sibling;
                  else {
                    var returnFiber = hostFiber.return;
                    null !== returnFiber
                      ? ((workInProgress = returnFiber),
                        completeUnitOfWork(returnFiber))
                      : (workInProgress = null);
                  }
                  break b;
                }
            }
            workInProgressSuspendedReason = 0;
            workInProgressThrownValue = null;
            throwAndUnwindWorkLoop(root, lanes, thrownValue, 5);
            break;
          case 6:
            workInProgressSuspendedReason = 0;
            workInProgressThrownValue = null;
            throwAndUnwindWorkLoop(root, lanes, thrownValue, 6);
            break;
          case 8:
            resetWorkInProgressStack();
            workInProgressRootExitStatus = 6;
            break a;
          default:
            throw Error(formatProdErrorMessage(462));
        }
      }
      workLoopConcurrentByScheduler();
      break;
    } catch (thrownValue$167) {
      handleThrow(root, thrownValue$167);
    }
  while (1);
  lastContextDependency = currentlyRenderingFiber$1 = null;
  ReactSharedInternals.H = prevDispatcher;
  ReactSharedInternals.A = prevAsyncDispatcher;
  executionContext = prevExecutionContext;
  if (null !== workInProgress) return 0;
  workInProgressRoot = null;
  workInProgressRootRenderLanes = 0;
  finishQueueingConcurrentUpdates();
  return workInProgressRootExitStatus;
}
function workLoopConcurrentByScheduler() {
  for (; null !== workInProgress && !shouldYield(); )
    performUnitOfWork(workInProgress);
}
function performUnitOfWork(unitOfWork) {
  var next = beginWork(unitOfWork.alternate, unitOfWork, entangledRenderLanes);
  unitOfWork.memoizedProps = unitOfWork.pendingProps;
  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);
}
function replaySuspendedUnitOfWork(unitOfWork) {
  var next = unitOfWork;
  var current = next.alternate;
  switch (next.tag) {
    case 15:
    case 0:
      next = replayFunctionComponent(
        current,
        next,
        next.pendingProps,
        next.type,
        void 0,
        workInProgressRootRenderLanes
      );
      break;
    case 11:
      next = replayFunctionComponent(
        current,
        next,
        next.pendingProps,
        next.type.render,
        next.ref,
        workInProgressRootRenderLanes
      );
      break;
    case 5:
      resetHooksOnUnwind(next);
    default:
      unwindInterruptedWork(current, next),
        (next = workInProgress =
          resetWorkInProgress(next, entangledRenderLanes)),
        (next = beginWork(current, next, entangledRenderLanes));
  }
  unitOfWork.memoizedProps = unitOfWork.pendingProps;
  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);
}
function throwAndUnwindWorkLoop(
  root,
  unitOfWork,
  thrownValue,
  suspendedReason
) {
  lastContextDependency = currentlyRenderingFiber$1 = null;
  resetHooksOnUnwind(unitOfWork);
  thenableState$1 = null;
  thenableIndexCounter$1 = 0;
  var returnFiber = unitOfWork.return;
  try {
    if (
      throwException(
        root,
        returnFiber,
        unitOfWork,
        thrownValue,
        workInProgressRootRenderLanes
      )
    ) {
      workInProgressRootExitStatus = 1;
      logUncaughtError(
        root,
        createCapturedValueAtFiber(thrownValue, root.current)
      );
      workInProgress = null;
      return;
    }
  } catch (error) {
    if (null !== returnFiber) throw ((workInProgress = returnFiber), error);
    workInProgressRootExitStatus = 1;
    logUncaughtError(
      root,
      createCapturedValueAtFiber(thrownValue, root.current)
    );
    workInProgress = null;
    return;
  }
  if (unitOfWork.flags & 32768) {
    if (isHydrating || 1 === suspendedReason) root = !0;
    else if (
      workInProgressRootIsPrerendering ||
      0 !== (workInProgressRootRenderLanes & 536870912)
    )
      root = !1;
    else if (
      ((workInProgressRootDidSkipSuspendedSiblings = root = !0),
      2 === suspendedReason ||
        9 === suspendedReason ||
        3 === suspendedReason ||
        6 === suspendedReason)
    )
      (suspendedReason = suspenseHandlerStackCursor.current),
        null !== suspendedReason &&
          13 === suspendedReason.tag &&
          (suspendedReason.flags |= 16384);
    unwindUnitOfWork(unitOfWork, root);
  } else completeUnitOfWork(unitOfWork);
}
function completeUnitOfWork(unitOfWork) {
  var completedWork = unitOfWork;
  do {
    if (0 !== (completedWork.flags & 32768)) {
      unwindUnitOfWork(
        completedWork,
        workInProgressRootDidSkipSuspendedSiblings
      );
      return;
    }
    unitOfWork = completedWork.return;
    var next = completeWork(
      completedWork.alternate,
      completedWork,
      entangledRenderLanes
    );
    if (null !== next) {
      workInProgress = next;
      return;
    }
    completedWork = completedWork.sibling;
    if (null !== completedWork) {
      workInProgress = completedWork;
      return;
    }
    workInProgress = completedWork = unitOfWork;
  } while (null !== completedWork);
  0 === workInProgressRootExitStatus && (workInProgressRootExitStatus = 5);
}
function unwindUnitOfWork(unitOfWork, skipSiblings) {
  do {
    var next = unwindWork(unitOfWork.alternate, unitOfWork);
    if (null !== next) {
      next.flags &= 32767;
      workInProgress = next;
      return;
    }
    next = unitOfWork.return;
    null !== next &&
      ((next.flags |= 32768), (next.subtreeFlags = 0), (next.deletions = null));
    if (
      !skipSiblings &&
      ((unitOfWork = unitOfWork.sibling), null !== unitOfWork)
    ) {
      workInProgress = unitOfWork;
      return;
    }
    workInProgress = unitOfWork = next;
  } while (null !== unitOfWork);
  workInProgressRootExitStatus = 6;
  workInProgress = null;
}
function commitRoot(
  root,
  finishedWork,
  lanes,
  recoverableErrors,
  transitions,
  didIncludeRenderPhaseUpdate,
  spawnedLane,
  updatedLanes,
  suspendedRetryLanes
) {
  root.cancelPendingCommit = null;
  do flushPendingEffects();
  while (0 !== pendingEffectsStatus);
  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));
  if (null !== finishedWork) {
    if (finishedWork === root.current) throw Error(formatProdErrorMessage(177));
    didIncludeRenderPhaseUpdate = finishedWork.lanes | finishedWork.childLanes;
    didIncludeRenderPhaseUpdate |= concurrentlyUpdatedLanes;
    markRootFinished(
      root,
      lanes,
      didIncludeRenderPhaseUpdate,
      spawnedLane,
      updatedLanes,
      suspendedRetryLanes
    );
    root === workInProgressRoot &&
      ((workInProgress = workInProgressRoot = null),
      (workInProgressRootRenderLanes = 0));
    pendingFinishedWork = finishedWork;
    pendingEffectsRoot = root;
    pendingEffectsLanes = lanes;
    pendingEffectsRemainingLanes = didIncludeRenderPhaseUpdate;
    pendingPassiveTransitions = transitions;
    pendingRecoverableErrors = recoverableErrors;
    0 !== (finishedWork.subtreeFlags & 10256) ||
    0 !== (finishedWork.flags & 10256)
      ? ((root.callbackNode = null),
        (root.callbackPriority = 0),
        scheduleCallback$1(NormalPriority$1, function () {
          flushPassiveEffects();
          return null;
        }))
      : ((root.callbackNode = null), (root.callbackPriority = 0));
    recoverableErrors = 0 !== (finishedWork.flags & 13878);
    if (0 !== (finishedWork.subtreeFlags & 13878) || recoverableErrors) {
      recoverableErrors = ReactSharedInternals.T;
      ReactSharedInternals.T = null;
      transitions = ReactDOMSharedInternals.p;
      ReactDOMSharedInternals.p = 2;
      spawnedLane = executionContext;
      executionContext |= 4;
      try {
        commitBeforeMutationEffects(root, finishedWork, lanes);
      } finally {
        (executionContext = spawnedLane),
          (ReactDOMSharedInternals.p = transitions),
          (ReactSharedInternals.T = recoverableErrors);
      }
    }
    pendingEffectsStatus = 1;
    flushMutationEffects();
    flushLayoutEffects();
    flushSpawnedWork();
  }
}
function flushMutationEffects() {
  if (1 === pendingEffectsStatus) {
    pendingEffectsStatus = 0;
    var root = pendingEffectsRoot,
      finishedWork = pendingFinishedWork,
      rootMutationHasEffect = 0 !== (finishedWork.flags & 13878);
    if (0 !== (finishedWork.subtreeFlags & 13878) || rootMutationHasEffect) {
      rootMutationHasEffect = ReactSharedInternals.T;
      ReactSharedInternals.T = null;
      var previousPriority = ReactDOMSharedInternals.p;
      ReactDOMSharedInternals.p = 2;
      var prevExecutionContext = executionContext;
      executionContext |= 4;
      try {
        commitMutationEffectsOnFiber(finishedWork, root);
        var priorSelectionInformation = selectionInformation,
          curFocusedElem = getActiveElementDeep(root.containerInfo),
          priorFocusedElem = priorSelectionInformation.focusedElem,
          priorSelectionRange = priorSelectionInformation.selectionRange;
        if (
          curFocusedElem !== priorFocusedElem &&
          priorFocusedElem &&
          priorFocusedElem.ownerDocument &&
          containsNode(
            priorFocusedElem.ownerDocument.documentElement,
            priorFocusedElem
          )
        ) {
          if (
            null !== priorSelectionRange &&
            hasSelectionCapabilities(priorFocusedElem)
          ) {
            var start = priorSelectionRange.start,
              end = priorSelectionRange.end;
            void 0 === end && (end = start);
            if ("selectionStart" in priorFocusedElem)
              (priorFocusedElem.selectionStart = start),
                (priorFocusedElem.selectionEnd = Math.min(
                  end,
                  priorFocusedElem.value.length
                ));
            else {
              var doc = priorFocusedElem.ownerDocument || document,
                win = (doc && doc.defaultView) || window;
              if (win.getSelection) {
                var selection = win.getSelection(),
                  length = priorFocusedElem.textContent.length,
                  start$jscomp$0 = Math.min(priorSelectionRange.start, length),
                  end$jscomp$0 =
                    void 0 === priorSelectionRange.end
                      ? start$jscomp$0
                      : Math.min(priorSelectionRange.end, length);
                !selection.extend &&
                  start$jscomp$0 > end$jscomp$0 &&
                  ((curFocusedElem = end$jscomp$0),
                  (end$jscomp$0 = start$jscomp$0),
                  (start$jscomp$0 = curFocusedElem));
                var startMarker = getNodeForCharacterOffset(
                    priorFocusedElem,
                    start$jscomp$0
                  ),
                  endMarker = getNodeForCharacterOffset(
                    priorFocusedElem,
                    end$jscomp$0
                  );
                if (
                  startMarker &&
                  endMarker &&
                  (1 !== selection.rangeCount ||
                    selection.anchorNode !== startMarker.node ||
                    selection.anchorOffset !== startMarker.offset ||
                    selection.focusNode !== endMarker.node ||
                    selection.focusOffset !== endMarker.offset)
                ) {
                  var range = doc.createRange();
                  range.setStart(startMarker.node, startMarker.offset);
                  selection.removeAllRanges();
                  start$jscomp$0 > end$jscomp$0
                    ? (selection.addRange(range),
                      selection.extend(endMarker.node, endMarker.offset))
                    : (range.setEnd(endMarker.node, endMarker.offset),
                      selection.addRange(range));
                }
              }
            }
          }
          doc = [];
          for (
            selection = priorFocusedElem;
            (selection = selection.parentNode);

          )
            1 === selection.nodeType &&
              doc.push({
                element: selection,
                left: selection.scrollLeft,
                top: selection.scrollTop
              });
          "function" === typeof priorFocusedElem.focus &&
            priorFocusedElem.focus();
          for (
            priorFocusedElem = 0;
            priorFocusedElem < doc.length;
            priorFocusedElem++
          ) {
            var info = doc[priorFocusedElem];
            info.element.scrollLeft = info.left;
            info.element.scrollTop = info.top;
          }
        }
        _enabled = !!eventsEnabled;
        selectionInformation = eventsEnabled = null;
      } finally {
        (executionContext = prevExecutionContext),
          (ReactDOMSharedInternals.p = previousPriority),
          (ReactSharedInternals.T = rootMutationHasEffect);
      }
    }
    root.current = finishedWork;
    pendingEffectsStatus = 2;
  }
}
function flushLayoutEffects() {
  if (2 === pendingEffectsStatus) {
    pendingEffectsStatus = 0;
    var root = pendingEffectsRoot,
      finishedWork = pendingFinishedWork,
      rootHasLayoutEffect = 0 !== (finishedWork.flags & 8772);
    if (0 !== (finishedWork.subtreeFlags & 8772) || rootHasLayoutEffect) {
      rootHasLayoutEffect = ReactSharedInternals.T;
      ReactSharedInternals.T = null;
      var previousPriority = ReactDOMSharedInternals.p;
      ReactDOMSharedInternals.p = 2;
      var prevExecutionContext = executionContext;
      executionContext |= 4;
      try {
        commitLayoutEffectOnFiber(root, finishedWork.alternate, finishedWork);
      } finally {
        (executionContext = prevExecutionContext),
          (ReactDOMSharedInternals.p = previousPriority),
          (ReactSharedInternals.T = rootHasLayoutEffect);
      }
    }
    pendingEffectsStatus = 3;
  }
}
function flushSpawnedWork() {
  if (4 === pendingEffectsStatus || 3 === pendingEffectsStatus) {
    pendingEffectsStatus = 0;
    requestPaint();
    var root = pendingEffectsRoot,
      finishedWork = pendingFinishedWork,
      lanes = pendingEffectsLanes,
      recoverableErrors = pendingRecoverableErrors;
    0 !== (finishedWork.subtreeFlags & 10256) ||
    0 !== (finishedWork.flags & 10256)
      ? (pendingEffectsStatus = 5)
      : ((pendingEffectsStatus = 0),
        (pendingFinishedWork = pendingEffectsRoot = null),
        releaseRootPooledCache(root, root.pendingLanes));
    var remainingLanes = root.pendingLanes;
    0 === remainingLanes && (legacyErrorBoundariesThatAlreadyFailed = null);
    lanesToEventPriority(lanes);
    finishedWork = finishedWork.stateNode;
    if (injectedHook && "function" === typeof injectedHook.onCommitFiberRoot)
      try {
        injectedHook.onCommitFiberRoot(
          rendererID,
          finishedWork,
          void 0,
          128 === (finishedWork.current.flags & 128)
        );
      } catch (err) {}
    if (null !== recoverableErrors) {
      finishedWork = ReactSharedInternals.T;
      remainingLanes = ReactDOMSharedInternals.p;
      ReactDOMSharedInternals.p = 2;
      ReactSharedInternals.T = null;
      try {
        for (
          var onRecoverableError = root.onRecoverableError, i = 0;
          i < recoverableErrors.length;
          i++
        ) {
          var recoverableError = recoverableErrors[i];
          onRecoverableError(recoverableError.value, {
            componentStack: recoverableError.stack
          });
        }
      } finally {
        (ReactSharedInternals.T = finishedWork),
          (ReactDOMSharedInternals.p = remainingLanes);
      }
    }
    0 !== (pendingEffectsLanes & 3) && flushPendingEffects();
    ensureRootIsScheduled(root);
    remainingLanes = root.pendingLanes;
    0 !== (lanes & 261930) && 0 !== (remainingLanes & 42)
      ? root === rootWithNestedUpdates
        ? nestedUpdateCount++
        : ((nestedUpdateCount = 0), (rootWithNestedUpdates = root))
      : (nestedUpdateCount = 0);
    flushSyncWorkAcrossRoots_impl(0, !1);
  }
}
function releaseRootPooledCache(root, remainingLanes) {
  0 === (root.pooledCacheLanes &= remainingLanes) &&
    ((remainingLanes = root.pooledCache),
    null != remainingLanes &&
      ((root.pooledCache = null), releaseCache(remainingLanes)));
}
function flushPendingEffects() {
  flushMutationEffects();
  flushLayoutEffects();
  flushSpawnedWork();
  return flushPassiveEffects();
}
function flushPassiveEffects() {
  if (5 !== pendingEffectsStatus) return !1;
  var root = pendingEffectsRoot,
    remainingLanes = pendingEffectsRemainingLanes;
  pendingEffectsRemainingLanes = 0;
  var renderPriority = lanesToEventPriority(pendingEffectsLanes),
    prevTransition = ReactSharedInternals.T,
    previousPriority = ReactDOMSharedInternals.p;
  try {
    ReactDOMSharedInternals.p = 32 > renderPriority ? 32 : renderPriority;
    ReactSharedInternals.T = null;
    renderPriority = pendingPassiveTransitions;
    pendingPassiveTransitions = null;
    var root$jscomp$0 = pendingEffectsRoot,
      lanes = pendingEffectsLanes;
    pendingEffectsStatus = 0;
    pendingFinishedWork = pendingEffectsRoot = null;
    pendingEffectsLanes = 0;
    if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(331));
    var prevExecutionContext = executionContext;
    executionContext |= 4;
    commitPassiveUnmountOnFiber(root$jscomp$0.current);
    commitPassiveMountOnFiber(
      root$jscomp$0,
      root$jscomp$0.current,
      lanes,
      renderPriority
    );
    executionContext = prevExecutionContext;
    flushSyncWorkAcrossRoots_impl(0, !1);
    if (
      injectedHook &&
      "function" === typeof injectedHook.onPostCommitFiberRoot
    )
      try {
        injectedHook.onPostCommitFiberRoot(rendererID, root$jscomp$0);
      } catch (err) {}
    return !0;
  } finally {
    (ReactDOMSharedInternals.p = previousPriority),
      (ReactSharedInternals.T = prevTransition),
      releaseRootPooledCache(root, remainingLanes);
  }
}
function captureCommitPhaseErrorOnRoot(rootFiber, sourceFiber, error) {
  sourceFiber = createCapturedValueAtFiber(error, sourceFiber);
  sourceFiber = createRootErrorUpdate(rootFiber.stateNode, sourceFiber, 2);
  rootFiber = enqueueUpdate(rootFiber, sourceFiber, 2);
  null !== rootFiber &&
    (markRootUpdated$1(rootFiber, 2), ensureRootIsScheduled(rootFiber));
}
function captureCommitPhaseError(sourceFiber, nearestMountedAncestor, error) {
  if (3 === sourceFiber.tag)
    captureCommitPhaseErrorOnRoot(sourceFiber, sourceFiber, error);
  else
    for (; null !== nearestMountedAncestor; ) {
      if (3 === nearestMountedAncestor.tag) {
        captureCommitPhaseErrorOnRoot(
          nearestMountedAncestor,
          sourceFiber,
          error
        );
        break;
      } else if (1 === nearestMountedAncestor.tag) {
        var instance = nearestMountedAncestor.stateNode;
        if (
          "function" ===
            typeof nearestMountedAncestor.type.getDerivedStateFromError ||
          ("function" === typeof instance.componentDidCatch &&
            (null === legacyErrorBoundariesThatAlreadyFailed ||
              !legacyErrorBoundariesThatAlreadyFailed.has(instance)))
        ) {
          sourceFiber = createCapturedValueAtFiber(error, sourceFiber);
          error = createClassErrorUpdate(2);
          instance = enqueueUpdate(nearestMountedAncestor, error, 2);
          null !== instance &&
            (initializeClassErrorUpdate(
              error,
              instance,
              nearestMountedAncestor,
              sourceFiber
            ),
            markRootUpdated$1(instance, 2),
            ensureRootIsScheduled(instance));
          break;
        }
      }
      nearestMountedAncestor = nearestMountedAncestor.return;
    }
}
function attachPingListener(root, wakeable, lanes) {
  var pingCache = root.pingCache;
  if (null === pingCache) {
    pingCache = root.pingCache = new PossiblyWeakMap();
    var threadIDs = new Set();
    pingCache.set(wakeable, threadIDs);
  } else
    (threadIDs = pingCache.get(wakeable)),
      void 0 === threadIDs &&
        ((threadIDs = new Set()), pingCache.set(wakeable, threadIDs));
  threadIDs.has(lanes) ||
    ((workInProgressRootDidAttachPingListener = !0),
    threadIDs.add(lanes),
    (root = pingSuspendedRoot.bind(null, root, wakeable, lanes)),
    wakeable.then(root, root));
}
function pingSuspendedRoot(root, wakeable, pingedLanes) {
  var pingCache = root.pingCache;
  null !== pingCache && pingCache.delete(wakeable);
  root.pingedLanes |= root.suspendedLanes & pingedLanes;
  root.warmLanes &= ~pingedLanes;
  workInProgressRoot === root &&
    (workInProgressRootRenderLanes & pingedLanes) === pingedLanes &&
    (4 === workInProgressRootExitStatus ||
    (3 === workInProgressRootExitStatus &&
      (workInProgressRootRenderLanes & 62914560) ===
        workInProgressRootRenderLanes &&
      300 > now() - globalMostRecentFallbackTime)
      ? 0 === (executionContext & 2) && prepareFreshStack(root, 0)
      : (workInProgressRootPingedLanes |= pingedLanes),
    workInProgressSuspendedRetryLanes === workInProgressRootRenderLanes &&
      (workInProgressSuspendedRetryLanes = 0));
  ensureRootIsScheduled(root);
}
function retryTimedOutBoundary(boundaryFiber, retryLane) {
  0 === retryLane && (retryLane = claimNextRetryLane());
  boundaryFiber = enqueueConcurrentRenderForLane(boundaryFiber, retryLane);
  null !== boundaryFiber &&
    (markRootUpdated$1(boundaryFiber, retryLane),
    ensureRootIsScheduled(boundaryFiber));
}
function retryDehydratedSuspenseBoundary(boundaryFiber) {
  var suspenseState = boundaryFiber.memoizedState,
    retryLane = 0;
  null !== suspenseState && (retryLane = suspenseState.retryLane);
  retryTimedOutBoundary(boundaryFiber, retryLane);
}
function resolveRetryWakeable(boundaryFiber, wakeable) {
  var retryLane = 0;
  switch (boundaryFiber.tag) {
    case 31:
    case 13:
      var retryCache = boundaryFiber.stateNode;
      var suspenseState = boundaryFiber.memoizedState;
      null !== suspenseState && (retryLane = suspenseState.retryLane);
      break;
    case 19:
      retryCache = boundaryFiber.stateNode;
      break;
    case 22:
      retryCache = boundaryFiber.stateNode._retryCache;
      break;
    default:
      throw Error(formatProdErrorMessage(314));
  }
  null !== retryCache && retryCache.delete(wakeable);
  retryTimedOutBoundary(boundaryFiber, retryLane);
}
function scheduleCallback$1(priorityLevel, callback) {
  return scheduleCallback$3(priorityLevel, callback);
}
var firstScheduledRoot = null,
  lastScheduledRoot = null,
  didScheduleMicrotask = !1,
  mightHavePendingSyncWork = !1,
  isFlushingWork = !1,
  currentEventTransitionLane = 0;
function ensureRootIsScheduled(root) {
  root !== lastScheduledRoot &&
    null === root.next &&
    (null === lastScheduledRoot
      ? (firstScheduledRoot = lastScheduledRoot = root)
      : (lastScheduledRoot = lastScheduledRoot.next = root));
  mightHavePendingSyncWork = !0;
  didScheduleMicrotask ||
    ((didScheduleMicrotask = !0), scheduleImmediateRootScheduleTask());
}
function flushSyncWorkAcrossRoots_impl(syncTransitionLanes, onlyLegacy) {
  if (!isFlushingWork && mightHavePendingSyncWork) {
    isFlushingWork = !0;
    do {
      var didPerformSomeWork = !1;
      for (var root$170 = firstScheduledRoot; null !== root$170; ) {
        if (!onlyLegacy)
          if (0 !== syncTransitionLanes) {
            var pendingLanes = root$170.pendingLanes;
            if (0 === pendingLanes) var JSCompiler_inline_result = 0;
            else {
              var suspendedLanes = root$170.suspendedLanes,
                pingedLanes = root$170.pingedLanes;
              JSCompiler_inline_result =
                (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;
              JSCompiler_inline_result &=
                pendingLanes & ~(suspendedLanes & ~pingedLanes);
              JSCompiler_inline_result =
                JSCompiler_inline_result & 201326741
                  ? (JSCompiler_inline_result & 201326741) | 1
                  : JSCompiler_inline_result
                    ? JSCompiler_inline_result | 2
                    : 0;
            }
            0 !== JSCompiler_inline_result &&
              ((didPerformSomeWork = !0),
              performSyncWorkOnRoot(root$170, JSCompiler_inline_result));
          } else
            (JSCompiler_inline_result = workInProgressRootRenderLanes),
              (JSCompiler_inline_result = getNextLanes(
                root$170,
                root$170 === workInProgressRoot ? JSCompiler_inline_result : 0,
                null !== root$170.cancelPendingCommit ||
                  -1 !== root$170.timeoutHandle
              )),
              0 === (JSCompiler_inline_result & 3) ||
                checkIfRootIsPrerendering(root$170, JSCompiler_inline_result) ||
                ((didPerformSomeWork = !0),
                performSyncWorkOnRoot(root$170, JSCompiler_inline_result));
        root$170 = root$170.next;
      }
    } while (didPerformSomeWork);
    isFlushingWork = !1;
  }
}
function processRootScheduleInImmediateTask() {
  processRootScheduleInMicrotask();
}
function processRootScheduleInMicrotask() {
  mightHavePendingSyncWork = didScheduleMicrotask = !1;
  var syncTransitionLanes = 0;
  0 !== currentEventTransitionLane &&
    shouldAttemptEagerTransition() &&
    (syncTransitionLanes = currentEventTransitionLane);
  for (
    var currentTime = now(), prev = null, root = firstScheduledRoot;
    null !== root;

  ) {
    var next = root.next,
      nextLanes = scheduleTaskForRootDuringMicrotask(root, currentTime);
    if (0 === nextLanes)
      (root.next = null),
        null === prev ? (firstScheduledRoot = next) : (prev.next = next),
        null === next && (lastScheduledRoot = prev);
    else if (
      ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))
    )
      mightHavePendingSyncWork = !0;
    root = next;
  }
  (0 !== pendingEffectsStatus && 5 !== pendingEffectsStatus) ||
    flushSyncWorkAcrossRoots_impl(syncTransitionLanes, !1);
  0 !== currentEventTransitionLane && (currentEventTransitionLane = 0);
}
function scheduleTaskForRootDuringMicrotask(root, currentTime) {
  for (
    var suspendedLanes = root.suspendedLanes,
      pingedLanes = root.pingedLanes,
      expirationTimes = root.expirationTimes,
      lanes = root.pendingLanes & -62914561;
    0 < lanes;

  ) {
    var index$5 = 31 - clz32(lanes),
      lane = 1 << index$5,
      expirationTime = expirationTimes[index$5];
    if (-1 === expirationTime) {
      if (0 === (lane & suspendedLanes) || 0 !== (lane & pingedLanes))
        expirationTimes[index$5] = computeExpirationTime(lane, currentTime);
    } else expirationTime <= currentTime && (root.expiredLanes |= lane);
    lanes &= ~lane;
  }
  currentTime = workInProgressRoot;
  suspendedLanes = workInProgressRootRenderLanes;
  suspendedLanes = getNextLanes(
    root,
    root === currentTime ? suspendedLanes : 0,
    null !== root.cancelPendingCommit || -1 !== root.timeoutHandle
  );
  pingedLanes = root.callbackNode;
  if (
    0 === suspendedLanes ||
    (root === currentTime &&
      (2 === workInProgressSuspendedReason ||
        9 === workInProgressSuspendedReason)) ||
    null !== root.cancelPendingCommit
  )
    return (
      null !== pingedLanes &&
        null !== pingedLanes &&
        cancelCallback$1(pingedLanes),
      (root.callbackNode = null),
      (root.callbackPriority = 0)
    );
  if (
    0 === (suspendedLanes & 3) ||
    checkIfRootIsPrerendering(root, suspendedLanes)
  ) {
    currentTime = suspendedLanes & -suspendedLanes;
    if (currentTime === root.callbackPriority) return currentTime;
    null !== pingedLanes && cancelCallback$1(pingedLanes);
    switch (lanesToEventPriority(suspendedLanes)) {
      case 2:
      case 8:
        suspendedLanes = UserBlockingPriority;
        break;
      case 32:
        suspendedLanes = NormalPriority$1;
        break;
      case 268435456:
        suspendedLanes = IdlePriority;
        break;
      default:
        suspendedLanes = NormalPriority$1;
    }
    pingedLanes = performWorkOnRootViaSchedulerTask.bind(null, root);
    suspendedLanes = scheduleCallback$3(suspendedLanes, pingedLanes);
    root.callbackPriority = currentTime;
    root.callbackNode = suspendedLanes;
    return currentTime;
  }
  null !== pingedLanes && null !== pingedLanes && cancelCallback$1(pingedLanes);
  root.callbackPriority = 2;
  root.callbackNode = null;
  return 2;
}
function performWorkOnRootViaSchedulerTask(root, didTimeout) {
  if (0 !== pendingEffectsStatus && 5 !== pendingEffectsStatus)
    return (root.callbackNode = null), (root.callbackPriority = 0), null;
  var originalCallbackNode = root.callbackNode;
  if (flushPendingEffects() && root.callbackNode !== originalCallbackNode)
    return null;
  var workInProgressRootRenderLanes$jscomp$0 = workInProgressRootRenderLanes;
  workInProgressRootRenderLanes$jscomp$0 = getNextLanes(
    root,
    root === workInProgressRoot ? workInProgressRootRenderLanes$jscomp$0 : 0,
    null !== root.cancelPendingCommit || -1 !== root.timeoutHandle
  );
  if (0 === workInProgressRootRenderLanes$jscomp$0) return null;
  performWorkOnRoot(root, workInProgressRootRenderLanes$jscomp$0, didTimeout);
  scheduleTaskForRootDuringMicrotask(root, now());
  return null != root.callbackNode && root.callbackNode === originalCallbackNode
    ? performWorkOnRootViaSchedulerTask.bind(null, root)
    : null;
}
function performSyncWorkOnRoot(root, lanes) {
  if (flushPendingEffects()) return null;
  performWorkOnRoot(root, lanes, !0);
}
function scheduleImmediateRootScheduleTask() {
  scheduleMicrotask(function () {
    0 !== (executionContext & 6)
      ? scheduleCallback$3(
          ImmediatePriority,
          processRootScheduleInImmediateTask
        )
      : processRootScheduleInMicrotask();
  });
}
function requestTransitionLane() {
  if (0 === currentEventTransitionLane) {
    var actionScopeLane = currentEntangledLane;
    0 === actionScopeLane &&
      ((actionScopeLane = nextTransitionUpdateLane),
      (nextTransitionUpdateLane <<= 1),
      0 === (nextTransitionUpdateLane & 261888) &&
        (nextTransitionUpdateLane = 256));
    currentEventTransitionLane = actionScopeLane;
  }
  return currentEventTransitionLane;
}
function coerceFormActionProp(actionProp) {
  return null == actionProp ||
    "symbol" === typeof actionProp ||
    "boolean" === typeof actionProp
    ? null
    : "function" === typeof actionProp
      ? actionProp
      : sanitizeURL("" + actionProp);
}
function createFormDataWithSubmitter(form, submitter) {
  var temp = submitter.ownerDocument.createElement("input");
  temp.name = submitter.name;
  temp.value = submitter.value;
  form.id && temp.setAttribute("form", form.id);
  submitter.parentNode.insertBefore(temp, submitter);
  form = new FormData(form);
  temp.parentNode.removeChild(temp);
  return form;
}
function extractEvents$1(
  dispatchQueue,
  domEventName,
  maybeTargetInst,
  nativeEvent,
  nativeEventTarget
) {
  if (
    "submit" === domEventName &&
    maybeTargetInst &&
    maybeTargetInst.stateNode === nativeEventTarget
  ) {
    var action = coerceFormActionProp(
        (nativeEventTarget[internalPropsKey] || null).action
      ),
      submitter = nativeEvent.submitter;
    submitter &&
      ((domEventName = (domEventName = submitter[internalPropsKey] || null)
        ? coerceFormActionProp(domEventName.formAction)
        : submitter.getAttribute("formAction")),
      null !== domEventName && ((action = domEventName), (submitter = null)));
    var event = new SyntheticEvent(
      "action",
      "action",
      null,
      nativeEvent,
      nativeEventTarget
    );
    dispatchQueue.push({
      event: event,
      listeners: [
        {
          instance: null,
          listener: function () {
            if (nativeEvent.defaultPrevented) {
              if (0 !== currentEventTransitionLane) {
                var formData = submitter
                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)
                  : new FormData(nativeEventTarget);
                startHostTransition(
                  maybeTargetInst,
                  {
                    pending: !0,
                    data: formData,
                    method: nativeEventTarget.method,
                    action: action
                  },
                  null,
                  formData
                );
              }
            } else
              "function" === typeof action &&
                (event.preventDefault(),
                (formData = submitter
                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)
                  : new FormData(nativeEventTarget)),
                startHostTransition(
                  maybeTargetInst,
                  {
                    pending: !0,
                    data: formData,
                    method: nativeEventTarget.method,
                    action: action
                  },
                  action,
                  formData
                ));
          },
          currentTarget: nativeEventTarget
        }
      ]
    });
  }
}
for (
  var i$jscomp$inline_1577 = 0;
  i$jscomp$inline_1577 < simpleEventPluginEvents.length;
  i$jscomp$inline_1577++
) {
  var eventName$jscomp$inline_1578 =
      simpleEventPluginEvents[i$jscomp$inline_1577],
    domEventName$jscomp$inline_1579 =
      eventName$jscomp$inline_1578.toLowerCase(),
    capitalizedEvent$jscomp$inline_1580 =
      eventName$jscomp$inline_1578[0].toUpperCase() +
      eventName$jscomp$inline_1578.slice(1);
  registerSimpleEvent(
    domEventName$jscomp$inline_1579,
    "on" + capitalizedEvent$jscomp$inline_1580
  );
}
registerSimpleEvent(ANIMATION_END, "onAnimationEnd");
registerSimpleEvent(ANIMATION_ITERATION, "onAnimationIteration");
registerSimpleEvent(ANIMATION_START, "onAnimationStart");
registerSimpleEvent("dblclick", "onDoubleClick");
registerSimpleEvent("focusin", "onFocus");
registerSimpleEvent("focusout", "onBlur");
registerSimpleEvent(TRANSITION_RUN, "onTransitionRun");
registerSimpleEvent(TRANSITION_START, "onTransitionStart");
registerSimpleEvent(TRANSITION_CANCEL, "onTransitionCancel");
registerSimpleEvent(TRANSITION_END, "onTransitionEnd");
registerDirectEvent("onMouseEnter", ["mouseout", "mouseover"]);
registerDirectEvent("onMouseLeave", ["mouseout", "mouseover"]);
registerDirectEvent("onPointerEnter", ["pointerout", "pointerover"]);
registerDirectEvent("onPointerLeave", ["pointerout", "pointerover"]);
registerTwoPhaseEvent(
  "onChange",
  "change click focusin focusout input keydown keyup selectionchange".split(" ")
);
registerTwoPhaseEvent(
  "onSelect",
  "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(
    " "
  )
);
registerTwoPhaseEvent("onBeforeInput", [
  "compositionend",
  "keypress",
  "textInput",
  "paste"
]);
registerTwoPhaseEvent(
  "onCompositionEnd",
  "compositionend focusout keydown keypress keyup mousedown".split(" ")
);
registerTwoPhaseEvent(
  "onCompositionStart",
  "compositionstart focusout keydown keypress keyup mousedown".split(" ")
);
registerTwoPhaseEvent(
  "onCompositionUpdate",
  "compositionupdate focusout keydown keypress keyup mousedown".split(" ")
);
var mediaEventTypes =
    "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(
      " "
    ),
  nonDelegatedEvents = new Set(
    "beforetoggle cancel close invalid load scroll scrollend toggle"
      .split(" ")
      .concat(mediaEventTypes)
  );
function processDispatchQueue(dispatchQueue, eventSystemFlags) {
  eventSystemFlags = 0 !== (eventSystemFlags & 4);
  for (var i = 0; i < dispatchQueue.length; i++) {
    var _dispatchQueue$i = dispatchQueue[i],
      event = _dispatchQueue$i.event;
    _dispatchQueue$i = _dispatchQueue$i.listeners;
    a: {
      var previousInstance = void 0;
      if (eventSystemFlags)
        for (
          var i$jscomp$0 = _dispatchQueue$i.length - 1;
          0 <= i$jscomp$0;
          i$jscomp$0--
        ) {
          var _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0],
            instance = _dispatchListeners$i.instance,
            currentTarget = _dispatchListeners$i.currentTarget;
          _dispatchListeners$i = _dispatchListeners$i.listener;
          if (instance !== previousInstance && event.isPropagationStopped())
            break a;
          previousInstance = _dispatchListeners$i;
          event.currentTarget = currentTarget;
          try {
            previousInstance(event);
          } catch (error) {
            reportGlobalError(error);
          }
          event.currentTarget = null;
          previousInstance = instance;
        }
      else
        for (
          i$jscomp$0 = 0;
          i$jscomp$0 < _dispatchQueue$i.length;
          i$jscomp$0++
        ) {
          _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0];
          instance = _dispatchListeners$i.instance;
          currentTarget = _dispatchListeners$i.currentTarget;
          _dispatchListeners$i = _dispatchListeners$i.listener;
          if (instance !== previousInstance && event.isPropagationStopped())
            break a;
          previousInstance = _dispatchListeners$i;
          event.currentTarget = currentTarget;
          try {
            previousInstance(event);
          } catch (error) {
            reportGlobalError(error);
          }
          event.currentTarget = null;
          previousInstance = instance;
        }
    }
  }
}
function listenToNonDelegatedEvent(domEventName, targetElement) {
  var JSCompiler_inline_result = targetElement[internalEventHandlersKey];
  void 0 === JSCompiler_inline_result &&
    (JSCompiler_inline_result = targetElement[internalEventHandlersKey] =
      new Set());
  var listenerSetKey = domEventName + "__bubble";
  JSCompiler_inline_result.has(listenerSetKey) ||
    (addTrappedEventListener(targetElement, domEventName, 2, !1),
    JSCompiler_inline_result.add(listenerSetKey));
}
function listenToNativeEvent(domEventName, isCapturePhaseListener, target) {
  var eventSystemFlags = 0;
  isCapturePhaseListener && (eventSystemFlags |= 4);
  addTrappedEventListener(
    target,
    domEventName,
    eventSystemFlags,
    isCapturePhaseListener
  );
}
var listeningMarker = "_reactListening" + Math.random().toString(36).slice(2);
function listenToAllSupportedEvents(rootContainerElement) {
  if (!rootContainerElement[listeningMarker]) {
    rootContainerElement[listeningMarker] = !0;
    allNativeEvents.forEach(function (domEventName) {
      "selectionchange" !== domEventName &&
        (nonDelegatedEvents.has(domEventName) ||
          listenToNativeEvent(domEventName, !1, rootContainerElement),
        listenToNativeEvent(domEventName, !0, rootContainerElement));
    });
    var ownerDocument =
      9 === rootContainerElement.nodeType
        ? rootContainerElement
        : rootContainerElement.ownerDocument;
    null === ownerDocument ||
      ownerDocument[listeningMarker] ||
      ((ownerDocument[listeningMarker] = !0),
      listenToNativeEvent("selectionchange", !1, ownerDocument));
  }
}
function addTrappedEventListener(
  targetContainer,
  domEventName,
  eventSystemFlags,
  isCapturePhaseListener
) {
  switch (getEventPriority(domEventName)) {
    case 2:
      var listenerWrapper = dispatchDiscreteEvent;
      break;
    case 8:
      listenerWrapper = dispatchContinuousEvent;
      break;
    default:
      listenerWrapper = dispatchEvent;
  }
  eventSystemFlags = listenerWrapper.bind(
    null,
    domEventName,
    eventSystemFlags,
    targetContainer
  );
  listenerWrapper = void 0;
  !passiveBrowserEventsSupported ||
    ("touchstart" !== domEventName &&
      "touchmove" !== domEventName &&
      "wheel" !== domEventName) ||
    (listenerWrapper = !0);
  isCapturePhaseListener
    ? void 0 !== listenerWrapper
      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {
          capture: !0,
          passive: listenerWrapper
        })
      : targetContainer.addEventListener(domEventName, eventSystemFlags, !0)
    : void 0 !== listenerWrapper
      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {
          passive: listenerWrapper
        })
      : targetContainer.addEventListener(domEventName, eventSystemFlags, !1);
}
function dispatchEventForPluginEventSystem(
  domEventName,
  eventSystemFlags,
  nativeEvent,
  targetInst$jscomp$0,
  targetContainer
) {
  var ancestorInst = targetInst$jscomp$0;
  if (
    0 === (eventSystemFlags & 1) &&
    0 === (eventSystemFlags & 2) &&
    null !== targetInst$jscomp$0
  )
    a: for (;;) {
      if (null === targetInst$jscomp$0) return;
      var nodeTag = targetInst$jscomp$0.tag;
      if (3 === nodeTag || 4 === nodeTag) {
        var container = targetInst$jscomp$0.stateNode.containerInfo;
        if (container === targetContainer) break;
        if (4 === nodeTag)
          for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {
            var grandTag = nodeTag.tag;
            if (
              (3 === grandTag || 4 === grandTag) &&
              nodeTag.stateNode.containerInfo === targetContainer
            )
              return;
            nodeTag = nodeTag.return;
          }
        for (; null !== container; ) {
          nodeTag = getClosestInstanceFromNode(container);
          if (null === nodeTag) return;
          grandTag = nodeTag.tag;
          if (
            5 === grandTag ||
            6 === grandTag ||
            26 === grandTag ||
            27 === grandTag
          ) {
            targetInst$jscomp$0 = ancestorInst = nodeTag;
            continue a;
          }
          container = container.parentNode;
        }
      }
      targetInst$jscomp$0 = targetInst$jscomp$0.return;
    }
  batchedUpdates$1(function () {
    var targetInst = ancestorInst,
      nativeEventTarget = getEventTarget(nativeEvent),
      dispatchQueue = [];
    a: {
      var reactName = topLevelEventsToReactNames.get(domEventName);
      if (void 0 !== reactName) {
        var SyntheticEventCtor = SyntheticEvent,
          reactEventType = domEventName;
        switch (domEventName) {
          case "keypress":
            if (0 === getEventCharCode(nativeEvent)) break a;
          case "keydown":
          case "keyup":
            SyntheticEventCtor = SyntheticKeyboardEvent;
            break;
          case "focusin":
            reactEventType = "focus";
            SyntheticEventCtor = SyntheticFocusEvent;
            break;
          case "focusout":
            reactEventType = "blur";
            SyntheticEventCtor = SyntheticFocusEvent;
            break;
          case "beforeblur":
          case "afterblur":
            SyntheticEventCtor = SyntheticFocusEvent;
            break;
          case "click":
            if (2 === nativeEvent.button) break a;
          case "auxclick":
          case "dblclick":
          case "mousedown":
          case "mousemove":
          case "mouseup":
          case "mouseout":
          case "mouseover":
          case "contextmenu":
            SyntheticEventCtor = SyntheticMouseEvent;
            break;
          case "drag":
          case "dragend":
          case "dragenter":
          case "dragexit":
          case "dragleave":
          case "dragover":
          case "dragstart":
          case "drop":
            SyntheticEventCtor = SyntheticDragEvent;
            break;
          case "touchcancel":
          case "touchend":
          case "touchmove":
          case "touchstart":
            SyntheticEventCtor = SyntheticTouchEvent;
            break;
          case ANIMATION_END:
          case ANIMATION_ITERATION:
          case ANIMATION_START:
            SyntheticEventCtor = SyntheticAnimationEvent;
            break;
          case TRANSITION_END:
            SyntheticEventCtor = SyntheticTransitionEvent;
            break;
          case "scroll":
          case "scrollend":
            SyntheticEventCtor = SyntheticUIEvent;
            break;
          case "wheel":
            SyntheticEventCtor = SyntheticWheelEvent;
            break;
          case "copy":
          case "cut":
          case "paste":
            SyntheticEventCtor = SyntheticClipboardEvent;
            break;
          case "gotpointercapture":
          case "lostpointercapture":
          case "pointercancel":
          case "pointerdown":
          case "pointermove":
          case "pointerout":
          case "pointerover":
          case "pointerup":
            SyntheticEventCtor = SyntheticPointerEvent;
            break;
          case "toggle":
          case "beforetoggle":
            SyntheticEventCtor = SyntheticToggleEvent;
        }
        var inCapturePhase = 0 !== (eventSystemFlags & 4),
          accumulateTargetOnly =
            !inCapturePhase &&
            ("scroll" === domEventName || "scrollend" === domEventName),
          reactEventName = inCapturePhase
            ? null !== reactName
              ? reactName + "Capture"
              : null
            : reactName;
        inCapturePhase = [];
        for (
          var instance = targetInst, lastHostComponent;
          null !== instance;

        ) {
          var _instance = instance;
          lastHostComponent = _instance.stateNode;
          _instance = _instance.tag;
          (5 !== _instance && 26 !== _instance && 27 !== _instance) ||
            null === lastHostComponent ||
            null === reactEventName ||
            ((_instance = getListener(instance, reactEventName)),
            null != _instance &&
              inCapturePhase.push(
                createDispatchListener(instance, _instance, lastHostComponent)
              ));
          if (accumulateTargetOnly) break;
          instance = instance.return;
        }
        0 < inCapturePhase.length &&
          ((reactName = new SyntheticEventCtor(
            reactName,
            reactEventType,
            null,
            nativeEvent,
            nativeEventTarget
          )),
          dispatchQueue.push({ event: reactName, listeners: inCapturePhase }));
      }
    }
    if (0 === (eventSystemFlags & 7)) {
      a: {
        reactName =
          "mouseover" === domEventName || "pointerover" === domEventName;
        SyntheticEventCtor =
          "mouseout" === domEventName || "pointerout" === domEventName;
        if (
          reactName &&
          nativeEvent !== currentReplayingEvent &&
          (reactEventType =
            nativeEvent.relatedTarget || nativeEvent.fromElement) &&
          (getClosestInstanceFromNode(reactEventType) ||
            reactEventType[internalContainerInstanceKey])
        )
          break a;
        if (SyntheticEventCtor || reactName) {
          reactName =
            nativeEventTarget.window === nativeEventTarget
              ? nativeEventTarget
              : (reactName = nativeEventTarget.ownerDocument)
                ? reactName.defaultView || reactName.parentWindow
                : window;
          if (SyntheticEventCtor) {
            if (
              ((reactEventType =
                nativeEvent.relatedTarget || nativeEvent.toElement),
              (SyntheticEventCtor = targetInst),
              (reactEventType = reactEventType
                ? getClosestInstanceFromNode(reactEventType)
                : null),
              null !== reactEventType &&
                ((accumulateTargetOnly =
                  getNearestMountedFiber(reactEventType)),
                (inCapturePhase = reactEventType.tag),
                reactEventType !== accumulateTargetOnly ||
                  (5 !== inCapturePhase &&
                    27 !== inCapturePhase &&
                    6 !== inCapturePhase)))
            )
              reactEventType = null;
          } else (SyntheticEventCtor = null), (reactEventType = targetInst);
          if (SyntheticEventCtor !== reactEventType) {
            inCapturePhase = SyntheticMouseEvent;
            _instance = "onMouseLeave";
            reactEventName = "onMouseEnter";
            instance = "mouse";
            if ("pointerout" === domEventName || "pointerover" === domEventName)
              (inCapturePhase = SyntheticPointerEvent),
                (_instance = "onPointerLeave"),
                (reactEventName = "onPointerEnter"),
                (instance = "pointer");
            accumulateTargetOnly =
              null == SyntheticEventCtor
                ? reactName
                : getNodeFromInstance(SyntheticEventCtor);
            lastHostComponent =
              null == reactEventType
                ? reactName
                : getNodeFromInstance(reactEventType);
            reactName = new inCapturePhase(
              _instance,
              instance + "leave",
              SyntheticEventCtor,
              nativeEvent,
              nativeEventTarget
            );
            reactName.target = accumulateTargetOnly;
            reactName.relatedTarget = lastHostComponent;
            _instance = null;
            getClosestInstanceFromNode(nativeEventTarget) === targetInst &&
              ((inCapturePhase = new inCapturePhase(
                reactEventName,
                instance + "enter",
                reactEventType,
                nativeEvent,
                nativeEventTarget
              )),
              (inCapturePhase.target = lastHostComponent),
              (inCapturePhase.relatedTarget = accumulateTargetOnly),
              (_instance = inCapturePhase));
            accumulateTargetOnly = _instance;
            if (SyntheticEventCtor && reactEventType)
              b: {
                inCapturePhase = getParent;
                reactEventName = SyntheticEventCtor;
                instance = reactEventType;
                lastHostComponent = 0;
                for (
                  _instance = reactEventName;
                  _instance;
                  _instance = inCapturePhase(_instance)
                )
                  lastHostComponent++;
                _instance = 0;
                for (var tempB = instance; tempB; tempB = inCapturePhase(tempB))
                  _instance++;
                for (; 0 < lastHostComponent - _instance; )
                  (reactEventName = inCapturePhase(reactEventName)),
                    lastHostComponent--;
                for (; 0 < _instance - lastHostComponent; )
                  (instance = inCapturePhase(instance)), _instance--;
                for (; lastHostComponent--; ) {
                  if (
                    reactEventName === instance ||
                    (null !== instance && reactEventName === instance.alternate)
                  ) {
                    inCapturePhase = reactEventName;
                    break b;
                  }
                  reactEventName = inCapturePhase(reactEventName);
                  instance = inCapturePhase(instance);
                }
                inCapturePhase = null;
              }
            else inCapturePhase = null;
            null !== SyntheticEventCtor &&
              accumulateEnterLeaveListenersForEvent(
                dispatchQueue,
                reactName,
                SyntheticEventCtor,
                inCapturePhase,
                !1
              );
            null !== reactEventType &&
              null !== accumulateTargetOnly &&
              accumulateEnterLeaveListenersForEvent(
                dispatchQueue,
                accumulateTargetOnly,
                reactEventType,
                inCapturePhase,
                !0
              );
          }
        }
      }
      a: {
        reactName = targetInst ? getNodeFromInstance(targetInst) : window;
        SyntheticEventCtor =
          reactName.nodeName && reactName.nodeName.toLowerCase();
        if (
          "select" === SyntheticEventCtor ||
          ("input" === SyntheticEventCtor && "file" === reactName.type)
        )
          var getTargetInstFunc = getTargetInstForChangeEvent;
        else if (isTextInputElement(reactName))
          if (isInputEventSupported)
            getTargetInstFunc = getTargetInstForInputOrChangeEvent;
          else {
            getTargetInstFunc = getTargetInstForInputEventPolyfill;
            var handleEventFunc = handleEventsForInputEventPolyfill;
          }
        else
          (SyntheticEventCtor = reactName.nodeName),
            !SyntheticEventCtor ||
            "input" !== SyntheticEventCtor.toLowerCase() ||
            ("checkbox" !== reactName.type && "radio" !== reactName.type)
              ? targetInst &&
                isCustomElement(targetInst.elementType) &&
                (getTargetInstFunc = getTargetInstForChangeEvent)
              : (getTargetInstFunc = getTargetInstForClickEvent);
        if (
          getTargetInstFunc &&
          (getTargetInstFunc = getTargetInstFunc(domEventName, targetInst))
        ) {
          createAndAccumulateChangeEvent(
            dispatchQueue,
            getTargetInstFunc,
            nativeEvent,
            nativeEventTarget
          );
          break a;
        }
        handleEventFunc && handleEventFunc(domEventName, reactName, targetInst);
        "focusout" === domEventName &&
          targetInst &&
          "number" === reactName.type &&
          null != targetInst.memoizedProps.value &&
          setDefaultValue(reactName, "number", reactName.value);
      }
      handleEventFunc = targetInst ? getNodeFromInstance(targetInst) : window;
      switch (domEventName) {
        case "focusin":
          if (
            isTextInputElement(handleEventFunc) ||
            "true" === handleEventFunc.contentEditable
          )
            (activeElement = handleEventFunc),
              (activeElementInst = targetInst),
              (lastSelection = null);
          break;
        case "focusout":
          lastSelection = activeElementInst = activeElement = null;
          break;
        case "mousedown":
          mouseDown = !0;
          break;
        case "contextmenu":
        case "mouseup":
        case "dragend":
          mouseDown = !1;
          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);
          break;
        case "selectionchange":
          if (skipSelectionChangeEvent) break;
        case "keydown":
        case "keyup":
          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);
      }
      var fallbackData;
      if (canUseCompositionEvent)
        b: {
          switch (domEventName) {
            case "compositionstart":
              var eventType = "onCompositionStart";
              break b;
            case "compositionend":
              eventType = "onCompositionEnd";
              break b;
            case "compositionupdate":
              eventType = "onCompositionUpdate";
              break b;
          }
          eventType = void 0;
        }
      else
        isComposing
          ? isFallbackCompositionEnd(domEventName, nativeEvent) &&
            (eventType = "onCompositionEnd")
          : "keydown" === domEventName &&
            229 === nativeEvent.keyCode &&
            (eventType = "onCompositionStart");
      eventType &&
        (useFallbackCompositionData &&
          "ko" !== nativeEvent.locale &&
          (isComposing || "onCompositionStart" !== eventType
            ? "onCompositionEnd" === eventType &&
              isComposing &&
              (fallbackData = getData())
            : ((root = nativeEventTarget),
              (startText = "value" in root ? root.value : root.textContent),
              (isComposing = !0))),
        (handleEventFunc = accumulateTwoPhaseListeners(targetInst, eventType)),
        0 < handleEventFunc.length &&
          ((eventType = new SyntheticCompositionEvent(
            eventType,
            domEventName,
            null,
            nativeEvent,
            nativeEventTarget
          )),
          dispatchQueue.push({ event: eventType, listeners: handleEventFunc }),
          fallbackData
            ? (eventType.data = fallbackData)
            : ((fallbackData = getDataFromCustomEvent(nativeEvent)),
              null !== fallbackData && (eventType.data = fallbackData))));
      if (
        (fallbackData = canUseTextInputEvent
          ? getNativeBeforeInputChars(domEventName, nativeEvent)
          : getFallbackBeforeInputChars(domEventName, nativeEvent))
      )
        (eventType = accumulateTwoPhaseListeners(targetInst, "onBeforeInput")),
          0 < eventType.length &&
            ((handleEventFunc = new SyntheticCompositionEvent(
              "onBeforeInput",
              "beforeinput",
              null,
              nativeEvent,
              nativeEventTarget
            )),
            dispatchQueue.push({
              event: handleEventFunc,
              listeners: eventType
            }),
            (handleEventFunc.data = fallbackData));
      extractEvents$1(
        dispatchQueue,
        domEventName,
        targetInst,
        nativeEvent,
        nativeEventTarget
      );
    }
    processDispatchQueue(dispatchQueue, eventSystemFlags);
  });
}
function createDispatchListener(instance, listener, currentTarget) {
  return {
    instance: instance,
    listener: listener,
    currentTarget: currentTarget
  };
}
function accumulateTwoPhaseListeners(targetFiber, reactName) {
  for (
    var captureName = reactName + "Capture", listeners = [];
    null !== targetFiber;

  ) {
    var _instance2 = targetFiber,
      stateNode = _instance2.stateNode;
    _instance2 = _instance2.tag;
    (5 !== _instance2 && 26 !== _instance2 && 27 !== _instance2) ||
      null === stateNode ||
      ((_instance2 = getListener(targetFiber, captureName)),
      null != _instance2 &&
        listeners.unshift(
          createDispatchListener(targetFiber, _instance2, stateNode)
        ),
      (_instance2 = getListener(targetFiber, reactName)),
      null != _instance2 &&
        listeners.push(
          createDispatchListener(targetFiber, _instance2, stateNode)
        ));
    if (3 === targetFiber.tag) return listeners;
    targetFiber = targetFiber.return;
  }
  return [];
}
function getParent(inst) {
  if (null === inst) return null;
  do inst = inst.return;
  while (inst && 5 !== inst.tag && 27 !== inst.tag);
  return inst ? inst : null;
}
function accumulateEnterLeaveListenersForEvent(
  dispatchQueue,
  event,
  target,
  common,
  inCapturePhase
) {
  for (
    var registrationName = event._reactName, listeners = [];
    null !== target && target !== common;

  ) {
    var _instance3 = target,
      alternate = _instance3.alternate,
      stateNode = _instance3.stateNode;
    _instance3 = _instance3.tag;
    if (null !== alternate && alternate === common) break;
    (5 !== _instance3 && 26 !== _instance3 && 27 !== _instance3) ||
      null === stateNode ||
      ((alternate = stateNode),
      inCapturePhase
        ? ((stateNode = getListener(target, registrationName)),
          null != stateNode &&
            listeners.unshift(
              createDispatchListener(target, stateNode, alternate)
            ))
        : inCapturePhase ||
          ((stateNode = getListener(target, registrationName)),
          null != stateNode &&
            listeners.push(
              createDispatchListener(target, stateNode, alternate)
            )));
    target = target.return;
  }
  0 !== listeners.length &&
    dispatchQueue.push({ event: event, listeners: listeners });
}
var NORMALIZE_NEWLINES_REGEX = /\r\n?/g,
  NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\u0000|\uFFFD/g;
function normalizeMarkupForTextOrAttribute(markup) {
  return ("string" === typeof markup ? markup : "" + markup)
    .replace(NORMALIZE_NEWLINES_REGEX, "\n")
    .replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, "");
}
function checkForUnmatchedText(serverText, clientText) {
  clientText = normalizeMarkupForTextOrAttribute(clientText);
  return normalizeMarkupForTextOrAttribute(serverText) === clientText ? !0 : !1;
}
function setProp(domElement, tag, key, value, props, prevValue) {
  switch (key) {
    case "children":
      "string" === typeof value
        ? "body" === tag ||
          ("textarea" === tag && "" === value) ||
          setTextContent(domElement, value)
        : ("number" === typeof value || "bigint" === typeof value) &&
          "body" !== tag &&
          setTextContent(domElement, "" + value);
      break;
    case "className":
      setValueForKnownAttribute(domElement, "class", value);
      break;
    case "tabIndex":
      setValueForKnownAttribute(domElement, "tabindex", value);
      break;
    case "dir":
    case "role":
    case "viewBox":
    case "width":
    case "height":
      setValueForKnownAttribute(domElement, key, value);
      break;
    case "style":
      setValueForStyles(domElement, value, prevValue);
      break;
    case "data":
      if ("object" !== tag) {
        setValueForKnownAttribute(domElement, "data", value);
        break;
      }
    case "src":
    case "href":
      if ("" === value && ("a" !== tag || "href" !== key)) {
        domElement.removeAttribute(key);
        break;
      }
      if (
        null == value ||
        "function" === typeof value ||
        "symbol" === typeof value ||
        "boolean" === typeof value
      ) {
        domElement.removeAttribute(key);
        break;
      }
      value = sanitizeURL("" + value);
      domElement.setAttribute(key, value);
      break;
    case "action":
    case "formAction":
      if ("function" === typeof value) {
        domElement.setAttribute(
          key,
          "javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')"
        );
        break;
      } else
        "function" === typeof prevValue &&
          ("formAction" === key
            ? ("input" !== tag &&
                setProp(domElement, tag, "name", props.name, props, null),
              setProp(
                domElement,
                tag,
                "formEncType",
                props.formEncType,
                props,
                null
              ),
              setProp(
                domElement,
                tag,
                "formMethod",
                props.formMethod,
                props,
                null
              ),
              setProp(
                domElement,
                tag,
                "formTarget",
                props.formTarget,
                props,
                null
              ))
            : (setProp(domElement, tag, "encType", props.encType, props, null),
              setProp(domElement, tag, "method", props.method, props, null),
              setProp(domElement, tag, "target", props.target, props, null)));
      if (
        null == value ||
        "symbol" === typeof value ||
        "boolean" === typeof value
      ) {
        domElement.removeAttribute(key);
        break;
      }
      value = sanitizeURL("" + value);
      domElement.setAttribute(key, value);
      break;
    case "onClick":
      null != value && (domElement.onclick = noop$1);
      break;
    case "onScroll":
      null != value && listenToNonDelegatedEvent("scroll", domElement);
      break;
    case "onScrollEnd":
      null != value && listenToNonDelegatedEvent("scrollend", domElement);
      break;
    case "dangerouslySetInnerHTML":
      if (null != value) {
        if ("object" !== typeof value || !("__html" in value))
          throw Error(formatProdErrorMessage(61));
        key = value.__html;
        if (null != key) {
          if (null != props.children) throw Error(formatProdErrorMessage(60));
          domElement.innerHTML = key;
        }
      }
      break;
    case "multiple":
      domElement.multiple =
        value && "function" !== typeof value && "symbol" !== typeof value;
      break;
    case "muted":
      domElement.muted =
        value && "function" !== typeof value && "symbol" !== typeof value;
      break;
    case "suppressContentEditableWarning":
    case "suppressHydrationWarning":
    case "defaultValue":
    case "defaultChecked":
    case "innerHTML":
    case "ref":
      break;
    case "autoFocus":
      break;
    case "xlinkHref":
      if (
        null == value ||
        "function" === typeof value ||
        "boolean" === typeof value ||
        "symbol" === typeof value
      ) {
        domElement.removeAttribute("xlink:href");
        break;
      }
      key = sanitizeURL("" + value);
      domElement.setAttributeNS(
        "http://www.w3.org/1999/xlink",
        "xlink:href",
        key
      );
      break;
    case "contentEditable":
    case "spellCheck":
    case "draggable":
    case "value":
    case "autoReverse":
    case "externalResourcesRequired":
    case "focusable":
    case "preserveAlpha":
      null != value && "function" !== typeof value && "symbol" !== typeof value
        ? domElement.setAttribute(key, "" + value)
        : domElement.removeAttribute(key);
      break;
    case "inert":
    case "allowFullScreen":
    case "async":
    case "autoPlay":
    case "controls":
    case "default":
    case "defer":
    case "disabled":
    case "disablePictureInPicture":
    case "disableRemotePlayback":
    case "formNoValidate":
    case "hidden":
    case "loop":
    case "noModule":
    case "noValidate":
    case "open":
    case "playsInline":
    case "readOnly":
    case "required":
    case "reversed":
    case "scoped":
    case "seamless":
    case "itemScope":
      value && "function" !== typeof value && "symbol" !== typeof value
        ? domElement.setAttribute(key, "")
        : domElement.removeAttribute(key);
      break;
    case "capture":
    case "download":
      !0 === value
        ? domElement.setAttribute(key, "")
        : !1 !== value &&
            null != value &&
            "function" !== typeof value &&
            "symbol" !== typeof value
          ? domElement.setAttribute(key, value)
          : domElement.removeAttribute(key);
      break;
    case "cols":
    case "rows":
    case "size":
    case "span":
      null != value &&
      "function" !== typeof value &&
      "symbol" !== typeof value &&
      !isNaN(value) &&
      1 <= value
        ? domElement.setAttribute(key, value)
        : domElement.removeAttribute(key);
      break;
    case "rowSpan":
    case "start":
      null == value ||
      "function" === typeof value ||
      "symbol" === typeof value ||
      isNaN(value)
        ? domElement.removeAttribute(key)
        : domElement.setAttribute(key, value);
      break;
    case "popover":
      listenToNonDelegatedEvent("beforetoggle", domElement);
      listenToNonDelegatedEvent("toggle", domElement);
      setValueForAttribute(domElement, "popover", value);
      break;
    case "xlinkActuate":
      setValueForNamespacedAttribute(
        domElement,
        "http://www.w3.org/1999/xlink",
        "xlink:actuate",
        value
      );
      break;
    case "xlinkArcrole":
      setValueForNamespacedAttribute(
        domElement,
        "http://www.w3.org/1999/xlink",
        "xlink:arcrole",
        value
      );
      break;
    case "xlinkRole":
      setValueForNamespacedAttribute(
        domElement,
        "http://www.w3.org/1999/xlink",
        "xlink:role",
        value
      );
      break;
    case "xlinkShow":
      setValueForNamespacedAttribute(
        domElement,
        "http://www.w3.org/1999/xlink",
        "xlink:show",
        value
      );
      break;
    case "xlinkTitle":
      setValueForNamespacedAttribute(
        domElement,
        "http://www.w3.org/1999/xlink",
        "xlink:title",
        value
      );
      break;
    case "xlinkType":
      setValueForNamespacedAttribute(
        domElement,
        "http://www.w3.org/1999/xlink",
        "xlink:type",
        value
      );
      break;
    case "xmlBase":
      setValueForNamespacedAttribute(
        domElement,
        "http://www.w3.org/XML/1998/namespace",
        "xml:base",
        value
      );
      break;
    case "xmlLang":
      setValueForNamespacedAttribute(
        domElement,
        "http://www.w3.org/XML/1998/namespace",
        "xml:lang",
        value
      );
      break;
    case "xmlSpace":
      setValueForNamespacedAttribute(
        domElement,
        "http://www.w3.org/XML/1998/namespace",
        "xml:space",
        value
      );
      break;
    case "is":
      setValueForAttribute(domElement, "is", value);
      break;
    case "innerText":
    case "textContent":
      break;
    default:
      if (
        !(2 < key.length) ||
        ("o" !== key[0] && "O" !== key[0]) ||
        ("n" !== key[1] && "N" !== key[1])
      )
        (key = aliases.get(key) || key),
          setValueForAttribute(domElement, key, value);
  }
}
function setPropOnCustomElement(domElement, tag, key, value, props, prevValue) {
  switch (key) {
    case "style":
      setValueForStyles(domElement, value, prevValue);
      break;
    case "dangerouslySetInnerHTML":
      if (null != value) {
        if ("object" !== typeof value || !("__html" in value))
          throw Error(formatProdErrorMessage(61));
        key = value.__html;
        if (null != key) {
          if (null != props.children) throw Error(formatProdErrorMessage(60));
          domElement.innerHTML = key;
        }
      }
      break;
    case "children":
      "string" === typeof value
        ? setTextContent(domElement, value)
        : ("number" === typeof value || "bigint" === typeof value) &&
          setTextContent(domElement, "" + value);
      break;
    case "onScroll":
      null != value && listenToNonDelegatedEvent("scroll", domElement);
      break;
    case "onScrollEnd":
      null != value && listenToNonDelegatedEvent("scrollend", domElement);
      break;
    case "onClick":
      null != value && (domElement.onclick = noop$1);
      break;
    case "suppressContentEditableWarning":
    case "suppressHydrationWarning":
    case "innerHTML":
    case "ref":
      break;
    case "innerText":
    case "textContent":
      break;
    default:
      if (!registrationNameDependencies.hasOwnProperty(key))
        a: {
          if (
            "o" === key[0] &&
            "n" === key[1] &&
            ((props = key.endsWith("Capture")),
            (tag = key.slice(2, props ? key.length - 7 : void 0)),
            (prevValue = domElement[internalPropsKey] || null),
            (prevValue = null != prevValue ? prevValue[key] : null),
            "function" === typeof prevValue &&
              domElement.removeEventListener(tag, prevValue, props),
            "function" === typeof value)
          ) {
            "function" !== typeof prevValue &&
              null !== prevValue &&
              (key in domElement
                ? (domElement[key] = null)
                : domElement.hasAttribute(key) &&
                  domElement.removeAttribute(key));
            domElement.addEventListener(tag, value, props);
            break a;
          }
          key in domElement
            ? (domElement[key] = value)
            : !0 === value
              ? domElement.setAttribute(key, "")
              : setValueForAttribute(domElement, key, value);
        }
  }
}
function setInitialProperties(domElement, tag, props) {
  switch (tag) {
    case "div":
    case "span":
    case "svg":
    case "path":
    case "a":
    case "g":
    case "p":
    case "li":
      break;
    case "img":
      listenToNonDelegatedEvent("error", domElement);
      listenToNonDelegatedEvent("load", domElement);
      var hasSrc = !1,
        hasSrcSet = !1,
        propKey;
      for (propKey in props)
        if (props.hasOwnProperty(propKey)) {
          var propValue = props[propKey];
          if (null != propValue)
            switch (propKey) {
              case "src":
                hasSrc = !0;
                break;
              case "srcSet":
                hasSrcSet = !0;
                break;
              case "children":
              case "dangerouslySetInnerHTML":
                throw Error(formatProdErrorMessage(137, tag));
              default:
                setProp(domElement, tag, propKey, propValue, props, null);
            }
        }
      hasSrcSet &&
        setProp(domElement, tag, "srcSet", props.srcSet, props, null);
      hasSrc && setProp(domElement, tag, "src", props.src, props, null);
      return;
    case "input":
      listenToNonDelegatedEvent("invalid", domElement);
      var defaultValue = (propKey = propValue = hasSrcSet = null),
        checked = null,
        defaultChecked = null;
      for (hasSrc in props)
        if (props.hasOwnProperty(hasSrc)) {
          var propValue$184 = props[hasSrc];
          if (null != propValue$184)
            switch (hasSrc) {
              case "name":
                hasSrcSet = propValue$184;
                break;
              case "type":
                propValue = propValue$184;
                break;
              case "checked":
                checked = propValue$184;
                break;
              case "defaultChecked":
                defaultChecked = propValue$184;
                break;
              case "value":
                propKey = propValue$184;
                break;
              case "defaultValue":
                defaultValue = propValue$184;
                break;
              case "children":
              case "dangerouslySetInnerHTML":
                if (null != propValue$184)
                  throw Error(formatProdErrorMessage(137, tag));
                break;
              default:
                setProp(domElement, tag, hasSrc, propValue$184, props, null);
            }
        }
      initInput(
        domElement,
        propKey,
        defaultValue,
        checked,
        defaultChecked,
        propValue,
        hasSrcSet,
        !1
      );
      return;
    case "select":
      listenToNonDelegatedEvent("invalid", domElement);
      hasSrc = propValue = propKey = null;
      for (hasSrcSet in props)
        if (
          props.hasOwnProperty(hasSrcSet) &&
          ((defaultValue = props[hasSrcSet]), null != defaultValue)
        )
          switch (hasSrcSet) {
            case "value":
              propKey = defaultValue;
              break;
            case "defaultValue":
              propValue = defaultValue;
              break;
            case "multiple":
              hasSrc = defaultValue;
            default:
              setProp(domElement, tag, hasSrcSet, defaultValue, props, null);
          }
      tag = propKey;
      props = propValue;
      domElement.multiple = !!hasSrc;
      null != tag
        ? updateOptions(domElement, !!hasSrc, tag, !1)
        : null != props && updateOptions(domElement, !!hasSrc, props, !0);
      return;
    case "textarea":
      listenToNonDelegatedEvent("invalid", domElement);
      propKey = hasSrcSet = hasSrc = null;
      for (propValue in props)
        if (
          props.hasOwnProperty(propValue) &&
          ((defaultValue = props[propValue]), null != defaultValue)
        )
          switch (propValue) {
            case "value":
              hasSrc = defaultValue;
              break;
            case "defaultValue":
              hasSrcSet = defaultValue;
              break;
            case "children":
              propKey = defaultValue;
              break;
            case "dangerouslySetInnerHTML":
              if (null != defaultValue) throw Error(formatProdErrorMessage(91));
              break;
            default:
              setProp(domElement, tag, propValue, defaultValue, props, null);
          }
      initTextarea(domElement, hasSrc, hasSrcSet, propKey);
      return;
    case "option":
      for (checked in props)
        if (
          props.hasOwnProperty(checked) &&
          ((hasSrc = props[checked]), null != hasSrc)
        )
          switch (checked) {
            case "selected":
              domElement.selected =
                hasSrc &&
                "function" !== typeof hasSrc &&
                "symbol" !== typeof hasSrc;
              break;
            default:
              setProp(domElement, tag, checked, hasSrc, props, null);
          }
      return;
    case "dialog":
      listenToNonDelegatedEvent("beforetoggle", domElement);
      listenToNonDelegatedEvent("toggle", domElement);
      listenToNonDelegatedEvent("cancel", domElement);
      listenToNonDelegatedEvent("close", domElement);
      break;
    case "iframe":
    case "object":
      listenToNonDelegatedEvent("load", domElement);
      break;
    case "video":
    case "audio":
      for (hasSrc = 0; hasSrc < mediaEventTypes.length; hasSrc++)
        listenToNonDelegatedEvent(mediaEventTypes[hasSrc], domElement);
      break;
    case "image":
      listenToNonDelegatedEvent("error", domElement);
      listenToNonDelegatedEvent("load", domElement);
      break;
    case "details":
      listenToNonDelegatedEvent("toggle", domElement);
      break;
    case "embed":
    case "source":
    case "link":
      listenToNonDelegatedEvent("error", domElement),
        listenToNonDelegatedEvent("load", domElement);
    case "area":
    case "base":
    case "br":
    case "col":
    case "hr":
    case "keygen":
    case "meta":
    case "param":
    case "track":
    case "wbr":
    case "menuitem":
      for (defaultChecked in props)
        if (
          props.hasOwnProperty(defaultChecked) &&
          ((hasSrc = props[defaultChecked]), null != hasSrc)
        )
          switch (defaultChecked) {
            case "children":
            case "dangerouslySetInnerHTML":
              throw Error(formatProdErrorMessage(137, tag));
            default:
              setProp(domElement, tag, defaultChecked, hasSrc, props, null);
          }
      return;
    default:
      if (isCustomElement(tag)) {
        for (propValue$184 in props)
          props.hasOwnProperty(propValue$184) &&
            ((hasSrc = props[propValue$184]),
            void 0 !== hasSrc &&
              setPropOnCustomElement(
                domElement,
                tag,
                propValue$184,
                hasSrc,
                props,
                void 0
              ));
        return;
      }
  }
  for (defaultValue in props)
    props.hasOwnProperty(defaultValue) &&
      ((hasSrc = props[defaultValue]),
      null != hasSrc &&
        setProp(domElement, tag, defaultValue, hasSrc, props, null));
}
function updateProperties(domElement, tag, lastProps, nextProps) {
  switch (tag) {
    case "div":
    case "span":
    case "svg":
    case "path":
    case "a":
    case "g":
    case "p":
    case "li":
      break;
    case "input":
      var name = null,
        type = null,
        value = null,
        defaultValue = null,
        lastDefaultValue = null,
        checked = null,
        defaultChecked = null;
      for (propKey in lastProps) {
        var lastProp = lastProps[propKey];
        if (lastProps.hasOwnProperty(propKey) && null != lastProp)
          switch (propKey) {
            case "checked":
              break;
            case "value":
              break;
            case "defaultValue":
              lastDefaultValue = lastProp;
            default:
              nextProps.hasOwnProperty(propKey) ||
                setProp(domElement, tag, propKey, null, nextProps, lastProp);
          }
      }
      for (var propKey$201 in nextProps) {
        var propKey = nextProps[propKey$201];
        lastProp = lastProps[propKey$201];
        if (
          nextProps.hasOwnProperty(propKey$201) &&
          (null != propKey || null != lastProp)
        )
          switch (propKey$201) {
            case "type":
              type = propKey;
              break;
            case "name":
              name = propKey;
              break;
            case "checked":
              checked = propKey;
              break;
            case "defaultChecked":
              defaultChecked = propKey;
              break;
            case "value":
              value = propKey;
              break;
            case "defaultValue":
              defaultValue = propKey;
              break;
            case "children":
            case "dangerouslySetInnerHTML":
              if (null != propKey)
                throw Error(formatProdErrorMessage(137, tag));
              break;
            default:
              propKey !== lastProp &&
                setProp(
                  domElement,
                  tag,
                  propKey$201,
                  propKey,
                  nextProps,
                  lastProp
                );
          }
      }
      updateInput(
        domElement,
        value,
        defaultValue,
        lastDefaultValue,
        checked,
        defaultChecked,
        type,
        name
      );
      return;
    case "select":
      propKey = value = defaultValue = propKey$201 = null;
      for (type in lastProps)
        if (
          ((lastDefaultValue = lastProps[type]),
          lastProps.hasOwnProperty(type) && null != lastDefaultValue)
        )
          switch (type) {
            case "value":
              break;
            case "multiple":
              propKey = lastDefaultValue;
            default:
              nextProps.hasOwnProperty(type) ||
                setProp(
                  domElement,
                  tag,
                  type,
                  null,
                  nextProps,
                  lastDefaultValue
                );
          }
      for (name in nextProps)
        if (
          ((type = nextProps[name]),
          (lastDefaultValue = lastProps[name]),
          nextProps.hasOwnProperty(name) &&
            (null != type || null != lastDefaultValue))
        )
          switch (name) {
            case "value":
              propKey$201 = type;
              break;
            case "defaultValue":
              defaultValue = type;
              break;
            case "multiple":
              value = type;
            default:
              type !== lastDefaultValue &&
                setProp(
                  domElement,
                  tag,
                  name,
                  type,
                  nextProps,
                  lastDefaultValue
                );
          }
      tag = defaultValue;
      lastProps = value;
      nextProps = propKey;
      null != propKey$201
        ? updateOptions(domElement, !!lastProps, propKey$201, !1)
        : !!nextProps !== !!lastProps &&
          (null != tag
            ? updateOptions(domElement, !!lastProps, tag, !0)
            : updateOptions(domElement, !!lastProps, lastProps ? [] : "", !1));
      return;
    case "textarea":
      propKey = propKey$201 = null;
      for (defaultValue in lastProps)
        if (
          ((name = lastProps[defaultValue]),
          lastProps.hasOwnProperty(defaultValue) &&
            null != name &&
            !nextProps.hasOwnProperty(defaultValue))
        )
          switch (defaultValue) {
            case "value":
              break;
            case "children":
              break;
            default:
              setProp(domElement, tag, defaultValue, null, nextProps, name);
          }
      for (value in nextProps)
        if (
          ((name = nextProps[value]),
          (type = lastProps[value]),
          nextProps.hasOwnProperty(value) && (null != name || null != type))
        )
          switch (value) {
            case "value":
              propKey$201 = name;
              break;
            case "defaultValue":
              propKey = name;
              break;
            case "children":
              break;
            case "dangerouslySetInnerHTML":
              if (null != name) throw Error(formatProdErrorMessage(91));
              break;
            default:
              name !== type &&
                setProp(domElement, tag, value, name, nextProps, type);
          }
      updateTextarea(domElement, propKey$201, propKey);
      return;
    case "option":
      for (var propKey$217 in lastProps)
        if (
          ((propKey$201 = lastProps[propKey$217]),
          lastProps.hasOwnProperty(propKey$217) &&
            null != propKey$201 &&
            !nextProps.hasOwnProperty(propKey$217))
        )
          switch (propKey$217) {
            case "selected":
              domElement.selected = !1;
              break;
            default:
              setProp(
                domElement,
                tag,
                propKey$217,
                null,
                nextProps,
                propKey$201
              );
          }
      for (lastDefaultValue in nextProps)
        if (
          ((propKey$201 = nextProps[lastDefaultValue]),
          (propKey = lastProps[lastDefaultValue]),
          nextProps.hasOwnProperty(lastDefaultValue) &&
            propKey$201 !== propKey &&
            (null != propKey$201 || null != propKey))
        )
          switch (lastDefaultValue) {
            case "selected":
              domElement.selected =
                propKey$201 &&
                "function" !== typeof propKey$201 &&
                "symbol" !== typeof propKey$201;
              break;
            default:
              setProp(
                domElement,
                tag,
                lastDefaultValue,
                propKey$201,
                nextProps,
                propKey
              );
          }
      return;
    case "img":
    case "link":
    case "area":
    case "base":
    case "br":
    case "col":
    case "embed":
    case "hr":
    case "keygen":
    case "meta":
    case "param":
    case "source":
    case "track":
    case "wbr":
    case "menuitem":
      for (var propKey$222 in lastProps)
        (propKey$201 = lastProps[propKey$222]),
          lastProps.hasOwnProperty(propKey$222) &&
            null != propKey$201 &&
            !nextProps.hasOwnProperty(propKey$222) &&
            setProp(domElement, tag, propKey$222, null, nextProps, propKey$201);
      for (checked in nextProps)
        if (
          ((propKey$201 = nextProps[checked]),
          (propKey = lastProps[checked]),
          nextProps.hasOwnProperty(checked) &&
            propKey$201 !== propKey &&
            (null != propKey$201 || null != propKey))
        )
          switch (checked) {
            case "children":
            case "dangerouslySetInnerHTML":
              if (null != propKey$201)
                throw Error(formatProdErrorMessage(137, tag));
              break;
            default:
              setProp(
                domElement,
                tag,
                checked,
                propKey$201,
                nextProps,
                propKey
              );
          }
      return;
    default:
      if (isCustomElement(tag)) {
        for (var propKey$227 in lastProps)
          (propKey$201 = lastProps[propKey$227]),
            lastProps.hasOwnProperty(propKey$227) &&
              void 0 !== propKey$201 &&
              !nextProps.hasOwnProperty(propKey$227) &&
              setPropOnCustomElement(
                domElement,
                tag,
                propKey$227,
                void 0,
                nextProps,
                propKey$201
              );
        for (defaultChecked in nextProps)
          (propKey$201 = nextProps[defaultChecked]),
            (propKey = lastProps[defaultChecked]),
            !nextProps.hasOwnProperty(defaultChecked) ||
              propKey$201 === propKey ||
              (void 0 === propKey$201 && void 0 === propKey) ||
              setPropOnCustomElement(
                domElement,
                tag,
                defaultChecked,
                propKey$201,
                nextProps,
                propKey
              );
        return;
      }
  }
  for (var propKey$232 in lastProps)
    (propKey$201 = lastProps[propKey$232]),
      lastProps.hasOwnProperty(propKey$232) &&
        null != propKey$201 &&
        !nextProps.hasOwnProperty(propKey$232) &&
        setProp(domElement, tag, propKey$232, null, nextProps, propKey$201);
  for (lastProp in nextProps)
    (propKey$201 = nextProps[lastProp]),
      (propKey = lastProps[lastProp]),
      !nextProps.hasOwnProperty(lastProp) ||
        propKey$201 === propKey ||
        (null == propKey$201 && null == propKey) ||
        setProp(domElement, tag, lastProp, propKey$201, nextProps, propKey);
}
function isLikelyStaticResource(initiatorType) {
  switch (initiatorType) {
    case "css":
    case "script":
    case "font":
    case "img":
    case "image":
    case "input":
    case "link":
      return !0;
    default:
      return !1;
  }
}
function estimateBandwidth() {
  if ("function" === typeof performance.getEntriesByType) {
    for (
      var count = 0,
        bits = 0,
        resourceEntries = performance.getEntriesByType("resource"),
        i = 0;
      i < resourceEntries.length;
      i++
    ) {
      var entry = resourceEntries[i],
        transferSize = entry.transferSize,
        initiatorType = entry.initiatorType,
        duration = entry.duration;
      if (transferSize && duration && isLikelyStaticResource(initiatorType)) {
        initiatorType = 0;
        duration = entry.responseEnd;
        for (i += 1; i < resourceEntries.length; i++) {
          var overlapEntry = resourceEntries[i],
            overlapStartTime = overlapEntry.startTime;
          if (overlapStartTime > duration) break;
          var overlapTransferSize = overlapEntry.transferSize,
            overlapInitiatorType = overlapEntry.initiatorType;
          overlapTransferSize &&
            isLikelyStaticResource(overlapInitiatorType) &&
            ((overlapEntry = overlapEntry.responseEnd),
            (initiatorType +=
              overlapTransferSize *
              (overlapEntry < duration
                ? 1
                : (duration - overlapStartTime) /
                  (overlapEntry - overlapStartTime))));
        }
        --i;
        bits += (8 * (transferSize + initiatorType)) / (entry.duration / 1e3);
        count++;
        if (10 < count) break;
      }
    }
    if (0 < count) return bits / count / 1e6;
  }
  return navigator.connection &&
    ((count = navigator.connection.downlink), "number" === typeof count)
    ? count
    : 5;
}
var eventsEnabled = null,
  selectionInformation = null;
function getOwnerDocumentFromRootContainer(rootContainerElement) {
  return 9 === rootContainerElement.nodeType
    ? rootContainerElement
    : rootContainerElement.ownerDocument;
}
function getOwnHostContext(namespaceURI) {
  switch (namespaceURI) {
    case "http://www.w3.org/2000/svg":
      return 1;
    case "http://www.w3.org/1998/Math/MathML":
      return 2;
    default:
      return 0;
  }
}
function getChildHostContextProd(parentNamespace, type) {
  if (0 === parentNamespace)
    switch (type) {
      case "svg":
        return 1;
      case "math":
        return 2;
      default:
        return 0;
    }
  return 1 === parentNamespace && "foreignObject" === type
    ? 0
    : parentNamespace;
}
function shouldSetTextContent(type, props) {
  return (
    "textarea" === type ||
    "noscript" === type ||
    "string" === typeof props.children ||
    "number" === typeof props.children ||
    "bigint" === typeof props.children ||
    ("object" === typeof props.dangerouslySetInnerHTML &&
      null !== props.dangerouslySetInnerHTML &&
      null != props.dangerouslySetInnerHTML.__html)
  );
}
var currentPopstateTransitionEvent = null;
function shouldAttemptEagerTransition() {
  var event = window.event;
  if (event && "popstate" === event.type) {
    if (event === currentPopstateTransitionEvent) return !1;
    currentPopstateTransitionEvent = event;
    return !0;
  }
  currentPopstateTransitionEvent = null;
  return !1;
}
var scheduleTimeout = "function" === typeof setTimeout ? setTimeout : void 0,
  cancelTimeout = "function" === typeof clearTimeout ? clearTimeout : void 0,
  localPromise = "function" === typeof Promise ? Promise : void 0,
  scheduleMicrotask =
    "function" === typeof queueMicrotask
      ? queueMicrotask
      : "undefined" !== typeof localPromise
        ? function (callback) {
            return localPromise
              .resolve(null)
              .then(callback)
              .catch(handleErrorInNextTick);
          }
        : scheduleTimeout;
function handleErrorInNextTick(error) {
  setTimeout(function () {
    throw error;
  });
}
function isSingletonScope(type) {
  return "head" === type;
}
function clearHydrationBoundary(parentInstance, hydrationInstance) {
  var node = hydrationInstance,
    depth = 0;
  do {
    var nextNode = node.nextSibling;
    parentInstance.removeChild(node);
    if (nextNode && 8 === nextNode.nodeType)
      if (((node = nextNode.data), "/$" === node || "/&" === node)) {
        if (0 === depth) {
          parentInstance.removeChild(nextNode);
          retryIfBlockedOn(hydrationInstance);
          return;
        }
        depth--;
      } else if (
        "$" === node ||
        "$?" === node ||
        "$~" === node ||
        "$!" === node ||
        "&" === node
      )
        depth++;
      else if ("html" === node)
        releaseSingletonInstance(parentInstance.ownerDocument.documentElement);
      else if ("head" === node) {
        node = parentInstance.ownerDocument.head;
        releaseSingletonInstance(node);
        for (var node$jscomp$0 = node.firstChild; node$jscomp$0; ) {
          var nextNode$jscomp$0 = node$jscomp$0.nextSibling,
            nodeName = node$jscomp$0.nodeName;
          node$jscomp$0[internalHoistableMarker] ||
            "SCRIPT" === nodeName ||
            "STYLE" === nodeName ||
            ("LINK" === nodeName &&
              "stylesheet" === node$jscomp$0.rel.toLowerCase()) ||
            node.removeChild(node$jscomp$0);
          node$jscomp$0 = nextNode$jscomp$0;
        }
      } else
        "body" === node &&
          releaseSingletonInstance(parentInstance.ownerDocument.body);
    node = nextNode;
  } while (node);
  retryIfBlockedOn(hydrationInstance);
}
function hideOrUnhideDehydratedBoundary(suspenseInstance, isHidden) {
  var node = suspenseInstance;
  suspenseInstance = 0;
  do {
    var nextNode = node.nextSibling;
    1 === node.nodeType
      ? isHidden
        ? ((node._stashedDisplay = node.style.display),
          (node.style.display = "none"))
        : ((node.style.display = node._stashedDisplay || ""),
          "" === node.getAttribute("style") && node.removeAttribute("style"))
      : 3 === node.nodeType &&
        (isHidden
          ? ((node._stashedText = node.nodeValue), (node.nodeValue = ""))
          : (node.nodeValue = node._stashedText || ""));
    if (nextNode && 8 === nextNode.nodeType)
      if (((node = nextNode.data), "/$" === node))
        if (0 === suspenseInstance) break;
        else suspenseInstance--;
      else
        ("$" !== node && "$?" !== node && "$~" !== node && "$!" !== node) ||
          suspenseInstance++;
    node = nextNode;
  } while (node);
}
function clearContainerSparingly(container) {
  var nextNode = container.firstChild;
  nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);
  for (; nextNode; ) {
    var node = nextNode;
    nextNode = nextNode.nextSibling;
    switch (node.nodeName) {
      case "HTML":
      case "HEAD":
      case "BODY":
        clearContainerSparingly(node);
        detachDeletedInstance(node);
        continue;
      case "SCRIPT":
      case "STYLE":
        continue;
      case "LINK":
        if ("stylesheet" === node.rel.toLowerCase()) continue;
    }
    container.removeChild(node);
  }
}
function canHydrateInstance(instance, type, props, inRootOrSingleton) {
  for (; 1 === instance.nodeType; ) {
    var anyProps = props;
    if (instance.nodeName.toLowerCase() !== type.toLowerCase()) {
      if (
        !inRootOrSingleton &&
        ("INPUT" !== instance.nodeName || "hidden" !== instance.type)
      )
        break;
    } else if (!inRootOrSingleton)
      if ("input" === type && "hidden" === instance.type) {
        var name = null == anyProps.name ? null : "" + anyProps.name;
        if (
          "hidden" === anyProps.type &&
          instance.getAttribute("name") === name
        )
          return instance;
      } else return instance;
    else if (!instance[internalHoistableMarker])
      switch (type) {
        case "meta":
          if (!instance.hasAttribute("itemprop")) break;
          return instance;
        case "link":
          name = instance.getAttribute("rel");
          if ("stylesheet" === name && instance.hasAttribute("data-precedence"))
            break;
          else if (
            name !== anyProps.rel ||
            instance.getAttribute("href") !==
              (null == anyProps.href || "" === anyProps.href
                ? null
                : anyProps.href) ||
            instance.getAttribute("crossorigin") !==
              (null == anyProps.crossOrigin ? null : anyProps.crossOrigin) ||
            instance.getAttribute("title") !==
              (null == anyProps.title ? null : anyProps.title)
          )
            break;
          return instance;
        case "style":
          if (instance.hasAttribute("data-precedence")) break;
          return instance;
        case "script":
          name = instance.getAttribute("src");
          if (
            (name !== (null == anyProps.src ? null : anyProps.src) ||
              instance.getAttribute("type") !==
                (null == anyProps.type ? null : anyProps.type) ||
              instance.getAttribute("crossorigin") !==
                (null == anyProps.crossOrigin ? null : anyProps.crossOrigin)) &&
            name &&
            instance.hasAttribute("async") &&
            !instance.hasAttribute("itemprop")
          )
            break;
          return instance;
        default:
          return instance;
      }
    instance = getNextHydratable(instance.nextSibling);
    if (null === instance) break;
  }
  return null;
}
function canHydrateTextInstance(instance, text, inRootOrSingleton) {
  if ("" === text) return null;
  for (; 3 !== instance.nodeType; ) {
    if (
      (1 !== instance.nodeType ||
        "INPUT" !== instance.nodeName ||
        "hidden" !== instance.type) &&
      !inRootOrSingleton
    )
      return null;
    instance = getNextHydratable(instance.nextSibling);
    if (null === instance) return null;
  }
  return instance;
}
function canHydrateHydrationBoundary(instance, inRootOrSingleton) {
  for (; 8 !== instance.nodeType; ) {
    if (
      (1 !== instance.nodeType ||
        "INPUT" !== instance.nodeName ||
        "hidden" !== instance.type) &&
      !inRootOrSingleton
    )
      return null;
    instance = getNextHydratable(instance.nextSibling);
    if (null === instance) return null;
  }
  return instance;
}
function isSuspenseInstancePending(instance) {
  return "$?" === instance.data || "$~" === instance.data;
}
function isSuspenseInstanceFallback(instance) {
  return (
    "$!" === instance.data ||
    ("$?" === instance.data && "loading" !== instance.ownerDocument.readyState)
  );
}
function registerSuspenseInstanceRetry(instance, callback) {
  var ownerDocument = instance.ownerDocument;
  if ("$~" === instance.data) instance._reactRetry = callback;
  else if ("$?" !== instance.data || "loading" !== ownerDocument.readyState)
    callback();
  else {
    var listener = function () {
      callback();
      ownerDocument.removeEventListener("DOMContentLoaded", listener);
    };
    ownerDocument.addEventListener("DOMContentLoaded", listener);
    instance._reactRetry = listener;
  }
}
function getNextHydratable(node) {
  for (; null != node; node = node.nextSibling) {
    var nodeType = node.nodeType;
    if (1 === nodeType || 3 === nodeType) break;
    if (8 === nodeType) {
      nodeType = node.data;
      if (
        "$" === nodeType ||
        "$!" === nodeType ||
        "$?" === nodeType ||
        "$~" === nodeType ||
        "&" === nodeType ||
        "F!" === nodeType ||
        "F" === nodeType
      )
        break;
      if ("/$" === nodeType || "/&" === nodeType) return null;
    }
  }
  return node;
}
var previousHydratableOnEnteringScopedSingleton = null;
function getNextHydratableInstanceAfterHydrationBoundary(hydrationInstance) {
  hydrationInstance = hydrationInstance.nextSibling;
  for (var depth = 0; hydrationInstance; ) {
    if (8 === hydrationInstance.nodeType) {
      var data = hydrationInstance.data;
      if ("/$" === data || "/&" === data) {
        if (0 === depth)
          return getNextHydratable(hydrationInstance.nextSibling);
        depth--;
      } else
        ("$" !== data &&
          "$!" !== data &&
          "$?" !== data &&
          "$~" !== data &&
          "&" !== data) ||
          depth++;
    }
    hydrationInstance = hydrationInstance.nextSibling;
  }
  return null;
}
function getParentHydrationBoundary(targetInstance) {
  targetInstance = targetInstance.previousSibling;
  for (var depth = 0; targetInstance; ) {
    if (8 === targetInstance.nodeType) {
      var data = targetInstance.data;
      if (
        "$" === data ||
        "$!" === data ||
        "$?" === data ||
        "$~" === data ||
        "&" === data
      ) {
        if (0 === depth) return targetInstance;
        depth--;
      } else ("/$" !== data && "/&" !== data) || depth++;
    }
    targetInstance = targetInstance.previousSibling;
  }
  return null;
}
function resolveSingletonInstance(type, props, rootContainerInstance) {
  props = getOwnerDocumentFromRootContainer(rootContainerInstance);
  switch (type) {
    case "html":
      type = props.documentElement;
      if (!type) throw Error(formatProdErrorMessage(452));
      return type;
    case "head":
      type = props.head;
      if (!type) throw Error(formatProdErrorMessage(453));
      return type;
    case "body":
      type = props.body;
      if (!type) throw Error(formatProdErrorMessage(454));
      return type;
    default:
      throw Error(formatProdErrorMessage(451));
  }
}
function releaseSingletonInstance(instance) {
  for (var attributes = instance.attributes; attributes.length; )
    instance.removeAttributeNode(attributes[0]);
  detachDeletedInstance(instance);
}
var preloadPropsMap = new Map(),
  preconnectsSet = new Set();
function getHoistableRoot(container) {
  return "function" === typeof container.getRootNode
    ? container.getRootNode()
    : 9 === container.nodeType
      ? container
      : container.ownerDocument;
}
var previousDispatcher = ReactDOMSharedInternals.d;
ReactDOMSharedInternals.d = {
  f: flushSyncWork,
  r: requestFormReset,
  D: prefetchDNS,
  C: preconnect,
  L: preload,
  m: preloadModule,
  X: preinitScript,
  S: preinitStyle,
  M: preinitModuleScript
};
function flushSyncWork() {
  var previousWasRendering = previousDispatcher.f(),
    wasRendering = flushSyncWork$1();
  return previousWasRendering || wasRendering;
}
function requestFormReset(form) {
  var formInst = getInstanceFromNode(form);
  null !== formInst && 5 === formInst.tag && "form" === formInst.type
    ? requestFormReset$1(formInst)
    : previousDispatcher.r(form);
}
var globalDocument = "undefined" === typeof document ? null : document;
function preconnectAs(rel, href, crossOrigin) {
  var ownerDocument = globalDocument;
  if (ownerDocument && "string" === typeof href && href) {
    var limitedEscapedHref =
      escapeSelectorAttributeValueInsideDoubleQuotes(href);
    limitedEscapedHref =
      'link[rel="' + rel + '"][href="' + limitedEscapedHref + '"]';
    "string" === typeof crossOrigin &&
      (limitedEscapedHref += '[crossorigin="' + crossOrigin + '"]');
    preconnectsSet.has(limitedEscapedHref) ||
      (preconnectsSet.add(limitedEscapedHref),
      (rel = { rel: rel, crossOrigin: crossOrigin, href: href }),
      null === ownerDocument.querySelector(limitedEscapedHref) &&
        ((href = ownerDocument.createElement("link")),
        setInitialProperties(href, "link", rel),
        markNodeAsHoistable(href),
        ownerDocument.head.appendChild(href)));
  }
}
function prefetchDNS(href) {
  previousDispatcher.D(href);
  preconnectAs("dns-prefetch", href, null);
}
function preconnect(href, crossOrigin) {
  previousDispatcher.C(href, crossOrigin);
  preconnectAs("preconnect", href, crossOrigin);
}
function preload(href, as, options) {
  previousDispatcher.L(href, as, options);
  var ownerDocument = globalDocument;
  if (ownerDocument && href && as) {
    var preloadSelector =
      'link[rel="preload"][as="' +
      escapeSelectorAttributeValueInsideDoubleQuotes(as) +
      '"]';
    "image" === as
      ? options && options.imageSrcSet
        ? ((preloadSelector +=
            '[imagesrcset="' +
            escapeSelectorAttributeValueInsideDoubleQuotes(
              options.imageSrcSet
            ) +
            '"]'),
          "string" === typeof options.imageSizes &&
            (preloadSelector +=
              '[imagesizes="' +
              escapeSelectorAttributeValueInsideDoubleQuotes(
                options.imageSizes
              ) +
              '"]'))
        : (preloadSelector +=
            '[href="' +
            escapeSelectorAttributeValueInsideDoubleQuotes(href) +
            '"]')
      : (preloadSelector +=
          '[href="' +
          escapeSelectorAttributeValueInsideDoubleQuotes(href) +
          '"]');
    var key = preloadSelector;
    switch (as) {
      case "style":
        key = getStyleKey(href);
        break;
      case "script":
        key = getScriptKey(href);
    }
    preloadPropsMap.has(key) ||
      ((href = assign(
        {
          rel: "preload",
          href:
            "image" === as && options && options.imageSrcSet ? void 0 : href,
          as: as
        },
        options
      )),
      preloadPropsMap.set(key, href),
      null !== ownerDocument.querySelector(preloadSelector) ||
        ("style" === as &&
          ownerDocument.querySelector(getStylesheetSelectorFromKey(key))) ||
        ("script" === as &&
          ownerDocument.querySelector(getScriptSelectorFromKey(key))) ||
        ((as = ownerDocument.createElement("link")),
        setInitialProperties(as, "link", href),
        markNodeAsHoistable(as),
        ownerDocument.head.appendChild(as)));
  }
}
function preloadModule(href, options) {
  previousDispatcher.m(href, options);
  var ownerDocument = globalDocument;
  if (ownerDocument && href) {
    var as = options && "string" === typeof options.as ? options.as : "script",
      preloadSelector =
        'link[rel="modulepreload"][as="' +
        escapeSelectorAttributeValueInsideDoubleQuotes(as) +
        '"][href="' +
        escapeSelectorAttributeValueInsideDoubleQuotes(href) +
        '"]',
      key = preloadSelector;
    switch (as) {
      case "audioworklet":
      case "paintworklet":
      case "serviceworker":
      case "sharedworker":
      case "worker":
      case "script":
        key = getScriptKey(href);
    }
    if (
      !preloadPropsMap.has(key) &&
      ((href = assign({ rel: "modulepreload", href: href }, options)),
      preloadPropsMap.set(key, href),
      null === ownerDocument.querySelector(preloadSelector))
    ) {
      switch (as) {
        case "audioworklet":
        case "paintworklet":
        case "serviceworker":
        case "sharedworker":
        case "worker":
        case "script":
          if (ownerDocument.querySelector(getScriptSelectorFromKey(key)))
            return;
      }
      as = ownerDocument.createElement("link");
      setInitialProperties(as, "link", href);
      markNodeAsHoistable(as);
      ownerDocument.head.appendChild(as);
    }
  }
}
function preinitStyle(href, precedence, options) {
  previousDispatcher.S(href, precedence, options);
  var ownerDocument = globalDocument;
  if (ownerDocument && href) {
    var styles = getResourcesFromRoot(ownerDocument).hoistableStyles,
      key = getStyleKey(href);
    precedence = precedence || "default";
    var resource = styles.get(key);
    if (!resource) {
      var state = { loading: 0, preload: null };
      if (
        (resource = ownerDocument.querySelector(
          getStylesheetSelectorFromKey(key)
        ))
      )
        state.loading = 5;
      else {
        href = assign(
          { rel: "stylesheet", href: href, "data-precedence": precedence },
          options
        );
        (options = preloadPropsMap.get(key)) &&
          adoptPreloadPropsForStylesheet(href, options);
        var link = (resource = ownerDocument.createElement("link"));
        markNodeAsHoistable(link);
        setInitialProperties(link, "link", href);
        link._p = new Promise(function (resolve, reject) {
          link.onload = resolve;
          link.onerror = reject;
        });
        link.addEventListener("load", function () {
          state.loading |= 1;
        });
        link.addEventListener("error", function () {
          state.loading |= 2;
        });
        state.loading |= 4;
        insertStylesheet(resource, precedence, ownerDocument);
      }
      resource = {
        type: "stylesheet",
        instance: resource,
        count: 1,
        state: state
      };
      styles.set(key, resource);
    }
  }
}
function preinitScript(src, options) {
  previousDispatcher.X(src, options);
  var ownerDocument = globalDocument;
  if (ownerDocument && src) {
    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,
      key = getScriptKey(src),
      resource = scripts.get(key);
    resource ||
      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),
      resource ||
        ((src = assign({ src: src, async: !0 }, options)),
        (options = preloadPropsMap.get(key)) &&
          adoptPreloadPropsForScript(src, options),
        (resource = ownerDocument.createElement("script")),
        markNodeAsHoistable(resource),
        setInitialProperties(resource, "link", src),
        ownerDocument.head.appendChild(resource)),
      (resource = {
        type: "script",
        instance: resource,
        count: 1,
        state: null
      }),
      scripts.set(key, resource));
  }
}
function preinitModuleScript(src, options) {
  previousDispatcher.M(src, options);
  var ownerDocument = globalDocument;
  if (ownerDocument && src) {
    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,
      key = getScriptKey(src),
      resource = scripts.get(key);
    resource ||
      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),
      resource ||
        ((src = assign({ src: src, async: !0, type: "module" }, options)),
        (options = preloadPropsMap.get(key)) &&
          adoptPreloadPropsForScript(src, options),
        (resource = ownerDocument.createElement("script")),
        markNodeAsHoistable(resource),
        setInitialProperties(resource, "link", src),
        ownerDocument.head.appendChild(resource)),
      (resource = {
        type: "script",
        instance: resource,
        count: 1,
        state: null
      }),
      scripts.set(key, resource));
  }
}
function getResource(type, currentProps, pendingProps, currentResource) {
  var JSCompiler_inline_result = (JSCompiler_inline_result =
    rootInstanceStackCursor.current)
    ? getHoistableRoot(JSCompiler_inline_result)
    : null;
  if (!JSCompiler_inline_result) throw Error(formatProdErrorMessage(446));
  switch (type) {
    case "meta":
    case "title":
      return null;
    case "style":
      return "string" === typeof pendingProps.precedence &&
        "string" === typeof pendingProps.href
        ? ((currentProps = getStyleKey(pendingProps.href)),
          (pendingProps = getResourcesFromRoot(
            JSCompiler_inline_result
          ).hoistableStyles),
          (currentResource = pendingProps.get(currentProps)),
          currentResource ||
            ((currentResource = {
              type: "style",
              instance: null,
              count: 0,
              state: null
            }),
            pendingProps.set(currentProps, currentResource)),
          currentResource)
        : { type: "void", instance: null, count: 0, state: null };
    case "link":
      if (
        "stylesheet" === pendingProps.rel &&
        "string" === typeof pendingProps.href &&
        "string" === typeof pendingProps.precedence
      ) {
        type = getStyleKey(pendingProps.href);
        var styles$243 = getResourcesFromRoot(
            JSCompiler_inline_result
          ).hoistableStyles,
          resource$244 = styles$243.get(type);
        resource$244 ||
          ((JSCompiler_inline_result =
            JSCompiler_inline_result.ownerDocument || JSCompiler_inline_result),
          (resource$244 = {
            type: "stylesheet",
            instance: null,
            count: 0,
            state: { loading: 0, preload: null }
          }),
          styles$243.set(type, resource$244),
          (styles$243 = JSCompiler_inline_result.querySelector(
            getStylesheetSelectorFromKey(type)
          )) &&
            !styles$243._p &&
            ((resource$244.instance = styles$243),
            (resource$244.state.loading = 5)),
          preloadPropsMap.has(type) ||
            ((pendingProps = {
              rel: "preload",
              as: "style",
              href: pendingProps.href,
              crossOrigin: pendingProps.crossOrigin,
              integrity: pendingProps.integrity,
              media: pendingProps.media,
              hrefLang: pendingProps.hrefLang,
              referrerPolicy: pendingProps.referrerPolicy
            }),
            preloadPropsMap.set(type, pendingProps),
            styles$243 ||
              preloadStylesheet(
                JSCompiler_inline_result,
                type,
                pendingProps,
                resource$244.state
              )));
        if (currentProps && null === currentResource)
          throw Error(formatProdErrorMessage(528, ""));
        return resource$244;
      }
      if (currentProps && null !== currentResource)
        throw Error(formatProdErrorMessage(529, ""));
      return null;
    case "script":
      return (
        (currentProps = pendingProps.async),
        (pendingProps = pendingProps.src),
        "string" === typeof pendingProps &&
        currentProps &&
        "function" !== typeof currentProps &&
        "symbol" !== typeof currentProps
          ? ((currentProps = getScriptKey(pendingProps)),
            (pendingProps = getResourcesFromRoot(
              JSCompiler_inline_result
            ).hoistableScripts),
            (currentResource = pendingProps.get(currentProps)),
            currentResource ||
              ((currentResource = {
                type: "script",
                instance: null,
                count: 0,
                state: null
              }),
              pendingProps.set(currentProps, currentResource)),
            currentResource)
          : { type: "void", instance: null, count: 0, state: null }
      );
    default:
      throw Error(formatProdErrorMessage(444, type));
  }
}
function getStyleKey(href) {
  return 'href="' + escapeSelectorAttributeValueInsideDoubleQuotes(href) + '"';
}
function getStylesheetSelectorFromKey(key) {
  return 'link[rel="stylesheet"][' + key + "]";
}
function stylesheetPropsFromRawProps(rawProps) {
  return assign({}, rawProps, {
    "data-precedence": rawProps.precedence,
    precedence: null
  });
}
function preloadStylesheet(ownerDocument, key, preloadProps, state) {
  ownerDocument.querySelector('link[rel="preload"][as="style"][' + key + "]")
    ? (state.loading = 1)
    : ((key = ownerDocument.createElement("link")),
      (state.preload = key),
      key.addEventListener("load", function () {
        return (state.loading |= 1);
      }),
      key.addEventListener("error", function () {
        return (state.loading |= 2);
      }),
      setInitialProperties(key, "link", preloadProps),
      markNodeAsHoistable(key),
      ownerDocument.head.appendChild(key));
}
function getScriptKey(src) {
  return '[src="' + escapeSelectorAttributeValueInsideDoubleQuotes(src) + '"]';
}
function getScriptSelectorFromKey(key) {
  return "script[async]" + key;
}
function acquireResource(hoistableRoot, resource, props) {
  resource.count++;
  if (null === resource.instance)
    switch (resource.type) {
      case "style":
        var instance = hoistableRoot.querySelector(
          'style[data-href~="' +
            escapeSelectorAttributeValueInsideDoubleQuotes(props.href) +
            '"]'
        );
        if (instance)
          return (
            (resource.instance = instance),
            markNodeAsHoistable(instance),
            instance
          );
        var styleProps = assign({}, props, {
          "data-href": props.href,
          "data-precedence": props.precedence,
          href: null,
          precedence: null
        });
        instance = (hoistableRoot.ownerDocument || hoistableRoot).createElement(
          "style"
        );
        markNodeAsHoistable(instance);
        setInitialProperties(instance, "style", styleProps);
        insertStylesheet(instance, props.precedence, hoistableRoot);
        return (resource.instance = instance);
      case "stylesheet":
        styleProps = getStyleKey(props.href);
        var instance$249 = hoistableRoot.querySelector(
          getStylesheetSelectorFromKey(styleProps)
        );
        if (instance$249)
          return (
            (resource.state.loading |= 4),
            (resource.instance = instance$249),
            markNodeAsHoistable(instance$249),
            instance$249
          );
        instance = stylesheetPropsFromRawProps(props);
        (styleProps = preloadPropsMap.get(styleProps)) &&
          adoptPreloadPropsForStylesheet(instance, styleProps);
        instance$249 = (
          hoistableRoot.ownerDocument || hoistableRoot
        ).createElement("link");
        markNodeAsHoistable(instance$249);
        var linkInstance = instance$249;
        linkInstance._p = new Promise(function (resolve, reject) {
          linkInstance.onload = resolve;
          linkInstance.onerror = reject;
        });
        setInitialProperties(instance$249, "link", instance);
        resource.state.loading |= 4;
        insertStylesheet(instance$249, props.precedence, hoistableRoot);
        return (resource.instance = instance$249);
      case "script":
        instance$249 = getScriptKey(props.src);
        if (
          (styleProps = hoistableRoot.querySelector(
            getScriptSelectorFromKey(instance$249)
          ))
        )
          return (
            (resource.instance = styleProps),
            markNodeAsHoistable(styleProps),
            styleProps
          );
        instance = props;
        if ((styleProps = preloadPropsMap.get(instance$249)))
          (instance = assign({}, props)),
            adoptPreloadPropsForScript(instance, styleProps);
        hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;
        styleProps = hoistableRoot.createElement("script");
        markNodeAsHoistable(styleProps);
        setInitialProperties(styleProps, "link", instance);
        hoistableRoot.head.appendChild(styleProps);
        return (resource.instance = styleProps);
      case "void":
        return null;
      default:
        throw Error(formatProdErrorMessage(443, resource.type));
    }
  else
    "stylesheet" === resource.type &&
      0 === (resource.state.loading & 4) &&
      ((instance = resource.instance),
      (resource.state.loading |= 4),
      insertStylesheet(instance, props.precedence, hoistableRoot));
  return resource.instance;
}
function insertStylesheet(instance, precedence, root) {
  for (
    var nodes = root.querySelectorAll(
        'link[rel="stylesheet"][data-precedence],style[data-precedence]'
      ),
      last = nodes.length ? nodes[nodes.length - 1] : null,
      prior = last,
      i = 0;
    i < nodes.length;
    i++
  ) {
    var node = nodes[i];
    if (node.dataset.precedence === precedence) prior = node;
    else if (prior !== last) break;
  }
  prior
    ? prior.parentNode.insertBefore(instance, prior.nextSibling)
    : ((precedence = 9 === root.nodeType ? root.head : root),
      precedence.insertBefore(instance, precedence.firstChild));
}
function adoptPreloadPropsForStylesheet(stylesheetProps, preloadProps) {
  null == stylesheetProps.crossOrigin &&
    (stylesheetProps.crossOrigin = preloadProps.crossOrigin);
  null == stylesheetProps.referrerPolicy &&
    (stylesheetProps.referrerPolicy = preloadProps.referrerPolicy);
  null == stylesheetProps.title && (stylesheetProps.title = preloadProps.title);
}
function adoptPreloadPropsForScript(scriptProps, preloadProps) {
  null == scriptProps.crossOrigin &&
    (scriptProps.crossOrigin = preloadProps.crossOrigin);
  null == scriptProps.referrerPolicy &&
    (scriptProps.referrerPolicy = preloadProps.referrerPolicy);
  null == scriptProps.integrity &&
    (scriptProps.integrity = preloadProps.integrity);
}
var tagCaches = null;
function getHydratableHoistableCache(type, keyAttribute, ownerDocument) {
  if (null === tagCaches) {
    var cache = new Map();
    var caches = (tagCaches = new Map());
    caches.set(ownerDocument, cache);
  } else
    (caches = tagCaches),
      (cache = caches.get(ownerDocument)),
      cache || ((cache = new Map()), caches.set(ownerDocument, cache));
  if (cache.has(type)) return cache;
  cache.set(type, null);
  ownerDocument = ownerDocument.getElementsByTagName(type);
  for (caches = 0; caches < ownerDocument.length; caches++) {
    var node = ownerDocument[caches];
    if (
      !(
        node[internalHoistableMarker] ||
        node[internalInstanceKey] ||
        ("link" === type && "stylesheet" === node.getAttribute("rel"))
      ) &&
      "http://www.w3.org/2000/svg" !== node.namespaceURI
    ) {
      var nodeKey = node.getAttribute(keyAttribute) || "";
      nodeKey = type + nodeKey;
      var existing = cache.get(nodeKey);
      existing ? existing.push(node) : cache.set(nodeKey, [node]);
    }
  }
  return cache;
}
function mountHoistable(hoistableRoot, type, instance) {
  hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;
  hoistableRoot.head.insertBefore(
    instance,
    "title" === type ? hoistableRoot.querySelector("head > title") : null
  );
}
function isHostHoistableType(type, props, hostContext) {
  if (1 === hostContext || null != props.itemProp) return !1;
  switch (type) {
    case "meta":
    case "title":
      return !0;
    case "style":
      if (
        "string" !== typeof props.precedence ||
        "string" !== typeof props.href ||
        "" === props.href
      )
        break;
      return !0;
    case "link":
      if (
        "string" !== typeof props.rel ||
        "string" !== typeof props.href ||
        "" === props.href ||
        props.onLoad ||
        props.onError
      )
        break;
      switch (props.rel) {
        case "stylesheet":
          return (
            (type = props.disabled),
            "string" === typeof props.precedence && null == type
          );
        default:
          return !0;
      }
    case "script":
      if (
        props.async &&
        "function" !== typeof props.async &&
        "symbol" !== typeof props.async &&
        !props.onLoad &&
        !props.onError &&
        props.src &&
        "string" === typeof props.src
      )
        return !0;
  }
  return !1;
}
function preloadResource(resource) {
  return "stylesheet" === resource.type && 0 === (resource.state.loading & 3)
    ? !1
    : !0;
}
function suspendResource(state, hoistableRoot, resource, props) {
  if (
    "stylesheet" === resource.type &&
    ("string" !== typeof props.media ||
      !1 !== matchMedia(props.media).matches) &&
    0 === (resource.state.loading & 4)
  ) {
    if (null === resource.instance) {
      var key = getStyleKey(props.href),
        instance = hoistableRoot.querySelector(
          getStylesheetSelectorFromKey(key)
        );
      if (instance) {
        hoistableRoot = instance._p;
        null !== hoistableRoot &&
          "object" === typeof hoistableRoot &&
          "function" === typeof hoistableRoot.then &&
          (state.count++,
          (state = onUnsuspend.bind(state)),
          hoistableRoot.then(state, state));
        resource.state.loading |= 4;
        resource.instance = instance;
        markNodeAsHoistable(instance);
        return;
      }
      instance = hoistableRoot.ownerDocument || hoistableRoot;
      props = stylesheetPropsFromRawProps(props);
      (key = preloadPropsMap.get(key)) &&
        adoptPreloadPropsForStylesheet(props, key);
      instance = instance.createElement("link");
      markNodeAsHoistable(instance);
      var linkInstance = instance;
      linkInstance._p = new Promise(function (resolve, reject) {
        linkInstance.onload = resolve;
        linkInstance.onerror = reject;
      });
      setInitialProperties(instance, "link", props);
      resource.instance = instance;
    }
    null === state.stylesheets && (state.stylesheets = new Map());
    state.stylesheets.set(resource, hoistableRoot);
    (hoistableRoot = resource.state.preload) &&
      0 === (resource.state.loading & 3) &&
      (state.count++,
      (resource = onUnsuspend.bind(state)),
      hoistableRoot.addEventListener("load", resource),
      hoistableRoot.addEventListener("error", resource));
  }
}
var estimatedBytesWithinLimit = 0;
function waitForCommitToBeReady(state, timeoutOffset) {
  state.stylesheets &&
    0 === state.count &&
    insertSuspendedStylesheets(state, state.stylesheets);
  return 0 < state.count || 0 < state.imgCount
    ? function (commit) {
        var stylesheetTimer = setTimeout(function () {
          state.stylesheets &&
            insertSuspendedStylesheets(state, state.stylesheets);
          if (state.unsuspend) {
            var unsuspend = state.unsuspend;
            state.unsuspend = null;
            unsuspend();
          }
        }, 6e4 + timeoutOffset);
        0 < state.imgBytes &&
          0 === estimatedBytesWithinLimit &&
          (estimatedBytesWithinLimit = 62500 * estimateBandwidth());
        var imgTimer = setTimeout(
          function () {
            state.waitingForImages = !1;
            if (
              0 === state.count &&
              (state.stylesheets &&
                insertSuspendedStylesheets(state, state.stylesheets),
              state.unsuspend)
            ) {
              var unsuspend = state.unsuspend;
              state.unsuspend = null;
              unsuspend();
            }
          },
          (state.imgBytes > estimatedBytesWithinLimit ? 50 : 800) +
            timeoutOffset
        );
        state.unsuspend = commit;
        return function () {
          state.unsuspend = null;
          clearTimeout(stylesheetTimer);
          clearTimeout(imgTimer);
        };
      }
    : null;
}
function onUnsuspend() {
  this.count--;
  if (0 === this.count && (0 === this.imgCount || !this.waitingForImages))
    if (this.stylesheets) insertSuspendedStylesheets(this, this.stylesheets);
    else if (this.unsuspend) {
      var unsuspend = this.unsuspend;
      this.unsuspend = null;
      unsuspend();
    }
}
var precedencesByRoot = null;
function insertSuspendedStylesheets(state, resources) {
  state.stylesheets = null;
  null !== state.unsuspend &&
    (state.count++,
    (precedencesByRoot = new Map()),
    resources.forEach(insertStylesheetIntoRoot, state),
    (precedencesByRoot = null),
    onUnsuspend.call(state));
}
function insertStylesheetIntoRoot(root, resource) {
  if (!(resource.state.loading & 4)) {
    var precedences = precedencesByRoot.get(root);
    if (precedences) var last = precedences.get(null);
    else {
      precedences = new Map();
      precedencesByRoot.set(root, precedences);
      for (
        var nodes = root.querySelectorAll(
            "link[data-precedence],style[data-precedence]"
          ),
          i = 0;
        i < nodes.length;
        i++
      ) {
        var node = nodes[i];
        if (
          "LINK" === node.nodeName ||
          "not all" !== node.getAttribute("media")
        )
          precedences.set(node.dataset.precedence, node), (last = node);
      }
      last && precedences.set(null, last);
    }
    nodes = resource.instance;
    node = nodes.getAttribute("data-precedence");
    i = precedences.get(node) || last;
    i === last && precedences.set(null, nodes);
    precedences.set(node, nodes);
    this.count++;
    last = onUnsuspend.bind(this);
    nodes.addEventListener("load", last);
    nodes.addEventListener("error", last);
    i
      ? i.parentNode.insertBefore(nodes, i.nextSibling)
      : ((root = 9 === root.nodeType ? root.head : root),
        root.insertBefore(nodes, root.firstChild));
    resource.state.loading |= 4;
  }
}
var HostTransitionContext = {
  $$typeof: REACT_CONTEXT_TYPE,
  Provider: null,
  Consumer: null,
  _currentValue: sharedNotPendingObject,
  _currentValue2: sharedNotPendingObject,
  _threadCount: 0
};
function FiberRootNode(
  containerInfo,
  tag,
  hydrate,
  identifierPrefix,
  onUncaughtError,
  onCaughtError,
  onRecoverableError,
  onDefaultTransitionIndicator,
  formState
) {
  this.tag = 1;
  this.containerInfo = containerInfo;
  this.pingCache = this.current = this.pendingChildren = null;
  this.timeoutHandle = -1;
  this.callbackNode =
    this.next =
    this.pendingContext =
    this.context =
    this.cancelPendingCommit =
      null;
  this.callbackPriority = 0;
  this.expirationTimes = createLaneMap(-1);
  this.entangledLanes =
    this.shellSuspendCounter =
    this.errorRecoveryDisabledLanes =
    this.expiredLanes =
    this.warmLanes =
    this.pingedLanes =
    this.suspendedLanes =
    this.pendingLanes =
      0;
  this.entanglements = createLaneMap(0);
  this.hiddenUpdates = createLaneMap(null);
  this.identifierPrefix = identifierPrefix;
  this.onUncaughtError = onUncaughtError;
  this.onCaughtError = onCaughtError;
  this.onRecoverableError = onRecoverableError;
  this.pooledCache = null;
  this.pooledCacheLanes = 0;
  this.formState = formState;
  this.incompleteTransitions = new Map();
}
function createFiberRoot(
  containerInfo,
  tag,
  hydrate,
  initialChildren,
  hydrationCallbacks,
  isStrictMode,
  identifierPrefix,
  formState,
  onUncaughtError,
  onCaughtError,
  onRecoverableError,
  onDefaultTransitionIndicator
) {
  containerInfo = new FiberRootNode(
    containerInfo,
    tag,
    hydrate,
    identifierPrefix,
    onUncaughtError,
    onCaughtError,
    onRecoverableError,
    onDefaultTransitionIndicator,
    formState
  );
  tag = 1;
  !0 === isStrictMode && (tag |= 24);
  isStrictMode = createFiberImplClass(3, null, null, tag);
  containerInfo.current = isStrictMode;
  isStrictMode.stateNode = containerInfo;
  tag = createCache();
  tag.refCount++;
  containerInfo.pooledCache = tag;
  tag.refCount++;
  isStrictMode.memoizedState = {
    element: initialChildren,
    isDehydrated: hydrate,
    cache: tag
  };
  initializeUpdateQueue(isStrictMode);
  return containerInfo;
}
function getContextForSubtree(parentComponent) {
  if (!parentComponent) return emptyContextObject;
  parentComponent = emptyContextObject;
  return parentComponent;
}
function updateContainerImpl(
  rootFiber,
  lane,
  element,
  container,
  parentComponent,
  callback
) {
  parentComponent = getContextForSubtree(parentComponent);
  null === container.context
    ? (container.context = parentComponent)
    : (container.pendingContext = parentComponent);
  container = createUpdate(lane);
  container.payload = { element: element };
  callback = void 0 === callback ? null : callback;
  null !== callback && (container.callback = callback);
  element = enqueueUpdate(rootFiber, container, lane);
  null !== element &&
    (scheduleUpdateOnFiber(element, rootFiber, lane),
    entangleTransitions(element, rootFiber, lane));
}
function markRetryLaneImpl(fiber, retryLane) {
  fiber = fiber.memoizedState;
  if (null !== fiber && null !== fiber.dehydrated) {
    var a = fiber.retryLane;
    fiber.retryLane = 0 !== a && a < retryLane ? a : retryLane;
  }
}
function markRetryLaneIfNotHydrated(fiber, retryLane) {
  markRetryLaneImpl(fiber, retryLane);
  (fiber = fiber.alternate) && markRetryLaneImpl(fiber, retryLane);
}
function attemptContinuousHydration(fiber) {
  if (13 === fiber.tag || 31 === fiber.tag) {
    var root = enqueueConcurrentRenderForLane(fiber, 67108864);
    null !== root && scheduleUpdateOnFiber(root, fiber, 67108864);
    markRetryLaneIfNotHydrated(fiber, 67108864);
  }
}
function attemptHydrationAtCurrentPriority(fiber) {
  if (13 === fiber.tag || 31 === fiber.tag) {
    var lane = requestUpdateLane();
    lane = getBumpedLaneForHydrationByLane(lane);
    var root = enqueueConcurrentRenderForLane(fiber, lane);
    null !== root && scheduleUpdateOnFiber(root, fiber, lane);
    markRetryLaneIfNotHydrated(fiber, lane);
  }
}
var _enabled = !0;
function dispatchDiscreteEvent(
  domEventName,
  eventSystemFlags,
  container,
  nativeEvent
) {
  var prevTransition = ReactSharedInternals.T;
  ReactSharedInternals.T = null;
  var previousPriority = ReactDOMSharedInternals.p;
  try {
    (ReactDOMSharedInternals.p = 2),
      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);
  } finally {
    (ReactDOMSharedInternals.p = previousPriority),
      (ReactSharedInternals.T = prevTransition);
  }
}
function dispatchContinuousEvent(
  domEventName,
  eventSystemFlags,
  container,
  nativeEvent
) {
  var prevTransition = ReactSharedInternals.T;
  ReactSharedInternals.T = null;
  var previousPriority = ReactDOMSharedInternals.p;
  try {
    (ReactDOMSharedInternals.p = 8),
      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);
  } finally {
    (ReactDOMSharedInternals.p = previousPriority),
      (ReactSharedInternals.T = prevTransition);
  }
}
function dispatchEvent(
  domEventName,
  eventSystemFlags,
  targetContainer,
  nativeEvent
) {
  if (_enabled) {
    var blockedOn = findInstanceBlockingEvent(nativeEvent);
    if (null === blockedOn)
      dispatchEventForPluginEventSystem(
        domEventName,
        eventSystemFlags,
        nativeEvent,
        return_targetInst,
        targetContainer
      ),
        clearIfContinuousEvent(domEventName, nativeEvent);
    else if (
      queueIfContinuousEvent(
        blockedOn,
        domEventName,
        eventSystemFlags,
        targetContainer,
        nativeEvent
      )
    )
      nativeEvent.stopPropagation();
    else if (
      (clearIfContinuousEvent(domEventName, nativeEvent),
      eventSystemFlags & 4 &&
        -1 < discreteReplayableEvents.indexOf(domEventName))
    ) {
      for (; null !== blockedOn; ) {
        var fiber = getInstanceFromNode(blockedOn);
        if (null !== fiber)
          switch (fiber.tag) {
            case 3:
              fiber = fiber.stateNode;
              if (fiber.current.memoizedState.isDehydrated) {
                var lanes = getHighestPriorityLanes(fiber.pendingLanes);
                if (0 !== lanes) {
                  var root = fiber;
                  root.pendingLanes |= 2;
                  for (root.entangledLanes |= 2; lanes; ) {
                    var lane = 1 << (31 - clz32(lanes));
                    root.entanglements[1] |= lane;
                    lanes &= ~lane;
                  }
                  ensureRootIsScheduled(fiber);
                  0 === (executionContext & 6) &&
                    ((workInProgressRootRenderTargetTime = now() + 500),
                    flushSyncWorkAcrossRoots_impl(0, !1));
                }
              }
              break;
            case 31:
            case 13:
              (root = enqueueConcurrentRenderForLane(fiber, 2)),
                null !== root && scheduleUpdateOnFiber(root, fiber, 2),
                flushSyncWork$1(),
                markRetryLaneIfNotHydrated(fiber, 2);
          }
        fiber = findInstanceBlockingEvent(nativeEvent);
        null === fiber &&
          dispatchEventForPluginEventSystem(
            domEventName,
            eventSystemFlags,
            nativeEvent,
            return_targetInst,
            targetContainer
          );
        if (fiber === blockedOn) break;
        blockedOn = fiber;
      }
      null !== blockedOn && nativeEvent.stopPropagation();
    } else
      dispatchEventForPluginEventSystem(
        domEventName,
        eventSystemFlags,
        nativeEvent,
        null,
        targetContainer
      );
  }
}
function findInstanceBlockingEvent(nativeEvent) {
  nativeEvent = getEventTarget(nativeEvent);
  return findInstanceBlockingTarget(nativeEvent);
}
var return_targetInst = null;
function findInstanceBlockingTarget(targetNode) {
  return_targetInst = null;
  targetNode = getClosestInstanceFromNode(targetNode);
  if (null !== targetNode) {
    var nearestMounted = getNearestMountedFiber(targetNode);
    if (null === nearestMounted) targetNode = null;
    else {
      var tag = nearestMounted.tag;
      if (13 === tag) {
        targetNode = getSuspenseInstanceFromFiber(nearestMounted);
        if (null !== targetNode) return targetNode;
        targetNode = null;
      } else if (31 === tag) {
        targetNode = getActivityInstanceFromFiber(nearestMounted);
        if (null !== targetNode) return targetNode;
        targetNode = null;
      } else if (3 === tag) {
        if (nearestMounted.stateNode.current.memoizedState.isDehydrated)
          return 3 === nearestMounted.tag
            ? nearestMounted.stateNode.containerInfo
            : null;
        targetNode = null;
      } else nearestMounted !== targetNode && (targetNode = null);
    }
  }
  return_targetInst = targetNode;
  return null;
}
function getEventPriority(domEventName) {
  switch (domEventName) {
    case "beforetoggle":
    case "cancel":
    case "click":
    case "close":
    case "contextmenu":
    case "copy":
    case "cut":
    case "auxclick":
    case "dblclick":
    case "dragend":
    case "dragstart":
    case "drop":
    case "focusin":
    case "focusout":
    case "input":
    case "invalid":
    case "keydown":
    case "keypress":
    case "keyup":
    case "mousedown":
    case "mouseup":
    case "paste":
    case "pause":
    case "play":
    case "pointercancel":
    case "pointerdown":
    case "pointerup":
    case "ratechange":
    case "reset":
    case "resize":
    case "seeked":
    case "submit":
    case "toggle":
    case "touchcancel":
    case "touchend":
    case "touchstart":
    case "volumechange":
    case "change":
    case "selectionchange":
    case "textInput":
    case "compositionstart":
    case "compositionend":
    case "compositionupdate":
    case "beforeblur":
    case "afterblur":
    case "beforeinput":
    case "blur":
    case "fullscreenchange":
    case "focus":
    case "hashchange":
    case "popstate":
    case "select":
    case "selectstart":
      return 2;
    case "drag":
    case "dragenter":
    case "dragexit":
    case "dragleave":
    case "dragover":
    case "mousemove":
    case "mouseout":
    case "mouseover":
    case "pointermove":
    case "pointerout":
    case "pointerover":
    case "scroll":
    case "touchmove":
    case "wheel":
    case "mouseenter":
    case "mouseleave":
    case "pointerenter":
    case "pointerleave":
      return 8;
    case "message":
      switch (getCurrentPriorityLevel()) {
        case ImmediatePriority:
          return 2;
        case UserBlockingPriority:
          return 8;
        case NormalPriority$1:
        case LowPriority:
          return 32;
        case IdlePriority:
          return 268435456;
        default:
          return 32;
      }
    default:
      return 32;
  }
}
var hasScheduledReplayAttempt = !1,
  queuedFocus = null,
  queuedDrag = null,
  queuedMouse = null,
  queuedPointers = new Map(),
  queuedPointerCaptures = new Map(),
  queuedExplicitHydrationTargets = [],
  discreteReplayableEvents =
    "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(
      " "
    );
function clearIfContinuousEvent(domEventName, nativeEvent) {
  switch (domEventName) {
    case "focusin":
    case "focusout":
      queuedFocus = null;
      break;
    case "dragenter":
    case "dragleave":
      queuedDrag = null;
      break;
    case "mouseover":
    case "mouseout":
      queuedMouse = null;
      break;
    case "pointerover":
    case "pointerout":
      queuedPointers.delete(nativeEvent.pointerId);
      break;
    case "gotpointercapture":
    case "lostpointercapture":
      queuedPointerCaptures.delete(nativeEvent.pointerId);
  }
}
function accumulateOrCreateContinuousQueuedReplayableEvent(
  existingQueuedEvent,
  blockedOn,
  domEventName,
  eventSystemFlags,
  targetContainer,
  nativeEvent
) {
  if (
    null === existingQueuedEvent ||
    existingQueuedEvent.nativeEvent !== nativeEvent
  )
    return (
      (existingQueuedEvent = {
        blockedOn: blockedOn,
        domEventName: domEventName,
        eventSystemFlags: eventSystemFlags,
        nativeEvent: nativeEvent,
        targetContainers: [targetContainer]
      }),
      null !== blockedOn &&
        ((blockedOn = getInstanceFromNode(blockedOn)),
        null !== blockedOn && attemptContinuousHydration(blockedOn)),
      existingQueuedEvent
    );
  existingQueuedEvent.eventSystemFlags |= eventSystemFlags;
  blockedOn = existingQueuedEvent.targetContainers;
  null !== targetContainer &&
    -1 === blockedOn.indexOf(targetContainer) &&
    blockedOn.push(targetContainer);
  return existingQueuedEvent;
}
function queueIfContinuousEvent(
  blockedOn,
  domEventName,
  eventSystemFlags,
  targetContainer,
  nativeEvent
) {
  switch (domEventName) {
    case "focusin":
      return (
        (queuedFocus = accumulateOrCreateContinuousQueuedReplayableEvent(
          queuedFocus,
          blockedOn,
          domEventName,
          eventSystemFlags,
          targetContainer,
          nativeEvent
        )),
        !0
      );
    case "dragenter":
      return (
        (queuedDrag = accumulateOrCreateContinuousQueuedReplayableEvent(
          queuedDrag,
          blockedOn,
          domEventName,
          eventSystemFlags,
          targetContainer,
          nativeEvent
        )),
        !0
      );
    case "mouseover":
      return (
        (queuedMouse = accumulateOrCreateContinuousQueuedReplayableEvent(
          queuedMouse,
          blockedOn,
          domEventName,
          eventSystemFlags,
          targetContainer,
          nativeEvent
        )),
        !0
      );
    case "pointerover":
      var pointerId = nativeEvent.pointerId;
      queuedPointers.set(
        pointerId,
        accumulateOrCreateContinuousQueuedReplayableEvent(
          queuedPointers.get(pointerId) || null,
          blockedOn,
          domEventName,
          eventSystemFlags,
          targetContainer,
          nativeEvent
        )
      );
      return !0;
    case "gotpointercapture":
      return (
        (pointerId = nativeEvent.pointerId),
        queuedPointerCaptures.set(
          pointerId,
          accumulateOrCreateContinuousQueuedReplayableEvent(
            queuedPointerCaptures.get(pointerId) || null,
            blockedOn,
            domEventName,
            eventSystemFlags,
            targetContainer,
            nativeEvent
          )
        ),
        !0
      );
  }
  return !1;
}
function attemptExplicitHydrationTarget(queuedTarget) {
  var targetInst = getClosestInstanceFromNode(queuedTarget.target);
  if (null !== targetInst) {
    var nearestMounted = getNearestMountedFiber(targetInst);
    if (null !== nearestMounted)
      if (((targetInst = nearestMounted.tag), 13 === targetInst)) {
        if (
          ((targetInst = getSuspenseInstanceFromFiber(nearestMounted)),
          null !== targetInst)
        ) {
          queuedTarget.blockedOn = targetInst;
          runWithPriority(queuedTarget.priority, function () {
            attemptHydrationAtCurrentPriority(nearestMounted);
          });
          return;
        }
      } else if (31 === targetInst) {
        if (
          ((targetInst = getActivityInstanceFromFiber(nearestMounted)),
          null !== targetInst)
        ) {
          queuedTarget.blockedOn = targetInst;
          runWithPriority(queuedTarget.priority, function () {
            attemptHydrationAtCurrentPriority(nearestMounted);
          });
          return;
        }
      } else if (
        3 === targetInst &&
        nearestMounted.stateNode.current.memoizedState.isDehydrated
      ) {
        queuedTarget.blockedOn =
          3 === nearestMounted.tag
            ? nearestMounted.stateNode.containerInfo
            : null;
        return;
      }
  }
  queuedTarget.blockedOn = null;
}
function attemptReplayContinuousQueuedEvent(queuedEvent) {
  if (null !== queuedEvent.blockedOn) return !1;
  for (
    var targetContainers = queuedEvent.targetContainers;
    0 < targetContainers.length;

  ) {
    var nextBlockedOn = findInstanceBlockingEvent(queuedEvent.nativeEvent);
    if (null === nextBlockedOn) {
      nextBlockedOn = queuedEvent.nativeEvent;
      var nativeEventClone = new nextBlockedOn.constructor(
        nextBlockedOn.type,
        nextBlockedOn
      );
      currentReplayingEvent = nativeEventClone;
      nextBlockedOn.target.dispatchEvent(nativeEventClone);
      currentReplayingEvent = null;
    } else
      return (
        (targetContainers = getInstanceFromNode(nextBlockedOn)),
        null !== targetContainers &&
          attemptContinuousHydration(targetContainers),
        (queuedEvent.blockedOn = nextBlockedOn),
        !1
      );
    targetContainers.shift();
  }
  return !0;
}
function attemptReplayContinuousQueuedEventInMap(queuedEvent, key, map) {
  attemptReplayContinuousQueuedEvent(queuedEvent) && map.delete(key);
}
function replayUnblockedEvents() {
  hasScheduledReplayAttempt = !1;
  null !== queuedFocus &&
    attemptReplayContinuousQueuedEvent(queuedFocus) &&
    (queuedFocus = null);
  null !== queuedDrag &&
    attemptReplayContinuousQueuedEvent(queuedDrag) &&
    (queuedDrag = null);
  null !== queuedMouse &&
    attemptReplayContinuousQueuedEvent(queuedMouse) &&
    (queuedMouse = null);
  queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap);
  queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap);
}
function scheduleCallbackIfUnblocked(queuedEvent, unblocked) {
  queuedEvent.blockedOn === unblocked &&
    ((queuedEvent.blockedOn = null),
    hasScheduledReplayAttempt ||
      ((hasScheduledReplayAttempt = !0),
      Scheduler.unstable_scheduleCallback(
        Scheduler.unstable_NormalPriority,
        replayUnblockedEvents
      )));
}
var lastScheduledReplayQueue = null;
function scheduleReplayQueueIfNeeded(formReplayingQueue) {
  lastScheduledReplayQueue !== formReplayingQueue &&
    ((lastScheduledReplayQueue = formReplayingQueue),
    Scheduler.unstable_scheduleCallback(
      Scheduler.unstable_NormalPriority,
      function () {
        lastScheduledReplayQueue === formReplayingQueue &&
          (lastScheduledReplayQueue = null);
        for (var i = 0; i < formReplayingQueue.length; i += 3) {
          var form = formReplayingQueue[i],
            submitterOrAction = formReplayingQueue[i + 1],
            formData = formReplayingQueue[i + 2];
          if ("function" !== typeof submitterOrAction)
            if (null === findInstanceBlockingTarget(submitterOrAction || form))
              continue;
            else break;
          var formInst = getInstanceFromNode(form);
          null !== formInst &&
            (formReplayingQueue.splice(i, 3),
            (i -= 3),
            startHostTransition(
              formInst,
              {
                pending: !0,
                data: formData,
                method: form.method,
                action: submitterOrAction
              },
              submitterOrAction,
              formData
            ));
        }
      }
    ));
}
function retryIfBlockedOn(unblocked) {
  function unblock(queuedEvent) {
    return scheduleCallbackIfUnblocked(queuedEvent, unblocked);
  }
  null !== queuedFocus && scheduleCallbackIfUnblocked(queuedFocus, unblocked);
  null !== queuedDrag && scheduleCallbackIfUnblocked(queuedDrag, unblocked);
  null !== queuedMouse && scheduleCallbackIfUnblocked(queuedMouse, unblocked);
  queuedPointers.forEach(unblock);
  queuedPointerCaptures.forEach(unblock);
  for (var i = 0; i < queuedExplicitHydrationTargets.length; i++) {
    var queuedTarget = queuedExplicitHydrationTargets[i];
    queuedTarget.blockedOn === unblocked && (queuedTarget.blockedOn = null);
  }
  for (
    ;
    0 < queuedExplicitHydrationTargets.length &&
    ((i = queuedExplicitHydrationTargets[0]), null === i.blockedOn);

  )
    attemptExplicitHydrationTarget(i),
      null === i.blockedOn && queuedExplicitHydrationTargets.shift();
  i = (unblocked.ownerDocument || unblocked).$$reactFormReplay;
  if (null != i)
    for (queuedTarget = 0; queuedTarget < i.length; queuedTarget += 3) {
      var form = i[queuedTarget],
        submitterOrAction = i[queuedTarget + 1],
        formProps = form[internalPropsKey] || null;
      if ("function" === typeof submitterOrAction)
        formProps || scheduleReplayQueueIfNeeded(i);
      else if (formProps) {
        var action = null;
        if (submitterOrAction && submitterOrAction.hasAttribute("formAction"))
          if (
            ((form = submitterOrAction),
            (formProps = submitterOrAction[internalPropsKey] || null))
          )
            action = formProps.formAction;
          else {
            if (null !== findInstanceBlockingTarget(form)) continue;
          }
        else action = formProps.action;
        "function" === typeof action
          ? (i[queuedTarget + 1] = action)
          : (i.splice(queuedTarget, 3), (queuedTarget -= 3));
        scheduleReplayQueueIfNeeded(i);
      }
    }
}
function defaultOnDefaultTransitionIndicator() {
  function handleNavigate(event) {
    event.canIntercept &&
      "react-transition" === event.info &&
      event.intercept({
        handler: function () {
          return new Promise(function (resolve) {
            return (pendingResolve = resolve);
          });
        },
        focusReset: "manual",
        scroll: "manual"
      });
  }
  function handleNavigateComplete() {
    null !== pendingResolve && (pendingResolve(), (pendingResolve = null));
    isCancelled || setTimeout(startFakeNavigation, 20);
  }
  function startFakeNavigation() {
    if (!isCancelled && !navigation.transition) {
      var currentEntry = navigation.currentEntry;
      currentEntry &&
        null != currentEntry.url &&
        navigation.navigate(currentEntry.url, {
          state: currentEntry.getState(),
          info: "react-transition",
          history: "replace"
        });
    }
  }
  if ("object" === typeof navigation) {
    var isCancelled = !1,
      pendingResolve = null;
    navigation.addEventListener("navigate", handleNavigate);
    navigation.addEventListener("navigatesuccess", handleNavigateComplete);
    navigation.addEventListener("navigateerror", handleNavigateComplete);
    setTimeout(startFakeNavigation, 100);
    return function () {
      isCancelled = !0;
      navigation.removeEventListener("navigate", handleNavigate);
      navigation.removeEventListener("navigatesuccess", handleNavigateComplete);
      navigation.removeEventListener("navigateerror", handleNavigateComplete);
      null !== pendingResolve && (pendingResolve(), (pendingResolve = null));
    };
  }
}
function ReactDOMRoot(internalRoot) {
  this._internalRoot = internalRoot;
}
ReactDOMHydrationRoot.prototype.render = ReactDOMRoot.prototype.render =
  function (children) {
    var root = this._internalRoot;
    if (null === root) throw Error(formatProdErrorMessage(409));
    var current = root.current,
      lane = requestUpdateLane();
    updateContainerImpl(current, lane, children, root, null, null);
  };
ReactDOMHydrationRoot.prototype.unmount = ReactDOMRoot.prototype.unmount =
  function () {
    var root = this._internalRoot;
    if (null !== root) {
      this._internalRoot = null;
      var container = root.containerInfo;
      updateContainerImpl(root.current, 2, null, root, null, null);
      flushSyncWork$1();
      container[internalContainerInstanceKey] = null;
    }
  };
function ReactDOMHydrationRoot(internalRoot) {
  this._internalRoot = internalRoot;
}
ReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {
  if (target) {
    var updatePriority = resolveUpdatePriority();
    target = { blockedOn: null, target: target, priority: updatePriority };
    for (
      var i = 0;
      i < queuedExplicitHydrationTargets.length &&
      0 !== updatePriority &&
      updatePriority < queuedExplicitHydrationTargets[i].priority;
      i++
    );
    queuedExplicitHydrationTargets.splice(i, 0, target);
    0 === i && attemptExplicitHydrationTarget(target);
  }
};
var isomorphicReactPackageVersion$jscomp$inline_1840 = React.version;
if (
  "19.2.3" !==
  isomorphicReactPackageVersion$jscomp$inline_1840
)
  throw Error(
    formatProdErrorMessage(
      527,
      isomorphicReactPackageVersion$jscomp$inline_1840,
      "19.2.3"
    )
  );
ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {
  var fiber = componentOrElement._reactInternals;
  if (void 0 === fiber) {
    if ("function" === typeof componentOrElement.render)
      throw Error(formatProdErrorMessage(188));
    componentOrElement = Object.keys(componentOrElement).join(",");
    throw Error(formatProdErrorMessage(268, componentOrElement));
  }
  componentOrElement = findCurrentFiberUsingSlowPath(fiber);
  componentOrElement =
    null !== componentOrElement
      ? findCurrentHostFiberImpl(componentOrElement)
      : null;
  componentOrElement =
    null === componentOrElement ? null : componentOrElement.stateNode;
  return componentOrElement;
};
var internals$jscomp$inline_2347 = {
  bundleType: 0,
  version: "19.2.3",
  rendererPackageName: "react-dom",
  currentDispatcherRef: ReactSharedInternals,
  reconcilerVersion: "19.2.3"
};
if ("undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {
  var hook$jscomp$inline_2348 = __REACT_DEVTOOLS_GLOBAL_HOOK__;
  if (
    !hook$jscomp$inline_2348.isDisabled &&
    hook$jscomp$inline_2348.supportsFiber
  )
    try {
      (rendererID = hook$jscomp$inline_2348.inject(
        internals$jscomp$inline_2347
      )),
        (injectedHook = hook$jscomp$inline_2348);
    } catch (err) {}
}
exports.createRoot = function (container, options) {
  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));
  var isStrictMode = !1,
    identifierPrefix = "",
    onUncaughtError = defaultOnUncaughtError,
    onCaughtError = defaultOnCaughtError,
    onRecoverableError = defaultOnRecoverableError;
  null !== options &&
    void 0 !== options &&
    (!0 === options.unstable_strictMode && (isStrictMode = !0),
    void 0 !== options.identifierPrefix &&
      (identifierPrefix = options.identifierPrefix),
    void 0 !== options.onUncaughtError &&
      (onUncaughtError = options.onUncaughtError),
    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),
    void 0 !== options.onRecoverableError &&
      (onRecoverableError = options.onRecoverableError));
  options = createFiberRoot(
    container,
    1,
    !1,
    null,
    null,
    isStrictMode,
    identifierPrefix,
    null,
    onUncaughtError,
    onCaughtError,
    onRecoverableError,
    defaultOnDefaultTransitionIndicator
  );
  container[internalContainerInstanceKey] = options.current;
  listenToAllSupportedEvents(container);
  return new ReactDOMRoot(options);
};
exports.hydrateRoot = function (container, initialChildren, options) {
  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));
  var isStrictMode = !1,
    identifierPrefix = "",
    onUncaughtError = defaultOnUncaughtError,
    onCaughtError = defaultOnCaughtError,
    onRecoverableError = defaultOnRecoverableError,
    formState = null;
  null !== options &&
    void 0 !== options &&
    (!0 === options.unstable_strictMode && (isStrictMode = !0),
    void 0 !== options.identifierPrefix &&
      (identifierPrefix = options.identifierPrefix),
    void 0 !== options.onUncaughtError &&
      (onUncaughtError = options.onUncaughtError),
    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),
    void 0 !== options.onRecoverableError &&
      (onRecoverableError = options.onRecoverableError),
    void 0 !== options.formState && (formState = options.formState));
  initialChildren = createFiberRoot(
    container,
    1,
    !0,
    initialChildren,
    null != options ? options : null,
    isStrictMode,
    identifierPrefix,
    formState,
    onUncaughtError,
    onCaughtError,
    onRecoverableError,
    defaultOnDefaultTransitionIndicator
  );
  initialChildren.context = getContextForSubtree(null);
  options = initialChildren.current;
  isStrictMode = requestUpdateLane();
  isStrictMode = getBumpedLaneForHydrationByLane(isStrictMode);
  identifierPrefix = createUpdate(isStrictMode);
  identifierPrefix.callback = null;
  enqueueUpdate(options, identifierPrefix, isStrictMode);
  options = isStrictMode;
  initialChildren.current.lanes = options;
  markRootUpdated$1(initialChildren, options);
  ensureRootIsScheduled(initialChildren);
  container[internalContainerInstanceKey] = initialChildren.current;
  listenToAllSupportedEvents(container);
  return new ReactDOMHydrationRoot(initialChildren);
};
exports.version = "19.2.3";


/***/ }),

/***/ 6221:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */


var React = __webpack_require__(6540);
function formatProdErrorMessage(code) {
  var url = "https://react.dev/errors/" + code;
  if (1 < arguments.length) {
    url += "?args[]=" + encodeURIComponent(arguments[1]);
    for (var i = 2; i < arguments.length; i++)
      url += "&args[]=" + encodeURIComponent(arguments[i]);
  }
  return (
    "Minified React error #" +
    code +
    "; visit " +
    url +
    " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
  );
}
function noop() {}
var Internals = {
    d: {
      f: noop,
      r: function () {
        throw Error(formatProdErrorMessage(522));
      },
      D: noop,
      C: noop,
      L: noop,
      m: noop,
      X: noop,
      S: noop,
      M: noop
    },
    p: 0,
    findDOMNode: null
  },
  REACT_PORTAL_TYPE = Symbol.for("react.portal");
function createPortal$1(children, containerInfo, implementation) {
  var key =
    3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;
  return {
    $$typeof: REACT_PORTAL_TYPE,
    key: null == key ? null : "" + key,
    children: children,
    containerInfo: containerInfo,
    implementation: implementation
  };
}
var ReactSharedInternals =
  React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;
function getCrossOriginStringAs(as, input) {
  if ("font" === as) return "";
  if ("string" === typeof input)
    return "use-credentials" === input ? input : "";
}
exports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =
  Internals;
exports.createPortal = function (children, container) {
  var key =
    2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;
  if (
    !container ||
    (1 !== container.nodeType &&
      9 !== container.nodeType &&
      11 !== container.nodeType)
  )
    throw Error(formatProdErrorMessage(299));
  return createPortal$1(children, container, null, key);
};
exports.flushSync = function (fn) {
  var previousTransition = ReactSharedInternals.T,
    previousUpdatePriority = Internals.p;
  try {
    if (((ReactSharedInternals.T = null), (Internals.p = 2), fn)) return fn();
  } finally {
    (ReactSharedInternals.T = previousTransition),
      (Internals.p = previousUpdatePriority),
      Internals.d.f();
  }
};
exports.preconnect = function (href, options) {
  "string" === typeof href &&
    (options
      ? ((options = options.crossOrigin),
        (options =
          "string" === typeof options
            ? "use-credentials" === options
              ? options
              : ""
            : void 0))
      : (options = null),
    Internals.d.C(href, options));
};
exports.prefetchDNS = function (href) {
  "string" === typeof href && Internals.d.D(href);
};
exports.preinit = function (href, options) {
  if ("string" === typeof href && options && "string" === typeof options.as) {
    var as = options.as,
      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin),
      integrity =
        "string" === typeof options.integrity ? options.integrity : void 0,
      fetchPriority =
        "string" === typeof options.fetchPriority
          ? options.fetchPriority
          : void 0;
    "style" === as
      ? Internals.d.S(
          href,
          "string" === typeof options.precedence ? options.precedence : void 0,
          {
            crossOrigin: crossOrigin,
            integrity: integrity,
            fetchPriority: fetchPriority
          }
        )
      : "script" === as &&
        Internals.d.X(href, {
          crossOrigin: crossOrigin,
          integrity: integrity,
          fetchPriority: fetchPriority,
          nonce: "string" === typeof options.nonce ? options.nonce : void 0
        });
  }
};
exports.preinitModule = function (href, options) {
  if ("string" === typeof href)
    if ("object" === typeof options && null !== options) {
      if (null == options.as || "script" === options.as) {
        var crossOrigin = getCrossOriginStringAs(
          options.as,
          options.crossOrigin
        );
        Internals.d.M(href, {
          crossOrigin: crossOrigin,
          integrity:
            "string" === typeof options.integrity ? options.integrity : void 0,
          nonce: "string" === typeof options.nonce ? options.nonce : void 0
        });
      }
    } else null == options && Internals.d.M(href);
};
exports.preload = function (href, options) {
  if (
    "string" === typeof href &&
    "object" === typeof options &&
    null !== options &&
    "string" === typeof options.as
  ) {
    var as = options.as,
      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin);
    Internals.d.L(href, as, {
      crossOrigin: crossOrigin,
      integrity:
        "string" === typeof options.integrity ? options.integrity : void 0,
      nonce: "string" === typeof options.nonce ? options.nonce : void 0,
      type: "string" === typeof options.type ? options.type : void 0,
      fetchPriority:
        "string" === typeof options.fetchPriority
          ? options.fetchPriority
          : void 0,
      referrerPolicy:
        "string" === typeof options.referrerPolicy
          ? options.referrerPolicy
          : void 0,
      imageSrcSet:
        "string" === typeof options.imageSrcSet ? options.imageSrcSet : void 0,
      imageSizes:
        "string" === typeof options.imageSizes ? options.imageSizes : void 0,
      media: "string" === typeof options.media ? options.media : void 0
    });
  }
};
exports.preloadModule = function (href, options) {
  if ("string" === typeof href)
    if (options) {
      var crossOrigin = getCrossOriginStringAs(options.as, options.crossOrigin);
      Internals.d.m(href, {
        as:
          "string" === typeof options.as && "script" !== options.as
            ? options.as
            : void 0,
        crossOrigin: crossOrigin,
        integrity:
          "string" === typeof options.integrity ? options.integrity : void 0
      });
    } else Internals.d.m(href);
};
exports.requestFormReset = function (form) {
  Internals.d.r(form);
};
exports.unstable_batchedUpdates = function (fn, a) {
  return fn(a);
};
exports.useFormState = function (action, initialState, permalink) {
  return ReactSharedInternals.H.useFormState(action, initialState, permalink);
};
exports.useFormStatus = function () {
  return ReactSharedInternals.H.useHostTransitionStatus();
};
exports.version = "19.2.3";


/***/ }),

/***/ 5338:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



function checkDCE() {
  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */
  if (
    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||
    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'
  ) {
    return;
  }
  if (false) {}
  try {
    // Verify that the code above has been dead code eliminated (DCE'd).
    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);
  } catch (err) {
    // DevTools shouldn't crash React, no matter what.
    // We should still report in case we break this code.
    console.error(err);
  }
}

if (true) {
  // DCE check should happen before ReactDOM bundle executes so that
  // DevTools can report bad minification during injection.
  checkDCE();
  module.exports = __webpack_require__(1247);
} else {}


/***/ }),

/***/ 961:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



function checkDCE() {
  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */
  if (
    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||
    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'
  ) {
    return;
  }
  if (false) {}
  try {
    // Verify that the code above has been dead code eliminated (DCE'd).
    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);
  } catch (err) {
    // DevTools shouldn't crash React, no matter what.
    // We should still report in case we break this code.
    console.error(err);
  }
}

if (true) {
  // DCE check should happen before ReactDOM bundle executes so that
  // DevTools can report bad minification during injection.
  checkDCE();
  module.exports = __webpack_require__(6221);
} else {}


/***/ }),

/***/ 9698:
/***/ ((__unused_webpack_module, exports) => {

/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */


var REACT_ELEMENT_TYPE = Symbol.for("react.transitional.element"),
  REACT_FRAGMENT_TYPE = Symbol.for("react.fragment");
function jsxProd(type, config, maybeKey) {
  var key = null;
  void 0 !== maybeKey && (key = "" + maybeKey);
  void 0 !== config.key && (key = "" + config.key);
  if ("key" in config) {
    maybeKey = {};
    for (var propName in config)
      "key" !== propName && (maybeKey[propName] = config[propName]);
  } else maybeKey = config;
  config = maybeKey.ref;
  return {
    $$typeof: REACT_ELEMENT_TYPE,
    type: type,
    key: key,
    ref: void 0 !== config ? config : null,
    props: maybeKey
  };
}
exports.Fragment = REACT_FRAGMENT_TYPE;
exports.jsx = jsxProd;
exports.jsxs = jsxProd;


/***/ }),

/***/ 9869:
/***/ ((__unused_webpack_module, exports) => {

/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */


var REACT_ELEMENT_TYPE = Symbol.for("react.transitional.element"),
  REACT_PORTAL_TYPE = Symbol.for("react.portal"),
  REACT_FRAGMENT_TYPE = Symbol.for("react.fragment"),
  REACT_STRICT_MODE_TYPE = Symbol.for("react.strict_mode"),
  REACT_PROFILER_TYPE = Symbol.for("react.profiler"),
  REACT_CONSUMER_TYPE = Symbol.for("react.consumer"),
  REACT_CONTEXT_TYPE = Symbol.for("react.context"),
  REACT_FORWARD_REF_TYPE = Symbol.for("react.forward_ref"),
  REACT_SUSPENSE_TYPE = Symbol.for("react.suspense"),
  REACT_MEMO_TYPE = Symbol.for("react.memo"),
  REACT_LAZY_TYPE = Symbol.for("react.lazy"),
  REACT_ACTIVITY_TYPE = Symbol.for("react.activity"),
  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;
function getIteratorFn(maybeIterable) {
  if (null === maybeIterable || "object" !== typeof maybeIterable) return null;
  maybeIterable =
    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||
    maybeIterable["@@iterator"];
  return "function" === typeof maybeIterable ? maybeIterable : null;
}
var ReactNoopUpdateQueue = {
    isMounted: function () {
      return !1;
    },
    enqueueForceUpdate: function () {},
    enqueueReplaceState: function () {},
    enqueueSetState: function () {}
  },
  assign = Object.assign,
  emptyObject = {};
function Component(props, context, updater) {
  this.props = props;
  this.context = context;
  this.refs = emptyObject;
  this.updater = updater || ReactNoopUpdateQueue;
}
Component.prototype.isReactComponent = {};
Component.prototype.setState = function (partialState, callback) {
  if (
    "object" !== typeof partialState &&
    "function" !== typeof partialState &&
    null != partialState
  )
    throw Error(
      "takes an object of state variables to update or a function which returns an object of state variables."
    );
  this.updater.enqueueSetState(this, partialState, callback, "setState");
};
Component.prototype.forceUpdate = function (callback) {
  this.updater.enqueueForceUpdate(this, callback, "forceUpdate");
};
function ComponentDummy() {}
ComponentDummy.prototype = Component.prototype;
function PureComponent(props, context, updater) {
  this.props = props;
  this.context = context;
  this.refs = emptyObject;
  this.updater = updater || ReactNoopUpdateQueue;
}
var pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());
pureComponentPrototype.constructor = PureComponent;
assign(pureComponentPrototype, Component.prototype);
pureComponentPrototype.isPureReactComponent = !0;
var isArrayImpl = Array.isArray;
function noop() {}
var ReactSharedInternals = { H: null, A: null, T: null, S: null },
  hasOwnProperty = Object.prototype.hasOwnProperty;
function ReactElement(type, key, props) {
  var refProp = props.ref;
  return {
    $$typeof: REACT_ELEMENT_TYPE,
    type: type,
    key: key,
    ref: void 0 !== refProp ? refProp : null,
    props: props
  };
}
function cloneAndReplaceKey(oldElement, newKey) {
  return ReactElement(oldElement.type, newKey, oldElement.props);
}
function isValidElement(object) {
  return (
    "object" === typeof object &&
    null !== object &&
    object.$$typeof === REACT_ELEMENT_TYPE
  );
}
function escape(key) {
  var escaperLookup = { "=": "=0", ":": "=2" };
  return (
    "$" +
    key.replace(/[=:]/g, function (match) {
      return escaperLookup[match];
    })
  );
}
var userProvidedKeyEscapeRegex = /\/+/g;
function getElementKey(element, index) {
  return "object" === typeof element && null !== element && null != element.key
    ? escape("" + element.key)
    : index.toString(36);
}
function resolveThenable(thenable) {
  switch (thenable.status) {
    case "fulfilled":
      return thenable.value;
    case "rejected":
      throw thenable.reason;
    default:
      switch (
        ("string" === typeof thenable.status
          ? thenable.then(noop, noop)
          : ((thenable.status = "pending"),
            thenable.then(
              function (fulfilledValue) {
                "pending" === thenable.status &&
                  ((thenable.status = "fulfilled"),
                  (thenable.value = fulfilledValue));
              },
              function (error) {
                "pending" === thenable.status &&
                  ((thenable.status = "rejected"), (thenable.reason = error));
              }
            )),
        thenable.status)
      ) {
        case "fulfilled":
          return thenable.value;
        case "rejected":
          throw thenable.reason;
      }
  }
  throw thenable;
}
function mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {
  var type = typeof children;
  if ("undefined" === type || "boolean" === type) children = null;
  var invokeCallback = !1;
  if (null === children) invokeCallback = !0;
  else
    switch (type) {
      case "bigint":
      case "string":
      case "number":
        invokeCallback = !0;
        break;
      case "object":
        switch (children.$$typeof) {
          case REACT_ELEMENT_TYPE:
          case REACT_PORTAL_TYPE:
            invokeCallback = !0;
            break;
          case REACT_LAZY_TYPE:
            return (
              (invokeCallback = children._init),
              mapIntoArray(
                invokeCallback(children._payload),
                array,
                escapedPrefix,
                nameSoFar,
                callback
              )
            );
        }
    }
  if (invokeCallback)
    return (
      (callback = callback(children)),
      (invokeCallback =
        "" === nameSoFar ? "." + getElementKey(children, 0) : nameSoFar),
      isArrayImpl(callback)
        ? ((escapedPrefix = ""),
          null != invokeCallback &&
            (escapedPrefix =
              invokeCallback.replace(userProvidedKeyEscapeRegex, "$&/") + "/"),
          mapIntoArray(callback, array, escapedPrefix, "", function (c) {
            return c;
          }))
        : null != callback &&
          (isValidElement(callback) &&
            (callback = cloneAndReplaceKey(
              callback,
              escapedPrefix +
                (null == callback.key ||
                (children && children.key === callback.key)
                  ? ""
                  : ("" + callback.key).replace(
                      userProvidedKeyEscapeRegex,
                      "$&/"
                    ) + "/") +
                invokeCallback
            )),
          array.push(callback)),
      1
    );
  invokeCallback = 0;
  var nextNamePrefix = "" === nameSoFar ? "." : nameSoFar + ":";
  if (isArrayImpl(children))
    for (var i = 0; i < children.length; i++)
      (nameSoFar = children[i]),
        (type = nextNamePrefix + getElementKey(nameSoFar, i)),
        (invokeCallback += mapIntoArray(
          nameSoFar,
          array,
          escapedPrefix,
          type,
          callback
        ));
  else if (((i = getIteratorFn(children)), "function" === typeof i))
    for (
      children = i.call(children), i = 0;
      !(nameSoFar = children.next()).done;

    )
      (nameSoFar = nameSoFar.value),
        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),
        (invokeCallback += mapIntoArray(
          nameSoFar,
          array,
          escapedPrefix,
          type,
          callback
        ));
  else if ("object" === type) {
    if ("function" === typeof children.then)
      return mapIntoArray(
        resolveThenable(children),
        array,
        escapedPrefix,
        nameSoFar,
        callback
      );
    array = String(children);
    throw Error(
      "Objects are not valid as a React child (found: " +
        ("[object Object]" === array
          ? "object with keys {" + Object.keys(children).join(", ") + "}"
          : array) +
        "). If you meant to render a collection of children, use an array instead."
    );
  }
  return invokeCallback;
}
function mapChildren(children, func, context) {
  if (null == children) return children;
  var result = [],
    count = 0;
  mapIntoArray(children, result, "", "", function (child) {
    return func.call(context, child, count++);
  });
  return result;
}
function lazyInitializer(payload) {
  if (-1 === payload._status) {
    var ctor = payload._result;
    ctor = ctor();
    ctor.then(
      function (moduleObject) {
        if (0 === payload._status || -1 === payload._status)
          (payload._status = 1), (payload._result = moduleObject);
      },
      function (error) {
        if (0 === payload._status || -1 === payload._status)
          (payload._status = 2), (payload._result = error);
      }
    );
    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));
  }
  if (1 === payload._status) return payload._result.default;
  throw payload._result;
}
var reportGlobalError =
    "function" === typeof reportError
      ? reportError
      : function (error) {
          if (
            "object" === typeof window &&
            "function" === typeof window.ErrorEvent
          ) {
            var event = new window.ErrorEvent("error", {
              bubbles: !0,
              cancelable: !0,
              message:
                "object" === typeof error &&
                null !== error &&
                "string" === typeof error.message
                  ? String(error.message)
                  : String(error),
              error: error
            });
            if (!window.dispatchEvent(event)) return;
          } else if (
            "object" === typeof process &&
            "function" === typeof process.emit
          ) {
            process.emit("uncaughtException", error);
            return;
          }
          console.error(error);
        },
  Children = {
    map: mapChildren,
    forEach: function (children, forEachFunc, forEachContext) {
      mapChildren(
        children,
        function () {
          forEachFunc.apply(this, arguments);
        },
        forEachContext
      );
    },
    count: function (children) {
      var n = 0;
      mapChildren(children, function () {
        n++;
      });
      return n;
    },
    toArray: function (children) {
      return (
        mapChildren(children, function (child) {
          return child;
        }) || []
      );
    },
    only: function (children) {
      if (!isValidElement(children))
        throw Error(
          "React.Children.only expected to receive a single React element child."
        );
      return children;
    }
  };
exports.Activity = REACT_ACTIVITY_TYPE;
exports.Children = Children;
exports.Component = Component;
exports.Fragment = REACT_FRAGMENT_TYPE;
exports.Profiler = REACT_PROFILER_TYPE;
exports.PureComponent = PureComponent;
exports.StrictMode = REACT_STRICT_MODE_TYPE;
exports.Suspense = REACT_SUSPENSE_TYPE;
exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =
  ReactSharedInternals;
exports.__COMPILER_RUNTIME = {
  __proto__: null,
  c: function (size) {
    return ReactSharedInternals.H.useMemoCache(size);
  }
};
exports.cache = function (fn) {
  return function () {
    return fn.apply(null, arguments);
  };
};
exports.cacheSignal = function () {
  return null;
};
exports.cloneElement = function (element, config, children) {
  if (null === element || void 0 === element)
    throw Error(
      "The argument must be a React element, but you passed " + element + "."
    );
  var props = assign({}, element.props),
    key = element.key;
  if (null != config)
    for (propName in (void 0 !== config.key && (key = "" + config.key), config))
      !hasOwnProperty.call(config, propName) ||
        "key" === propName ||
        "__self" === propName ||
        "__source" === propName ||
        ("ref" === propName && void 0 === config.ref) ||
        (props[propName] = config[propName]);
  var propName = arguments.length - 2;
  if (1 === propName) props.children = children;
  else if (1 < propName) {
    for (var childArray = Array(propName), i = 0; i < propName; i++)
      childArray[i] = arguments[i + 2];
    props.children = childArray;
  }
  return ReactElement(element.type, key, props);
};
exports.createContext = function (defaultValue) {
  defaultValue = {
    $$typeof: REACT_CONTEXT_TYPE,
    _currentValue: defaultValue,
    _currentValue2: defaultValue,
    _threadCount: 0,
    Provider: null,
    Consumer: null
  };
  defaultValue.Provider = defaultValue;
  defaultValue.Consumer = {
    $$typeof: REACT_CONSUMER_TYPE,
    _context: defaultValue
  };
  return defaultValue;
};
exports.createElement = function (type, config, children) {
  var propName,
    props = {},
    key = null;
  if (null != config)
    for (propName in (void 0 !== config.key && (key = "" + config.key), config))
      hasOwnProperty.call(config, propName) &&
        "key" !== propName &&
        "__self" !== propName &&
        "__source" !== propName &&
        (props[propName] = config[propName]);
  var childrenLength = arguments.length - 2;
  if (1 === childrenLength) props.children = children;
  else if (1 < childrenLength) {
    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)
      childArray[i] = arguments[i + 2];
    props.children = childArray;
  }
  if (type && type.defaultProps)
    for (propName in ((childrenLength = type.defaultProps), childrenLength))
      void 0 === props[propName] &&
        (props[propName] = childrenLength[propName]);
  return ReactElement(type, key, props);
};
exports.createRef = function () {
  return { current: null };
};
exports.forwardRef = function (render) {
  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };
};
exports.isValidElement = isValidElement;
exports.lazy = function (ctor) {
  return {
    $$typeof: REACT_LAZY_TYPE,
    _payload: { _status: -1, _result: ctor },
    _init: lazyInitializer
  };
};
exports.memo = function (type, compare) {
  return {
    $$typeof: REACT_MEMO_TYPE,
    type: type,
    compare: void 0 === compare ? null : compare
  };
};
exports.startTransition = function (scope) {
  var prevTransition = ReactSharedInternals.T,
    currentTransition = {};
  ReactSharedInternals.T = currentTransition;
  try {
    var returnValue = scope(),
      onStartTransitionFinish = ReactSharedInternals.S;
    null !== onStartTransitionFinish &&
      onStartTransitionFinish(currentTransition, returnValue);
    "object" === typeof returnValue &&
      null !== returnValue &&
      "function" === typeof returnValue.then &&
      returnValue.then(noop, reportGlobalError);
  } catch (error) {
    reportGlobalError(error);
  } finally {
    null !== prevTransition &&
      null !== currentTransition.types &&
      (prevTransition.types = currentTransition.types),
      (ReactSharedInternals.T = prevTransition);
  }
};
exports.unstable_useCacheRefresh = function () {
  return ReactSharedInternals.H.useCacheRefresh();
};
exports.use = function (usable) {
  return ReactSharedInternals.H.use(usable);
};
exports.useActionState = function (action, initialState, permalink) {
  return ReactSharedInternals.H.useActionState(action, initialState, permalink);
};
exports.useCallback = function (callback, deps) {
  return ReactSharedInternals.H.useCallback(callback, deps);
};
exports.useContext = function (Context) {
  return ReactSharedInternals.H.useContext(Context);
};
exports.useDebugValue = function () {};
exports.useDeferredValue = function (value, initialValue) {
  return ReactSharedInternals.H.useDeferredValue(value, initialValue);
};
exports.useEffect = function (create, deps) {
  return ReactSharedInternals.H.useEffect(create, deps);
};
exports.useEffectEvent = function (callback) {
  return ReactSharedInternals.H.useEffectEvent(callback);
};
exports.useId = function () {
  return ReactSharedInternals.H.useId();
};
exports.useImperativeHandle = function (ref, create, deps) {
  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);
};
exports.useInsertionEffect = function (create, deps) {
  return ReactSharedInternals.H.useInsertionEffect(create, deps);
};
exports.useLayoutEffect = function (create, deps) {
  return ReactSharedInternals.H.useLayoutEffect(create, deps);
};
exports.useMemo = function (create, deps) {
  return ReactSharedInternals.H.useMemo(create, deps);
};
exports.useOptimistic = function (passthrough, reducer) {
  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);
};
exports.useReducer = function (reducer, initialArg, init) {
  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);
};
exports.useRef = function (initialValue) {
  return ReactSharedInternals.H.useRef(initialValue);
};
exports.useState = function (initialState) {
  return ReactSharedInternals.H.useState(initialState);
};
exports.useSyncExternalStore = function (
  subscribe,
  getSnapshot,
  getServerSnapshot
) {
  return ReactSharedInternals.H.useSyncExternalStore(
    subscribe,
    getSnapshot,
    getServerSnapshot
  );
};
exports.useTransition = function () {
  return ReactSharedInternals.H.useTransition();
};
exports.version = "19.2.3";


/***/ }),

/***/ 6540:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



if (true) {
  module.exports = __webpack_require__(9869);
} else {}


/***/ }),

/***/ 4848:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



if (true) {
  module.exports = __webpack_require__(9698);
} else {}


/***/ }),

/***/ 4477:
/***/ ((__unused_webpack_module, exports) => {

/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */


function push(heap, node) {
  var index = heap.length;
  heap.push(node);
  a: for (; 0 < index; ) {
    var parentIndex = (index - 1) >>> 1,
      parent = heap[parentIndex];
    if (0 < compare(parent, node))
      (heap[parentIndex] = node), (heap[index] = parent), (index = parentIndex);
    else break a;
  }
}
function peek(heap) {
  return 0 === heap.length ? null : heap[0];
}
function pop(heap) {
  if (0 === heap.length) return null;
  var first = heap[0],
    last = heap.pop();
  if (last !== first) {
    heap[0] = last;
    a: for (
      var index = 0, length = heap.length, halfLength = length >>> 1;
      index < halfLength;

    ) {
      var leftIndex = 2 * (index + 1) - 1,
        left = heap[leftIndex],
        rightIndex = leftIndex + 1,
        right = heap[rightIndex];
      if (0 > compare(left, last))
        rightIndex < length && 0 > compare(right, left)
          ? ((heap[index] = right),
            (heap[rightIndex] = last),
            (index = rightIndex))
          : ((heap[index] = left),
            (heap[leftIndex] = last),
            (index = leftIndex));
      else if (rightIndex < length && 0 > compare(right, last))
        (heap[index] = right), (heap[rightIndex] = last), (index = rightIndex);
      else break a;
    }
  }
  return first;
}
function compare(a, b) {
  var diff = a.sortIndex - b.sortIndex;
  return 0 !== diff ? diff : a.id - b.id;
}
exports.unstable_now = void 0;
if ("object" === typeof performance && "function" === typeof performance.now) {
  var localPerformance = performance;
  exports.unstable_now = function () {
    return localPerformance.now();
  };
} else {
  var localDate = Date,
    initialTime = localDate.now();
  exports.unstable_now = function () {
    return localDate.now() - initialTime;
  };
}
var taskQueue = [],
  timerQueue = [],
  taskIdCounter = 1,
  currentTask = null,
  currentPriorityLevel = 3,
  isPerformingWork = !1,
  isHostCallbackScheduled = !1,
  isHostTimeoutScheduled = !1,
  needsPaint = !1,
  localSetTimeout = "function" === typeof setTimeout ? setTimeout : null,
  localClearTimeout = "function" === typeof clearTimeout ? clearTimeout : null,
  localSetImmediate = "undefined" !== typeof setImmediate ? setImmediate : null;
function advanceTimers(currentTime) {
  for (var timer = peek(timerQueue); null !== timer; ) {
    if (null === timer.callback) pop(timerQueue);
    else if (timer.startTime <= currentTime)
      pop(timerQueue),
        (timer.sortIndex = timer.expirationTime),
        push(taskQueue, timer);
    else break;
    timer = peek(timerQueue);
  }
}
function handleTimeout(currentTime) {
  isHostTimeoutScheduled = !1;
  advanceTimers(currentTime);
  if (!isHostCallbackScheduled)
    if (null !== peek(taskQueue))
      (isHostCallbackScheduled = !0),
        isMessageLoopRunning ||
          ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline());
    else {
      var firstTimer = peek(timerQueue);
      null !== firstTimer &&
        requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);
    }
}
var isMessageLoopRunning = !1,
  taskTimeoutID = -1,
  frameInterval = 5,
  startTime = -1;
function shouldYieldToHost() {
  return needsPaint
    ? !0
    : exports.unstable_now() - startTime < frameInterval
      ? !1
      : !0;
}
function performWorkUntilDeadline() {
  needsPaint = !1;
  if (isMessageLoopRunning) {
    var currentTime = exports.unstable_now();
    startTime = currentTime;
    var hasMoreWork = !0;
    try {
      a: {
        isHostCallbackScheduled = !1;
        isHostTimeoutScheduled &&
          ((isHostTimeoutScheduled = !1),
          localClearTimeout(taskTimeoutID),
          (taskTimeoutID = -1));
        isPerformingWork = !0;
        var previousPriorityLevel = currentPriorityLevel;
        try {
          b: {
            advanceTimers(currentTime);
            for (
              currentTask = peek(taskQueue);
              null !== currentTask &&
              !(
                currentTask.expirationTime > currentTime && shouldYieldToHost()
              );

            ) {
              var callback = currentTask.callback;
              if ("function" === typeof callback) {
                currentTask.callback = null;
                currentPriorityLevel = currentTask.priorityLevel;
                var continuationCallback = callback(
                  currentTask.expirationTime <= currentTime
                );
                currentTime = exports.unstable_now();
                if ("function" === typeof continuationCallback) {
                  currentTask.callback = continuationCallback;
                  advanceTimers(currentTime);
                  hasMoreWork = !0;
                  break b;
                }
                currentTask === peek(taskQueue) && pop(taskQueue);
                advanceTimers(currentTime);
              } else pop(taskQueue);
              currentTask = peek(taskQueue);
            }
            if (null !== currentTask) hasMoreWork = !0;
            else {
              var firstTimer = peek(timerQueue);
              null !== firstTimer &&
                requestHostTimeout(
                  handleTimeout,
                  firstTimer.startTime - currentTime
                );
              hasMoreWork = !1;
            }
          }
          break a;
        } finally {
          (currentTask = null),
            (currentPriorityLevel = previousPriorityLevel),
            (isPerformingWork = !1);
        }
        hasMoreWork = void 0;
      }
    } finally {
      hasMoreWork
        ? schedulePerformWorkUntilDeadline()
        : (isMessageLoopRunning = !1);
    }
  }
}
var schedulePerformWorkUntilDeadline;
if ("function" === typeof localSetImmediate)
  schedulePerformWorkUntilDeadline = function () {
    localSetImmediate(performWorkUntilDeadline);
  };
else if ("undefined" !== typeof MessageChannel) {
  var channel = new MessageChannel(),
    port = channel.port2;
  channel.port1.onmessage = performWorkUntilDeadline;
  schedulePerformWorkUntilDeadline = function () {
    port.postMessage(null);
  };
} else
  schedulePerformWorkUntilDeadline = function () {
    localSetTimeout(performWorkUntilDeadline, 0);
  };
function requestHostTimeout(callback, ms) {
  taskTimeoutID = localSetTimeout(function () {
    callback(exports.unstable_now());
  }, ms);
}
exports.unstable_IdlePriority = 5;
exports.unstable_ImmediatePriority = 1;
exports.unstable_LowPriority = 4;
exports.unstable_NormalPriority = 3;
exports.unstable_Profiling = null;
exports.unstable_UserBlockingPriority = 2;
exports.unstable_cancelCallback = function (task) {
  task.callback = null;
};
exports.unstable_forceFrameRate = function (fps) {
  0 > fps || 125 < fps
    ? console.error(
        "forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"
      )
    : (frameInterval = 0 < fps ? Math.floor(1e3 / fps) : 5);
};
exports.unstable_getCurrentPriorityLevel = function () {
  return currentPriorityLevel;
};
exports.unstable_next = function (eventHandler) {
  switch (currentPriorityLevel) {
    case 1:
    case 2:
    case 3:
      var priorityLevel = 3;
      break;
    default:
      priorityLevel = currentPriorityLevel;
  }
  var previousPriorityLevel = currentPriorityLevel;
  currentPriorityLevel = priorityLevel;
  try {
    return eventHandler();
  } finally {
    currentPriorityLevel = previousPriorityLevel;
  }
};
exports.unstable_requestPaint = function () {
  needsPaint = !0;
};
exports.unstable_runWithPriority = function (priorityLevel, eventHandler) {
  switch (priorityLevel) {
    case 1:
    case 2:
    case 3:
    case 4:
    case 5:
      break;
    default:
      priorityLevel = 3;
  }
  var previousPriorityLevel = currentPriorityLevel;
  currentPriorityLevel = priorityLevel;
  try {
    return eventHandler();
  } finally {
    currentPriorityLevel = previousPriorityLevel;
  }
};
exports.unstable_scheduleCallback = function (
  priorityLevel,
  callback,
  options
) {
  var currentTime = exports.unstable_now();
  "object" === typeof options && null !== options
    ? ((options = options.delay),
      (options =
        "number" === typeof options && 0 < options
          ? currentTime + options
          : currentTime))
    : (options = currentTime);
  switch (priorityLevel) {
    case 1:
      var timeout = -1;
      break;
    case 2:
      timeout = 250;
      break;
    case 5:
      timeout = 1073741823;
      break;
    case 4:
      timeout = 1e4;
      break;
    default:
      timeout = 5e3;
  }
  timeout = options + timeout;
  priorityLevel = {
    id: taskIdCounter++,
    callback: callback,
    priorityLevel: priorityLevel,
    startTime: options,
    expirationTime: timeout,
    sortIndex: -1
  };
  options > currentTime
    ? ((priorityLevel.sortIndex = options),
      push(timerQueue, priorityLevel),
      null === peek(taskQueue) &&
        priorityLevel === peek(timerQueue) &&
        (isHostTimeoutScheduled
          ? (localClearTimeout(taskTimeoutID), (taskTimeoutID = -1))
          : (isHostTimeoutScheduled = !0),
        requestHostTimeout(handleTimeout, options - currentTime)))
    : ((priorityLevel.sortIndex = timeout),
      push(taskQueue, priorityLevel),
      isHostCallbackScheduled ||
        isPerformingWork ||
        ((isHostCallbackScheduled = !0),
        isMessageLoopRunning ||
          ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline())));
  return priorityLevel;
};
exports.unstable_shouldYield = shouldYieldToHost;
exports.unstable_wrapCallback = function (callback) {
  var parentPriorityLevel = currentPriorityLevel;
  return function () {
    var previousPriorityLevel = currentPriorityLevel;
    currentPriorityLevel = parentPriorityLevel;
    try {
      return callback.apply(this, arguments);
    } finally {
      currentPriorityLevel = previousPriorityLevel;
    }
  };
};


/***/ }),

/***/ 9982:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



if (true) {
  module.exports = __webpack_require__(4477);
} else {}


/***/ }),

/***/ 3482:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* unused harmony export setBundleModeAndUpdate */
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6540);
/* harmony import */ var react_dom_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5338);
/* harmony import */ var remotion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3947);
/* harmony import */ var remotion_no_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9382);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(4848);


// src/renderEntry.tsx





var currentBundleMode = {
  type: "index"
};
var setBundleMode = (state) => {
  currentBundleMode = state;
};
var getBundleMode = () => {
  return currentBundleMode;
};
remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.CSSUtils.injectCSS(remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.CSSUtils.makeDefaultPreviewCSS(null, "#1f2428"));
var getCanSerializeDefaultProps = (object) => {
  try {
    const str = JSON.stringify(object);
    return str.length < 256 * 1024 * 1024 * 0.9;
  } catch (err) {
    if (err.message.includes("Invalid string length")) {
      return false;
    }
    throw err;
  }
};
var isInHeadlessBrowser = () => {
  return typeof window.remotion_puppeteerTimeout !== "undefined";
};
var DelayedSpinner = () => {
  const [show, setShow] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const timeout = setTimeout(() => {
      setShow(true);
    }, 2000);
    return () => {
      clearTimeout(timeout);
    };
  }, []);
  if (!show) {
    return null;
  }
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(remotion__WEBPACK_IMPORTED_MODULE_2__.AbsoluteFill, {
    style: {
      justifyContent: "center",
      alignItems: "center",
      fontSize: 13,
      opacity: 0.6,
      color: "white",
      fontFamily: "Helvetica, Arial, sans-serif"
    },
    children: "Loading Studio"
  });
};
var GetVideoComposition = ({ state }) => {
  const { compositions, currentCompositionMetadata, canvasContent } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.CompositionManager);
  const { setCanvasContent } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.CompositionSetters);
  const portalContainer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const { delayRender, continueRender } = (0,remotion__WEBPACK_IMPORTED_MODULE_2__.useDelayRender)();
  const [handle] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => delayRender(`Waiting for Composition "${state.compositionName}"`));
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    return () => continueRender(handle);
  }, [handle, continueRender]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (compositions.length === 0) {
      return;
    }
    const foundComposition = compositions.find((c) => c.id === state.compositionName);
    if (!foundComposition) {
      throw new Error(`Found no composition with the name ${state.compositionName}. The following compositions were found instead: ${compositions.map((c) => c.id).join(", ")}. All compositions must have their ID calculated deterministically and must be mounted at the same time.`);
    }
    setCanvasContent({
      type: "composition",
      compositionId: foundComposition.id
    });
  }, [compositions, state, currentCompositionMetadata, setCanvasContent]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!canvasContent) {
      return;
    }
    const { current } = portalContainer;
    if (!current) {
      throw new Error("portal did not render");
    }
    current.appendChild(remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.portalNode());
    continueRender(handle);
    return () => {
      current.removeChild(remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.portalNode());
    };
  }, [canvasContent, handle, continueRender]);
  if (!currentCompositionMetadata) {
    return null;
  }
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div", {
    ref: portalContainer,
    id: "remotion-canvas",
    style: {
      width: currentCompositionMetadata.width,
      height: currentCompositionMetadata.height,
      display: "flex",
      backgroundColor: "transparent"
    }
  });
};
var DEFAULT_ROOT_COMPONENT_TIMEOUT = 1e4;
var waitForRootHandle = (0,remotion__WEBPACK_IMPORTED_MODULE_2__.delayRender)("Loading root component - See https://remotion.dev/docs/troubleshooting/loading-root-component if you experience a timeout", {
  timeoutInMilliseconds: typeof window === "undefined" ? DEFAULT_ROOT_COMPONENT_TIMEOUT : window.remotion_puppeteerTimeout ?? DEFAULT_ROOT_COMPONENT_TIMEOUT
});
var videoContainer = document.getElementById("video-container");
var root = null;
var getRootForElement = () => {
  if (root) {
    return root;
  }
  root = react_dom_client__WEBPACK_IMPORTED_MODULE_1__.createRoot(videoContainer);
  return root;
};
var renderToDOM = (content) => {
  if (!react_dom_client__WEBPACK_IMPORTED_MODULE_1__.createRoot) {
    if (remotion_no_react__WEBPACK_IMPORTED_MODULE_3__.NoReactInternals.ENABLE_V5_BREAKING_CHANGES) {
      throw new Error("Remotion 5.0 does only support React 18+. However, ReactDOM.createRoot() is undefined.");
    }
    react_dom_client__WEBPACK_IMPORTED_MODULE_1__.render(content, videoContainer);
    return;
  }
  getRootForElement().render(content);
};
var renderContent = (Root) => {
  const bundleMode = getBundleMode();
  if (bundleMode.type === "composition") {
    const markup = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.CompositionManagerProvider, {
      initialCanvasContent: null,
      onlyRenderComposition: bundleMode.compositionName,
      currentCompositionMetadata: {
        props: remotion_no_react__WEBPACK_IMPORTED_MODULE_3__.NoReactInternals.deserializeJSONWithSpecialTypes(bundleMode.serializedResolvedPropsWithSchema),
        durationInFrames: bundleMode.compositionDurationInFrames,
        fps: bundleMode.compositionFps,
        height: bundleMode.compositionHeight,
        width: bundleMode.compositionWidth,
        defaultCodec: bundleMode.compositionDefaultCodec,
        defaultOutName: bundleMode.compositionDefaultOutName,
        defaultVideoImageFormat: bundleMode.compositionDefaultVideoImageFormat,
        defaultPixelFormat: bundleMode.compositionDefaultPixelFormat,
        defaultProResProfile: bundleMode.compositionDefaultProResProfile
      },
      initialCompositions: [],
      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.RemotionRootContexts, {
        frameState: null,
        audioEnabled: window.remotion_audioEnabled,
        videoEnabled: window.remotion_videoEnabled,
        logLevel: window.remotion_logLevel,
        numberOfAudioTags: 0,
        nonceContextSeed: 0,
        audioLatencyHint: window.remotion_audioLatencyHint ?? "interactive",
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.RenderAssetManagerProvider, {
          collectAssets: null,
          children: [
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Root, {}),
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(GetVideoComposition, {
              state: bundleMode
            })
          ]
        })
      })
    });
    renderToDOM(markup);
  }
  if (bundleMode.type === "evaluation") {
    const markup = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.CompositionManagerProvider, {
      initialCanvasContent: null,
      onlyRenderComposition: null,
      currentCompositionMetadata: null,
      initialCompositions: [],
      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.RemotionRootContexts, {
        frameState: null,
        audioEnabled: window.remotion_audioEnabled,
        videoEnabled: window.remotion_videoEnabled,
        logLevel: window.remotion_logLevel,
        numberOfAudioTags: 0,
        audioLatencyHint: window.remotion_audioLatencyHint ?? "interactive",
        nonceContextSeed: 0,
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.RenderAssetManagerProvider, {
          collectAssets: null,
          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Root, {})
        })
      })
    });
    renderToDOM(markup);
  }
  if (bundleMode.type === "index") {
    if (isInHeadlessBrowser()) {
      return;
    }
    renderToDOM(/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div", {
      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DelayedSpinner, {})
    }));
    Promise.all(/* import() */[__webpack_require__.e(719), __webpack_require__.e(845)]).then(__webpack_require__.bind(__webpack_require__, 1719)).then(({ StudioInternals }) => {
      window.remotion_isStudio = true;
      window.remotion_isReadOnlyStudio = true;
      window.remotion_inputProps = "{}";
      remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.enableSequenceStackTraces();
      renderToDOM(/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StudioInternals.Studio, {
        readOnly: true,
        rootComponent: Root
      }));
    }).catch((err) => {
      renderToDOM(/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div", {
        children: [
          "Failed to load Remotion Studio: ",
          err.message
        ]
      }));
    });
  }
};
remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.waitForRoot((Root) => {
  renderContent(Root);
  (0,remotion__WEBPACK_IMPORTED_MODULE_2__.continueRender)(waitForRootHandle);
});
var setBundleModeAndUpdate = (state) => {
  setBundleMode(state);
  const delay = (0,remotion__WEBPACK_IMPORTED_MODULE_2__.delayRender)("Waiting for root component to load - See https://remotion.dev/docs/troubleshooting/loading-root-component if you experience a timeout");
  remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.waitForRoot((Root) => {
    renderContent(Root);
    requestAnimationFrame(() => {
      (0,remotion__WEBPACK_IMPORTED_MODULE_2__.continueRender)(delay);
    });
  });
};
if (typeof window !== "undefined") {
  const getUnevaluatedComps = () => {
    if (!remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.getRoot()) {
      throw new Error("registerRoot() was never called. 1. Make sure you specified the correct entrypoint for your bundle. 2. If your registerRoot() call is deferred, use the delayRender/continueRender pattern to tell Remotion to wait.");
    }
    if (!remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.compositionsRef.current) {
      throw new Error("Unexpectedly did not have a CompositionManager");
    }
    const compositions = remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.compositionsRef.current.getCompositions();
    const canSerializeDefaultProps = getCanSerializeDefaultProps(compositions);
    if (!canSerializeDefaultProps) {
      remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.Log.warn({ logLevel: window.remotion_logLevel, tag: null }, "defaultProps are too big to serialize - trying to find the problematic composition...");
      remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.Log.warn({ logLevel: window.remotion_logLevel, tag: null }, "Serialization:", compositions);
      for (const comp of compositions) {
        if (!getCanSerializeDefaultProps(comp)) {
          throw new Error(`defaultProps too big - could not serialize - the defaultProps of composition with ID ${comp.id} - the object that was passed to defaultProps was too big. Learn how to mitigate this error by visiting https://remotion.dev/docs/troubleshooting/serialize-defaultprops`);
        }
      }
      remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.Log.warn({ logLevel: window.remotion_logLevel, tag: null }, "Could not single out a problematic composition -  The composition list as a whole is too big to serialize.");
      throw new Error("defaultProps too big - Could not serialize - an object that was passed to defaultProps was too big. Learn how to mitigate this error by visiting https://remotion.dev/docs/troubleshooting/serialize-defaultprops");
    }
    return compositions;
  };
  window.getStaticCompositions = () => {
    const compositions = getUnevaluatedComps();
    const inputProps = typeof window === "undefined" || (0,remotion__WEBPACK_IMPORTED_MODULE_2__.getRemotionEnvironment)().isPlayer ? {} : (0,remotion__WEBPACK_IMPORTED_MODULE_2__.getInputProps)() ?? {};
    return Promise.all(compositions.map(async (c) => {
      const handle = (0,remotion__WEBPACK_IMPORTED_MODULE_2__.delayRender)(`Running calculateMetadata() for composition ${c.id}. If you didn't want to evaluate this composition, use "selectComposition()" instead of "getCompositions()"`);
      const originalProps = {
        ...c.defaultProps ?? {},
        ...inputProps ?? {}
      };
      const comp = remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.resolveVideoConfig({
        calculateMetadata: c.calculateMetadata,
        compositionDurationInFrames: c.durationInFrames ?? null,
        compositionFps: c.fps ?? null,
        compositionHeight: c.height ?? null,
        compositionWidth: c.width ?? null,
        signal: new AbortController().signal,
        inputProps: originalProps,
        defaultProps: c.defaultProps ?? {},
        compositionId: c.id
      });
      const resolved = await Promise.resolve(comp);
      (0,remotion__WEBPACK_IMPORTED_MODULE_2__.continueRender)(handle);
      const { props, defaultProps, ...data } = resolved;
      return {
        ...data,
        serializedResolvedPropsWithCustomSchema: remotion_no_react__WEBPACK_IMPORTED_MODULE_3__.NoReactInternals.serializeJSONWithSpecialTypes({
          data: props,
          indent: undefined,
          staticBase: null
        }).serializedString,
        serializedDefaultPropsWithCustomSchema: remotion_no_react__WEBPACK_IMPORTED_MODULE_3__.NoReactInternals.serializeJSONWithSpecialTypes({
          data: defaultProps,
          indent: undefined,
          staticBase: null
        }).serializedString
      };
    }));
  };
  window.remotion_getCompositionNames = () => {
    return getUnevaluatedComps().map((c) => c.id);
  };
  window.remotion_calculateComposition = async (compId) => {
    const compositions = getUnevaluatedComps();
    const selectedComp = compositions.find((c) => c.id === compId);
    if (!selectedComp) {
      throw new Error(`Could not find composition with ID ${compId}. Available compositions: ${compositions.map((c) => c.id).join(", ")}`);
    }
    const abortController = new AbortController;
    const handle = (0,remotion__WEBPACK_IMPORTED_MODULE_2__.delayRender)(`Running the calculateMetadata() function for composition ${compId}`);
    const inputProps = typeof window === "undefined" || (0,remotion__WEBPACK_IMPORTED_MODULE_2__.getRemotionEnvironment)().isPlayer ? {} : (0,remotion__WEBPACK_IMPORTED_MODULE_2__.getInputProps)() ?? {};
    const originalProps = {
      ...selectedComp.defaultProps ?? {},
      ...inputProps ?? {}
    };
    const prom = await Promise.resolve(remotion__WEBPACK_IMPORTED_MODULE_2__.Internals.resolveVideoConfig({
      calculateMetadata: selectedComp.calculateMetadata,
      compositionDurationInFrames: selectedComp.durationInFrames ?? null,
      compositionFps: selectedComp.fps ?? null,
      compositionHeight: selectedComp.height ?? null,
      compositionWidth: selectedComp.width ?? null,
      inputProps: originalProps,
      signal: abortController.signal,
      defaultProps: selectedComp.defaultProps ?? {},
      compositionId: selectedComp.id
    }));
    (0,remotion__WEBPACK_IMPORTED_MODULE_2__.continueRender)(handle);
    const { props, defaultProps, ...data } = prom;
    return {
      ...data,
      serializedResolvedPropsWithCustomSchema: remotion_no_react__WEBPACK_IMPORTED_MODULE_3__.NoReactInternals.serializeJSONWithSpecialTypes({
        data: props,
        indent: undefined,
        staticBase: null
      }).serializedString,
      serializedDefaultPropsWithCustomSchema: remotion_no_react__WEBPACK_IMPORTED_MODULE_3__.NoReactInternals.serializeJSONWithSpecialTypes({
        data: defaultProps,
        indent: undefined,
        staticBase: null
      }).serializedString
    };
  };
  window.remotion_setBundleMode = setBundleModeAndUpdate;
}



/***/ }),

/***/ 3947:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AbsoluteFill: () => (/* binding */ AbsoluteFill),
/* harmony export */   AnimatedImage: () => (/* binding */ AnimatedImage),
/* harmony export */   Artifact: () => (/* binding */ Artifact),
/* harmony export */   Audio: () => (/* binding */ Audio),
/* harmony export */   Composition: () => (/* binding */ Composition),
/* harmony export */   Config: () => (/* binding */ Config),
/* harmony export */   Easing: () => (/* binding */ Easing),
/* harmony export */   Experimental: () => (/* binding */ Experimental),
/* harmony export */   Folder: () => (/* binding */ Folder),
/* harmony export */   FolderContext: () => (/* binding */ FolderContext),
/* harmony export */   Freeze: () => (/* binding */ Freeze),
/* harmony export */   Html5Audio: () => (/* binding */ Html5Audio),
/* harmony export */   Html5Video: () => (/* binding */ Html5Video),
/* harmony export */   IFrame: () => (/* binding */ IFrame),
/* harmony export */   Img: () => (/* binding */ Img),
/* harmony export */   Internals: () => (/* binding */ Internals),
/* harmony export */   Loop: () => (/* binding */ Loop),
/* harmony export */   OffthreadVideo: () => (/* binding */ OffthreadVideo),
/* harmony export */   Sequence: () => (/* binding */ Sequence),
/* harmony export */   Series: () => (/* binding */ Series),
/* harmony export */   Still: () => (/* binding */ Still),
/* harmony export */   VERSION: () => (/* binding */ VERSION),
/* harmony export */   Video: () => (/* binding */ Video),
/* harmony export */   cancelRender: () => (/* binding */ cancelRender),
/* harmony export */   continueRender: () => (/* binding */ continueRender),
/* harmony export */   delayRender: () => (/* binding */ delayRender),
/* harmony export */   getInputProps: () => (/* binding */ getInputProps),
/* harmony export */   getRemotionEnvironment: () => (/* binding */ getRemotionEnvironment),
/* harmony export */   getStaticFiles: () => (/* binding */ getStaticFiles),
/* harmony export */   interpolate: () => (/* binding */ interpolate),
/* harmony export */   interpolateColors: () => (/* binding */ interpolateColors),
/* harmony export */   measureSpring: () => (/* binding */ measureSpring),
/* harmony export */   prefetch: () => (/* binding */ prefetch),
/* harmony export */   random: () => (/* binding */ random),
/* harmony export */   registerRoot: () => (/* binding */ registerRoot),
/* harmony export */   spring: () => (/* binding */ spring),
/* harmony export */   staticFile: () => (/* binding */ staticFile),
/* harmony export */   useBufferState: () => (/* binding */ useBufferState),
/* harmony export */   useCurrentFrame: () => (/* binding */ useCurrentFrame),
/* harmony export */   useCurrentScale: () => (/* binding */ useCurrentScale),
/* harmony export */   useDelayRender: () => (/* binding */ useDelayRender),
/* harmony export */   useRemotionEnvironment: () => (/* binding */ useRemotionEnvironment),
/* harmony export */   useVideoConfig: () => (/* binding */ useVideoConfig),
/* harmony export */   watchStaticFile: () => (/* binding */ watchStaticFile)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6540);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4848);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(961);
var __defProp = Object.defineProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, {
      get: all[name],
      enumerable: true,
      configurable: true,
      set: (newValue) => all[name] = () => newValue
    });
};

// src/_check-rsc.ts

if (typeof react__WEBPACK_IMPORTED_MODULE_0__.createContext !== "function") {
  const err = [
    'Remotion requires React.createContext, but it is "undefined".',
    'If you are in a React Server Component, turn it into a client component by adding "use client" at the top of the file.',
    "",
    "Before:",
    '  import {useCurrentFrame} from "remotion";',
    "",
    "After:",
    '  "use client";',
    '  import {useCurrentFrame} from "remotion";'
  ];
  throw new Error(err.join(`
`));
}

// src/Clipper.tsx
var Clipper = () => {
  throw new Error("<Clipper> has been removed as of Remotion v4.0.228. The native clipping APIs were experimental and subject to removal at any time. We removed them because they were sparingly used and made rendering often slower rather than faster.");
};

// src/enable-sequence-stack-traces.ts



// src/get-remotion-environment.ts
function getNodeEnvString() {
  return ["NOD", "E_EN", "V"].join("");
}
var getEnvString = () => {
  return ["e", "nv"].join("");
};
var getRemotionEnvironment = () => {
  const isPlayer = typeof window !== "undefined" && window.remotion_isPlayer;
  const isRendering = typeof window !== "undefined" && typeof window.process !== "undefined" && typeof window.process.env !== "undefined" && (window.process[getEnvString()][getNodeEnvString()] === "test" || window.process[getEnvString()][getNodeEnvString()] === "production" && typeof window !== "undefined" && typeof window.remotion_puppeteerTimeout !== "undefined");
  const isStudio = typeof window !== "undefined" && window.remotion_isStudio;
  const isReadOnlyStudio = typeof window !== "undefined" && window.remotion_isReadOnlyStudio;
  return {
    isStudio,
    isRendering,
    isPlayer,
    isReadOnlyStudio,
    isClientSideRendering: false
  };
};

// src/enable-sequence-stack-traces.ts
var originalCreateElement = react__WEBPACK_IMPORTED_MODULE_0__.createElement;
var originalJsx = react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx;
var componentsToAddStacksTo = [];
var enableProxy = (api) => {
  return new Proxy(api, {
    apply(target, thisArg, argArray) {
      if (componentsToAddStacksTo.includes(argArray[0])) {
        const [first, props, ...rest] = argArray;
        const newProps = {
          ...props ?? {},
          stack: new Error().stack
        };
        return Reflect.apply(target, thisArg, [first, newProps, ...rest]);
      }
      return Reflect.apply(target, thisArg, argArray);
    }
  });
};
var enableSequenceStackTraces = () => {
  if (!getRemotionEnvironment().isStudio) {
    return;
  }
  react__WEBPACK_IMPORTED_MODULE_0__.createElement = enableProxy(originalCreateElement);
  react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx = enableProxy(originalJsx);
};
var addSequenceStackTraces = (component) => {
  componentsToAddStacksTo.push(component);
  enableSequenceStackTraces();
};

// src/is-player.tsx


var IsPlayerContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(false);
var IsPlayerContextProvider = ({
  children
}) => {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(IsPlayerContext.Provider, {
    value: true,
    children
  });
};
var useIsPlayer = () => {
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(IsPlayerContext);
};

// src/truthy.ts
function truthy(value) {
  return Boolean(value);
}

// src/version.ts
var VERSION = "4.0.420";

// src/multiple-versions-warning.ts
var checkMultipleRemotionVersions = () => {
  if (typeof globalThis === "undefined") {
    return;
  }
  const set = () => {
    globalThis.remotion_imported = VERSION;
    if (typeof window !== "undefined") {
      window.remotion_imported = VERSION;
    }
  };
  const alreadyImported = globalThis.remotion_imported || typeof window !== "undefined" && window.remotion_imported;
  if (alreadyImported) {
    if (alreadyImported === VERSION) {
      return;
    }
    if (typeof alreadyImported === "string" && alreadyImported.includes("webcodecs")) {
      set();
      return;
    }
    throw new TypeError(`\uD83D\uDEA8 Multiple versions of Remotion detected: ${[
      VERSION,
      typeof alreadyImported === "string" ? alreadyImported : "an older version"
    ].filter(truthy).join(" and ")}. This will cause things to break in an unexpected way.
Check that all your Remotion packages are on the same version. If your dependencies depend on Remotion, make them peer dependencies. You can also run \`npx remotion versions\` from your terminal to see which versions are mismatching.`);
  }
  set();
};

// src/Null.tsx
var Null = () => {
  throw new Error("<Null> has been removed as of Remotion v4.0.228. The native clipping APIs were experimental and subject to removal at any time. We removed them because they were sparingly used and made rendering often slower rather than faster.");
};

// src/Sequence.tsx


// src/AbsoluteFill.tsx


var hasTailwindClassName = ({
  className,
  classPrefix,
  type
}) => {
  if (!className) {
    return false;
  }
  if (type === "exact") {
    const split = className.split(" ");
    return classPrefix.some((token) => {
      return split.some((part) => {
        return part.trim() === token || part.trim().endsWith(`:${token}`) || part.trim().endsWith(`!${token}`);
      });
    });
  }
  return classPrefix.some((prefix) => {
    return className.startsWith(prefix) || className.includes(` ${prefix}`) || className.includes(`!${prefix}`) || className.includes(`:${prefix}`);
  });
};
var AbsoluteFillRefForwarding = (props, ref) => {
  const { style, ...other } = props;
  const actualStyle = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      position: "absolute",
      top: hasTailwindClassName({
        className: other.className,
        classPrefix: ["top-", "inset-"],
        type: "prefix"
      }) ? undefined : 0,
      left: hasTailwindClassName({
        className: other.className,
        classPrefix: ["left-", "inset-"],
        type: "prefix"
      }) ? undefined : 0,
      right: hasTailwindClassName({
        className: other.className,
        classPrefix: ["right-", "inset-"],
        type: "prefix"
      }) ? undefined : 0,
      bottom: hasTailwindClassName({
        className: other.className,
        classPrefix: ["bottom-", "inset-"],
        type: "prefix"
      }) ? undefined : 0,
      width: hasTailwindClassName({
        className: other.className,
        classPrefix: ["w-"],
        type: "prefix"
      }) ? undefined : "100%",
      height: hasTailwindClassName({
        className: other.className,
        classPrefix: ["h-"],
        type: "prefix"
      }) ? undefined : "100%",
      display: hasTailwindClassName({
        className: other.className,
        classPrefix: [
          "block",
          "inline-block",
          "inline",
          "flex",
          "inline-flex",
          "flow-root",
          "grid",
          "inline-grid",
          "contents",
          "list-item",
          "hidden"
        ],
        type: "exact"
      }) ? undefined : "flex",
      flexDirection: hasTailwindClassName({
        className: other.className,
        classPrefix: [
          "flex-row",
          "flex-col",
          "flex-row-reverse",
          "flex-col-reverse"
        ],
        type: "exact"
      }) ? undefined : "column",
      ...style
    };
  }, [other.className, style]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div", {
    ref,
    style: actualStyle,
    ...other
  });
};
var AbsoluteFill = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(AbsoluteFillRefForwarding);

// src/SequenceContext.tsx

var SequenceContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);

// src/SequenceManager.tsx


var SequenceManager = react__WEBPACK_IMPORTED_MODULE_0__.createContext({
  registerSequence: () => {
    throw new Error("SequenceManagerContext not initialized");
  },
  unregisterSequence: () => {
    throw new Error("SequenceManagerContext not initialized");
  },
  sequences: []
});
var SequenceVisibilityToggleContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext({
  hidden: {},
  setHidden: () => {
    throw new Error("SequenceVisibilityToggle not initialized");
  }
});
var SequenceManagerProvider = ({ children }) => {
  const [sequences, setSequences] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);
  const [hidden, setHidden] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});
  const registerSequence = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((seq) => {
    setSequences((seqs) => {
      return [...seqs, seq];
    });
  }, []);
  const unregisterSequence = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((seq) => {
    setSequences((seqs) => seqs.filter((s) => s.id !== seq));
  }, []);
  const sequenceContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      registerSequence,
      sequences,
      unregisterSequence
    };
  }, [registerSequence, sequences, unregisterSequence]);
  const hiddenContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      hidden,
      setHidden
    };
  }, [hidden]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SequenceManager.Provider, {
    value: sequenceContext,
    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SequenceVisibilityToggleContext.Provider, {
      value: hiddenContext,
      children
    })
  });
};

// src/TimelineContext.tsx


// src/random.ts
function mulberry32(a) {
  let t = a + 1831565813;
  t = Math.imul(t ^ t >>> 15, t | 1);
  t ^= t + Math.imul(t ^ t >>> 7, t | 61);
  return ((t ^ t >>> 14) >>> 0) / 4294967296;
}
function hashCode(str) {
  let i = 0;
  let chr = 0;
  let hash = 0;
  for (i = 0;i < str.length; i++) {
    chr = str.charCodeAt(i);
    hash = (hash << 5) - hash + chr;
    hash |= 0;
  }
  return hash;
}
var random = (seed, dummy) => {
  if (dummy !== undefined) {
    throw new TypeError("random() takes only one argument");
  }
  if (seed === null) {
    return Math.random();
  }
  if (typeof seed === "string") {
    return mulberry32(hashCode(seed));
  }
  if (typeof seed === "number") {
    return mulberry32(seed * 10000000000);
  }
  throw new Error("random() argument must be a number or a string");
};

// src/timeline-position-state.ts
var exports_timeline_position_state = {};
__export(exports_timeline_position_state, {
  useTimelineSetFrame: () => useTimelineSetFrame,
  useTimelinePosition: () => useTimelinePosition,
  usePlayingState: () => usePlayingState,
  persistCurrentFrame: () => persistCurrentFrame,
  getInitialFrameState: () => getInitialFrameState,
  getFrameForComposition: () => getFrameForComposition
});


// src/use-remotion-environment.ts


// src/remotion-environment-context.ts

var RemotionEnvironmentContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);

// src/use-remotion-environment.ts
var useRemotionEnvironment = () => {
  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(RemotionEnvironmentContext);
  const [env] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => getRemotionEnvironment());
  return context ?? env;
};

// src/use-video.ts


// src/CompositionManagerContext.tsx

var CompositionManager = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({
  compositions: [],
  folders: [],
  currentCompositionMetadata: null,
  canvasContent: null
});
var CompositionSetters = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({
  registerComposition: () => {
    return;
  },
  unregisterComposition: () => {
    return;
  },
  registerFolder: () => {
    return;
  },
  unregisterFolder: () => {
    return;
  },
  setCanvasContent: () => {
    return;
  },
  updateCompositionDefaultProps: () => {
    return;
  },
  onlyRenderComposition: null
});

// src/ResolveCompositionConfig.tsx


// src/EditorProps.tsx


var EditorPropsContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({
  props: {},
  updateProps: () => {
    throw new Error("Not implemented");
  },
  resetUnsaved: () => {
    throw new Error("Not implemented");
  }
});
var editorPropsProviderRef = react__WEBPACK_IMPORTED_MODULE_0__.createRef();
var timeValueRef = react__WEBPACK_IMPORTED_MODULE_0__.createRef();
var EditorPropsProvider = ({ children }) => {
  const [props, setProps] = react__WEBPACK_IMPORTED_MODULE_0__.useState({});
  const updateProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(({
    defaultProps,
    id,
    newProps
  }) => {
    setProps((prev) => {
      return {
        ...prev,
        [id]: typeof newProps === "function" ? newProps(prev[id] ?? defaultProps) : newProps
      };
    });
  }, []);
  const resetUnsaved = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((compositionId) => {
    setProps((prev) => {
      if (prev[compositionId]) {
        const newProps = { ...prev };
        delete newProps[compositionId];
        return newProps;
      }
      return prev;
    });
  }, []);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(editorPropsProviderRef, () => {
    return {
      getProps: () => props,
      setProps
    };
  }, [props]);
  const ctx = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return { props, updateProps, resetUnsaved };
  }, [props, resetUnsaved, updateProps]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(EditorPropsContext.Provider, {
    value: ctx,
    children
  });
};

// src/input-props-override.ts
var getKey = () => {
  return `remotion_inputPropsOverride` + window.location.origin;
};
var getInputPropsOverride = () => {
  if (typeof localStorage === "undefined")
    return null;
  const override = localStorage.getItem(getKey());
  if (!override)
    return null;
  return JSON.parse(override);
};
var setInputPropsOverride = (override) => {
  if (typeof localStorage === "undefined")
    return;
  if (override === null) {
    localStorage.removeItem(getKey());
    return;
  }
  localStorage.setItem(getKey(), JSON.stringify(override));
};

// src/input-props-serialization.ts
var DATE_TOKEN = "remotion-date:";
var FILE_TOKEN = "remotion-file:";
var serializeJSONWithSpecialTypes = ({
  data,
  indent,
  staticBase
}) => {
  let customDateUsed = false;
  let customFileUsed = false;
  let mapUsed = false;
  let setUsed = false;
  try {
    const serializedString = JSON.stringify(data, function(key, value) {
      const item = this[key];
      if (item instanceof Date) {
        customDateUsed = true;
        return `${DATE_TOKEN}${item.toISOString()}`;
      }
      if (item instanceof Map) {
        mapUsed = true;
        return value;
      }
      if (item instanceof Set) {
        setUsed = true;
        return value;
      }
      if (typeof item === "string" && staticBase !== null && item.startsWith(staticBase)) {
        customFileUsed = true;
        return `${FILE_TOKEN}${item.replace(staticBase + "/", "")}`;
      }
      return value;
    }, indent);
    return { serializedString, customDateUsed, customFileUsed, mapUsed, setUsed };
  } catch (err) {
    throw new Error("Could not serialize the passed input props to JSON: " + err.message);
  }
};
var deserializeJSONWithSpecialTypes = (data) => {
  return JSON.parse(data, (_, value) => {
    if (typeof value === "string" && value.startsWith(DATE_TOKEN)) {
      return new Date(value.replace(DATE_TOKEN, ""));
    }
    if (typeof value === "string" && value.startsWith(FILE_TOKEN)) {
      return `${window.remotion_staticBase}/${value.replace(FILE_TOKEN, "")}`;
    }
    return value;
  });
};
var serializeThenDeserialize = (props) => {
  return deserializeJSONWithSpecialTypes(serializeJSONWithSpecialTypes({
    data: props,
    indent: 2,
    staticBase: window.remotion_staticBase
  }).serializedString);
};
var serializeThenDeserializeInStudio = (props) => {
  if (getRemotionEnvironment().isStudio) {
    return serializeThenDeserialize(props);
  }
  return props;
};

// src/config/input-props.ts
var didWarnSSRImport = false;
var warnOnceSSRImport = () => {
  if (didWarnSSRImport) {
    return;
  }
  didWarnSSRImport = true;
  console.warn("Called `getInputProps()` on the server. This function is not available server-side and has returned an empty object.");
  console.warn("To hide this warning, don't call this function on the server:");
  console.warn("  typeof window === 'undefined' ? {} : getInputProps()");
};
var getInputProps = () => {
  if (typeof window === "undefined") {
    warnOnceSSRImport();
    return {};
  }
  if (getRemotionEnvironment().isPlayer) {
    throw new Error("You cannot call `getInputProps()` from a <Player>. Instead, the props are available as React props from component that you passed as `component` prop.");
  }
  const override = getInputPropsOverride();
  if (override) {
    return override;
  }
  if (typeof window === "undefined" || typeof window.remotion_inputProps === "undefined") {
    throw new Error("Cannot call `getInputProps()` - window.remotion_inputProps is not set. This API is only available if you are in the Studio, or while you are rendering server-side.");
  }
  const param = window.remotion_inputProps;
  if (!param) {
    return {};
  }
  const parsed = deserializeJSONWithSpecialTypes(param);
  return parsed;
};

// src/validation/validate-dimensions.ts
function validateDimension(amount, nameOfProp, location) {
  if (typeof amount !== "number") {
    throw new Error(`The "${nameOfProp}" prop ${location} must be a number, but you passed a value of type ${typeof amount}`);
  }
  if (isNaN(amount)) {
    throw new TypeError(`The "${nameOfProp}" prop ${location} must not be NaN, but is NaN.`);
  }
  if (!Number.isFinite(amount)) {
    throw new TypeError(`The "${nameOfProp}" prop ${location} must be finite, but is ${amount}.`);
  }
  if (amount % 1 !== 0) {
    throw new TypeError(`The "${nameOfProp}" prop ${location} must be an integer, but is ${amount}.`);
  }
  if (amount <= 0) {
    throw new TypeError(`The "${nameOfProp}" prop ${location} must be positive, but got ${amount}.`);
  }
}

// src/validation/validate-duration-in-frames.ts
function validateDurationInFrames(durationInFrames, options) {
  const { allowFloats, component } = options;
  if (typeof durationInFrames === "undefined") {
    throw new Error(`The "durationInFrames" prop ${component} is missing.`);
  }
  if (typeof durationInFrames !== "number") {
    throw new Error(`The "durationInFrames" prop ${component} must be a number, but you passed a value of type ${typeof durationInFrames}`);
  }
  if (durationInFrames <= 0) {
    throw new TypeError(`The "durationInFrames" prop ${component} must be positive, but got ${durationInFrames}.`);
  }
  if (!allowFloats && durationInFrames % 1 !== 0) {
    throw new TypeError(`The "durationInFrames" prop ${component} must be an integer, but got ${durationInFrames}.`);
  }
  if (!Number.isFinite(durationInFrames)) {
    throw new TypeError(`The "durationInFrames" prop ${component} must be finite, but got ${durationInFrames}.`);
  }
}

// src/validation/validate-fps.ts
function validateFps(fps, location, isGif) {
  if (typeof fps !== "number") {
    throw new Error(`"fps" must be a number, but you passed a value of type ${typeof fps} ${location}`);
  }
  if (!Number.isFinite(fps)) {
    throw new Error(`"fps" must be a finite, but you passed ${fps} ${location}`);
  }
  if (isNaN(fps)) {
    throw new Error(`"fps" must not be NaN, but got ${fps} ${location}`);
  }
  if (fps <= 0) {
    throw new TypeError(`"fps" must be positive, but got ${fps} ${location}`);
  }
  if (isGif && fps > 50) {
    throw new TypeError(`The FPS for a GIF cannot be higher than 50. Use the --every-nth-frame option to lower the FPS: https://remotion.dev/docs/render-as-gif`);
  }
}

// src/ResolveCompositionConfig.tsx
var ResolveCompositionContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);
var resolveCompositionsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.createRef)();
var needsResolution = (composition) => {
  return Boolean(composition.calculateMetadata);
};
var PROPS_UPDATED_EXTERNALLY = "remotion.propsUpdatedExternally";
var useResolvedVideoConfig = (preferredCompositionId) => {
  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ResolveCompositionContext);
  const { props: allEditorProps } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(EditorPropsContext);
  const { compositions, canvasContent, currentCompositionMetadata } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CompositionManager);
  const currentComposition = canvasContent?.type === "composition" ? canvasContent.compositionId : null;
  const compositionId = preferredCompositionId ?? currentComposition;
  const composition = compositions.find((c) => c.id === compositionId);
  const selectedEditorProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return composition ? allEditorProps[composition.id] ?? {} : {};
  }, [allEditorProps, composition]);
  const env = useRemotionEnvironment();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!composition) {
      return null;
    }
    if (currentCompositionMetadata) {
      return {
        type: "success",
        result: {
          ...currentCompositionMetadata,
          id: composition.id,
          defaultProps: composition.defaultProps ?? {}
        }
      };
    }
    if (!needsResolution(composition)) {
      validateDurationInFrames(composition.durationInFrames, {
        allowFloats: false,
        component: `in <Composition id="${composition.id}">`
      });
      validateFps(composition.fps, `in <Composition id="${composition.id}">`, false);
      validateDimension(composition.width, "width", `in <Composition id="${composition.id}">`);
      validateDimension(composition.height, "height", `in <Composition id="${composition.id}">`);
      return {
        type: "success",
        result: {
          width: composition.width,
          height: composition.height,
          fps: composition.fps,
          id: composition.id,
          durationInFrames: composition.durationInFrames,
          defaultProps: composition.defaultProps ?? {},
          props: {
            ...composition.defaultProps ?? {},
            ...selectedEditorProps ?? {},
            ...typeof window === "undefined" || env.isPlayer || !window.remotion_inputProps ? {} : getInputProps() ?? {}
          },
          defaultCodec: null,
          defaultOutName: null,
          defaultVideoImageFormat: null,
          defaultPixelFormat: null,
          defaultProResProfile: null
        }
      };
    }
    if (!context) {
      return null;
    }
    if (!context[composition.id]) {
      return null;
    }
    return context[composition.id];
  }, [
    composition,
    context,
    currentCompositionMetadata,
    selectedEditorProps,
    env.isPlayer
  ]);
};

// src/use-video.ts
var useVideo = () => {
  const { canvasContent, compositions, currentCompositionMetadata } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CompositionManager);
  const selected = compositions.find((c) => {
    return canvasContent?.type === "composition" && c.id === canvasContent.compositionId;
  });
  const resolved = useResolvedVideoConfig(selected?.id ?? null);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!resolved) {
      return null;
    }
    if (resolved.type === "error") {
      return null;
    }
    if (resolved.type === "loading") {
      return null;
    }
    if (!selected) {
      return null;
    }
    return {
      ...resolved.result,
      defaultProps: selected.defaultProps ?? {},
      id: selected.id,
      ...currentCompositionMetadata ?? {},
      component: selected.component
    };
  }, [currentCompositionMetadata, resolved, selected]);
};

// src/timeline-position-state.ts
var makeKey = () => {
  return `remotion.time-all`;
};
var persistCurrentFrame = (time) => {
  localStorage.setItem(makeKey(), JSON.stringify(time));
};
var getInitialFrameState = () => {
  const item = localStorage.getItem(makeKey()) ?? "{}";
  const obj = JSON.parse(item);
  return obj;
};
var getFrameForComposition = (composition) => {
  const item = localStorage.getItem(makeKey()) ?? "{}";
  const obj = JSON.parse(item);
  if (obj[composition] !== undefined) {
    return Number(obj[composition]);
  }
  if (typeof window === "undefined") {
    return 0;
  }
  return window.remotion_initialFrame ?? 0;
};
var useTimelinePosition = () => {
  const videoConfig = useVideo();
  const state = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(TimelineContext);
  const env = useRemotionEnvironment();
  if (!videoConfig) {
    return typeof window === "undefined" ? 0 : window.remotion_initialFrame ?? 0;
  }
  const unclamped = state.frame[videoConfig.id] ?? (env.isPlayer ? 0 : getFrameForComposition(videoConfig.id));
  return Math.min(videoConfig.durationInFrames - 1, unclamped);
};
var useTimelineSetFrame = () => {
  const { setFrame } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SetTimelineContext);
  return setFrame;
};
var usePlayingState = () => {
  const { playing, imperativePlaying } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(TimelineContext);
  const { setPlaying } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SetTimelineContext);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => [playing, setPlaying, imperativePlaying], [imperativePlaying, playing, setPlaying]);
};

// src/use-delay-render.tsx


// src/cancel-render.ts
var getErrorStackWithMessage = (error) => {
  const stack = error.stack ?? "";
  return stack.startsWith("Error:") ? stack : `${error.message}
${stack}`;
};
var isErrorLike = (err) => {
  if (err instanceof Error) {
    return true;
  }
  if (err === null) {
    return false;
  }
  if (typeof err !== "object") {
    return false;
  }
  if (!("stack" in err)) {
    return false;
  }
  if (typeof err.stack !== "string") {
    return false;
  }
  if (!("message" in err)) {
    return false;
  }
  if (typeof err.message !== "string") {
    return false;
  }
  return true;
};
function cancelRenderInternal(scope, err) {
  let error;
  if (isErrorLike(err)) {
    error = err;
    if (!error.stack) {
      error.stack = new Error(error.message).stack;
    }
  } else if (typeof err === "string") {
    error = Error(err);
  } else {
    error = Error("Rendering was cancelled");
  }
  if (scope) {
    scope.remotion_cancelledError = getErrorStackWithMessage(error);
  }
  throw error;
}
function cancelRender(err) {
  return cancelRenderInternal(typeof window !== "undefined" ? window : undefined, err);
}

// src/log.ts
var logLevels = ["trace", "verbose", "info", "warn", "error"];
var getNumberForLogLevel = (level) => {
  return logLevels.indexOf(level);
};
var isEqualOrBelowLogLevel = (currentLevel, level) => {
  return getNumberForLogLevel(currentLevel) <= getNumberForLogLevel(level);
};
var transformArgs = ({
  args,
  logLevel,
  tag
}) => {
  const arr = [...args];
  if (getRemotionEnvironment().isRendering && !getRemotionEnvironment().isClientSideRendering) {
    arr.unshift(Symbol.for(`__remotion_level_${logLevel}`));
  }
  if (tag && getRemotionEnvironment().isRendering && !getRemotionEnvironment().isClientSideRendering) {
    arr.unshift(Symbol.for(`__remotion_tag_${tag}`));
  }
  return arr;
};
var verbose = (options, ...args) => {
  if (isEqualOrBelowLogLevel(options.logLevel, "verbose")) {
    return console.debug(...transformArgs({ args, logLevel: "verbose", tag: options.tag }));
  }
};
var trace = (options, ...args) => {
  if (isEqualOrBelowLogLevel(options.logLevel, "trace")) {
    return console.debug(...transformArgs({ args, logLevel: "trace", tag: options.tag }));
  }
};
var info = (options, ...args) => {
  if (isEqualOrBelowLogLevel(options.logLevel, "info")) {
    return console.log(...transformArgs({ args, logLevel: "info", tag: options.tag }));
  }
};
var warn = (options, ...args) => {
  if (isEqualOrBelowLogLevel(options.logLevel, "warn")) {
    return console.warn(...transformArgs({ args, logLevel: "warn", tag: options.tag }));
  }
};
var error = (options, ...args) => {
  return console.error(...transformArgs({ args, logLevel: "error", tag: options.tag }));
};
var Log = {
  trace,
  verbose,
  info,
  warn,
  error
};

// src/delay-render.ts
if (typeof window !== "undefined") {
  window.remotion_renderReady = false;
  if (!window.remotion_delayRenderTimeouts) {
    window.remotion_delayRenderTimeouts = {};
  }
  window.remotion_delayRenderHandles = [];
}
var DELAY_RENDER_CALLSTACK_TOKEN = "The delayRender was called:";
var DELAY_RENDER_RETRIES_LEFT = "Retries left: ";
var DELAY_RENDER_RETRY_TOKEN = "- Rendering the frame will be retried.";
var DELAY_RENDER_CLEAR_TOKEN = "handle was cleared after";
var defaultTimeout = 30000;
var delayRenderInternal = ({
  scope,
  environment,
  label,
  options
}) => {
  if (typeof label !== "string" && label !== null) {
    throw new Error("The label parameter of delayRender() must be a string or undefined, got: " + JSON.stringify(label));
  }
  const handle = Math.random();
  scope.remotion_delayRenderHandles.push(handle);
  const called = Error().stack?.replace(/^Error/g, "") ?? "";
  if (environment.isRendering) {
    const timeoutToUse = (options?.timeoutInMilliseconds ?? scope.remotion_puppeteerTimeout ?? defaultTimeout) - 2000;
    const retriesLeft = (options?.retries ?? 0) - (scope.remotion_attempt - 1);
    scope.remotion_delayRenderTimeouts[handle] = {
      label: label ?? null,
      startTime: Date.now(),
      timeout: setTimeout(() => {
        const message = [
          `A delayRender()`,
          label ? `"${label}"` : null,
          `was called but not cleared after ${timeoutToUse}ms. See https://remotion.dev/docs/timeout for help.`,
          retriesLeft > 0 ? DELAY_RENDER_RETRIES_LEFT + retriesLeft : null,
          retriesLeft > 0 ? DELAY_RENDER_RETRY_TOKEN : null,
          DELAY_RENDER_CALLSTACK_TOKEN,
          called
        ].filter(truthy).join(" ");
        if (environment.isClientSideRendering) {
          scope.remotion_cancelledError = getErrorStackWithMessage(Error(message));
        } else {
          cancelRenderInternal(scope, Error(message));
        }
      }, timeoutToUse)
    };
  }
  scope.remotion_renderReady = false;
  return handle;
};
var delayRender = (label, options) => {
  if (typeof window === "undefined") {
    return Math.random();
  }
  return delayRenderInternal({
    scope: window,
    environment: getRemotionEnvironment(),
    label: label ?? null,
    options: options ?? {}
  });
};
var continueRenderInternal = ({
  scope,
  handle,
  environment,
  logLevel
}) => {
  if (typeof handle === "undefined") {
    throw new TypeError("The continueRender() method must be called with a parameter that is the return value of delayRender(). No value was passed.");
  }
  if (typeof handle !== "number") {
    throw new TypeError("The parameter passed into continueRender() must be the return value of delayRender() which is a number. Got: " + JSON.stringify(handle));
  }
  scope.remotion_delayRenderHandles = scope.remotion_delayRenderHandles.filter((h) => {
    if (h === handle) {
      if (environment.isRendering && scope !== undefined) {
        if (!scope.remotion_delayRenderTimeouts[handle]) {
          return false;
        }
        const { label, startTime, timeout } = scope.remotion_delayRenderTimeouts[handle];
        clearTimeout(timeout);
        const message = [
          label ? `"${label}"` : "A handle",
          DELAY_RENDER_CLEAR_TOKEN,
          `${Date.now() - startTime}ms`
        ].filter(truthy).join(" ");
        Log.verbose({ logLevel, tag: "delayRender()" }, message);
        delete scope.remotion_delayRenderTimeouts[handle];
      }
      return false;
    }
    return true;
  });
  if (scope.remotion_delayRenderHandles.length === 0) {
    scope.remotion_renderReady = true;
  }
};
var continueRender = (handle) => {
  if (typeof window === "undefined") {
    return;
  }
  continueRenderInternal({
    scope: window,
    handle,
    environment: getRemotionEnvironment(),
    logLevel: window.remotion_logLevel ?? "info"
  });
};

// src/log-level-context.tsx


var LogLevelContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({
  logLevel: "info",
  mountTime: 0
});
var useLogLevel = () => {
  const { logLevel } = react__WEBPACK_IMPORTED_MODULE_0__.useContext(LogLevelContext);
  if (logLevel === null) {
    throw new Error("useLogLevel must be used within a LogLevelProvider");
  }
  return logLevel;
};
var useMountTime = () => {
  const { mountTime } = react__WEBPACK_IMPORTED_MODULE_0__.useContext(LogLevelContext);
  if (mountTime === null) {
    throw new Error("useMountTime must be used within a LogLevelProvider");
  }
  return mountTime;
};

// src/use-delay-render.tsx
var DelayRenderContextType = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);
var useDelayRender = () => {
  const environment = useRemotionEnvironment();
  const scope = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(DelayRenderContextType) ?? (typeof window !== "undefined" ? window : undefined);
  const logLevel = useLogLevel();
  const delayRender2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((label, options) => {
    if (!scope) {
      return Math.random();
    }
    return delayRenderInternal({
      scope,
      environment,
      label: label ?? null,
      options: options ?? {}
    });
  }, [environment, scope]);
  const continueRender2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((handle) => {
    if (!scope) {
      return;
    }
    continueRenderInternal({
      scope,
      handle,
      environment,
      logLevel
    });
  }, [environment, logLevel, scope]);
  const cancelRender2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((err) => {
    return cancelRenderInternal(scope ?? (typeof window !== "undefined" ? window : undefined), err);
  }, [scope]);
  return { delayRender: delayRender2, continueRender: continueRender2, cancelRender: cancelRender2 };
};

// src/TimelineContext.tsx

var SetTimelineContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({
  setFrame: () => {
    throw new Error("default");
  },
  setPlaying: () => {
    throw new Error("default");
  }
});
var TimelineContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({
  frame: {},
  playing: false,
  playbackRate: 1,
  rootId: "",
  imperativePlaying: {
    current: false
  },
  setPlaybackRate: () => {
    throw new Error("default");
  },
  audioAndVideoTags: { current: [] }
});
var TimelineContextProvider = ({ children, frameState }) => {
  const [playing, setPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const imperativePlaying = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  const [playbackRate, setPlaybackRate] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(1);
  const audioAndVideoTags = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);
  const [remotionRootId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => String(random(null)));
  const [_frame, setFrame] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => getInitialFrameState());
  const frame = frameState ?? _frame;
  const { delayRender: delayRender2, continueRender: continueRender2 } = useDelayRender();
  if (typeof window !== "undefined") {
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
      window.remotion_setFrame = (f, composition, attempt) => {
        window.remotion_attempt = attempt;
        const id = delayRender2(`Setting the current frame to ${f}`);
        let asyncUpdate = true;
        setFrame((s) => {
          const currentFrame = s[composition] ?? window.remotion_initialFrame;
          if (currentFrame === f) {
            asyncUpdate = false;
            return s;
          }
          return {
            ...s,
            [composition]: f
          };
        });
        if (asyncUpdate) {
          requestAnimationFrame(() => continueRender2(id));
        } else {
          continueRender2(id);
        }
      };
      window.remotion_isPlayer = false;
    }, [continueRender2, delayRender2]);
  }
  const timelineContextValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      frame,
      playing,
      imperativePlaying,
      rootId: remotionRootId,
      playbackRate,
      setPlaybackRate,
      audioAndVideoTags
    };
  }, [frame, playbackRate, playing, remotionRootId]);
  const setTimelineContextValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      setFrame,
      setPlaying
    };
  }, []);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(TimelineContext.Provider, {
    value: timelineContextValue,
    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SetTimelineContext.Provider, {
      value: setTimelineContextValue,
      children
    })
  });
};

// src/nonce.ts

var NonceContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({
  getNonce: () => 0
});
var useNonce = () => {
  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(NonceContext);
  const [nonce, setNonce] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => context.getNonce());
  const lastContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(context);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (lastContext.current === context) {
      return;
    }
    lastContext.current = context;
    setNonce(context.getNonce);
  }, [context]);
  return nonce;
};

// src/use-video-config.ts


// src/CanUseRemotionHooks.tsx


var CanUseRemotionHooks = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(false);
var CanUseRemotionHooksProvider = ({ children }) => {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CanUseRemotionHooks.Provider, {
    value: true,
    children
  });
};

// src/use-unsafe-video-config.ts

var useUnsafeVideoConfig = () => {
  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SequenceContext);
  const ctxWidth = context?.width ?? null;
  const ctxHeight = context?.height ?? null;
  const ctxDuration = context?.durationInFrames ?? null;
  const video = useVideo();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!video) {
      return null;
    }
    const {
      id,
      durationInFrames,
      fps,
      height,
      width,
      defaultProps,
      props,
      defaultCodec,
      defaultOutName,
      defaultVideoImageFormat,
      defaultPixelFormat,
      defaultProResProfile
    } = video;
    return {
      id,
      width: ctxWidth ?? width,
      height: ctxHeight ?? height,
      fps,
      durationInFrames: ctxDuration ?? durationInFrames,
      defaultProps,
      props,
      defaultCodec,
      defaultOutName,
      defaultVideoImageFormat,
      defaultPixelFormat,
      defaultProResProfile
    };
  }, [ctxDuration, ctxHeight, ctxWidth, video]);
};

// src/use-video-config.ts
var useVideoConfig = () => {
  const videoConfig = useUnsafeVideoConfig();
  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CanUseRemotionHooks);
  const isPlayer = useIsPlayer();
  if (!videoConfig) {
    if (typeof window !== "undefined" && window.remotion_isPlayer || isPlayer) {
      throw new Error([
        "No video config found. Likely reasons:",
        "- You are probably calling useVideoConfig() from outside the component passed to <Player />. See https://www.remotion.dev/docs/player/examples for how to set up the Player correctly.",
        "- You have multiple versions of Remotion installed which causes the React context to get lost."
      ].join("-"));
    }
    throw new Error("No video config found. You are probably calling useVideoConfig() from a component which has not been registered as a <Composition />. See https://www.remotion.dev/docs/the-fundamentals#defining-compositions for more information.");
  }
  if (!context) {
    throw new Error("Called useVideoConfig() outside a Remotion composition.");
  }
  return videoConfig;
};

// src/freeze.tsx


// src/use-current-frame.ts

var useCurrentFrame = () => {
  const canUseRemotionHooks = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CanUseRemotionHooks);
  const env = useRemotionEnvironment();
  if (!canUseRemotionHooks) {
    if (env.isPlayer) {
      throw new Error(`useCurrentFrame can only be called inside a component that was passed to <Player>. See: https://www.remotion.dev/docs/player/examples`);
    }
    throw new Error(`useCurrentFrame() can only be called inside a component that was registered as a composition. See https://www.remotion.dev/docs/the-fundamentals#defining-compositions`);
  }
  const frame = useTimelinePosition();
  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SequenceContext);
  const contextOffset = context ? context.cumulatedFrom + context.relativeFrom : 0;
  return frame - contextOffset;
};

// src/freeze.tsx

var Freeze = ({
  frame: frameToFreeze,
  children,
  active = true
}) => {
  const frame = useCurrentFrame();
  const videoConfig = useVideoConfig();
  if (typeof frameToFreeze === "undefined") {
    throw new Error(`The <Freeze /> component requires a 'frame' prop, but none was passed.`);
  }
  if (typeof frameToFreeze !== "number") {
    throw new Error(`The 'frame' prop of <Freeze /> must be a number, but is of type ${typeof frameToFreeze}`);
  }
  if (Number.isNaN(frameToFreeze)) {
    throw new Error(`The 'frame' prop of <Freeze /> must be a real number, but it is NaN.`);
  }
  if (!Number.isFinite(frameToFreeze)) {
    throw new Error(`The 'frame' prop of <Freeze /> must be a finite number, but it is ${frameToFreeze}.`);
  }
  const isActive = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (typeof active === "boolean") {
      return active;
    }
    if (typeof active === "function") {
      return active(frame);
    }
  }, [active, frame]);
  const timelineContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(TimelineContext);
  const sequenceContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SequenceContext);
  const relativeFrom = sequenceContext?.relativeFrom ?? 0;
  const timelineValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!isActive) {
      return timelineContext;
    }
    return {
      ...timelineContext,
      playing: false,
      imperativePlaying: {
        current: false
      },
      frame: {
        [videoConfig.id]: frameToFreeze + relativeFrom
      }
    };
  }, [isActive, timelineContext, videoConfig.id, frameToFreeze, relativeFrom]);
  const newSequenceContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!sequenceContext) {
      return null;
    }
    if (!isActive) {
      return sequenceContext;
    }
    return {
      ...sequenceContext,
      cumulatedFrom: 0
    };
  }, [sequenceContext, isActive]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(TimelineContext.Provider, {
    value: timelineValue,
    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SequenceContext.Provider, {
      value: newSequenceContext,
      children
    })
  });
};

// src/Sequence.tsx

var RegularSequenceRefForwardingFunction = ({
  from = 0,
  durationInFrames = Infinity,
  children,
  name,
  height,
  width,
  showInTimeline = true,
  _remotionInternalLoopDisplay: loopDisplay,
  _remotionInternalStack: stack,
  _remotionInternalPremountDisplay: premountDisplay,
  _remotionInternalPostmountDisplay: postmountDisplay,
  ...other
}, ref) => {
  const { layout = "absolute-fill" } = other;
  const [id] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => String(Math.random()));
  const parentSequence = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SequenceContext);
  const { rootId } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(TimelineContext);
  const cumulatedFrom = parentSequence ? parentSequence.cumulatedFrom + parentSequence.relativeFrom : 0;
  const nonce = useNonce();
  if (layout !== "absolute-fill" && layout !== "none") {
    throw new TypeError(`The layout prop of <Sequence /> expects either "absolute-fill" or "none", but you passed: ${layout}`);
  }
  if (layout === "none" && typeof other.style !== "undefined") {
    throw new TypeError('If layout="none", you may not pass a style.');
  }
  if (typeof durationInFrames !== "number") {
    throw new TypeError(`You passed to durationInFrames an argument of type ${typeof durationInFrames}, but it must be a number.`);
  }
  if (durationInFrames <= 0) {
    throw new TypeError(`durationInFrames must be positive, but got ${durationInFrames}`);
  }
  if (typeof from !== "number") {
    throw new TypeError(`You passed to the "from" props of your <Sequence> an argument of type ${typeof from}, but it must be a number.`);
  }
  if (!Number.isFinite(from)) {
    throw new TypeError(`The "from" prop of a sequence must be finite, but got ${from}.`);
  }
  const absoluteFrame = useTimelinePosition();
  const videoConfig = useVideoConfig();
  const parentSequenceDuration = parentSequence ? Math.min(parentSequence.durationInFrames - from, durationInFrames) : durationInFrames;
  const actualDurationInFrames = Math.max(0, Math.min(videoConfig.durationInFrames - from, parentSequenceDuration));
  const { registerSequence, unregisterSequence } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SequenceManager);
  const { hidden } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SequenceVisibilityToggleContext);
  const premounting = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return parentSequence?.premounting || Boolean(other._remotionInternalIsPremounting);
  }, [other._remotionInternalIsPremounting, parentSequence?.premounting]);
  const postmounting = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return parentSequence?.postmounting || Boolean(other._remotionInternalIsPostmounting);
  }, [other._remotionInternalIsPostmounting, parentSequence?.postmounting]);
  const contextValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      cumulatedFrom,
      relativeFrom: from,
      durationInFrames: actualDurationInFrames,
      parentFrom: parentSequence?.relativeFrom ?? 0,
      id,
      height: height ?? parentSequence?.height ?? null,
      width: width ?? parentSequence?.width ?? null,
      premounting,
      postmounting,
      premountDisplay: premountDisplay ?? null,
      postmountDisplay: postmountDisplay ?? null
    };
  }, [
    cumulatedFrom,
    from,
    actualDurationInFrames,
    parentSequence,
    id,
    height,
    width,
    premounting,
    postmounting,
    premountDisplay,
    postmountDisplay
  ]);
  const timelineClipName = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return name ?? "";
  }, [name]);
  const env = useRemotionEnvironment();
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!env.isStudio) {
      return;
    }
    registerSequence({
      from,
      duration: actualDurationInFrames,
      id,
      displayName: timelineClipName,
      parent: parentSequence?.id ?? null,
      type: "sequence",
      rootId,
      showInTimeline,
      nonce,
      loopDisplay,
      stack: stack ?? null,
      premountDisplay: premountDisplay ?? null,
      postmountDisplay: postmountDisplay ?? null
    });
    return () => {
      unregisterSequence(id);
    };
  }, [
    durationInFrames,
    id,
    name,
    registerSequence,
    timelineClipName,
    unregisterSequence,
    parentSequence?.id,
    actualDurationInFrames,
    rootId,
    from,
    showInTimeline,
    nonce,
    loopDisplay,
    stack,
    premountDisplay,
    postmountDisplay,
    env.isStudio
  ]);
  const endThreshold = Math.ceil(cumulatedFrom + from + durationInFrames - 1);
  const content = absoluteFrame < cumulatedFrom + from ? null : absoluteFrame > endThreshold ? null : children;
  const styleIfThere = other.layout === "none" ? undefined : other.style;
  const defaultStyle = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      flexDirection: undefined,
      ...width ? { width } : {},
      ...height ? { height } : {},
      ...styleIfThere ?? {}
    };
  }, [height, styleIfThere, width]);
  if (ref !== null && layout === "none") {
    throw new TypeError('It is not supported to pass both a `ref` and `layout="none"` to <Sequence />.');
  }
  const isSequenceHidden = hidden[id] ?? false;
  if (isSequenceHidden) {
    return null;
  }
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SequenceContext.Provider, {
    value: contextValue,
    children: content === null ? null : other.layout === "none" ? content : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(AbsoluteFill, {
      ref,
      style: defaultStyle,
      className: other.className,
      children: content
    })
  });
};
var RegularSequence = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(RegularSequenceRefForwardingFunction);
var PremountedPostmountedSequenceRefForwardingFunction = (props, ref) => {
  const frame = useCurrentFrame();
  if (props.layout === "none") {
    throw new Error('`<Sequence>` with `premountFor` and `postmountFor` props does not support layout="none"');
  }
  const {
    style: passedStyle,
    from = 0,
    durationInFrames = Infinity,
    premountFor = 0,
    postmountFor = 0,
    styleWhilePremounted,
    styleWhilePostmounted,
    ...otherProps
  } = props;
  const endThreshold = Math.ceil(from + durationInFrames - 1);
  const premountingActive = frame < from && frame >= from - premountFor;
  const postmountingActive = frame > endThreshold && frame <= endThreshold + postmountFor;
  const freezeFrame = premountingActive ? from : postmountingActive ? from + durationInFrames - 1 : 0;
  const isFreezingActive = premountingActive || postmountingActive;
  const style = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      ...passedStyle,
      opacity: premountingActive || postmountingActive ? 0 : 1,
      pointerEvents: premountingActive || postmountingActive ? "none" : passedStyle?.pointerEvents ?? undefined,
      ...premountingActive ? styleWhilePremounted : {},
      ...postmountingActive ? styleWhilePostmounted : {}
    };
  }, [
    passedStyle,
    premountingActive,
    postmountingActive,
    styleWhilePremounted,
    styleWhilePostmounted
  ]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Freeze, {
    frame: freezeFrame,
    active: isFreezingActive,
    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Sequence, {
      ref,
      from,
      durationInFrames,
      style,
      _remotionInternalPremountDisplay: premountFor,
      _remotionInternalPostmountDisplay: postmountFor,
      _remotionInternalIsPremounting: premountingActive,
      _remotionInternalIsPostmounting: postmountingActive,
      ...otherProps
    })
  });
};
var PremountedPostmountedSequence = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(PremountedPostmountedSequenceRefForwardingFunction);
var SequenceRefForwardingFunction = (props, ref) => {
  const env = useRemotionEnvironment();
  if (props.layout !== "none" && !env.isRendering) {
    if (props.premountFor || props.postmountFor) {
      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(PremountedPostmountedSequence, {
        ...props,
        ref
      });
    }
  }
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(RegularSequence, {
    ...props,
    ref
  });
};
var Sequence = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(SequenceRefForwardingFunction);
// src/animated-image/AnimatedImage.tsx


// src/animated-image/canvas.tsx


var calcArgs = (fit, frameSize, canvasSize) => {
  switch (fit) {
    case "fill": {
      return [
        0,
        0,
        frameSize.width,
        frameSize.height,
        0,
        0,
        canvasSize.width,
        canvasSize.height
      ];
    }
    case "contain": {
      const ratio = Math.min(canvasSize.width / frameSize.width, canvasSize.height / frameSize.height);
      const centerX = (canvasSize.width - frameSize.width * ratio) / 2;
      const centerY = (canvasSize.height - frameSize.height * ratio) / 2;
      return [
        0,
        0,
        frameSize.width,
        frameSize.height,
        centerX,
        centerY,
        frameSize.width * ratio,
        frameSize.height * ratio
      ];
    }
    case "cover": {
      const ratio = Math.max(canvasSize.width / frameSize.width, canvasSize.height / frameSize.height);
      const centerX = (canvasSize.width - frameSize.width * ratio) / 2;
      const centerY = (canvasSize.height - frameSize.height * ratio) / 2;
      return [
        0,
        0,
        frameSize.width,
        frameSize.height,
        centerX,
        centerY,
        frameSize.width * ratio,
        frameSize.height * ratio
      ];
    }
    default:
      throw new Error("Unknown fit: " + fit);
  }
};
var CanvasRefForwardingFunction = ({ width, height, fit, className, style }, ref) => {
  const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const draw = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((imageData) => {
    const canvas = canvasRef.current;
    const canvasWidth = width ?? imageData.displayWidth;
    const canvasHeight = height ?? imageData.displayHeight;
    if (!canvas) {
      throw new Error("Canvas ref is not set");
    }
    const ctx = canvasRef.current?.getContext("2d");
    if (!ctx) {
      throw new Error("Could not get 2d context");
    }
    canvas.width = canvasWidth;
    canvas.height = canvasHeight;
    ctx.drawImage(imageData, ...calcArgs(fit, {
      height: imageData.displayHeight,
      width: imageData.displayWidth
    }, {
      width: canvasWidth,
      height: canvasHeight
    }));
  }, [fit, height, width]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => {
    return {
      draw,
      getCanvas: () => {
        if (!canvasRef.current) {
          throw new Error("Canvas ref is not set");
        }
        return canvasRef.current;
      },
      clear: () => {
        const ctx = canvasRef.current?.getContext("2d");
        if (!ctx) {
          throw new Error("Could not get 2d context");
        }
        ctx.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);
      }
    };
  }, [draw]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("canvas", {
    ref: canvasRef,
    className,
    style
  });
};
var Canvas = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(CanvasRefForwardingFunction);

// src/animated-image/decode-image.ts
var CACHE_SIZE = 5;
var getActualTime = ({
  loopBehavior,
  durationFound,
  timeInSec
}) => {
  return loopBehavior === "loop" ? durationFound ? timeInSec % durationFound : timeInSec : Math.min(timeInSec, durationFound || Infinity);
};
var decodeImage = async ({
  resolvedSrc,
  signal,
  currentTime,
  initialLoopBehavior
}) => {
  if (typeof ImageDecoder === "undefined") {
    throw new Error("Your browser does not support the WebCodecs ImageDecoder API.");
  }
  const res = await fetch(resolvedSrc, { signal });
  const { body } = res;
  if (!body) {
    throw new Error("Got no body");
  }
  const decoder = new ImageDecoder({
    data: body,
    type: res.headers.get("Content-Type") || "image/gif"
  });
  await decoder.completed;
  const { selectedTrack } = decoder.tracks;
  if (!selectedTrack) {
    throw new Error("No selected track");
  }
  const cache = [];
  let durationFound = null;
  const getFrameByIndex = async (frameIndex) => {
    const foundInCache = cache.find((c) => c.frameIndex === frameIndex);
    if (foundInCache && foundInCache.frame) {
      return foundInCache;
    }
    const frame = await decoder.decode({
      frameIndex,
      completeFramesOnly: true
    });
    if (foundInCache) {
      foundInCache.frame = frame.image;
    } else {
      cache.push({
        frame: frame.image,
        frameIndex,
        timeInSeconds: frame.image.timestamp / 1e6
      });
    }
    return {
      frame: frame.image,
      frameIndex,
      timeInSeconds: frame.image.timestamp / 1e6
    };
  };
  const clearCache = (closeToTimeInSec) => {
    const itemsInCache = cache.filter((c) => c.frame);
    const sortByClosestToCurrentTime = itemsInCache.sort((a, b) => {
      const aDiff = Math.abs(a.timeInSeconds - closeToTimeInSec);
      const bDiff = Math.abs(b.timeInSeconds - closeToTimeInSec);
      return aDiff - bDiff;
    });
    for (let i = 0;i < sortByClosestToCurrentTime.length; i++) {
      if (i < CACHE_SIZE) {
        continue;
      }
      const item = sortByClosestToCurrentTime[i];
      item.frame = null;
    }
  };
  const ensureFrameBeforeAndAfter = async ({
    timeInSec,
    loopBehavior
  }) => {
    const actualTimeInSec = getActualTime({
      durationFound,
      loopBehavior,
      timeInSec
    });
    const framesBefore = cache.filter((c) => c.timeInSeconds <= actualTimeInSec);
    const biggestIndex = framesBefore.map((c) => c.frameIndex).reduce((a, b) => Math.max(a, b), 0);
    let i = biggestIndex;
    while (true) {
      const f = await getFrameByIndex(i);
      i++;
      if (!f.frame) {
        throw new Error("No frame found");
      }
      if (!f.frame.duration) {
        break;
      }
      if (i === selectedTrack.frameCount && durationFound === null) {
        const duration = (f.frame.timestamp + f.frame.duration) / 1e6;
        durationFound = duration;
      }
      if (f.timeInSeconds > actualTimeInSec || i === selectedTrack.frameCount) {
        break;
      }
    }
    if (selectedTrack.frameCount - biggestIndex < 3 && loopBehavior === "loop") {
      await getFrameByIndex(0);
    }
    clearCache(actualTimeInSec);
  };
  await ensureFrameBeforeAndAfter({
    timeInSec: currentTime,
    loopBehavior: initialLoopBehavior
  });
  await ensureFrameBeforeAndAfter({
    timeInSec: currentTime,
    loopBehavior: initialLoopBehavior
  });
  const getFrame = async (timeInSec, loopBehavior) => {
    if (durationFound !== null && timeInSec > durationFound && loopBehavior === "clear-after-finish") {
      return null;
    }
    const actualTimeInSec = getActualTime({
      loopBehavior,
      durationFound,
      timeInSec
    });
    await ensureFrameBeforeAndAfter({ timeInSec: actualTimeInSec, loopBehavior });
    const itemsInCache = cache.filter((c) => c.frame);
    const closest = itemsInCache.reduce((a, b) => {
      const aDiff = Math.abs(a.timeInSeconds - actualTimeInSec);
      const bDiff = Math.abs(b.timeInSeconds - actualTimeInSec);
      return aDiff < bDiff ? a : b;
    });
    if (!closest.frame) {
      throw new Error("No frame found");
    }
    return closest;
  };
  return {
    getFrame,
    frameCount: selectedTrack.frameCount
  };
};

// src/animated-image/resolve-image-source.tsx
var resolveAnimatedImageSource = (src) => {
  if (typeof window === "undefined") {
    return src;
  }
  return new URL(src, window.origin).href;
};

// src/animated-image/AnimatedImage.tsx

var AnimatedImage = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({
  src,
  width,
  height,
  onError,
  loopBehavior = "loop",
  playbackRate = 1,
  fit = "fill",
  ...props
}, canvasRef) => {
  const mountState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({ isMounted: true });
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const { current } = mountState;
    current.isMounted = true;
    return () => {
      current.isMounted = false;
    };
  }, []);
  const resolvedSrc = resolveAnimatedImageSource(src);
  const [imageDecoder, setImageDecoder] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);
  const { delayRender: delayRender2, continueRender: continueRender2 } = useDelayRender();
  const [decodeHandle] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => delayRender2(`Rendering <AnimatedImage/> with src="${resolvedSrc}"`));
  const frame = useCurrentFrame();
  const { fps } = useVideoConfig();
  const currentTime = frame / playbackRate / fps;
  const currentTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(currentTime);
  currentTimeRef.current = currentTime;
  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(canvasRef, () => {
    const c = ref.current?.getCanvas();
    if (!c) {
      throw new Error("Canvas ref is not set");
    }
    return c;
  }, []);
  const [initialLoopBehavior] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => loopBehavior);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const controller = new AbortController;
    decodeImage({
      resolvedSrc,
      signal: controller.signal,
      currentTime: currentTimeRef.current,
      initialLoopBehavior
    }).then((d) => {
      setImageDecoder(d);
      continueRender2(decodeHandle);
    }).catch((err) => {
      if (err.name === "AbortError") {
        continueRender2(decodeHandle);
        return;
      }
      if (onError) {
        onError?.(err);
        continueRender2(decodeHandle);
      } else {
        cancelRender(err);
      }
    });
    return () => {
      controller.abort();
    };
  }, [
    resolvedSrc,
    decodeHandle,
    onError,
    initialLoopBehavior,
    continueRender2
  ]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    if (!imageDecoder) {
      return;
    }
    const delay = delayRender2(`Rendering frame at ${currentTime} of <AnimatedImage src="${src}"/>`);
    imageDecoder.getFrame(currentTime, loopBehavior).then((videoFrame) => {
      if (mountState.current.isMounted) {
        if (videoFrame === null) {
          ref.current?.clear();
        } else {
          ref.current?.draw(videoFrame.frame);
        }
      }
      continueRender2(delay);
    }).catch((err) => {
      if (onError) {
        onError(err);
        continueRender2(delay);
      } else {
        cancelRender(err);
      }
    });
  }, [
    currentTime,
    imageDecoder,
    loopBehavior,
    onError,
    src,
    continueRender2,
    delayRender2
  ]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Canvas, {
    ref,
    width,
    height,
    fit,
    ...props
  });
});
// src/Artifact.tsx


// src/RenderAssetManager.tsx


// src/validation/validate-artifact.ts
var validateArtifactFilename = (filename) => {
  if (typeof filename !== "string") {
    throw new TypeError(`The "filename" must be a string, but you passed a value of type ${typeof filename}`);
  }
  if (filename.trim() === "") {
    throw new Error("The `filename` must not be empty");
  }
  if (!filename.match(/^([0-9a-zA-Z-!_.*'()/:&$@=;+,?]+)/g)) {
    throw new Error('The `filename` must match "/^([0-9a-zA-Z-!_.*\'()/:&$@=;+,?]+)/g". Use forward slashes only, even on Windows.');
  }
};
var validateContent = (content) => {
  if (typeof content !== "string" && !(content instanceof Uint8Array)) {
    throw new TypeError(`The "content" must be a string or Uint8Array, but you passed a value of type ${typeof content}`);
  }
  if (typeof content === "string" && content.trim() === "") {
    throw new Error("The `content` must not be empty");
  }
};
var validateRenderAsset = (artifact) => {
  if (artifact.type !== "artifact") {
    return;
  }
  validateArtifactFilename(artifact.filename);
  if (artifact.contentType === "thumbnail") {
    return;
  }
  validateContent(artifact.content);
};

// src/RenderAssetManager.tsx

var RenderAssetManager = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({
  registerRenderAsset: () => {
    return;
  },
  unregisterRenderAsset: () => {
    return;
  },
  renderAssets: []
});
var RenderAssetManagerProvider = ({ children, collectAssets }) => {
  const [renderAssets, setRenderAssets] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);
  const renderAssetsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);
  const registerRenderAsset = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((renderAsset) => {
    validateRenderAsset(renderAsset);
    renderAssetsRef.current = [...renderAssetsRef.current, renderAsset];
    setRenderAssets(renderAssetsRef.current);
  }, []);
  if (collectAssets) {
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(collectAssets, () => {
      return {
        collectAssets: () => {
          const assets = renderAssetsRef.current;
          renderAssetsRef.current = [];
          setRenderAssets([]);
          return assets;
        }
      };
    }, []);
  }
  const unregisterRenderAsset = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id) => {
    renderAssetsRef.current = renderAssetsRef.current.filter((a) => a.id !== id);
    setRenderAssets(renderAssetsRef.current);
  }, []);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    if (typeof window !== "undefined") {
      window.remotion_collectAssets = () => {
        const assets = renderAssetsRef.current;
        renderAssetsRef.current = [];
        setRenderAssets([]);
        return assets;
      };
    }
  }, []);
  const contextValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      registerRenderAsset,
      unregisterRenderAsset,
      renderAssets
    };
  }, [renderAssets, registerRenderAsset, unregisterRenderAsset]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(RenderAssetManager.Provider, {
    value: contextValue,
    children
  });
};

// src/Artifact.tsx
var ArtifactThumbnail = Symbol("Thumbnail");
var Artifact = ({ filename, content, downloadBehavior }) => {
  const { registerRenderAsset, unregisterRenderAsset } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(RenderAssetManager);
  const env = useRemotionEnvironment();
  const frame = useCurrentFrame();
  const [id] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => {
    return String(Math.random());
  });
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    if (!env.isRendering) {
      return;
    }
    if (content instanceof Uint8Array) {
      registerRenderAsset({
        type: "artifact",
        id,
        content: btoa(new TextDecoder("utf8").decode(content)),
        filename,
        frame,
        contentType: "binary",
        downloadBehavior: downloadBehavior ?? null
      });
    } else if (content === ArtifactThumbnail) {
      registerRenderAsset({
        type: "artifact",
        id,
        filename,
        frame,
        contentType: "thumbnail",
        downloadBehavior: downloadBehavior ?? null
      });
    } else {
      registerRenderAsset({
        type: "artifact",
        id,
        content,
        filename,
        frame,
        contentType: "text",
        downloadBehavior: downloadBehavior ?? null
      });
    }
    return () => {
      return unregisterRenderAsset(id);
    };
  }, [
    content,
    env.isRendering,
    filename,
    frame,
    id,
    registerRenderAsset,
    unregisterRenderAsset,
    downloadBehavior
  ]);
  return null;
};
Artifact.Thumbnail = ArtifactThumbnail;
// src/audio/Audio.tsx


// src/absolute-src.ts
var getAbsoluteSrc = (relativeSrc) => {
  if (typeof window === "undefined") {
    return relativeSrc;
  }
  if (relativeSrc.startsWith("http://") || relativeSrc.startsWith("https://") || relativeSrc.startsWith("file://") || relativeSrc.startsWith("blob:") || relativeSrc.startsWith("data:")) {
    return relativeSrc;
  }
  return new URL(relativeSrc, window.origin).href;
};

// src/calculate-media-duration.ts
var calculateMediaDuration = ({
  trimAfter,
  mediaDurationInFrames,
  playbackRate,
  trimBefore
}) => {
  let duration = mediaDurationInFrames;
  if (typeof trimAfter !== "undefined") {
    duration = trimAfter;
  }
  if (typeof trimBefore !== "undefined") {
    duration -= trimBefore;
  }
  const actualDuration = duration / playbackRate;
  return Math.floor(actualDuration);
};

// src/loop/index.tsx


var LoopContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);
var useLoop = () => {
  return react__WEBPACK_IMPORTED_MODULE_0__.useContext(LoopContext);
};
var Loop = ({ durationInFrames, times = Infinity, children, name, ...props }) => {
  const currentFrame = useCurrentFrame();
  const { durationInFrames: compDuration } = useVideoConfig();
  validateDurationInFrames(durationInFrames, {
    component: "of the <Loop /> component",
    allowFloats: true
  });
  if (typeof times !== "number") {
    throw new TypeError(`You passed to "times" an argument of type ${typeof times}, but it must be a number.`);
  }
  if (times !== Infinity && times % 1 !== 0) {
    throw new TypeError(`The "times" prop of a loop must be an integer, but got ${times}.`);
  }
  if (times < 0) {
    throw new TypeError(`The "times" prop of a loop must be at least 0, but got ${times}`);
  }
  const maxTimes = Math.ceil(compDuration / durationInFrames);
  const actualTimes = Math.min(maxTimes, times);
  const style = props.layout === "none" ? undefined : props.style;
  const maxFrame = durationInFrames * (actualTimes - 1);
  const iteration = Math.floor(currentFrame / durationInFrames);
  const start = iteration * durationInFrames;
  const from = Math.min(start, maxFrame);
  const loopDisplay = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      numberOfTimes: actualTimes,
      startOffset: -from,
      durationInFrames
    };
  }, [actualTimes, durationInFrames, from]);
  const loopContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      iteration: Math.floor(currentFrame / durationInFrames),
      durationInFrames
    };
  }, [currentFrame, durationInFrames]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(LoopContext.Provider, {
    value: loopContext,
    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Sequence, {
      durationInFrames,
      from,
      name: name ?? "<Loop>",
      _remotionInternalLoopDisplay: loopDisplay,
      layout: props.layout,
      style,
      children
    })
  });
};
Loop.useLoop = useLoop;

// src/prefetch.ts


// src/playback-logging.ts
var playbackLogging = ({
  logLevel,
  tag,
  message,
  mountTime
}) => {
  const tags = [mountTime ? Date.now() - mountTime + "ms " : null, tag].filter(Boolean).join(" ");
  Log.trace({ logLevel, tag: null }, `[${tags}]`, message);
};

// src/prefetch-state.tsx


var PreloadContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});
var preloads = {};
var updaters = [];
var setPreloads = (updater) => {
  preloads = updater(preloads);
  updaters.forEach((u) => u());
};
var PrefetchProvider = ({ children }) => {
  const [_preloads, _setPreloads] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => preloads);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const updaterFunction = () => {
      _setPreloads(preloads);
    };
    updaters.push(updaterFunction);
    return () => {
      updaters = updaters.filter((u) => u !== updaterFunction);
    };
  }, []);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(PreloadContext.Provider, {
    value: _preloads,
    children
  });
};

// src/prefetch.ts
var removeAndGetHashFragment = (src) => {
  const hashIndex = src.indexOf("#");
  if (hashIndex === -1) {
    return null;
  }
  return hashIndex;
};
var getSrcWithoutHash = (src) => {
  const hashIndex = removeAndGetHashFragment(src);
  if (hashIndex === null) {
    return src;
  }
  return src.slice(0, hashIndex);
};
var usePreload = (src) => {
  const preloads2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(PreloadContext);
  const hashFragmentIndex = removeAndGetHashFragment(src);
  const withoutHashFragment = getSrcWithoutHash(src);
  if (!preloads2[withoutHashFragment]) {
    return src;
  }
  if (hashFragmentIndex !== null) {
    return preloads2[withoutHashFragment] + src.slice(hashFragmentIndex);
  }
  return preloads2[withoutHashFragment];
};
var blobToBase64 = function(blob) {
  const reader = new FileReader;
  return new Promise((resolve, reject) => {
    reader.onload = function() {
      const dataUrl = reader.result;
      resolve(dataUrl);
    };
    reader.onerror = (err) => {
      return reject(err);
    };
    reader.readAsDataURL(blob);
  });
};
var getBlobFromReader = async ({
  reader,
  contentType,
  contentLength,
  onProgress
}) => {
  let receivedLength = 0;
  const chunks = [];
  while (true) {
    const { done, value } = await reader.read();
    if (done) {
      break;
    }
    chunks.push(value);
    receivedLength += value.length;
    if (onProgress) {
      onProgress({ loadedBytes: receivedLength, totalBytes: contentLength });
    }
  }
  const chunksAll = new Uint8Array(receivedLength);
  let position = 0;
  for (const chunk of chunks) {
    chunksAll.set(chunk, position);
    position += chunk.length;
  }
  return new Blob([chunksAll], {
    type: contentType ?? undefined
  });
};
var prefetch = (src, options) => {
  const method = options?.method ?? "blob-url";
  const logLevel = options?.logLevel ?? "info";
  const srcWithoutHash = getSrcWithoutHash(src);
  if (getRemotionEnvironment().isRendering) {
    return {
      free: () => {
        return;
      },
      waitUntilDone: () => Promise.resolve(srcWithoutHash)
    };
  }
  Log.verbose({ logLevel, tag: "prefetch" }, `Starting prefetch ${srcWithoutHash}`);
  let canceled = false;
  let objectUrl = null;
  let resolve = () => {
    return;
  };
  let reject = () => {
    return;
  };
  const waitUntilDone = new Promise((res, rej) => {
    resolve = res;
    reject = rej;
  });
  const controller = new AbortController;
  let canBeAborted = true;
  fetch(srcWithoutHash, {
    signal: controller.signal,
    credentials: options?.credentials ?? undefined
  }).then((res) => {
    canBeAborted = false;
    if (canceled) {
      return null;
    }
    if (!res.ok) {
      throw new Error(`HTTP error, status = ${res.status}`);
    }
    const headerContentType = res.headers.get("Content-Type");
    const contentType = options?.contentType ?? headerContentType;
    const hasProperContentType = contentType && (contentType.startsWith("video/") || contentType.startsWith("audio/") || contentType.startsWith("image/"));
    if (!hasProperContentType) {
      console.warn(`Called prefetch() on ${srcWithoutHash} which returned a "Content-Type" of ${headerContentType}. Prefetched content should have a proper content type (video/... or audio/...) or a contentType passed the options of prefetch(). Otherwise, prefetching will not work properly in all browsers.`);
    }
    if (!res.body) {
      throw new Error(`HTTP response of ${srcWithoutHash} has no body`);
    }
    const reader = res.body.getReader();
    return getBlobFromReader({
      reader,
      contentType: options?.contentType ?? headerContentType ?? null,
      contentLength: res.headers.get("Content-Length") ? parseInt(res.headers.get("Content-Length"), 10) : null,
      onProgress: options?.onProgress
    });
  }).then((buf) => {
    if (!buf) {
      return;
    }
    const actualBlob = options?.contentType ? new Blob([buf], { type: options.contentType }) : buf;
    if (method === "base64") {
      return blobToBase64(actualBlob);
    }
    return URL.createObjectURL(actualBlob);
  }).then((url) => {
    if (canceled) {
      return;
    }
    playbackLogging({
      logLevel,
      tag: "prefetch",
      message: `Finished prefetch ${srcWithoutHash} with method ${method}`,
      mountTime: null
    });
    objectUrl = url;
    setPreloads((p) => ({
      ...p,
      [srcWithoutHash]: objectUrl
    }));
    resolve(objectUrl);
  }).catch((err) => {
    if (err?.message.includes("free() called")) {
      return;
    }
    reject(err);
  });
  return {
    free: () => {
      playbackLogging({
        logLevel,
        tag: "prefetch",
        message: `Freeing ${srcWithoutHash}`,
        mountTime: null
      });
      if (objectUrl) {
        if (method === "blob-url") {
          URL.revokeObjectURL(objectUrl);
        }
        setPreloads((p) => {
          const copy = { ...p };
          delete copy[srcWithoutHash];
          return copy;
        });
      } else {
        canceled = true;
        if (canBeAborted) {
          try {
            controller.abort(new Error("free() called"));
          } catch {}
        }
      }
    },
    waitUntilDone: () => {
      return waitUntilDone;
    }
  };
};

// src/validate-media-props.ts
var validateMediaProps = (props, component) => {
  if (typeof props.volume !== "number" && typeof props.volume !== "function" && typeof props.volume !== "undefined") {
    throw new TypeError(`You have passed a volume of type ${typeof props.volume} to your <${component} /> component. Volume must be a number or a function with the signature '(frame: number) => number' undefined.`);
  }
  if (typeof props.volume === "number" && props.volume < 0) {
    throw new TypeError(`You have passed a volume below 0 to your <${component} /> component. Volume must be between 0 and 1`);
  }
  if (typeof props.playbackRate !== "number" && typeof props.playbackRate !== "undefined") {
    throw new TypeError(`You have passed a playbackRate of type ${typeof props.playbackRate} to your <${component} /> component. Playback rate must a real number or undefined.`);
  }
  if (typeof props.playbackRate === "number" && (isNaN(props.playbackRate) || !Number.isFinite(props.playbackRate) || props.playbackRate <= 0)) {
    throw new TypeError(`You have passed a playbackRate of ${props.playbackRate} to your <${component} /> component. Playback rate must be a real number above 0.`);
  }
};

// src/validate-start-from-props.ts
var validateStartFromProps = (startFrom, endAt) => {
  if (typeof startFrom !== "undefined") {
    if (typeof startFrom !== "number") {
      throw new TypeError(`type of startFrom prop must be a number, instead got type ${typeof startFrom}.`);
    }
    if (isNaN(startFrom) || startFrom === Infinity) {
      throw new TypeError("startFrom prop can not be NaN or Infinity.");
    }
    if (startFrom < 0) {
      throw new TypeError(`startFrom must be greater than equal to 0 instead got ${startFrom}.`);
    }
  }
  if (typeof endAt !== "undefined") {
    if (typeof endAt !== "number") {
      throw new TypeError(`type of endAt prop must be a number, instead got type ${typeof endAt}.`);
    }
    if (isNaN(endAt)) {
      throw new TypeError("endAt prop can not be NaN.");
    }
    if (endAt <= 0) {
      throw new TypeError(`endAt must be a positive number, instead got ${endAt}.`);
    }
  }
  if (endAt < startFrom) {
    throw new TypeError("endAt prop must be greater than startFrom prop.");
  }
};
var validateTrimProps = (trimBefore, trimAfter) => {
  if (typeof trimBefore !== "undefined") {
    if (typeof trimBefore !== "number") {
      throw new TypeError(`type of trimBefore prop must be a number, instead got type ${typeof trimBefore}.`);
    }
    if (isNaN(trimBefore) || trimBefore === Infinity) {
      throw new TypeError("trimBefore prop can not be NaN or Infinity.");
    }
    if (trimBefore < 0) {
      throw new TypeError(`trimBefore must be greater than equal to 0 instead got ${trimBefore}.`);
    }
  }
  if (typeof trimAfter !== "undefined") {
    if (typeof trimAfter !== "number") {
      throw new TypeError(`type of trimAfter prop must be a number, instead got type ${typeof trimAfter}.`);
    }
    if (isNaN(trimAfter)) {
      throw new TypeError("trimAfter prop can not be NaN.");
    }
    if (trimAfter <= 0) {
      throw new TypeError(`trimAfter must be a positive number, instead got ${trimAfter}.`);
    }
  }
  if (trimAfter <= trimBefore) {
    throw new TypeError("trimAfter prop must be greater than trimBefore prop.");
  }
};
var validateMediaTrimProps = ({
  startFrom,
  endAt,
  trimBefore,
  trimAfter
}) => {
  if (typeof startFrom !== "undefined" && typeof trimBefore !== "undefined") {
    throw new TypeError("Cannot use both startFrom and trimBefore props. Use trimBefore instead as startFrom is deprecated.");
  }
  if (typeof endAt !== "undefined" && typeof trimAfter !== "undefined") {
    throw new TypeError("Cannot use both endAt and trimAfter props. Use trimAfter instead as endAt is deprecated.");
  }
  const hasNewProps = typeof trimBefore !== "undefined" || typeof trimAfter !== "undefined";
  const hasOldProps = typeof startFrom !== "undefined" || typeof endAt !== "undefined";
  if (hasNewProps) {
    validateTrimProps(trimBefore, trimAfter);
  } else if (hasOldProps) {
    validateStartFromProps(startFrom, endAt);
  }
};
var resolveTrimProps = ({
  startFrom,
  endAt,
  trimBefore,
  trimAfter
}) => {
  const trimBeforeValue = trimBefore ?? startFrom ?? undefined;
  const trimAfterValue = trimAfter ?? endAt ?? undefined;
  return { trimBeforeValue, trimAfterValue };
};

// src/video/duration-state.tsx


var durationReducer = (state, action) => {
  switch (action.type) {
    case "got-duration": {
      const absoluteSrc = getAbsoluteSrc(action.src);
      if (state[absoluteSrc] === action.durationInSeconds) {
        return state;
      }
      return {
        ...state,
        [absoluteSrc]: action.durationInSeconds
      };
    }
    default:
      return state;
  }
};
var DurationsContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({
  durations: {},
  setDurations: () => {
    throw new Error("context missing");
  }
});
var DurationsContextProvider = ({ children }) => {
  const [durations, setDurations] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(durationReducer, {});
  const value = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      durations,
      setDurations
    };
  }, [durations]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DurationsContext.Provider, {
    value,
    children
  });
};

// src/audio/AudioForPreview.tsx


// src/get-cross-origin-value.ts
var getCrossOriginValue = ({
  crossOrigin,
  requestsVideoFrame,
  isClientSideRendering
}) => {
  if (crossOrigin !== undefined && crossOrigin !== null) {
    return crossOrigin;
  }
  if (isClientSideRendering) {
    return "anonymous";
  }
  if (requestsVideoFrame) {
    return "anonymous";
  }
  return;
};

// src/use-amplification.ts


// src/audio/shared-audio-tags.tsx


// src/play-and-handle-not-allowed-error.ts
var playAndHandleNotAllowedError = ({
  mediaRef,
  mediaType,
  onAutoPlayError,
  logLevel,
  mountTime,
  reason,
  isPlayer
}) => {
  const { current } = mediaRef;
  if (!current) {
    return;
  }
  playbackLogging({
    logLevel,
    tag: "play",
    message: `Attempting to play ${current.src}. Reason: ${reason}`,
    mountTime
  });
  const prom = current.play();
  if (!prom.catch) {
    return;
  }
  prom.catch((err) => {
    if (!current) {
      return;
    }
    if (err.message.includes("request was interrupted by a call to pause")) {
      return;
    }
    if (err.message.includes("The operation was aborted.")) {
      return;
    }
    if (err.message.includes("The fetching process for the media resource was aborted by the user agent")) {
      return;
    }
    if (err.message.includes("request was interrupted by a new load request")) {
      return;
    }
    if (err.message.includes("because the media was removed from the document")) {
      return;
    }
    if (err.message.includes("user didn't interact with the document") && current.muted) {
      return;
    }
    console.log(`Could not play ${mediaType} due to following error: `, err);
    if (!current.muted) {
      if (onAutoPlayError) {
        onAutoPlayError();
        return;
      }
      if (mediaType === "video" && isPlayer) {
        Log.info({ logLevel, tag: "<" + mediaType + ">" }, `The video will be muted and we'll retry playing it.`);
        Log.info({ logLevel, tag: "<" + mediaType + ">" }, "Use onAutoPlayError() to handle this error yourself.");
        current.muted = true;
        current.play();
      }
    }
  });
};

// src/audio/shared-element-source-node.ts
var makeSharedElementSourceNode = ({
  audioContext,
  ref
}) => {
  let connected = null;
  let disposed = false;
  return {
    attemptToConnect: () => {
      if (disposed) {
        throw new Error("SharedElementSourceNode has been disposed");
      }
      if (!connected && ref.current) {
        const mediaElementSourceNode = audioContext.createMediaElementSource(ref.current);
        connected = mediaElementSourceNode;
      }
    },
    get: () => {
      if (!connected) {
        throw new Error("Audio element not connected");
      }
      return connected;
    },
    cleanup: () => {
      if (connected) {
        connected.disconnect();
        connected = null;
      }
      disposed = true;
    }
  };
};

// src/audio/use-audio-context.ts

var warned = false;
var warnOnce = (logLevel) => {
  if (warned) {
    return;
  }
  warned = true;
  if (typeof window !== "undefined") {
    Log.warn({ logLevel, tag: null }, "AudioContext is not supported in this browser");
  }
};
var useSingletonAudioContext = ({
  logLevel,
  latencyHint,
  audioEnabled
}) => {
  const env = useRemotionEnvironment();
  const audioContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (env.isRendering) {
      return null;
    }
    if (!audioEnabled) {
      return null;
    }
    if (typeof AudioContext === "undefined") {
      warnOnce(logLevel);
      return null;
    }
    return new AudioContext({
      latencyHint,
      sampleRate: 48000
    });
  }, [logLevel, latencyHint, env.isRendering, audioEnabled]);
  return audioContext;
};

// src/audio/shared-audio-tags.tsx

var EMPTY_AUDIO = "data:audio/mp3;base64,/+MYxAAJcAV8AAgAABn//////+/gQ5BAMA+D4Pg+BAQBAEAwD4Pg+D4EBAEAQDAPg++hYBH///hUFQVBUFREDQNHmf///////+MYxBUGkAGIMAAAAP/29Xt6lUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxDUAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV";
var compareProps = (obj1, obj2) => {
  const keysA = Object.keys(obj1).sort();
  const keysB = Object.keys(obj2).sort();
  if (keysA.length !== keysB.length) {
    return false;
  }
  for (let i = 0;i < keysA.length; i++) {
    if (keysA[i] !== keysB[i]) {
      return false;
    }
    if (obj1[keysA[i]] !== obj2[keysB[i]]) {
      return false;
    }
  }
  return true;
};
var didPropChange = (key, newProp, prevProp) => {
  if (key === "src" && !prevProp.startsWith("data:") && !newProp.startsWith("data:")) {
    return new URL(prevProp, window.origin).toString() !== new URL(newProp, window.origin).toString();
  }
  if (prevProp === newProp) {
    return false;
  }
  return true;
};
var SharedAudioContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);
var SharedAudioContextProvider = ({ children, numberOfAudioTags, audioLatencyHint, audioEnabled }) => {
  const audios = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);
  const [initialNumberOfAudioTags] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(numberOfAudioTags);
  if (numberOfAudioTags !== initialNumberOfAudioTags) {
    throw new Error("The number of shared audio tags has changed dynamically. Once you have set this property, you cannot change it afterwards.");
  }
  const logLevel = useLogLevel();
  const audioContext = useSingletonAudioContext({
    logLevel,
    latencyHint: audioLatencyHint,
    audioEnabled
  });
  const refs = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return new Array(numberOfAudioTags).fill(true).map(() => {
      const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.createRef)();
      return {
        id: Math.random(),
        ref,
        mediaElementSourceNode: audioContext ? makeSharedElementSourceNode({
          audioContext,
          ref
        }) : null
      };
    });
  }, [audioContext, numberOfAudioTags]);
  const effectToUse = react__WEBPACK_IMPORTED_MODULE_0__.useInsertionEffect ?? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect;
  effectToUse(() => {
    return () => {
      requestAnimationFrame(() => {
        refs.forEach(({ mediaElementSourceNode }) => {
          mediaElementSourceNode?.cleanup();
        });
      });
    };
  }, [refs]);
  const takenAudios = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Array(numberOfAudioTags).fill(false));
  const rerenderAudios = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {
    refs.forEach(({ ref, id }) => {
      const data = audios.current?.find((a) => a.id === id);
      const { current } = ref;
      if (!current) {
        return;
      }
      if (data === undefined) {
        current.src = EMPTY_AUDIO;
        return;
      }
      if (!data) {
        throw new TypeError("Expected audio data to be there");
      }
      Object.keys(data.props).forEach((key) => {
        if (didPropChange(key, data.props[key], current[key])) {
          current[key] = data.props[key];
        }
      });
    });
  }, [refs]);
  const registerAudio = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((options) => {
    const { aud, audioId, premounting, postmounting } = options;
    const found = audios.current?.find((a) => a.audioId === audioId);
    if (found) {
      return found;
    }
    const firstFreeAudio = takenAudios.current.findIndex((a) => a === false);
    if (firstFreeAudio === -1) {
      throw new Error(`Tried to simultaneously mount ${numberOfAudioTags + 1} <Html5Audio /> tags at the same time. With the current settings, the maximum amount of <Html5Audio /> tags is limited to ${numberOfAudioTags} at the same time. Remotion pre-mounts silent audio tags to help avoid browser autoplay restrictions. See https://remotion.dev/docs/player/autoplay#using-the-numberofsharedaudiotags-prop for more information on how to increase this limit.`);
    }
    const { id, ref, mediaElementSourceNode } = refs[firstFreeAudio];
    const cloned = [...takenAudios.current];
    cloned[firstFreeAudio] = id;
    takenAudios.current = cloned;
    const newElem = {
      props: aud,
      id,
      el: ref,
      audioId,
      mediaElementSourceNode,
      premounting,
      audioMounted: Boolean(ref.current),
      postmounting,
      cleanupOnMediaTagUnmount: () => {}
    };
    audios.current?.push(newElem);
    rerenderAudios();
    return newElem;
  }, [numberOfAudioTags, refs, rerenderAudios]);
  const unregisterAudio = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id) => {
    const cloned = [...takenAudios.current];
    const index = refs.findIndex((r) => r.id === id);
    if (index === -1) {
      throw new TypeError("Error occured in ");
    }
    cloned[index] = false;
    takenAudios.current = cloned;
    audios.current = audios.current?.filter((a) => a.id !== id);
    rerenderAudios();
  }, [refs, rerenderAudios]);
  const updateAudio = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(({
    aud,
    audioId,
    id,
    premounting,
    postmounting
  }) => {
    let changed = false;
    audios.current = audios.current?.map((prevA) => {
      const audioMounted = Boolean(prevA.el.current);
      if (prevA.audioMounted !== audioMounted) {
        changed = true;
      }
      if (prevA.id === id) {
        const isTheSame = compareProps(aud, prevA.props) && prevA.premounting === premounting && prevA.postmounting === postmounting;
        if (isTheSame) {
          return prevA;
        }
        changed = true;
        return {
          ...prevA,
          props: aud,
          premounting,
          postmounting,
          audioId,
          audioMounted
        };
      }
      return prevA;
    });
    if (changed) {
      rerenderAudios();
    }
  }, [rerenderAudios]);
  const mountTime = useMountTime();
  const env = useRemotionEnvironment();
  const playAllAudios = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {
    refs.forEach((ref) => {
      const audio = audios.current.find((a) => a.el === ref.ref);
      if (audio?.premounting) {
        return;
      }
      playAndHandleNotAllowedError({
        mediaRef: ref.ref,
        mediaType: "audio",
        onAutoPlayError: null,
        logLevel,
        mountTime,
        reason: "playing all audios",
        isPlayer: env.isPlayer
      });
    });
    audioContext?.resume();
  }, [audioContext, logLevel, mountTime, refs, env.isPlayer]);
  const value = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      registerAudio,
      unregisterAudio,
      updateAudio,
      playAllAudios,
      numberOfAudioTags,
      audioContext
    };
  }, [
    numberOfAudioTags,
    playAllAudios,
    registerAudio,
    unregisterAudio,
    updateAudio,
    audioContext
  ]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(SharedAudioContext.Provider, {
    value,
    children: [
      refs.map(({ id, ref }) => {
        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("audio", {
          ref,
          preload: "metadata",
          src: EMPTY_AUDIO
        }, id);
      }),
      children
    ]
  });
};
var useSharedAudio = ({
  aud,
  audioId,
  premounting,
  postmounting
}) => {
  const ctx = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SharedAudioContext);
  const [elem] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => {
    if (ctx && ctx.numberOfAudioTags > 0) {
      return ctx.registerAudio({ aud, audioId, premounting, postmounting });
    }
    const el = react__WEBPACK_IMPORTED_MODULE_0__.createRef();
    const mediaElementSourceNode = ctx?.audioContext ? makeSharedElementSourceNode({
      audioContext: ctx.audioContext,
      ref: el
    }) : null;
    return {
      el,
      id: Math.random(),
      props: aud,
      audioId,
      mediaElementSourceNode,
      premounting,
      audioMounted: Boolean(el.current),
      postmounting,
      cleanupOnMediaTagUnmount: () => {
        mediaElementSourceNode?.cleanup();
      }
    };
  });
  const effectToUse = react__WEBPACK_IMPORTED_MODULE_0__.useInsertionEffect ?? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect;
  if (typeof document !== "undefined") {
    effectToUse(() => {
      if (ctx && ctx.numberOfAudioTags > 0) {
        ctx.updateAudio({ id: elem.id, aud, audioId, premounting, postmounting });
      }
    }, [aud, ctx, elem.id, audioId, premounting, postmounting]);
    effectToUse(() => {
      return () => {
        if (ctx && ctx.numberOfAudioTags > 0) {
          ctx.unregisterAudio(elem.id);
        }
      };
    }, [ctx, elem.id]);
  }
  return elem;
};

// src/is-approximately-the-same.ts
var FLOATING_POINT_ERROR_THRESHOLD = 0.00001;
var isApproximatelyTheSame = (num1, num2) => {
  return Math.abs(num1 - num2) < FLOATING_POINT_ERROR_THRESHOLD;
};

// src/video/video-fragment.ts

var toSeconds = (time, fps) => {
  return Math.round(time / fps * 100) / 100;
};
var isSafari = () => {
  if (typeof window === "undefined") {
    return false;
  }
  const isAppleWebKit = /AppleWebKit/.test(window.navigator.userAgent);
  if (!isAppleWebKit) {
    return false;
  }
  const isNotChrome = !window.navigator.userAgent.includes("Chrome/");
  return isNotChrome;
};
var isIosSafari = () => {
  if (typeof window === "undefined") {
    return false;
  }
  const isIpadIPodIPhone = /iP(ad|od|hone)/i.test(window.navigator.userAgent);
  return isIpadIPodIPhone && isSafari();
};
var isIOSSafariAndBlob = (actualSrc) => {
  return isIosSafari() && actualSrc.startsWith("blob:");
};
var getVideoFragmentStart = ({
  actualFrom,
  fps
}) => {
  return toSeconds(Math.max(0, -actualFrom), fps);
};
var getVideoFragmentEnd = ({
  duration,
  fps
}) => {
  return toSeconds(duration, fps);
};
var appendVideoFragment = ({
  actualSrc,
  actualFrom,
  duration,
  fps
}) => {
  if (isIOSSafariAndBlob(actualSrc)) {
    return actualSrc;
  }
  if (actualSrc.startsWith("data:")) {
    return actualSrc;
  }
  const existingHash = Boolean(new URL(actualSrc, (typeof window === "undefined" ? null : window.location.href) ?? "http://localhost:3000").hash);
  if (existingHash) {
    return actualSrc;
  }
  if (!Number.isFinite(actualFrom)) {
    return actualSrc;
  }
  const withStartHash = `${actualSrc}#t=${getVideoFragmentStart({ actualFrom, fps })}`;
  if (!Number.isFinite(duration)) {
    return withStartHash;
  }
  return `${withStartHash},${getVideoFragmentEnd({ duration, fps })}`;
};
var isSubsetOfDuration = ({
  prevStartFrom,
  newStartFrom,
  prevDuration,
  newDuration,
  fps
}) => {
  const previousFrom = getVideoFragmentStart({ actualFrom: prevStartFrom, fps });
  const newFrom = getVideoFragmentStart({ actualFrom: newStartFrom, fps });
  const previousEnd = getVideoFragmentEnd({ duration: prevDuration, fps });
  const newEnd = getVideoFragmentEnd({ duration: newDuration, fps });
  if (newFrom < previousFrom) {
    return false;
  }
  if (newEnd > previousEnd) {
    return false;
  }
  return true;
};
var useAppendVideoFragment = ({
  actualSrc: initialActualSrc,
  actualFrom: initialActualFrom,
  duration: initialDuration,
  fps
}) => {
  const actualFromRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(initialActualFrom);
  const actualDuration = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(initialDuration);
  const actualSrc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(initialActualSrc);
  if (!isSubsetOfDuration({
    prevStartFrom: actualFromRef.current,
    newStartFrom: initialActualFrom,
    prevDuration: actualDuration.current,
    newDuration: initialDuration,
    fps
  }) || initialActualSrc !== actualSrc.current) {
    actualFromRef.current = initialActualFrom;
    actualDuration.current = initialDuration;
    actualSrc.current = initialActualSrc;
  }
  const appended = appendVideoFragment({
    actualSrc: actualSrc.current,
    actualFrom: actualFromRef.current,
    duration: actualDuration.current,
    fps
  });
  return appended;
};

// src/use-amplification.ts
var warned2 = false;
var warnSafariOnce = (logLevel) => {
  if (warned2) {
    return;
  }
  warned2 = true;
  Log.warn({ logLevel, tag: null }, "In Safari, setting a volume and a playback rate at the same time is buggy.");
  Log.warn({ logLevel, tag: null }, "In Desktop Safari, only volumes <= 1 will be applied.");
  Log.warn({ logLevel, tag: null }, logLevel, "In Mobile Safari, the volume will be ignored and set to 1 if a playbackRate is set.");
};
var useVolume = ({
  mediaRef,
  volume,
  logLevel,
  source,
  shouldUseWebAudioApi
}) => {
  const audioStuffRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const currentVolumeRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(volume);
  currentVolumeRef.current = volume;
  const sharedAudioContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SharedAudioContext);
  if (!sharedAudioContext) {
    throw new Error("useAmplification must be used within a SharedAudioContext");
  }
  const { audioContext } = sharedAudioContext;
  if (typeof window !== "undefined") {
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
      if (!audioContext) {
        return;
      }
      if (!mediaRef.current) {
        return;
      }
      if (!shouldUseWebAudioApi) {
        return;
      }
      if (mediaRef.current.playbackRate !== 1 && isSafari()) {
        warnSafariOnce(logLevel);
        return;
      }
      if (!source) {
        return;
      }
      const gainNode = new GainNode(audioContext, {
        gain: currentVolumeRef.current
      });
      source.attemptToConnect();
      source.get().connect(gainNode);
      gainNode.connect(audioContext.destination);
      audioStuffRef.current = {
        gainNode
      };
      Log.trace({ logLevel, tag: null }, `Starting to amplify ${mediaRef.current?.src}. Gain = ${currentVolumeRef.current}, playbackRate = ${mediaRef.current?.playbackRate}`);
      return () => {
        audioStuffRef.current = null;
        gainNode.disconnect();
        source.get().disconnect();
      };
    }, [logLevel, mediaRef, audioContext, source, shouldUseWebAudioApi]);
  }
  if (audioStuffRef.current) {
    const valueToSet = volume;
    if (!isApproximatelyTheSame(audioStuffRef.current.gainNode.gain.value, valueToSet)) {
      audioStuffRef.current.gainNode.gain.value = valueToSet;
      Log.trace({ logLevel, tag: null }, `Setting gain to ${valueToSet} for ${mediaRef.current?.src}`);
    }
  }
  const safariCase = isSafari() && mediaRef.current && mediaRef.current?.playbackRate !== 1;
  const shouldUseTraditionalVolume = safariCase || !shouldUseWebAudioApi;
  if (shouldUseTraditionalVolume && mediaRef.current && !isApproximatelyTheSame(volume, mediaRef.current?.volume)) {
    mediaRef.current.volume = Math.min(volume, 1);
  }
  return audioStuffRef;
};

// src/use-media-in-timeline.ts


// src/audio/use-audio-frame.ts

var useMediaStartsAt = () => {
  const parentSequence = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SequenceContext);
  const startsAt = Math.min(0, parentSequence?.relativeFrom ?? 0);
  return startsAt;
};
var useFrameForVolumeProp = (behavior) => {
  const loop = Loop.useLoop();
  const frame = useCurrentFrame();
  const startsAt = useMediaStartsAt();
  if (behavior === "repeat" || loop === null) {
    return frame + startsAt;
  }
  return frame + startsAt + loop.durationInFrames * loop.iteration;
};

// src/get-asset-file-name.ts
var getAssetDisplayName = (filename) => {
  if (/data:|blob:/.test(filename.substring(0, 5))) {
    return "Data URL";
  }
  const splitted = filename.split("/").map((s) => s.split("\\")).flat(1);
  return splitted[splitted.length - 1];
};

// src/volume-prop.ts
var evaluateVolume = ({
  frame,
  volume,
  mediaVolume = 1
}) => {
  if (typeof volume === "number") {
    return volume * mediaVolume;
  }
  if (typeof volume === "undefined") {
    return Number(mediaVolume);
  }
  const evaluated = volume(frame) * mediaVolume;
  if (typeof evaluated !== "number") {
    throw new TypeError(`You passed in a a function to the volume prop but it did not return a number but a value of type ${typeof evaluated} for frame ${frame}`);
  }
  if (Number.isNaN(evaluated)) {
    throw new TypeError(`You passed in a function to the volume prop but it returned NaN for frame ${frame}.`);
  }
  if (!Number.isFinite(evaluated)) {
    throw new TypeError(`You passed in a function to the volume prop but it returned a non-finite number for frame ${frame}.`);
  }
  return Math.max(0, evaluated);
};

// src/use-media-in-timeline.ts
var didWarn = {};
var warnOnce2 = (message) => {
  if (didWarn[message]) {
    return;
  }
  console.warn(message);
  didWarn[message] = true;
};
var useBasicMediaInTimeline = ({
  volume,
  mediaVolume,
  mediaType,
  src,
  displayName,
  trimBefore,
  trimAfter,
  playbackRate
}) => {
  if (!src) {
    throw new Error("No src passed");
  }
  const startsAt = useMediaStartsAt();
  const parentSequence = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SequenceContext);
  const videoConfig = useVideoConfig();
  const [initialVolume] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => volume);
  const mediaDuration = calculateMediaDuration({
    mediaDurationInFrames: videoConfig.durationInFrames,
    playbackRate,
    trimBefore,
    trimAfter
  });
  const duration = parentSequence ? Math.min(parentSequence.durationInFrames, mediaDuration) : mediaDuration;
  const volumes = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (typeof volume === "number") {
      return volume;
    }
    return new Array(Math.floor(Math.max(0, duration + startsAt))).fill(true).map((_, i) => {
      return evaluateVolume({
        frame: i + startsAt,
        volume,
        mediaVolume
      });
    }).join(",");
  }, [duration, startsAt, volume, mediaVolume]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (typeof volume === "number" && volume !== initialVolume) {
      warnOnce2(`Remotion: The ${mediaType} with src ${src} has changed it's volume. Prefer the callback syntax for setting volume to get better timeline display: https://www.remotion.dev/docs/audio/volume`);
    }
  }, [initialVolume, mediaType, src, volume]);
  const doesVolumeChange = typeof volume === "function";
  const nonce = useNonce();
  const { rootId } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(TimelineContext);
  const env = useRemotionEnvironment();
  return {
    volumes,
    duration,
    doesVolumeChange,
    nonce,
    rootId,
    isStudio: env.isStudio,
    finalDisplayName: displayName ?? getAssetDisplayName(src)
  };
};
var useMediaInTimeline = ({
  volume,
  mediaVolume,
  src,
  mediaType,
  playbackRate,
  displayName,
  id,
  stack,
  showInTimeline,
  premountDisplay,
  postmountDisplay,
  loopDisplay
}) => {
  const parentSequence = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SequenceContext);
  const startsAt = useMediaStartsAt();
  const { registerSequence, unregisterSequence } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SequenceManager);
  const {
    volumes,
    duration,
    doesVolumeChange,
    nonce,
    rootId,
    isStudio,
    finalDisplayName
  } = useBasicMediaInTimeline({
    volume,
    mediaVolume,
    mediaType,
    src,
    displayName,
    trimAfter: undefined,
    trimBefore: undefined,
    playbackRate
  });
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!src) {
      throw new Error("No src passed");
    }
    if (!isStudio && window.process?.env?.NODE_ENV !== "test") {
      return;
    }
    if (!showInTimeline) {
      return;
    }
    registerSequence({
      type: mediaType,
      src,
      id,
      duration,
      from: 0,
      parent: parentSequence?.id ?? null,
      displayName: finalDisplayName,
      rootId,
      volume: volumes,
      showInTimeline: true,
      nonce,
      startMediaFrom: 0 - startsAt,
      doesVolumeChange,
      loopDisplay,
      playbackRate,
      stack,
      premountDisplay,
      postmountDisplay
    });
    return () => {
      unregisterSequence(id);
    };
  }, [
    duration,
    id,
    parentSequence,
    src,
    registerSequence,
    unregisterSequence,
    volumes,
    doesVolumeChange,
    nonce,
    mediaType,
    startsAt,
    playbackRate,
    stack,
    showInTimeline,
    premountDisplay,
    postmountDisplay,
    isStudio,
    loopDisplay,
    rootId,
    finalDisplayName
  ]);
};

// src/use-media-playback.ts


// src/buffer-until-first-frame.ts


// src/use-buffer-state.ts


// src/buffering.tsx


var useBufferManager = (logLevel, mountTime) => {
  const [blocks, setBlocks] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);
  const [onBufferingCallbacks, setOnBufferingCallbacks] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);
  const [onResumeCallbacks, setOnResumeCallbacks] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);
  const env = useRemotionEnvironment();
  const rendering = env.isRendering;
  const buffering = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  const addBlock = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((block) => {
    if (rendering) {
      return {
        unblock: () => {
          return;
        }
      };
    }
    setBlocks((b) => [...b, block]);
    return {
      unblock: () => {
        setBlocks((b) => {
          const newArr = b.filter((bx) => bx !== block);
          if (newArr.length === b.length) {
            return b;
          }
          return newArr;
        });
      }
    };
  }, [rendering]);
  const listenForBuffering = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((callback) => {
    setOnBufferingCallbacks((c) => [...c, callback]);
    return {
      remove: () => {
        setOnBufferingCallbacks((c) => c.filter((cb) => cb !== callback));
      }
    };
  }, []);
  const listenForResume = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((callback) => {
    setOnResumeCallbacks((c) => [...c, callback]);
    return {
      remove: () => {
        setOnResumeCallbacks((c) => c.filter((cb) => cb !== callback));
      }
    };
  }, []);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (rendering) {
      return;
    }
    if (blocks.length > 0) {
      onBufferingCallbacks.forEach((c) => c());
      playbackLogging({
        logLevel,
        message: "Player is entering buffer state",
        mountTime,
        tag: "player"
      });
    }
  }, [blocks]);
  if (typeof window !== "undefined") {
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
      if (rendering) {
        return;
      }
      if (blocks.length === 0) {
        onResumeCallbacks.forEach((c) => c());
        playbackLogging({
          logLevel,
          message: "Player is exiting buffer state",
          mountTime,
          tag: "player"
        });
      }
    }, [blocks]);
  }
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return { addBlock, listenForBuffering, listenForResume, buffering };
  }, [addBlock, buffering, listenForBuffering, listenForResume]);
};
var BufferingContextReact = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);
var BufferingProvider = ({ children }) => {
  const { logLevel, mountTime } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(LogLevelContext);
  const bufferManager = useBufferManager(logLevel ?? "info", mountTime);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(BufferingContextReact.Provider, {
    value: bufferManager,
    children
  });
};
var useIsPlayerBuffering = (bufferManager) => {
  const [isBuffering, setIsBuffering] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(bufferManager.buffering.current);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const onBuffer = () => {
      setIsBuffering(true);
    };
    const onResume = () => {
      setIsBuffering(false);
    };
    bufferManager.listenForBuffering(onBuffer);
    bufferManager.listenForResume(onResume);
    return () => {
      bufferManager.listenForBuffering(() => {
        return;
      });
      bufferManager.listenForResume(() => {
        return;
      });
    };
  }, [bufferManager]);
  return isBuffering;
};

// src/use-buffer-state.ts
var useBufferState = () => {
  const buffer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(BufferingContextReact);
  const addBlock = buffer ? buffer.addBlock : null;
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({
    delayPlayback: () => {
      if (!addBlock) {
        throw new Error("Tried to enable the buffering state, but a Remotion context was not found. This API can only be called in a component that was passed to the Remotion Player or a <Composition>. Or you might have experienced a version mismatch - run `npx remotion versions` and ensure all packages have the same version. This error is thrown by the buffer state https://remotion.dev/docs/player/buffer-state");
      }
      const { unblock } = addBlock({
        id: String(Math.random())
      });
      return { unblock };
    }
  }), [addBlock]);
};

// src/buffer-until-first-frame.ts
var isSafariWebkit = () => {
  const isSafari2 = /^((?!chrome|android).)*safari/i.test(window.navigator.userAgent);
  return isSafari2;
};
var useBufferUntilFirstFrame = ({
  mediaRef,
  mediaType,
  onVariableFpsVideoDetected,
  pauseWhenBuffering,
  logLevel,
  mountTime
}) => {
  const bufferingRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  const { delayPlayback } = useBufferState();
  const bufferUntilFirstFrame = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((requestedTime) => {
    if (mediaType !== "video") {
      return;
    }
    if (!pauseWhenBuffering) {
      return;
    }
    const current = mediaRef.current;
    if (!current) {
      return;
    }
    if (current.readyState >= current.HAVE_FUTURE_DATA && !isSafariWebkit()) {
      playbackLogging({
        logLevel,
        message: `Not using buffer until first frame, because readyState is ${current.readyState} and is not Safari or Desktop Chrome`,
        mountTime,
        tag: "buffer"
      });
      return;
    }
    if (!current.requestVideoFrameCallback) {
      playbackLogging({
        logLevel,
        message: `Not using buffer until first frame, because requestVideoFrameCallback is not supported`,
        mountTime,
        tag: "buffer"
      });
      return;
    }
    bufferingRef.current = true;
    playbackLogging({
      logLevel,
      message: `Buffering ${mediaRef.current?.src} until the first frame is received`,
      mountTime,
      tag: "buffer"
    });
    const playback = delayPlayback();
    const unblock = () => {
      playback.unblock();
      current.removeEventListener("ended", unblock, {
        once: true
      });
      current.removeEventListener("pause", unblock, {
        once: true
      });
      bufferingRef.current = false;
    };
    const onEndedOrPauseOrCanPlay = () => {
      unblock();
    };
    current.requestVideoFrameCallback((_, info2) => {
      const differenceFromRequested = Math.abs(info2.mediaTime - requestedTime);
      if (differenceFromRequested > 0.5) {
        onVariableFpsVideoDetected();
      }
      unblock();
    });
    current.addEventListener("ended", onEndedOrPauseOrCanPlay, { once: true });
    current.addEventListener("pause", onEndedOrPauseOrCanPlay, { once: true });
    current.addEventListener("canplay", onEndedOrPauseOrCanPlay, {
      once: true
    });
  }, [
    delayPlayback,
    logLevel,
    mediaRef,
    mediaType,
    mountTime,
    onVariableFpsVideoDetected,
    pauseWhenBuffering
  ]);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      isBuffering: () => bufferingRef.current,
      bufferUntilFirstFrame
    };
  }, [bufferUntilFirstFrame]);
};

// src/media-tag-current-time-timestamp.ts

var useCurrentTimeOfMediaTagWithUpdateTimeStamp = (mediaRef) => {
  const lastUpdate = react__WEBPACK_IMPORTED_MODULE_0__.useRef({
    time: mediaRef.current?.currentTime ?? 0,
    lastUpdate: performance.now()
  });
  const nowCurrentTime = mediaRef.current?.currentTime ?? null;
  if (nowCurrentTime !== null) {
    if (lastUpdate.current.time !== nowCurrentTime) {
      lastUpdate.current.time = nowCurrentTime;
      lastUpdate.current.lastUpdate = performance.now();
    }
  }
  return lastUpdate;
};

// src/seek.ts
var seek = ({
  mediaRef,
  time,
  logLevel,
  why,
  mountTime
}) => {
  const timeToSet = isIosSafari() ? Number(time.toFixed(1)) : time;
  playbackLogging({
    logLevel,
    tag: "seek",
    message: `Seeking from ${mediaRef.currentTime} to ${timeToSet}. src= ${mediaRef.src} Reason: ${why}`,
    mountTime
  });
  mediaRef.currentTime = timeToSet;
  return timeToSet;
};

// src/use-media-buffering.ts

var useMediaBuffering = ({
  element,
  shouldBuffer,
  isPremounting,
  isPostmounting,
  logLevel,
  mountTime,
  src
}) => {
  const buffer = useBufferState();
  const [isBuffering, setIsBuffering] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    let cleanupFns = [];
    const { current } = element;
    if (!current) {
      return;
    }
    if (!shouldBuffer) {
      return;
    }
    if (isPremounting || isPostmounting) {
      if ((isPremounting || isPostmounting) && current.readyState < current.HAVE_FUTURE_DATA) {
        if (!navigator.userAgent.includes("Firefox/")) {
          playbackLogging({
            logLevel,
            message: `Calling .load() on ${current.src} because readyState is ${current.readyState} and it is not Firefox. Element is premounted ${current.playbackRate}`,
            tag: "load",
            mountTime
          });
          const previousPlaybackRate = current.playbackRate;
          current.load();
          current.playbackRate = previousPlaybackRate;
        }
      }
      return;
    }
    const cleanup = (reason) => {
      let didDoSomething = false;
      cleanupFns.forEach((fn) => {
        fn(reason);
        didDoSomething = true;
      });
      cleanupFns = [];
      setIsBuffering((previous) => {
        if (previous) {
          didDoSomething = true;
        }
        return false;
      });
      if (didDoSomething) {
        playbackLogging({
          logLevel,
          message: `Unmarking as buffering: ${current.src}. Reason: ${reason}`,
          tag: "buffer",
          mountTime
        });
      }
    };
    const blockMedia = (reason) => {
      setIsBuffering(true);
      playbackLogging({
        logLevel,
        message: `Marking as buffering: ${current.src}. Reason: ${reason}`,
        tag: "buffer",
        mountTime
      });
      const { unblock } = buffer.delayPlayback();
      const onCanPlay = () => {
        cleanup('"canplay" was fired');
        init();
      };
      const onError = () => {
        cleanup('"error" event was occurred');
        init();
      };
      current.addEventListener("canplay", onCanPlay, {
        once: true
      });
      cleanupFns.push(() => {
        current.removeEventListener("canplay", onCanPlay);
      });
      current.addEventListener("error", onError, {
        once: true
      });
      cleanupFns.push(() => {
        current.removeEventListener("error", onError);
      });
      cleanupFns.push((cleanupReason) => {
        playbackLogging({
          logLevel,
          message: `Unblocking ${current.src} from buffer. Reason: ${cleanupReason}`,
          tag: "buffer",
          mountTime
        });
        unblock();
      });
    };
    const init = () => {
      if (current.readyState < current.HAVE_FUTURE_DATA) {
        blockMedia(`readyState is ${current.readyState}, which is less than HAVE_FUTURE_DATA`);
        if (!navigator.userAgent.includes("Firefox/")) {
          playbackLogging({
            logLevel,
            message: `Calling .load() on ${src} because readyState is ${current.readyState} and it is not Firefox. ${current.playbackRate}`,
            tag: "load",
            mountTime
          });
          const previousPlaybackRate = current.playbackRate;
          current.load();
          current.playbackRate = previousPlaybackRate;
        }
      } else {
        const onWaiting = () => {
          blockMedia('"waiting" event was fired');
        };
        current.addEventListener("waiting", onWaiting);
        cleanupFns.push(() => {
          current.removeEventListener("waiting", onWaiting);
        });
      }
    };
    init();
    return () => {
      cleanup("element was unmounted or prop changed");
    };
  }, [
    buffer,
    src,
    element,
    isPremounting,
    isPostmounting,
    logLevel,
    shouldBuffer,
    mountTime
  ]);
  return isBuffering;
};

// src/use-request-video-callback-time.ts

var useRequestVideoCallbackTime = ({
  mediaRef,
  mediaType,
  lastSeek,
  onVariableFpsVideoDetected
}) => {
  const currentTime = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const { current } = mediaRef;
    if (current) {
      currentTime.current = {
        time: current.currentTime,
        lastUpdate: performance.now()
      };
    } else {
      currentTime.current = null;
      return;
    }
    if (mediaType !== "video") {
      currentTime.current = null;
      return;
    }
    const videoTag = current;
    if (!videoTag.requestVideoFrameCallback) {
      return;
    }
    let cancel = () => {
      return;
    };
    const request = () => {
      if (!videoTag) {
        return;
      }
      const cb = videoTag.requestVideoFrameCallback((_, info2) => {
        if (currentTime.current !== null) {
          const difference = Math.abs(currentTime.current.time - info2.mediaTime);
          const differenceToLastSeek = Math.abs(lastSeek.current === null ? Infinity : info2.mediaTime - lastSeek.current);
          if (difference > 0.5 && differenceToLastSeek > 0.5 && info2.mediaTime > currentTime.current.time) {
            onVariableFpsVideoDetected();
          }
        }
        currentTime.current = {
          time: info2.mediaTime,
          lastUpdate: performance.now()
        };
        request();
      });
      cancel = () => {
        videoTag.cancelVideoFrameCallback(cb);
        cancel = () => {
          return;
        };
      };
    };
    request();
    return () => {
      cancel();
    };
  }, [lastSeek, mediaRef, mediaType, onVariableFpsVideoDetected]);
  return currentTime;
};

// src/interpolate.ts
function interpolateFunction(input, inputRange, outputRange, options) {
  const { extrapolateLeft, extrapolateRight, easing } = options;
  let result = input;
  const [inputMin, inputMax] = inputRange;
  const [outputMin, outputMax] = outputRange;
  if (result < inputMin) {
    if (extrapolateLeft === "identity") {
      return result;
    }
    if (extrapolateLeft === "clamp") {
      result = inputMin;
    } else if (extrapolateLeft === "wrap") {
      const range = inputMax - inputMin;
      result = ((result - inputMin) % range + range) % range + inputMin;
    } else if (extrapolateLeft === "extend") {}
  }
  if (result > inputMax) {
    if (extrapolateRight === "identity") {
      return result;
    }
    if (extrapolateRight === "clamp") {
      result = inputMax;
    } else if (extrapolateRight === "wrap") {
      const range = inputMax - inputMin;
      result = ((result - inputMin) % range + range) % range + inputMin;
    } else if (extrapolateRight === "extend") {}
  }
  if (outputMin === outputMax) {
    return outputMin;
  }
  result = (result - inputMin) / (inputMax - inputMin);
  result = easing(result);
  result = result * (outputMax - outputMin) + outputMin;
  return result;
}
function findRange(input, inputRange) {
  let i;
  for (i = 1;i < inputRange.length - 1; ++i) {
    if (inputRange[i] >= input) {
      break;
    }
  }
  return i - 1;
}
function checkValidInputRange(arr) {
  for (let i = 1;i < arr.length; ++i) {
    if (!(arr[i] > arr[i - 1])) {
      throw new Error(`inputRange must be strictly monotonically increasing but got [${arr.join(",")}]`);
    }
  }
}
function checkInfiniteRange(name, arr) {
  if (arr.length < 2) {
    throw new Error(name + " must have at least 2 elements");
  }
  for (const element of arr) {
    if (typeof element !== "number") {
      throw new Error(`${name} must contain only numbers`);
    }
    if (!Number.isFinite(element)) {
      throw new Error(`${name} must contain only finite numbers, but got [${arr.join(",")}]`);
    }
  }
}
function interpolate(input, inputRange, outputRange, options) {
  if (typeof input === "undefined") {
    throw new Error("input can not be undefined");
  }
  if (typeof inputRange === "undefined") {
    throw new Error("inputRange can not be undefined");
  }
  if (typeof outputRange === "undefined") {
    throw new Error("outputRange can not be undefined");
  }
  if (inputRange.length !== outputRange.length) {
    throw new Error("inputRange (" + inputRange.length + ") and outputRange (" + outputRange.length + ") must have the same length");
  }
  checkInfiniteRange("inputRange", inputRange);
  checkInfiniteRange("outputRange", outputRange);
  checkValidInputRange(inputRange);
  const easing = options?.easing ?? ((num) => num);
  let extrapolateLeft = "extend";
  if (options?.extrapolateLeft !== undefined) {
    extrapolateLeft = options.extrapolateLeft;
  }
  let extrapolateRight = "extend";
  if (options?.extrapolateRight !== undefined) {
    extrapolateRight = options.extrapolateRight;
  }
  if (typeof input !== "number") {
    throw new TypeError("Cannot interpolate an input which is not a number");
  }
  const range = findRange(input, inputRange);
  return interpolateFunction(input, [inputRange[range], inputRange[range + 1]], [outputRange[range], outputRange[range + 1]], {
    easing,
    extrapolateLeft,
    extrapolateRight
  });
}

// src/video/get-current-time.ts
var getExpectedMediaFrameUncorrected = ({
  frame,
  playbackRate,
  startFrom
}) => {
  return interpolate(frame, [-1, startFrom, startFrom + 1], [-1, startFrom, startFrom + playbackRate]);
};
var getMediaTime = ({
  fps,
  frame,
  playbackRate,
  startFrom
}) => {
  const expectedFrame = getExpectedMediaFrameUncorrected({
    frame,
    playbackRate,
    startFrom
  });
  const msPerFrame = 1000 / fps;
  return expectedFrame * msPerFrame / 1000;
};

// src/warn-about-non-seekable-media.ts
var alreadyWarned = {};
var warnAboutNonSeekableMedia = (ref, type) => {
  if (ref === null) {
    return;
  }
  if (ref.seekable.length === 0) {
    return;
  }
  if (ref.seekable.length > 1) {
    return;
  }
  if (alreadyWarned[ref.src]) {
    return;
  }
  const range = { start: ref.seekable.start(0), end: ref.seekable.end(0) };
  if (range.start === 0 && range.end === 0) {
    const msg = [
      `The media ${ref.src} cannot be seeked. This could be one of few reasons:`,
      "1) The media resource was replaced while the video is playing but it was not loaded yet.",
      "2) The media does not support seeking.",
      "3) The media was loaded with security headers prventing it from being included.",
      "Please see https://remotion.dev/docs/non-seekable-media for assistance."
    ].join(`
`);
    if (type === "console-error") {
      console.error(msg);
    } else if (type === "console-warning") {
      console.warn(`The media ${ref.src} does not support seeking. The video will render fine, but may not play correctly in the Remotion Studio and in the <Player>. See https://remotion.dev/docs/non-seekable-media for an explanation.`);
    } else {
      throw new Error(msg);
    }
    alreadyWarned[ref.src] = true;
  }
};

// src/use-media-playback.ts
var useMediaPlayback = ({
  mediaRef,
  src,
  mediaType,
  playbackRate: localPlaybackRate,
  onlyWarnForMediaSeekingError,
  acceptableTimeshift,
  pauseWhenBuffering,
  isPremounting,
  isPostmounting,
  onAutoPlayError
}) => {
  const { playbackRate: globalPlaybackRate } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(TimelineContext);
  const frame = useCurrentFrame();
  const absoluteFrame = useTimelinePosition();
  const [playing] = usePlayingState();
  const buffering = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(BufferingContextReact);
  const { fps } = useVideoConfig();
  const mediaStartsAt = useMediaStartsAt();
  const lastSeekDueToShift = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const lastSeek = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const logLevel = useLogLevel();
  const mountTime = useMountTime();
  if (!buffering) {
    throw new Error("useMediaPlayback must be used inside a <BufferingContext>");
  }
  const isVariableFpsVideoMap = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({});
  const onVariableFpsVideoDetected = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {
    if (!src) {
      return;
    }
    if (isVariableFpsVideoMap.current[src]) {
      return;
    }
    Log.verbose({ logLevel, tag: null }, `Detected ${src} as a variable FPS video. Disabling buffering while seeking.`);
    isVariableFpsVideoMap.current[src] = true;
  }, [logLevel, src]);
  const rvcCurrentTime = useRequestVideoCallbackTime({
    mediaRef,
    mediaType,
    lastSeek,
    onVariableFpsVideoDetected
  });
  const mediaTagCurrentTime = useCurrentTimeOfMediaTagWithUpdateTimeStamp(mediaRef);
  const desiredUnclampedTime = getMediaTime({
    frame,
    playbackRate: localPlaybackRate,
    startFrom: -mediaStartsAt,
    fps
  });
  const isMediaTagBuffering = useMediaBuffering({
    element: mediaRef,
    shouldBuffer: pauseWhenBuffering,
    isPremounting,
    isPostmounting,
    logLevel,
    mountTime,
    src: src ?? null
  });
  const { bufferUntilFirstFrame, isBuffering } = useBufferUntilFirstFrame({
    mediaRef,
    mediaType,
    onVariableFpsVideoDetected,
    pauseWhenBuffering,
    logLevel,
    mountTime
  });
  const playbackRate = localPlaybackRate * globalPlaybackRate;
  const acceptableTimeShiftButLessThanDuration = (() => {
    const DEFAULT_ACCEPTABLE_TIMESHIFT_WITH_NORMAL_PLAYBACK = 0.45;
    const DEFAULT_ACCEPTABLE_TIMESHIFT_WITH_AMPLIFICATION = DEFAULT_ACCEPTABLE_TIMESHIFT_WITH_NORMAL_PLAYBACK + 0.2;
    const defaultAcceptableTimeshift = DEFAULT_ACCEPTABLE_TIMESHIFT_WITH_AMPLIFICATION;
    if (mediaRef.current?.duration) {
      return Math.min(mediaRef.current.duration, acceptableTimeshift ?? defaultAcceptableTimeshift);
    }
    return acceptableTimeshift ?? defaultAcceptableTimeshift;
  })();
  const isPlayerBuffering = useIsPlayerBuffering(buffering);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (mediaRef.current?.paused) {
      return;
    }
    if (!playing) {
      playbackLogging({
        logLevel,
        tag: "pause",
        message: `Pausing ${mediaRef.current?.src} because ${isPremounting ? "media is premounting" : isPostmounting ? "media is postmounting" : "Player is not playing"}`,
        mountTime
      });
      mediaRef.current?.pause();
      return;
    }
    const isMediaTagBufferingOrStalled = isMediaTagBuffering || isBuffering();
    const playerBufferingNotStateButLive = buffering.buffering.current;
    if (playerBufferingNotStateButLive && !isMediaTagBufferingOrStalled) {
      playbackLogging({
        logLevel,
        tag: "pause",
        message: `Pausing ${mediaRef.current?.src} because player is buffering but media tag is not`,
        mountTime
      });
      mediaRef.current?.pause();
    }
  }, [
    isBuffering,
    isMediaTagBuffering,
    buffering,
    isPlayerBuffering,
    isPremounting,
    logLevel,
    mediaRef,
    mediaType,
    mountTime,
    playing,
    isPostmounting
  ]);
  const env = useRemotionEnvironment();
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    const playbackRateToSet = Math.max(0, playbackRate);
    if (mediaRef.current && mediaRef.current.playbackRate !== playbackRateToSet) {
      mediaRef.current.playbackRate = playbackRateToSet;
    }
  }, [mediaRef, playbackRate]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const tagName = mediaType === "audio" ? "<Html5Audio>" : "<Html5Video>";
    if (!mediaRef.current) {
      throw new Error(`No ${mediaType} ref found`);
    }
    if (!src) {
      throw new Error(`No 'src' attribute was passed to the ${tagName} element.`);
    }
    const { duration } = mediaRef.current;
    const shouldBeTime = !Number.isNaN(duration) && Number.isFinite(duration) ? Math.min(duration, desiredUnclampedTime) : desiredUnclampedTime;
    const mediaTagTime = mediaTagCurrentTime.current.time;
    const rvcTime = rvcCurrentTime.current?.time ?? null;
    const isVariableFpsVideo = isVariableFpsVideoMap.current[src];
    const timeShiftMediaTag = Math.abs(shouldBeTime - mediaTagTime);
    const timeShiftRvcTag = rvcTime ? Math.abs(shouldBeTime - rvcTime) : null;
    const mostRecentTimeshift = rvcCurrentTime.current?.lastUpdate && rvcCurrentTime.current.time > mediaTagCurrentTime.current.lastUpdate ? timeShiftRvcTag : timeShiftMediaTag;
    const timeShift = timeShiftRvcTag && !isVariableFpsVideo ? mostRecentTimeshift : timeShiftMediaTag;
    if (timeShift > acceptableTimeShiftButLessThanDuration && lastSeekDueToShift.current !== shouldBeTime) {
      lastSeek.current = seek({
        mediaRef: mediaRef.current,
        time: shouldBeTime,
        logLevel,
        why: `because time shift is too big. shouldBeTime = ${shouldBeTime}, isTime = ${mediaTagTime}, requestVideoCallbackTime = ${rvcTime}, timeShift = ${timeShift}${isVariableFpsVideo ? ", isVariableFpsVideo = true" : ""}, isPremounting = ${isPremounting}, isPostmounting = ${isPostmounting}, pauseWhenBuffering = ${pauseWhenBuffering}`,
        mountTime
      });
      lastSeekDueToShift.current = lastSeek.current;
      if (playing) {
        if (playbackRate > 0) {
          bufferUntilFirstFrame(shouldBeTime);
        }
        if (mediaRef.current.paused) {
          playAndHandleNotAllowedError({
            mediaRef,
            mediaType,
            onAutoPlayError,
            logLevel,
            mountTime,
            reason: "player is playing but media tag is paused, and just seeked",
            isPlayer: env.isPlayer
          });
        }
      }
      if (!onlyWarnForMediaSeekingError) {
        warnAboutNonSeekableMedia(mediaRef.current, onlyWarnForMediaSeekingError ? "console-warning" : "console-error");
      }
      return;
    }
    const seekThreshold = playing ? 0.15 : 0.01;
    const makesSenseToSeek = Math.abs(mediaRef.current.currentTime - shouldBeTime) > seekThreshold;
    const isMediaTagBufferingOrStalled = isMediaTagBuffering || isBuffering();
    const isSomethingElseBuffering = buffering.buffering.current && !isMediaTagBufferingOrStalled;
    if (!playing || isSomethingElseBuffering) {
      if (makesSenseToSeek) {
        lastSeek.current = seek({
          mediaRef: mediaRef.current,
          time: shouldBeTime,
          logLevel,
          why: `not playing or something else is buffering. time offset is over seek threshold (${seekThreshold})`,
          mountTime
        });
      }
      return;
    }
    if (!playing || buffering.buffering.current) {
      return;
    }
    const pausedCondition = mediaRef.current.paused && !mediaRef.current.ended;
    const firstFrameCondition = absoluteFrame === 0;
    if (pausedCondition || firstFrameCondition) {
      const reason = pausedCondition ? "media tag is paused" : "absolute frame is 0";
      if (makesSenseToSeek) {
        lastSeek.current = seek({
          mediaRef: mediaRef.current,
          time: shouldBeTime,
          logLevel,
          why: `is over timeshift threshold (threshold = ${seekThreshold}) and ${reason}`,
          mountTime
        });
      }
      playAndHandleNotAllowedError({
        mediaRef,
        mediaType,
        onAutoPlayError,
        logLevel,
        mountTime,
        reason: `player is playing and ${reason}`,
        isPlayer: env.isPlayer
      });
      if (!isVariableFpsVideo && playbackRate > 0) {
        bufferUntilFirstFrame(shouldBeTime);
      }
    }
  }, [
    absoluteFrame,
    acceptableTimeShiftButLessThanDuration,
    bufferUntilFirstFrame,
    buffering.buffering,
    rvcCurrentTime,
    logLevel,
    desiredUnclampedTime,
    isBuffering,
    isMediaTagBuffering,
    mediaRef,
    mediaType,
    onlyWarnForMediaSeekingError,
    playbackRate,
    playing,
    src,
    onAutoPlayError,
    isPremounting,
    isPostmounting,
    pauseWhenBuffering,
    mountTime,
    mediaTagCurrentTime,
    env.isPlayer
  ]);
};

// src/use-media-tag.ts

var useMediaTag = ({
  mediaRef,
  id,
  mediaType,
  onAutoPlayError,
  isPremounting,
  isPostmounting
}) => {
  const { audioAndVideoTags, imperativePlaying } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(TimelineContext);
  const logLevel = useLogLevel();
  const mountTime = useMountTime();
  const env = useRemotionEnvironment();
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const tag = {
      id,
      play: (reason) => {
        if (!imperativePlaying.current) {
          return;
        }
        if (isPremounting || isPostmounting) {
          return;
        }
        return playAndHandleNotAllowedError({
          mediaRef,
          mediaType,
          onAutoPlayError,
          logLevel,
          mountTime,
          reason,
          isPlayer: env.isPlayer
        });
      }
    };
    audioAndVideoTags.current.push(tag);
    return () => {
      audioAndVideoTags.current = audioAndVideoTags.current.filter((a) => a.id !== id);
    };
  }, [
    audioAndVideoTags,
    id,
    mediaRef,
    mediaType,
    onAutoPlayError,
    imperativePlaying,
    isPremounting,
    isPostmounting,
    logLevel,
    mountTime,
    env.isPlayer
  ]);
};

// src/volume-position-state.ts

var MediaVolumeContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({
  mediaMuted: false,
  mediaVolume: 1
});
var SetMediaVolumeContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({
  setMediaMuted: () => {
    throw new Error("default");
  },
  setMediaVolume: () => {
    throw new Error("default");
  }
});
var useMediaVolumeState = () => {
  const { mediaVolume } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MediaVolumeContext);
  const { setMediaVolume } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SetMediaVolumeContext);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return [mediaVolume, setMediaVolume];
  }, [mediaVolume, setMediaVolume]);
};
var useMediaMutedState = () => {
  const { mediaMuted } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MediaVolumeContext);
  const { setMediaMuted } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SetMediaVolumeContext);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return [mediaMuted, setMediaMuted];
  }, [mediaMuted, setMediaMuted]);
};

// src/volume-safeguard.ts
var warnAboutTooHighVolume = (volume) => {
  if (volume >= 100) {
    throw new Error(`Volume was set to ${volume}, but regular volume is 1, not 100. Did you forget to divide by 100? Set a volume of less than 100 to dismiss this error.`);
  }
};

// src/audio/AudioForPreview.tsx

var AudioForDevelopmentForwardRefFunction = (props, ref) => {
  const [initialShouldPreMountAudioElements] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(props.shouldPreMountAudioTags);
  if (props.shouldPreMountAudioTags !== initialShouldPreMountAudioElements) {
    throw new Error("Cannot change the behavior for pre-mounting audio tags dynamically.");
  }
  const logLevel = useLogLevel();
  const {
    volume,
    muted,
    playbackRate,
    shouldPreMountAudioTags,
    src,
    onDuration,
    acceptableTimeShiftInSeconds,
    _remotionInternalNeedsDurationCalculation,
    _remotionInternalNativeLoopPassed,
    _remotionInternalStack,
    allowAmplificationDuringRender,
    name,
    pauseWhenBuffering,
    showInTimeline,
    loopVolumeCurveBehavior,
    stack,
    crossOrigin,
    delayRenderRetries,
    delayRenderTimeoutInMilliseconds,
    toneFrequency,
    useWebAudioApi,
    onError,
    onNativeError,
    audioStreamIndex,
    ...nativeProps
  } = props;
  const _propsValid = true;
  if (!_propsValid) {
    throw new Error("typecheck error");
  }
  const [mediaVolume] = useMediaVolumeState();
  const [mediaMuted] = useMediaMutedState();
  const volumePropFrame = useFrameForVolumeProp(loopVolumeCurveBehavior ?? "repeat");
  const { hidden } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SequenceVisibilityToggleContext);
  if (!src) {
    throw new TypeError("No 'src' was passed to <Html5Audio>.");
  }
  const preloadedSrc = usePreload(src);
  const sequenceContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SequenceContext);
  const [timelineId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => String(Math.random()));
  const isSequenceHidden = hidden[timelineId] ?? false;
  const userPreferredVolume = evaluateVolume({
    frame: volumePropFrame,
    volume,
    mediaVolume
  });
  warnAboutTooHighVolume(userPreferredVolume);
  const crossOriginValue = getCrossOriginValue({
    crossOrigin,
    requestsVideoFrame: false,
    isClientSideRendering: false
  });
  const propsToPass = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      muted: muted || mediaMuted || isSequenceHidden || userPreferredVolume <= 0,
      src: preloadedSrc,
      loop: _remotionInternalNativeLoopPassed,
      crossOrigin: crossOriginValue,
      ...nativeProps
    };
  }, [
    _remotionInternalNativeLoopPassed,
    isSequenceHidden,
    mediaMuted,
    muted,
    nativeProps,
    preloadedSrc,
    userPreferredVolume,
    crossOriginValue
  ]);
  const id = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => `audio-${random(src ?? "")}-${sequenceContext?.relativeFrom}-${sequenceContext?.cumulatedFrom}-${sequenceContext?.durationInFrames}-muted:${props.muted}-loop:${props.loop}`, [
    src,
    sequenceContext?.relativeFrom,
    sequenceContext?.cumulatedFrom,
    sequenceContext?.durationInFrames,
    props.muted,
    props.loop
  ]);
  const {
    el: audioRef,
    mediaElementSourceNode,
    cleanupOnMediaTagUnmount
  } = useSharedAudio({
    aud: propsToPass,
    audioId: id,
    premounting: Boolean(sequenceContext?.premounting),
    postmounting: Boolean(sequenceContext?.postmounting)
  });
  useMediaInTimeline({
    volume,
    mediaVolume,
    src,
    mediaType: "audio",
    playbackRate: playbackRate ?? 1,
    displayName: name ?? null,
    id: timelineId,
    stack: _remotionInternalStack,
    showInTimeline,
    premountDisplay: sequenceContext?.premountDisplay ?? null,
    postmountDisplay: sequenceContext?.postmountDisplay ?? null,
    loopDisplay: undefined
  });
  useMediaPlayback({
    mediaRef: audioRef,
    src,
    mediaType: "audio",
    playbackRate: playbackRate ?? 1,
    onlyWarnForMediaSeekingError: false,
    acceptableTimeshift: acceptableTimeShiftInSeconds ?? null,
    isPremounting: Boolean(sequenceContext?.premounting),
    isPostmounting: Boolean(sequenceContext?.postmounting),
    pauseWhenBuffering,
    onAutoPlayError: null
  });
  useMediaTag({
    id: timelineId,
    isPostmounting: Boolean(sequenceContext?.postmounting),
    isPremounting: Boolean(sequenceContext?.premounting),
    mediaRef: audioRef,
    mediaType: "audio",
    onAutoPlayError: null
  });
  useVolume({
    logLevel,
    mediaRef: audioRef,
    source: mediaElementSourceNode,
    volume: userPreferredVolume,
    shouldUseWebAudioApi: useWebAudioApi ?? false
  });
  const effectToUse = react__WEBPACK_IMPORTED_MODULE_0__.useInsertionEffect ?? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect;
  effectToUse(() => {
    return () => {
      requestAnimationFrame(() => {
        cleanupOnMediaTagUnmount();
      });
    };
  }, [cleanupOnMediaTagUnmount]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => {
    return audioRef.current;
  }, [audioRef]);
  const currentOnDurationCallback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(onDuration);
  currentOnDurationCallback.current = onDuration;
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const { current } = audioRef;
    if (!current) {
      return;
    }
    if (current.duration) {
      currentOnDurationCallback.current?.(current.src, current.duration);
      return;
    }
    const onLoadedMetadata = () => {
      currentOnDurationCallback.current?.(current.src, current.duration);
    };
    current.addEventListener("loadedmetadata", onLoadedMetadata);
    return () => {
      current.removeEventListener("loadedmetadata", onLoadedMetadata);
    };
  }, [audioRef, src]);
  if (initialShouldPreMountAudioElements) {
    return null;
  }
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("audio", {
    ref: audioRef,
    preload: "metadata",
    crossOrigin: crossOriginValue,
    ...propsToPass
  });
};
var AudioForPreview = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(AudioForDevelopmentForwardRefFunction);

// src/audio/AudioForRendering.tsx


var AudioForRenderingRefForwardingFunction = (props, ref) => {
  const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const {
    volume: volumeProp,
    playbackRate,
    allowAmplificationDuringRender,
    onDuration,
    toneFrequency,
    _remotionInternalNeedsDurationCalculation,
    _remotionInternalNativeLoopPassed,
    acceptableTimeShiftInSeconds,
    name,
    onNativeError,
    delayRenderRetries,
    delayRenderTimeoutInMilliseconds,
    loopVolumeCurveBehavior,
    pauseWhenBuffering,
    audioStreamIndex,
    ...nativeProps
  } = props;
  const absoluteFrame = useTimelinePosition();
  const volumePropFrame = useFrameForVolumeProp(loopVolumeCurveBehavior ?? "repeat");
  const frame = useCurrentFrame();
  const sequenceContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SequenceContext);
  const { registerRenderAsset, unregisterRenderAsset } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(RenderAssetManager);
  const { delayRender: delayRender2, continueRender: continueRender2 } = useDelayRender();
  const id = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => `audio-${random(props.src ?? "")}-${sequenceContext?.relativeFrom}-${sequenceContext?.cumulatedFrom}-${sequenceContext?.durationInFrames}`, [
    props.src,
    sequenceContext?.relativeFrom,
    sequenceContext?.cumulatedFrom,
    sequenceContext?.durationInFrames
  ]);
  const volume = evaluateVolume({
    volume: volumeProp,
    frame: volumePropFrame,
    mediaVolume: 1
  });
  warnAboutTooHighVolume(volume);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => {
    return audioRef.current;
  }, []);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!props.src) {
      throw new Error("No src passed");
    }
    if (!window.remotion_audioEnabled) {
      return;
    }
    if (props.muted) {
      return;
    }
    if (volume <= 0) {
      return;
    }
    registerRenderAsset({
      type: "audio",
      src: getAbsoluteSrc(props.src),
      id,
      frame: absoluteFrame,
      volume,
      mediaFrame: frame,
      playbackRate: props.playbackRate ?? 1,
      toneFrequency: toneFrequency ?? 1,
      audioStartFrame: Math.max(0, -(sequenceContext?.relativeFrom ?? 0)),
      audioStreamIndex: audioStreamIndex ?? 0
    });
    return () => unregisterRenderAsset(id);
  }, [
    props.muted,
    props.src,
    registerRenderAsset,
    absoluteFrame,
    id,
    unregisterRenderAsset,
    volume,
    volumePropFrame,
    frame,
    playbackRate,
    props.playbackRate,
    toneFrequency,
    sequenceContext?.relativeFrom,
    audioStreamIndex
  ]);
  const { src } = props;
  const needsToRenderAudioTag = ref || _remotionInternalNeedsDurationCalculation;
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    if (window.process?.env?.NODE_ENV === "test") {
      return;
    }
    if (!needsToRenderAudioTag) {
      return;
    }
    const newHandle = delayRender2("Loading <Html5Audio> duration with src=" + src, {
      retries: delayRenderRetries ?? undefined,
      timeoutInMilliseconds: delayRenderTimeoutInMilliseconds ?? undefined
    });
    const { current } = audioRef;
    const didLoad = () => {
      if (current?.duration) {
        onDuration(current.src, current.duration);
      }
      continueRender2(newHandle);
    };
    if (current?.duration) {
      onDuration(current.src, current.duration);
      continueRender2(newHandle);
    } else {
      current?.addEventListener("loadedmetadata", didLoad, { once: true });
    }
    return () => {
      current?.removeEventListener("loadedmetadata", didLoad);
      continueRender2(newHandle);
    };
  }, [
    src,
    onDuration,
    needsToRenderAudioTag,
    delayRenderRetries,
    delayRenderTimeoutInMilliseconds,
    continueRender2,
    delayRender2
  ]);
  if (!needsToRenderAudioTag) {
    return null;
  }
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("audio", {
    ref: audioRef,
    ...nativeProps,
    onError: onNativeError
  });
};
var AudioForRendering = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(AudioForRenderingRefForwardingFunction);

// src/audio/Audio.tsx

var AudioRefForwardingFunction = (props, ref) => {
  const audioContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SharedAudioContext);
  const {
    startFrom,
    endAt,
    trimBefore,
    trimAfter,
    name,
    stack,
    pauseWhenBuffering,
    showInTimeline,
    onError: onRemotionError,
    ...otherProps
  } = props;
  const { loop, ...propsOtherThanLoop } = props;
  const { fps } = useVideoConfig();
  const environment = useRemotionEnvironment();
  if (environment.isClientSideRendering) {
    throw new Error("<Html5Audio> is not supported in @remotion/web-renderer. Use <Audio> from @remotion/media instead. See https://remotion.dev/docs/client-side-rendering/limitations");
  }
  const { durations, setDurations } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(DurationsContext);
  if (typeof props.src !== "string") {
    throw new TypeError(`The \`<Html5Audio>\` tag requires a string for \`src\`, but got ${JSON.stringify(props.src)} instead.`);
  }
  const preloadedSrc = usePreload(props.src);
  const onError = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e) => {
    console.log(e.currentTarget.error);
    const errMessage = `Could not play audio with src ${preloadedSrc}: ${e.currentTarget.error}. See https://remotion.dev/docs/media-playback-error for help.`;
    if (loop) {
      if (onRemotionError) {
        onRemotionError(new Error(errMessage));
        return;
      }
      cancelRender(new Error(errMessage));
    } else {
      onRemotionError?.(new Error(errMessage));
      console.warn(errMessage);
    }
  }, [loop, onRemotionError, preloadedSrc]);
  const onDuration = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((src, durationInSeconds) => {
    setDurations({ type: "got-duration", durationInSeconds, src });
  }, [setDurations]);
  const durationFetched = durations[getAbsoluteSrc(preloadedSrc)] ?? durations[getAbsoluteSrc(props.src)];
  validateMediaTrimProps({ startFrom, endAt, trimBefore, trimAfter });
  const { trimBeforeValue, trimAfterValue } = resolveTrimProps({
    startFrom,
    endAt,
    trimBefore,
    trimAfter
  });
  if (loop && durationFetched !== undefined) {
    if (!Number.isFinite(durationFetched)) {
      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Html5Audio, {
        ...propsOtherThanLoop,
        ref,
        _remotionInternalNativeLoopPassed: true
      });
    }
    const duration = durationFetched * fps;
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Loop, {
      layout: "none",
      durationInFrames: calculateMediaDuration({
        trimAfter: trimAfterValue,
        mediaDurationInFrames: duration,
        playbackRate: props.playbackRate ?? 1,
        trimBefore: trimBeforeValue
      }),
      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Html5Audio, {
        ...propsOtherThanLoop,
        ref,
        _remotionInternalNativeLoopPassed: true
      })
    });
  }
  if (typeof trimBeforeValue !== "undefined" || typeof trimAfterValue !== "undefined") {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Sequence, {
      layout: "none",
      from: 0 - (trimBeforeValue ?? 0),
      showInTimeline: false,
      durationInFrames: trimAfterValue,
      name,
      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Html5Audio, {
        _remotionInternalNeedsDurationCalculation: Boolean(loop),
        pauseWhenBuffering: pauseWhenBuffering ?? false,
        ...otherProps,
        ref
      })
    });
  }
  validateMediaProps({ playbackRate: props.playbackRate, volume: props.volume }, "Html5Audio");
  if (environment.isRendering) {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(AudioForRendering, {
      onDuration,
      ...props,
      ref,
      onNativeError: onError,
      _remotionInternalNeedsDurationCalculation: Boolean(loop)
    });
  }
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(AudioForPreview, {
    _remotionInternalNativeLoopPassed: props._remotionInternalNativeLoopPassed ?? false,
    _remotionInternalStack: stack ?? null,
    shouldPreMountAudioTags: audioContext !== null && audioContext.numberOfAudioTags > 0,
    ...props,
    ref,
    onNativeError: onError,
    onDuration,
    pauseWhenBuffering: pauseWhenBuffering ?? false,
    _remotionInternalNeedsDurationCalculation: Boolean(loop),
    showInTimeline: showInTimeline ?? true
  });
};
var Html5Audio = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(AudioRefForwardingFunction);
addSequenceStackTraces(Html5Audio);
var Audio = Html5Audio;
// src/Composition.tsx



// src/Folder.tsx


// src/validation/validate-folder-name.ts
var getRegex = () => /^([a-zA-Z0-9-\u4E00-\u9FFF])+$/g;
var isFolderNameValid = (name) => name.match(getRegex());
var validateFolderName = (name) => {
  if (name === undefined || name === null) {
    throw new TypeError("You must pass a name to a <Folder />.");
  }
  if (typeof name !== "string") {
    throw new TypeError(`The "name" you pass into <Folder /> must be a string. Got: ${typeof name}`);
  }
  if (!isFolderNameValid(name)) {
    throw new Error(`Folder name can only contain a-z, A-Z, 0-9 and -. You passed ${name}`);
  }
};
var invalidFolderNameErrorMessage = (/* unused pure expression or super */ null && (`Folder name must match ${String(getRegex())}`));

// src/Folder.tsx

var FolderContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({
  folderName: null,
  parentName: null
});
var Folder = ({ name, children }) => {
  const parent = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(FolderContext);
  const { registerFolder, unregisterFolder } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CompositionSetters);
  validateFolderName(name);
  const parentNameArr = [parent.parentName, parent.folderName].filter(truthy);
  const parentName = parentNameArr.length === 0 ? null : parentNameArr.join("/");
  const value = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      folderName: name,
      parentName
    };
  }, [name, parentName]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    registerFolder(name, parentName);
    return () => {
      unregisterFolder(name, parentName);
    };
  }, [name, parent.folderName, parentName, registerFolder, unregisterFolder]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FolderContext.Provider, {
    value,
    children
  });
};

// src/loading-indicator.tsx

var rotate = {
  transform: `rotate(90deg)`
};
var ICON_SIZE = 40;
var label = {
  color: "white",
  fontSize: 14,
  fontFamily: "sans-serif"
};
var container = {
  justifyContent: "center",
  alignItems: "center"
};
var Loading = () => {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(AbsoluteFill, {
    style: container,
    id: "remotion-comp-loading",
    children: [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("style", {
        type: "text/css",
        children: `
				@keyframes anim {
					from {
						opacity: 0
					}
					to {
						opacity: 1
					}
				}
				#remotion-comp-loading {
					animation: anim 2s;
					animation-fill-mode: forwards;
				}
			`
      }),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg", {
        width: ICON_SIZE,
        height: ICON_SIZE,
        viewBox: "-100 -100 400 400",
        style: rotate,
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path", {
          fill: "#555",
          stroke: "#555",
          strokeWidth: "100",
          strokeLinejoin: "round",
          d: "M 2 172 a 196 100 0 0 0 195 5 A 196 240 0 0 0 100 2.259 A 196 240 0 0 0 2 172 z"
        })
      }),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("p", {
        style: label,
        children: [
          "Resolving ",
          "<Suspense>",
          "..."
        ]
      })
    ]
  });
};

// src/portal-node.ts
var _portalNode = null;
var portalNode = () => {
  if (!_portalNode) {
    if (typeof document === "undefined") {
      throw new Error("Tried to call an API that only works in the browser from outside the browser");
    }
    _portalNode = document.createElement("div");
    _portalNode.style.position = "absolute";
    _portalNode.style.top = "0px";
    _portalNode.style.left = "0px";
    _portalNode.style.right = "0px";
    _portalNode.style.bottom = "0px";
    _portalNode.style.width = "100%";
    _portalNode.style.height = "100%";
    _portalNode.style.display = "flex";
    _portalNode.style.flexDirection = "column";
    const containerNode = document.createElement("div");
    containerNode.style.position = "fixed";
    containerNode.style.top = -999999 + "px";
    containerNode.appendChild(_portalNode);
    document.body.appendChild(containerNode);
  }
  return _portalNode;
};

// src/use-lazy-component.ts

var useLazyComponent = ({
  compProps,
  componentName,
  noSuspense
}) => {
  const lazy = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if ("component" in compProps) {
      if (typeof document === "undefined" || noSuspense) {
        return compProps.component;
      }
      if (typeof compProps.component === "undefined") {
        throw new Error(`A value of \`undefined\` was passed to the \`component\` prop. Check the value you are passing to the <${componentName}/> component.`);
      }
      return compProps.component;
    }
    if ("lazyComponent" in compProps && typeof compProps.lazyComponent !== "undefined") {
      if (typeof compProps.lazyComponent === "undefined") {
        throw new Error(`A value of \`undefined\` was passed to the \`lazyComponent\` prop. Check the value you are passing to the <${componentName}/> component.`);
      }
      return react__WEBPACK_IMPORTED_MODULE_0__.lazy(compProps.lazyComponent);
    }
    throw new Error("You must pass either 'component' or 'lazyComponent'");
  }, [compProps.component, compProps.lazyComponent]);
  return lazy;
};

// src/validation/validate-composition-id.ts
var getRegex2 = () => /^([a-zA-Z0-9-\u4E00-\u9FFF])+$/g;
var isCompositionIdValid = (id) => id.match(getRegex2());
var validateCompositionId = (id) => {
  if (!isCompositionIdValid(id)) {
    throw new Error(`Composition id can only contain a-z, A-Z, 0-9, CJK characters and -. You passed ${id}`);
  }
};
var invalidCompositionErrorMessage = `Composition ID must match ${String(getRegex2())}`;

// src/validation/validate-default-props.ts
var validateDefaultAndInputProps = (defaultProps, name, compositionId) => {
  if (!defaultProps) {
    return;
  }
  if (typeof defaultProps !== "object") {
    throw new Error(`"${name}" must be an object, but you passed a value of type ${typeof defaultProps}`);
  }
  if (Array.isArray(defaultProps)) {
    throw new Error(`"${name}" must be an object, an array was passed ${compositionId ? `for composition "${compositionId}"` : ""}`);
  }
};

// src/Composition.tsx

var Fallback = () => {
  const { continueRender: continueRender2, delayRender: delayRender2 } = useDelayRender();
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const fallback = delayRender2("Waiting for Root component to unsuspend");
    return () => continueRender2(fallback);
  }, [continueRender2, delayRender2]);
  return null;
};
var InnerComposition = ({
  width,
  height,
  fps,
  durationInFrames,
  id,
  defaultProps,
  schema,
  ...compProps
}) => {
  const compManager = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CompositionSetters);
  const { registerComposition, unregisterComposition } = compManager;
  const video = useVideo();
  const lazy = useLazyComponent({
    compProps,
    componentName: "Composition",
    noSuspense: false
  });
  const nonce = useNonce();
  const isPlayer = useIsPlayer();
  const environment = useRemotionEnvironment();
  const canUseComposition = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CanUseRemotionHooks);
  if (typeof window !== "undefined") {
    window.remotion_seenCompositionIds = Array.from(new Set([...window.remotion_seenCompositionIds ?? [], id]));
  }
  if (canUseComposition) {
    if (isPlayer) {
      throw new Error("<Composition> was mounted inside the `component` that was passed to the <Player>. See https://remotion.dev/docs/wrong-composition-mount for help.");
    }
    throw new Error("<Composition> mounted inside another composition. See https://remotion.dev/docs/wrong-composition-mount for help.");
  }
  const { folderName, parentName } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(FolderContext);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!id) {
      throw new Error("No id for composition passed.");
    }
    validateCompositionId(id);
    validateDefaultAndInputProps(defaultProps, "defaultProps", id);
    registerComposition({
      durationInFrames: durationInFrames ?? undefined,
      fps: fps ?? undefined,
      height: height ?? undefined,
      width: width ?? undefined,
      id,
      folderName,
      component: lazy,
      defaultProps: serializeThenDeserializeInStudio(defaultProps ?? {}),
      nonce,
      parentFolderName: parentName,
      schema: schema ?? null,
      calculateMetadata: compProps.calculateMetadata ?? null
    });
    return () => {
      unregisterComposition(id);
    };
  }, [
    durationInFrames,
    fps,
    height,
    lazy,
    id,
    folderName,
    defaultProps,
    width,
    nonce,
    parentName,
    schema,
    compProps.calculateMetadata,
    registerComposition,
    unregisterComposition
  ]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    window.dispatchEvent(new CustomEvent(PROPS_UPDATED_EXTERNALLY, {
      detail: {
        resetUnsaved: id
      }
    }));
  }, [defaultProps, id]);
  const resolved = useResolvedVideoConfig(id);
  if (environment.isStudio && video && video.component === lazy && video.id === id) {
    const Comp = lazy;
    if (resolved === null || resolved.type !== "success" && resolved.type !== "success-and-refreshing") {
      return null;
    }
    return (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CanUseRemotionHooksProvider, {
      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Suspense, {
        fallback: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Loading, {}),
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Comp, {
          ...resolved.result.props ?? {}
        })
      })
    }), portalNode());
  }
  if (environment.isRendering && video && video.component === lazy && video.id === id) {
    const Comp = lazy;
    if (resolved === null || resolved.type !== "success" && resolved.type !== "success-and-refreshing") {
      return null;
    }
    return (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CanUseRemotionHooksProvider, {
      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Suspense, {
        fallback: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Fallback, {}),
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Comp, {
          ...resolved.result.props ?? {}
        })
      })
    }), portalNode());
  }
  return null;
};
var Composition = (props2) => {
  const { onlyRenderComposition } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CompositionSetters);
  if (onlyRenderComposition && onlyRenderComposition !== props2.id) {
    return null;
  }
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(InnerComposition, {
    ...props2
  });
};
// src/bezier.ts
var NEWTON_ITERATIONS = 4;
var NEWTON_MIN_SLOPE = 0.001;
var SUBDIVISION_PRECISION = 0.0000001;
var SUBDIVISION_MAX_ITERATIONS = 10;
var kSplineTableSize = 11;
var kSampleStepSize = 1 / (kSplineTableSize - 1);
var float32ArraySupported = typeof Float32Array === "function";
function a(aA1, aA2) {
  return 1 - 3 * aA2 + 3 * aA1;
}
function b(aA1, aA2) {
  return 3 * aA2 - 6 * aA1;
}
function c(aA1) {
  return 3 * aA1;
}
function calcBezier(aT, aA1, aA2) {
  return ((a(aA1, aA2) * aT + b(aA1, aA2)) * aT + c(aA1)) * aT;
}
function getSlope(aT, aA1, aA2) {
  return 3 * a(aA1, aA2) * aT * aT + 2 * b(aA1, aA2) * aT + c(aA1);
}
function binarySubdivide({
  aX,
  _aA,
  _aB,
  mX1,
  mX2
}) {
  let currentX;
  let currentT;
  let i = 0;
  let aA = _aA;
  let aB = _aB;
  do {
    currentT = aA + (aB - aA) / 2;
    currentX = calcBezier(currentT, mX1, mX2) - aX;
    if (currentX > 0) {
      aB = currentT;
    } else {
      aA = currentT;
    }
  } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);
  return currentT;
}
function newtonRaphsonIterate(aX, _aGuessT, mX1, mX2) {
  let aGuessT = _aGuessT;
  for (let i = 0;i < NEWTON_ITERATIONS; ++i) {
    const currentSlope = getSlope(aGuessT, mX1, mX2);
    if (currentSlope === 0) {
      return aGuessT;
    }
    const currentX = calcBezier(aGuessT, mX1, mX2) - aX;
    aGuessT -= currentX / currentSlope;
  }
  return aGuessT;
}
function bezier(mX1, mY1, mX2, mY2) {
  if (!(mX1 >= 0 && mX1 <= 1 && mX2 >= 0 && mX2 <= 1)) {
    throw new Error("bezier x values must be in [0, 1] range");
  }
  const sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);
  if (mX1 !== mY1 || mX2 !== mY2) {
    for (let i = 0;i < kSplineTableSize; ++i) {
      sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);
    }
  }
  function getTForX(aX) {
    let intervalStart = 0;
    let currentSample = 1;
    const lastSample = kSplineTableSize - 1;
    for (;currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {
      intervalStart += kSampleStepSize;
    }
    --currentSample;
    const dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);
    const guessForT = intervalStart + dist * kSampleStepSize;
    const initialSlope = getSlope(guessForT, mX1, mX2);
    if (initialSlope >= NEWTON_MIN_SLOPE) {
      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);
    }
    if (initialSlope === 0) {
      return guessForT;
    }
    return binarySubdivide({
      aX,
      _aA: intervalStart,
      _aB: intervalStart + kSampleStepSize,
      mX1,
      mX2
    });
  }
  return function(x) {
    if (mX1 === mY1 && mX2 === mY2) {
      return x;
    }
    if (x === 0) {
      return 0;
    }
    if (x === 1) {
      return 1;
    }
    return calcBezier(getTForX(x), mY1, mY2);
  };
}

// src/easing.ts
class Easing {
  static step0(n) {
    return n > 0 ? 1 : 0;
  }
  static step1(n) {
    return n >= 1 ? 1 : 0;
  }
  static linear(t) {
    return t;
  }
  static ease(t) {
    return Easing.bezier(0.42, 0, 1, 1)(t);
  }
  static quad(t) {
    return t * t;
  }
  static cubic(t) {
    return t * t * t;
  }
  static poly(n) {
    return (t) => t ** n;
  }
  static sin(t) {
    return 1 - Math.cos(t * Math.PI / 2);
  }
  static circle(t) {
    return 1 - Math.sqrt(1 - t * t);
  }
  static exp(t) {
    return 2 ** (10 * (t - 1));
  }
  static elastic(bounciness = 1) {
    const p = bounciness * Math.PI;
    return (t) => 1 - Math.cos(t * Math.PI / 2) ** 3 * Math.cos(t * p);
  }
  static back(s = 1.70158) {
    return (t) => t * t * ((s + 1) * t - s);
  }
  static bounce(t) {
    if (t < 1 / 2.75) {
      return 7.5625 * t * t;
    }
    if (t < 2 / 2.75) {
      const t2_ = t - 1.5 / 2.75;
      return 7.5625 * t2_ * t2_ + 0.75;
    }
    if (t < 2.5 / 2.75) {
      const t2_ = t - 2.25 / 2.75;
      return 7.5625 * t2_ * t2_ + 0.9375;
    }
    const t2 = t - 2.625 / 2.75;
    return 7.5625 * t2 * t2 + 0.984375;
  }
  static bezier(x1, y1, x2, y2) {
    return bezier(x1, y1, x2, y2);
  }
  static in(easing) {
    return easing;
  }
  static out(easing) {
    return (t) => 1 - easing(1 - t);
  }
  static inOut(easing) {
    return (t) => {
      if (t < 0.5) {
        return easing(t * 2) / 2;
      }
      return 1 - easing((1 - t) * 2) / 2;
    };
  }
}
// src/v5-flag.ts
var ENABLE_V5_BREAKING_CHANGES = false;

// src/get-static-files.ts
var warnedServer = false;
var warnedPlayer = false;
var warnServerOnce = () => {
  if (warnedServer) {
    return;
  }
  warnedServer = true;
  console.warn("Called getStaticFiles() on the server. The API is only available in the browser. An empty array was returned.");
};
var warnPlayerOnce = () => {
  if (warnedPlayer) {
    return;
  }
  warnedPlayer = true;
  console.warn("Called getStaticFiles() while using the Remotion Player. The API is only available while using the Remotion Studio. An empty array was returned.");
};
var getStaticFiles = () => {
  if (ENABLE_V5_BREAKING_CHANGES) {
    throw new Error("getStaticFiles() has moved into the `@remotion/studio` package. Update your imports.");
  }
  if (typeof document === "undefined") {
    warnServerOnce();
    return [];
  }
  if (window.remotion_isPlayer) {
    warnPlayerOnce();
    return [];
  }
  return window.remotion_staticFiles;
};
// src/IFrame.tsx


var IFrameRefForwarding = ({
  onLoad,
  onError,
  delayRenderRetries,
  delayRenderTimeoutInMilliseconds,
  ...props2
}, ref) => {
  const { delayRender: delayRender2, continueRender: continueRender2 } = useDelayRender();
  const [handle] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => delayRender2(`Loading <IFrame> with source ${props2.src}`, {
    retries: delayRenderRetries ?? undefined,
    timeoutInMilliseconds: delayRenderTimeoutInMilliseconds ?? undefined
  }));
  const didLoad = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e) => {
    continueRender2(handle);
    onLoad?.(e);
  }, [handle, onLoad, continueRender2]);
  const didGetError = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e) => {
    continueRender2(handle);
    if (onError) {
      onError(e);
    } else {
      console.error("Error loading iframe:", e, "Handle the event using the onError() prop to make this message disappear.");
    }
  }, [handle, onError, continueRender2]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("iframe", {
    referrerPolicy: "strict-origin-when-cross-origin",
    ...props2,
    ref,
    onError: didGetError,
    onLoad: didLoad
  });
};
var IFrame = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(IFrameRefForwarding);
// src/Img.tsx


function exponentialBackoff(errorCount) {
  return 1000 * 2 ** (errorCount - 1);
}
var ImgRefForwarding = ({
  onError,
  maxRetries = 2,
  src,
  pauseWhenLoading,
  delayRenderRetries,
  delayRenderTimeoutInMilliseconds,
  onImageFrame,
  crossOrigin,
  ...props2
}, ref) => {
  const imageRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const errors = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({});
  const { delayPlayback } = useBufferState();
  const sequenceContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SequenceContext);
  if (!src) {
    throw new Error('No "src" prop was passed to <Img>.');
  }
  const _propsValid = true;
  if (!_propsValid) {
    throw new Error("typecheck error");
  }
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => {
    return imageRef.current;
  }, []);
  const actualSrc = usePreload(src);
  const retryIn = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((timeout) => {
    if (!imageRef.current) {
      return;
    }
    const currentSrc = imageRef.current.src;
    setTimeout(() => {
      if (!imageRef.current) {
        return;
      }
      const newSrc = imageRef.current?.src;
      if (newSrc !== currentSrc) {
        return;
      }
      imageRef.current.removeAttribute("src");
      imageRef.current.setAttribute("src", newSrc);
    }, timeout);
  }, []);
  const didGetError = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e) => {
    if (!errors.current) {
      return;
    }
    errors.current[imageRef.current?.src] = (errors.current[imageRef.current?.src] ?? 0) + 1;
    if (onError && (errors.current[imageRef.current?.src] ?? 0) > maxRetries) {
      onError(e);
      return;
    }
    if ((errors.current[imageRef.current?.src] ?? 0) <= maxRetries) {
      const backoff = exponentialBackoff(errors.current[imageRef.current?.src] ?? 0);
      console.warn(`Could not load image with source ${imageRef.current?.src}, retrying again in ${backoff}ms`);
      retryIn(backoff);
      return;
    }
    cancelRender("Error loading image with src: " + imageRef.current?.src);
  }, [maxRetries, onError, retryIn]);
  const { delayRender: delayRender2, continueRender: continueRender2 } = useDelayRender();
  if (typeof window !== "undefined") {
    const isPremounting = Boolean(sequenceContext?.premounting);
    const isPostmounting = Boolean(sequenceContext?.postmounting);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
      if (window.process?.env?.NODE_ENV === "test") {
        if (imageRef.current) {
          imageRef.current.src = actualSrc;
        }
        return;
      }
      const { current } = imageRef;
      if (!current) {
        return;
      }
      const newHandle = delayRender2("Loading <Img> with src=" + actualSrc, {
        retries: delayRenderRetries ?? undefined,
        timeoutInMilliseconds: delayRenderTimeoutInMilliseconds ?? undefined
      });
      const unblock = pauseWhenLoading && !isPremounting && !isPostmounting ? delayPlayback().unblock : () => {
        return;
      };
      let unmounted = false;
      const onComplete = () => {
        if (unmounted) {
          continueRender2(newHandle);
          return;
        }
        if ((errors.current[imageRef.current?.src] ?? 0) > 0) {
          delete errors.current[imageRef.current?.src];
          console.info(`Retry successful - ${imageRef.current?.src} is now loaded`);
        }
        if (current) {
          onImageFrame?.(current);
        }
        unblock();
        continueRender2(newHandle);
      };
      if (!imageRef.current) {
        onComplete();
        return;
      }
      current.src = actualSrc;
      current.decode().then(onComplete).catch((err) => {
        console.warn(err);
        if (current.complete) {
          onComplete();
        } else {
          current.addEventListener("load", onComplete);
        }
      });
      return () => {
        unmounted = true;
        current.removeEventListener("load", onComplete);
        unblock();
        continueRender2(newHandle);
      };
    }, [
      actualSrc,
      delayPlayback,
      delayRenderRetries,
      delayRenderTimeoutInMilliseconds,
      pauseWhenLoading,
      isPremounting,
      isPostmounting,
      onImageFrame,
      continueRender2,
      delayRender2
    ]);
  }
  const { isClientSideRendering } = useRemotionEnvironment();
  const crossOriginValue = getCrossOriginValue({
    crossOrigin,
    requestsVideoFrame: false,
    isClientSideRendering
  });
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("img", {
    ...props2,
    ref: imageRef,
    crossOrigin: crossOriginValue,
    onError: didGetError,
    decoding: "sync"
  });
};
var Img = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(ImgRefForwarding);
// src/internals.ts


// src/CompositionManager.tsx

var compositionsRef = react__WEBPACK_IMPORTED_MODULE_0__.createRef();

// src/CompositionManagerProvider.tsx


var CompositionManagerProvider = ({
  children,
  onlyRenderComposition,
  currentCompositionMetadata,
  initialCompositions,
  initialCanvasContent
}) => {
  const [folders, setFolders] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);
  const [canvasContent, setCanvasContent] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialCanvasContent);
  const [compositions, setCompositions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialCompositions);
  const currentcompositionsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(compositions);
  const updateCompositions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((updateComps) => {
    setCompositions((comps) => {
      const updated = updateComps(comps);
      currentcompositionsRef.current = updated;
      return updated;
    });
  }, []);
  const registerComposition = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((comp) => {
    updateCompositions((comps) => {
      if (comps.find((c2) => c2.id === comp.id)) {
        throw new Error(`Multiple composition with id ${comp.id} are registered.`);
      }
      const value = [...comps, comp].slice().sort((a2, b2) => a2.nonce - b2.nonce);
      return value;
    });
  }, [updateCompositions]);
  const unregisterComposition = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id) => {
    setCompositions((comps) => {
      return comps.filter((c2) => c2.id !== id);
    });
  }, []);
  const registerFolder = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((name, parent) => {
    setFolders((prevFolders) => {
      return [
        ...prevFolders,
        {
          name,
          parent
        }
      ];
    });
  }, []);
  const unregisterFolder = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((name, parent) => {
    setFolders((prevFolders) => {
      return prevFolders.filter((p) => !(p.name === name && p.parent === parent));
    });
  }, []);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(compositionsRef, () => {
    return {
      getCompositions: () => currentcompositionsRef.current
    };
  }, []);
  const updateCompositionDefaultProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id, newDefaultProps) => {
    setCompositions((comps) => {
      const updated = comps.map((c2) => {
        if (c2.id === id) {
          return {
            ...c2,
            defaultProps: newDefaultProps
          };
        }
        return c2;
      });
      return updated;
    });
  }, []);
  const compositionManagerSetters = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      registerComposition,
      unregisterComposition,
      registerFolder,
      unregisterFolder,
      setCanvasContent,
      updateCompositionDefaultProps,
      onlyRenderComposition
    };
  }, [
    registerComposition,
    registerFolder,
    unregisterComposition,
    unregisterFolder,
    updateCompositionDefaultProps,
    onlyRenderComposition
  ]);
  const compositionManagerContextValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      compositions,
      folders,
      currentCompositionMetadata,
      canvasContent
    };
  }, [compositions, folders, currentCompositionMetadata, canvasContent]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CompositionManager.Provider, {
    value: compositionManagerContextValue,
    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CompositionSetters.Provider, {
      value: compositionManagerSetters,
      children
    })
  });
};

// src/default-css.ts
var exports_default_css = {};
__export(exports_default_css, {
  makeDefaultPreviewCSS: () => makeDefaultPreviewCSS,
  injectCSS: () => injectCSS,
  OBJECTFIT_CONTAIN_CLASS_NAME: () => OBJECTFIT_CONTAIN_CLASS_NAME
});
var injected = {};
var injectCSS = (css) => {
  if (typeof document === "undefined") {
    return () => {};
  }
  if (injected[css]) {
    return () => {};
  }
  const head = document.head || document.getElementsByTagName("head")[0];
  const style = document.createElement("style");
  style.appendChild(document.createTextNode(css));
  head.prepend(style);
  injected[css] = style;
  return () => {
    const styleElement = injected[css];
    if (styleElement) {
      if (styleElement.parentNode) {
        styleElement.parentNode.removeChild(styleElement);
      }
      delete injected[css];
    }
  };
};
var OBJECTFIT_CONTAIN_CLASS_NAME = "__remotion_objectfitcontain";
var makeDefaultPreviewCSS = (scope, backgroundColor) => {
  if (!scope) {
    return `
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
	    background-color: ${backgroundColor};
    }
    .${OBJECTFIT_CONTAIN_CLASS_NAME} {
      object-fit: contain;
    }
    `;
  }
  return `
    ${scope} * {
      box-sizing: border-box;
    }
    ${scope} *:-webkit-full-screen {
      width: 100%;
      height: 100%;
    }
    ${scope} .${OBJECTFIT_CONTAIN_CLASS_NAME} {
      object-fit: contain;
    }
  `;
};

// src/get-preview-dom-element.ts
var REMOTION_STUDIO_CONTAINER_ELEMENT = "__remotion-studio-container";
var getPreviewDomElement = () => {
  return document.getElementById(REMOTION_STUDIO_CONTAINER_ELEMENT);
};

// src/max-video-cache-size.ts

var MaxMediaCacheSizeContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);

// src/register-root.ts
var Root = null;
var listeners = [];
var registerRoot = (comp) => {
  if (!comp) {
    throw new Error(`You must pass a React component to registerRoot(), but ${JSON.stringify(comp)} was passed.`);
  }
  if (Root) {
    throw new Error("registerRoot() was called more than once.");
  }
  Root = comp;
  listeners.forEach((l) => {
    l(comp);
  });
};
var getRoot = () => {
  return Root;
};
var waitForRoot = (fn) => {
  if (Root) {
    fn(Root);
    return () => {
      return;
    };
  }
  listeners.push(fn);
  return () => {
    listeners = listeners.filter((l) => l !== fn);
  };
};

// src/RemotionRoot.tsx


// src/use-media-enabled.tsx


var MediaEnabledContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);
var useVideoEnabled = () => {
  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MediaEnabledContext);
  if (!context) {
    return window.remotion_videoEnabled;
  }
  if (context.videoEnabled === null) {
    return window.remotion_videoEnabled;
  }
  return context.videoEnabled;
};
var useAudioEnabled = () => {
  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MediaEnabledContext);
  if (!context) {
    return window.remotion_audioEnabled;
  }
  if (context.audioEnabled === null) {
    return window.remotion_audioEnabled;
  }
  return context.audioEnabled;
};
var MediaEnabledProvider = ({
  children,
  videoEnabled,
  audioEnabled
}) => {
  const value = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({ videoEnabled, audioEnabled }), [videoEnabled, audioEnabled]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MediaEnabledContext.Provider, {
    value,
    children
  });
};

// src/RemotionRoot.tsx

var RemotionRootContexts = ({
  children,
  numberOfAudioTags,
  logLevel,
  audioLatencyHint,
  videoEnabled,
  audioEnabled,
  frameState,
  nonceContextSeed
}) => {
  const nonceContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    let counter = 0;
    return {
      getNonce: () => counter++
    };
  }, [nonceContextSeed]);
  const logging = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return { logLevel, mountTime: Date.now() };
  }, [logLevel]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(LogLevelContext.Provider, {
    value: logging,
    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(NonceContext.Provider, {
      value: nonceContext,
      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(TimelineContextProvider, {
        frameState,
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MediaEnabledProvider, {
          videoEnabled,
          audioEnabled,
          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(EditorPropsProvider, {
            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(PrefetchProvider, {
              children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SequenceManagerProvider, {
                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SharedAudioContextProvider, {
                  numberOfAudioTags,
                  audioLatencyHint,
                  audioEnabled,
                  children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DurationsContextProvider, {
                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(BufferingProvider, {
                      children
                    })
                  })
                })
              })
            })
          })
        })
      })
    })
  });
};

// src/codec.ts
var validCodecs = [
  "h264",
  "h265",
  "vp8",
  "vp9",
  "mp3",
  "aac",
  "wav",
  "prores",
  "h264-mkv",
  "h264-ts",
  "gif"
];

// src/validation/validate-default-codec.ts
function validateCodec(defaultCodec, location, name) {
  if (typeof defaultCodec === "undefined") {
    return;
  }
  if (typeof defaultCodec !== "string") {
    throw new TypeError(`The "${name}" prop ${location} must be a string, but you passed a value of type ${typeof defaultCodec}.`);
  }
  if (!validCodecs.includes(defaultCodec)) {
    throw new Error(`The "${name}" prop ${location} must be one of ${validCodecs.join(", ")}, but you passed ${defaultCodec}.`);
  }
}

// src/resolve-video-config.ts
var validateCalculated = ({
  calculated,
  compositionId,
  compositionFps,
  compositionHeight,
  compositionWidth,
  compositionDurationInFrames
}) => {
  const calculateMetadataErrorLocation = `calculated by calculateMetadata() for the composition "${compositionId}"`;
  const defaultErrorLocation = `of the "<Composition />" component with the id "${compositionId}"`;
  const width = calculated?.width ?? compositionWidth ?? undefined;
  validateDimension(width, "width", calculated?.width ? calculateMetadataErrorLocation : defaultErrorLocation);
  const height = calculated?.height ?? compositionHeight ?? undefined;
  validateDimension(height, "height", calculated?.height ? calculateMetadataErrorLocation : defaultErrorLocation);
  const fps = calculated?.fps ?? compositionFps ?? null;
  validateFps(fps, calculated?.fps ? calculateMetadataErrorLocation : defaultErrorLocation, false);
  const durationInFrames = calculated?.durationInFrames ?? compositionDurationInFrames ?? null;
  validateDurationInFrames(durationInFrames, {
    allowFloats: false,
    component: `of the "<Composition />" component with the id "${compositionId}"`
  });
  const defaultCodec = calculated?.defaultCodec;
  validateCodec(defaultCodec, calculateMetadataErrorLocation, "defaultCodec");
  const defaultOutName = calculated?.defaultOutName;
  const defaultVideoImageFormat = calculated?.defaultVideoImageFormat;
  const defaultPixelFormat = calculated?.defaultPixelFormat;
  const defaultProResProfile = calculated?.defaultProResProfile;
  return {
    width,
    height,
    fps,
    durationInFrames,
    defaultCodec,
    defaultOutName,
    defaultVideoImageFormat,
    defaultPixelFormat,
    defaultProResProfile
  };
};
var resolveVideoConfig = ({
  calculateMetadata,
  signal,
  defaultProps,
  inputProps: originalProps,
  compositionId,
  compositionDurationInFrames,
  compositionFps,
  compositionHeight,
  compositionWidth
}) => {
  const calculatedProm = calculateMetadata ? calculateMetadata({
    defaultProps,
    props: originalProps,
    abortSignal: signal,
    compositionId,
    isRendering: getRemotionEnvironment().isRendering
  }) : null;
  if (calculatedProm !== null && typeof calculatedProm === "object" && "then" in calculatedProm) {
    return calculatedProm.then((c2) => {
      const {
        height,
        width,
        durationInFrames,
        fps,
        defaultCodec,
        defaultOutName,
        defaultVideoImageFormat,
        defaultPixelFormat,
        defaultProResProfile
      } = validateCalculated({
        calculated: c2,
        compositionDurationInFrames,
        compositionFps,
        compositionHeight,
        compositionWidth,
        compositionId
      });
      return {
        width,
        height,
        fps,
        durationInFrames,
        id: compositionId,
        defaultProps: serializeThenDeserializeInStudio(defaultProps),
        props: serializeThenDeserializeInStudio(c2.props ?? originalProps),
        defaultCodec: defaultCodec ?? null,
        defaultOutName: defaultOutName ?? null,
        defaultVideoImageFormat: defaultVideoImageFormat ?? null,
        defaultPixelFormat: defaultPixelFormat ?? null,
        defaultProResProfile: defaultProResProfile ?? null
      };
    });
  }
  const data = validateCalculated({
    calculated: calculatedProm,
    compositionDurationInFrames,
    compositionFps,
    compositionHeight,
    compositionWidth,
    compositionId
  });
  if (calculatedProm === null) {
    return {
      ...data,
      id: compositionId,
      defaultProps: serializeThenDeserializeInStudio(defaultProps ?? {}),
      props: serializeThenDeserializeInStudio(originalProps),
      defaultCodec: null,
      defaultOutName: null,
      defaultVideoImageFormat: null,
      defaultPixelFormat: null,
      defaultProResProfile: null
    };
  }
  return {
    ...data,
    id: compositionId,
    defaultProps: serializeThenDeserializeInStudio(defaultProps ?? {}),
    props: serializeThenDeserializeInStudio(calculatedProm.props ?? originalProps),
    defaultCodec: calculatedProm.defaultCodec ?? null,
    defaultOutName: calculatedProm.defaultOutName ?? null,
    defaultVideoImageFormat: calculatedProm.defaultVideoImageFormat ?? null,
    defaultPixelFormat: calculatedProm.defaultPixelFormat ?? null,
    defaultProResProfile: calculatedProm.defaultProResProfile ?? null
  };
};
var resolveVideoConfigOrCatch = (params) => {
  try {
    const promiseOrReturnValue = resolveVideoConfig(params);
    return {
      type: "success",
      result: promiseOrReturnValue
    };
  } catch (err) {
    return {
      type: "error",
      error: err
    };
  }
};

// src/setup-env-variables.ts
var getEnvVariables = () => {
  if (getRemotionEnvironment().isRendering) {
    const param = window.remotion_envVariables;
    if (!param) {
      return {};
    }
    return { ...JSON.parse(param), NODE_ENV: "production" };
  }
  if (false) {}
  return {
    NODE_ENV: "production"
  };
};
var setupEnvVariables = () => {
  const env = getEnvVariables();
  if (!window.process) {
    window.process = {};
  }
  if (!window.process.env) {
    window.process.env = {};
  }
  Object.keys(env).forEach((key) => {
    window.process.env[key] = env[key];
  });
};

// src/use-current-scale.ts

var CurrentScaleContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);
var PreviewSizeContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({
  setSize: () => {
    return;
  },
  size: { size: "auto", translation: { x: 0, y: 0 } }
});
var calculateScale = ({
  canvasSize,
  compositionHeight,
  compositionWidth,
  previewSize
}) => {
  const heightRatio = canvasSize.height / compositionHeight;
  const widthRatio = canvasSize.width / compositionWidth;
  const ratio = Math.min(heightRatio, widthRatio);
  if (previewSize === "auto") {
    if (ratio === 0) {
      return 1;
    }
    return ratio;
  }
  return Number(previewSize);
};
var useCurrentScale = (options) => {
  const hasContext = react__WEBPACK_IMPORTED_MODULE_0__.useContext(CurrentScaleContext);
  const zoomContext = react__WEBPACK_IMPORTED_MODULE_0__.useContext(PreviewSizeContext);
  const config = useUnsafeVideoConfig();
  const env = useRemotionEnvironment();
  if (hasContext === null || config === null || zoomContext === null) {
    if (options?.dontThrowIfOutsideOfRemotion) {
      return 1;
    }
    if (env.isRendering) {
      return 1;
    }
    throw new Error([
      "useCurrentScale() was called outside of a Remotion context.",
      "This hook can only be called in a component that is being rendered by Remotion.",
      "If you want to this hook to return 1 outside of Remotion, pass {dontThrowIfOutsideOfRemotion: true} as an option.",
      "If you think you called this hook in a Remotion component, make sure all versions of Remotion are aligned."
    ].join(`
`));
  }
  if (hasContext.type === "scale") {
    return hasContext.scale;
  }
  return calculateScale({
    canvasSize: hasContext.canvasSize,
    compositionHeight: config.height,
    compositionWidth: config.width,
    previewSize: zoomContext.size.size
  });
};

// src/video/OffthreadVideo.tsx


// src/video/OffthreadVideoForRendering.tsx


// src/video/offthread-video-source.ts
var getOffthreadVideoSource = ({
  src,
  transparent,
  currentTime,
  toneMapped
}) => {
  return `http://localhost:${window.remotion_proxyPort}/proxy?src=${encodeURIComponent(getAbsoluteSrc(src))}&time=${encodeURIComponent(Math.max(0, currentTime))}&transparent=${String(transparent)}&toneMapped=${String(toneMapped)}`;
};

// src/video/OffthreadVideoForRendering.tsx

var OffthreadVideoForRendering = ({
  onError,
  volume: volumeProp,
  playbackRate,
  src,
  muted,
  allowAmplificationDuringRender,
  transparent,
  toneMapped,
  toneFrequency,
  name,
  loopVolumeCurveBehavior,
  delayRenderRetries,
  delayRenderTimeoutInMilliseconds,
  onVideoFrame,
  crossOrigin,
  audioStreamIndex,
  ...props2
}) => {
  const absoluteFrame = useTimelinePosition();
  const frame = useCurrentFrame();
  const volumePropsFrame = useFrameForVolumeProp(loopVolumeCurveBehavior);
  const videoConfig = useUnsafeVideoConfig();
  const sequenceContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SequenceContext);
  const mediaStartsAt = useMediaStartsAt();
  const { registerRenderAsset, unregisterRenderAsset } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(RenderAssetManager);
  if (!src) {
    throw new TypeError("No `src` was passed to <OffthreadVideo>.");
  }
  const id = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => `offthreadvideo-${random(src)}-${sequenceContext?.cumulatedFrom}-${sequenceContext?.relativeFrom}-${sequenceContext?.durationInFrames}`, [
    src,
    sequenceContext?.cumulatedFrom,
    sequenceContext?.relativeFrom,
    sequenceContext?.durationInFrames
  ]);
  if (!videoConfig) {
    throw new Error("No video config found");
  }
  const volume = evaluateVolume({
    volume: volumeProp,
    frame: volumePropsFrame,
    mediaVolume: 1
  });
  warnAboutTooHighVolume(volume);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!src) {
      throw new Error("No src passed");
    }
    if (!window.remotion_audioEnabled) {
      return;
    }
    if (muted) {
      return;
    }
    if (volume <= 0) {
      return;
    }
    registerRenderAsset({
      type: "video",
      src: getAbsoluteSrc(src),
      id,
      frame: absoluteFrame,
      volume,
      mediaFrame: frame,
      playbackRate,
      toneFrequency,
      audioStartFrame: Math.max(0, -(sequenceContext?.relativeFrom ?? 0)),
      audioStreamIndex
    });
    return () => unregisterRenderAsset(id);
  }, [
    muted,
    src,
    registerRenderAsset,
    id,
    unregisterRenderAsset,
    volume,
    frame,
    absoluteFrame,
    playbackRate,
    toneFrequency,
    sequenceContext?.relativeFrom,
    audioStreamIndex
  ]);
  const currentTime = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return getExpectedMediaFrameUncorrected({
      frame,
      playbackRate: playbackRate || 1,
      startFrom: -mediaStartsAt
    }) / videoConfig.fps;
  }, [frame, mediaStartsAt, playbackRate, videoConfig.fps]);
  const actualSrc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return getOffthreadVideoSource({
      src,
      currentTime,
      transparent,
      toneMapped
    });
  }, [toneMapped, currentTime, src, transparent]);
  const [imageSrc, setImageSrc] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);
  const { delayRender: delayRender2, continueRender: continueRender2 } = useDelayRender();
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    if (!window.remotion_videoEnabled) {
      return;
    }
    const cleanup = [];
    setImageSrc(null);
    const controller = new AbortController;
    const newHandle = delayRender2(`Fetching ${actualSrc} from server`, {
      retries: delayRenderRetries ?? undefined,
      timeoutInMilliseconds: delayRenderTimeoutInMilliseconds ?? undefined
    });
    const execute = async () => {
      try {
        const res = await fetch(actualSrc, {
          signal: controller.signal,
          cache: "no-store"
        });
        if (res.status !== 200) {
          if (res.status === 500) {
            const json = await res.json();
            if (json.error) {
              const cleanedUpErrorMessage = json.error.replace(/^Error: /, "");
              throw new Error(cleanedUpErrorMessage);
            }
          }
          throw new Error(`Server returned status ${res.status} while fetching ${actualSrc}`);
        }
        const blob = await res.blob();
        const url = URL.createObjectURL(blob);
        cleanup.push(() => URL.revokeObjectURL(url));
        setImageSrc({
          src: url,
          handle: newHandle
        });
      } catch (err) {
        if (err.message.includes("aborted")) {
          continueRender2(newHandle);
          return;
        }
        if (controller.signal.aborted) {
          continueRender2(newHandle);
          return;
        }
        if (err.message.includes("Failed to fetch")) {
          err = new Error(`Failed to fetch ${actualSrc}. This could be caused by Chrome rejecting the request because the disk space is low. Consider increasing the disk size of your environment.`, { cause: err });
        }
        if (onError) {
          onError(err);
        } else {
          cancelRender(err);
        }
      }
    };
    execute();
    cleanup.push(() => {
      if (controller.signal.aborted) {
        return;
      }
      controller.abort();
    });
    return () => {
      cleanup.forEach((c2) => c2());
    };
  }, [
    actualSrc,
    delayRenderRetries,
    delayRenderTimeoutInMilliseconds,
    onError,
    continueRender2,
    delayRender2
  ]);
  const onErr = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {
    if (onError) {
      onError?.(new Error("Failed to load image with src " + imageSrc));
    } else {
      cancelRender("Failed to load image with src " + imageSrc);
    }
  }, [imageSrc, onError]);
  const className = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return [OBJECTFIT_CONTAIN_CLASS_NAME, props2.className].filter(truthy).join(" ");
  }, [props2.className]);
  const onImageFrame = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((img) => {
    if (onVideoFrame) {
      onVideoFrame(img);
    }
  }, [onVideoFrame]);
  if (!imageSrc || !window.remotion_videoEnabled) {
    return null;
  }
  continueRender2(imageSrc.handle);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Img, {
    src: imageSrc.src,
    delayRenderRetries,
    delayRenderTimeoutInMilliseconds,
    onImageFrame,
    ...props2,
    onError: onErr,
    className
  });
};

// src/video/VideoForPreview.tsx


// src/video/emit-video-frame.ts

var useEmitVideoFrame = ({
  ref,
  onVideoFrame
}) => {
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const { current } = ref;
    if (!current) {
      return;
    }
    if (!onVideoFrame) {
      return;
    }
    let handle = 0;
    const callback = () => {
      if (!ref.current) {
        return;
      }
      onVideoFrame(ref.current);
      handle = ref.current.requestVideoFrameCallback(callback);
    };
    callback();
    return () => {
      current.cancelVideoFrameCallback(handle);
    };
  }, [onVideoFrame, ref]);
};

// src/video/VideoForPreview.tsx

var VideoForDevelopmentRefForwardingFunction = (props2, ref) => {
  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SharedAudioContext);
  if (!context) {
    throw new Error("SharedAudioContext not found");
  }
  const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const sharedSource = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!context.audioContext) {
      return null;
    }
    return makeSharedElementSourceNode({
      audioContext: context.audioContext,
      ref: videoRef
    });
  }, [context.audioContext]);
  const effectToUse = react__WEBPACK_IMPORTED_MODULE_0__.useInsertionEffect ?? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect;
  effectToUse(() => {
    return () => {
      requestAnimationFrame(() => {
        sharedSource?.cleanup();
      });
    };
  }, [sharedSource]);
  const {
    volume,
    muted,
    playbackRate,
    onlyWarnForMediaSeekingError,
    src,
    onDuration,
    acceptableTimeShift,
    acceptableTimeShiftInSeconds,
    toneFrequency,
    name,
    _remotionInternalNativeLoopPassed,
    _remotionInternalStack,
    style,
    pauseWhenBuffering,
    showInTimeline,
    loopVolumeCurveBehavior,
    onError,
    onAutoPlayError,
    onVideoFrame,
    crossOrigin,
    delayRenderRetries,
    delayRenderTimeoutInMilliseconds,
    allowAmplificationDuringRender,
    useWebAudioApi,
    audioStreamIndex,
    ...nativeProps
  } = props2;
  const _propsValid = true;
  if (!_propsValid) {
    throw new Error("typecheck error");
  }
  const volumePropFrame = useFrameForVolumeProp(loopVolumeCurveBehavior ?? "repeat");
  const { fps, durationInFrames } = useVideoConfig();
  const parentSequence = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SequenceContext);
  const { hidden } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SequenceVisibilityToggleContext);
  const logLevel = useLogLevel();
  const mountTime = useMountTime();
  const [timelineId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => String(Math.random()));
  const isSequenceHidden = hidden[timelineId] ?? false;
  if (typeof acceptableTimeShift !== "undefined") {
    throw new Error("acceptableTimeShift has been removed. Use acceptableTimeShiftInSeconds instead.");
  }
  const [mediaVolume] = useMediaVolumeState();
  const [mediaMuted] = useMediaMutedState();
  const userPreferredVolume = evaluateVolume({
    frame: volumePropFrame,
    volume,
    mediaVolume
  });
  warnAboutTooHighVolume(userPreferredVolume);
  useMediaInTimeline({
    volume,
    mediaVolume,
    mediaType: "video",
    src,
    playbackRate: props2.playbackRate ?? 1,
    displayName: name ?? null,
    id: timelineId,
    stack: _remotionInternalStack,
    showInTimeline,
    premountDisplay: parentSequence?.premountDisplay ?? null,
    postmountDisplay: parentSequence?.postmountDisplay ?? null,
    loopDisplay: undefined
  });
  useMediaPlayback({
    mediaRef: videoRef,
    src,
    mediaType: "video",
    playbackRate: props2.playbackRate ?? 1,
    onlyWarnForMediaSeekingError,
    acceptableTimeshift: acceptableTimeShiftInSeconds ?? null,
    isPremounting: Boolean(parentSequence?.premounting),
    isPostmounting: Boolean(parentSequence?.postmounting),
    pauseWhenBuffering,
    onAutoPlayError: onAutoPlayError ?? null
  });
  useMediaTag({
    id: timelineId,
    isPostmounting: Boolean(parentSequence?.postmounting),
    isPremounting: Boolean(parentSequence?.premounting),
    mediaRef: videoRef,
    mediaType: "video",
    onAutoPlayError: onAutoPlayError ?? null
  });
  useVolume({
    logLevel,
    mediaRef: videoRef,
    volume: userPreferredVolume,
    source: sharedSource,
    shouldUseWebAudioApi: useWebAudioApi ?? false
  });
  const actualFrom = parentSequence ? parentSequence.relativeFrom : 0;
  const duration = parentSequence ? Math.min(parentSequence.durationInFrames, durationInFrames) : durationInFrames;
  const preloadedSrc = usePreload(src);
  const actualSrc = useAppendVideoFragment({
    actualSrc: preloadedSrc,
    actualFrom,
    duration,
    fps
  });
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => {
    return videoRef.current;
  }, []);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => playbackLogging({
    logLevel,
    message: `Mounting video with source = ${actualSrc}, v=${VERSION}, user agent=${typeof navigator === "undefined" ? "server" : navigator.userAgent}`,
    tag: "video",
    mountTime
  }));
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const { current } = videoRef;
    if (!current) {
      return;
    }
    const errorHandler = () => {
      if (current.error) {
        console.error("Error occurred in video", current?.error);
        if (onError) {
          const err = new Error(`Code ${current.error.code}: ${current.error.message}`);
          onError(err);
          return;
        }
        throw new Error(`The browser threw an error while playing the video ${src}: Code ${current.error.code} - ${current?.error?.message}. See https://remotion.dev/docs/media-playback-error for help. Pass an onError() prop to handle the error.`);
      } else {
        if (onError) {
          const err = new Error(`The browser threw an error while playing the video ${src}`);
          onError(err);
          return;
        }
        throw new Error("The browser threw an error while playing the video");
      }
    };
    current.addEventListener("error", errorHandler, { once: true });
    return () => {
      current.removeEventListener("error", errorHandler);
    };
  }, [onError, src]);
  const currentOnDurationCallback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(onDuration);
  currentOnDurationCallback.current = onDuration;
  useEmitVideoFrame({ ref: videoRef, onVideoFrame });
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const { current } = videoRef;
    if (!current) {
      return;
    }
    if (current.duration) {
      currentOnDurationCallback.current?.(src, current.duration);
      return;
    }
    const onLoadedMetadata = () => {
      currentOnDurationCallback.current?.(src, current.duration);
    };
    current.addEventListener("loadedmetadata", onLoadedMetadata);
    return () => {
      current.removeEventListener("loadedmetadata", onLoadedMetadata);
    };
  }, [src]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const { current } = videoRef;
    if (!current) {
      return;
    }
    if (isIosSafari()) {
      current.preload = "metadata";
    } else {
      current.preload = "auto";
    }
  }, []);
  const actualStyle = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return {
      ...style,
      opacity: isSequenceHidden ? 0 : style?.opacity ?? 1
    };
  }, [isSequenceHidden, style]);
  const crossOriginValue = getCrossOriginValue({
    crossOrigin,
    requestsVideoFrame: Boolean(onVideoFrame),
    isClientSideRendering: false
  });
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("video", {
    ref: videoRef,
    muted: muted || mediaMuted || isSequenceHidden || userPreferredVolume <= 0,
    playsInline: true,
    src: actualSrc,
    loop: _remotionInternalNativeLoopPassed,
    style: actualStyle,
    disableRemotePlayback: true,
    crossOrigin: crossOriginValue,
    ...nativeProps
  });
};
var VideoForPreview = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(VideoForDevelopmentRefForwardingFunction);

// src/video/OffthreadVideo.tsx

var InnerOffthreadVideo = (props2) => {
  const {
    startFrom,
    endAt,
    trimBefore,
    trimAfter,
    name,
    pauseWhenBuffering,
    stack,
    showInTimeline,
    ...otherProps
  } = props2;
  const environment = useRemotionEnvironment();
  if (environment.isClientSideRendering) {
    throw new Error("<OffthreadVideo> is not supported in @remotion/web-renderer. Use <Video> from @remotion/media instead. See https://remotion.dev/docs/client-side-rendering/limitations");
  }
  const onDuration = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {
    return;
  }, []);
  if (typeof props2.src !== "string") {
    throw new TypeError(`The \`<OffthreadVideo>\` tag requires a string for \`src\`, but got ${JSON.stringify(props2.src)} instead.`);
  }
  validateMediaTrimProps({ startFrom, endAt, trimBefore, trimAfter });
  const { trimBeforeValue, trimAfterValue } = resolveTrimProps({
    startFrom,
    endAt,
    trimBefore,
    trimAfter
  });
  if (typeof trimBeforeValue !== "undefined" || typeof trimAfterValue !== "undefined") {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Sequence, {
      layout: "none",
      from: 0 - (trimBeforeValue ?? 0),
      showInTimeline: false,
      durationInFrames: trimAfterValue,
      name,
      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(InnerOffthreadVideo, {
        pauseWhenBuffering: pauseWhenBuffering ?? false,
        ...otherProps,
        trimAfter: undefined,
        name: undefined,
        showInTimeline,
        trimBefore: undefined,
        stack: undefined,
        startFrom: undefined,
        endAt: undefined
      })
    });
  }
  validateMediaProps(props2, "Video");
  if (environment.isRendering) {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(OffthreadVideoForRendering, {
      pauseWhenBuffering: pauseWhenBuffering ?? false,
      ...otherProps,
      trimAfter: undefined,
      name: undefined,
      showInTimeline,
      trimBefore: undefined,
      stack: undefined,
      startFrom: undefined,
      endAt: undefined
    });
  }
  const {
    transparent,
    toneMapped,
    onAutoPlayError,
    onVideoFrame,
    crossOrigin,
    delayRenderRetries,
    delayRenderTimeoutInMilliseconds,
    ...propsForPreview
  } = otherProps;
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(VideoForPreview, {
    _remotionInternalStack: stack ?? null,
    onDuration,
    onlyWarnForMediaSeekingError: true,
    pauseWhenBuffering: pauseWhenBuffering ?? false,
    showInTimeline: showInTimeline ?? true,
    onAutoPlayError: onAutoPlayError ?? undefined,
    onVideoFrame: onVideoFrame ?? null,
    crossOrigin,
    ...propsForPreview,
    _remotionInternalNativeLoopPassed: false
  });
};
var OffthreadVideo = ({
  src,
  acceptableTimeShiftInSeconds,
  allowAmplificationDuringRender,
  audioStreamIndex,
  className,
  crossOrigin,
  delayRenderRetries,
  delayRenderTimeoutInMilliseconds,
  id,
  loopVolumeCurveBehavior,
  muted,
  name,
  onAutoPlayError,
  onError,
  onVideoFrame,
  pauseWhenBuffering,
  playbackRate,
  showInTimeline,
  style,
  toneFrequency,
  toneMapped,
  transparent,
  trimAfter,
  trimBefore,
  useWebAudioApi,
  volume,
  _remotionInternalNativeLoopPassed,
  endAt,
  stack,
  startFrom,
  imageFormat
}) => {
  if (imageFormat) {
    throw new TypeError(`The \`<OffthreadVideo>\` tag does no longer accept \`imageFormat\`. Use the \`transparent\` prop if you want to render a transparent video.`);
  }
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(InnerOffthreadVideo, {
    acceptableTimeShiftInSeconds,
    allowAmplificationDuringRender: allowAmplificationDuringRender ?? true,
    audioStreamIndex: audioStreamIndex ?? 0,
    className,
    crossOrigin,
    delayRenderRetries,
    delayRenderTimeoutInMilliseconds,
    id,
    loopVolumeCurveBehavior: loopVolumeCurveBehavior ?? "repeat",
    muted: muted ?? false,
    name,
    onAutoPlayError: onAutoPlayError ?? null,
    onError,
    onVideoFrame,
    pauseWhenBuffering: pauseWhenBuffering ?? true,
    playbackRate: playbackRate ?? 1,
    toneFrequency: toneFrequency ?? 1,
    showInTimeline: showInTimeline ?? true,
    src,
    stack,
    startFrom,
    _remotionInternalNativeLoopPassed: _remotionInternalNativeLoopPassed ?? false,
    endAt,
    style,
    toneMapped: toneMapped ?? true,
    transparent: transparent ?? false,
    trimAfter,
    trimBefore,
    useWebAudioApi: useWebAudioApi ?? false,
    volume
  });
};
addSequenceStackTraces(OffthreadVideo);

// src/watch-static-file.ts
var WATCH_REMOTION_STATIC_FILES = "remotion_staticFilesChanged";
var watchStaticFile = (fileName, callback) => {
  if (ENABLE_V5_BREAKING_CHANGES) {
    throw new Error("watchStaticFile() has moved into the `@remotion/studio` package. Update your imports.");
  }
  if (!getRemotionEnvironment().isStudio) {
    console.warn("The watchStaticFile() API is only available while using the Remotion Studio.");
    return { cancel: () => {
      return;
    } };
  }
  const withoutStaticBase = fileName.startsWith(window.remotion_staticBase) ? fileName.replace(window.remotion_staticBase, "") : fileName;
  const withoutLeadingSlash = withoutStaticBase.startsWith("/") ? withoutStaticBase.slice(1) : withoutStaticBase;
  let prevFileData = window.remotion_staticFiles.find((file) => file.name === withoutLeadingSlash);
  const checkFile = (event) => {
    const staticFiles = event.detail.files;
    const newFileData = staticFiles.find((file) => file.name === withoutLeadingSlash);
    if (!newFileData) {
      if (prevFileData !== undefined) {
        callback(null);
      }
      prevFileData = undefined;
      return;
    }
    if (prevFileData === undefined || prevFileData.lastModified !== newFileData.lastModified) {
      callback(newFileData);
      prevFileData = newFileData;
    }
  };
  window.addEventListener(WATCH_REMOTION_STATIC_FILES, checkFile);
  const cancel = () => {
    return window.removeEventListener(WATCH_REMOTION_STATIC_FILES, checkFile);
  };
  return { cancel };
};

// src/wrap-remotion-context.tsx


function useRemotionContexts() {
  const compositionManagerCtx = react__WEBPACK_IMPORTED_MODULE_0__.useContext(CompositionManager);
  const timelineContext = react__WEBPACK_IMPORTED_MODULE_0__.useContext(TimelineContext);
  const setTimelineContext = react__WEBPACK_IMPORTED_MODULE_0__.useContext(SetTimelineContext);
  const sequenceContext = react__WEBPACK_IMPORTED_MODULE_0__.useContext(SequenceContext);
  const nonceContext = react__WEBPACK_IMPORTED_MODULE_0__.useContext(NonceContext);
  const canUseRemotionHooksContext = react__WEBPACK_IMPORTED_MODULE_0__.useContext(CanUseRemotionHooks);
  const preloadContext = react__WEBPACK_IMPORTED_MODULE_0__.useContext(PreloadContext);
  const resolveCompositionContext = react__WEBPACK_IMPORTED_MODULE_0__.useContext(ResolveCompositionContext);
  const renderAssetManagerContext = react__WEBPACK_IMPORTED_MODULE_0__.useContext(RenderAssetManager);
  const sequenceManagerContext = react__WEBPACK_IMPORTED_MODULE_0__.useContext(SequenceManager);
  const bufferManagerContext = react__WEBPACK_IMPORTED_MODULE_0__.useContext(BufferingContextReact);
  const logLevelContext = react__WEBPACK_IMPORTED_MODULE_0__.useContext(LogLevelContext);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({
    compositionManagerCtx,
    timelineContext,
    setTimelineContext,
    sequenceContext,
    nonceContext,
    canUseRemotionHooksContext,
    preloadContext,
    resolveCompositionContext,
    renderAssetManagerContext,
    sequenceManagerContext,
    bufferManagerContext,
    logLevelContext
  }), [
    compositionManagerCtx,
    nonceContext,
    sequenceContext,
    setTimelineContext,
    timelineContext,
    canUseRemotionHooksContext,
    preloadContext,
    resolveCompositionContext,
    renderAssetManagerContext,
    sequenceManagerContext,
    bufferManagerContext,
    logLevelContext
  ]);
}
var RemotionContextProvider = (props2) => {
  const { children, contexts } = props2;
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(LogLevelContext.Provider, {
    value: contexts.logLevelContext,
    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CanUseRemotionHooks.Provider, {
      value: contexts.canUseRemotionHooksContext,
      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(NonceContext.Provider, {
        value: contexts.nonceContext,
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(PreloadContext.Provider, {
          value: contexts.preloadContext,
          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CompositionManager.Provider, {
            value: contexts.compositionManagerCtx,
            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SequenceManager.Provider, {
              value: contexts.sequenceManagerContext,
              children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(RenderAssetManager.Provider, {
                value: contexts.renderAssetManagerContext,
                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ResolveCompositionContext.Provider, {
                  value: contexts.resolveCompositionContext,
                  children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(TimelineContext.Provider, {
                    value: contexts.timelineContext,
                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SetTimelineContext.Provider, {
                      value: contexts.setTimelineContext,
                      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SequenceContext.Provider, {
                        value: contexts.sequenceContext,
                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(BufferingContextReact.Provider, {
                          value: contexts.bufferManagerContext,
                          children
                        })
                      })
                    })
                  })
                })
              })
            })
          })
        })
      })
    })
  });
};

// src/internals.ts
var compositionSelectorRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.createRef)();
var Internals = {
  MaxMediaCacheSizeContext,
  useUnsafeVideoConfig,
  useFrameForVolumeProp,
  useTimelinePosition,
  evaluateVolume,
  getAbsoluteSrc,
  Timeline: exports_timeline_position_state,
  validateMediaTrimProps,
  validateMediaProps,
  resolveTrimProps,
  VideoForPreview,
  CompositionManager,
  CompositionSetters,
  SequenceManager,
  SequenceVisibilityToggleContext,
  RemotionRootContexts,
  CompositionManagerProvider,
  useVideo,
  getRoot,
  useMediaVolumeState,
  useMediaMutedState,
  useMediaInTimeline,
  useLazyComponent,
  truthy,
  SequenceContext,
  useRemotionContexts,
  RemotionContextProvider,
  CSSUtils: exports_default_css,
  setupEnvVariables,
  MediaVolumeContext,
  SetMediaVolumeContext,
  getRemotionEnvironment,
  SharedAudioContext,
  SharedAudioContextProvider,
  invalidCompositionErrorMessage,
  calculateMediaDuration,
  isCompositionIdValid,
  getPreviewDomElement,
  compositionsRef,
  portalNode,
  waitForRoot,
  SetTimelineContext,
  CanUseRemotionHooksProvider,
  CanUseRemotionHooks,
  PrefetchProvider,
  DurationsContextProvider,
  IsPlayerContextProvider,
  useIsPlayer,
  EditorPropsProvider,
  EditorPropsContext,
  usePreload,
  NonceContext,
  resolveVideoConfig,
  resolveVideoConfigOrCatch,
  ResolveCompositionContext,
  useResolvedVideoConfig,
  resolveCompositionsRef,
  REMOTION_STUDIO_CONTAINER_ELEMENT,
  RenderAssetManager,
  persistCurrentFrame,
  useTimelineSetFrame,
  isIosSafari,
  WATCH_REMOTION_STATIC_FILES,
  addSequenceStackTraces,
  useMediaStartsAt,
  BufferingProvider,
  BufferingContextReact,
  enableSequenceStackTraces,
  CurrentScaleContext,
  PreviewSizeContext,
  calculateScale,
  editorPropsProviderRef,
  PROPS_UPDATED_EXTERNALLY,
  validateRenderAsset,
  Log,
  LogLevelContext,
  useLogLevel,
  playbackLogging,
  timeValueRef,
  compositionSelectorRef,
  RemotionEnvironmentContext,
  warnAboutTooHighVolume,
  AudioForPreview,
  OBJECTFIT_CONTAIN_CLASS_NAME,
  InnerOffthreadVideo,
  useBasicMediaInTimeline,
  getInputPropsOverride,
  setInputPropsOverride,
  useVideoEnabled,
  useAudioEnabled,
  useIsPlayerBuffering,
  TimelinePosition: exports_timeline_position_state,
  DelayRenderContextType,
  TimelineContext,
  RenderAssetManagerProvider
};
// src/interpolate-colors.ts
var NUMBER = "[-+]?\\d*\\.?\\d+";
var PERCENTAGE = NUMBER + "%";
function call(...args) {
  return "\\(\\s*(" + args.join(")\\s*,\\s*(") + ")\\s*\\)";
}
function getMatchers() {
  const cachedMatchers = {
    rgb: undefined,
    rgba: undefined,
    hsl: undefined,
    hsla: undefined,
    hex3: undefined,
    hex4: undefined,
    hex5: undefined,
    hex6: undefined,
    hex8: undefined
  };
  if (cachedMatchers.rgb === undefined) {
    cachedMatchers.rgb = new RegExp("rgb" + call(NUMBER, NUMBER, NUMBER));
    cachedMatchers.rgba = new RegExp("rgba" + call(NUMBER, NUMBER, NUMBER, NUMBER));
    cachedMatchers.hsl = new RegExp("hsl" + call(NUMBER, PERCENTAGE, PERCENTAGE));
    cachedMatchers.hsla = new RegExp("hsla" + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER));
    cachedMatchers.hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;
    cachedMatchers.hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;
    cachedMatchers.hex6 = /^#([0-9a-fA-F]{6})$/;
    cachedMatchers.hex8 = /^#([0-9a-fA-F]{8})$/;
  }
  return cachedMatchers;
}
function hue2rgb(p, q, t) {
  if (t < 0) {
    t += 1;
  }
  if (t > 1) {
    t -= 1;
  }
  if (t < 1 / 6) {
    return p + (q - p) * 6 * t;
  }
  if (t < 1 / 2) {
    return q;
  }
  if (t < 2 / 3) {
    return p + (q - p) * (2 / 3 - t) * 6;
  }
  return p;
}
function hslToRgb(h, s, l) {
  const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
  const p = 2 * l - q;
  const r = hue2rgb(p, q, h + 1 / 3);
  const g = hue2rgb(p, q, h);
  const b2 = hue2rgb(p, q, h - 1 / 3);
  return Math.round(r * 255) << 24 | Math.round(g * 255) << 16 | Math.round(b2 * 255) << 8;
}
function parse255(str) {
  const int = Number.parseInt(str, 10);
  if (int < 0) {
    return 0;
  }
  if (int > 255) {
    return 255;
  }
  return int;
}
function parse360(str) {
  const int = Number.parseFloat(str);
  return (int % 360 + 360) % 360 / 360;
}
function parse1(str) {
  const num = Number.parseFloat(str);
  if (num < 0) {
    return 0;
  }
  if (num > 1) {
    return 255;
  }
  return Math.round(num * 255);
}
function parsePercentage(str) {
  const int = Number.parseFloat(str);
  if (int < 0) {
    return 0;
  }
  if (int > 100) {
    return 1;
  }
  return int / 100;
}
var colorNames = {
  transparent: 0,
  aliceblue: 4042850303,
  antiquewhite: 4209760255,
  aqua: 16777215,
  aquamarine: 2147472639,
  azure: 4043309055,
  beige: 4126530815,
  bisque: 4293182719,
  black: 255,
  blanchedalmond: 4293643775,
  blue: 65535,
  blueviolet: 2318131967,
  brown: 2771004159,
  burlywood: 3736635391,
  burntsienna: 3934150143,
  cadetblue: 1604231423,
  chartreuse: 2147418367,
  chocolate: 3530104575,
  coral: 4286533887,
  cornflowerblue: 1687547391,
  cornsilk: 4294499583,
  crimson: 3692313855,
  cyan: 16777215,
  darkblue: 35839,
  darkcyan: 9145343,
  darkgoldenrod: 3095792639,
  darkgray: 2846468607,
  darkgreen: 6553855,
  darkgrey: 2846468607,
  darkkhaki: 3182914559,
  darkmagenta: 2332068863,
  darkolivegreen: 1433087999,
  darkorange: 4287365375,
  darkorchid: 2570243327,
  darkred: 2332033279,
  darksalmon: 3918953215,
  darkseagreen: 2411499519,
  darkslateblue: 1211993087,
  darkslategray: 793726975,
  darkslategrey: 793726975,
  darkturquoise: 13554175,
  darkviolet: 2483082239,
  deeppink: 4279538687,
  deepskyblue: 12582911,
  dimgray: 1768516095,
  dimgrey: 1768516095,
  dodgerblue: 512819199,
  firebrick: 2988581631,
  floralwhite: 4294635775,
  forestgreen: 579543807,
  fuchsia: 4278255615,
  gainsboro: 3705462015,
  ghostwhite: 4177068031,
  gold: 4292280575,
  goldenrod: 3668254975,
  gray: 2155905279,
  green: 8388863,
  greenyellow: 2919182335,
  grey: 2155905279,
  honeydew: 4043305215,
  hotpink: 4285117695,
  indianred: 3445382399,
  indigo: 1258324735,
  ivory: 4294963455,
  khaki: 4041641215,
  lavender: 3873897215,
  lavenderblush: 4293981695,
  lawngreen: 2096890111,
  lemonchiffon: 4294626815,
  lightblue: 2916673279,
  lightcoral: 4034953471,
  lightcyan: 3774873599,
  lightgoldenrodyellow: 4210742015,
  lightgray: 3553874943,
  lightgreen: 2431553791,
  lightgrey: 3553874943,
  lightpink: 4290167295,
  lightsalmon: 4288707327,
  lightseagreen: 548580095,
  lightskyblue: 2278488831,
  lightslategray: 2005441023,
  lightslategrey: 2005441023,
  lightsteelblue: 2965692159,
  lightyellow: 4294959359,
  lime: 16711935,
  limegreen: 852308735,
  linen: 4210091775,
  magenta: 4278255615,
  maroon: 2147483903,
  mediumaquamarine: 1724754687,
  mediumblue: 52735,
  mediumorchid: 3126187007,
  mediumpurple: 2473647103,
  mediumseagreen: 1018393087,
  mediumslateblue: 2070474495,
  mediumspringgreen: 16423679,
  mediumturquoise: 1221709055,
  mediumvioletred: 3340076543,
  midnightblue: 421097727,
  mintcream: 4127193855,
  mistyrose: 4293190143,
  moccasin: 4293178879,
  navajowhite: 4292783615,
  navy: 33023,
  oldlace: 4260751103,
  olive: 2155872511,
  olivedrab: 1804477439,
  orange: 4289003775,
  orangered: 4282712319,
  orchid: 3664828159,
  palegoldenrod: 4008225535,
  palegreen: 2566625535,
  paleturquoise: 2951671551,
  palevioletred: 3681588223,
  papayawhip: 4293907967,
  peachpuff: 4292524543,
  peru: 3448061951,
  pink: 4290825215,
  plum: 3718307327,
  powderblue: 2967529215,
  purple: 2147516671,
  rebeccapurple: 1714657791,
  red: 4278190335,
  rosybrown: 3163525119,
  royalblue: 1097458175,
  saddlebrown: 2336560127,
  salmon: 4202722047,
  sandybrown: 4104413439,
  seagreen: 780883967,
  seashell: 4294307583,
  sienna: 2689740287,
  silver: 3233857791,
  skyblue: 2278484991,
  slateblue: 1784335871,
  slategray: 1887473919,
  slategrey: 1887473919,
  snow: 4294638335,
  springgreen: 16744447,
  steelblue: 1182971135,
  tan: 3535047935,
  teal: 8421631,
  thistle: 3636451583,
  tomato: 4284696575,
  turquoise: 1088475391,
  violet: 4001558271,
  wheat: 4125012991,
  white: 4294967295,
  whitesmoke: 4126537215,
  yellow: 4294902015,
  yellowgreen: 2597139199
};
function normalizeColor(color) {
  const matchers = getMatchers();
  let match;
  if (matchers.hex6) {
    if (match = matchers.hex6.exec(color)) {
      return Number.parseInt(match[1] + "ff", 16) >>> 0;
    }
  }
  if (colorNames[color] !== undefined) {
    return colorNames[color];
  }
  if (matchers.rgb) {
    if (match = matchers.rgb.exec(color)) {
      return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | 255) >>> 0;
    }
  }
  if (matchers.rgba) {
    if (match = matchers.rgba.exec(color)) {
      return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | parse1(match[4])) >>> 0;
    }
  }
  if (matchers.hex3) {
    if (match = matchers.hex3.exec(color)) {
      return Number.parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + "ff", 16) >>> 0;
    }
  }
  if (matchers.hex8) {
    if (match = matchers.hex8.exec(color)) {
      return Number.parseInt(match[1], 16) >>> 0;
    }
  }
  if (matchers.hex4) {
    if (match = matchers.hex4.exec(color)) {
      return Number.parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + match[4] + match[4], 16) >>> 0;
    }
  }
  if (matchers.hsl) {
    if (match = matchers.hsl.exec(color)) {
      return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | 255) >>> 0;
    }
  }
  if (matchers.hsla) {
    if (match = matchers.hsla.exec(color)) {
      return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | parse1(match[4])) >>> 0;
    }
  }
  throw new Error(`invalid color string ${color} provided`);
}
var opacity = (c2) => {
  return (c2 >> 24 & 255) / 255;
};
var red = (c2) => {
  return c2 >> 16 & 255;
};
var green = (c2) => {
  return c2 >> 8 & 255;
};
var blue = (c2) => {
  return c2 & 255;
};
var rgbaColor = (r, g, b2, alpha) => {
  return `rgba(${r}, ${g}, ${b2}, ${alpha})`;
};
function processColor(color) {
  const normalizedColor = normalizeColor(color);
  return (normalizedColor << 24 | normalizedColor >>> 8) >>> 0;
}
var interpolateColorsRGB = (value, inputRange, colors) => {
  const [r, g, b2, a2] = [red, green, blue, opacity].map((f) => {
    const unrounded = interpolate(value, inputRange, colors.map((c2) => f(c2)), {
      extrapolateLeft: "clamp",
      extrapolateRight: "clamp"
    });
    if (f === opacity) {
      return Number(unrounded.toFixed(3));
    }
    return Math.round(unrounded);
  });
  return rgbaColor(r, g, b2, a2);
};
var interpolateColors = (input, inputRange, outputRange) => {
  if (typeof input === "undefined") {
    throw new TypeError("input can not be undefined");
  }
  if (typeof inputRange === "undefined") {
    throw new TypeError("inputRange can not be undefined");
  }
  if (typeof outputRange === "undefined") {
    throw new TypeError("outputRange can not be undefined");
  }
  if (inputRange.length !== outputRange.length) {
    throw new TypeError("inputRange (" + inputRange.length + " values provided) and outputRange (" + outputRange.length + " values provided) must have the same length");
  }
  const processedOutputRange = outputRange.map((c2) => processColor(c2));
  return interpolateColorsRGB(input, inputRange, processedOutputRange);
};
// src/validate-frame.ts
var validateFrame = ({
  allowFloats,
  durationInFrames,
  frame
}) => {
  if (typeof frame === "undefined") {
    throw new TypeError(`Argument missing for parameter "frame"`);
  }
  if (typeof frame !== "number") {
    throw new TypeError(`Argument passed for "frame" is not a number: ${frame}`);
  }
  if (!Number.isFinite(frame)) {
    throw new RangeError(`Frame ${frame} is not finite`);
  }
  if (frame % 1 !== 0 && !allowFloats) {
    throw new RangeError(`Argument for frame must be an integer, but got ${frame}`);
  }
  if (frame < 0 && frame < -durationInFrames) {
    throw new RangeError(`Cannot use frame ${frame}: Duration of composition is ${durationInFrames}, therefore the lowest frame that can be rendered is ${-durationInFrames}`);
  }
  if (frame > durationInFrames - 1) {
    throw new RangeError(`Cannot use frame ${frame}: Duration of composition is ${durationInFrames}, therefore the highest frame that can be rendered is ${durationInFrames - 1}`);
  }
};
// src/series/index.tsx


// src/series/flatten-children.tsx

var flattenChildren = (children) => {
  const childrenArray = react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(children);
  return childrenArray.reduce((flatChildren, child) => {
    if (child.type === react__WEBPACK_IMPORTED_MODULE_0__.Fragment) {
      return flatChildren.concat(flattenChildren(child.props.children));
    }
    flatChildren.push(child);
    return flatChildren;
  }, []);
};

// src/series/is-inside-series.tsx


var IsInsideSeriesContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(false);
var IsInsideSeriesContainer = ({ children }) => {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(IsInsideSeriesContext.Provider, {
    value: true,
    children
  });
};
var IsNotInsideSeriesProvider = ({ children }) => {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(IsInsideSeriesContext.Provider, {
    value: false,
    children
  });
};
var useRequireToBeInsideSeries = () => {
  const isInsideSeries = react__WEBPACK_IMPORTED_MODULE_0__.useContext(IsInsideSeriesContext);
  if (!isInsideSeries) {
    throw new Error("This component must be inside a <Series /> component.");
  }
};

// src/series/index.tsx

var SeriesSequenceRefForwardingFunction = ({ children }, _ref) => {
  useRequireToBeInsideSeries();
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(IsNotInsideSeriesProvider, {
    children
  });
};
var SeriesSequence = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(SeriesSequenceRefForwardingFunction);
var Series = (props2) => {
  const childrenValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    let startFrame = 0;
    const flattenedChildren = flattenChildren(props2.children);
    return react__WEBPACK_IMPORTED_MODULE_0__.Children.map(flattenedChildren, (child, i) => {
      const castedChild = child;
      if (typeof castedChild === "string") {
        if (castedChild.trim() === "") {
          return null;
        }
        throw new TypeError(`The <Series /> component only accepts a list of <Series.Sequence /> components as its children, but you passed a string "${castedChild}"`);
      }
      if (castedChild.type !== SeriesSequence) {
        throw new TypeError(`The <Series /> component only accepts a list of <Series.Sequence /> components as its children, but got ${castedChild} instead`);
      }
      const debugInfo = `index = ${i}, duration = ${castedChild.props.durationInFrames}`;
      if (!castedChild?.props.children) {
        throw new TypeError(`A <Series.Sequence /> component (${debugInfo}) was detected to not have any children. Delete it to fix this error.`);
      }
      const durationInFramesProp = castedChild.props.durationInFrames;
      const {
        durationInFrames,
        children: _children,
        from,
        name,
        ...passedProps
      } = castedChild.props;
      if (i !== flattenedChildren.length - 1 || durationInFramesProp !== Infinity) {
        validateDurationInFrames(durationInFramesProp, {
          component: `of a <Series.Sequence /> component`,
          allowFloats: true
        });
      }
      const offset = castedChild.props.offset ?? 0;
      if (Number.isNaN(offset)) {
        throw new TypeError(`The "offset" property of a <Series.Sequence /> must not be NaN, but got NaN (${debugInfo}).`);
      }
      if (!Number.isFinite(offset)) {
        throw new TypeError(`The "offset" property of a <Series.Sequence /> must be finite, but got ${offset} (${debugInfo}).`);
      }
      if (offset % 1 !== 0) {
        throw new TypeError(`The "offset" property of a <Series.Sequence /> must be finite, but got ${offset} (${debugInfo}).`);
      }
      const currentStartFrame = startFrame + offset;
      startFrame += durationInFramesProp + offset;
      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Sequence, {
        name: name || "<Series.Sequence>",
        from: currentStartFrame,
        durationInFrames: durationInFramesProp,
        ...passedProps,
        ref: castedChild.ref,
        children: child
      });
    });
  }, [props2.children]);
  if (ENABLE_V5_BREAKING_CHANGES) {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(IsInsideSeriesContainer, {
      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Sequence, {
        ...props2,
        children: childrenValue
      })
    });
  }
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(IsInsideSeriesContainer, {
    children: childrenValue
  });
};
Series.Sequence = SeriesSequence;
addSequenceStackTraces(SeriesSequence);
// src/validation/validation-spring-duration.ts
var validateSpringDuration = (dur) => {
  if (typeof dur === "undefined") {
    return;
  }
  if (typeof dur !== "number") {
    throw new TypeError(`A "duration" of a spring must be a "number" but is "${typeof dur}"`);
  }
  if (Number.isNaN(dur)) {
    throw new TypeError('A "duration" of a spring is NaN, which it must not be');
  }
  if (!Number.isFinite(dur)) {
    throw new TypeError('A "duration" of a spring must be finite, but is ' + dur);
  }
  if (dur <= 0) {
    throw new TypeError('A "duration" of a spring must be positive, but is ' + dur);
  }
};

// src/spring/spring-utils.ts
var defaultSpringConfig = {
  damping: 10,
  mass: 1,
  stiffness: 100,
  overshootClamping: false
};
var advanceCache = {};
function advance({
  animation,
  now,
  config
}) {
  const { toValue, lastTimestamp, current, velocity } = animation;
  const deltaTime = Math.min(now - lastTimestamp, 64);
  if (config.damping <= 0) {
    throw new Error("Spring damping must be greater than 0, otherwise the spring() animation will never end, causing an infinite loop.");
  }
  const c2 = config.damping;
  const m = config.mass;
  const k = config.stiffness;
  const cacheKey = [
    toValue,
    lastTimestamp,
    current,
    velocity,
    c2,
    m,
    k,
    now
  ].join("-");
  if (advanceCache[cacheKey]) {
    return advanceCache[cacheKey];
  }
  const v0 = -velocity;
  const x0 = toValue - current;
  const zeta = c2 / (2 * Math.sqrt(k * m));
  const omega0 = Math.sqrt(k / m);
  const omega1 = omega0 * Math.sqrt(1 - zeta ** 2);
  const t = deltaTime / 1000;
  const sin1 = Math.sin(omega1 * t);
  const cos1 = Math.cos(omega1 * t);
  const underDampedEnvelope = Math.exp(-zeta * omega0 * t);
  const underDampedFrag1 = underDampedEnvelope * (sin1 * ((v0 + zeta * omega0 * x0) / omega1) + x0 * cos1);
  const underDampedPosition = toValue - underDampedFrag1;
  const underDampedVelocity = zeta * omega0 * underDampedFrag1 - underDampedEnvelope * (cos1 * (v0 + zeta * omega0 * x0) - omega1 * x0 * sin1);
  const criticallyDampedEnvelope = Math.exp(-omega0 * t);
  const criticallyDampedPosition = toValue - criticallyDampedEnvelope * (x0 + (v0 + omega0 * x0) * t);
  const criticallyDampedVelocity = criticallyDampedEnvelope * (v0 * (t * omega0 - 1) + t * x0 * omega0 * omega0);
  const animationNode = {
    toValue,
    prevPosition: current,
    lastTimestamp: now,
    current: zeta < 1 ? underDampedPosition : criticallyDampedPosition,
    velocity: zeta < 1 ? underDampedVelocity : criticallyDampedVelocity
  };
  advanceCache[cacheKey] = animationNode;
  return animationNode;
}
var calculationCache = {};
function springCalculation({
  frame,
  fps,
  config = {}
}) {
  const from = 0;
  const to = 1;
  const cacheKey = [
    frame,
    fps,
    config.damping,
    config.mass,
    config.overshootClamping,
    config.stiffness
  ].join("-");
  if (calculationCache[cacheKey]) {
    return calculationCache[cacheKey];
  }
  let animation = {
    lastTimestamp: 0,
    current: from,
    toValue: to,
    velocity: 0,
    prevPosition: 0
  };
  const frameClamped = Math.max(0, frame);
  const unevenRest = frameClamped % 1;
  for (let f = 0;f <= Math.floor(frameClamped); f++) {
    if (f === Math.floor(frameClamped)) {
      f += unevenRest;
    }
    const time = f / fps * 1000;
    animation = advance({
      animation,
      now: time,
      config: {
        ...defaultSpringConfig,
        ...config
      }
    });
  }
  calculationCache[cacheKey] = animation;
  return animation;
}

// src/spring/measure-spring.ts
var cache = new Map;
function measureSpring({
  fps,
  config = {},
  threshold = 0.005
}) {
  if (typeof threshold !== "number") {
    throw new TypeError(`threshold must be a number, got ${threshold} of type ${typeof threshold}`);
  }
  if (threshold === 0) {
    return Infinity;
  }
  if (threshold === 1) {
    return 0;
  }
  if (isNaN(threshold)) {
    throw new TypeError("Threshold is NaN");
  }
  if (!Number.isFinite(threshold)) {
    throw new TypeError("Threshold is not finite");
  }
  if (threshold < 0) {
    throw new TypeError("Threshold is below 0");
  }
  const cacheKey = [
    fps,
    config.damping,
    config.mass,
    config.overshootClamping,
    config.stiffness,
    threshold
  ].join("-");
  if (cache.has(cacheKey)) {
    return cache.get(cacheKey);
  }
  validateFps(fps, "to the measureSpring() function", false);
  let frame = 0;
  let finishedFrame = 0;
  const calc = () => {
    return springCalculation({
      fps,
      frame,
      config
    });
  };
  let animation = calc();
  const calcDifference = () => {
    return Math.abs(animation.current - animation.toValue);
  };
  let difference = calcDifference();
  while (difference >= threshold) {
    frame++;
    animation = calc();
    difference = calcDifference();
  }
  finishedFrame = frame;
  for (let i = 0;i < 20; i++) {
    frame++;
    animation = calc();
    difference = calcDifference();
    if (difference >= threshold) {
      i = 0;
      finishedFrame = frame + 1;
    }
  }
  cache.set(cacheKey, finishedFrame);
  return finishedFrame;
}

// src/spring/index.ts
function spring({
  frame: passedFrame,
  fps,
  config = {},
  from = 0,
  to = 1,
  durationInFrames: passedDurationInFrames,
  durationRestThreshold,
  delay = 0,
  reverse = false
}) {
  validateSpringDuration(passedDurationInFrames);
  validateFrame({
    frame: passedFrame,
    durationInFrames: Infinity,
    allowFloats: true
  });
  validateFps(fps, "to spring()", false);
  const needsToCalculateNaturalDuration = reverse || typeof passedDurationInFrames !== "undefined";
  const naturalDuration = needsToCalculateNaturalDuration ? measureSpring({
    fps,
    config,
    threshold: durationRestThreshold
  }) : undefined;
  const naturalDurationGetter = needsToCalculateNaturalDuration ? {
    get: () => naturalDuration
  } : {
    get: () => {
      throw new Error("did not calculate natural duration, this is an error with Remotion. Please report");
    }
  };
  const reverseProcessed = reverse ? (passedDurationInFrames ?? naturalDurationGetter.get()) - passedFrame : passedFrame;
  const delayProcessed = reverseProcessed + (reverse ? delay : -delay);
  const durationProcessed = passedDurationInFrames === undefined ? delayProcessed : delayProcessed / (passedDurationInFrames / naturalDurationGetter.get());
  if (passedDurationInFrames && delayProcessed > passedDurationInFrames) {
    return to;
  }
  const spr = springCalculation({
    fps,
    frame: durationProcessed,
    config
  });
  const inner = config.overshootClamping ? to >= from ? Math.min(spr.current, to) : Math.max(spr.current, to) : spr.current;
  const interpolated = from === 0 && to === 1 ? inner : interpolate(inner, [0, 1], [from, to]);
  return interpolated;
}
// src/static-file.ts
var problematicCharacters = {
  "%3A": ":",
  "%2F": "/",
  "%3F": "?",
  "%23": "#",
  "%5B": "[",
  "%5D": "]",
  "%40": "@",
  "%21": "!",
  "%24": "$",
  "%26": "&",
  "%27": "'",
  "%28": "(",
  "%29": ")",
  "%2A": "*",
  "%2B": "+",
  "%2C": ",",
  "%3B": ";"
};
var didWarn2 = {};
var warnOnce3 = (message) => {
  if (didWarn2[message]) {
    return;
  }
  console.warn(message);
  didWarn2[message] = true;
};
var includesHexOfUnsafeChar = (path) => {
  for (const key of Object.keys(problematicCharacters)) {
    if (path.includes(key)) {
      return { containsHex: true, hexCode: key };
    }
  }
  return { containsHex: false };
};
var trimLeadingSlash = (path) => {
  if (path.startsWith("/")) {
    return trimLeadingSlash(path.substring(1));
  }
  return path;
};
var inner = (path) => {
  if (typeof window !== "undefined" && window.remotion_staticBase) {
    if (path.startsWith(window.remotion_staticBase)) {
      throw new Error(`The value "${path}" is already prefixed with the static base ${window.remotion_staticBase}. You don't need to call staticFile() on it.`);
    }
    return `${window.remotion_staticBase}/${trimLeadingSlash(path)}`;
  }
  return `/${trimLeadingSlash(path)}`;
};
var encodeBySplitting = (path) => {
  const splitBySlash = path.split("/");
  const encodedArray = splitBySlash.map((element) => {
    return encodeURIComponent(element);
  });
  const merged = encodedArray.join("/");
  return merged;
};
var staticFile = (path) => {
  if (path === null) {
    throw new TypeError("null was passed to staticFile()");
  }
  if (typeof path === "undefined") {
    throw new TypeError("undefined was passed to staticFile()");
  }
  if (path.startsWith("http://") || path.startsWith("https://")) {
    throw new TypeError(`staticFile() does not support remote URLs - got "${path}". Instead, pass the URL without wrapping it in staticFile(). See: https://remotion.dev/docs/staticfile-remote-urls`);
  }
  if (path.startsWith("..") || path.startsWith("./")) {
    throw new TypeError(`staticFile() does not support relative paths - got "${path}". Instead, pass the name of a file that is inside the public/ folder. See: https://remotion.dev/docs/staticfile-relative-paths`);
  }
  if (path.startsWith("/Users") || path.startsWith("/home") || path.startsWith("/tmp") || path.startsWith("/etc") || path.startsWith("/opt") || path.startsWith("/var") || path.startsWith("C:") || path.startsWith("D:") || path.startsWith("E:")) {
    throw new TypeError(`staticFile() does not support absolute paths - got "${path}". Instead, pass the name of a file that is inside the public/ folder. See: https://remotion.dev/docs/staticfile-relative-paths`);
  }
  if (path.startsWith("public/")) {
    throw new TypeError(`Do not include the public/ prefix when using staticFile() - got "${path}". See: https://remotion.dev/docs/staticfile-relative-paths`);
  }
  const includesHex = includesHexOfUnsafeChar(path);
  if (includesHex.containsHex) {
    warnOnce3(`WARNING: You seem to pass an already encoded path (path contains ${includesHex.hexCode}). Since Remotion 4.0, the encoding is done by staticFile() itself. You may want to remove a encodeURIComponent() wrapping.`);
  }
  const preprocessed = encodeBySplitting(path);
  const preparsed = inner(preprocessed);
  if (!preparsed.startsWith("/")) {
    return `/${preparsed}`;
  }
  return preparsed;
};
// src/Still.tsx

var Still = (props2) => {
  const newProps = {
    ...props2,
    durationInFrames: 1,
    fps: 1
  };
  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Composition, newProps);
};
// src/video/Video.tsx


// src/video/VideoForRendering.tsx


// src/video/seek-until-right.ts
var roundTo6Commas = (num) => {
  return Math.round(num * 1e5) / 1e5;
};
var seekToTime = ({
  element,
  desiredTime,
  logLevel,
  mountTime
}) => {
  if (isApproximatelyTheSame(element.currentTime, desiredTime)) {
    return {
      wait: Promise.resolve(desiredTime),
      cancel: () => {}
    };
  }
  seek({
    logLevel,
    mediaRef: element,
    time: desiredTime,
    why: "Seeking during rendering",
    mountTime
  });
  let cancel;
  let cancelSeeked = null;
  const prom = new Promise((resolve) => {
    cancel = element.requestVideoFrameCallback((now, metadata) => {
      const displayIn = metadata.expectedDisplayTime - now;
      if (displayIn <= 0) {
        resolve(metadata.mediaTime);
        return;
      }
      setTimeout(() => {
        resolve(metadata.mediaTime);
      }, displayIn + 150);
    });
  });
  const waitForSeekedEvent = new Promise((resolve) => {
    const onDone = () => {
      resolve();
    };
    element.addEventListener("seeked", onDone, {
      once: true
    });
    cancelSeeked = () => {
      element.removeEventListener("seeked", onDone);
    };
  });
  return {
    wait: Promise.all([prom, waitForSeekedEvent]).then(([time]) => time),
    cancel: () => {
      cancelSeeked?.();
      element.cancelVideoFrameCallback(cancel);
    }
  };
};
var seekToTimeMultipleUntilRight = ({
  element,
  desiredTime,
  fps,
  logLevel,
  mountTime
}) => {
  const threshold = 1 / fps / 2;
  let currentCancel = () => {
    return;
  };
  if (Number.isFinite(element.duration) && element.currentTime >= element.duration && desiredTime >= element.duration) {
    return {
      prom: Promise.resolve(),
      cancel: () => {}
    };
  }
  const prom = new Promise((resolve, reject) => {
    const firstSeek = seekToTime({
      element,
      desiredTime: desiredTime + threshold,
      logLevel,
      mountTime
    });
    firstSeek.wait.then((seekedTo) => {
      const difference = Math.abs(desiredTime - seekedTo);
      if (difference <= threshold) {
        return resolve();
      }
      const sign = desiredTime > seekedTo ? 1 : -1;
      const newSeek = seekToTime({
        element,
        desiredTime: seekedTo + threshold * sign,
        logLevel,
        mountTime
      });
      currentCancel = newSeek.cancel;
      newSeek.wait.then((newTime) => {
        const newDifference = Math.abs(desiredTime - newTime);
        if (roundTo6Commas(newDifference) <= roundTo6Commas(threshold)) {
          return resolve();
        }
        const thirdSeek = seekToTime({
          element,
          desiredTime: desiredTime + threshold,
          logLevel,
          mountTime
        });
        currentCancel = thirdSeek.cancel;
        return thirdSeek.wait.then(() => {
          resolve();
        }).catch((err) => {
          reject(err);
        });
      }).catch((err) => {
        reject(err);
      });
    });
    currentCancel = firstSeek.cancel;
  });
  return {
    prom,
    cancel: () => {
      currentCancel();
    }
  };
};

// src/video/VideoForRendering.tsx

var VideoForRenderingForwardFunction = ({
  onError,
  volume: volumeProp,
  allowAmplificationDuringRender,
  playbackRate,
  onDuration,
  toneFrequency,
  name,
  acceptableTimeShiftInSeconds,
  delayRenderRetries,
  delayRenderTimeoutInMilliseconds,
  loopVolumeCurveBehavior,
  audioStreamIndex,
  onVideoFrame,
  ...props2
}, ref) => {
  const absoluteFrame = useTimelinePosition();
  const frame = useCurrentFrame();
  const volumePropsFrame = useFrameForVolumeProp(loopVolumeCurveBehavior ?? "repeat");
  const videoConfig = useUnsafeVideoConfig();
  const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const sequenceContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SequenceContext);
  const mediaStartsAt = useMediaStartsAt();
  const environment = useRemotionEnvironment();
  const logLevel = useLogLevel();
  const mountTime = useMountTime();
  const { delayRender: delayRender2, continueRender: continueRender2 } = useDelayRender();
  const { registerRenderAsset, unregisterRenderAsset } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(RenderAssetManager);
  const id = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => `video-${random(props2.src ?? "")}-${sequenceContext?.cumulatedFrom}-${sequenceContext?.relativeFrom}-${sequenceContext?.durationInFrames}`, [
    props2.src,
    sequenceContext?.cumulatedFrom,
    sequenceContext?.relativeFrom,
    sequenceContext?.durationInFrames
  ]);
  if (!videoConfig) {
    throw new Error("No video config found");
  }
  const volume = evaluateVolume({
    volume: volumeProp,
    frame: volumePropsFrame,
    mediaVolume: 1
  });
  warnAboutTooHighVolume(volume);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!props2.src) {
      throw new Error("No src passed");
    }
    if (props2.muted) {
      return;
    }
    if (volume <= 0) {
      return;
    }
    if (!window.remotion_audioEnabled) {
      return;
    }
    registerRenderAsset({
      type: "video",
      src: getAbsoluteSrc(props2.src),
      id,
      frame: absoluteFrame,
      volume,
      mediaFrame: frame,
      playbackRate: playbackRate ?? 1,
      toneFrequency: toneFrequency ?? 1,
      audioStartFrame: Math.max(0, -(sequenceContext?.relativeFrom ?? 0)),
      audioStreamIndex: audioStreamIndex ?? 0
    });
    return () => unregisterRenderAsset(id);
  }, [
    props2.muted,
    props2.src,
    registerRenderAsset,
    id,
    unregisterRenderAsset,
    volume,
    frame,
    absoluteFrame,
    playbackRate,
    toneFrequency,
    sequenceContext?.relativeFrom,
    audioStreamIndex
  ]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => {
    return videoRef.current;
  }, []);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!window.remotion_videoEnabled) {
      return;
    }
    const { current } = videoRef;
    if (!current) {
      return;
    }
    const currentTime = getMediaTime({
      frame,
      playbackRate: playbackRate || 1,
      startFrom: -mediaStartsAt,
      fps: videoConfig.fps
    });
    const handle = delayRender2(`Rendering <Html5Video /> with src="${props2.src}" at time ${currentTime}`, {
      retries: delayRenderRetries ?? undefined,
      timeoutInMilliseconds: delayRenderTimeoutInMilliseconds ?? undefined
    });
    if (window.process?.env?.NODE_ENV === "test") {
      continueRender2(handle);
      return;
    }
    if (isApproximatelyTheSame(current.currentTime, currentTime)) {
      if (current.readyState >= 2) {
        continueRender2(handle);
        return;
      }
      const loadedDataHandler = () => {
        continueRender2(handle);
      };
      current.addEventListener("loadeddata", loadedDataHandler, { once: true });
      return () => {
        current.removeEventListener("loadeddata", loadedDataHandler);
      };
    }
    const endedHandler = () => {
      continueRender2(handle);
    };
    const seek2 = seekToTimeMultipleUntilRight({
      element: current,
      desiredTime: currentTime,
      fps: videoConfig.fps,
      logLevel,
      mountTime
    });
    seek2.prom.then(() => {
      continueRender2(handle);
    });
    current.addEventListener("ended", endedHandler, { once: true });
    const errorHandler = () => {
      if (current?.error) {
        console.error("Error occurred in video", current?.error);
        if (onError) {
          return;
        }
        throw new Error(`The browser threw an error while playing the video ${props2.src}: Code ${current.error.code} - ${current?.error?.message}. See https://remotion.dev/docs/media-playback-error for help. Pass an onError() prop to handle the error.`);
      } else {
        throw new Error("The browser threw an error");
      }
    };
    current.addEventListener("error", errorHandler, { once: true });
    return () => {
      seek2.cancel();
      current.removeEventListener("ended", endedHandler);
      current.removeEventListener("error", errorHandler);
      continueRender2(handle);
    };
  }, [
    volumePropsFrame,
    props2.src,
    playbackRate,
    videoConfig.fps,
    frame,
    mediaStartsAt,
    onError,
    delayRenderRetries,
    delayRenderTimeoutInMilliseconds,
    logLevel,
    mountTime,
    continueRender2,
    delayRender2
  ]);
  const { src } = props2;
  if (environment.isRendering) {
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
      if (window.process?.env?.NODE_ENV === "test") {
        return;
      }
      const newHandle = delayRender2("Loading <Html5Video> duration with src=" + src, {
        retries: delayRenderRetries ?? undefined,
        timeoutInMilliseconds: delayRenderTimeoutInMilliseconds ?? undefined
      });
      const { current } = videoRef;
      const didLoad = () => {
        if (current?.duration) {
          onDuration(src, current.duration);
        }
        continueRender2(newHandle);
      };
      if (current?.duration) {
        onDuration(src, current.duration);
        continueRender2(newHandle);
      } else {
        current?.addEventListener("loadedmetadata", didLoad, { once: true });
      }
      return () => {
        current?.removeEventListener("loadedmetadata", didLoad);
        continueRender2(newHandle);
      };
    }, [
      src,
      onDuration,
      delayRenderRetries,
      delayRenderTimeoutInMilliseconds,
      continueRender2,
      delayRender2
    ]);
  }
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("video", {
    ref: videoRef,
    disableRemotePlayback: true,
    ...props2
  });
};
var VideoForRendering = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(VideoForRenderingForwardFunction);

// src/video/Video.tsx

var VideoForwardingFunction = (props2, ref) => {
  const {
    startFrom,
    endAt,
    trimBefore,
    trimAfter,
    name,
    pauseWhenBuffering,
    stack,
    _remotionInternalNativeLoopPassed,
    showInTimeline,
    onAutoPlayError,
    ...otherProps
  } = props2;
  const { loop, ...propsOtherThanLoop } = props2;
  const { fps } = useVideoConfig();
  const environment = useRemotionEnvironment();
  if (environment.isClientSideRendering) {
    throw new Error("<Html5Video> is not supported in @remotion/web-renderer. Use <Video> from @remotion/media instead. See https://remotion.dev/docs/client-side-rendering/limitations");
  }
  const { durations, setDurations } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(DurationsContext);
  if (typeof ref === "string") {
    throw new Error("string refs are not supported");
  }
  if (typeof props2.src !== "string") {
    throw new TypeError(`The \`<Html5Video>\` tag requires a string for \`src\`, but got ${JSON.stringify(props2.src)} instead.`);
  }
  const preloadedSrc = usePreload(props2.src);
  const onDuration = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((src, durationInSeconds) => {
    setDurations({ type: "got-duration", durationInSeconds, src });
  }, [setDurations]);
  const onVideoFrame = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {}, []);
  const durationFetched = durations[getAbsoluteSrc(preloadedSrc)] ?? durations[getAbsoluteSrc(props2.src)];
  validateMediaTrimProps({ startFrom, endAt, trimBefore, trimAfter });
  const { trimBeforeValue, trimAfterValue } = resolveTrimProps({
    startFrom,
    endAt,
    trimBefore,
    trimAfter
  });
  if (loop && durationFetched !== undefined) {
    if (!Number.isFinite(durationFetched)) {
      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Html5Video, {
        ...propsOtherThanLoop,
        ref,
        _remotionInternalNativeLoopPassed: true
      });
    }
    const mediaDuration = durationFetched * fps;
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Loop, {
      durationInFrames: calculateMediaDuration({
        trimAfter: trimAfterValue,
        mediaDurationInFrames: mediaDuration,
        playbackRate: props2.playbackRate ?? 1,
        trimBefore: trimBeforeValue
      }),
      layout: "none",
      name,
      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Html5Video, {
        ...propsOtherThanLoop,
        ref,
        _remotionInternalNativeLoopPassed: true
      })
    });
  }
  if (typeof trimBeforeValue !== "undefined" || typeof trimAfterValue !== "undefined") {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Sequence, {
      layout: "none",
      from: 0 - (trimBeforeValue ?? 0),
      showInTimeline: false,
      durationInFrames: trimAfterValue,
      name,
      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Html5Video, {
        pauseWhenBuffering: pauseWhenBuffering ?? false,
        ...otherProps,
        ref
      })
    });
  }
  validateMediaProps({ playbackRate: props2.playbackRate, volume: props2.volume }, "Html5Video");
  if (environment.isRendering) {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(VideoForRendering, {
      onDuration,
      onVideoFrame: onVideoFrame ?? null,
      ...otherProps,
      ref
    });
  }
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(VideoForPreview, {
    onlyWarnForMediaSeekingError: false,
    ...otherProps,
    ref,
    onVideoFrame: null,
    pauseWhenBuffering: pauseWhenBuffering ?? false,
    onDuration,
    _remotionInternalStack: stack ?? null,
    _remotionInternalNativeLoopPassed: _remotionInternalNativeLoopPassed ?? false,
    showInTimeline: showInTimeline ?? true,
    onAutoPlayError: onAutoPlayError ?? undefined
  });
};
var Html5Video = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(VideoForwardingFunction);
addSequenceStackTraces(Html5Video);
var Video = Html5Video;
// src/index.ts
checkMultipleRemotionVersions();
var Experimental = {
  Clipper,
  Null,
  useIsPlayer
};
var proxyObj = {};
var Config = new Proxy(proxyObj, {
  get(_, prop) {
    if (prop === "Bundling" || prop === "Rendering" || prop === "Log" || prop === "Puppeteer" || prop === "Output") {
      return Config;
    }
    return () => {
      console.warn("  The CLI configuration has been extracted from Remotion Core.");
      console.warn("Update the import from the config file:");
      console.warn();
      console.warn("- Delete:");
      console.warn('import {Config} from "remotion";');
      console.warn("+ Replace:");
      console.warn('import {Config} from "@remotion/cli/config";');
      console.warn();
      console.warn("For more information, see https://www.remotion.dev/docs/4-0-migration.");
      process.exit(1);
    };
  }
});
addSequenceStackTraces(Sequence);



/***/ }),

/***/ 9382:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NoReactInternals: () => (/* binding */ NoReactInternals),
/* harmony export */   interpolate: () => (/* binding */ interpolate),
/* harmony export */   random: () => (/* binding */ random)
/* harmony export */ });
// src/interpolate.ts
function interpolateFunction(input, inputRange, outputRange, options) {
  const { extrapolateLeft, extrapolateRight, easing } = options;
  let result = input;
  const [inputMin, inputMax] = inputRange;
  const [outputMin, outputMax] = outputRange;
  if (result < inputMin) {
    if (extrapolateLeft === "identity") {
      return result;
    }
    if (extrapolateLeft === "clamp") {
      result = inputMin;
    } else if (extrapolateLeft === "wrap") {
      const range = inputMax - inputMin;
      result = ((result - inputMin) % range + range) % range + inputMin;
    } else if (extrapolateLeft === "extend") {}
  }
  if (result > inputMax) {
    if (extrapolateRight === "identity") {
      return result;
    }
    if (extrapolateRight === "clamp") {
      result = inputMax;
    } else if (extrapolateRight === "wrap") {
      const range = inputMax - inputMin;
      result = ((result - inputMin) % range + range) % range + inputMin;
    } else if (extrapolateRight === "extend") {}
  }
  if (outputMin === outputMax) {
    return outputMin;
  }
  result = (result - inputMin) / (inputMax - inputMin);
  result = easing(result);
  result = result * (outputMax - outputMin) + outputMin;
  return result;
}
function findRange(input, inputRange) {
  let i;
  for (i = 1;i < inputRange.length - 1; ++i) {
    if (inputRange[i] >= input) {
      break;
    }
  }
  return i - 1;
}
function checkValidInputRange(arr) {
  for (let i = 1;i < arr.length; ++i) {
    if (!(arr[i] > arr[i - 1])) {
      throw new Error(`inputRange must be strictly monotonically increasing but got [${arr.join(",")}]`);
    }
  }
}
function checkInfiniteRange(name, arr) {
  if (arr.length < 2) {
    throw new Error(name + " must have at least 2 elements");
  }
  for (const element of arr) {
    if (typeof element !== "number") {
      throw new Error(`${name} must contain only numbers`);
    }
    if (!Number.isFinite(element)) {
      throw new Error(`${name} must contain only finite numbers, but got [${arr.join(",")}]`);
    }
  }
}
function interpolate(input, inputRange, outputRange, options) {
  if (typeof input === "undefined") {
    throw new Error("input can not be undefined");
  }
  if (typeof inputRange === "undefined") {
    throw new Error("inputRange can not be undefined");
  }
  if (typeof outputRange === "undefined") {
    throw new Error("outputRange can not be undefined");
  }
  if (inputRange.length !== outputRange.length) {
    throw new Error("inputRange (" + inputRange.length + ") and outputRange (" + outputRange.length + ") must have the same length");
  }
  checkInfiniteRange("inputRange", inputRange);
  checkInfiniteRange("outputRange", outputRange);
  checkValidInputRange(inputRange);
  const easing = options?.easing ?? ((num) => num);
  let extrapolateLeft = "extend";
  if (options?.extrapolateLeft !== undefined) {
    extrapolateLeft = options.extrapolateLeft;
  }
  let extrapolateRight = "extend";
  if (options?.extrapolateRight !== undefined) {
    extrapolateRight = options.extrapolateRight;
  }
  if (typeof input !== "number") {
    throw new TypeError("Cannot interpolate an input which is not a number");
  }
  const range = findRange(input, inputRange);
  return interpolateFunction(input, [inputRange[range], inputRange[range + 1]], [outputRange[range], outputRange[range + 1]], {
    easing,
    extrapolateLeft,
    extrapolateRight
  });
}
// src/random.ts
function mulberry32(a) {
  let t = a + 1831565813;
  t = Math.imul(t ^ t >>> 15, t | 1);
  t ^= t + Math.imul(t ^ t >>> 7, t | 61);
  return ((t ^ t >>> 14) >>> 0) / 4294967296;
}
function hashCode(str) {
  let i = 0;
  let chr = 0;
  let hash = 0;
  for (i = 0;i < str.length; i++) {
    chr = str.charCodeAt(i);
    hash = (hash << 5) - hash + chr;
    hash |= 0;
  }
  return hash;
}
var random = (seed, dummy) => {
  if (dummy !== undefined) {
    throw new TypeError("random() takes only one argument");
  }
  if (seed === null) {
    return Math.random();
  }
  if (typeof seed === "string") {
    return mulberry32(hashCode(seed));
  }
  if (typeof seed === "number") {
    return mulberry32(seed * 10000000000);
  }
  throw new Error("random() argument must be a number or a string");
};
// src/truthy.ts
function truthy(value) {
  return Boolean(value);
}

// src/delay-render.ts
if (typeof window !== "undefined") {
  window.remotion_renderReady = false;
  if (!window.remotion_delayRenderTimeouts) {
    window.remotion_delayRenderTimeouts = {};
  }
  window.remotion_delayRenderHandles = [];
}
var DELAY_RENDER_CALLSTACK_TOKEN = "The delayRender was called:";
var DELAY_RENDER_RETRIES_LEFT = "Retries left: ";
var DELAY_RENDER_RETRY_TOKEN = "- Rendering the frame will be retried.";
var DELAY_RENDER_CLEAR_TOKEN = "handle was cleared after";

// src/input-props-serialization.ts
var DATE_TOKEN = "remotion-date:";
var FILE_TOKEN = "remotion-file:";
var serializeJSONWithSpecialTypes = ({
  data,
  indent,
  staticBase
}) => {
  let customDateUsed = false;
  let customFileUsed = false;
  let mapUsed = false;
  let setUsed = false;
  try {
    const serializedString = JSON.stringify(data, function(key, value) {
      const item = this[key];
      if (item instanceof Date) {
        customDateUsed = true;
        return `${DATE_TOKEN}${item.toISOString()}`;
      }
      if (item instanceof Map) {
        mapUsed = true;
        return value;
      }
      if (item instanceof Set) {
        setUsed = true;
        return value;
      }
      if (typeof item === "string" && staticBase !== null && item.startsWith(staticBase)) {
        customFileUsed = true;
        return `${FILE_TOKEN}${item.replace(staticBase + "/", "")}`;
      }
      return value;
    }, indent);
    return { serializedString, customDateUsed, customFileUsed, mapUsed, setUsed };
  } catch (err) {
    throw new Error("Could not serialize the passed input props to JSON: " + err.message);
  }
};
var deserializeJSONWithSpecialTypes = (data) => {
  return JSON.parse(data, (_, value) => {
    if (typeof value === "string" && value.startsWith(DATE_TOKEN)) {
      return new Date(value.replace(DATE_TOKEN, ""));
    }
    if (typeof value === "string" && value.startsWith(FILE_TOKEN)) {
      return `${window.remotion_staticBase}/${value.replace(FILE_TOKEN, "")}`;
    }
    return value;
  });
};

// src/interpolate-colors.ts
var NUMBER = "[-+]?\\d*\\.?\\d+";
var PERCENTAGE = NUMBER + "%";
function call(...args) {
  return "\\(\\s*(" + args.join(")\\s*,\\s*(") + ")\\s*\\)";
}
function getMatchers() {
  const cachedMatchers = {
    rgb: undefined,
    rgba: undefined,
    hsl: undefined,
    hsla: undefined,
    hex3: undefined,
    hex4: undefined,
    hex5: undefined,
    hex6: undefined,
    hex8: undefined
  };
  if (cachedMatchers.rgb === undefined) {
    cachedMatchers.rgb = new RegExp("rgb" + call(NUMBER, NUMBER, NUMBER));
    cachedMatchers.rgba = new RegExp("rgba" + call(NUMBER, NUMBER, NUMBER, NUMBER));
    cachedMatchers.hsl = new RegExp("hsl" + call(NUMBER, PERCENTAGE, PERCENTAGE));
    cachedMatchers.hsla = new RegExp("hsla" + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER));
    cachedMatchers.hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;
    cachedMatchers.hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;
    cachedMatchers.hex6 = /^#([0-9a-fA-F]{6})$/;
    cachedMatchers.hex8 = /^#([0-9a-fA-F]{8})$/;
  }
  return cachedMatchers;
}
function hue2rgb(p, q, t) {
  if (t < 0) {
    t += 1;
  }
  if (t > 1) {
    t -= 1;
  }
  if (t < 1 / 6) {
    return p + (q - p) * 6 * t;
  }
  if (t < 1 / 2) {
    return q;
  }
  if (t < 2 / 3) {
    return p + (q - p) * (2 / 3 - t) * 6;
  }
  return p;
}
function hslToRgb(h, s, l) {
  const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
  const p = 2 * l - q;
  const r = hue2rgb(p, q, h + 1 / 3);
  const g = hue2rgb(p, q, h);
  const b = hue2rgb(p, q, h - 1 / 3);
  return Math.round(r * 255) << 24 | Math.round(g * 255) << 16 | Math.round(b * 255) << 8;
}
function parse255(str) {
  const int = Number.parseInt(str, 10);
  if (int < 0) {
    return 0;
  }
  if (int > 255) {
    return 255;
  }
  return int;
}
function parse360(str) {
  const int = Number.parseFloat(str);
  return (int % 360 + 360) % 360 / 360;
}
function parse1(str) {
  const num = Number.parseFloat(str);
  if (num < 0) {
    return 0;
  }
  if (num > 1) {
    return 255;
  }
  return Math.round(num * 255);
}
function parsePercentage(str) {
  const int = Number.parseFloat(str);
  if (int < 0) {
    return 0;
  }
  if (int > 100) {
    return 1;
  }
  return int / 100;
}
var colorNames = {
  transparent: 0,
  aliceblue: 4042850303,
  antiquewhite: 4209760255,
  aqua: 16777215,
  aquamarine: 2147472639,
  azure: 4043309055,
  beige: 4126530815,
  bisque: 4293182719,
  black: 255,
  blanchedalmond: 4293643775,
  blue: 65535,
  blueviolet: 2318131967,
  brown: 2771004159,
  burlywood: 3736635391,
  burntsienna: 3934150143,
  cadetblue: 1604231423,
  chartreuse: 2147418367,
  chocolate: 3530104575,
  coral: 4286533887,
  cornflowerblue: 1687547391,
  cornsilk: 4294499583,
  crimson: 3692313855,
  cyan: 16777215,
  darkblue: 35839,
  darkcyan: 9145343,
  darkgoldenrod: 3095792639,
  darkgray: 2846468607,
  darkgreen: 6553855,
  darkgrey: 2846468607,
  darkkhaki: 3182914559,
  darkmagenta: 2332068863,
  darkolivegreen: 1433087999,
  darkorange: 4287365375,
  darkorchid: 2570243327,
  darkred: 2332033279,
  darksalmon: 3918953215,
  darkseagreen: 2411499519,
  darkslateblue: 1211993087,
  darkslategray: 793726975,
  darkslategrey: 793726975,
  darkturquoise: 13554175,
  darkviolet: 2483082239,
  deeppink: 4279538687,
  deepskyblue: 12582911,
  dimgray: 1768516095,
  dimgrey: 1768516095,
  dodgerblue: 512819199,
  firebrick: 2988581631,
  floralwhite: 4294635775,
  forestgreen: 579543807,
  fuchsia: 4278255615,
  gainsboro: 3705462015,
  ghostwhite: 4177068031,
  gold: 4292280575,
  goldenrod: 3668254975,
  gray: 2155905279,
  green: 8388863,
  greenyellow: 2919182335,
  grey: 2155905279,
  honeydew: 4043305215,
  hotpink: 4285117695,
  indianred: 3445382399,
  indigo: 1258324735,
  ivory: 4294963455,
  khaki: 4041641215,
  lavender: 3873897215,
  lavenderblush: 4293981695,
  lawngreen: 2096890111,
  lemonchiffon: 4294626815,
  lightblue: 2916673279,
  lightcoral: 4034953471,
  lightcyan: 3774873599,
  lightgoldenrodyellow: 4210742015,
  lightgray: 3553874943,
  lightgreen: 2431553791,
  lightgrey: 3553874943,
  lightpink: 4290167295,
  lightsalmon: 4288707327,
  lightseagreen: 548580095,
  lightskyblue: 2278488831,
  lightslategray: 2005441023,
  lightslategrey: 2005441023,
  lightsteelblue: 2965692159,
  lightyellow: 4294959359,
  lime: 16711935,
  limegreen: 852308735,
  linen: 4210091775,
  magenta: 4278255615,
  maroon: 2147483903,
  mediumaquamarine: 1724754687,
  mediumblue: 52735,
  mediumorchid: 3126187007,
  mediumpurple: 2473647103,
  mediumseagreen: 1018393087,
  mediumslateblue: 2070474495,
  mediumspringgreen: 16423679,
  mediumturquoise: 1221709055,
  mediumvioletred: 3340076543,
  midnightblue: 421097727,
  mintcream: 4127193855,
  mistyrose: 4293190143,
  moccasin: 4293178879,
  navajowhite: 4292783615,
  navy: 33023,
  oldlace: 4260751103,
  olive: 2155872511,
  olivedrab: 1804477439,
  orange: 4289003775,
  orangered: 4282712319,
  orchid: 3664828159,
  palegoldenrod: 4008225535,
  palegreen: 2566625535,
  paleturquoise: 2951671551,
  palevioletred: 3681588223,
  papayawhip: 4293907967,
  peachpuff: 4292524543,
  peru: 3448061951,
  pink: 4290825215,
  plum: 3718307327,
  powderblue: 2967529215,
  purple: 2147516671,
  rebeccapurple: 1714657791,
  red: 4278190335,
  rosybrown: 3163525119,
  royalblue: 1097458175,
  saddlebrown: 2336560127,
  salmon: 4202722047,
  sandybrown: 4104413439,
  seagreen: 780883967,
  seashell: 4294307583,
  sienna: 2689740287,
  silver: 3233857791,
  skyblue: 2278484991,
  slateblue: 1784335871,
  slategray: 1887473919,
  slategrey: 1887473919,
  snow: 4294638335,
  springgreen: 16744447,
  steelblue: 1182971135,
  tan: 3535047935,
  teal: 8421631,
  thistle: 3636451583,
  tomato: 4284696575,
  turquoise: 1088475391,
  violet: 4001558271,
  wheat: 4125012991,
  white: 4294967295,
  whitesmoke: 4126537215,
  yellow: 4294902015,
  yellowgreen: 2597139199
};
function normalizeColor(color) {
  const matchers = getMatchers();
  let match;
  if (matchers.hex6) {
    if (match = matchers.hex6.exec(color)) {
      return Number.parseInt(match[1] + "ff", 16) >>> 0;
    }
  }
  if (colorNames[color] !== undefined) {
    return colorNames[color];
  }
  if (matchers.rgb) {
    if (match = matchers.rgb.exec(color)) {
      return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | 255) >>> 0;
    }
  }
  if (matchers.rgba) {
    if (match = matchers.rgba.exec(color)) {
      return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | parse1(match[4])) >>> 0;
    }
  }
  if (matchers.hex3) {
    if (match = matchers.hex3.exec(color)) {
      return Number.parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + "ff", 16) >>> 0;
    }
  }
  if (matchers.hex8) {
    if (match = matchers.hex8.exec(color)) {
      return Number.parseInt(match[1], 16) >>> 0;
    }
  }
  if (matchers.hex4) {
    if (match = matchers.hex4.exec(color)) {
      return Number.parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + match[4] + match[4], 16) >>> 0;
    }
  }
  if (matchers.hsl) {
    if (match = matchers.hsl.exec(color)) {
      return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | 255) >>> 0;
    }
  }
  if (matchers.hsla) {
    if (match = matchers.hsla.exec(color)) {
      return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | parse1(match[4])) >>> 0;
    }
  }
  throw new Error(`invalid color string ${color} provided`);
}
function processColor(color) {
  const normalizedColor = normalizeColor(color);
  return (normalizedColor << 24 | normalizedColor >>> 8) >>> 0;
}

// src/prores-profile.ts
var proResProfileOptions = [
  "4444-xq",
  "4444",
  "hq",
  "standard",
  "light",
  "proxy"
];

// src/v5-flag.ts
var ENABLE_V5_BREAKING_CHANGES = false;

// src/validate-frame.ts
var validateFrame = ({
  allowFloats,
  durationInFrames,
  frame
}) => {
  if (typeof frame === "undefined") {
    throw new TypeError(`Argument missing for parameter "frame"`);
  }
  if (typeof frame !== "number") {
    throw new TypeError(`Argument passed for "frame" is not a number: ${frame}`);
  }
  if (!Number.isFinite(frame)) {
    throw new RangeError(`Frame ${frame} is not finite`);
  }
  if (frame % 1 !== 0 && !allowFloats) {
    throw new RangeError(`Argument for frame must be an integer, but got ${frame}`);
  }
  if (frame < 0 && frame < -durationInFrames) {
    throw new RangeError(`Cannot use frame ${frame}: Duration of composition is ${durationInFrames}, therefore the lowest frame that can be rendered is ${-durationInFrames}`);
  }
  if (frame > durationInFrames - 1) {
    throw new RangeError(`Cannot use frame ${frame}: Duration of composition is ${durationInFrames}, therefore the highest frame that can be rendered is ${durationInFrames - 1}`);
  }
};

// src/codec.ts
var validCodecs = [
  "h264",
  "h265",
  "vp8",
  "vp9",
  "mp3",
  "aac",
  "wav",
  "prores",
  "h264-mkv",
  "h264-ts",
  "gif"
];

// src/validation/validate-default-codec.ts
function validateCodec(defaultCodec, location, name) {
  if (typeof defaultCodec === "undefined") {
    return;
  }
  if (typeof defaultCodec !== "string") {
    throw new TypeError(`The "${name}" prop ${location} must be a string, but you passed a value of type ${typeof defaultCodec}.`);
  }
  if (!validCodecs.includes(defaultCodec)) {
    throw new Error(`The "${name}" prop ${location} must be one of ${validCodecs.join(", ")}, but you passed ${defaultCodec}.`);
  }
}

// src/validation/validate-default-props.ts
var validateDefaultAndInputProps = (defaultProps, name, compositionId) => {
  if (!defaultProps) {
    return;
  }
  if (typeof defaultProps !== "object") {
    throw new Error(`"${name}" must be an object, but you passed a value of type ${typeof defaultProps}`);
  }
  if (Array.isArray(defaultProps)) {
    throw new Error(`"${name}" must be an object, an array was passed ${compositionId ? `for composition "${compositionId}"` : ""}`);
  }
};

// src/validation/validate-dimensions.ts
function validateDimension(amount, nameOfProp, location) {
  if (typeof amount !== "number") {
    throw new Error(`The "${nameOfProp}" prop ${location} must be a number, but you passed a value of type ${typeof amount}`);
  }
  if (isNaN(amount)) {
    throw new TypeError(`The "${nameOfProp}" prop ${location} must not be NaN, but is NaN.`);
  }
  if (!Number.isFinite(amount)) {
    throw new TypeError(`The "${nameOfProp}" prop ${location} must be finite, but is ${amount}.`);
  }
  if (amount % 1 !== 0) {
    throw new TypeError(`The "${nameOfProp}" prop ${location} must be an integer, but is ${amount}.`);
  }
  if (amount <= 0) {
    throw new TypeError(`The "${nameOfProp}" prop ${location} must be positive, but got ${amount}.`);
  }
}

// src/validation/validate-duration-in-frames.ts
function validateDurationInFrames(durationInFrames, options) {
  const { allowFloats, component } = options;
  if (typeof durationInFrames === "undefined") {
    throw new Error(`The "durationInFrames" prop ${component} is missing.`);
  }
  if (typeof durationInFrames !== "number") {
    throw new Error(`The "durationInFrames" prop ${component} must be a number, but you passed a value of type ${typeof durationInFrames}`);
  }
  if (durationInFrames <= 0) {
    throw new TypeError(`The "durationInFrames" prop ${component} must be positive, but got ${durationInFrames}.`);
  }
  if (!allowFloats && durationInFrames % 1 !== 0) {
    throw new TypeError(`The "durationInFrames" prop ${component} must be an integer, but got ${durationInFrames}.`);
  }
  if (!Number.isFinite(durationInFrames)) {
    throw new TypeError(`The "durationInFrames" prop ${component} must be finite, but got ${durationInFrames}.`);
  }
}

// src/validation/validate-fps.ts
function validateFps(fps, location, isGif) {
  if (typeof fps !== "number") {
    throw new Error(`"fps" must be a number, but you passed a value of type ${typeof fps} ${location}`);
  }
  if (!Number.isFinite(fps)) {
    throw new Error(`"fps" must be a finite, but you passed ${fps} ${location}`);
  }
  if (isNaN(fps)) {
    throw new Error(`"fps" must not be NaN, but got ${fps} ${location}`);
  }
  if (fps <= 0) {
    throw new TypeError(`"fps" must be positive, but got ${fps} ${location}`);
  }
  if (isGif && fps > 50) {
    throw new TypeError(`The FPS for a GIF cannot be higher than 50. Use the --every-nth-frame option to lower the FPS: https://remotion.dev/docs/render-as-gif`);
  }
}

// src/video/get-current-time.ts
var getExpectedMediaFrameUncorrected = ({
  frame,
  playbackRate,
  startFrom
}) => {
  return interpolate(frame, [-1, startFrom, startFrom + 1], [-1, startFrom, startFrom + playbackRate]);
};

// src/absolute-src.ts
var getAbsoluteSrc = (relativeSrc) => {
  if (typeof window === "undefined") {
    return relativeSrc;
  }
  if (relativeSrc.startsWith("http://") || relativeSrc.startsWith("https://") || relativeSrc.startsWith("file://") || relativeSrc.startsWith("blob:") || relativeSrc.startsWith("data:")) {
    return relativeSrc;
  }
  return new URL(relativeSrc, window.origin).href;
};

// src/video/offthread-video-source.ts
var getOffthreadVideoSource = ({
  src,
  transparent,
  currentTime,
  toneMapped
}) => {
  return `http://localhost:${window.remotion_proxyPort}/proxy?src=${encodeURIComponent(getAbsoluteSrc(src))}&time=${encodeURIComponent(Math.max(0, currentTime))}&transparent=${String(transparent)}&toneMapped=${String(toneMapped)}`;
};

// src/no-react.ts
var NoReactInternals = {
  processColor,
  truthy,
  validateFps,
  validateDimension,
  validateDurationInFrames,
  validateDefaultAndInputProps,
  validateFrame,
  serializeJSONWithSpecialTypes,
  bundleName: "bundle.js",
  bundleMapName: "bundle.js.map",
  deserializeJSONWithSpecialTypes,
  DELAY_RENDER_CALLSTACK_TOKEN,
  DELAY_RENDER_RETRY_TOKEN,
  DELAY_RENDER_CLEAR_TOKEN,
  DELAY_RENDER_ATTEMPT_TOKEN: DELAY_RENDER_RETRIES_LEFT,
  getOffthreadVideoSource,
  getExpectedMediaFrameUncorrected,
  ENABLE_V5_BREAKING_CHANGES,
  MIN_NODE_VERSION: ENABLE_V5_BREAKING_CHANGES ? 18 : 16,
  MIN_BUN_VERSION: ENABLE_V5_BREAKING_CHANGES ? "1.1.3" : "1.0.3",
  colorNames,
  DATE_TOKEN,
  FILE_TOKEN,
  validateCodec,
  proResProfileOptions
};



/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/create fake namespace object */
/******/ 	(() => {
/******/ 		var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);
/******/ 		var leafPrototypes;
/******/ 		// create a fake namespace object
/******/ 		// mode & 1: value is a module id, require it
/******/ 		// mode & 2: merge all properties of value into the ns
/******/ 		// mode & 4: return value when already ns object
/******/ 		// mode & 16: return value when it's Promise-like
/******/ 		// mode & 8|1: behave like require
/******/ 		__webpack_require__.t = function(value, mode) {
/******/ 			if(mode & 1) value = this(value);
/******/ 			if(mode & 8) return value;
/******/ 			if(typeof value === 'object' && value) {
/******/ 				if((mode & 4) && value.__esModule) return value;
/******/ 				if((mode & 16) && typeof value.then === 'function') return value;
/******/ 			}
/******/ 			var ns = Object.create(null);
/******/ 			__webpack_require__.r(ns);
/******/ 			var def = {};
/******/ 			leafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];
/******/ 			for(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {
/******/ 				Object.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));
/******/ 			}
/******/ 			def['default'] = () => (value);
/******/ 			__webpack_require__.d(ns, def);
/******/ 			return ns;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + ".bundle.js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	(() => {
/******/ 		var inProgress = {};
/******/ 		var dataWebpackPrefix = "temp-project:";
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = (url, done, key, chunkId) => {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 		
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = (prev, event) => {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach((fn) => (fn(event)));
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')
/******/ 				scriptUrl = document.currentScript.src;
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) {
/******/ 					var i = scripts.length - 1;
/******/ 					while (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			792: 0
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.f.j = (chunkId, promises) => {
/******/ 				// JSONP chunk loading for javascript
/******/ 				var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 				if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 		
/******/ 					// a Promise means "currently loading".
/******/ 					if(installedChunkData) {
/******/ 						promises.push(installedChunkData[2]);
/******/ 					} else {
/******/ 						if(true) { // all chunks have JS
/******/ 							// setup Promise in chunk cache
/******/ 							var promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));
/******/ 							promises.push(installedChunkData[2] = promise);
/******/ 		
/******/ 							// start chunk loading
/******/ 							var url = __webpack_require__.p + __webpack_require__.u(chunkId);
/******/ 							// create error before stack unwound to get useful stacktrace later
/******/ 							var error = new Error();
/******/ 							var loadingEnded = (event) => {
/******/ 								if(__webpack_require__.o(installedChunks, chunkId)) {
/******/ 									installedChunkData = installedChunks[chunkId];
/******/ 									if(installedChunkData !== 0) installedChunks[chunkId] = undefined;
/******/ 									if(installedChunkData) {
/******/ 										var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 										var realSrc = event && event.target && event.target.src;
/******/ 										error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 										error.name = 'ChunkLoadError';
/******/ 										error.type = errorType;
/******/ 										error.request = realSrc;
/******/ 										installedChunkData[1](error);
/******/ 									}
/******/ 								}
/******/ 							};
/******/ 							__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId, chunkId);
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 		};
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 		
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunktemp_project"] = self["webpackChunktemp_project"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	__webpack_require__(6507);
/******/ 	__webpack_require__(8042);
/******/ 	__webpack_require__(3610);
/******/ 	var __webpack_exports__ = __webpack_require__(3482);
/******/ 	
/******/ })()
;
//# sourceMappingURL=bundle.js.map