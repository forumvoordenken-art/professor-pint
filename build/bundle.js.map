{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;AA2DA;AA1DA;AAgBA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AAGA;AAEA;;;;AC+LA;AApQA;AA2DA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AAIA;AACA;AAAA;AAEA;AACA;AAAA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAIA;AACA;AAAA;AAEA;AACA;AAAA;AAIA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAEA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAGA;AACA;AACA;AAAA;AAIA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AAGA;AAIA;AAIA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAEA;;;;AChQA;AAjDA;AAQA;AACA;AAEA;AAEA;AACA;AAGA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AAGA;AAEA;;;;ACrDA;AAjBA;AAeA;AACA;AACA;AAAA;AAGA;AACA;AAAA;AAGA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAGA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AAGA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAGA;AAGA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAGA;AAGA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAGA;AAGA;AAAA;AACA;AAEA;AAEA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAGA;AAMA;AAKA;AAAA;AACA;AACA;AACA;AACA;AAEA;;;;AC/GA;AArCA;AACA;AAkCA;AACA;AAGA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAJA;AAWA;AAQA;AAKA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AAAA;AAIA;AACA;AAEA;AACA;AAMA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;;;;ACjCA;AAtEA;AAyBA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAOA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAGA;AAAA;AAAA;AAGA;AAaA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AAAA;AAAA;AAGA;AAaA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAOA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAGA;AAAA;AAAA;AAGA;AAYA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAGA;AACA;AAAA;AAAA;AAGA;AASA;AACA;AAGA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AANA;AAOA;AAGA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AALA;AAMA;AAGA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AALA;AAMA;AAGA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAJA;AAKA;AAGA;AAAA;AACA;AAIA;;;;;;AC1YA;AACA;AACA;AACA;AAMA;AACA;AACA;AAGA;AAKA;AACA;AACA;AAKA;AAQA;AACA;AACA;AACA;AAMA;AACA;AACA;AAMA;AACA;AACA;AACA;;;;AC1DA;AAMA;AACA;AAEA;AACA;AACA;AAMA;AAGA;AACA;AACA;AAGA;AAEA;AAGA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AAMA;AAEA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AAKA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;ACrFA;AAYA;AACA;AAGA;AACA;AACA;AAGA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAMA;AAKA;AAEA;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AAIA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AAEA;AACA;AACA;AAMA;AACA;AAEA;AACA;AACA;;;;ACrFA;AAuBA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AAMA;AAKA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AAKA;AACA;AACA;AAOA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAGA;AACA;AAEA;AAAA;AAEA;;;;ACtGA;AANA;AACA;AAGA;AAIA;AAIA;AAAA;AAEA;AACA;AAKA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAGA;;;;ACOA;AAtEA;AACA;AACA;AACA;AACA;AAGA;AAUA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAGA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AAKA;AAGA;AAGA;AAKA;AACA;AAAA;AAGA;AAIA;AAEA;AAAA;AACA;AACA;AACA;AAIA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAGA;AACA;AACA;AAGA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AAIA;AAEA;AAAA;AAEA;AAAA;AACA;AACA;AAIA;AAGA;AAAA;AAGA;AAAA;AAIA;AAAA;AAIA;AAEA;AACA;AACA;AACA;AAiBA;AAEA;AAAA;AAEA;AAEA;AACA;AAEA;AAEA;AAIA;AAGA;AAIA;AAGA;AAIA;AAAA;AACA;AACA;AAIA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AAEA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAIA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AAEA;AAAA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAIA;AAEA;;;;ACpRA;AAvEA;AACA;AACA;AACA;AACA;AAeA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAGA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AAKA;AAGA;AAGA;AAKA;AACA;AAAA;AAGA;AAIA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AAIA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAGA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AAGA;AAAA;AACA;AAGA;AAAA;AACA;AAEA;AACA;AAIA;AAGA;AAAA;AACA;AAGA;AAAA;AACA;AAEA;AACA;AAiBA;AAGA;AAAA;AAGA;AAGA;AAGA;AAGA;AACA;AACA;AACA;AAKA;AAGA;AAKA;AAGA;AAKA;AAAA;AACA;AACA;AAIA;AACA;AACA;AAGA;AAIA;AAEA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AAIA;AAGA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAGA;AAEA;AAMA;AAEA;AAAA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAIA;AAEA;;;;AC5PA;AAzEA;AACA;AACA;AACA;AACA;AAeA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAGA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AAKA;AAGA;AAGA;AAKA;AACA;AAAA;AAGA;AAEA;AAEA;AAAA;AACA;AAEA;AACA;AAIA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAGA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AAIA;AAEA;AAAA;AACA;AAEA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AAEA;AAAA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAiBA;AAGA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAGA;AAGA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAKA;AAGA;AAKA;AAGA;AAKA;AAAA;AACA;AACA;AAIA;AAGA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAMA;AAGA;AAAA;AAEA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAIA;AAEA;;;;AC7NA;AA1EA;AACA;AACA;AACA;AACA;AAeA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAGA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AAKA;AAGA;AAGA;AAKA;AACA;AAAA;AAGA;AAIA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAIA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AAGA;AAGA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAGA;AAIA;AAGA;AAAA;AACA;AAEA;AAGA;AAAA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AAIA;AAGA;AAAA;AACA;AAEA;AAGA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AAiBA;AAGA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAGA;AAGA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAGA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAKA;AAGA;AAKA;AAGA;AAKA;AAAA;AACA;AACA;AAIA;AACA;AACA;AAGA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAMA;AAEA;AAAA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAIA;AAEA;;;;AC3HA;AAxOA;AACA;AACA;AAiBA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAKA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAIA;AAGA;AAAA;AACA;AAGA;AACA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAKA;AAAA;AACA;AACA;AAEA;AAGA;AAAA;AAIA;AAAA;AAEA;AACA;AACA;AACA;AAGA;AACA;AAEA;AAOA;AAAA;AACA;AACA;AAEA;AAGA;AAAA;AACA;AAEA;AAEA;AAEA;AACA;AAOA;AAAA;AACA;AACA;AAEA;AAEA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AAOA;AAAA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AAGA;AAEA;AAOA;AAAA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AACA;AAEA;AAEA;AACA;AAEA;AAGA;AAEA;AACA;AAOA;AAGA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAOA;AAAA;AACA;AACA;AAEA;AAGA;AAAA;AAEA;AAEA;AAEA;AAGA;AAEA;AAGA;AACA;AAGA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AAOA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AAEA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAEA;AACA;AAGA;AACA;AAGA;AACA;AACA;AAGA;AAKA;AAKA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AACA;AAGA;AACA;AAEA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAEA;AAGA;AAEA;AAGA;AACA;AACA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AAEA;AAEA;AAIA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAGA;AAKA;AACA;AACA;AACA;AAGA;AAAA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AACA;AAEA;AAEA;AAGA;AAKA;AAOA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAGA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AAEA;AAGA;AAKA;AAAA;AACA;AACA;AAEA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAQA;AAMA;AACA;AACA;AAEA;AAGA;AAAA;AACA;AAGA;AACA;AAEA;AAGA;AAEA;AACA;AAGA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAKA;AAOA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAFA;AAGA;AAEA;AACA;AAGA;AAKA;AAAA;AACA;AACA;AAEA;AAGA;AAAA;AACA;AAEA;AACA;AAKA;AAAA;AAEA;AAEA;AAEA;AAEA;AAEA;AAOA;AAAA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AAKA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AAEA;AAGA;AACA;AAGA;AACA;AACA;AACA;AAMA;AAGA;AAGA;AACA;AACA;AAGA;AAEA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAGA;AAEA;AAOA;AAGA;AAEA;AAGA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AAOA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AAEA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAMA;AAAA;AACA;AACA;AACA;AAEA;AAKA;AACA;AACA;AACA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAGA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAEA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AACA;AACA;AACA;AAKA;AACA;AAIA;AAAA;AACA;AACA;AAKA;AACA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAFA;AAGA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAHA;AAIA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AASA;AAAA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AAEA;AAOA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAOA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AACA;AAEA;AAIA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAFA;AAEA;AAEA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAEA;;;;ACz7CA;AArDA;AACA;AAQA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AAEA;AAKA;AAAA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAEA;AAGA;AAGA;AAIA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AAEA;AAKA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAIA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AAIA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAGA;AAGA;AAAA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAKA;AAEA;AAAA;AACA;AAEA;AAIA;;;;AC1KA;AA/DA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAuCA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AAEA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AAIA;AAAA;AACA;AACA;AAIA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AAGA;AAAA;AACA;AACA;AAGA;AAAA;AACA;AACA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAEA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAEA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAIA;AAIA;AAKA;AAEA;AAAA;AACA;AACA;AACA;AAGA;AAIA;AAGA;AAGA;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AACA;AAIA;AAIA;AAAA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;ACxjBA;AA7CA;AACA;AACA;AAQA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAGA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAGA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AAIA;AACA;AAIA;AAAA;AACA;AACA;AAIA;AAAA;AACA;AACA;AAIA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AAGA;AAIA;AAAA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAEA;AAGA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;;;;AC/FA;AApEA;AACA;AACA;AAQA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAGA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAGA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AACA;AAEA;AACA;AAIA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAHA;AAIA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AACA;AAEA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AACA;AAEA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AAAA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AAEA;AAKA;AAAA;AACA;AAEA;AAEA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AAGA;AAIA;AAAA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAEA;AAGA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;;;;AC/SA;AA/DA;AACA;AACA;AAQA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAGA;AAAA;AACA;AACA;AACA;AAGA;AAAA;AACA;AACA;AACA;AAGA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;AASA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAKA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;AASA;AAGA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;AASA;AACA;AAIA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;AASA;AAIA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;AASA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;AASA;AAGA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;AASA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAKA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAGA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAKA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAIA;AAGA;AAGA;AAGA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AAGA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAGA;AAGA;AASA;AAEA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAEA;;;;AC3mBA;AAvEA;AACA;AACA;AAQA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAGA;AAIA;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAIA;AAAA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAGA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAGA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAVA;AAWA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;AASA;AAKA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAKA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AAEA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAGA;AAKA;AAAA;AAEA;AAEA;AAEA;AACA;AACA;AAIA;AAGA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AAGA;AAGA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAGA;AAAA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AARA;AAUA;AAGA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;;;;AC5ZA;AAjEA;AACA;AACA;AAQA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAGA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAGA;AAGA;AAIA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AAAA;AACA;AACA;AAEA;AAIA;AAAA;AACA;AACA;AAEA;AAEA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAGA;AAGA;AAIA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AAEA;AACA;AAMA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AAKA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAGA;AAIA;AAAA;AACA;AAIA;AAGA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAIA;AAGA;AAAA;AAEA;AAEA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAIA;;;;ACxRA;AA5DA;AACA;AACA;AAQA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAGA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AAEA;AACA;AAGA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AAAA;AAAA;AAAA;AAAA;AAGA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AAGA;AAGA;AAEA;AAGA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAGA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AAEA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAGA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAEA;AAGA;AAEA;;;;ACzXA;AA3DA;AAyCA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAQA;AACA;AAOA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AAEA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAIA;AAQA;AACA;AAIA;AAAA;AAAA;AACA;AACA;AAAA;AAMA;AAIA;AAGA;AAEA;AACA;AAGA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AAIA;AAGA;AAAA;AACA;AACA;AACA;AAEA;;;;ACtFA;AArFA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AA2CA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAIA;AACA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAGA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AAGA;AAIA;AAKA;AAEA;AAAA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAfA;AAgBA;AAGA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAfA;AAgBA;AAGA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAfA;AAgBA;AAGA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAfA;AAgBA;AAIA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAlBA;AAmBA;AAGA;AAiBA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AAGA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AACA;AAKA;AACA;AACA;AAAA;AAEA;AAAA;AAIA;AAAA;AACA;AAAA;AAAA;AAIA;AAGA;AAEA;AAIA;AACA;AACA;AACA;AAAA;AACA;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAIA;AAGA;AAAA;AAGA;AAOA;AAQA;AAKA;AAGA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AAIA;;;;AC1SA;AAlIA;AAMA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;;;;ACyGA;AA9OA;AAMA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;;;;AC2rBA;AA56BA;AAEA;AAMA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;;;;AC14BA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AACA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AAMA;AACA;AAEA;AAAA;AAGA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAGA;AACA;AAQA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAIA;AACA;AAAA;AAGA;AACA;AAeA;AAIA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAGA;AACA;;;;ACjXA;AA9CA;AACA;AACA;AAsBA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAGA;AAIA;AAIA;AAIA;AAIA;AAIA;AAIA;;;;ACFA;AA1EA;AACA;AACA;AACA;AACA;AAeA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAGA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAGA;AACA;AACA;AAGA;AACA;AAAA;AAGA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAIA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AAGA;AAGA;AACA;AAEA;AAGA;AACA;AAGA;AAGA;AAIA;AAEA;AAAA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AAIA;AAEA;AAAA;AACA;AAEA;AAAA;AACA;AACA;AAiBA;AAGA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAGA;AAKA;AAGA;AAKA;AAGA;AAIA;AAAA;AACA;AACA;AAIA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAMA;AAEA;AAAA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAIA;AAEA;;;;AChMA;AA5EA;AACA;AACA;AACA;AACA;AAeA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAGA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAGA;AACA;AACA;AAGA;AACA;AAAA;AAGA;AAEA;AAGA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAIA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAIA;AAEA;AAAA;AACA;AAEA;AAAA;AACA;AACA;AAIA;AAEA;AAAA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AAiBA;AAGA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAKA;AAGA;AAKA;AAGA;AAIA;AAAA;AACA;AACA;AAIA;AAGA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAMA;AAEA;AAAA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAIA;AAEA;;;;ACnMA;AA3EA;AACA;AACA;AACA;AACA;AAeA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAGA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAGA;AACA;AACA;AAGA;AACA;AAAA;AAGA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AAIA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AAGA;AAEA;AACA;AACA;AAGA;AAGA;AAGA;AAGA;AAIA;AAEA;AAAA;AACA;AAEA;AAAA;AACA;AACA;AAIA;AAEA;AAAA;AACA;AAEA;AAAA;AACA;AACA;AAiBA;AAGA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAGA;AAGA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AAKA;AAGA;AAKA;AAGA;AAIA;AAAA;AACA;AACA;AAIA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAMA;AAEA;AAAA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAIA;AAEA;;;;ACpMA;AAvEA;AACA;AACA;AACA;AACA;AAeA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAGA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAGA;AACA;AACA;AAGA;AACA;AAAA;AAGA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AAIA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AAEA;AAGA;AACA;AACA;AACA;AAGA;AAIA;AAEA;AAAA;AACA;AAEA;AAAA;AACA;AACA;AAIA;AAEA;AAAA;AACA;AAEA;AAAA;AACA;AACA;AAiBA;AAGA;AAAA;AAGA;AACA;AAGA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAKA;AAGA;AAKA;AAGA;AAGA;AAGA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAMA;AAEA;AAAA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAIA;AAEA;;;;ACtLA;AA3EA;AACA;AACA;AACA;AACA;AAeA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAGA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAGA;AACA;AACA;AAGA;AACA;AAAA;AAGA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AAIA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAGA;AAGA;AACA;AAGA;AACA;AAGA;AAGA;AAIA;AAEA;AAAA;AACA;AAEA;AAAA;AACA;AAGA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAIA;AAEA;AAAA;AACA;AAEA;AAAA;AACA;AACA;AAiBA;AAGA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAGA;AAGA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAKA;AAGA;AAKA;AAGA;AAIA;AAAA;AACA;AACA;AAIA;AAGA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAMA;AAEA;AAAA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAIA;AAEA;;;;ACzLA;AAzFA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAyCA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAGA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AANA;AAOA;AAEA;AAGA;AAAA;AAIA;AAAA;AACA;AAEA;AACA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AAEA;AAGA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAHA;AAIA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AAEA;AAEA;AAIA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AAGA;AAAA;AAEA;AACA;AAEA;AAEA;AACA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAJA;AAKA;AAEA;AAGA;AAAA;AACA;AACA;AAEA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;AAGA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AAEA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AAEA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAIA;AAAA;AACA;AACA;AAEA;AAEA;AAEA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAIA;AAAA;AACA;AACA;AAEA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAGA;AAAA;AAEA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAGA;AAAA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAGA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAIA;AAAA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAGA;AAAA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAIA;AAAA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAGA;AAIA;AAGA;AAGA;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AACA;AAIA;AAIA;AAAA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;ACj1BA;AAjIA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAGA;AASA;AAMA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAHA;AAIA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAMA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAKA;AAIA;AACA;AAGA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAKA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AAGA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAKA;AAGA;AAKA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAIA;AAAA;AACA;AACA;AAIA;AAAA;AACA;AACA;AAIA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AAEA;AACA;AAMA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAKA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAKA;AAAA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAKA;AAKA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAJA;AAKA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAKA;AAAA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAKA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AAGA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAOA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AALA;AAMA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AAIA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAGA;AACA;AAMA;AAOA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAOA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAHA;AAGA;AAEA;AAOA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAWA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAGA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AANA;AAOA;AAEA;AACA;AAEA;AAMA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAKA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAFA;AAEA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AACA;AAEA;AACA;AAEA;AAIA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAFA;AAGA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAFA;AAGA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAEA;AAOA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAKA;AAKA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAGA;AAIA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;AAIA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAEA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAKA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAHA;AAKA;AAGA;AAEA;;;;ACx0CA;AApJA;AACA;AACA;AAGA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAGA;AASA;AAMA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAKA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAHA;AAIA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAHA;AAIA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AAGA;AAKA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAKA;AAMA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAKA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAMA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AALA;AAMA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAKA;AAKA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAKA;AAAA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAKA;AAIA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAMA;AAGA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAOA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAJA;AAIA;AAEA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAJA;AAIA;AAEA;AAOA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAEA;AAEA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAEA;AAEA;AAOA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AAEA;AAEA;AAEA;AACA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAMA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAHA;AAKA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAKA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AACA;AAGA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAEA;AAGA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAFA;AAGA;AAGA;AAGA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AAIA;AAGA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AACA;AAEA;AAGA;AAKA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAFA;AAEA;AAEA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAIA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAGA;AACA;AACA;AACA;AAIA;AAAA;AAEA;AAEA;AACA;AAEA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAIA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAGA;AACA;AAKA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAMA;AAQA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAIA;AAAA;AACA;AACA;AACA;AACA;AAOA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAFA;AAGA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAFA;AAGA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAEA;AAQA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AALA;AAKA;AAEA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAHA;AAGA;AAEA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAJA;AAKA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAIA;AAEA;AAIA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAHA;AAKA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAEA;;;;ACx1CA;AArIA;AACA;AACA;AAGA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAGA;AASA;AAQA;AAAA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAEA;AAEA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AAGA;AAEA;AACA;AAMA;AAEA;AAAA;AACA;AAEA;AAGA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAFA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAJA;AAKA;AACA;AACA;AAEA;AAGA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAFA;AAGA;AACA;AACA;AAKA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AAEA;AAEA;AAGA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAKA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AAEA;AAKA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AALA;AAOA;AAKA;AAIA;AAEA;AACA;AAMA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AAGA;AAGA;AAMA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAHA;AAKA;AAMA;AAKA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AALA;AAMA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAKA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAKA;AACA;AAMA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AASA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAHA;AAIA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAHA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAIA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAHA;AAGA;AAEA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAJA;AAKA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAMA;AAIA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAQA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AASA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AAEA;AAEA;AAIA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AAKA;AAEA;AAIA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAHA;AAKA;AAEA;AAIA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAJA;AAMA;AAGA;AAMA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAJA;AAOA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAMA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAFA;AAGA;AAEA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAFA;AAGA;AAEA;AAKA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAFA;AAGA;AACA;AAQA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AACA;AAEA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAJA;AAKA;AAIA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAHA;AAIA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AALA;AAMA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAHA;AAIA;AACA;AAKA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAJA;AAKA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAFA;AAGA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAKA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAIA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAHA;AAGA;AAEA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAHA;AAGA;AAEA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAKA;AAKA;AAAA;AACA;AACA;AAEA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AAIA;AAIA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAFA;AAIA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAEA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAIA;AAEA;AAKA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAJA;AAMA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAIA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAHA;AAIA;AAIA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAKA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAHA;AAKA;AAGA;AAEA;;;;ACh0CA;AA/JA;AACA;AACA;AAGA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAYA;AAGA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAGA;AAKA;AAAA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AAKA;AAEA;AAAA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAKA;AAGA;AACA;AAGA;AAAA;AACA;AAKA;AAAA;AAGA;AACA;AACA;AAEA;AAEA;AAEA;AAGA;AAGA;AAGA;AACA;AACA;AACA;AAGA;AAAA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAEA;AAGA;AAGA;AAGA;AACA;AACA;AAGA;AAAA;AAEA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AAEA;AAGA;AAGA;AAGA;AACA;AACA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAEA;AAKA;AAGA;AAIA;AAAA;AAIA;AAAA;AACA;AACA;AAEA;AAEA;AAKA;AAKA;AAAA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAKA;AAGA;AACA;AACA;AAGA;AAAA;AAEA;AAEA;AAIA;AAIA;AAEA;AAGA;AAGA;AAGA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAEA;AACA;AAGA;AAGA;AAGA;AACA;AAGA;AAAA;AACA;AAEA;AAIA;AAEA;AACA;AAGA;AAGA;AAKA;AAAA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AAKA;AAAA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AAKA;AAKA;AACA;AAKA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AAEA;AACA;AAQA;AAAA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AAGA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AAEA;AAEA;AAEA;AACA;AAGA;AACA;AAGA;AACA;AAIA;AAAA;AACA;AAEA;AACA;AAOA;AAAA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAOA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAIA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AAEA;AACA;AAOA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AAGA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAKA;AAGA;AACA;AACA;AACA;AAMA;AAAA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AAOA;AAAA;AAEA;AAEA;AACA;AAOA;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AACA;AAEA;AACA;AAEA;AAGA;AACA;AACA;AACA;AAGA;AACA;AACA;AAOA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAFA;AAGA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AAEA;AAEA;AACA;AAOA;AAEA;AAAA;AAEA;AAEA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AAEA;AACA;AAIA;AAAA;AACA;AAEA;AACA;AACA;AAKA;AAKA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AAGA;AAAA;AACA;AAEA;AACA;AACA;AAGA;AAQA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAFA;AAEA;AAGA;AAQA;AACA;AACA;AACA;AACA;AAGA;AAAA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAIA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAGA;AAQA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAFA;AAEA;AAEA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AAIA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAEA;AAEA;AACA;AAIA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAEA;AACA;AAEA;AACA;AAOA;AAAA;AACA;AAEA;AAEA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAEA;AAEA;AAGA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAEA;AACA;AAGA;AAIA;AAAA;AACA;AACA;AACA;AAEA;AAEA;AAGA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAOA;AAEA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAOA;AAAA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAFA;AAEA;AAEA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAHA;AAGA;AAEA;AAKA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAGA;AACA;AACA;AAEA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAKA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAEA;AAEA;AACA;AAEA;AAKA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AAEA;AAEA;AACA;AACA;AACA;AAIA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAKA;AAOA;AAAA;AAGA;AAGA;AAGA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAGA;AAEA;;;;AC/zCA;AAjLA;AACA;AACA;AAGA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AAGA;AAEA;AAaA;AAOA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;AAQA;AAEA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;AAQA;AAEA;AACA;AAEA;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;AAQA;AAEA;AACA;AAEA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AANA;AAOA;AAEA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAMA;AAQA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAIA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAKA;AAEA;AAIA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAGA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;AASA;AACA;AACA;AACA;AAIA;AACA;AACA;AAGA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAIA;AACA;AACA;AAGA;AAAA;AAEA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAKA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;AASA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAGA;AACA;AAGA;AAAA;AAEA;AACA;AACA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AAGA;AAMA;AAQA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAMA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAKA;AACA;AAKA;AAAA;AACA;AACA;AAGA;AAMA;AAQA;AAEA;AAGA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAEA;AAKA;AACA;AAEA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AAEA;AACA;AACA;AACA;AAKA;AAMA;AAOA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAIA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAMA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;AASA;AAGA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;AASA;AAEA;AACA;AACA;AAIA;AAMA;AAOA;AAEA;AAGA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAKA;AAMA;AAOA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAGA;AACA;AAGA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AAEA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAIA;AAAA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AAMA;AAOA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AACA;AAGA;AACA;AAEA;AAGA;AAIA;AAAA;AAEA;AACA;AAEA;AACA;AAGA;AAMA;AAAA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAKA;AAGA;AAKA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAKA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AAIA;AAAA;AACA;AACA;AAOA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAKA;AAAA;AACA;AACA;AAGA;AACA;AAEA;AACA;AAIA;AACA;AACA;AAEA;AAGA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAKA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAbA;AAcA;AAEA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AANA;AAOA;AAGA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AANA;AAQA;AAGA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AAOA;AACA;AAGA;AACA;AACA;AAOA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AACA;AACA;AAIA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;AAQA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAGA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAOA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAEA;AAKA;AAOA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAXA;AAYA;AAEA;AAGA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAOA;AAAA;AAGA;AAGA;AAGA;AAIA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;AASA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAJA;AAKA;AAEA;AAGA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAJA;AAKA;AAEA;AAEA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AANA;AAOA;AAEA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AANA;AAOA;AAEA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAEA;;;;ACroDA;AA3JA;AACA;AACA;AACA;AAYA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAEA;AAeA;AAQA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAGA;AAKA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AALA;AAOA;AAEA;AAGA;AAGA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAQA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AAAA;AAJA;AAKA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAQA;AAOA;AACA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAFA;AAGA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAGA;AACA;AACA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AAQA;AAOA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAKA;AAAA;AAEA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAIA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAQA;AAOA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAGA;AAQA;AAOA;AACA;AAEA;AAGA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAQA;AAOA;AACA;AAEA;AAGA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AACA;AACA;AACA;AAIA;AAQA;AAQA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAGA;AAOA;AAMA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAGA;AAOA;AAKA;AAGA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAGA;AAOA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAGA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AAAA;AAJA;AASA;AAQA;AAOA;AACA;AAEA;AAGA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AAOA;AAOA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAHA;AAKA;AAIA;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAQA;AAOA;AACA;AAEA;AAGA;AAAA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAKA;AAAA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AAKA;AAKA;AAKA;AACA;AAOA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AACA;AACA;AACA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAHA;AAKA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAGA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAGA;AACA;AAMA;AAOA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AAGA;AACA;AACA;AACA;AAGA;AACA;AAGA;AACA;AACA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAMA;AAAA;AACA;AACA;AAGA;AAMA;AAAA;AACA;AACA;AAGA;AAMA;AAAA;AACA;AAGA;AAMA;AAAA;AACA;AAGA;AAGA;AACA;AACA;AACA;AACA;AAGA;AAAA;AACA;AACA;AACA;AAEA;AAIA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAGA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;;;;AC1iDA;AArCA;AACA;AACA;AACA;AAMA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAMA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAKA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAIA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;;;;ACrYA;AACA;AAEA;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AChrfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACjNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC7hBA;AACA;AACA;AACA;AACA;;;;;;;;ACJA;AACA;AACA;AACA;AACA;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACnVA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA8CA;;;;;;;;;;;;;;AC7nQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;;;;;;;ACxrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACRA;AACA;AACA;AACA;AACA;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AErFA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["./src/systems/Camera.tsx","./src/systems/CameraPath.tsx","./src/systems/Subtitles.tsx","./src/systems/Transitions.tsx","./src/systems/AudioSync.tsx","./src/systems/Overlays.tsx","./src/animations/easing.ts","./src/animations/idle.ts","./src/animations/talking.ts","./src/animations/emotions.ts","./src/props/PintGlass.tsx","./src/characters/ProfessorPint.tsx","./src/characters/AverageJoe.tsx","./src/characters/Pharaoh.tsx","./src/characters/Worker.tsx","./src/backgrounds/Pub.tsx","./src/backgrounds/Classroom.tsx","./src/crowds/CrowdWorkers.tsx","./src/backgrounds/Pyramids.tsx","./src/backgrounds/DesertConstruction.tsx","./src/backgrounds/InsidePyramid.tsx","./src/backgrounds/NileRiver.tsx","./src/backgrounds/WorkersVillage.tsx","./src/backgrounds/SphinxView.tsx","./src/systems/MusicSFX.tsx","./src/systems/SceneRenderer.tsx","./src/compositions/DemoVideo.tsx","./src/compositions/DialogueDemo.tsx","./src/compositions/PyramidsOfGiza.tsx","./src/pipeline/ScriptGenerator.ts","./src/compositions/PipelineVideo.tsx","./src/characters/WallStreetBroker.tsx","./src/characters/CryptoBro.tsx","./src/characters/Banker.tsx","./src/characters/MarketVendor.tsx","./src/characters/TaxAdvisor.tsx","./src/crowds/AztecCrowd.tsx","./src/backgrounds/BattleScene.tsx","./src/backgrounds/Tenochtitlan.tsx","./src/backgrounds/AztecMarket.tsx","./src/backgrounds/AztecSacrifice.tsx","./src/backgrounds/Chinampas.tsx","./src/backgrounds/AztecPlague.tsx","./src/Root.tsx","./src/index.ts","./node_modules/@remotion/bundler/dist/setup-environment.js","./node_modules/@remotion/bundler/react-shim.js","./node_modules/react-dom/cjs/react-dom-client.production.js","./node_modules/react-dom/cjs/react-dom.production.js","./node_modules/react-dom/client.js","./node_modules/react-dom/index.js","./node_modules/react/cjs/react-jsx-runtime.production.js","./node_modules/react/cjs/react.production.js","./node_modules/react/index.js","./node_modules/react/jsx-runtime.js","./node_modules/scheduler/cjs/scheduler.production.js","./node_modules/scheduler/index.js","./node_modules/@remotion/studio/dist/esm/renderEntry.mjs","./node_modules/remotion/dist/esm/index.mjs","./node_modules/remotion/dist/esm/no-react.mjs","webpack/bootstrap","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/ensure chunk","webpack/runtime/get javascript chunk filename","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/load script","webpack/runtime/make namespace object","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/before-startup","webpack/startup","webpack/after-startup"],"sourcesContent":["import React from 'react';\nimport { useCurrentFrame, interpolate, Easing } from 'remotion';\n\ninterface CameraProps {\n  children: React.ReactNode;\n  x?: number;\n  y?: number;\n  zoom?: number;\n  startFrame?: number;\n  transitionDuration?: number;\n  previousX?: number;\n  previousY?: number;\n  previousZoom?: number;\n  width?: number;\n  height?: number;\n}\n\nexport const Camera: React.FC<CameraProps> = ({\n  children,\n  x = 0,\n  y = 0,\n  zoom = 1,\n  startFrame = 0,\n  transitionDuration = 30,\n  previousX = 0,\n  previousY = 0,\n  previousZoom = 1,\n  width = 1920,\n  height = 1080,\n}) => {\n  const frame = useCurrentFrame();\n\n  const progress = interpolate(\n    frame,\n    [startFrame, startFrame + transitionDuration],\n    [0, 1],\n    {\n      extrapolateLeft: 'clamp',\n      extrapolateRight: 'clamp',\n      easing: Easing.out(Easing.cubic),\n    }\n  );\n\n  const currentX = interpolate(progress, [0, 1], [previousX, x]);\n  const currentY = interpolate(progress, [0, 1], [previousY, y]);\n  const currentZoom = interpolate(progress, [0, 1], [previousZoom, zoom]);\n\n  const centerX = width / 2;\n  const centerY = height / 2;\n\n  return (\n    <div\n      style={{\n        width,\n        height,\n        overflow: 'hidden',\n        position: 'relative',\n      }}\n    >\n      <div\n        style={{\n          transform: `translate(${centerX}px, ${centerY}px) scale(${currentZoom}) translate(${-centerX - currentX}px, ${-centerY - currentY}px)`,\n          transformOrigin: '0 0',\n          width,\n          height,\n          position: 'absolute',\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default Camera;","// CameraPath: Keyframe-based camera movement WITHIN a scene\n// Replaces static camera positions with smooth animated paths\n// Includes character tracking to keep subjects in frame\n\nimport React from 'react';\nimport { useCurrentFrame, interpolate, Easing } from 'remotion';\n\n// ---- Types ----\n\nexport interface CameraKeyframe {\n  /** Frame offset from scene start (0 = start of scene) */\n  frame: number;\n  x: number;\n  y: number;\n  zoom: number;\n}\n\nexport interface CameraPathData {\n  keyframes: CameraKeyframe[];\n  /** Character tracking: keep this character centered if set */\n  trackCharacter?: string;\n  /** How much to offset tracking (e.g., keep character on left third) */\n  trackOffsetX?: number;\n  trackOffsetY?: number;\n}\n\nexport interface CameraPathProps {\n  children: React.ReactNode;\n  /** Camera path definition */\n  path?: CameraPathData;\n  /** Fallback static camera (used if no path defined) */\n  x?: number;\n  y?: number;\n  zoom?: number;\n  /** Scene timing */\n  sceneStart: number;\n  sceneEnd: number;\n  /** Previous scene's camera for smooth entry */\n  previousX?: number;\n  previousY?: number;\n  previousZoom?: number;\n  /** Character positions for tracking */\n  characterPositions?: Array<{ id: string; x: number; y: number }>;\n  /** Canvas dimensions */\n  width?: number;\n  height?: number;\n}\n\n// ---- Preset camera paths ----\n\nexport type CameraPreset =\n  | 'static'\n  | 'slowZoomIn'\n  | 'slowZoomOut'\n  | 'panLeftToRight'\n  | 'panRightToLeft'\n  | 'tiltDown'\n  | 'tiltUp'\n  | 'establishingShot'    // wide  zoom to character\n  | 'dramaticZoom'        // fast zoom to close-up\n  | 'followCharacter'     // tracks character position\n  | 'sweepingPan'         // wide panoramic sweep\n  | 'revealDown';         // starts high, reveals scene\n\nexport const CAMERA_PRESETS: Record<CameraPreset, (sceneDuration: number) => CameraPathData> = {\n  static: () => ({\n    keyframes: [{ frame: 0, x: 0, y: 0, zoom: 1 }],\n  }),\n  slowZoomIn: (dur) => ({\n    keyframes: [\n      { frame: 0, x: 0, y: 0, zoom: 1 },\n      { frame: dur, x: 0, y: -30, zoom: 1.3 },\n    ],\n  }),\n  slowZoomOut: (dur) => ({\n    keyframes: [\n      { frame: 0, x: 0, y: -20, zoom: 1.3 },\n      { frame: dur, x: 0, y: 0, zoom: 1 },\n    ],\n  }),\n  panLeftToRight: (dur) => ({\n    keyframes: [\n      { frame: 0, x: -200, y: 0, zoom: 1.15 },\n      { frame: dur, x: 200, y: 0, zoom: 1.15 },\n    ],\n  }),\n  panRightToLeft: (dur) => ({\n    keyframes: [\n      { frame: 0, x: 200, y: 0, zoom: 1.15 },\n      { frame: dur, x: -200, y: 0, zoom: 1.15 },\n    ],\n  }),\n  tiltDown: (dur) => ({\n    keyframes: [\n      { frame: 0, x: 0, y: -120, zoom: 1.2 },\n      { frame: dur, x: 0, y: 60, zoom: 1.2 },\n    ],\n  }),\n  tiltUp: (dur) => ({\n    keyframes: [\n      { frame: 0, x: 0, y: 60, zoom: 1.2 },\n      { frame: dur, x: 0, y: -120, zoom: 1.2 },\n    ],\n  }),\n  establishingShot: (dur) => ({\n    keyframes: [\n      { frame: 0, x: 0, y: 0, zoom: 1 },\n      { frame: Math.floor(dur * 0.3), x: 0, y: 0, zoom: 1 },\n      { frame: dur, x: 50, y: -20, zoom: 1.4 },\n    ],\n  }),\n  dramaticZoom: (dur) => ({\n    keyframes: [\n      { frame: 0, x: 0, y: 0, zoom: 1.1 },\n      { frame: Math.floor(dur * 0.6), x: 0, y: 0, zoom: 1.1 },\n      { frame: Math.floor(dur * 0.8), x: 0, y: -30, zoom: 1.6 },\n      { frame: dur, x: 0, y: -30, zoom: 1.6 },\n    ],\n  }),\n  followCharacter: (dur) => ({\n    keyframes: [\n      { frame: 0, x: 0, y: 0, zoom: 1.2 },\n      { frame: dur, x: 0, y: 0, zoom: 1.2 },\n    ],\n    trackCharacter: 'professorPint',\n    trackOffsetX: 0,\n    trackOffsetY: -40,\n  }),\n  sweepingPan: (dur) => ({\n    keyframes: [\n      { frame: 0, x: -300, y: -50, zoom: 1.1 },\n      { frame: Math.floor(dur * 0.5), x: 0, y: 0, zoom: 1.15 },\n      { frame: dur, x: 300, y: -50, zoom: 1.1 },\n    ],\n  }),\n  revealDown: (dur) => ({\n    keyframes: [\n      { frame: 0, x: 0, y: -200, zoom: 1.3 },\n      { frame: Math.floor(dur * 0.7), x: 0, y: 0, zoom: 1.15 },\n      { frame: dur, x: 0, y: 0, zoom: 1.15 },\n    ],\n  }),\n};\n\n// ---- Interpolation helper ----\n\nconst interpolateKeyframes = (\n  keyframes: CameraKeyframe[],\n  frameInScene: number,\n): { x: number; y: number; zoom: number } => {\n  if (keyframes.length === 0) {\n    return { x: 0, y: 0, zoom: 1 };\n  }\n  if (keyframes.length === 1) {\n    return { x: keyframes[0].x, y: keyframes[0].y, zoom: keyframes[0].zoom };\n  }\n\n  // Find the two keyframes we're between\n  let kfBefore = keyframes[0];\n  let kfAfter = keyframes[keyframes.length - 1];\n\n  for (let i = 0; i < keyframes.length - 1; i++) {\n    if (frameInScene >= keyframes[i].frame && frameInScene <= keyframes[i + 1].frame) {\n      kfBefore = keyframes[i];\n      kfAfter = keyframes[i + 1];\n      break;\n    }\n  }\n\n  // Clamp to first/last keyframe\n  if (frameInScene <= kfBefore.frame) {\n    return { x: kfBefore.x, y: kfBefore.y, zoom: kfBefore.zoom };\n  }\n  if (frameInScene >= kfAfter.frame) {\n    return { x: kfAfter.x, y: kfAfter.y, zoom: kfAfter.zoom };\n  }\n\n  // Interpolate between keyframes\n  const range = kfAfter.frame - kfBefore.frame;\n  const progress = (frameInScene - kfBefore.frame) / range;\n  const eased = Easing.out(Easing.cubic)(progress);\n\n  return {\n    x: kfBefore.x + (kfAfter.x - kfBefore.x) * eased,\n    y: kfBefore.y + (kfAfter.y - kfBefore.y) * eased,\n    zoom: kfBefore.zoom + (kfAfter.zoom - kfBefore.zoom) * eased,\n  };\n};\n\n// ---- CameraPath Component ----\n\nexport const CameraPath: React.FC<CameraPathProps> = ({\n  children,\n  path,\n  x = 0,\n  y = 0,\n  zoom = 1,\n  sceneStart,\n  sceneEnd,\n  previousX = 0,\n  previousY = 0,\n  previousZoom = 1,\n  characterPositions = [],\n  width = 1920,\n  height = 1080,\n}) => {\n  const frame = useCurrentFrame();\n  const frameInScene = frame - sceneStart;\n\n  // Entry transition (smooth from previous scene's camera)\n  const entryDuration = 28;\n  const entryProgress = interpolate(\n    frameInScene,\n    [0, entryDuration],\n    [0, 1],\n    { extrapolateLeft: 'clamp', extrapolateRight: 'clamp', easing: Easing.out(Easing.cubic) }\n  );\n\n  let targetX: number;\n  let targetY: number;\n  let targetZoom: number;\n\n  if (path && path.keyframes.length > 0) {\n    // Use keyframe-based path\n    const kfResult = interpolateKeyframes(path.keyframes, frameInScene);\n    targetX = kfResult.x;\n    targetY = kfResult.y;\n    targetZoom = kfResult.zoom;\n\n    // Apply character tracking offset\n    if (path.trackCharacter && characterPositions.length > 0) {\n      const tracked = characterPositions.find(c => c.id === path.trackCharacter);\n      if (tracked) {\n        const centerX = width / 2;\n        const centerY = height / 2;\n        const offsetX = (tracked.x - centerX) * 0.3;\n        const offsetY = (tracked.y - centerY) * 0.3;\n        targetX += offsetX + (path.trackOffsetX ?? 0);\n        targetY += offsetY + (path.trackOffsetY ?? 0);\n      }\n    }\n  } else {\n    // Fallback: static camera position\n    targetX = x;\n    targetY = y;\n    targetZoom = zoom;\n  }\n\n  // Blend from previous camera during entry\n  const currentX = previousX + (targetX - previousX) * entryProgress;\n  const currentY = previousY + (targetY - previousY) * entryProgress;\n  const currentZoom = previousZoom + (targetZoom - previousZoom) * entryProgress;\n\n  const centerX = width / 2;\n  const centerY = height / 2;\n\n  return (\n    <div\n      style={{\n        width,\n        height,\n        overflow: 'hidden',\n        position: 'relative',\n      }}\n    >\n      <div\n        style={{\n          transform: `translate(${centerX}px, ${centerY}px) scale(${currentZoom}) translate(${-centerX - currentX}px, ${-centerY - currentY}px)`,\n          transformOrigin: '0 0',\n          width,\n          height,\n          position: 'absolute',\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n\n// ---- Helper: suggest camera preset for beat type ----\n\nexport const suggestCameraPreset = (\n  beatType: string,\n  sceneIndex: number,\n): CameraPreset => {\n  switch (beatType) {\n    case 'intro':\n      return 'establishingShot';\n    case 'hook':\n      return sceneIndex % 2 === 0 ? 'slowZoomIn' : 'panLeftToRight';\n    case 'explain':\n      return sceneIndex % 3 === 0 ? 'tiltDown' : sceneIndex % 3 === 1 ? 'slowZoomIn' : 'panRightToLeft';\n    case 'example':\n      return sceneIndex % 2 === 0 ? 'sweepingPan' : 'panLeftToRight';\n    case 'revelation':\n      return 'dramaticZoom';\n    case 'recap':\n      return 'slowZoomOut';\n    case 'outro':\n      return 'slowZoomOut';\n    default:\n      return 'slowZoomIn';\n  }\n};\n\nexport default CameraPath;\n","import React from 'react';\nimport { useCurrentFrame, interpolate, Easing } from 'remotion';\n\ninterface SubtitleProps {\n  text: string;\n  startFrame: number;\n  endFrame: number;\n}\n\nexport const Subtitles: React.FC<SubtitleProps> = ({ text, startFrame, endFrame }) => {\n  const frame = useCurrentFrame();\n\n  if (frame < startFrame || frame > endFrame || !text) return null;\n\n  const localFrame = frame - startFrame;\n  const duration = endFrame - startFrame;\n\n  // Fade in over 8 frames, fade out over 8 frames\n  const opacity = interpolate(\n    localFrame,\n    [0, 8, duration - 8, duration],\n    [0, 1, 1, 0],\n    { extrapolateLeft: 'clamp', extrapolateRight: 'clamp' }\n  );\n\n  // Slight slide up on entrance\n  const translateY = interpolate(\n    localFrame,\n    [0, 8],\n    [10, 0],\n    {\n      extrapolateLeft: 'clamp',\n      extrapolateRight: 'clamp',\n      easing: Easing.out(Easing.cubic),\n    }\n  );\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        bottom: 80,\n        left: 0,\n        right: 0,\n        display: 'flex',\n        justifyContent: 'center',\n        opacity,\n        transform: `translateY(${translateY}px)`,\n      }}\n    >\n      <div\n        style={{\n          backgroundColor: 'rgba(0, 0, 0, 0.75)',\n          color: '#FFFFFF',\n          fontSize: 36,\n          fontFamily: \"'Segoe UI', 'Helvetica Neue', Arial, sans-serif\",\n          fontWeight: 600,\n          padding: '12px 32px',\n          borderRadius: 8,\n          maxWidth: '80%',\n          textAlign: 'center',\n          lineHeight: 1.4,\n          letterSpacing: 0.5,\n        }}\n      >\n        {text}\n      </div>\n    </div>\n  );\n};\n\nexport default Subtitles;\n","import React from 'react';\nimport { AbsoluteFill, interpolate, Easing } from 'remotion';\n\nexport type TransitionType = 'crossfade' | 'wipe' | 'zoomIn' | 'slide' | 'iris' | 'none';\n\ninterface TransitionProps {\n  type: TransitionType;\n  /** Progress from 0 (start of transition) to 1 (fully transitioned) */\n  progress: number;\n  children: React.ReactNode;\n}\n\n/**\n * Wraps outgoing or incoming scene content and applies the transition effect.\n * Use for the INCOMING scene (progress 01 means scene fading/sliding IN).\n */\nexport const Transition: React.FC<TransitionProps> = ({ type, progress, children }) => {\n  if (type === 'none' || progress >= 1) {\n    return <AbsoluteFill>{children}</AbsoluteFill>;\n  }\n\n  if (progress <= 0) {\n    return null;\n  }\n\n  switch (type) {\n    case 'crossfade':\n      return <CrossfadeTransition progress={progress}>{children}</CrossfadeTransition>;\n    case 'wipe':\n      return <WipeTransition progress={progress}>{children}</WipeTransition>;\n    case 'zoomIn':\n      return <ZoomInTransition progress={progress}>{children}</ZoomInTransition>;\n    case 'slide':\n      return <SlideTransition progress={progress}>{children}</SlideTransition>;\n    case 'iris':\n      return <IrisTransition progress={progress}>{children}</IrisTransition>;\n    default:\n      return <AbsoluteFill>{children}</AbsoluteFill>;\n  }\n};\n\n/** Opacity crossfade */\nconst CrossfadeTransition: React.FC<{ progress: number; children: React.ReactNode }> = ({\n  progress,\n  children,\n}) => {\n  const opacity = interpolate(progress, [0, 1], [0, 1], {\n    easing: Easing.out(Easing.cubic),\n  });\n  return <AbsoluteFill style={{ opacity }}>{children}</AbsoluteFill>;\n};\n\n/** Horizontal wipe from left to right */\nconst WipeTransition: React.FC<{ progress: number; children: React.ReactNode }> = ({\n  progress,\n  children,\n}) => {\n  const clipPercent = interpolate(progress, [0, 1], [0, 100], {\n    easing: Easing.out(Easing.cubic),\n  });\n  return (\n    <AbsoluteFill\n      style={{\n        clipPath: `inset(0 ${100 - clipPercent}% 0 0)`,\n      }}\n    >\n      {children}\n    </AbsoluteFill>\n  );\n};\n\n/** Zoom in from center */\nconst ZoomInTransition: React.FC<{ progress: number; children: React.ReactNode }> = ({\n  progress,\n  children,\n}) => {\n  const scale = interpolate(progress, [0, 1], [0.6, 1], {\n    easing: Easing.out(Easing.cubic),\n  });\n  const opacity = interpolate(progress, [0, 0.3], [0, 1], {\n    extrapolateRight: 'clamp',\n  });\n  return (\n    <AbsoluteFill\n      style={{\n        transform: `scale(${scale})`,\n        transformOrigin: 'center center',\n        opacity,\n      }}\n    >\n      {children}\n    </AbsoluteFill>\n  );\n};\n\n/** Slide in from right */\nconst SlideTransition: React.FC<{ progress: number; children: React.ReactNode }> = ({\n  progress,\n  children,\n}) => {\n  const translateX = interpolate(progress, [0, 1], [100, 0], {\n    easing: Easing.out(Easing.cubic),\n  });\n  return (\n    <AbsoluteFill\n      style={{\n        transform: `translateX(${translateX}%)`,\n      }}\n    >\n      {children}\n    </AbsoluteFill>\n  );\n};\n\n/** Circular iris reveal from center */\nconst IrisTransition: React.FC<{ progress: number; children: React.ReactNode }> = ({\n  progress,\n  children,\n}) => {\n  // Circle radius grows from 0% to ~142% (diagonal of screen)\n  const radius = interpolate(progress, [0, 1], [0, 142], {\n    easing: Easing.out(Easing.cubic),\n  });\n  return (\n    <AbsoluteFill\n      style={{\n        clipPath: `circle(${radius}% at 50% 50%)`,\n      }}\n    >\n      {children}\n    </AbsoluteFill>\n  );\n};\n\n/**\n * Calculate transition progress given frame timing.\n * Returns 0 before transition, 0-1 during, 1 after.\n */\nexport const getTransitionProgress = (\n  frame: number,\n  transitionStartFrame: number,\n  transitionDuration: number,\n): number => {\n  return interpolate(\n    frame,\n    [transitionStartFrame, transitionStartFrame + transitionDuration],\n    [0, 1],\n    { extrapolateLeft: 'clamp', extrapolateRight: 'clamp' },\n  );\n};\n","import React from 'react';\nimport { Audio, useCurrentFrame, staticFile } from 'remotion';\nimport { getMouthShapeFromPhonemes } from '../animations/talking';\nimport type { MouthShape } from '../animations/talking';\n\n// ---- Types ----\n\nexport interface PhonemeData {\n  time: number; // seconds\n  phoneme: string;\n}\n\nexport interface AudioSegment {\n  /** Character ID this audio belongs to */\n  characterId: string;\n  /** Start frame in the composition */\n  startFrame: number;\n  /** Audio file path (relative to public/) */\n  audioFile: string;\n  /** Phoneme timestamps from ElevenLabs */\n  phonemes: PhonemeData[];\n}\n\n// ---- Audio Player Component ----\n\ninterface AudioPlayerProps {\n  /** Audio segments to play */\n  segments: AudioSegment[];\n  /** Volume (0-1) */\n  volume?: number;\n}\n\n/**\n * Renders <Audio> components for each audio segment at the correct frame offset.\n * Place this inside a Remotion composition.\n */\nexport const AudioPlayer: React.FC<AudioPlayerProps> = ({ segments, volume = 1 }) => {\n  return (\n    <>\n      {segments.map((segment, i) => (\n        <Audio\n          key={`audio-${segment.characterId}-${i}`}\n          src={staticFile(segment.audioFile)}\n          startFrom={0}\n          endAt={Infinity}\n          volume={volume}\n          // Remotion's Sequence-like behavior via from prop not available on Audio,\n          // so we handle timing via the segment's startFrame in the parent Sequence\n        />\n      ))}\n    </>\n  );\n};\n\n// ---- Phoneme-based lip sync hooks ----\n\n/**\n * Get the current mouth shape for a character based on phoneme data.\n * Call this from within a Remotion composition.\n */\nexport const useLipSync = (\n  segments: AudioSegment[],\n  characterId: string,\n  fps: number = 30,\n): { mouthShape: MouthShape; isTalking: boolean } => {\n  const frame = useCurrentFrame();\n\n  // Find active segment for this character\n  const activeSegment = segments.find((seg) => {\n    if (seg.characterId !== characterId) return false;\n    if (seg.phonemes.length === 0) return false;\n    const lastPhonemeTime = seg.phonemes[seg.phonemes.length - 1].time;\n    const segEndFrame = seg.startFrame + Math.ceil(lastPhonemeTime * fps) + fps; // +1s buffer\n    return frame >= seg.startFrame && frame <= segEndFrame;\n  });\n\n  if (!activeSegment) {\n    return { mouthShape: 0, isTalking: false };\n  }\n\n  // Offset frame relative to segment start\n  const relativeFrame = frame - activeSegment.startFrame;\n  const mouthShape = getMouthShapeFromPhonemes(relativeFrame, fps, activeSegment.phonemes);\n\n  return { mouthShape, isTalking: mouthShape > 0 };\n};\n\n/**\n * Determine if a character should be marked as \"talking\" at the current frame.\n * Simpler version that just checks if we're within an audio segment's time range.\n */\nexport const isTalkingAtFrame = (\n  segments: AudioSegment[],\n  characterId: string,\n  frame: number,\n  fps: number = 30,\n): boolean => {\n  return segments.some((seg) => {\n    if (seg.characterId !== characterId) return false;\n    if (seg.phonemes.length === 0) return false;\n    const lastPhonemeTime = seg.phonemes[seg.phonemes.length - 1].time;\n    const segEndFrame = seg.startFrame + Math.ceil(lastPhonemeTime * fps);\n    return frame >= seg.startFrame && frame <= segEndFrame;\n  });\n};\n","import React from 'react';\nimport { useCurrentFrame, interpolate, Easing } from 'remotion';\n\n// ---- Types ----\n\nexport type OverlayType = 'statCard' | 'barChart' | 'factBox' | 'topicCard';\n\nexport interface OverlayData {\n  type: OverlayType;\n  startFrame: number;\n  endFrame: number;\n  props: Record<string, unknown>;\n}\n\n// ---- Stat Card ----\n// Shows a big number + label, e.g. \"7.2%\" / \"Average Annual Return\"\n\ninterface StatCardProps {\n  value: string;\n  label: string;\n  startFrame: number;\n  endFrame: number;\n  position?: 'left' | 'right' | 'center';\n  color?: string;\n}\n\nexport const StatCard: React.FC<StatCardProps> = ({\n  value,\n  label,\n  startFrame,\n  endFrame,\n  position = 'right',\n  color = '#D4A012',\n}) => {\n  const frame = useCurrentFrame();\n  if (frame < startFrame || frame > endFrame) return null;\n\n  const localFrame = frame - startFrame;\n  const duration = endFrame - startFrame;\n  const fadeIn = 12;\n  const fadeOut = 10;\n\n  const opacity = interpolate(\n    localFrame,\n    [0, fadeIn, duration - fadeOut, duration],\n    [0, 1, 1, 0],\n    { extrapolateLeft: 'clamp', extrapolateRight: 'clamp' },\n  );\n\n  const scale = interpolate(\n    localFrame,\n    [0, fadeIn],\n    [0.8, 1],\n    { extrapolateLeft: 'clamp', extrapolateRight: 'clamp', easing: Easing.out(Easing.back(1.5)) },\n  );\n\n  const slideX = interpolate(\n    localFrame,\n    [0, fadeIn],\n    [position === 'left' ? -60 : position === 'right' ? 60 : 0, 0],\n    { extrapolateLeft: 'clamp', extrapolateRight: 'clamp', easing: Easing.out(Easing.cubic) },\n  );\n\n  const posStyle: React.CSSProperties =\n    position === 'left'\n      ? { left: 80, top: 160 }\n      : position === 'right'\n        ? { right: 80, top: 160 }\n        : { left: '50%', top: 160, transform: `translateX(-50%) scale(${scale}) translateX(${slideX}px)` };\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        ...posStyle,\n        opacity,\n        transform: posStyle.transform ?? `scale(${scale}) translateX(${slideX}px)`,\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\n        borderLeft: `4px solid ${color}`,\n        borderRadius: 8,\n        padding: '20px 32px',\n        minWidth: 200,\n      }}\n    >\n      <div style={{ color, fontSize: 64, fontWeight: 800, fontFamily: \"'Segoe UI', sans-serif\", lineHeight: 1 }}>\n        {value}\n      </div>\n      <div style={{ color: 'rgba(255,255,255,0.7)', fontSize: 22, fontWeight: 500, marginTop: 8, fontFamily: \"'Segoe UI', sans-serif\" }}>\n        {label}\n      </div>\n    </div>\n  );\n};\n\n// ---- Bar Chart ----\n// Animated horizontal bars\n\ninterface BarChartProps {\n  bars: Array<{ label: string; value: number; color?: string }>;\n  title?: string;\n  startFrame: number;\n  endFrame: number;\n  position?: 'left' | 'right';\n}\n\nexport const BarChart: React.FC<BarChartProps> = ({\n  bars,\n  title,\n  startFrame,\n  endFrame,\n  position = 'left',\n}) => {\n  const frame = useCurrentFrame();\n  if (frame < startFrame || frame > endFrame) return null;\n\n  const localFrame = frame - startFrame;\n  const duration = endFrame - startFrame;\n  const maxValue = Math.max(...bars.map((b) => b.value));\n  const fadeIn = 15;\n  const fadeOut = 10;\n\n  const opacity = interpolate(\n    localFrame,\n    [0, fadeIn, duration - fadeOut, duration],\n    [0, 1, 1, 0],\n    { extrapolateLeft: 'clamp', extrapolateRight: 'clamp' },\n  );\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        [position]: 60,\n        top: 140,\n        opacity,\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\n        borderRadius: 10,\n        padding: '24px 28px',\n        minWidth: 300,\n      }}\n    >\n      {title && (\n        <div style={{ color: 'white', fontSize: 22, fontWeight: 700, marginBottom: 16, fontFamily: \"'Segoe UI', sans-serif\" }}>\n          {title}\n        </div>\n      )}\n      {bars.map((bar, i) => {\n        // Stagger animation: each bar starts slightly later\n        const barDelay = fadeIn + i * 5;\n        const barProgress = interpolate(\n          localFrame,\n          [barDelay, barDelay + 15],\n          [0, 1],\n          { extrapolateLeft: 'clamp', extrapolateRight: 'clamp', easing: Easing.out(Easing.cubic) },\n        );\n        const barWidth = (bar.value / maxValue) * 220 * barProgress;\n        const barColor = bar.color ?? `hsl(${40 + i * 30}, 70%, 55%)`;\n\n        return (\n          <div key={i} style={{ marginBottom: 10 }}>\n            <div style={{ color: 'rgba(255,255,255,0.7)', fontSize: 14, marginBottom: 4, fontFamily: \"'Segoe UI', sans-serif\" }}>\n              {bar.label}\n            </div>\n            <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\n              <div style={{\n                width: barWidth,\n                height: 20,\n                backgroundColor: barColor,\n                borderRadius: 4,\n                transition: 'none',\n              }} />\n              <div style={{ color: 'white', fontSize: 16, fontWeight: 600, fontFamily: \"'Segoe UI', sans-serif\" }}>\n                {Math.round(bar.value * barProgress)}\n              </div>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\n// ---- Fact Box ----\n// Callout box with an icon-like accent\n\ninterface FactBoxProps {\n  text: string;\n  accent?: string;\n  startFrame: number;\n  endFrame: number;\n  position?: 'left' | 'right' | 'center';\n}\n\nexport const FactBox: React.FC<FactBoxProps> = ({\n  text,\n  accent = '!',\n  startFrame,\n  endFrame,\n  position = 'right',\n}) => {\n  const frame = useCurrentFrame();\n  if (frame < startFrame || frame > endFrame) return null;\n\n  const localFrame = frame - startFrame;\n  const duration = endFrame - startFrame;\n\n  const opacity = interpolate(\n    localFrame,\n    [0, 10, duration - 8, duration],\n    [0, 1, 1, 0],\n    { extrapolateLeft: 'clamp', extrapolateRight: 'clamp' },\n  );\n\n  const slideY = interpolate(\n    localFrame,\n    [0, 10],\n    [20, 0],\n    { extrapolateLeft: 'clamp', extrapolateRight: 'clamp', easing: Easing.out(Easing.cubic) },\n  );\n\n  const posStyle: React.CSSProperties =\n    position === 'left'\n      ? { left: 60, top: 320 }\n      : position === 'right'\n        ? { right: 60, top: 320 }\n        : { left: '50%', top: 320, transform: `translateX(-50%) translateY(${slideY}px)` };\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        ...posStyle,\n        opacity,\n        transform: posStyle.transform ?? `translateY(${slideY}px)`,\n        backgroundColor: 'rgba(0, 0, 0, 0.85)',\n        borderRadius: 10,\n        padding: '18px 24px',\n        maxWidth: 380,\n        display: 'flex',\n        gap: 16,\n        alignItems: 'flex-start',\n      }}\n    >\n      <div style={{\n        backgroundColor: '#D4A012',\n        borderRadius: '50%',\n        width: 36,\n        height: 36,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexShrink: 0,\n        color: 'black',\n        fontWeight: 800,\n        fontSize: 20,\n        fontFamily: \"'Segoe UI', sans-serif\",\n      }}>\n        {accent}\n      </div>\n      <div style={{ color: 'white', fontSize: 20, lineHeight: 1.5, fontFamily: \"'Segoe UI', sans-serif\" }}>\n        {text}\n      </div>\n    </div>\n  );\n};\n\n// ---- Topic Card / Lower Third ----\n// Appears at bottom-left showing topic name + subtitle\n\ninterface TopicCardProps {\n  topic: string;\n  subtitle?: string;\n  startFrame: number;\n  endFrame: number;\n}\n\nexport const TopicCard: React.FC<TopicCardProps> = ({\n  topic,\n  subtitle = 'Professor Pint explains...',\n  startFrame,\n  endFrame,\n}) => {\n  const frame = useCurrentFrame();\n  if (frame < startFrame || frame > endFrame) return null;\n\n  const localFrame = frame - startFrame;\n  const duration = endFrame - startFrame;\n\n  const opacity = interpolate(\n    localFrame,\n    [0, 15, duration - 12, duration],\n    [0, 1, 1, 0],\n    { extrapolateLeft: 'clamp', extrapolateRight: 'clamp' },\n  );\n\n  const slideX = interpolate(\n    localFrame,\n    [0, 15],\n    [-300, 0],\n    { extrapolateLeft: 'clamp', extrapolateRight: 'clamp', easing: Easing.out(Easing.cubic) },\n  );\n\n  // Bar reveal\n  const barWidth = interpolate(\n    localFrame,\n    [5, 20],\n    [0, 360],\n    { extrapolateLeft: 'clamp', extrapolateRight: 'clamp', easing: Easing.out(Easing.cubic) },\n  );\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        left: 60,\n        bottom: 160,\n        opacity,\n        transform: `translateX(${slideX}px)`,\n      }}\n    >\n      {/* Gold accent bar */}\n      <div style={{ width: barWidth, height: 3, backgroundColor: '#D4A012', marginBottom: 8, borderRadius: 2 }} />\n      <div style={{\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\n        padding: '16px 28px',\n        borderRadius: 6,\n      }}>\n        <div style={{ color: '#D4A012', fontSize: 16, fontWeight: 600, letterSpacing: 2, textTransform: 'uppercase', fontFamily: \"'Segoe UI', sans-serif\" }}>\n          {subtitle}\n        </div>\n        <div style={{ color: 'white', fontSize: 38, fontWeight: 800, marginTop: 4, fontFamily: \"'Segoe UI', sans-serif\" }}>\n          {topic}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// ---- Overlay Renderer ----\n// Renders overlays from a data array (for SceneRenderer integration)\n\ninterface OverlayRendererProps {\n  overlays: OverlayData[];\n}\n\nexport const OverlayRenderer: React.FC<OverlayRendererProps> = ({ overlays }) => {\n  return (\n    <>\n      {overlays.map((overlay, i) => {\n        const p = overlay.props;\n        switch (overlay.type) {\n          case 'statCard':\n            return (\n              <StatCard\n                key={`overlay-${i}`}\n                value={p.value as string}\n                label={p.label as string}\n                startFrame={overlay.startFrame}\n                endFrame={overlay.endFrame}\n                position={p.position as 'left' | 'right' | 'center'}\n                color={p.color as string}\n              />\n            );\n          case 'barChart':\n            return (\n              <BarChart\n                key={`overlay-${i}`}\n                bars={p.bars as BarChartProps['bars']}\n                title={p.title as string}\n                startFrame={overlay.startFrame}\n                endFrame={overlay.endFrame}\n                position={p.position as 'left' | 'right'}\n              />\n            );\n          case 'factBox':\n            return (\n              <FactBox\n                key={`overlay-${i}`}\n                text={p.text as string}\n                accent={p.accent as string}\n                startFrame={overlay.startFrame}\n                endFrame={overlay.endFrame}\n                position={p.position as 'left' | 'right' | 'center'}\n              />\n            );\n          case 'topicCard':\n            return (\n              <TopicCard\n                key={`overlay-${i}`}\n                topic={p.topic as string}\n                subtitle={p.subtitle as string}\n                startFrame={overlay.startFrame}\n                endFrame={overlay.endFrame}\n              />\n            );\n          default:\n            return null;\n        }\n      })}\n    </>\n  );\n};\n","// Easing & interpolation utilities for Professor Pint animations\n// All animations use these shared functions for consistent feel\n\n/**\n * Cubic ease-out: fast start, smooth deceleration\n * Used for emotion transitions, camera moves, entrances\n */\nexport const cubicEaseOut = (t: number): number => {\n  const clamped = Math.max(0, Math.min(1, t));\n  return 1 - Math.pow(1 - clamped, 3);\n};\n\n/**\n * Cubic ease-in-out: smooth start and end\n * Used for breathing, swaying, looping animations\n */\nexport const cubicEaseInOut = (t: number): number => {\n  const clamped = Math.max(0, Math.min(1, t));\n  return clamped < 0.5\n    ? 4 * clamped * clamped * clamped\n    : 1 - Math.pow(-2 * clamped + 2, 3) / 2;\n};\n\n/**\n * Linear interpolation between two values\n */\nexport const lerp = (a: number, b: number, t: number): number => {\n  return a + (b - a) * Math.max(0, Math.min(1, t));\n};\n\n/**\n * Map a value from one range to another with optional easing\n */\nexport const mapRange = (\n  value: number,\n  inMin: number,\n  inMax: number,\n  outMin: number,\n  outMax: number,\n  easingFn?: (t: number) => number\n): number => {\n  const t = Math.max(0, Math.min(1, (value - inMin) / (inMax - inMin)));\n  const eased = easingFn ? easingFn(t) : t;\n  return outMin + (outMax - outMin) * eased;\n};\n\n/**\n * Sine wave oscillation - used for breathing, swaying, idle motion\n * Returns value between -1 and 1\n */\nexport const sineWave = (frame: number, frequency: number, phase: number = 0): number => {\n  return Math.sin((frame / 30) * frequency * Math.PI * 2 + phase);\n};\n\n/**\n * Deterministic pseudo-random based on seed\n * Used for blink timing so it's consistent across renders\n */\nexport const seededRandom = (seed: number): number => {\n  const x = Math.sin(seed * 12.9898 + 78.233) * 43758.5453;\n  return x - Math.floor(x);\n};\n","// Idle animation system\n// Always-active subtle movements that bring characters to life\n\nimport { sineWave, seededRandom } from './easing';\n\n/**\n * Breathing: subtle vertical oscillation of the torso\n * ~0.5Hz sine wave, moves 1-2px\n */\nexport const getBreathing = (frame: number): { y: number; scaleX: number } => {\n  const breathY = sineWave(frame, 0.5) * 1.5;\n  // Slight chest expansion on inhale\n  const breathScaleX = 1 + sineWave(frame, 0.5) * 0.003;\n  return { y: breathY, scaleX: breathScaleX };\n};\n\n/**\n * Eye blinking: deterministic random intervals, 2-6 sec apart\n * Blink lasts ~5 frames (closing 2, closed 1, opening 2)\n */\nexport const getBlinkState = (frame: number): number => {\n  // Check each potential blink window\n  // We divide time into 2-second windows and use seeded random to decide if a blink happens\n  const fps = 30;\n  const windowSize = fps * 2; // Check every 2 seconds\n  const windowIndex = Math.floor(frame / windowSize);\n  \n  // Use seeded random to decide if this window has a blink\n  const shouldBlink = seededRandom(windowIndex * 7) > 0.35; // ~65% chance per window\n  \n  if (!shouldBlink) return 1; // Fully open\n  \n  // Determine blink start frame within this window\n  const blinkOffset = Math.floor(seededRandom(windowIndex * 13) * (windowSize - 10));\n  const blinkStart = windowIndex * windowSize + blinkOffset;\n  const frameInBlink = frame - blinkStart;\n  \n  if (frameInBlink < 0 || frameInBlink > 5) return 1; // Fully open\n  \n  // Blink curve: 1 -> 0 -> 1 over 5 frames\n  if (frameInBlink <= 2) return 1 - (frameInBlink / 2); // Closing\n  if (frameInBlink === 3) return 0.05; // Nearly closed\n  return (frameInBlink - 3) / 2; // Opening\n};\n\n/**\n * Body sway: very subtle side-to-side movement\n * Slower than breathing, slightly irregular\n */\nexport const getBodySway = (frame: number): { x: number; rotation: number } => {\n  // Combine two sine waves at different frequencies for organic feel\n  const sway1 = sineWave(frame, 0.15) * 0.8;\n  const sway2 = sineWave(frame, 0.23, 1.5) * 0.4;\n  const x = sway1 + sway2;\n  const rotation = (sway1 + sway2) * 0.3; // Very subtle lean\n  return { x, rotation };\n};\n\n/**\n * Pupil micro-movement: tiny random-looking eye movements\n * Makes eyes feel alive even when not tracking anything\n */\nexport const getPupilMicroMovement = (frame: number): { x: number; y: number } => {\n  const x = sineWave(frame, 0.3, 0) * 0.5 + sineWave(frame, 0.7, 2) * 0.3;\n  const y = sineWave(frame, 0.25, 1) * 0.4 + sineWave(frame, 0.6, 3) * 0.2;\n  return { x, y };\n};\n\n/**\n * Beer sway in the pint glass - slight liquid motion\n */\nexport const getBeerSway = (frame: number): { rotation: number; liquidOffset: number } => {\n  const rotation = sineWave(frame, 0.2, 0.5) * 1.5;\n  const liquidOffset = sineWave(frame, 0.3, 1) * 0.8;\n  return { rotation, liquidOffset };\n};\n\n/**\n * Combined idle state for convenience\n */\nexport const getIdleState = (frame: number) => {\n  return {\n    breathing: getBreathing(frame),\n    blink: getBlinkState(frame),\n    sway: getBodySway(frame),\n    pupil: getPupilMicroMovement(frame),\n    beerSway: getBeerSway(frame),\n  };\n};\n","// Talking animation system\n// Mouth shapes, body bounce, and gesture sync\n\nimport { sineWave } from './easing';\n\n/**\n * Mouth shapes for speech\n * 0 = closed, 1 = slightly open, 2 = medium/round, 3 = wide open\n */\nexport type MouthShape = 0 | 1 | 2 | 3;\n\n/**\n * Get mouth shape from sine wave (basic mode, no phonemes)\n * Varies between shapes at speech-like rhythm\n */\nexport const getMouthShape = (frame: number, talking: boolean): MouthShape => {\n  if (!talking) return 0;\n\n  // Combine multiple frequencies for natural speech rhythm\n  const fast = sineWave(frame, 4.5); // Main syllable rhythm\n  const medium = sineWave(frame, 2.2, 0.7); // Word rhythm\n  const slow = sineWave(frame, 0.8, 1.3); // Sentence rhythm (pauses)\n\n  // Sentence rhythm creates natural pauses\n  if (slow < -0.6) return 0; // Brief pause between phrases\n\n  const combined = fast * 0.6 + medium * 0.4;\n\n  if (combined > 0.5) return 3;  // Wide open (A/E sounds)\n  if (combined > 0.0) return 2;  // Medium/round (O/U sounds)\n  if (combined > -0.4) return 1; // Slightly open (B/M/P sounds)\n  return 0;                       // Closed (natural pause)\n};\n\n/**\n * Get mouth shape from phoneme data (advanced mode, from ElevenLabs)\n * Phoneme format: [{time: number (seconds), phoneme: string}]\n */\nexport const getMouthShapeFromPhonemes = (\n  frame: number,\n  fps: number,\n  phonemes: Array<{ time: number; phoneme: string }>\n): MouthShape => {\n  if (!phonemes.length) return 0;\n\n  const currentTime = frame / fps;\n\n  // Find the active phoneme\n  let activePhoneme = '';\n  for (let i = phonemes.length - 1; i >= 0; i--) {\n    if (phonemes[i].time <= currentTime) {\n      activePhoneme = phonemes[i].phoneme;\n      break;\n    }\n  }\n\n  // Map phonemes to mouth shapes\n  const wideOpen = ['AA', 'AE', 'AH', 'AY', 'EH', 'EY'];\n  const medium = ['AO', 'OW', 'UH', 'UW', 'OY'];\n  const narrow = ['B', 'M', 'P', 'F', 'V', 'W'];\n  // Everything else (T, D, N, S, Z, etc.) = slightly open\n\n  if (wideOpen.includes(activePhoneme)) return 3;\n  if (medium.includes(activePhoneme)) return 2;\n  if (narrow.includes(activePhoneme)) return 1;\n  if (activePhoneme === '' || activePhoneme === 'SIL') return 0;\n  return 1; // Default slightly open for consonants\n};\n\n/**\n * Body bounce while talking - subtle up/down movement synced to speech\n */\nexport const getTalkingBounce = (frame: number, talking: boolean): number => {\n  if (!talking) return 0;\n  // Bounce synced to syllable rhythm\n  const bounce = Math.abs(sineWave(frame, 3.5)) * 1.2;\n  return -bounce; // Negative = upward\n};\n\n/**\n * Free hand gesture while talking\n * Returns rotation angle for the non-prop hand\n */\nexport const getTalkingGesture = (frame: number, talking: boolean): number => {\n  if (!talking) return 0;\n  // Slower, more expressive hand movement\n  const gesture = sineWave(frame, 1.2, 0.5) * 12; // +/- 12 degrees\n  return gesture;\n};\n","// Emotion system\n// Defines facial feature positions per emotion and smooth transitions\n\nimport { lerp, cubicEaseOut } from './easing';\n\nexport type Emotion = 'neutral' | 'happy' | 'shocked' | 'thinking' | 'angry' | 'sad';\n\n/**\n * Facial feature offsets per emotion\n * All values are relative offsets from neutral position\n */\ninterface EmotionParams {\n  eyeScaleY: number;      // 1 = normal, >1 = wider, <1 = squint\n  eyeOffsetY: number;     // Vertical shift\n  pupilScale: number;     // Pupil size\n  browLeftY: number;      // Left eyebrow offset (negative = raised)\n  browRightY: number;     // Right eyebrow offset\n  browLeftRotation: number;  // Brow angle in degrees\n  browRightRotation: number;\n  mouthCurve: number;     // Positive = smile, negative = frown\n  mouthWidth: number;     // 1 = normal\n  mouthOpen: number;      // 0 = closed, 1 = fully open\n  blushOpacity: number;   // Cheek blush\n  headTilt: number;       // Head rotation in degrees\n}\n\nconst EMOTION_PARAMS: Record<Emotion, EmotionParams> = {\n  neutral: {\n    eyeScaleY: 1, eyeOffsetY: 0, pupilScale: 1,\n    browLeftY: 0, browRightY: 0, browLeftRotation: 0, browRightRotation: 0,\n    mouthCurve: 0, mouthWidth: 1, mouthOpen: 0,\n    blushOpacity: 0, headTilt: 0,\n  },\n  happy: {\n    eyeScaleY: 0.8, eyeOffsetY: 0.5, pupilScale: 1.05,\n    browLeftY: -2, browRightY: -2, browLeftRotation: -3, browRightRotation: 3,\n    mouthCurve: 8, mouthWidth: 1.15, mouthOpen: 0.2,\n    blushOpacity: 0.3, headTilt: 2,\n  },\n  shocked: {\n    eyeScaleY: 1.5, eyeOffsetY: -1, pupilScale: 0.7,\n    browLeftY: -6, browRightY: -6, browLeftRotation: 0, browRightRotation: 0,\n    mouthCurve: -2, mouthWidth: 0.8, mouthOpen: 0.8,\n    blushOpacity: 0, headTilt: 0,\n  },\n  thinking: {\n    eyeScaleY: 0.9, eyeOffsetY: -1, pupilScale: 1,\n    browLeftY: -1, browRightY: -4, browLeftRotation: 0, browRightRotation: 8,\n    mouthCurve: -1, mouthWidth: 0.85, mouthOpen: 0,\n    blushOpacity: 0, headTilt: -5,\n  },\n  angry: {\n    eyeScaleY: 0.7, eyeOffsetY: 1, pupilScale: 0.85,\n    browLeftY: 1, browRightY: 1, browLeftRotation: 12, browRightRotation: -12,\n    mouthCurve: -5, mouthWidth: 1.1, mouthOpen: 0.1,\n    blushOpacity: 0, headTilt: -2,\n  },\n  sad: {\n    eyeScaleY: 0.85, eyeOffsetY: 1, pupilScale: 1.1,\n    browLeftY: -2, browRightY: -2, browLeftRotation: -8, browRightRotation: 8,\n    mouthCurve: -6, mouthWidth: 0.9, mouthOpen: 0,\n    blushOpacity: 0, headTilt: 3,\n  },\n};\n\n/**\n * Interpolate between two emotion states\n * transitionProgress: 0 = fully fromEmotion, 1 = fully toEmotion\n */\nexport const interpolateEmotions = (\n  fromEmotion: Emotion,\n  toEmotion: Emotion,\n  progress: number\n): EmotionParams => {\n  const from = EMOTION_PARAMS[fromEmotion];\n  const to = EMOTION_PARAMS[toEmotion];\n  const t = cubicEaseOut(progress);\n\n  const result: Record<string, number> = {};\n  for (const key of Object.keys(from) as Array<keyof EmotionParams>) {\n    result[key] = lerp(from[key], to[key], t);\n  }\n  return result as unknown as EmotionParams;\n};\n\n/**\n * Get emotion params (no transition, instant)\n */\nexport const getEmotionParams = (emotion: Emotion): EmotionParams => {\n  return EMOTION_PARAMS[emotion];\n};\n\n/**\n * Manage emotion transitions over time\n * Call this each frame with the target emotion\n * Returns interpolated params with smooth transition\n */\nexport class EmotionTransition {\n  private currentEmotion: Emotion = 'neutral';\n  private targetEmotion: Emotion = 'neutral';\n  private transitionStart: number = 0;\n  private transitionDuration: number = 10; // frames (10 frames at 30fps = ~0.33s)\n\n  getParams(frame: number, targetEmotion: Emotion): EmotionParams {\n    if (targetEmotion !== this.targetEmotion) {\n      this.currentEmotion = this.targetEmotion;\n      this.targetEmotion = targetEmotion;\n      this.transitionStart = frame;\n    }\n\n    const elapsed = frame - this.transitionStart;\n    const progress = Math.min(1, elapsed / this.transitionDuration);\n\n    return interpolateEmotions(this.currentEmotion, this.targetEmotion, progress);\n  }\n}\n\nexport type { EmotionParams };\n","import React from 'react';\n\ninterface PintGlassProps {\n  liquidOffset?: number;\n  scale?: number;\n}\n\nexport const PintGlass: React.FC<PintGlassProps> = ({ liquidOffset = 0, scale = 1 }) => {\n  return (\n    <g transform={`scale(${scale})`}>\n      {/* Glass body - classic pint shape, wider at top */}\n      <defs>\n        <clipPath id=\"pint-clip\">\n          <path d=\"M-14,2 L-11,-52 Q-10,-55 -8,-55 L8,-55 Q10,-55 11,-52 L14,2 Z\" />\n        </clipPath>\n      </defs>\n\n      {/* Beer liquid */}\n      <g clipPath=\"url(#pint-clip)\">\n        <rect x={-14} y={-42 + liquidOffset} width={28} height={54} fill=\"#D4A012\" opacity={0.85} />\n        {/* Beer gradient (darker at bottom) */}\n        <rect x={-14} y={-10} width={28} height={12} fill=\"#B8890F\" opacity={0.3} />\n      </g>\n\n      {/* Foam - layered for realistic look */}\n      <g clipPath=\"url(#pint-clip)\">\n        {/* Foam base */}\n        <rect x={-13} y={-52 + liquidOffset} width={26} height={12} fill=\"#FFF8E7\" opacity={0.95} />\n        {/* Foam bubbles top layer */}\n        <ellipse cx={-5} cy={-50 + liquidOffset} rx={5} ry={3.5} fill=\"white\" opacity={0.7} />\n        <ellipse cx={4} cy={-49 + liquidOffset} rx={4.5} ry={3} fill=\"white\" opacity={0.6} />\n        <ellipse cx={-1} cy={-52 + liquidOffset} rx={4} ry={2.5} fill=\"white\" opacity={0.5} />\n        <ellipse cx={7} cy={-51 + liquidOffset} rx={3} ry={2} fill=\"white\" opacity={0.5} />\n        <ellipse cx={-8} cy={-48 + liquidOffset} rx={3.5} ry={2.5} fill=\"white\" opacity={0.4} />\n        {/* Foam drip on side */}\n        <ellipse cx={11} cy={-38} rx={2} ry={4} fill=\"#FFF8E7\" opacity={0.6} />\n      </g>\n\n      {/* Glass outline */}\n      <path\n        d=\"M-14,-2 L-11,-52 Q-10,-55 -8,-55 L8,-55 Q10,-55 11,-52 L14,-2 Q14,2 10,2 L-10,2 Q-14,2 -14,-2 Z\"\n        fill=\"rgba(255,255,255,0.12)\"\n        stroke=\"#1A1A1A\"\n        strokeWidth={2.5}\n      />\n\n      {/* Glass highlight streak */}\n      <line x1={-8} y1={-50} x2={-6} y2={-5} stroke=\"white\" strokeWidth={1.8} opacity={0.2} />\n\n      {/* Handle */}\n      <path\n        d=\"M14,-38 Q26,-36 26,-20 Q26,-4 14,-2\"\n        fill=\"none\"\n        stroke=\"#1A1A1A\"\n        strokeWidth={3}\n      />\n      <path\n        d=\"M14,-36 Q24,-34 24,-20 Q24,-6 14,-4\"\n        fill=\"rgba(255,255,255,0.08)\"\n        stroke=\"none\"\n      />\n    </g>\n  );\n};\n","import React, { useMemo } from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { getIdleState } from '../animations/idle';\nimport { getMouthShape, getTalkingBounce, getTalkingGesture } from '../animations/talking';\nimport { interpolateEmotions } from '../animations/emotions';\nimport type { Emotion } from '../animations/emotions';\nimport type { MouthShape } from '../animations/talking';\nimport { PintGlass } from '../props/PintGlass';\n\ninterface ProfessorPintProps {\n  emotion?: Emotion;\n  previousEmotion?: Emotion;\n  emotionTransitionProgress?: number;\n  talking?: boolean;\n  scale?: number;\n}\n\nconst COL = {\n  skin: '#FDDCB5',\n  skinShadow: '#E8C8A0',\n  outline: '#1A1A1A',\n  vest: '#2D5016',\n  vestDark: '#1F3A0F',\n  shirt: '#FFFFFF',\n  shirtShadow: '#E8E8E8',\n  bowtie: '#D4A012',\n  bowtieDark: '#B8890F',\n  hair: '#D4D4D4',\n  hairDark: '#AAAAAA',\n  hairLight: '#E8E8E8',\n  glassFrame: '#3A3A3A',\n  glassLens: 'rgba(200,220,240,0.22)',\n  pupil: '#1A1A1A',\n  iris: '#4A6741',\n  eyeWhite: '#FFFFFF',\n  mouth: '#8B2020',\n  tongue: '#CC5555',\n  blush: '#FFAAAA',\n  shine: 'rgba(255,255,255,0.55)',\n};\n\nconst SW = 3.5;\n\nexport const ProfessorPint: React.FC<ProfessorPintProps> = ({\n  emotion = 'neutral',\n  previousEmotion = 'neutral',\n  emotionTransitionProgress = 1,\n  talking = false,\n  scale = 1,\n}) => {\n  const frame = useCurrentFrame();\n  const idle = getIdleState(frame);\n  const mouthShape = getMouthShape(frame, talking);\n  const talkBounce = getTalkingBounce(frame, talking);\n  const talkGesture = getTalkingGesture(frame, talking);\n\n  const emo = useMemo(\n    () => interpolateEmotions(previousEmotion, emotion, emotionTransitionProgress),\n    [previousEmotion, emotion, emotionTransitionProgress]\n  );\n\n  const bodyY = idle.breathing.y + talkBounce;\n\n  return (\n    <svg\n      viewBox=\"-130 -210 260 400\"\n      width={260 * scale}\n      height={400 * scale}\n      style={{ overflow: 'visible' }}\n    >\n      <g transform={`translate(${idle.sway.x}, ${bodyY}) rotate(${idle.sway.rotation})`}>\n        {/* Legs */}\n        <Legs />\n\n        {/* Body */}\n        <g transform={`scale(${idle.breathing.scaleX}, 1)`}>\n          <Body />\n        </g>\n\n        {/* Left arm (gesture) */}\n        <LeftArm gestureRotation={talkGesture} />\n\n        {/* Right arm + pint glass */}\n        <RightArm beerSway={idle.beerSway} />\n\n        {/* Head - connected to body via neck */}\n        <g transform={`translate(0, -105) rotate(${emo.headTilt})`}>\n          <Head emo={emo} blink={idle.blink} pupil={idle.pupil} mouthShape={mouthShape} talking={talking} />\n        </g>\n      </g>\n    </svg>\n  );\n};\n\n// ==== SUB-COMPONENTS ====\n\nconst Legs: React.FC = () => (\n  <g>\n    <line x1={-16} y1={68} x2={-20} y2={135} stroke={COL.outline} strokeWidth={8} strokeLinecap=\"round\" />\n    <line x1={16} y1={68} x2={20} y2={135} stroke={COL.outline} strokeWidth={8} strokeLinecap=\"round\" />\n    <ellipse cx={-24} cy={137} rx={14} ry={6} fill={COL.outline} />\n    <ellipse cx={24} cy={137} rx={14} ry={6} fill={COL.outline} />\n  </g>\n);\n\nconst Body: React.FC = () => (\n  <g>\n    {/* Torso - with belly bulge at bottom */}\n    <path\n      d=\"M-42,-42 Q-42,-50 -30,-50 L30,-50 Q42,-50 42,-42 L42,40 Q42,75 0,78 Q-42,75 -42,40 Z\"\n      fill={COL.shirt} stroke={COL.outline} strokeWidth={SW}\n    />\n    {/* Belly highlight */}\n    <ellipse cx={0} cy={55} rx={25} ry={15} fill=\"rgba(0,0,0,0.03)\" />\n    {/* Shirt fold hint */}\n    <line x1={0} y1={-15} x2={0} y2={60} stroke={COL.shirtShadow} strokeWidth={1} opacity={0.4} />\n\n    {/* Vest left - follows belly */}\n    <path\n      d=\"M-39,-38 L-39,45 Q-39,72 -15,75 L-8,75 L-8,-22 Q-8,-38 -22,-38 Z\"\n      fill={COL.vest} stroke={COL.outline} strokeWidth={SW}\n    />\n    {/* Vest right - follows belly */}\n    <path\n      d=\"M39,-38 L39,45 Q39,72 15,75 L8,75 L8,-22 Q8,-38 22,-38 Z\"\n      fill={COL.vest} stroke={COL.outline} strokeWidth={SW}\n    />\n    {/* Vest inner shadow */}\n    <path d=\"M-35,-30 L-35,55\" stroke={COL.vestDark} strokeWidth={2} opacity={0.3} />\n    <path d=\"M35,-30 L35,55\" stroke={COL.vestDark} strokeWidth={2} opacity={0.3} />\n\n    {/* Vest buttons */}\n    <circle cx={0} cy={-5} r={3.5} fill={COL.bowtie} stroke={COL.outline} strokeWidth={1.5} />\n    <circle cx={0} cy={18} r={3.5} fill={COL.bowtie} stroke={COL.outline} strokeWidth={1.5} />\n    <circle cx={0} cy={41} r={3.5} fill={COL.bowtie} stroke={COL.outline} strokeWidth={1.5} />\n\n    {/* Neck - shorter, connects flush to head above */}\n    <rect x={-11} y={-48} width={22} height={12} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n\n    {/* Bowtie - sits at collar */}\n    <g transform=\"translate(0, -42)\">\n      <path d=\"M-14,0 L-8,-8 L0,0\" fill={COL.shirt} stroke={COL.outline} strokeWidth={2} />\n      <path d=\"M14,0 L8,-8 L0,0\" fill={COL.shirt} stroke={COL.outline} strokeWidth={2} />\n      <path d=\"M0,0 L-16,-9 L-16,9 Z\" fill={COL.bowtie} stroke={COL.outline} strokeWidth={2} />\n      <path d=\"M0,0 L16,-9 L16,9 Z\" fill={COL.bowtie} stroke={COL.outline} strokeWidth={2} />\n      <circle cx={0} cy={0} r={4.5} fill={COL.bowtieDark} stroke={COL.outline} strokeWidth={2} />\n    </g>\n  </g>\n);\n\nconst LeftArm: React.FC<{ gestureRotation: number }> = ({ gestureRotation }) => (\n  <g transform={`translate(-44, -25) rotate(${-12 + gestureRotation}, 0, 0)`}>\n    <line x1={0} y1={0} x2={-18} y2={38} stroke={COL.outline} strokeWidth={8} strokeLinecap=\"round\" />\n    <g transform=\"translate(-18, 38)\">\n      <line x1={0} y1={0} x2={-8} y2={32} stroke={COL.outline} strokeWidth={7} strokeLinecap=\"round\" />\n      <circle cx={-10} cy={36} r={8} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n    </g>\n  </g>\n);\n\nconst RightArm: React.FC<{ beerSway: { rotation: number; liquidOffset: number } }> = ({ beerSway }) => (\n  <g transform=\"translate(44, -20)\">\n    {/* Upper arm */}\n    <line x1={0} y1={0} x2={16} y2={32} stroke={COL.outline} strokeWidth={8} strokeLinecap=\"round\" />\n    {/* Lower arm - bent to hold pint */}\n    <g transform=\"translate(16, 32) rotate(-50)\">\n      <line x1={0} y1={0} x2={3} y2={26} stroke={COL.outline} strokeWidth={7} strokeLinecap=\"round\" />\n      {/* Hand + pint group - rotated back to upright */}\n      <g transform={`translate(5, 28) rotate(${50 + beerSway.rotation})`}>\n        {/* Hand BEHIND glass */}\n        <ellipse cx={0} cy={-14} rx={10} ry={7} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n        {/* Pint glass ON TOP of hand */}\n        <g transform=\"translate(0, 8)\">\n          <PintGlass liquidOffset={beerSway.liquidOffset} scale={1.1} />\n        </g>\n        {/* Fingers in front of glass */}\n        <path d=\"M-7,-20 Q-9,-15 -7,-10\" fill=\"none\" stroke={COL.outline} strokeWidth={1.5} />\n        <path d=\"M6,-20 Q8,-15 6,-10\" fill=\"none\" stroke={COL.outline} strokeWidth={1.5} />\n      </g>\n    </g>\n  </g>\n);\n\ninterface HeadProps {\n  emo: {\n    eyeScaleY: number; eyeOffsetY: number; pupilScale: number;\n    browLeftY: number; browRightY: number; browLeftRotation: number; browRightRotation: number;\n    mouthCurve: number; mouthWidth: number; mouthOpen: number;\n    blushOpacity: number; headTilt: number;\n  };\n  blink: number;\n  pupil: { x: number; y: number };\n  mouthShape: MouthShape;\n  talking: boolean;\n}\n\nconst Head: React.FC<HeadProps> = ({ emo, blink, pupil, mouthShape, talking }) => (\n  <g>\n    <EinsteinHairBack />\n\n    <circle cx={0} cy={0} r={50} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n\n    <ellipse cx={-6} cy={-28} rx={16} ry={9} fill={COL.shine} opacity={0.35} />\n    <ellipse cx={-4} cy={-33} rx={7} ry={4} fill=\"white\" opacity={0.25} />\n\n    <EinsteinHairFront />\n\n    <Glasses />\n\n    <g transform={`translate(-17, ${-2 + emo.eyeOffsetY})`}>\n      <Eye blink={blink} scaleY={emo.eyeScaleY} pupilScale={emo.pupilScale} px={pupil.x} py={pupil.y} />\n    </g>\n    <g transform={`translate(17, ${-2 + emo.eyeOffsetY})`}>\n      <Eye blink={blink} scaleY={emo.eyeScaleY} pupilScale={emo.pupilScale} px={pupil.x} py={pupil.y} />\n    </g>\n\n    <g transform={`translate(-17, ${-15 + emo.browLeftY}) rotate(${emo.browLeftRotation})`}>\n      <rect x={-10} y={0} width={20} height={3.5} rx={1.5} fill={COL.hairDark} />\n    </g>\n    <g transform={`translate(17, ${-15 + emo.browRightY}) rotate(${emo.browRightRotation})`}>\n      <rect x={-10} y={0} width={20} height={3.5} rx={1.5} fill={COL.hairDark} />\n    </g>\n\n    {emo.blushOpacity > 0.01 && (\n      <>\n        <ellipse cx={-28} cy={14} rx={8} ry={5} fill={COL.blush} opacity={emo.blushOpacity} />\n        <ellipse cx={28} cy={14} rx={8} ry={5} fill={COL.blush} opacity={emo.blushOpacity} />\n      </>\n    )}\n\n    {/* Nose */}\n    <path d=\"M-3,8 Q0,15 3,8\" fill=\"none\" stroke={COL.outline} strokeWidth={2.2} strokeLinecap=\"round\" />\n\n    {/* Stubble beard - dots on chin and jawline */}\n    <g opacity={0.99}>\n      <circle cx={-6} cy={36} r={0.8} fill={COL.hairDark} />\n      <circle cx={0} cy={38} r={0.8} fill={COL.hairDark} />\n      <circle cx={6} cy={36} r={0.8} fill={COL.hairDark} />\n      <circle cx={-3} cy={40} r={0.8} fill={COL.hairDark} />\n      <circle cx={3} cy={40} r={0.8} fill={COL.hairDark} />\n      <circle cx={-9} cy={34} r={0.7} fill={COL.hairDark} />\n      <circle cx={9} cy={34} r={0.7} fill={COL.hairDark} />\n      <circle cx={-14} cy={30} r={0.7} fill={COL.hairDark} />\n      <circle cx={14} cy={30} r={0.7} fill={COL.hairDark} />\n      <circle cx={-18} cy={26} r={0.7} fill={COL.hairDark} />\n      <circle cx={18} cy={26} r={0.7} fill={COL.hairDark} />\n      <circle cx={-12} cy={33} r={0.7} fill={COL.hairDark} />\n      <circle cx={12} cy={33} r={0.7} fill={COL.hairDark} />\n      <circle cx={-4} cy={34} r={0.7} fill={COL.hairDark} />\n      <circle cx={4} cy={34} r={0.7} fill={COL.hairDark} />\n      <circle cx={0} cy={35} r={0.7} fill={COL.hairDark} />\n    </g>\n\n    <Mouth shape={mouthShape} curve={emo.mouthCurve} width={emo.mouthWidth} emotionOpen={emo.mouthOpen} talking={talking} />\n  </g>\n);\n\nconst EinsteinHairBack: React.FC = () => (\n  <g>\n    <path\n      d=\"M-42,20 Q-55,15 -58,0 Q-62,-15 -55,-25 Q-58,-35 -50,-40 Q-45,-45 -38,-40\n         L38,-40 Q45,-45 50,-40 Q58,-35 55,-25 Q62,-15 58,0 Q55,15 42,20\n         L35,35 Q20,45 0,45 Q-20,45 -35,35 Z\"\n      fill={COL.hair} stroke={COL.outline} strokeWidth={2.5}\n    />\n    <path d=\"M-30,30 Q-35,38 -25,40\" fill=\"none\" stroke={COL.hairDark} strokeWidth={1.5} opacity={0.4} />\n    <path d=\"M25,30 Q30,38 22,40\" fill=\"none\" stroke={COL.hairDark} strokeWidth={1.5} opacity={0.4} />\n    <path d=\"M0,38 Q5,44 -3,43\" fill=\"none\" stroke={COL.hairDark} strokeWidth={1.5} opacity={0.3} />\n  </g>\n);\n\nconst EinsteinHairFront: React.FC = () => (\n  <g>\n    <path\n      d=\"M-46,-5 Q-58,-8 -60,-20 Q-62,-30 -55,-35 Q-58,-42 -52,-44 Q-48,-48 -42,-42\"\n      fill={COL.hair} stroke={COL.outline} strokeWidth={2.5}\n    />\n    <path d=\"M-48,8 Q-60,5 -62,-5 Q-64,-12 -58,-15\" fill={COL.hair} stroke={COL.outline} strokeWidth={2} />\n    <path d=\"M-46,20 Q-58,18 -60,8 Q-62,0 -55,-2\" fill={COL.hair} stroke={COL.outline} strokeWidth={2} />\n    <path d=\"M-55,-38 Q-62,-35 -58,-28\" fill=\"none\" stroke={COL.outline} strokeWidth={1.5} />\n    <path d=\"M-57,-10 Q-65,-8 -62,-2\" fill=\"none\" stroke={COL.outline} strokeWidth={1.5} />\n\n    <path\n      d=\"M46,-5 Q58,-8 60,-20 Q62,-30 55,-35 Q58,-42 52,-44 Q48,-48 42,-42\"\n      fill={COL.hair} stroke={COL.outline} strokeWidth={2.5}\n    />\n    <path d=\"M48,8 Q60,5 62,-5 Q64,-12 58,-15\" fill={COL.hair} stroke={COL.outline} strokeWidth={2} />\n    <path d=\"M46,20 Q58,18 60,8 Q62,0 55,-2\" fill={COL.hair} stroke={COL.outline} strokeWidth={2} />\n    <path d=\"M55,-38 Q62,-35 58,-28\" fill=\"none\" stroke={COL.outline} strokeWidth={1.5} />\n    <path d=\"M57,-10 Q65,-8 62,-2\" fill=\"none\" stroke={COL.outline} strokeWidth={1.5} />\n\n    <path d=\"M-52,-30 Q-50,-25 -53,-20\" fill=\"none\" stroke={COL.hairLight} strokeWidth={1.2} opacity={0.4} />\n    <path d=\"M52,-30 Q50,-25 53,-20\" fill=\"none\" stroke={COL.hairLight} strokeWidth={1.2} opacity={0.4} />\n  </g>\n);\n\nconst Glasses: React.FC = () => (\n  <g transform=\"translate(0, -2)\">\n    <circle cx={-17} cy={0} r={14} fill={COL.glassLens} stroke={COL.glassFrame} strokeWidth={2.5} />\n    <circle cx={17} cy={0} r={14} fill={COL.glassLens} stroke={COL.glassFrame} strokeWidth={2.5} />\n    <path d=\"M-3,0 Q0,-3 3,0\" fill=\"none\" stroke={COL.glassFrame} strokeWidth={2.5} />\n    <line x1={-31} y1={-2} x2={-46} y2={-6} stroke={COL.glassFrame} strokeWidth={2} />\n    <line x1={31} y1={-2} x2={46} y2={-6} stroke={COL.glassFrame} strokeWidth={2} />\n    <ellipse cx={-21} cy={-5} rx={4} ry={3} fill=\"white\" opacity={0.12} />\n    <ellipse cx={13} cy={-5} rx={4} ry={3} fill=\"white\" opacity={0.12} />\n  </g>\n);\n\ninterface EyeProps { blink: number; scaleY: number; pupilScale: number; px: number; py: number; }\n\nconst Eye: React.FC<EyeProps> = ({ blink, scaleY, pupilScale, px, py }) => (\n  <g transform={`scale(1, ${scaleY * blink})`}>\n    <ellipse cx={0} cy={0} rx={8.5} ry={6.5} fill={COL.eyeWhite} stroke={COL.outline} strokeWidth={1.5} />\n    <circle cx={px} cy={py} r={4 * pupilScale} fill={COL.iris} />\n    <circle cx={px} cy={py} r={2.2 * pupilScale} fill={COL.pupil} />\n    <circle cx={px + 1.5} cy={py - 1.5} r={1.3} fill=\"white\" opacity={0.8} />\n  </g>\n);\n\ninterface MouthProps { shape: MouthShape; curve: number; width: number; emotionOpen: number; talking: boolean; }\n\nconst Mouth: React.FC<MouthProps> = ({ shape, curve, width, emotionOpen, talking }) => {\n  const talkOpen = talking ? [0, 3, 6, 10][shape] : emotionOpen * 10;\n  const openAmount = Math.max(talkOpen, emotionOpen * 10);\n  const hw = 12 * width;\n\n  if (openAmount < 1) {\n    return (\n      <path d={`M${-hw},26 Q0,${26 + curve} ${hw},26`}\n        fill=\"none\" stroke={COL.outline} strokeWidth={2.5} strokeLinecap=\"round\" />\n    );\n  }\n\n  return (\n    <g transform=\"translate(0, 26)\">\n      <ellipse cx={0} cy={0} rx={hw} ry={openAmount * 0.5 + Math.abs(curve) * 0.2}\n        fill={COL.mouth} stroke={COL.outline} strokeWidth={2.5} />\n      {openAmount > 6 && (\n        <ellipse cx={2} cy={openAmount * 0.25} rx={hw * 0.5} ry={openAmount * 0.2} fill={COL.tongue} />\n      )}\n      {openAmount > 3 && (\n        <rect x={-hw * 0.6} y={-openAmount * 0.35} width={hw * 1.2} height={2.5} fill=\"white\" rx={1} />\n      )}\n    </g>\n  );\n};\n\nexport default ProfessorPint;\n","import React, { useMemo } from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { getIdleState } from '../animations/idle';\nimport { getMouthShape, getTalkingBounce, getTalkingGesture } from '../animations/talking';\nimport { interpolateEmotions } from '../animations/emotions';\nimport type { Emotion } from '../animations/emotions';\nimport type { MouthShape } from '../animations/talking';\n\n// Average Joe: a regular pub patron\n// Shorter, rounder, casual clothes (hoodie + jeans), no glasses, short brown hair, friendly face\n\ninterface AverageJoeProps {\n  emotion?: Emotion;\n  previousEmotion?: Emotion;\n  emotionTransitionProgress?: number;\n  talking?: boolean;\n  scale?: number;\n}\n\nconst COL = {\n  skin: '#F5CBA7',\n  skinShadow: '#E0B090',\n  outline: '#1A1A1A',\n  hoodie: '#3B6DAA',\n  hoodieDark: '#2D5580',\n  hoodieZip: '#888888',\n  shirt: '#F0F0F0',\n  jeans: '#3D4F6A',\n  jeansDark: '#2E3D52',\n  hair: '#6B4226',\n  hairDark: '#4A2E1A',\n  hairLight: '#8B5E3C',\n  eyeWhite: '#FFFFFF',\n  iris: '#5B7553',\n  pupil: '#1A1A1A',\n  mouth: '#8B2020',\n  tongue: '#CC5555',\n  blush: '#FFBBBB',\n  shine: 'rgba(255,255,255,0.5)',\n  shoe: '#2A2A2A',\n};\n\nconst SW = 3.5;\n\nexport const AverageJoe: React.FC<AverageJoeProps> = ({\n  emotion = 'neutral',\n  previousEmotion = 'neutral',\n  emotionTransitionProgress = 1,\n  talking = false,\n  scale = 1,\n}) => {\n  const frame = useCurrentFrame();\n  const idle = getIdleState(frame);\n  const mouthShape = getMouthShape(frame, talking);\n  const talkBounce = getTalkingBounce(frame, talking);\n  const talkGesture = getTalkingGesture(frame, talking);\n\n  const emo = useMemo(\n    () => interpolateEmotions(previousEmotion, emotion, emotionTransitionProgress),\n    [previousEmotion, emotion, emotionTransitionProgress],\n  );\n\n  const bodyY = idle.breathing.y + talkBounce;\n\n  return (\n    <svg\n      viewBox=\"-130 -190 260 380\"\n      width={260 * scale}\n      height={380 * scale}\n      style={{ overflow: 'visible' }}\n    >\n      <g transform={`translate(${idle.sway.x}, ${bodyY}) rotate(${idle.sway.rotation})`}>\n        {/* Legs */}\n        <JoeLegs />\n\n        {/* Body */}\n        <g transform={`scale(${idle.breathing.scaleX}, 1)`}>\n          <JoeBody />\n        </g>\n\n        {/* Left arm (gesture) */}\n        <JoeLeftArm gestureRotation={talkGesture} />\n\n        {/* Right arm */}\n        <JoeRightArm />\n\n        {/* Head */}\n        <g transform={`translate(0, -95) rotate(${emo.headTilt})`}>\n          <JoeHead emo={emo} blink={idle.blink} pupil={idle.pupil} mouthShape={mouthShape} talking={talking} />\n        </g>\n      </g>\n    </svg>\n  );\n};\n\n// ==== SUB-COMPONENTS ====\n\nconst JoeLegs: React.FC = () => (\n  <g>\n    {/* Jeans */}\n    <path\n      d=\"M-18,65 L-22,130 L-8,130 L-6,70 Z\"\n      fill={COL.jeans} stroke={COL.outline} strokeWidth={SW}\n    />\n    <path\n      d=\"M18,65 L22,130 L8,130 L6,70 Z\"\n      fill={COL.jeans} stroke={COL.outline} strokeWidth={SW}\n    />\n    {/* Seam lines */}\n    <line x1={-15} y1={75} x2={-16} y2={125} stroke={COL.jeansDark} strokeWidth={1} opacity={0.3} />\n    <line x1={15} y1={75} x2={16} y2={125} stroke={COL.jeansDark} strokeWidth={1} opacity={0.3} />\n    {/* Shoes */}\n    <ellipse cx={-18} cy={133} rx={16} ry={7} fill={COL.shoe} stroke={COL.outline} strokeWidth={2} />\n    <ellipse cx={18} cy={133} rx={16} ry={7} fill={COL.shoe} stroke={COL.outline} strokeWidth={2} />\n  </g>\n);\n\nconst JoeBody: React.FC = () => (\n  <g>\n    {/* Torso - slightly wider/rounder than Professor */}\n    <path\n      d=\"M-45,-35 Q-45,-42 -32,-42 L32,-42 Q45,-42 45,-35 L45,42 Q45,72 0,75 Q-45,72 -45,42 Z\"\n      fill={COL.hoodie} stroke={COL.outline} strokeWidth={SW}\n    />\n    {/* Belly roundness */}\n    <ellipse cx={0} cy={50} rx={30} ry={18} fill=\"rgba(0,0,0,0.05)\" />\n\n    {/* Hoodie pocket (kangaroo pocket) */}\n    <path\n      d=\"M-25,25 L-25,50 Q-25,55 -20,55 L20,55 Q25,55 25,50 L25,25\"\n      fill=\"none\" stroke={COL.hoodieDark} strokeWidth={2} opacity={0.5}\n    />\n\n    {/* Zip line */}\n    <line x1={0} y1={-38} x2={0} y2={70} stroke={COL.hoodieZip} strokeWidth={1.5} opacity={0.4} />\n\n    {/* Hoodie drawstrings */}\n    <line x1={-6} y1={-38} x2={-8} y2={-20} stroke={COL.hoodieZip} strokeWidth={1.2} opacity={0.5} />\n    <line x1={6} y1={-38} x2={8} y2={-20} stroke={COL.hoodieZip} strokeWidth={1.2} opacity={0.5} />\n    <circle cx={-9} cy={-18} r={2} fill={COL.hoodieZip} opacity={0.5} />\n    <circle cx={9} cy={-18} r={2} fill={COL.hoodieZip} opacity={0.5} />\n\n    {/* T-shirt collar visible */}\n    <path\n      d=\"M-12,-42 Q0,-35 12,-42\"\n      fill={COL.shirt} stroke={COL.outline} strokeWidth={2}\n    />\n\n    {/* Neck */}\n    <rect x={-10} y={-46} width={20} height={10} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n\n    {/* Hoodie collar/hood edge */}\n    <path\n      d=\"M-20,-40 Q-22,-48 -12,-48 L12,-48 Q22,-48 20,-40\"\n      fill={COL.hoodieDark} stroke={COL.outline} strokeWidth={2}\n    />\n  </g>\n);\n\nconst JoeLeftArm: React.FC<{ gestureRotation: number }> = ({ gestureRotation }) => (\n  <g transform={`translate(-46, -20) rotate(${-8 + gestureRotation}, 0, 0)`}>\n    {/* Upper arm (hoodie sleeve) */}\n    <line x1={0} y1={0} x2={-14} y2={35} stroke={COL.hoodie} strokeWidth={14} strokeLinecap=\"round\" />\n    <line x1={0} y1={0} x2={-14} y2={35} stroke={COL.outline} strokeWidth={16} strokeLinecap=\"round\" opacity={0.15} />\n    {/* Forearm */}\n    <g transform=\"translate(-14, 35)\">\n      <line x1={0} y1={0} x2={-6} y2={28} stroke={COL.skin} strokeWidth={8} strokeLinecap=\"round\" />\n      <line x1={0} y1={0} x2={-6} y2={28} stroke={COL.outline} strokeWidth={10} strokeLinecap=\"round\" opacity={0.12} />\n      {/* Hand */}\n      <circle cx={-8} cy={32} r={8} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n    </g>\n  </g>\n);\n\nconst JoeRightArm: React.FC = () => (\n  <g transform=\"translate(46, -20)\">\n    {/* Upper arm */}\n    <line x1={0} y1={0} x2={14} y2={35} stroke={COL.hoodie} strokeWidth={14} strokeLinecap=\"round\" />\n    <line x1={0} y1={0} x2={14} y2={35} stroke={COL.outline} strokeWidth={16} strokeLinecap=\"round\" opacity={0.15} />\n    {/* Forearm resting */}\n    <g transform=\"translate(14, 35)\">\n      <line x1={0} y1={0} x2={4} y2={28} stroke={COL.skin} strokeWidth={8} strokeLinecap=\"round\" />\n      <line x1={0} y1={0} x2={4} y2={28} stroke={COL.outline} strokeWidth={10} strokeLinecap=\"round\" opacity={0.12} />\n      {/* Hand */}\n      <circle cx={6} cy={32} r={8} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n    </g>\n  </g>\n);\n\ninterface JoeHeadProps {\n  emo: {\n    eyeScaleY: number; eyeOffsetY: number; pupilScale: number;\n    browLeftY: number; browRightY: number; browLeftRotation: number; browRightRotation: number;\n    mouthCurve: number; mouthWidth: number; mouthOpen: number;\n    blushOpacity: number; headTilt: number;\n  };\n  blink: number;\n  pupil: { x: number; y: number };\n  mouthShape: MouthShape;\n  talking: boolean;\n}\n\nconst JoeHead: React.FC<JoeHeadProps> = ({ emo, blink, pupil, mouthShape, talking }) => (\n  <g>\n    {/* Short brown hair (back) */}\n    <JoeHairBack />\n\n    {/* Head - slightly rounder than Professor */}\n    <ellipse cx={0} cy={2} rx={46} ry={48} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n\n    {/* Forehead highlight */}\n    <ellipse cx={-4} cy={-25} rx={14} ry={8} fill={COL.shine} opacity={0.3} />\n\n    {/* Hair front */}\n    <JoeHairFront />\n\n    {/* Ears */}\n    <ellipse cx={-44} cy={5} rx={8} ry={12} fill={COL.skin} stroke={COL.outline} strokeWidth={2.5} />\n    <ellipse cx={44} cy={5} rx={8} ry={12} fill={COL.skin} stroke={COL.outline} strokeWidth={2.5} />\n    <path d=\"M-44,0 Q-41,5 -44,10\" fill=\"none\" stroke={COL.skinShadow} strokeWidth={1.5} />\n    <path d=\"M44,0 Q41,5 44,10\" fill=\"none\" stroke={COL.skinShadow} strokeWidth={1.5} />\n\n    {/* Eyes */}\n    <g transform={`translate(-15, ${0 + emo.eyeOffsetY})`}>\n      <JoeEye blink={blink} scaleY={emo.eyeScaleY} pupilScale={emo.pupilScale} px={pupil.x} py={pupil.y} />\n    </g>\n    <g transform={`translate(15, ${0 + emo.eyeOffsetY})`}>\n      <JoeEye blink={blink} scaleY={emo.eyeScaleY} pupilScale={emo.pupilScale} px={pupil.x} py={pupil.y} />\n    </g>\n\n    {/* Eyebrows - thicker, more casual */}\n    <g transform={`translate(-15, ${-13 + emo.browLeftY}) rotate(${emo.browLeftRotation})`}>\n      <rect x={-9} y={0} width={18} height={4} rx={2} fill={COL.hair} />\n    </g>\n    <g transform={`translate(15, ${-13 + emo.browRightY}) rotate(${emo.browRightRotation})`}>\n      <rect x={-9} y={0} width={18} height={4} rx={2} fill={COL.hair} />\n    </g>\n\n    {/* Blush */}\n    {emo.blushOpacity > 0.01 && (\n      <>\n        <ellipse cx={-26} cy={16} rx={8} ry={5} fill={COL.blush} opacity={emo.blushOpacity} />\n        <ellipse cx={26} cy={16} rx={8} ry={5} fill={COL.blush} opacity={emo.blushOpacity} />\n      </>\n    )}\n\n    {/* Nose - slightly bigger, friendlier */}\n    <path d=\"M-4,10 Q0,18 4,10\" fill=\"none\" stroke={COL.outline} strokeWidth={2.2} strokeLinecap=\"round\" />\n    <circle cx={-3} cy={13} r={2.5} fill={COL.skinShadow} opacity={0.15} />\n    <circle cx={3} cy={13} r={2.5} fill={COL.skinShadow} opacity={0.15} />\n\n    {/* Mouth */}\n    <JoeMouth shape={mouthShape} curve={emo.mouthCurve} width={emo.mouthWidth} emotionOpen={emo.mouthOpen} talking={talking} />\n  </g>\n);\n\nconst JoeHairBack: React.FC = () => (\n  <g>\n    <path\n      d=\"M-40,5 Q-48,-5 -45,-20 Q-42,-35 -35,-40 Q-25,-48 0,-50 Q25,-48 35,-40 Q42,-35 45,-20 Q48,-5 40,5\n         L38,10 Q20,15 0,15 Q-20,15 -38,10 Z\"\n      fill={COL.hair} stroke={COL.outline} strokeWidth={2.5}\n    />\n  </g>\n);\n\nconst JoeHairFront: React.FC = () => (\n  <g>\n    {/* Short messy fringe */}\n    <path\n      d=\"M-30,-35 Q-28,-48 -15,-50 Q-5,-52 5,-50 Q18,-48 25,-40 Q30,-35 28,-28\n         L20,-30 Q10,-42 -5,-42 Q-18,-42 -25,-32 Z\"\n      fill={COL.hair} stroke={COL.outline} strokeWidth={2}\n    />\n    {/* Some texture lines */}\n    <path d=\"M-15,-42 Q-10,-48 -5,-44\" fill=\"none\" stroke={COL.hairDark} strokeWidth={1.5} opacity={0.4} />\n    <path d=\"M5,-44 Q10,-50 15,-42\" fill=\"none\" stroke={COL.hairDark} strokeWidth={1.5} opacity={0.4} />\n    <path d=\"M-8,-46 Q-3,-52 2,-46\" fill=\"none\" stroke={COL.hairLight} strokeWidth={1} opacity={0.3} />\n\n    {/* Side hair - left */}\n    <path d=\"M-42,-5 Q-48,-15 -44,-25 Q-42,-32 -36,-36\" fill={COL.hair} stroke={COL.outline} strokeWidth={2} />\n    {/* Side hair - right */}\n    <path d=\"M42,-5 Q48,-15 44,-25 Q42,-32 36,-36\" fill={COL.hair} stroke={COL.outline} strokeWidth={2} />\n  </g>\n);\n\ninterface JoeEyeProps { blink: number; scaleY: number; pupilScale: number; px: number; py: number; }\n\nconst JoeEye: React.FC<JoeEyeProps> = ({ blink, scaleY, pupilScale, px, py }) => (\n  <g transform={`scale(1, ${scaleY * blink})`}>\n    <ellipse cx={0} cy={0} rx={9} ry={7} fill={COL.eyeWhite} stroke={COL.outline} strokeWidth={1.5} />\n    <circle cx={px} cy={py} r={4.2 * pupilScale} fill={COL.iris} />\n    <circle cx={px} cy={py} r={2.3 * pupilScale} fill={COL.pupil} />\n    <circle cx={px + 1.5} cy={py - 1.5} r={1.4} fill=\"white\" opacity={0.8} />\n  </g>\n);\n\ninterface JoeMouthProps { shape: MouthShape; curve: number; width: number; emotionOpen: number; talking: boolean; }\n\nconst JoeMouth: React.FC<JoeMouthProps> = ({ shape, curve, width, emotionOpen, talking }) => {\n  const talkOpen = talking ? [0, 3, 7, 11][shape] : emotionOpen * 10;\n  const openAmount = Math.max(talkOpen, emotionOpen * 10);\n  const hw = 13 * width;\n\n  if (openAmount < 1) {\n    return (\n      <path d={`M${-hw},28 Q0,${28 + curve} ${hw},28`}\n        fill=\"none\" stroke={COL.outline} strokeWidth={2.5} strokeLinecap=\"round\" />\n    );\n  }\n\n  return (\n    <g transform=\"translate(0, 28)\">\n      <ellipse cx={0} cy={0} rx={hw} ry={openAmount * 0.5 + Math.abs(curve) * 0.2}\n        fill={COL.mouth} stroke={COL.outline} strokeWidth={2.5} />\n      {openAmount > 6 && (\n        <ellipse cx={2} cy={openAmount * 0.25} rx={hw * 0.5} ry={openAmount * 0.2} fill={COL.tongue} />\n      )}\n      {openAmount > 3 && (\n        <rect x={-hw * 0.6} y={-openAmount * 0.35} width={hw * 1.2} height={2.5} fill=\"white\" rx={1} />\n      )}\n    </g>\n  );\n};\n\nexport default AverageJoe;\n","import React, { useMemo } from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { getIdleState } from '../animations/idle';\nimport { getMouthShape, getTalkingBounce, getTalkingGesture } from '../animations/talking';\nimport { interpolateEmotions } from '../animations/emotions';\nimport type { Emotion } from '../animations/emotions';\nimport type { MouthShape } from '../animations/talking';\n\n// Pharaoh: ancient Egyptian ruler  gold headdress, kohl eyes, regal bearing\n// Used in scenes where Professor Pint visits the pyramids\n\ninterface PharaohProps {\n  emotion?: Emotion;\n  previousEmotion?: Emotion;\n  emotionTransitionProgress?: number;\n  talking?: boolean;\n  scale?: number;\n}\n\nconst COL = {\n  skin: '#C8956A',\n  skinShadow: '#A87850',\n  outline: '#1A1A1A',\n  headdress: '#1E3A8A',\n  headdressStripe: '#D4A012',\n  headdressGold: '#FFD700',\n  cobra: '#2D5016',\n  cobraGold: '#D4A012',\n  collar: '#D4A012',\n  collarGem: '#DC2626',\n  collarGem2: '#1E3A8A',\n  robe: '#F5F0E1',\n  robeShadow: '#E0D8C0',\n  sash: '#D4A012',\n  kohl: '#1A1A1A',\n  eyeWhite: '#FFFFFF',\n  iris: '#4A3520',\n  pupil: '#1A1A1A',\n  mouth: '#6B2020',\n  tongue: '#AA4444',\n  blush: '#D4A080',\n  shine: 'rgba(255,255,255,0.4)',\n};\n\nconst SW = 3.5;\n\nexport const Pharaoh: React.FC<PharaohProps> = ({\n  emotion = 'neutral',\n  previousEmotion = 'neutral',\n  emotionTransitionProgress = 1,\n  talking = false,\n  scale = 1,\n}) => {\n  const frame = useCurrentFrame();\n  const idle = getIdleState(frame);\n  const mouthShape = getMouthShape(frame, talking);\n  const talkBounce = getTalkingBounce(frame, talking);\n  const talkGesture = getTalkingGesture(frame, talking);\n\n  const emo = useMemo(\n    () => interpolateEmotions(previousEmotion, emotion, emotionTransitionProgress),\n    [previousEmotion, emotion, emotionTransitionProgress],\n  );\n\n  const bodyY = idle.breathing.y + talkBounce;\n\n  return (\n    <svg\n      viewBox=\"-130 -220 260 420\"\n      width={260 * scale}\n      height={420 * scale}\n      style={{ overflow: 'visible' }}\n    >\n      <g transform={`translate(${idle.sway.x}, ${bodyY}) rotate(${idle.sway.rotation})`}>\n        {/* Legs (hidden under robe, just feet) */}\n        <PharaohLegs />\n\n        {/* Body */}\n        <g transform={`scale(${idle.breathing.scaleX}, 1)`}>\n          <PharaohBody />\n        </g>\n\n        {/* Left arm with crook */}\n        <PharaohLeftArm gestureRotation={talkGesture} />\n\n        {/* Right arm with flail */}\n        <PharaohRightArm />\n\n        {/* Head */}\n        <g transform={`translate(0, -110) rotate(${emo.headTilt})`}>\n          <PharaohHead emo={emo} blink={idle.blink} pupil={idle.pupil} mouthShape={mouthShape} talking={talking} />\n        </g>\n      </g>\n    </svg>\n  );\n};\n\nconst PharaohLegs: React.FC = () => (\n  <g>\n    <path d=\"M-18,110 L-22,140 L-8,140 Z\" fill={COL.robe} stroke={COL.outline} strokeWidth={2} />\n    <path d=\"M18,110 L22,140 L8,140 Z\" fill={COL.robe} stroke={COL.outline} strokeWidth={2} />\n    {/* Sandals */}\n    <ellipse cx={-18} cy={142} rx={15} ry={5} fill=\"#8B6B4A\" stroke={COL.outline} strokeWidth={2} />\n    <ellipse cx={18} cy={142} rx={15} ry={5} fill=\"#8B6B4A\" stroke={COL.outline} strokeWidth={2} />\n  </g>\n);\n\nconst PharaohBody: React.FC = () => (\n  <g>\n    {/* Robe */}\n    <path\n      d=\"M-40,-40 Q-40,-48 -28,-48 L28,-48 Q40,-48 40,-40 L44,105 Q44,115 0,118 Q-44,115 -44,105 Z\"\n      fill={COL.robe} stroke={COL.outline} strokeWidth={SW}\n    />\n    {/* Robe fold lines */}\n    <line x1={-10} y1={-20} x2={-15} y2={100} stroke={COL.robeShadow} strokeWidth={1.5} opacity={0.4} />\n    <line x1={10} y1={-20} x2={15} y2={100} stroke={COL.robeShadow} strokeWidth={1.5} opacity={0.4} />\n\n    {/* Gold sash/belt */}\n    <rect x={-38} y={10} width={76} height={12} rx={3} fill={COL.sash} stroke={COL.outline} strokeWidth={2} />\n    <circle cx={0} cy={16} r={5} fill={COL.collarGem} stroke={COL.outline} strokeWidth={1.5} />\n\n    {/* Broad collar (usekh) */}\n    <path\n      d=\"M-38,-42 Q-32,-52 0,-55 Q32,-52 38,-42 L32,-30 Q16,-38 0,-40 Q-16,-38 -32,-30 Z\"\n      fill={COL.collar} stroke={COL.outline} strokeWidth={2}\n    />\n    {/* Collar gem row */}\n    <circle cx={-18} cy={-38} r={3} fill={COL.collarGem} stroke={COL.outline} strokeWidth={1} />\n    <circle cx={0} cy={-42} r={3} fill={COL.collarGem2} stroke={COL.outline} strokeWidth={1} />\n    <circle cx={18} cy={-38} r={3} fill={COL.collarGem} stroke={COL.outline} strokeWidth={1} />\n    <circle cx={-9} cy={-40} r={2.5} fill={COL.collarGem2} stroke={COL.outline} strokeWidth={1} />\n    <circle cx={9} cy={-40} r={2.5} fill={COL.collarGem2} stroke={COL.outline} strokeWidth={1} />\n\n    {/* Neck */}\n    <rect x={-10} y={-52} width={20} height={10} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n  </g>\n);\n\nconst PharaohLeftArm: React.FC<{ gestureRotation: number }> = ({ gestureRotation }) => (\n  <g transform={`translate(-42, -22) rotate(${-10 + gestureRotation}, 0, 0)`}>\n    <line x1={0} y1={0} x2={-16} y2={36} stroke={COL.robe} strokeWidth={12} strokeLinecap=\"round\" />\n    <line x1={0} y1={0} x2={-16} y2={36} stroke={COL.outline} strokeWidth={14} strokeLinecap=\"round\" opacity={0.12} />\n    <g transform=\"translate(-16, 36)\">\n      <line x1={0} y1={0} x2={-6} y2={28} stroke={COL.skin} strokeWidth={7} strokeLinecap=\"round\" />\n      {/* Hand holding crook */}\n      <circle cx={-8} cy={32} r={7} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n      {/* Crook */}\n      <path d=\"M-8,24 L-8,-10 Q-8,-22 -18,-22 Q-28,-22 -28,-14\" fill=\"none\"\n        stroke={COL.headdressGold} strokeWidth={3.5} strokeLinecap=\"round\" />\n    </g>\n  </g>\n);\n\nconst PharaohRightArm: React.FC = () => (\n  <g transform=\"translate(42, -22)\">\n    <line x1={0} y1={0} x2={14} y2={36} stroke={COL.robe} strokeWidth={12} strokeLinecap=\"round\" />\n    <line x1={0} y1={0} x2={14} y2={36} stroke={COL.outline} strokeWidth={14} strokeLinecap=\"round\" opacity={0.12} />\n    <g transform=\"translate(14, 36)\">\n      <line x1={0} y1={0} x2={4} y2={28} stroke={COL.skin} strokeWidth={7} strokeLinecap=\"round\" />\n      <circle cx={6} cy={32} r={7} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n      {/* Flail */}\n      <line x1={6} y1={24} x2={6} y2={-5} stroke={COL.headdressGold} strokeWidth={3} strokeLinecap=\"round\" />\n      <line x1={6} y1={-5} x2={16} y2={5} stroke={COL.headdressGold} strokeWidth={2.5} />\n      <line x1={6} y1={-5} x2={18} y2={-2} stroke={COL.headdressGold} strokeWidth={2.5} />\n      <line x1={6} y1={-5} x2={14} y2={-10} stroke={COL.headdressGold} strokeWidth={2.5} />\n    </g>\n  </g>\n);\n\ninterface PharaohHeadProps {\n  emo: {\n    eyeScaleY: number; eyeOffsetY: number; pupilScale: number;\n    browLeftY: number; browRightY: number; browLeftRotation: number; browRightRotation: number;\n    mouthCurve: number; mouthWidth: number; mouthOpen: number;\n    blushOpacity: number; headTilt: number;\n  };\n  blink: number;\n  pupil: { x: number; y: number };\n  mouthShape: MouthShape;\n  talking: boolean;\n}\n\nconst PharaohHead: React.FC<PharaohHeadProps> = ({ emo, blink, pupil, mouthShape, talking }) => (\n  <g>\n    {/* Nemes headdress - back */}\n    <path\n      d=\"M-55,10 Q-65,-10 -55,-40 Q-45,-65 0,-70 Q45,-65 55,-40 Q65,-10 55,10\n         L50,50 L42,55 L42,10 Q42,-30 0,-35 Q-42,-30 -42,10 L-42,55 L-50,50 Z\"\n      fill={COL.headdress} stroke={COL.outline} strokeWidth={2.5}\n    />\n    {/* Headdress stripes */}\n    <path d=\"M-48,-20 Q0,-55 48,-20\" fill=\"none\" stroke={COL.headdressStripe} strokeWidth={3} />\n    <path d=\"M-52,-5 Q0,-40 52,-5\" fill=\"none\" stroke={COL.headdressStripe} strokeWidth={3} />\n    <path d=\"M-54,10 Q0,-25 54,10\" fill=\"none\" stroke={COL.headdressStripe} strokeWidth={3} />\n\n    {/* Face */}\n    <ellipse cx={0} cy={2} rx={42} ry={46} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n\n    {/* Headdress front band */}\n    <path d=\"M-42,-28 Q0,-50 42,-28\" fill={COL.headdressGold} stroke={COL.outline} strokeWidth={2} />\n\n    {/* Cobra (uraeus) */}\n    <g transform=\"translate(0, -48)\">\n      <path d=\"M0,0 L0,-15 Q-4,-22 -2,-25 Q0,-28 2,-25 Q4,-22 0,-15\"\n        fill={COL.cobra} stroke={COL.outline} strokeWidth={1.5} />\n      <circle cx={0} cy={-22} r={3.5} fill={COL.cobraGold} stroke={COL.outline} strokeWidth={1.5} />\n      <circle cx={-1} cy={-23} r={1} fill={COL.outline} />\n      <circle cx={1} cy={-23} r={1} fill={COL.outline} />\n    </g>\n\n    {/* Kohl eyes - thicker outline */}\n    <g transform={`translate(-15, ${0 + emo.eyeOffsetY})`}>\n      <PharaohEye blink={blink} scaleY={emo.eyeScaleY} pupilScale={emo.pupilScale} px={pupil.x} py={pupil.y} />\n    </g>\n    <g transform={`translate(15, ${0 + emo.eyeOffsetY})`}>\n      <PharaohEye blink={blink} scaleY={emo.eyeScaleY} pupilScale={emo.pupilScale} px={pupil.x} py={pupil.y} />\n    </g>\n\n    {/* Eyebrows */}\n    <g transform={`translate(-15, ${-14 + emo.browLeftY}) rotate(${emo.browLeftRotation})`}>\n      <rect x={-9} y={0} width={18} height={3} rx={1.5} fill={COL.kohl} />\n    </g>\n    <g transform={`translate(15, ${-14 + emo.browRightY}) rotate(${emo.browRightRotation})`}>\n      <rect x={-9} y={0} width={18} height={3} rx={1.5} fill={COL.kohl} />\n    </g>\n\n    {/* Blush */}\n    {emo.blushOpacity > 0.01 && (\n      <>\n        <ellipse cx={-24} cy={15} rx={7} ry={4} fill={COL.blush} opacity={emo.blushOpacity} />\n        <ellipse cx={24} cy={15} rx={7} ry={4} fill={COL.blush} opacity={emo.blushOpacity} />\n      </>\n    )}\n\n    {/* Nose */}\n    <path d=\"M-3,8 Q0,16 3,8\" fill=\"none\" stroke={COL.outline} strokeWidth={2} strokeLinecap=\"round\" />\n\n    {/* False beard (thin ceremonial beard) */}\n    <path d=\"M-4,38 L-3,65 Q0,70 3,65 L4,38\" fill={COL.headdress} stroke={COL.outline} strokeWidth={2} />\n\n    {/* Mouth */}\n    <PharaohMouth shape={mouthShape} curve={emo.mouthCurve} width={emo.mouthWidth}\n      emotionOpen={emo.mouthOpen} talking={talking} />\n\n    {/* Headdress side flaps */}\n    <path d=\"M-42,10 L-42,55 L-34,50 L-34,10\" fill={COL.headdress} stroke={COL.outline} strokeWidth={2} />\n    <path d=\"M42,10 L42,55 L34,50 L34,10\" fill={COL.headdress} stroke={COL.outline} strokeWidth={2} />\n    <line x1={-38} y1={20} x2={-38} y2={48} stroke={COL.headdressStripe} strokeWidth={2} />\n    <line x1={38} y1={20} x2={38} y2={48} stroke={COL.headdressStripe} strokeWidth={2} />\n  </g>\n);\n\ninterface PharaohEyeProps { blink: number; scaleY: number; pupilScale: number; px: number; py: number; }\n\nconst PharaohEye: React.FC<PharaohEyeProps> = ({ blink, scaleY, pupilScale, px, py }) => (\n  <g transform={`scale(1, ${scaleY * blink})`}>\n    {/* Kohl outline - extended wing */}\n    <path d=\"M-12,0 Q0,-9 12,0 Q0,7 -12,0 Z\" fill={COL.eyeWhite} stroke={COL.kohl} strokeWidth={2.5} />\n    {/* Kohl wing extending outward */}\n    <path d=\"M12,0 L18,-4\" fill=\"none\" stroke={COL.kohl} strokeWidth={2} strokeLinecap=\"round\" />\n    <circle cx={px} cy={py} r={4 * pupilScale} fill={COL.iris} />\n    <circle cx={px} cy={py} r={2.2 * pupilScale} fill={COL.pupil} />\n    <circle cx={px + 1.5} cy={py - 1.5} r={1.2} fill=\"white\" opacity={0.8} />\n  </g>\n);\n\ninterface PharaohMouthProps { shape: MouthShape; curve: number; width: number; emotionOpen: number; talking: boolean; }\n\nconst PharaohMouth: React.FC<PharaohMouthProps> = ({ shape, curve, width, emotionOpen, talking }) => {\n  const talkOpen = talking ? [0, 3, 6, 10][shape] : emotionOpen * 10;\n  const openAmount = Math.max(talkOpen, emotionOpen * 10);\n  const hw = 11 * width;\n\n  if (openAmount < 1) {\n    return (\n      <path d={`M${-hw},26 Q0,${26 + curve} ${hw},26`}\n        fill=\"none\" stroke={COL.outline} strokeWidth={2.5} strokeLinecap=\"round\" />\n    );\n  }\n\n  return (\n    <g transform=\"translate(0, 26)\">\n      <ellipse cx={0} cy={0} rx={hw} ry={openAmount * 0.5}\n        fill={COL.mouth} stroke={COL.outline} strokeWidth={2.5} />\n      {openAmount > 6 && (\n        <ellipse cx={2} cy={openAmount * 0.25} rx={hw * 0.5} ry={openAmount * 0.2} fill={COL.tongue} />\n      )}\n      {openAmount > 3 && (\n        <rect x={-hw * 0.6} y={-openAmount * 0.35} width={hw * 1.2} height={2.5} fill=\"white\" rx={1} />\n      )}\n    </g>\n  );\n};\n\nexport default Pharaoh;\n","import React, { useMemo } from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { getIdleState } from '../animations/idle';\nimport { getMouthShape, getTalkingBounce, getTalkingGesture } from '../animations/talking';\nimport { interpolateEmotions } from '../animations/emotions';\nimport type { Emotion } from '../animations/emotions';\nimport type { MouthShape } from '../animations/talking';\n\n// Worker: ancient Egyptian pyramid builder  muscular, bare-chested, headband, mallet\n// Used in scenes about pyramid construction\n\ninterface WorkerProps {\n  emotion?: Emotion;\n  previousEmotion?: Emotion;\n  emotionTransitionProgress?: number;\n  talking?: boolean;\n  scale?: number;\n}\n\nconst COL = {\n  skin: '#B07840',\n  skinShadow: '#8B5E30',\n  outline: '#1A1A1A',\n  hair: '#2A1A0A',\n  hairDark: '#1A0E05',\n  loincloth: '#F0E8D8',\n  loinclothShadow: '#D8D0C0',\n  headband: '#F0E8D8',\n  headbandStripe: '#CC3333',\n  rope: '#A08050',\n  ropeDark: '#806838',\n  mallet: '#8B6B4A',\n  malletHead: '#6B5030',\n  malletBand: '#A08050',\n  sandal: '#8B6B4A',\n  sandalStrap: '#6B5030',\n  eyeWhite: '#FFFFFF',\n  iris: '#3A2510',\n  pupil: '#1A1A1A',\n  mouth: '#6B2020',\n  tongue: '#AA4444',\n  blush: '#C08060',\n  shine: 'rgba(255,255,255,0.4)',\n};\n\nconst SW = 3.5;\n\nexport const Worker: React.FC<WorkerProps> = ({\n  emotion = 'neutral',\n  previousEmotion = 'neutral',\n  emotionTransitionProgress = 1,\n  talking = false,\n  scale = 1,\n}) => {\n  const frame = useCurrentFrame();\n  const idle = getIdleState(frame);\n  const mouthShape = getMouthShape(frame, talking);\n  const talkBounce = getTalkingBounce(frame, talking);\n  const talkGesture = getTalkingGesture(frame, talking);\n\n  const emo = useMemo(\n    () => interpolateEmotions(previousEmotion, emotion, emotionTransitionProgress),\n    [previousEmotion, emotion, emotionTransitionProgress],\n  );\n\n  const bodyY = idle.breathing.y + talkBounce;\n\n  return (\n    <svg\n      viewBox=\"-130 -200 260 400\"\n      width={260 * scale}\n      height={400 * scale}\n      style={{ overflow: 'visible' }}\n    >\n      <g transform={`translate(${idle.sway.x}, ${bodyY}) rotate(${idle.sway.rotation})`}>\n        {/* Legs */}\n        <WorkerLegs />\n\n        {/* Body */}\n        <g transform={`scale(${idle.breathing.scaleX}, 1)`}>\n          <WorkerBody />\n        </g>\n\n        {/* Left arm with mallet (gesture arm) */}\n        <WorkerLeftArm gestureRotation={talkGesture} />\n\n        {/* Right arm with rope */}\n        <WorkerRightArm />\n\n        {/* Head */}\n        <g transform={`translate(0, -105) rotate(${emo.headTilt})`}>\n          <WorkerHead emo={emo} blink={idle.blink} pupil={idle.pupil} mouthShape={mouthShape} talking={talking} />\n        </g>\n      </g>\n    </svg>\n  );\n};\n\n// ==== SUB-COMPONENTS ====\n\nconst WorkerLegs: React.FC = () => (\n  <g>\n    {/* Muscular legs - bare below loincloth */}\n    <path\n      d=\"M-20,70 L-24,130 L-10,130 L-8,75 Z\"\n      fill={COL.skin} stroke={COL.outline} strokeWidth={SW}\n    />\n    <path\n      d=\"M20,70 L24,130 L10,130 L8,75 Z\"\n      fill={COL.skin} stroke={COL.outline} strokeWidth={SW}\n    />\n    {/* Muscle definition lines */}\n    <line x1={-17} y1={85} x2={-16} y2={110} stroke={COL.skinShadow} strokeWidth={1.2} opacity={0.3} />\n    <line x1={17} y1={85} x2={16} y2={110} stroke={COL.skinShadow} strokeWidth={1.2} opacity={0.3} />\n    {/* Knee lines */}\n    <path d=\"M-19,105 Q-16,108 -13,105\" fill=\"none\" stroke={COL.skinShadow} strokeWidth={1} opacity={0.3} />\n    <path d=\"M19,105 Q16,108 13,105\" fill=\"none\" stroke={COL.skinShadow} strokeWidth={1} opacity={0.3} />\n    {/* Sandals */}\n    <ellipse cx={-20} cy={133} rx={16} ry={6} fill={COL.sandal} stroke={COL.outline} strokeWidth={2} />\n    <ellipse cx={20} cy={133} rx={16} ry={6} fill={COL.sandal} stroke={COL.outline} strokeWidth={2} />\n    {/* Sandal straps */}\n    <line x1={-20} y1={128} x2={-14} y2={133} stroke={COL.sandalStrap} strokeWidth={1.5} />\n    <line x1={-20} y1={128} x2={-26} y2={133} stroke={COL.sandalStrap} strokeWidth={1.5} />\n    <line x1={20} y1={128} x2={14} y2={133} stroke={COL.sandalStrap} strokeWidth={1.5} />\n    <line x1={20} y1={128} x2={26} y2={133} stroke={COL.sandalStrap} strokeWidth={1.5} />\n  </g>\n);\n\nconst WorkerBody: React.FC = () => (\n  <g>\n    {/* Bare torso - wider/more muscular */}\n    <path\n      d=\"M-48,-38 Q-48,-45 -34,-45 L34,-45 Q48,-45 48,-38 L46,45 Q46,75 0,78 Q-46,75 -46,45 Z\"\n      fill={COL.skin} stroke={COL.outline} strokeWidth={SW}\n    />\n\n    {/* Pectoral muscles */}\n    <path d=\"M-30,-28 Q-18,-20 -6,-28\" fill=\"none\" stroke={COL.skinShadow} strokeWidth={1.5} opacity={0.35} />\n    <path d=\"M30,-28 Q18,-20 6,-28\" fill=\"none\" stroke={COL.skinShadow} strokeWidth={1.5} opacity={0.35} />\n\n    {/* Center chest line */}\n    <line x1={0} y1={-30} x2={0} y2={10} stroke={COL.skinShadow} strokeWidth={1} opacity={0.25} />\n\n    {/* Abdominal lines */}\n    <line x1={-8} y1={10} x2={-8} y2={45} stroke={COL.skinShadow} strokeWidth={1} opacity={0.2} />\n    <line x1={8} y1={10} x2={8} y2={45} stroke={COL.skinShadow} strokeWidth={1} opacity={0.2} />\n    <path d=\"M-12,20 Q0,22 12,20\" fill=\"none\" stroke={COL.skinShadow} strokeWidth={0.8} opacity={0.15} />\n    <path d=\"M-12,32 Q0,34 12,32\" fill=\"none\" stroke={COL.skinShadow} strokeWidth={0.8} opacity={0.15} />\n\n    {/* Loincloth / shendyt */}\n    <path\n      d=\"M-38,48 L-42,80 Q-40,85 0,88 Q40,85 42,80 L38,48 Z\"\n      fill={COL.loincloth} stroke={COL.outline} strokeWidth={SW}\n    />\n    {/* Loincloth fold lines */}\n    <line x1={-10} y1={52} x2={-14} y2={82} stroke={COL.loinclothShadow} strokeWidth={1.5} opacity={0.4} />\n    <line x1={10} y1={52} x2={14} y2={82} stroke={COL.loinclothShadow} strokeWidth={1.5} opacity={0.4} />\n    <line x1={0} y1={50} x2={0} y2={84} stroke={COL.loinclothShadow} strokeWidth={1} opacity={0.3} />\n    {/* Loincloth belt/waist tie */}\n    <rect x={-40} y={46} width={80} height={8} rx={3} fill={COL.loincloth} stroke={COL.outline} strokeWidth={2} />\n    <path d=\"M-5,50 L-8,64 L0,60 L8,64 L5,50\" fill={COL.loincloth} stroke={COL.outline} strokeWidth={1.5} />\n\n    {/* Rope coiled over right shoulder diagonally across chest */}\n    <path\n      d=\"M32,-36 Q28,-30 20,-18 Q10,-4 6,10 Q2,22 -4,34\"\n      fill=\"none\" stroke={COL.rope} strokeWidth={6} strokeLinecap=\"round\" opacity={0.9}\n    />\n    <path\n      d=\"M34,-34 Q30,-28 22,-16 Q12,-2 8,12 Q4,24 -2,36\"\n      fill=\"none\" stroke={COL.ropeDark} strokeWidth={2} strokeLinecap=\"round\" opacity={0.3}\n    />\n    {/* Rope texture marks */}\n    <path d=\"M28,-28 L24,-24\" fill=\"none\" stroke={COL.ropeDark} strokeWidth={1} opacity={0.4} />\n    <path d=\"M18,-12 L14,-8\" fill=\"none\" stroke={COL.ropeDark} strokeWidth={1} opacity={0.4} />\n    <path d=\"M10,4 L6,8\" fill=\"none\" stroke={COL.ropeDark} strokeWidth={1} opacity={0.4} />\n\n    {/* Neck - thicker/muscular */}\n    <rect x={-12} y={-50} width={24} height={12} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n  </g>\n);\n\nconst WorkerLeftArm: React.FC<{ gestureRotation: number }> = ({ gestureRotation }) => (\n  <g transform={`translate(-48, -20) rotate(${-10 + gestureRotation}, 0, 0)`}>\n    {/* Upper arm - muscular bare skin */}\n    <line x1={0} y1={0} x2={-16} y2={36} stroke={COL.skin} strokeWidth={14} strokeLinecap=\"round\" />\n    <line x1={0} y1={0} x2={-16} y2={36} stroke={COL.outline} strokeWidth={16} strokeLinecap=\"round\" opacity={0.12} />\n    {/* Bicep line */}\n    <line x1={-4} y1={8} x2={-8} y2={22} stroke={COL.skinShadow} strokeWidth={1.2} opacity={0.3} />\n    <g transform=\"translate(-16, 36)\">\n      {/* Forearm */}\n      <line x1={0} y1={0} x2={-6} y2={28} stroke={COL.skin} strokeWidth={9} strokeLinecap=\"round\" />\n      <line x1={0} y1={0} x2={-6} y2={28} stroke={COL.outline} strokeWidth={11} strokeLinecap=\"round\" opacity={0.12} />\n      {/* Hand gripping mallet */}\n      <circle cx={-8} cy={32} r={8} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n      {/* Wooden mallet */}\n      <line x1={-8} y1={24} x2={-8} y2={-8} stroke={COL.mallet} strokeWidth={4} strokeLinecap=\"round\" />\n      {/* Mallet head */}\n      <rect x={-20} y={-18} width={24} height={14} rx={3} fill={COL.malletHead} stroke={COL.outline} strokeWidth={2} />\n      {/* Mallet band */}\n      <rect x={-18} y={-14} width={20} height={3} rx={1} fill={COL.malletBand} opacity={0.5} />\n    </g>\n  </g>\n);\n\nconst WorkerRightArm: React.FC = () => (\n  <g transform=\"translate(48, -20)\">\n    {/* Upper arm */}\n    <line x1={0} y1={0} x2={14} y2={36} stroke={COL.skin} strokeWidth={14} strokeLinecap=\"round\" />\n    <line x1={0} y1={0} x2={14} y2={36} stroke={COL.outline} strokeWidth={16} strokeLinecap=\"round\" opacity={0.12} />\n    {/* Bicep line */}\n    <line x1={4} y1={8} x2={8} y2={22} stroke={COL.skinShadow} strokeWidth={1.2} opacity={0.3} />\n    <g transform=\"translate(14, 36)\">\n      {/* Forearm */}\n      <line x1={0} y1={0} x2={4} y2={28} stroke={COL.skin} strokeWidth={9} strokeLinecap=\"round\" />\n      <line x1={0} y1={0} x2={4} y2={28} stroke={COL.outline} strokeWidth={11} strokeLinecap=\"round\" opacity={0.12} />\n      {/* Hand */}\n      <circle cx={6} cy={32} r={8} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n      {/* Rope end dangling from hand */}\n      <path d=\"M6,28 Q10,40 6,50 Q2,58 8,64\" fill=\"none\" stroke={COL.rope} strokeWidth={3.5} strokeLinecap=\"round\" />\n      <path d=\"M8,28 Q12,42 8,52 Q4,60 10,66\" fill=\"none\" stroke={COL.ropeDark} strokeWidth={1} strokeLinecap=\"round\" opacity={0.3} />\n    </g>\n  </g>\n);\n\ninterface WorkerHeadProps {\n  emo: {\n    eyeScaleY: number; eyeOffsetY: number; pupilScale: number;\n    browLeftY: number; browRightY: number; browLeftRotation: number; browRightRotation: number;\n    mouthCurve: number; mouthWidth: number; mouthOpen: number;\n    blushOpacity: number; headTilt: number;\n  };\n  blink: number;\n  pupil: { x: number; y: number };\n  mouthShape: MouthShape;\n  talking: boolean;\n}\n\nconst WorkerHead: React.FC<WorkerHeadProps> = ({ emo, blink, pupil, mouthShape, talking }) => (\n  <g>\n    {/* Short black hair (back) */}\n    <path\n      d=\"M-38,0 Q-44,-10 -40,-25 Q-36,-38 -28,-42 Q-18,-48 0,-50 Q18,-48 28,-42 Q36,-38 40,-25 Q44,-10 38,0\n         L36,5 Q18,8 0,8 Q-18,8 -36,5 Z\"\n      fill={COL.hair} stroke={COL.outline} strokeWidth={2.5}\n    />\n\n    {/* Head - squarish jaw, strong build */}\n    <ellipse cx={0} cy={4} rx={42} ry={46} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n\n    {/* Hair front - short cropped */}\n    <path\n      d=\"M-28,-32 Q-22,-46 -10,-48 Q0,-50 10,-48 Q22,-46 28,-32\n         L24,-34 Q14,-44 0,-44 Q-14,-44 -24,-34 Z\"\n      fill={COL.hair} stroke={COL.outline} strokeWidth={2}\n    />\n    {/* Hair texture */}\n    <path d=\"M-12,-44 Q-6,-48 0,-44\" fill=\"none\" stroke={COL.hairDark} strokeWidth={1.2} opacity={0.4} />\n    <path d=\"M4,-44 Q10,-48 16,-42\" fill=\"none\" stroke={COL.hairDark} strokeWidth={1.2} opacity={0.4} />\n\n    {/* Headband */}\n    <path\n      d=\"M-40,-18 Q-42,-22 -38,-26 Q-20,-36 0,-38 Q20,-36 38,-26 Q42,-22 40,-18\n         Q20,-28 0,-30 Q-20,-28 -40,-18 Z\"\n      fill={COL.headband} stroke={COL.outline} strokeWidth={2}\n    />\n    {/* Red stripe on headband */}\n    <path\n      d=\"M-39,-20 Q-20,-30 0,-32 Q20,-30 39,-20\n         Q20,-28 0,-30 Q-20,-28 -39,-20 Z\"\n      fill={COL.headbandStripe} opacity={0.8}\n    />\n\n    {/* Ears */}\n    <ellipse cx={-40} cy={8} rx={7} ry={11} fill={COL.skin} stroke={COL.outline} strokeWidth={2.5} />\n    <ellipse cx={40} cy={8} rx={7} ry={11} fill={COL.skin} stroke={COL.outline} strokeWidth={2.5} />\n    <path d=\"M-40,3 Q-37,8 -40,13\" fill=\"none\" stroke={COL.skinShadow} strokeWidth={1.5} />\n    <path d=\"M40,3 Q37,8 40,13\" fill=\"none\" stroke={COL.skinShadow} strokeWidth={1.5} />\n\n    {/* Eyes */}\n    <g transform={`translate(-15, ${2 + emo.eyeOffsetY})`}>\n      <WorkerEye blink={blink} scaleY={emo.eyeScaleY} pupilScale={emo.pupilScale} px={pupil.x} py={pupil.y} />\n    </g>\n    <g transform={`translate(15, ${2 + emo.eyeOffsetY})`}>\n      <WorkerEye blink={blink} scaleY={emo.eyeScaleY} pupilScale={emo.pupilScale} px={pupil.x} py={pupil.y} />\n    </g>\n\n    {/* Eyebrows - thick, strong */}\n    <g transform={`translate(-15, ${-12 + emo.browLeftY}) rotate(${emo.browLeftRotation})`}>\n      <rect x={-10} y={0} width={20} height={4.5} rx={2} fill={COL.hair} />\n    </g>\n    <g transform={`translate(15, ${-12 + emo.browRightY}) rotate(${emo.browRightRotation})`}>\n      <rect x={-10} y={0} width={20} height={4.5} rx={2} fill={COL.hair} />\n    </g>\n\n    {/* Blush */}\n    {emo.blushOpacity > 0.01 && (\n      <>\n        <ellipse cx={-24} cy={18} rx={7} ry={4} fill={COL.blush} opacity={emo.blushOpacity} />\n        <ellipse cx={24} cy={18} rx={7} ry={4} fill={COL.blush} opacity={emo.blushOpacity} />\n      </>\n    )}\n\n    {/* Nose - broader, stronger */}\n    <path d=\"M-4,10 Q0,20 4,10\" fill=\"none\" stroke={COL.outline} strokeWidth={2.2} strokeLinecap=\"round\" />\n    <circle cx={-3} cy={14} r={2.5} fill={COL.skinShadow} opacity={0.15} />\n    <circle cx={3} cy={14} r={2.5} fill={COL.skinShadow} opacity={0.15} />\n\n    {/* Slight stubble/jaw shadow */}\n    <path d=\"M-28,30 Q0,48 28,30\" fill=\"none\" stroke={COL.skinShadow} strokeWidth={1} opacity={0.15} />\n\n    {/* Mouth */}\n    <WorkerMouth shape={mouthShape} curve={emo.mouthCurve} width={emo.mouthWidth}\n      emotionOpen={emo.mouthOpen} talking={talking} />\n  </g>\n);\n\ninterface WorkerEyeProps { blink: number; scaleY: number; pupilScale: number; px: number; py: number; }\n\nconst WorkerEye: React.FC<WorkerEyeProps> = ({ blink, scaleY, pupilScale, px, py }) => (\n  <g transform={`scale(1, ${scaleY * blink})`}>\n    <ellipse cx={0} cy={0} rx={9} ry={7} fill={COL.eyeWhite} stroke={COL.outline} strokeWidth={1.8} />\n    <circle cx={px} cy={py} r={4.2 * pupilScale} fill={COL.iris} />\n    <circle cx={px} cy={py} r={2.3 * pupilScale} fill={COL.pupil} />\n    <circle cx={px + 1.5} cy={py - 1.5} r={1.3} fill=\"white\" opacity={0.8} />\n  </g>\n);\n\ninterface WorkerMouthProps { shape: MouthShape; curve: number; width: number; emotionOpen: number; talking: boolean; }\n\nconst WorkerMouth: React.FC<WorkerMouthProps> = ({ shape, curve, width, emotionOpen, talking }) => {\n  const talkOpen = talking ? [0, 3, 7, 11][shape] : emotionOpen * 10;\n  const openAmount = Math.max(talkOpen, emotionOpen * 10);\n  const hw = 12 * width;\n\n  if (openAmount < 1) {\n    return (\n      <path d={`M${-hw},28 Q0,${28 + curve} ${hw},28`}\n        fill=\"none\" stroke={COL.outline} strokeWidth={2.5} strokeLinecap=\"round\" />\n    );\n  }\n\n  return (\n    <g transform=\"translate(0, 28)\">\n      <ellipse cx={0} cy={0} rx={hw} ry={openAmount * 0.5 + Math.abs(curve) * 0.2}\n        fill={COL.mouth} stroke={COL.outline} strokeWidth={2.5} />\n      {openAmount > 6 && (\n        <ellipse cx={2} cy={openAmount * 0.25} rx={hw * 0.5} ry={openAmount * 0.2} fill={COL.tongue} />\n      )}\n      {openAmount > 3 && (\n        <rect x={-hw * 0.6} y={-openAmount * 0.35} width={hw * 1.2} height={2.5} fill=\"white\" rx={1} />\n      )}\n    </g>\n  );\n};\n\nexport default Worker;\n","import React from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { sineWave } from '../animations/easing';\n\n// ============================================================================\n// Professor Pint - Pub Interior Background\n// Oil-painting quality cozy European pub. Vermeer/Rembrandt warm interior style.\n// 1920x1080 @ 30fps, all animations via sineWave(frame, freq, phase)\n// ============================================================================\n\ninterface PubProps {\n  boardText?: string;\n  width?: number;\n  height?: number;\n}\n\n// ---------------------------------------------------------------------------\n// Color Palette - 90+ named colors for oil-painting richness\n// ---------------------------------------------------------------------------\nconst C = {\n  // Walls\n  wall: '#3D2B1F',\n  wallDeep: '#2E1F14',\n  wallAccent: '#4A3628',\n  wallMolding: '#5C3A20',\n  wallMoldingHi: '#7A5030',\n  wallPanelDark: '#2A1C12',\n  wallPanelMid: '#3A2818',\n  wallPanelLight: '#4E3622',\n  wallPanelEdge: '#5A402A',\n  wainscot: '#3E2A1A',\n  wainscotGroove: '#2C1C10',\n  wainscotCap: '#5C3E28',\n  crownMolding: '#6B4A32',\n  crownMoldingHi: '#8A6444',\n\n  // Ceiling\n  ceiling: '#2A1C12',\n  ceilingBeam: '#3E2818',\n  ceilingBeamHi: '#5A3E28',\n  ceilingBeamShadow: '#1E1008',\n\n  // Floor\n  floor: '#5C3A1E',\n  floorDark: '#4A2E14',\n  floorLight: '#6E4A2A',\n  floorGrain: '#3E2410',\n  floorWorn: '#6B4828',\n  floorStain: 'rgba(30,15,5,0.3)',\n  floorShine: 'rgba(255,200,120,0.06)',\n\n  // Bar\n  bar: '#6B3A2A',\n  barTop: '#8B5A3A',\n  barTopShine: 'rgba(255,220,160,0.15)',\n  barTopReflect: 'rgba(255,200,120,0.08)',\n  barFront: '#5C2E1E',\n  barTrim: '#7A4A32',\n  barPanel: '#4E2518',\n  barPanelGroove: '#3A1A0E',\n  barPanelMolding: '#6A3E28',\n  barEdge: '#8B5A3A',\n  barFootRail: '#B8924A',\n  barFootRailHi: '#D4AA5E',\n  barFootRailShadow: '#8A6E3A',\n\n  // Shelves & bottles\n  shelf: '#5C3218',\n  shelfFront: '#6B3A20',\n  shelfBracket: '#4A2812',\n  bottleGreen: '#1A4A28',\n  bottleGreenDk: '#0E3018',\n  bottleBrown: '#5A3218',\n  bottleBrownDk: '#3E2210',\n  bottleAmber: '#8A5A1E',\n  bottleAmberDk: '#6A4418',\n  bottleClear: 'rgba(200,220,240,0.4)',\n  bottleRed: '#6A1E1E',\n  bottleRedDk: '#4A1010',\n  bottleBlue: '#1E2E5A',\n  bottleLabel: '#E8DCC8',\n  bottleLabelDk: '#C4B8A4',\n  bottleCap: '#888888',\n  liquidAmber: 'rgba(200,140,40,0.5)',\n  liquidRed: 'rgba(140,20,20,0.4)',\n  liquidGreen: 'rgba(40,100,40,0.3)',\n\n  // Glass\n  glass: 'rgba(200,220,240,0.35)',\n  glassThin: 'rgba(200,220,240,0.2)',\n  glassShine: 'rgba(255,255,255,0.25)',\n  glassHighlight: 'rgba(255,255,255,0.4)',\n  glassRim: 'rgba(255,255,255,0.15)',\n  beerGold: 'rgba(220,170,40,0.6)',\n  beerFoam: 'rgba(255,248,230,0.85)',\n  beerDark: 'rgba(60,30,10,0.5)',\n  whiskey: 'rgba(180,100,20,0.5)',\n\n  // Brass\n  brass: '#B8924A',\n  brassHi: '#D4AA5E',\n  brassDk: '#8A6E3A',\n  brassShadow: '#6A5028',\n  brassPatina: 'rgba(80,110,60,0.15)',\n\n  // Stool\n  stool: '#3A2010',\n  stoolSeat: '#6B4528',\n  stoolSeatHi: '#7E5634',\n  stoolLeather: '#5A3820',\n  stoolMetal: '#888888',\n  stoolMetalDk: '#666666',\n\n  // Chalkboard\n  chalkboard: '#2A3A2A',\n  chalkboardDk: '#1E2E1E',\n  chalkFrame: '#4A2A1A',\n  chalkFrameHi: '#5E3A24',\n  chalk: '#E8E8D8',\n  chalkDust: 'rgba(232,232,216,0.15)',\n\n  // Lamps\n  lampShade: '#B8890F',\n  lampShadeHi: '#D4A020',\n  lampShadeDk: '#8A6608',\n  lampChain: '#5A5A5A',\n  lampChainHi: '#7A7A7A',\n  lampBulb: '#FFF4D6',\n  lampBulbCore: '#FFFFFF',\n\n  // Taps\n  tapBase: '#444444',\n  tapBaseDk: '#2A2A2A',\n  tapHandle: '#C0C0C0',\n  tapHandleHi: '#E0E0E0',\n  tapAccent1: '#2D5016',\n  tapAccent2: '#8B0000',\n  tapAccent3: '#D4A012',\n  tapAccent4: '#1A3A6A',\n\n  // Fireplace\n  fireBrick: '#6A3A2A',\n  fireBrickDk: '#4A2218',\n  fireBrickMortar: '#5A4838',\n  fireMantel: '#5A3218',\n  fireMantelHi: '#7A4A2A',\n  fireOrange: '#FF8C20',\n  fireYellow: '#FFD040',\n  fireRed: '#CC3300',\n  fireCoreWhite: '#FFE8A0',\n  fireEmber: '#FF4400',\n  fireLog: '#3A1E0A',\n  fireLogHi: '#5A3218',\n  fireAsh: '#8A8078',\n  fireGlow: 'rgba(255,140,30,',\n\n  // Candle\n  candleWax: '#E8DCC0',\n  candleWick: '#2A1A0A',\n  candleFlame: '#FFD040',\n  candleFlameTip: '#FF8C20',\n  candleFlameCore: '#FFF8E0',\n  candleGlow: 'rgba(255,200,80,',\n  candleHolder: '#888870',\n  candleHolderBrass: '#A08840',\n\n  // Dartboard\n  dartRed: '#CC2200',\n  dartGreen: '#1A5A28',\n  dartBlack: '#1A1A1A',\n  dartCream: '#E8DCC0',\n  dartWire: '#AAAAAA',\n  dartBoard: '#C4A878',\n\n  // Paintings\n  paintFrame: '#8A6A30',\n  paintFrameInner: '#6A4E20',\n  paintFrameHi: '#B08A40',\n  paintCanvas: '#3A3028',\n\n  // Fabric\n  curtain: '#5A1E1E',\n  curtainDk: '#3E1010',\n  curtainFold: '#7A2828',\n\n  // Warm light\n  warmGlow: 'rgba(255,200,100,',\n  warmGlowFire: 'rgba(255,140,50,',\n  ambientWarm: 'rgba(255,180,80,0.08)',\n  ambientDark: 'rgba(0,0,0,0.15)',\n\n  // General\n  outline: '#1A1A1A',\n  outlineSoft: '#2A1A0A',\n  shadow: 'rgba(0,0,0,0.25)',\n  shadowDeep: 'rgba(0,0,0,0.4)',\n  vignetteEdge: 'rgba(10,5,0,0.6)',\n  vignetteMid: 'rgba(10,5,0,0.2)',\n  smoke: 'rgba(180,160,130,',\n  dustMote: 'rgba(255,220,160,0.3)',\n};\n\n// ---------------------------------------------------------------------------\n// Sub-component: GlassShelf - wall-mounted shelf with bottles and glasses\n// ---------------------------------------------------------------------------\nconst GlassShelf: React.FC<{ x: number; y: number; variant?: number }> = ({\n  x,\n  y,\n  variant = 0,\n}) => {\n  const bottles = [\n    { bx: 15, color: C.bottleGreen, dk: C.bottleGreenDk, h: 52, w: 12, label: true },\n    { bx: 42, color: C.bottleBrown, dk: C.bottleBrownDk, h: 48, w: 11, label: true },\n    { bx: 68, color: C.bottleAmber, dk: C.bottleAmberDk, h: 55, w: 13, label: false },\n    { bx: 95, color: C.bottleRed, dk: C.bottleRedDk, h: 44, w: 10, label: true },\n    { bx: 118, color: C.bottleGreen, dk: C.bottleGreenDk, h: 50, w: 12, label: false },\n    { bx: 145, color: C.bottleClear, dk: 'rgba(160,180,200,0.3)', h: 46, w: 10, label: true },\n    { bx: 170, color: C.bottleBrown, dk: C.bottleBrownDk, h: 53, w: 12, label: true },\n    { bx: 198, color: C.bottleBlue, dk: '#142248', h: 42, w: 11, label: false },\n    { bx: 222, color: C.bottleAmber, dk: C.bottleAmberDk, h: 50, w: 12, label: true },\n    { bx: 250, color: C.bottleRed, dk: C.bottleRedDk, h: 47, w: 11, label: true },\n    { bx: 275, color: C.bottleGreen, dk: C.bottleGreenDk, h: 51, w: 12, label: false },\n  ];\n\n  // Shift bottle selection by variant\n  const shiftedBottles = variant === 0\n    ? bottles\n    : bottles.slice(variant % 3).concat(bottles.slice(0, variant % 3));\n\n  return (\n    <g transform={`translate(${x}, ${y})`}>\n      {/* Shelf brackets */}\n      <path d=\"M-2,58 L-2,72 L12,72\" fill=\"none\" stroke={C.shelfBracket} strokeWidth={3} />\n      <path d=\"M302,58 L302,72 L288,72\" fill=\"none\" stroke={C.shelfBracket} strokeWidth={3} />\n\n      {/* Shelf plank */}\n      <rect x={-5} y={55} width={310} height={12} rx={1} fill={C.shelf} stroke={C.outlineSoft} strokeWidth={1.5} />\n      <rect x={-5} y={55} width={310} height={3} fill={C.shelfFront} opacity={0.6} />\n      <rect x={-5} y={64} width={310} height={3} fill={C.shelfBracket} opacity={0.4} />\n\n      {/* Bottles */}\n      {shiftedBottles.map((b, i) => (\n        <g key={`bottle-${i}`} transform={`translate(${b.bx}, ${55 - b.h})`}>\n          {/* Bottle body */}\n          <rect x={-b.w / 2} y={b.h * 0.2} width={b.w} height={b.h * 0.8} rx={2}\n            fill={b.color} stroke={C.outlineSoft} strokeWidth={1} />\n          {/* Bottle neck */}\n          <rect x={-b.w / 4} y={0} width={b.w / 2} height={b.h * 0.25} rx={1.5}\n            fill={b.dk} stroke={C.outlineSoft} strokeWidth={0.8} />\n          {/* Cap */}\n          <rect x={-b.w / 4 - 1} y={-2} width={b.w / 2 + 2} height={4} rx={1}\n            fill={C.bottleCap} opacity={0.7} />\n          {/* Label */}\n          {b.label && (\n            <rect x={-b.w / 2 + 2} y={b.h * 0.4} width={b.w - 4} height={b.h * 0.25} rx={1}\n              fill={C.bottleLabel} opacity={0.7} />\n          )}\n          {/* Highlight streak */}\n          <line x1={-b.w / 4} y1={b.h * 0.25} x2={-b.w / 4} y2={b.h * 0.9}\n            stroke={C.glassShine} strokeWidth={0.8} opacity={0.5} />\n        </g>\n      ))}\n    </g>\n  );\n};\n\n// ---------------------------------------------------------------------------\n// Sub-component: PintGlass - detailed pint glass with beer\n// ---------------------------------------------------------------------------\nconst PintGlass: React.FC<{ x: number; y: number; filled?: boolean }> = ({\n  x,\n  y,\n  filled = true,\n}) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {/* Glass body - slight taper */}\n    <path d=\"M-10,0 L-8,-44 L8,-44 L10,0 Z\" fill={C.glass} stroke={C.outlineSoft} strokeWidth={1.5} />\n    {/* Beer fill */}\n    {filled && (\n      <>\n        <path d=\"M-9,-2 L-8,-38 L8,-38 L9,-2 Z\" fill={C.beerGold} />\n        {/* Foam head */}\n        <ellipse cx={0} cy={-38} rx={8} ry={4} fill={C.beerFoam} />\n        <ellipse cx={-3} cy={-39} rx={2} ry={1.5} fill=\"white\" opacity={0.3} />\n        <ellipse cx={3} cy={-37} rx={1.5} ry={1} fill=\"white\" opacity={0.2} />\n      </>\n    )}\n    {/* Glass highlights */}\n    <line x1={-6} y1={-40} x2={-5} y2={-4} stroke={C.glassShine} strokeWidth={1.2} />\n    <line x1={6} y1={-38} x2={5.5} y2={-6} stroke={C.glassHighlight} strokeWidth={0.6} opacity={0.3} />\n    {/* Rim highlight */}\n    <ellipse cx={0} cy={-44} rx={8.5} ry={2} fill=\"none\" stroke={C.glassRim} strokeWidth={0.8} />\n  </g>\n);\n\n// ---------------------------------------------------------------------------\n// Sub-component: WineGlass - stemmed wine glass\n// ---------------------------------------------------------------------------\nconst WineGlass: React.FC<{ x: number; y: number; hasWine?: boolean }> = ({\n  x,\n  y,\n  hasWine = false,\n}) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {/* Bowl */}\n    <ellipse cx={0} cy={-30} rx={9} ry={14} fill={C.glassThin} stroke={C.outlineSoft} strokeWidth={1.2} />\n    {hasWine && <ellipse cx={0} cy={-26} rx={7} ry={8} fill={C.liquidRed} />}\n    {/* Stem */}\n    <line x1={0} y1={-16} x2={0} y2={-2} stroke={C.outlineSoft} strokeWidth={1.5} />\n    {/* Base */}\n    <ellipse cx={0} cy={0} rx={8} ry={2.5} fill={C.glassThin} stroke={C.outlineSoft} strokeWidth={1} />\n    {/* Shine */}\n    <line x1={-4} y1={-38} x2={-3} y2={-22} stroke={C.glassShine} strokeWidth={0.8} />\n    <ellipse cx={3} cy={-30} rx={2} ry={5} fill={C.glassHighlight} opacity={0.15} />\n  </g>\n);\n\n// ---------------------------------------------------------------------------\n// Sub-component: Tumbler - short whiskey glass\n// ---------------------------------------------------------------------------\nconst Tumbler: React.FC<{ x: number; y: number; hasLiquid?: boolean }> = ({\n  x,\n  y,\n  hasLiquid = false,\n}) => (\n  <g transform={`translate(${x}, ${y})`}>\n    <path d=\"M-8,0 L-7,-26 L7,-26 L8,0 Z\" fill={C.glassThin} stroke={C.outlineSoft} strokeWidth={1.2} />\n    {hasLiquid && <path d=\"M-7,-2 L-6.5,-14 L6.5,-14 L7,-2 Z\" fill={C.whiskey} />}\n    {/* Thick bottom */}\n    <rect x={-8} y={-3} width={16} height={3} rx={1} fill={C.glass} opacity={0.5} />\n    <line x1={-5} y1={-22} x2={-4} y2={-4} stroke={C.glassShine} strokeWidth={0.8} />\n    {/* Cut glass pattern */}\n    <line x1={-3} y1={-24} x2={-2} y2={-4} stroke={C.glassRim} strokeWidth={0.4} />\n    <line x1={3} y1={-24} x2={2} y2={-4} stroke={C.glassRim} strokeWidth={0.4} />\n  </g>\n);\n\n// ---------------------------------------------------------------------------\n// Sub-component: WhiskeyBottle - tall detailed bottle on display\n// ---------------------------------------------------------------------------\nconst WhiskeyBottle: React.FC<{ x: number; y: number; color?: string; labelText?: string }> = ({\n  x,\n  y,\n  color = C.bottleAmber,\n  labelText = '',\n}) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {/* Body */}\n    <rect x={-14} y={-55} width={28} height={55} rx={3} fill={color} stroke={C.outlineSoft} strokeWidth={1.5} />\n    {/* Shoulder taper */}\n    <path d=\"M-14,-55 L-14,-60 Q-14,-68 -7,-68 L7,-68 Q14,-68 14,-60 L14,-55\" fill={color} stroke={C.outlineSoft} strokeWidth={1} />\n    {/* Neck */}\n    <rect x={-6} y={-82} width={12} height={14} rx={2} fill={color} stroke={C.outlineSoft} strokeWidth={1} />\n    {/* Cap */}\n    <rect x={-7} y={-86} width={14} height={5} rx={2} fill={C.bottleCap} stroke={C.outlineSoft} strokeWidth={1} />\n    {/* Label */}\n    <rect x={-11} y={-42} width={22} height={20} rx={1} fill={C.bottleLabel} opacity={0.8} />\n    <rect x={-9} y={-40} width={18} height={2} fill={C.bottleLabelDk} opacity={0.4} />\n    <rect x={-7} y={-35} width={14} height={1.5} fill={C.bottleLabelDk} opacity={0.3} />\n    {labelText && (\n      <text x={0} y={-30} textAnchor=\"middle\" fontSize={5} fill={C.outlineSoft} fontFamily=\"serif\">{labelText}</text>\n    )}\n    {/* Liquid level visible */}\n    <rect x={-12} y={-20} width={24} height={20} rx={2} fill={C.liquidAmber} opacity={0.4} />\n    {/* Glass highlight */}\n    <line x1={-10} y1={-52} x2={-10} y2={-5} stroke={C.glassShine} strokeWidth={1} opacity={0.4} />\n  </g>\n);\n\n// ---------------------------------------------------------------------------\n// Sub-component: BeerTap - single beer tap with badge\n// ---------------------------------------------------------------------------\nconst BeerTap: React.FC<{ x: number; y: number; color: string; badgeText?: string }> = ({\n  x,\n  y,\n  color,\n  badgeText = '',\n}) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {/* Tap column */}\n    <rect x={-6} y={-55} width={12} height={48} rx={3} fill={C.tapHandle} stroke={C.outlineSoft} strokeWidth={1.5} />\n    <rect x={-5} y={-52} width={2} height={42} fill={C.tapHandleHi} opacity={0.3} />\n    {/* Handle / badge */}\n    <rect x={-5} y={-74} width={10} height={24} rx={5} fill={color} stroke={C.outlineSoft} strokeWidth={2} />\n    {/* Badge top */}\n    <circle cx={0} cy={-76} r={7} fill={color} stroke={C.outlineSoft} strokeWidth={2} />\n    <circle cx={0} cy={-76} r={4} fill=\"rgba(255,255,255,0.15)\" />\n    {badgeText && (\n      <text x={0} y={-60} textAnchor=\"middle\" fontSize={4} fill=\"white\" fontWeight=\"bold\">{badgeText}</text>\n    )}\n    {/* Highlight on handle */}\n    <circle cx={-1} cy={-64} r={2.5} fill=\"rgba(255,255,255,0.2)\" />\n    {/* Spout */}\n    <path d=\"M-4,-7 L-3,-3 L3,-3 L4,-7\" fill={C.tapHandle} stroke={C.outlineSoft} strokeWidth={1} />\n    <ellipse cx={0} cy={-3} rx={3.5} ry={1.5} fill={C.tapBaseDk} />\n  </g>\n);\n\n// ---------------------------------------------------------------------------\n// Sub-component: BeerTapGroup - 3 taps on a base\n// ---------------------------------------------------------------------------\nconst BeerTapGroup: React.FC<{ x: number; y: number }> = ({ x, y }) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {/* Base plate */}\n    <rect x={-85} y={-14} width={170} height={16} rx={4} fill={C.tapBase} stroke={C.outlineSoft} strokeWidth={2} />\n    <rect x={-83} y={-12} width={166} height={4} fill={C.tapBaseDk} opacity={0.5} />\n    {/* Drip tray */}\n    <rect x={-75} y={2} width={150} height={10} rx={2} fill={C.tapBase} stroke={C.outlineSoft} strokeWidth={1.5} opacity={0.7} />\n    <rect x={-70} y={4} width={140} height={6} rx={1} fill={C.tapBaseDk} opacity={0.3} />\n    {/* Three taps */}\n    <BeerTap x={-48} y={-14} color={C.tapAccent1} />\n    <BeerTap x={0} y={-14} color={C.tapAccent2} />\n    <BeerTap x={48} y={-14} color={C.tapAccent3} />\n  </g>\n);\n\n// ---------------------------------------------------------------------------\n// Sub-component: BarStool - leather-topped bar stool\n// ---------------------------------------------------------------------------\nconst BarStool: React.FC<{ x: number; y: number; angle?: number }> = ({\n  x,\n  y,\n  angle = 0,\n}) => (\n  <g transform={`translate(${x}, ${y}) rotate(${angle})`}>\n    {/* Seat - leather cushion */}\n    <ellipse cx={0} cy={-10} rx={40} ry={14} fill={C.stoolSeat} stroke={C.outlineSoft} strokeWidth={2.5} />\n    {/* Leather highlight */}\n    <ellipse cx={-8} cy={-14} rx={20} ry={6} fill={C.stoolSeatHi} opacity={0.3} />\n    {/* Leather stitching suggestion */}\n    <ellipse cx={0} cy={-10} rx={32} ry={10} fill=\"none\" stroke={C.stoolLeather} strokeWidth={0.8} strokeDasharray=\"4,3\" opacity={0.3} />\n    {/* Cushion edge shadow */}\n    <ellipse cx={0} cy={-6} rx={38} ry={10} fill=\"none\" stroke={C.shadow} strokeWidth={1.5} opacity={0.3} />\n\n    {/* Center post */}\n    <rect x={-6} y={2} width={12} height={72} rx={3} fill={C.stool} stroke={C.outlineSoft} strokeWidth={2} />\n    {/* Post highlight */}\n    <rect x={-4} y={6} width={3} height={64} rx={1.5} fill={C.stoolSeat} opacity={0.15} />\n\n    {/* Foot ring */}\n    <ellipse cx={0} cy={50} rx={24} ry={7} fill=\"none\" stroke={C.stoolMetal} strokeWidth={4} />\n    <ellipse cx={0} cy={49} rx={24} ry={7} fill=\"none\" stroke={C.stoolMetalDk} strokeWidth={1} opacity={0.3} />\n\n    {/* Legs */}\n    <line x1={-6} y1={74} x2={-30} y2={98} stroke={C.stool} strokeWidth={5} strokeLinecap=\"round\" />\n    <line x1={6} y1={74} x2={30} y2={98} stroke={C.stool} strokeWidth={5} strokeLinecap=\"round\" />\n    <line x1={0} y1={74} x2={0} y2={102} stroke={C.stool} strokeWidth={5} strokeLinecap=\"round\" />\n    {/* Back leg */}\n    <line x1={0} y1={74} x2={-15} y2={100} stroke={C.stool} strokeWidth={4} strokeLinecap=\"round\" opacity={0.6} />\n    <line x1={0} y1={74} x2={15} y2={100} stroke={C.stool} strokeWidth={4} strokeLinecap=\"round\" opacity={0.6} />\n\n    {/* Foot caps */}\n    <circle cx={-30} cy={99} r={4.5} fill={C.stoolMetal} opacity={0.5} />\n    <circle cx={30} cy={99} r={4.5} fill={C.stoolMetal} opacity={0.5} />\n    <circle cx={0} cy={103} r={4.5} fill={C.stoolMetal} opacity={0.5} />\n    <circle cx={-15} cy={101} r={3.5} fill={C.stoolMetal} opacity={0.35} />\n    <circle cx={15} cy={101} r={3.5} fill={C.stoolMetal} opacity={0.35} />\n  </g>\n);\n\n// ---------------------------------------------------------------------------\n// Sub-component: HangingLamp - brass pub lamp with warm glow\n// ---------------------------------------------------------------------------\nconst HangingLamp: React.FC<{ x: number; sway: number; glowPulse: number }> = ({\n  x,\n  sway,\n  glowPulse,\n}) => {\n  const glowOp = 0.10 + glowPulse * 0.03;\n  const innerGlowOp = 0.15 + glowPulse * 0.04;\n  return (\n    <g transform={`translate(${x}, 0)`}>\n      {/* Chain links */}\n      <line x1={0} y1={0} x2={sway * 0.3} y2={30} stroke={C.lampChain} strokeWidth={2} />\n      <circle cx={sway * 0.15} cy={15} r={2} fill=\"none\" stroke={C.lampChainHi} strokeWidth={1} />\n      <line x1={sway * 0.3} y1={30} x2={sway * 0.6} y2={60} stroke={C.lampChain} strokeWidth={2} />\n      <circle cx={sway * 0.45} cy={45} r={2} fill=\"none\" stroke={C.lampChainHi} strokeWidth={1} />\n      <line x1={sway * 0.6} y1={60} x2={sway * 0.85} y2={90} stroke={C.lampChain} strokeWidth={2} />\n      <circle cx={sway * 0.72} cy={75} r={2} fill=\"none\" stroke={C.lampChainHi} strokeWidth={1} />\n      <line x1={sway * 0.85} y1={90} x2={sway} y2={110} stroke={C.lampChain} strokeWidth={2} />\n\n      <g transform={`translate(${sway}, 110)`}>\n        {/* Outer glow */}\n        <circle cx={0} cy={18} r={80} fill={`${C.warmGlow}${glowOp})`} />\n        {/* Inner glow */}\n        <circle cx={0} cy={12} r={45} fill={`${C.warmGlow}${innerGlowOp})`} />\n\n        {/* Shade - brass */}\n        <path d=\"M-38,0 L-26,-34 Q-26,-38 -22,-38 L22,-38 Q26,-38 26,-34 L38,0 Z\"\n          fill={C.lampShade} stroke={C.outlineSoft} strokeWidth={2.5} />\n        {/* Shade inner shadow */}\n        <path d=\"M-36,0 L-25,-32 L25,-32 L36,0 Z\" fill={C.lampShadeDk} opacity={0.3} />\n        {/* Shade highlight */}\n        <path d=\"M-20,-32 L-14,-6\" stroke={C.lampShadeHi} strokeWidth={2} opacity={0.3} />\n        {/* Shade rim */}\n        <line x1={-38} y1={0} x2={38} y2={0} stroke={C.lampShade} strokeWidth={3} />\n        <line x1={-36} y1={1} x2={36} y2={1} stroke={C.lampShadeDk} strokeWidth={1} opacity={0.5} />\n\n        {/* Bulb */}\n        <ellipse cx={0} cy={6} rx={9} ry={7} fill={C.lampBulb} opacity={0.9} />\n        <ellipse cx={0} cy={5} rx={5} ry={4} fill={C.lampBulbCore} opacity={0.5} />\n\n        {/* Decorative brass ring at top */}\n        <circle cx={0} cy={-38} r={6} fill={C.brass} stroke={C.outlineSoft} strokeWidth={1.5} />\n        <circle cx={-2} cy={-40} r={2} fill={C.brassHi} opacity={0.4} />\n      </g>\n    </g>\n  );\n};\n\n// ---------------------------------------------------------------------------\n// Sub-component: Fireplace - brick fireplace with animated fire\n// ---------------------------------------------------------------------------\nconst Fireplace: React.FC<{\n  x: number;\n  y: number;\n  frame: number;\n}> = ({ x, y, frame }) => {\n  const fire1 = sineWave(frame, 0.4, 0) * 6;\n  const fire2 = sineWave(frame, 0.55, 1.3) * 5;\n  const fire3 = sineWave(frame, 0.35, 2.7) * 7;\n  const fire4 = sineWave(frame, 0.6, 0.8) * 4;\n  const emberGlow = 0.5 + sineWave(frame, 0.25) * 0.2;\n  const glowSize = 120 + sineWave(frame, 0.2) * 10;\n\n  return (\n    <g transform={`translate(${x}, ${y})`}>\n      {/* Fireplace glow on surroundings */}\n      <circle cx={75} cy={20} r={glowSize} fill={`${C.fireGlow}0.06)`} />\n      <circle cx={75} cy={0} r={80} fill={`${C.fireGlow}0.04)`} />\n\n      {/* Mantel top */}\n      <rect x={-20} y={-25} width={190} height={18} rx={3} fill={C.fireMantel} stroke={C.outlineSoft} strokeWidth={2} />\n      <rect x={-18} y={-24} width={186} height={6} fill={C.fireMantelHi} opacity={0.3} />\n      {/* Mantel corbels */}\n      <rect x={-12} y={-7} width={16} height={24} rx={2} fill={C.fireMantel} stroke={C.outlineSoft} strokeWidth={1.5} />\n      <rect x={146} y={-7} width={16} height={24} rx={2} fill={C.fireMantel} stroke={C.outlineSoft} strokeWidth={1.5} />\n\n      {/* Brick surround */}\n      {/* Left column */}\n      {Array.from({ length: 8 }, (_, i) => (\n        <React.Fragment key={`lb-${i}`}>\n          <rect x={0} y={17 + i * 18} width={18} height={16} rx={1}\n            fill={i % 2 === 0 ? C.fireBrick : C.fireBrickDk} stroke={C.fireBrickMortar} strokeWidth={1} />\n        </React.Fragment>\n      ))}\n      {/* Right column */}\n      {Array.from({ length: 8 }, (_, i) => (\n        <React.Fragment key={`rb-${i}`}>\n          <rect x={132} y={17 + i * 18} width={18} height={16} rx={1}\n            fill={i % 2 === 0 ? C.fireBrickDk : C.fireBrick} stroke={C.fireBrickMortar} strokeWidth={1} />\n        </React.Fragment>\n      ))}\n      {/* Top arch bricks */}\n      <path d=\"M18,17 Q75,-10 132,17\" fill=\"none\" stroke={C.fireBrickMortar} strokeWidth={18} />\n      <path d=\"M18,17 Q75,-10 132,17\" fill=\"none\" stroke={C.fireBrick} strokeWidth={14} />\n      {/* Keystone */}\n      <rect x={68} y={-2} width={14} height={18} rx={1} fill={C.fireBrickDk} stroke={C.fireBrickMortar} strokeWidth={1} />\n\n      {/* Firebox interior */}\n      <rect x={18} y={17} width={114} height={144} fill=\"#0A0604\" />\n      {/* Back wall glow */}\n      <rect x={20} y={19} width={110} height={80} fill={`${C.fireGlow}0.08)`} />\n\n      {/* Logs */}\n      <ellipse cx={50} cy={148} rx={22} ry={7} fill={C.fireLog} stroke={C.outlineSoft} strokeWidth={1} />\n      <ellipse cx={48} cy={146} rx={20} ry={5} fill={C.fireLogHi} opacity={0.3} />\n      <ellipse cx={100} cy={150} rx={20} ry={6} fill={C.fireLog} stroke={C.outlineSoft} strokeWidth={1} />\n      <ellipse cx={75} cy={145} rx={18} ry={5} fill={C.fireLog} stroke={C.outlineSoft} strokeWidth={1} transform=\"rotate(-15, 75, 145)\" />\n\n      {/* Embers */}\n      {[40, 55, 68, 82, 95, 108].map((ex, i) => (\n        <circle key={`ember-${i}`} cx={ex} cy={152 + (i % 2) * 3} r={2}\n          fill={C.fireEmber} opacity={emberGlow + (i % 3) * 0.1} />\n      ))}\n      {/* Ash bed */}\n      <ellipse cx={75} cy={158} rx={50} ry={4} fill={C.fireAsh} opacity={0.4} />\n\n      {/* Fire flames - layered */}\n      {/* Back flames (larger, darker) */}\n      <path d={`M45,${148 + fire1} Q55,${90 + fire2} 65,${148 + fire3}`}\n        fill={C.fireRed} opacity={0.7} />\n      <path d={`M60,${150 + fire2} Q72,${85 + fire1} 85,${148 + fire4}`}\n        fill={C.fireRed} opacity={0.6} />\n      <path d={`M80,${148 + fire3} Q92,${95 + fire4} 105,${150 + fire1}`}\n        fill={C.fireRed} opacity={0.65} />\n\n      {/* Mid flames (orange) */}\n      <path d={`M50,${148 + fire2} Q60,${100 + fire3} 72,${148 + fire1}`}\n        fill={C.fireOrange} opacity={0.8} />\n      <path d={`M65,${150 + fire4} Q75,${95 + fire1} 88,${148 + fire2}`}\n        fill={C.fireOrange} opacity={0.75} />\n      <path d={`M85,${148 + fire1} Q95,${105 + fire2} 105,${150 + fire3}`}\n        fill={C.fireOrange} opacity={0.7} />\n\n      {/* Front flames (yellow, bright) */}\n      <path d={`M55,${148 + fire3} Q65,${108 + fire4} 75,${148 + fire2}`}\n        fill={C.fireYellow} opacity={0.85} />\n      <path d={`M70,${150 + fire1} Q80,${105 + fire3} 92,${148 + fire4}`}\n        fill={C.fireYellow} opacity={0.8} />\n\n      {/* Core white hotspot */}\n      <path d={`M62,${148 + fire4} Q70,${115 + fire1} 80,${150 + fire2}`}\n        fill={C.fireCoreWhite} opacity={0.5} />\n\n      {/* Hearth base */}\n      <rect x={-5} y={161} width={160} height={12} rx={2} fill={C.fireBrick} stroke={C.outlineSoft} strokeWidth={1.5} />\n      <rect x={-3} y={162} width={156} height={4} fill={C.fireBrickDk} opacity={0.4} />\n    </g>\n  );\n};\n\n// ---------------------------------------------------------------------------\n// Sub-component: Dartboard - classic pub dartboard\n// ---------------------------------------------------------------------------\nconst Dartboard: React.FC<{ x: number; y: number }> = ({ x, y }) => {\n  const segments = 20;\n  const segAngle = 360 / segments;\n  return (\n    <g transform={`translate(${x}, ${y})`}>\n      {/* Backboard */}\n      <rect x={-52} y={-52} width={104} height={104} rx={4} fill={C.dartBoard} stroke={C.outlineSoft} strokeWidth={2} />\n      {/* Number ring background */}\n      <circle cx={0} cy={0} r={48} fill={C.dartBlack} />\n      {/* Segments */}\n      {Array.from({ length: segments }, (_, i) => {\n        const startAngle = (i * segAngle - 90 - segAngle / 2) * (Math.PI / 180);\n        const endAngle = ((i + 1) * segAngle - 90 - segAngle / 2) * (Math.PI / 180);\n        const outerR = 44;\n        const midR = 28;\n        const innerR = 16;\n        const isEven = i % 2 === 0;\n        // Outer double ring\n        const ox1 = Math.cos(startAngle) * outerR;\n        const oy1 = Math.sin(startAngle) * outerR;\n        const ox2 = Math.cos(endAngle) * outerR;\n        const oy2 = Math.sin(endAngle) * outerR;\n        const mx1 = Math.cos(startAngle) * midR;\n        const my1 = Math.sin(startAngle) * midR;\n        const mx2 = Math.cos(endAngle) * midR;\n        const my2 = Math.sin(endAngle) * midR;\n        const ix1 = Math.cos(startAngle) * innerR;\n        const iy1 = Math.sin(startAngle) * innerR;\n        const ix2 = Math.cos(endAngle) * innerR;\n        const iy2 = Math.sin(endAngle) * innerR;\n        return (\n          <React.Fragment key={`dart-${i}`}>\n            {/* Outer section */}\n            <path d={`M${mx1},${my1} L${ox1},${oy1} A${outerR},${outerR} 0 0,1 ${ox2},${oy2} L${mx2},${my2} A${midR},${midR} 0 0,0 ${mx1},${my1}`}\n              fill={isEven ? C.dartRed : C.dartGreen} opacity={0.85} />\n            {/* Inner section */}\n            <path d={`M${ix1},${iy1} L${mx1},${my1} A${midR},${midR} 0 0,1 ${mx2},${my2} L${ix2},${iy2} A${innerR},${innerR} 0 0,0 ${ix1},${iy1}`}\n              fill={isEven ? C.dartCream : C.dartBlack} opacity={0.85} />\n          </React.Fragment>\n        );\n      })}\n      {/* Triple ring */}\n      <circle cx={0} cy={0} r={34} fill=\"none\" stroke={C.dartWire} strokeWidth={0.8} />\n      {/* Double ring */}\n      <circle cx={0} cy={0} r={44} fill=\"none\" stroke={C.dartWire} strokeWidth={0.8} />\n      {/* Inner bull */}\n      <circle cx={0} cy={0} r={6} fill={C.dartGreen} stroke={C.dartWire} strokeWidth={0.5} />\n      {/* Bullseye */}\n      <circle cx={0} cy={0} r={2.5} fill={C.dartRed} stroke={C.dartWire} strokeWidth={0.5} />\n      {/* Wire spokes */}\n      {Array.from({ length: segments }, (_, i) => {\n        const angle = (i * segAngle - 90) * (Math.PI / 180);\n        return (\n          <line key={`wire-${i}`} x1={0} y1={0} x2={Math.cos(angle) * 46} y2={Math.sin(angle) * 46}\n            stroke={C.dartWire} strokeWidth={0.5} opacity={0.6} />\n        );\n      })}\n      {/* Number ring */}\n      <circle cx={0} cy={0} r={48} fill=\"none\" stroke={C.dartWire} strokeWidth={1} />\n    </g>\n  );\n};\n\n// ---------------------------------------------------------------------------\n// Sub-component: OldPainting - framed oil painting on the wall\n// ---------------------------------------------------------------------------\nconst OldPainting: React.FC<{\n  x: number;\n  y: number;\n  w: number;\n  h: number;\n  variant: number;\n}> = ({ x, y, w, h, variant }) => {\n  return (\n    <g transform={`translate(${x}, ${y})`}>\n      {/* Outer frame */}\n      <rect x={-6} y={-6} width={w + 12} height={h + 12} rx={2}\n        fill={C.paintFrame} stroke={C.outlineSoft} strokeWidth={2} />\n      {/* Frame bevel highlight */}\n      <line x1={-5} y1={-5} x2={w + 5} y2={-5} stroke={C.paintFrameHi} strokeWidth={2} opacity={0.5} />\n      <line x1={-5} y1={-5} x2={-5} y2={h + 5} stroke={C.paintFrameHi} strokeWidth={1.5} opacity={0.4} />\n      {/* Inner frame */}\n      <rect x={-2} y={-2} width={w + 4} height={h + 4} rx={1}\n        fill={C.paintFrameInner} stroke={C.outlineSoft} strokeWidth={1} />\n      {/* Canvas */}\n      <rect x={0} y={0} width={w} height={h} fill={C.paintCanvas} />\n\n      {/* Painting content - varies by variant */}\n      {variant === 0 && (\n        // Landscape - rolling hills\n        <>\n          <rect x={0} y={0} width={w} height={h * 0.4} fill=\"#2A3848\" />\n          <path d={`M0,${h * 0.5} Q${w * 0.25},${h * 0.3} ${w * 0.5},${h * 0.45} Q${w * 0.75},${h * 0.35} ${w},${h * 0.5} L${w},${h} L0,${h} Z`}\n            fill=\"#3A5028\" opacity={0.8} />\n          <path d={`M0,${h * 0.6} Q${w * 0.3},${h * 0.5} ${w * 0.6},${h * 0.58} Q${w * 0.8},${h * 0.52} ${w},${h * 0.6} L${w},${h} L0,${h} Z`}\n            fill=\"#4A6038\" opacity={0.7} />\n          <circle cx={w * 0.8} cy={h * 0.2} r={8} fill=\"#D4A040\" opacity={0.6} />\n        </>\n      )}\n      {variant === 1 && (\n        // Portrait - shadowed face\n        <>\n          <rect x={0} y={0} width={w} height={h} fill=\"#2A2018\" />\n          <ellipse cx={w / 2} cy={h * 0.38} rx={w * 0.2} ry={h * 0.22} fill=\"#C4A080\" opacity={0.6} />\n          <ellipse cx={w / 2} cy={h * 0.6} rx={w * 0.3} ry={h * 0.3} fill=\"#3A2818\" opacity={0.7} />\n          <rect x={w * 0.35} y={h * 0.15} width={w * 0.3} height={h * 0.12} rx={2} fill=\"#4A3020\" opacity={0.5} />\n        </>\n      )}\n      {variant === 2 && (\n        // Still life - bowl and bottle\n        <>\n          <rect x={0} y={0} width={w} height={h} fill=\"#1E1810\" />\n          <ellipse cx={w * 0.35} cy={h * 0.65} rx={w * 0.2} ry={h * 0.12} fill=\"#6A4A2A\" opacity={0.6} />\n          <rect x={w * 0.6} y={h * 0.25} width={w * 0.12} height={h * 0.45} rx={2} fill=\"#2A4A28\" opacity={0.7} />\n          <circle cx={w * 0.35} cy={h * 0.55} r={4} fill=\"#8A2020\" opacity={0.5} />\n          <circle cx={w * 0.4} cy={h * 0.58} r={3} fill=\"#8A8020\" opacity={0.4} />\n        </>\n      )}\n      {variant === 3 && (\n        // Seascape\n        <>\n          <rect x={0} y={0} width={w} height={h * 0.5} fill=\"#1A2A3A\" />\n          <rect x={0} y={h * 0.5} width={w} height={h * 0.5} fill=\"#2A3A4A\" />\n          {[0.2, 0.4, 0.6, 0.8].map((p, i) => (\n            <line key={`wave-${i}`} x1={0} y1={h * (0.5 + p * 0.4)} x2={w} y2={h * (0.52 + p * 0.38)}\n              stroke=\"#4A5A6A\" strokeWidth={1} opacity={0.4} />\n          ))}\n          <path d={`M${w * 0.5},${h * 0.3} L${w * 0.52},${h * 0.55} L${w * 0.48},${h * 0.55} Z`}\n            fill=\"#E8E0D0\" opacity={0.5} />\n        </>\n      )}\n\n      {/* Varnish / age layer */}\n      <rect x={0} y={0} width={w} height={h} fill=\"rgba(60,40,20,0.25)\" />\n      {/* Frame shadow */}\n      <rect x={2} y={h + 2} width={w + 8} height={3} fill={C.shadow} opacity={0.3} />\n    </g>\n  );\n};\n\n// ---------------------------------------------------------------------------\n// Sub-component: BrassFixture - decorative brass element\n// ---------------------------------------------------------------------------\nconst BrassFixture: React.FC<{ x: number; y: number; type: 'hook' | 'ring' | 'plate' }> = ({\n  x,\n  y,\n  type,\n}) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {type === 'hook' && (\n      <>\n        <circle cx={0} cy={0} r={5} fill={C.brass} stroke={C.outlineSoft} strokeWidth={1} />\n        <path d=\"M0,5 Q0,16 -8,20 Q-14,22 -14,16\" fill=\"none\" stroke={C.brass} strokeWidth={3} />\n        <circle cx={-1} cy={-1} r={2} fill={C.brassHi} opacity={0.4} />\n      </>\n    )}\n    {type === 'ring' && (\n      <>\n        <circle cx={0} cy={0} r={3} fill={C.brass} stroke={C.outlineSoft} strokeWidth={1} />\n        <circle cx={0} cy={12} r={8} fill=\"none\" stroke={C.brass} strokeWidth={3} />\n        <circle cx={-3} cy={9} r={2} fill={C.brassHi} opacity={0.3} />\n      </>\n    )}\n    {type === 'plate' && (\n      <>\n        <rect x={-10} y={-6} width={20} height={12} rx={3} fill={C.brass} stroke={C.outlineSoft} strokeWidth={1} />\n        <rect x={-7} y={-3} width={14} height={6} rx={2} fill={C.brassDk} opacity={0.4} />\n        <rect x={-6} y={-4} width={5} height={3} rx={1} fill={C.brassHi} opacity={0.3} />\n      </>\n    )}\n  </g>\n);\n\n// ---------------------------------------------------------------------------\n// Sub-component: CandleHolder - candle with animated flame\n// ---------------------------------------------------------------------------\nconst CandleHolder: React.FC<{\n  x: number;\n  y: number;\n  frame: number;\n  phase?: number;\n}> = ({ x, y, frame, phase = 0 }) => {\n  const flicker = sineWave(frame, 0.6, phase) * 2;\n  const flickerSide = sineWave(frame, 0.45, phase + 1.5) * 1.5;\n  const glowPulse = 0.12 + sineWave(frame, 0.3, phase) * 0.04;\n\n  return (\n    <g transform={`translate(${x}, ${y})`}>\n      {/* Glow */}\n      <circle cx={0} cy={-28} r={35} fill={`${C.candleGlow}${glowPulse})`} />\n      <circle cx={0} cy={-28} r={18} fill={`${C.candleGlow}${glowPulse + 0.05})`} />\n\n      {/* Holder base */}\n      <ellipse cx={0} cy={0} rx={10} ry={3} fill={C.candleHolderBrass} stroke={C.outlineSoft} strokeWidth={1} />\n      <rect x={-8} y={-5} width={16} height={5} rx={1} fill={C.candleHolder} stroke={C.outlineSoft} strokeWidth={1} />\n      {/* Holder rim */}\n      <ellipse cx={0} cy={-5} rx={9} ry={3} fill={C.candleHolderBrass} stroke={C.outlineSoft} strokeWidth={0.8} />\n\n      {/* Candle body */}\n      <rect x={-4} y={-24} width={8} height={19} rx={1} fill={C.candleWax} stroke={C.outlineSoft} strokeWidth={0.8} />\n      {/* Wax drip */}\n      <path d=\"M-3,-24 Q-4,-22 -5,-18 Q-5,-15 -4,-14\" fill={C.candleWax} stroke=\"none\" />\n      <path d=\"M3,-24 Q4.5,-20 4,-17\" fill={C.candleWax} stroke=\"none\" />\n\n      {/* Wick */}\n      <line x1={0} y1={-24} x2={flickerSide * 0.3} y2={-28} stroke={C.candleWick} strokeWidth={1} />\n\n      {/* Flame */}\n      <ellipse cx={flickerSide * 0.5} cy={-32 + flicker * 0.3} rx={3 + Math.abs(flickerSide) * 0.3} ry={6 + flicker * 0.3}\n        fill={C.candleFlame} opacity={0.85} />\n      <ellipse cx={flickerSide * 0.3} cy={-34 + flicker * 0.2} rx={1.5} ry={3.5}\n        fill={C.candleFlameCore} opacity={0.7} />\n      <ellipse cx={flickerSide * 0.6} cy={-36 + flicker * 0.4} rx={1.5} ry={2.5}\n        fill={C.candleFlameTip} opacity={0.6} />\n    </g>\n  );\n};\n\n// ---------------------------------------------------------------------------\n// Sub-component: WoodBeam - ceiling beam with grain texture\n// ---------------------------------------------------------------------------\nconst WoodBeam: React.FC<{\n  x1: number;\n  y1: number;\n  x2: number;\n  y2: number;\n  thickness: number;\n}> = ({ x1, y1, x2, y2, thickness }) => {\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  const len = Math.sqrt(dx * dx + dy * dy);\n  const angle = Math.atan2(dy, dx) * (180 / Math.PI);\n\n  return (\n    <g transform={`translate(${x1}, ${y1}) rotate(${angle})`}>\n      {/* Main beam */}\n      <rect x={0} y={-thickness / 2} width={len} height={thickness} rx={2}\n        fill={C.ceilingBeam} stroke={C.outlineSoft} strokeWidth={1.5} />\n      {/* Top highlight */}\n      <rect x={2} y={-thickness / 2} width={len - 4} height={thickness * 0.25}\n        fill={C.ceilingBeamHi} opacity={0.2} />\n      {/* Bottom shadow */}\n      <rect x={0} y={thickness * 0.25} width={len} height={thickness * 0.25}\n        fill={C.ceilingBeamShadow} opacity={0.3} />\n      {/* Grain lines */}\n      {Array.from({ length: Math.floor(len / 40) }, (_, i) => (\n        <line key={`grain-${i}`} x1={20 + i * 40} y1={-thickness / 2 + 3}\n          x2={25 + i * 40} y2={thickness / 2 - 3}\n          stroke={C.ceilingBeamShadow} strokeWidth={0.7} opacity={0.25} />\n      ))}\n      {/* End grain / knot marks */}\n      <circle cx={len * 0.3} cy={0} r={3} fill={C.ceilingBeamShadow} opacity={0.2} />\n      <circle cx={len * 0.7} cy={-2} r={2.5} fill={C.ceilingBeamShadow} opacity={0.15} />\n    </g>\n  );\n};\n\n// ---------------------------------------------------------------------------\n// Sub-component: HangingGlassRack - overhead glass rack\n// ---------------------------------------------------------------------------\nconst HangingGlassRack: React.FC<{ x: number; y: number; count: number }> = ({\n  x,\n  y,\n  count,\n}) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {/* Rack rails */}\n    <rect x={0} y={0} width={count * 28 + 10} height={4} rx={1} fill={C.ceilingBeam} stroke={C.outlineSoft} strokeWidth={1} />\n    <rect x={0} y={18} width={count * 28 + 10} height={4} rx={1} fill={C.ceilingBeam} stroke={C.outlineSoft} strokeWidth={1} />\n    {/* Support brackets */}\n    <rect x={2} y={0} width={4} height={22} fill={C.ceilingBeam} opacity={0.8} />\n    <rect x={count * 28 + 4} y={0} width={4} height={22} fill={C.ceilingBeam} opacity={0.8} />\n    {/* Hanging glasses (upside down) */}\n    {Array.from({ length: count }, (_, i) => (\n      <g key={`hg-${i}`} transform={`translate(${14 + i * 28}, 22)`}>\n        {/* Base of glass (now on top) */}\n        <ellipse cx={0} cy={0} rx={7} ry={2} fill={C.glassThin} stroke={C.outlineSoft} strokeWidth={0.8} />\n        {/* Stem */}\n        <line x1={0} y1={2} x2={0} y2={14} stroke={C.outlineSoft} strokeWidth={1.2} />\n        {/* Bowl (upside down) */}\n        <ellipse cx={0} cy={22} rx={8} ry={10} fill={C.glassThin} stroke={C.outlineSoft} strokeWidth={0.8} />\n        {/* Rim */}\n        <ellipse cx={0} cy={32} rx={8} ry={2} fill={C.glassRim} />\n        {/* Highlight */}\n        <line x1={-4} y1={16} x2={-3} y2={28} stroke={C.glassShine} strokeWidth={0.6} />\n      </g>\n    ))}\n  </g>\n);\n\n// ===========================================================================\n// MAIN COMPONENT: Pub\n// ===========================================================================\nexport const Pub: React.FC<PubProps> = ({\n  boardText = '',\n  width = 1920,\n  height = 1080,\n}) => {\n  const frame = useCurrentFrame();\n\n  // Animation values\n  const lampSway1 = sineWave(frame, 0.08) * 2.5;\n  const lampSway2 = sineWave(frame, 0.11, 1.2) * 2;\n  const lampSway3 = sineWave(frame, 0.09, 2.5) * 2.2;\n  const lampSway4 = sineWave(frame, 0.1, 0.7) * 1.8;\n  const glowPulse1 = sineWave(frame, 0.15);\n  const glowPulse2 = sineWave(frame, 0.12, 1.0);\n  const glowPulse3 = sineWave(frame, 0.18, 2.0);\n  const glowPulse4 = sineWave(frame, 0.14, 0.5);\n  const smokeDrift = sineWave(frame, 0.04) * 15;\n  const smokeRise = (frame * 0.3) % 200;\n  const ambientPulse = 0.08 + sineWave(frame, 0.06) * 0.02;\n  const reflectionShimmer = sineWave(frame, 0.2, 0.5) * 0.03;\n\n  return (\n    <svg viewBox={`0 0 ${width} ${height}`} width={width} height={height}>\n      <defs>\n        {/* Ambient warm light from center */}\n        <radialGradient id=\"pub-ambient\" cx=\"50%\" cy=\"40%\" r=\"70%\">\n          <stop offset=\"0%\" stopColor={`rgba(255,180,80,${ambientPulse})`} />\n          <stop offset=\"60%\" stopColor=\"rgba(255,150,60,0.03)\" />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </radialGradient>\n\n        {/* Fireplace glow */}\n        <radialGradient id=\"pub-fire-glow\" cx=\"8%\" cy=\"55%\" r=\"30%\">\n          <stop offset=\"0%\" stopColor={`${C.warmGlowFire}0.1)`} />\n          <stop offset=\"50%\" stopColor={`${C.warmGlowFire}0.04)`} />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </radialGradient>\n\n        {/* Bar top gradient */}\n        <linearGradient id=\"pub-bartop\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.barEdge} />\n          <stop offset=\"30%\" stopColor={C.barTop} />\n          <stop offset=\"100%\" stopColor={C.bar} />\n        </linearGradient>\n\n        {/* Bar front gradient */}\n        <linearGradient id=\"pub-barfront\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.barTrim} />\n          <stop offset=\"40%\" stopColor={C.barFront} />\n          <stop offset=\"100%\" stopColor={C.barPanel} />\n        </linearGradient>\n\n        {/* Floor gradient */}\n        <linearGradient id=\"pub-floor\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.floor} />\n          <stop offset=\"60%\" stopColor={C.floorDark} />\n          <stop offset=\"100%\" stopColor={C.floorGrain} />\n        </linearGradient>\n\n        {/* Wall panel gradient */}\n        <linearGradient id=\"pub-wallpanel\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n          <stop offset=\"0%\" stopColor={C.wallPanelDark} />\n          <stop offset=\"50%\" stopColor={C.wallPanelMid} />\n          <stop offset=\"100%\" stopColor={C.wallPanelDark} />\n        </linearGradient>\n\n        {/* Ceiling gradient */}\n        <linearGradient id=\"pub-ceiling\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.ceiling} />\n          <stop offset=\"100%\" stopColor={C.wallDeep} />\n        </linearGradient>\n\n        {/* Vignette */}\n        <radialGradient id=\"pub-vignette\" cx=\"50%\" cy=\"45%\" r=\"65%\">\n          <stop offset=\"0%\" stopColor=\"rgba(0,0,0,0)\" />\n          <stop offset=\"70%\" stopColor={C.vignetteMid} />\n          <stop offset=\"100%\" stopColor={C.vignetteEdge} />\n        </radialGradient>\n\n        {/* Bar top reflection */}\n        <linearGradient id=\"pub-bartop-reflect\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n          <stop offset=\"0%\" stopColor={`rgba(255,200,120,${0.04 + reflectionShimmer})`} />\n          <stop offset=\"50%\" stopColor={`rgba(255,220,160,${0.10 + reflectionShimmer})`} />\n          <stop offset=\"100%\" stopColor={`rgba(255,200,120,${0.04 + reflectionShimmer})`} />\n        </linearGradient>\n\n        {/* Smoke haze */}\n        <radialGradient id=\"pub-smoke\" cx=\"50%\" cy=\"30%\" r=\"50%\">\n          <stop offset=\"0%\" stopColor={`${C.smoke}0.06)`} />\n          <stop offset=\"100%\" stopColor={`${C.smoke}0)`} />\n        </radialGradient>\n\n        {/* Wood grain pattern */}\n        <pattern id=\"pub-woodgrain\" x=\"0\" y=\"0\" width=\"60\" height=\"8\" patternUnits=\"userSpaceOnUse\">\n          <line x1=\"0\" y1=\"2\" x2=\"60\" y2=\"2.5\" stroke={C.floorGrain} strokeWidth=\"0.5\" opacity=\"0.2\" />\n          <line x1=\"0\" y1=\"5\" x2=\"60\" y2=\"5.3\" stroke={C.floorGrain} strokeWidth=\"0.3\" opacity=\"0.15\" />\n          <line x1=\"0\" y1=\"7\" x2=\"60\" y2=\"6.8\" stroke={C.floorGrain} strokeWidth=\"0.4\" opacity=\"0.1\" />\n        </pattern>\n\n        {/* Crown molding highlight */}\n        <linearGradient id=\"pub-crown\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.crownMoldingHi} />\n          <stop offset=\"50%\" stopColor={C.crownMolding} />\n          <stop offset=\"100%\" stopColor={C.wallMolding} />\n        </linearGradient>\n\n        {/* Brass rail gradient */}\n        <linearGradient id=\"pub-brassrail\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.brassHi} />\n          <stop offset=\"40%\" stopColor={C.brass} />\n          <stop offset=\"100%\" stopColor={C.brassDk} />\n        </linearGradient>\n      </defs>\n\n      {/* ================================================================ */}\n      {/* LAYER 1: CEILING                                                 */}\n      {/* ================================================================ */}\n      <rect x={0} y={0} width={width} height={height * 0.12} fill=\"url(#pub-ceiling)\" />\n      {/* Ceiling texture - subtle planks */}\n      {Array.from({ length: 14 }, (_, i) => (\n        <line key={`ceil-${i}`} x1={i * 140 + 20} y1={0} x2={i * 140 + 20} y2={height * 0.12}\n          stroke={C.ceilingBeamShadow} strokeWidth={0.8} opacity={0.2} />\n      ))}\n\n      {/* Ceiling beams */}\n      <WoodBeam x1={0} y1={height * 0.04} x2={width} y2={height * 0.04} thickness={22} />\n      <WoodBeam x1={0} y1={height * 0.10} x2={width} y2={height * 0.10} thickness={26} />\n\n      {/* Cross beams */}\n      <WoodBeam x1={320} y1={0} x2={320} y2={height * 0.12} thickness={18} />\n      <WoodBeam x1={800} y1={0} x2={800} y2={height * 0.12} thickness={18} />\n      <WoodBeam x1={1120} y1={0} x2={1120} y2={height * 0.12} thickness={18} />\n      <WoodBeam x1={1600} y1={0} x2={1600} y2={height * 0.12} thickness={18} />\n\n      {/* ================================================================ */}\n      {/* LAYER 2: BACK WALL                                               */}\n      {/* ================================================================ */}\n      {/* Main wall */}\n      <rect x={0} y={height * 0.10} width={width} height={height * 0.62} fill={C.wall} />\n\n      {/* Wall upper section - slightly lighter */}\n      <rect x={0} y={height * 0.10} width={width} height={height * 0.22} fill={C.wallAccent} opacity={0.3} />\n\n      {/* Crown molding */}\n      <rect x={0} y={height * 0.10} width={width} height={8} fill=\"url(#pub-crown)\" />\n      <rect x={0} y={height * 0.10} width={width} height={2} fill={C.crownMoldingHi} opacity={0.4} />\n      <rect x={0} y={height * 0.107} width={width} height={3} fill={C.crownMolding} opacity={0.5} />\n\n      {/* Wainscoting (lower wall panels) */}\n      <rect x={0} y={height * 0.38} width={width} height={height * 0.34} fill={C.wainscot} opacity={0.6} />\n      {/* Wainscot cap rail */}\n      <rect x={0} y={height * 0.375} width={width} height={6} fill={C.wainscotCap} />\n      <rect x={0} y={height * 0.375} width={width} height={2} fill={C.wallMoldingHi} opacity={0.3} />\n\n      {/* Wainscot panels */}\n      {Array.from({ length: 11 }, (_, i) => {\n        const panelX = 30 + i * 175;\n        const panelY = height * 0.40;\n        const panelW = 150;\n        const panelH = height * 0.30;\n        return (\n          <React.Fragment key={`wp-${i}`}>\n            <rect x={panelX} y={panelY} width={panelW} height={panelH} rx={3}\n              fill=\"url(#pub-wallpanel)\" stroke={C.wainscotGroove} strokeWidth={1.5} />\n            {/* Panel inner bevel */}\n            <rect x={panelX + 6} y={panelY + 6} width={panelW - 12} height={panelH - 12} rx={2}\n              fill=\"none\" stroke={C.wallPanelEdge} strokeWidth={0.8} opacity={0.3} />\n            {/* Subtle grain */}\n            <line x1={panelX + 15} y1={panelY + 10} x2={panelX + 15} y2={panelY + panelH - 10}\n              stroke={C.wallPanelDark} strokeWidth={0.5} opacity={0.15} />\n            <line x1={panelX + panelW - 15} y1={panelY + 12} x2={panelX + panelW - 15} y2={panelY + panelH - 8}\n              stroke={C.wallPanelDark} strokeWidth={0.5} opacity={0.12} />\n          </React.Fragment>\n        );\n      })}\n\n      {/* Wall ambient light */}\n      <rect x={0} y={height * 0.10} width={width} height={height * 0.62} fill=\"url(#pub-ambient)\" />\n      {/* Fireplace ambient on left wall */}\n      <rect x={0} y={0} width={width} height={height} fill=\"url(#pub-fire-glow)\" />\n\n      {/* ================================================================ */}\n      {/* LAYER 3: WALL DECORATIONS                                        */}\n      {/* ================================================================ */}\n\n      {/* === FIREPLACE (left side) === */}\n      <Fireplace x={40} y={height * 0.24} frame={frame} />\n\n      {/* === DARTBOARD (far right wall) === */}\n      <Dartboard x={1800} y={height * 0.28} />\n      {/* Dartboard light */}\n      <circle cx={1800} cy={height * 0.28} r={60} fill={`${C.warmGlow}0.05)`} />\n\n      {/* === OLD PAINTINGS === */}\n      <OldPainting x={300} y={height * 0.14} w={100} h={70} variant={0} />\n      <OldPainting x={480} y={height * 0.16} w={80} h={60} variant={1} />\n      <OldPainting x={1350} y={height * 0.14} w={110} h={75} variant={2} />\n      <OldPainting x={1550} y={height * 0.17} w={85} h={55} variant={3} />\n      <OldPainting x={1680} y={height * 0.15} w={70} h={50} variant={0} />\n\n      {/* === OLD MAP (left of chalkboard) === */}\n      <g transform={`translate(620, ${height * 0.13})`}>\n        <rect x={-4} y={-4} width={88} height={68} rx={2} fill={C.paintFrame} stroke={C.outlineSoft} strokeWidth={1.5} />\n        <rect x={0} y={0} width={80} height={60} fill=\"#D4C8A8\" />\n        {/* Map lines */}\n        <path d=\"M10,15 Q25,10 40,18 Q55,25 70,20\" fill=\"none\" stroke=\"#8A7A5A\" strokeWidth={0.8} />\n        <path d=\"M5,30 Q20,28 35,32 Q50,38 75,30\" fill=\"none\" stroke=\"#8A7A5A\" strokeWidth={0.6} />\n        <path d=\"M15,42 Q30,38 50,44 Q65,48 72,42\" fill=\"none\" stroke=\"#8A7A5A\" strokeWidth={0.7} />\n        <circle cx={40} cy={25} r={2} fill=\"#8A0000\" opacity={0.5} />\n        <rect x={0} y={0} width={80} height={60} fill=\"rgba(60,40,20,0.15)\" />\n      </g>\n\n      {/* === FRAMED PHOTOS (right side, small) === */}\n      {[\n        { px: 1490, py: height * 0.35, pw: 40, ph: 50 },\n        { px: 1545, py: height * 0.33, pw: 35, ph: 45 },\n      ].map((p, i) => (\n        <g key={`photo-${i}`} transform={`translate(${p.px}, ${p.py})`}>\n          <rect x={-3} y={-3} width={p.pw + 6} height={p.ph + 6} rx={1}\n            fill={C.paintFrame} stroke={C.outlineSoft} strokeWidth={1} />\n          <rect x={0} y={0} width={p.pw} height={p.ph} fill=\"#2A2218\" />\n          <ellipse cx={p.pw / 2} cy={p.ph * 0.35} rx={6} ry={7} fill=\"#9A8A70\" opacity={0.4} />\n          <rect x={0} y={0} width={p.pw} height={p.ph} fill=\"rgba(40,30,15,0.3)\" />\n        </g>\n      ))}\n\n      {/* === BRASS FIXTURES on walls === */}\n      <BrassFixture x={260} y={height * 0.32} type=\"hook\" />\n      <BrassFixture x={560} y={height * 0.34} type=\"ring\" />\n      <BrassFixture x={1300} y={height * 0.33} type=\"plate\" />\n      <BrassFixture x={1620} y={height * 0.34} type=\"hook\" />\n      <BrassFixture x={1760} y={height * 0.36} type=\"ring\" />\n\n      {/* ================================================================ */}\n      {/* LAYER 4: BOTTLE SHELVES (behind bar)                             */}\n      {/* ================================================================ */}\n\n      {/* Left shelf group */}\n      <GlassShelf x={60} y={height * 0.15} variant={0} />\n      <GlassShelf x={60} y={height * 0.26} variant={1} />\n\n      {/* Center-left shelf group */}\n      <GlassShelf x={720} y={height * 0.15} variant={2} />\n      <GlassShelf x={720} y={height * 0.26} variant={0} />\n\n      {/* Center-right shelf group */}\n      <GlassShelf x={1080} y={height * 0.15} variant={1} />\n      <GlassShelf x={1080} y={height * 0.26} variant={2} />\n\n      {/* Right shelf group */}\n      <GlassShelf x={1520} y={height * 0.15} variant={0} />\n      <GlassShelf x={1520} y={height * 0.26} variant={1} />\n\n      {/* Featured whiskey bottles on bar back shelf */}\n      <WhiskeyBottle x={420} y={height * 0.36} color={C.bottleAmber} />\n      <WhiskeyBottle x={460} y={height * 0.36} color={C.bottleBrown} />\n      <WhiskeyBottle x={500} y={height * 0.36} color={C.bottleGreen} />\n      <WhiskeyBottle x={1160} y={height * 0.36} color={C.bottleRed} />\n      <WhiskeyBottle x={1200} y={height * 0.36} color={C.bottleAmber} />\n      <WhiskeyBottle x={1240} y={height * 0.36} color={C.bottleBrown} />\n\n      {/* ================================================================ */}\n      {/* LAYER 5: CHALKBOARD (center wall, prominent)                     */}\n      {/* ================================================================ */}\n      <g transform={`translate(${width / 2 - 240}, ${height * 0.13})`}>\n        {/* Chalkboard outer frame */}\n        <rect x={-16} y={-16} width={512} height={272} rx={5}\n          fill={C.chalkFrame} stroke={C.outlineSoft} strokeWidth={3} />\n        {/* Frame bevel */}\n        <rect x={-14} y={-14} width={508} height={268} rx={4}\n          fill=\"none\" stroke={C.chalkFrameHi} strokeWidth={1.5} opacity={0.4} />\n        {/* Inner frame */}\n        <rect x={-6} y={-6} width={492} height={252} rx={2}\n          fill={C.chalkFrameHi} stroke={C.outlineSoft} strokeWidth={1} opacity={0.5} />\n\n        {/* Chalkboard surface */}\n        <rect x={0} y={0} width={480} height={240} fill={C.chalkboard} />\n        {/* Subtle texture */}\n        <rect x={0} y={0} width={480} height={240} fill={C.chalkboardDk} opacity={0.3} />\n        <rect x={5} y={5} width={470} height={230} fill=\"rgba(255,255,255,0.015)\" />\n        {/* Chalk dust residue */}\n        <rect x={10} y={180} width={460} height={40} fill={C.chalkDust} opacity={0.08} />\n        <circle cx={100} cy={200} r={20} fill={C.chalkDust} opacity={0.05} />\n        <circle cx={350} cy={210} r={15} fill={C.chalkDust} opacity={0.04} />\n\n        {/* Chalk tray */}\n        <rect x={-10} y={240} width={500} height={16} rx={3}\n          fill={C.chalkFrame} stroke={C.outlineSoft} strokeWidth={2} />\n        <rect x={-8} y={241} width={496} height={6} fill={C.chalkFrameHi} opacity={0.3} />\n        {/* Chalk pieces */}\n        <rect x={40} y={244} width={32} height={6} rx={2} fill={C.chalk} opacity={0.8} />\n        <rect x={85} y={245} width={20} height={5} rx={2} fill=\"#FFD700\" opacity={0.5} />\n        <rect x={120} y={244} width={15} height={5} rx={2} fill=\"#FF6B6B\" opacity={0.4} />\n        <rect x={380} y={245} width={25} height={5} rx={2} fill={C.chalk} opacity={0.6} />\n        {/* Eraser */}\n        <rect x={430} y={242} width={35} height={10} rx={2} fill=\"#6A5A4A\" stroke={C.outlineSoft} strokeWidth={0.8} />\n        <rect x={432} y={243} width={31} height={4} fill=\"#8A7A6A\" opacity={0.5} />\n\n        {/* Board text */}\n        {boardText && (\n          <text x={240} y={130} textAnchor=\"middle\" fill={C.chalk}\n            fontSize={40} fontFamily=\"'Courier New', monospace\" fontWeight=\"bold\" opacity={0.88}>\n            {boardText}\n          </text>\n        )}\n\n        {/* Decorative chalk lines */}\n        {!boardText && (\n          <>\n            <line x1={40} y1={40} x2={440} y2={40} stroke={C.chalk} strokeWidth={1} opacity={0.2} strokeDasharray=\"8,4\" />\n            <line x1={40} y1={120} x2={440} y2={120} stroke={C.chalk} strokeWidth={0.8} opacity={0.15} strokeDasharray=\"6,5\" />\n            <line x1={40} y1={200} x2={440} y2={200} stroke={C.chalk} strokeWidth={0.8} opacity={0.15} strokeDasharray=\"6,5\" />\n          </>\n        )}\n      </g>\n\n      {/* ================================================================ */}\n      {/* LAYER 6: HANGING GLASS RACKS (above bar)                         */}\n      {/* ================================================================ */}\n      <HangingGlassRack x={200} y={height * 0.38} count={8} />\n      <HangingGlassRack x={580} y={height * 0.39} count={6} />\n      <HangingGlassRack x={1100} y={height * 0.38} count={7} />\n      <HangingGlassRack x={1450} y={height * 0.39} count={5} />\n\n      {/* ================================================================ */}\n      {/* LAYER 7: BAR COUNTER                                             */}\n      {/* ================================================================ */}\n\n      {/* Bar front face */}\n      <rect x={0} y={height * 0.58} width={width} height={height * 0.16}\n        fill=\"url(#pub-barfront)\" stroke={C.outlineSoft} strokeWidth={2} />\n\n      {/* Bar front panels */}\n      {Array.from({ length: 7 }, (_, i) => {\n        const px = 100 + i * 260;\n        return (\n          <React.Fragment key={`bpanel-${i}`}>\n            <rect x={px} y={height * 0.595} width={200} height={height * 0.13} rx={4}\n              fill=\"none\" stroke={C.barPanelGroove} strokeWidth={1.5} opacity={0.5} />\n            <rect x={px + 8} y={height * 0.605} width={184} height={height * 0.11} rx={3}\n              fill={C.barPanel} stroke={C.barPanelGroove} strokeWidth={0.8} opacity={0.3} />\n            {/* Panel molding detail */}\n            <rect x={px + 14} y={height * 0.615} width={172} height={height * 0.09} rx={2}\n              fill=\"none\" stroke={C.barPanelMolding} strokeWidth={0.6} opacity={0.25} />\n          </React.Fragment>\n        );\n      })}\n\n      {/* Bar trim strip */}\n      <rect x={0} y={height * 0.575} width={width} height={6} fill={C.barTrim} stroke={C.outlineSoft} strokeWidth={1} />\n\n      {/* Bar top surface */}\n      <rect x={0} y={height * 0.55} width={width} height={30} rx={4}\n        fill=\"url(#pub-bartop)\" stroke={C.outlineSoft} strokeWidth={2.5} />\n      {/* Bar top shine/reflection */}\n      <rect x={40} y={height * 0.555} width={width - 80} height={10} rx={5}\n        fill=\"url(#pub-bartop-reflect)\" />\n      {/* Bar top edge highlight */}\n      <rect x={0} y={height * 0.55} width={width} height={3} rx={1}\n        fill={C.barEdge} opacity={0.3} />\n\n      {/* Beer rings / coaster marks on bar */}\n      {[280, 520, 780, 1020, 1380, 1600].map((cx, i) => (\n        <circle key={`ring-${i}`} cx={cx} cy={height * 0.56} r={14 + (i % 3) * 2}\n          fill=\"none\" stroke={C.floorStain} strokeWidth={1} opacity={0.15 + (i % 2) * 0.05} />\n      ))}\n\n      {/* Coasters on bar */}\n      {[400, 900, 1250].map((cx, i) => (\n        <React.Fragment key={`coaster-${i}`}>\n          <rect x={cx - 18} y={height * 0.555} width={36} height={36} rx={3}\n            fill={i % 2 === 0 ? '#4A3A2A' : '#3A2A1A'} stroke={C.outlineSoft} strokeWidth={0.8} opacity={0.6} />\n          <rect x={cx - 14} y={height * 0.56} width={28} height={28} rx={2}\n            fill=\"none\" stroke=\"#6A5A4A\" strokeWidth={0.5} opacity={0.4} />\n        </React.Fragment>\n      ))}\n\n      {/* Pint glasses on bar */}\n      <PintGlass x={400} y={height * 0.555} filled={true} />\n      <PintGlass x={920} y={height * 0.555} filled={false} />\n      <Tumbler x={1260} y={height * 0.555} hasLiquid={true} />\n      <WineGlass x={1500} y={height * 0.545} hasWine={true} />\n\n      {/* ================================================================ */}\n      {/* LAYER 8: BEER TAPS                                               */}\n      {/* ================================================================ */}\n      <BeerTapGroup x={300} y={height * 0.555} />\n      <BeerTapGroup x={1640} y={height * 0.555} />\n\n      {/* Center single decorative tap */}\n      <g transform={`translate(${width / 2}, ${height * 0.555})`}>\n        <rect x={-25} y={-14} width={50} height={16} rx={4} fill={C.tapBase} stroke={C.outlineSoft} strokeWidth={2} />\n        <BeerTap x={0} y={-14} color={C.tapAccent4} />\n      </g>\n\n      {/* ================================================================ */}\n      {/* LAYER 9: CANDLES ON BAR                                          */}\n      {/* ================================================================ */}\n      <CandleHolder x={550} y={height * 0.555} frame={frame} phase={0} />\n      <CandleHolder x={1100} y={height * 0.555} frame={frame} phase={1.5} />\n      <CandleHolder x={1400} y={height * 0.555} frame={frame} phase={3.0} />\n\n      {/* ================================================================ */}\n      {/* LAYER 10: BRASS FOOT RAIL                                        */}\n      {/* ================================================================ */}\n      <rect x={60} y={height * 0.725} width={width - 120} height={8} rx={4}\n        fill=\"url(#pub-brassrail)\" stroke={C.outlineSoft} strokeWidth={1} />\n      {/* Rail highlights */}\n      <rect x={80} y={height * 0.726} width={width - 160} height={2} rx={1}\n        fill={C.brassHi} opacity={0.3} />\n      {/* Rail supports */}\n      {[180, 500, 820, 1140, 1460, 1740].map((sx, i) => (\n        <React.Fragment key={`railsup-${i}`}>\n          <rect x={sx - 4} y={height * 0.72} width={8} height={14} rx={2}\n            fill={C.brass} stroke={C.outlineSoft} strokeWidth={0.8} />\n          <rect x={sx - 3} y={height * 0.721} width={2} height={12} fill={C.brassHi} opacity={0.3} />\n        </React.Fragment>\n      ))}\n\n      {/* ================================================================ */}\n      {/* LAYER 11: FLOOR                                                  */}\n      {/* ================================================================ */}\n      <rect x={0} y={height * 0.72} width={width} height={height * 0.28}\n        fill=\"url(#pub-floor)\" />\n      {/* Wood grain overlay */}\n      <rect x={0} y={height * 0.72} width={width} height={height * 0.28}\n        fill=\"url(#pub-woodgrain)\" opacity={0.4} />\n\n      {/* Floor plank lines (vertical) */}\n      {Array.from({ length: 16 }, (_, i) => (\n        <line key={`fp-${i}`} x1={i * 130 + 30} y1={height * 0.72}\n          x2={i * 130 + 30} y2={height}\n          stroke={C.floorGrain} strokeWidth={1.5} opacity={0.25} />\n      ))}\n      {/* Floor plank lines (horizontal) - stagger like real planks */}\n      {[0.78, 0.84, 0.90, 0.96].map((r, i) => (\n        <React.Fragment key={`fh-${i}`}>\n          <line x1={0} y1={height * r} x2={width} y2={height * r}\n            stroke={C.floorGrain} strokeWidth={1} opacity={0.2} />\n          {/* Stagger marks */}\n          {Array.from({ length: 8 }, (_, j) => (\n            <line key={`stagger-${i}-${j}`}\n              x1={j * 250 + (i % 2) * 125 + 60} y1={height * r - 2}\n              x2={j * 250 + (i % 2) * 125 + 60} y2={height * r + 2}\n              stroke={C.floorGrain} strokeWidth={1} opacity={0.15} />\n          ))}\n        </React.Fragment>\n      ))}\n\n      {/* Worn spots on floor */}\n      <ellipse cx={width * 0.3} cy={height * 0.85} rx={60} ry={20}\n        fill={C.floorWorn} opacity={0.15} />\n      <ellipse cx={width * 0.65} cy={height * 0.88} rx={45} ry={15}\n        fill={C.floorWorn} opacity={0.12} />\n      <ellipse cx={width * 0.5} cy={height * 0.92} rx={70} ry={18}\n        fill={C.floorWorn} opacity={0.1} />\n\n      {/* Old stains */}\n      <circle cx={600} cy={height * 0.82} r={12} fill={C.floorStain} opacity={0.15} />\n      <circle cx={1200} cy={height * 0.90} r={8} fill={C.floorStain} opacity={0.12} />\n      <circle cx={350} cy={height * 0.95} r={10} fill={C.floorStain} opacity={0.1} />\n\n      {/* Floor warm highlights from lamps */}\n      <ellipse cx={350} cy={height * 0.85} rx={100} ry={40} fill={C.floorShine} />\n      <ellipse cx={960} cy={height * 0.85} rx={120} ry={45} fill={C.floorShine} />\n      <ellipse cx={1570} cy={height * 0.85} rx={100} ry={40} fill={C.floorShine} />\n\n      {/* Door threshold (brass strip at bottom-right) */}\n      <rect x={width - 120} y={height - 8} width={120} height={8} fill={C.brass} opacity={0.4} />\n      <rect x={width - 118} y={height - 7} width={40} height={3} fill={C.brassHi} opacity={0.2} />\n\n      {/* ================================================================ */}\n      {/* LAYER 12: SMALL ROUND TABLES                                     */}\n      {/* ================================================================ */}\n\n      {/* Table 1 (left foreground) */}\n      <g transform={`translate(250, ${height * 0.82})`}>\n        {/* Table shadow */}\n        <ellipse cx={0} cy={50} rx={45} ry={8} fill={C.shadowDeep} opacity={0.3} />\n        {/* Pedestal base */}\n        <ellipse cx={0} cy={48} rx={30} ry={6} fill={C.stool} stroke={C.outlineSoft} strokeWidth={1.5} />\n        {/* Center post */}\n        <rect x={-5} y={0} width={10} height={48} fill={C.stool} stroke={C.outlineSoft} strokeWidth={1.2} />\n        {/* Table top */}\n        <ellipse cx={0} cy={0} rx={50} ry={12} fill={C.bar} stroke={C.outlineSoft} strokeWidth={2} />\n        <ellipse cx={-10} cy={-2} rx={25} ry={5} fill={C.barTopShine} />\n        {/* Candle on table */}\n        <CandleHolder x={10} y={-12} frame={frame} phase={4.5} />\n        {/* Beer mat */}\n        <rect x={-30} y={-6} width={22} height={22} rx={2} fill=\"#4A3A2A\" opacity={0.5} />\n      </g>\n\n      {/* Table 2 (right foreground) */}\n      <g transform={`translate(1650, ${height * 0.84})`}>\n        <ellipse cx={0} cy={45} rx={40} ry={7} fill={C.shadowDeep} opacity={0.25} />\n        <ellipse cx={0} cy={44} rx={28} ry={5} fill={C.stool} stroke={C.outlineSoft} strokeWidth={1.5} />\n        <rect x={-5} y={0} width={10} height={44} fill={C.stool} stroke={C.outlineSoft} strokeWidth={1.2} />\n        <ellipse cx={0} cy={0} rx={46} ry={11} fill={C.bar} stroke={C.outlineSoft} strokeWidth={2} />\n        <ellipse cx={-8} cy={-2} rx={22} ry={4.5} fill={C.barTopShine} />\n        <CandleHolder x={-5} y={-12} frame={frame} phase={6.0} />\n      </g>\n\n      {/* ================================================================ */}\n      {/* LAYER 13: BAR STOOLS                                             */}\n      {/* ================================================================ */}\n      <BarStool x={450} y={height * 0.72} angle={-2} />\n      <BarStool x={720} y={height * 0.72} angle={1} />\n      <BarStool x={1000} y={height * 0.72} angle={-1} />\n      <BarStool x={1280} y={height * 0.72} angle={2} />\n      <BarStool x={1520} y={height * 0.72} angle={-1.5} />\n\n      {/* ================================================================ */}\n      {/* LAYER 14: HANGING LAMPS                                          */}\n      {/* ================================================================ */}\n      <HangingLamp x={250} sway={lampSway1} glowPulse={glowPulse1} />\n      <HangingLamp x={640} sway={lampSway2} glowPulse={glowPulse2} />\n      <HangingLamp x={1060} sway={lampSway3} glowPulse={glowPulse3} />\n      <HangingLamp x={1480} sway={lampSway4} glowPulse={glowPulse4} />\n      {/* Extra small lamp over dartboard */}\n      <HangingLamp x={1800} sway={lampSway1 * 0.5} glowPulse={glowPulse1 * 0.5} />\n\n      {/* ================================================================ */}\n      {/* LAYER 15: CURTAIN (far left, by fireplace)                       */}\n      {/* ================================================================ */}\n      <g transform={`translate(0, ${height * 0.10})`}>\n        {/* Curtain rod */}\n        <rect x={0} y={0} width={80} height={5} fill={C.brass} />\n        <circle cx={80} cy={2.5} r={5} fill={C.brass} />\n        {/* Curtain fabric */}\n        <path d=\"M0,5 Q10,80 5,200 Q2,280 0,340 L40,340 Q45,280 42,200 Q48,80 38,5 Z\"\n          fill={C.curtain} stroke={C.outlineSoft} strokeWidth={1} />\n        {/* Fold highlights */}\n        <path d=\"M8,20 Q12,100 10,200 Q9,260 8,330\"\n          fill=\"none\" stroke={C.curtainFold} strokeWidth={2} opacity={0.3} />\n        <path d=\"M25,15 Q28,90 26,180 Q25,250 24,330\"\n          fill=\"none\" stroke={C.curtainDk} strokeWidth={2} opacity={0.25} />\n        {/* Curtain shadow */}\n        <path d=\"M40,5 Q42,80 41,200 Q40,280 40,340 L50,340 Q50,280 48,200 Q47,80 45,5 Z\"\n          fill={C.shadowDeep} opacity={0.3} />\n      </g>\n\n      {/* ================================================================ */}\n      {/* LAYER 16: ATMOSPHERIC EFFECTS                                    */}\n      {/* ================================================================ */}\n\n      {/* Smoke / haze in air */}\n      <ellipse cx={width * 0.3 + smokeDrift} cy={height * 0.25 - smokeRise * 0.3}\n        rx={200} ry={40} fill={`${C.smoke}0.03)`} />\n      <ellipse cx={width * 0.6 - smokeDrift * 0.7} cy={height * 0.30 - smokeRise * 0.2}\n        rx={250} ry={50} fill={`${C.smoke}0.025)`} />\n      <ellipse cx={width * 0.8 + smokeDrift * 0.5} cy={height * 0.22 - smokeRise * 0.25}\n        rx={180} ry={35} fill={`${C.smoke}0.02)`} />\n      {/* General haze */}\n      <rect x={0} y={0} width={width} height={height * 0.5} fill=\"url(#pub-smoke)\" />\n\n      {/* Dust motes in light beams */}\n      {[\n        { dx: 340, dy: 220, phase: 0 },\n        { dx: 660, dy: 180, phase: 1.2 },\n        { dx: 980, dy: 250, phase: 2.4 },\n        { dx: 1100, dy: 200, phase: 3.6 },\n        { dx: 1500, dy: 230, phase: 4.8 },\n      ].map((mote, i) => {\n        const moteY = mote.dy + sineWave(frame, 0.08, mote.phase) * 15;\n        const moteX = mote.dx + sineWave(frame, 0.05, mote.phase + 1) * 8;\n        const moteOp = 0.2 + sineWave(frame, 0.12, mote.phase) * 0.15;\n        return (\n          <circle key={`mote-${i}`} cx={moteX} cy={moteY} r={1.5}\n            fill={C.dustMote} opacity={moteOp} />\n        );\n      })}\n\n      {/* Light cones from hanging lamps */}\n      {[250, 640, 1060, 1480].map((lx, i) => {\n        const sw = [lampSway1, lampSway2, lampSway3, lampSway4][i];\n        return (\n          <path key={`cone-${i}`}\n            d={`M${lx + sw - 30},220 L${lx + sw - 120},${height * 0.72} L${lx + sw + 120},${height * 0.72} L${lx + sw + 30},220 Z`}\n            fill={`${C.warmGlow}0.02)`} />\n        );\n      })}\n\n      {/* ================================================================ */}\n      {/* LAYER 17: VIGNETTE & FINAL COMPOSITING                           */}\n      {/* ================================================================ */}\n\n      {/* Warm overall tint */}\n      <rect x={0} y={0} width={width} height={height}\n        fill=\"rgba(255,180,100,0.02)\" />\n\n      {/* Edge darkening */}\n      <rect x={0} y={0} width={width} height={height}\n        fill=\"url(#pub-vignette)\" />\n\n      {/* Bottom edge extra dark (depth) */}\n      <rect x={0} y={height - 40} width={width} height={40}\n        fill=\"rgba(10,5,0,0.2)\" />\n\n      {/* Top edge dark (ceiling shadow) */}\n      <rect x={0} y={0} width={width} height={30}\n        fill=\"rgba(10,5,0,0.3)\" />\n\n      {/* Side shadows */}\n      <rect x={0} y={0} width={40} height={height}\n        fill=\"rgba(10,5,0,0.15)\" />\n      <rect x={width - 40} y={0} width={40} height={height}\n        fill=\"rgba(10,5,0,0.15)\" />\n    </svg>\n  );\n};\n\nexport default Pub;\n","import React from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { sineWave } from '../animations/easing';\n\ninterface ClassroomProps {\n  boardText?: string;\n  width?: number;\n  height?: number;\n}\n\nconst C = {\n  wall: '#F5F0E1',\n  wallShadow: '#E8E0D0',\n  floor: '#C4A882',\n  floorDark: '#A89070',\n  board: '#2A5A3A',\n  boardDark: '#1E4A2E',\n  boardFrame: '#8B6B4A',\n  boardFrameDark: '#6B4B2A',\n  chalk: '#F0F0E0',\n  chalkDust: 'rgba(240,240,220,0.3)',\n  desk: '#A0784A',\n  deskDark: '#886838',\n  deskTop: '#B8905A',\n  window: '#B8D8F0',\n  windowFrame: '#E0D8C8',\n  windowFrameDark: '#C0B8A0',\n  curtain: '#8B2020',\n  curtainDark: '#6B1010',\n  light: '#FFFDE8',\n  lightFixture: '#C0C0C0',\n  trim: '#D8D0C0',\n  bookRed: '#A02020',\n  bookBlue: '#2040A0',\n  bookGreen: '#206020',\n  bookYellow: '#C0A020',\n  outline: '#1A1A1A',\n  clock: '#F8F0E0',\n  clockFrame: '#6B4B2A',\n};\n\nexport const Classroom: React.FC<ClassroomProps> = ({\n  boardText = '',\n  width = 1920,\n  height = 1080,\n}) => {\n  const frame = useCurrentFrame();\n  const clockSecond = (frame / 30) % 60;\n  const clockAngle = clockSecond * 6; // 360/60 = 6 degrees per second\n  const lightFlicker = 1 + sineWave(frame, 0.08) * 0.02;\n\n  return (\n    <svg viewBox={`0 0 ${width} ${height}`} width={width} height={height}>\n      <defs>\n        <linearGradient id=\"cls-floor\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.floor} />\n          <stop offset=\"100%\" stopColor={C.floorDark} />\n        </linearGradient>\n        <radialGradient id=\"cls-light\" cx=\"50%\" cy=\"20%\" r=\"65%\">\n          <stop offset=\"0%\" stopColor=\"rgba(255,253,232,0.12)\" />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </radialGradient>\n        <linearGradient id=\"cls-board\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.board} />\n          <stop offset=\"100%\" stopColor={C.boardDark} />\n        </linearGradient>\n      </defs>\n\n      {/* === BACK WALL === */}\n      <rect x={0} y={0} width={width} height={height * 0.75} fill={C.wall} />\n      {/* Wainscoting (lower wall panel) */}\n      <rect x={0} y={height * 0.55} width={width} height={height * 0.20} fill={C.wallShadow} />\n      <rect x={0} y={height * 0.55} width={width} height={3} fill={C.trim} />\n      <rect x={0} y={height * 0.73} width={width} height={4} fill={C.trim} />\n      {/* Ambient lighting */}\n      <rect x={0} y={0} width={width} height={height} fill=\"url(#cls-light)\" opacity={lightFlicker} />\n\n      {/* === CHALKBOARD (center) === */}\n      <g transform={`translate(${width / 2 - 350}, 60)`}>\n        {/* Frame */}\n        <rect x={-16} y={-16} width={732} height={332} rx={4} fill={C.boardFrameDark} stroke={C.outline} strokeWidth={2} />\n        <rect x={-10} y={-10} width={720} height={320} rx={3} fill={C.boardFrame} stroke={C.outline} strokeWidth={2} />\n        {/* Board surface */}\n        <rect x={0} y={0} width={700} height={300} fill=\"url(#cls-board)\" />\n        {/* Chalk dust texture */}\n        <rect x={20} y={20} width={660} height={260} fill={C.chalkDust} opacity={0.08} />\n        {/* Chalk tray */}\n        <rect x={-8} y={300} width={716} height={18} rx={3} fill={C.boardFrame} stroke={C.outline} strokeWidth={2} />\n        {/* Chalk pieces on tray */}\n        <rect x={40} y={304} width={35} height={7} rx={3} fill={C.chalk} opacity={0.8} />\n        <rect x={90} y={305} width={25} height={6} rx={3} fill=\"#FFD700\" opacity={0.6} />\n        <rect x={130} y={304} width={30} height={7} rx={3} fill=\"#FF8888\" opacity={0.6} />\n        {/* Eraser */}\n        <rect x={620} y={302} width={50} height={12} rx={2} fill=\"#888\" stroke={C.outline} strokeWidth={1} />\n        <rect x={622} y={304} width={46} height={4} rx={1} fill=\"#666\" />\n        {/* Board text */}\n        {boardText && (\n          <text x={350} y={165} textAnchor=\"middle\" fill={C.chalk}\n            fontSize={48} fontFamily=\"'Courier New', monospace\" fontWeight=\"bold\" opacity={0.9}>\n            {boardText}\n          </text>\n        )}\n      </g>\n\n      {/* === WINDOWS (left) === */}\n      <ClassroomWindow x={80} y={80} w={200} h={280} />\n\n      {/* === WINDOWS (right) === */}\n      <ClassroomWindow x={width - 280} y={80} w={200} h={280} />\n\n      {/* === CLOCK (above board, right) === */}\n      <g transform={`translate(${width / 2 + 420}, 100)`}>\n        <circle cx={0} cy={0} r={32} fill={C.clock} stroke={C.clockFrame} strokeWidth={4} />\n        {/* Hour markers */}\n        {Array.from({ length: 12 }, (_, i) => {\n          const angle = (i * 30 - 90) * (Math.PI / 180);\n          const x1 = Math.cos(angle) * 24;\n          const y1 = Math.sin(angle) * 24;\n          const x2 = Math.cos(angle) * 28;\n          const y2 = Math.sin(angle) * 28;\n          return <line key={`h-${i}`} x1={x1} y1={y1} x2={x2} y2={y2} stroke={C.outline} strokeWidth={2} />;\n        })}\n        {/* Minute hand (fixed at 10:10 for aesthetics) */}\n        <line x1={0} y1={0} x2={-10} y2={-18} stroke={C.outline} strokeWidth={2.5} strokeLinecap=\"round\" />\n        {/* Hour hand */}\n        <line x1={0} y1={0} x2={12} y2={-8} stroke={C.outline} strokeWidth={3} strokeLinecap=\"round\" />\n        {/* Second hand - animated */}\n        <line x1={0} y1={0}\n          x2={Math.cos((clockAngle - 90) * Math.PI / 180) * 22}\n          y2={Math.sin((clockAngle - 90) * Math.PI / 180) * 22}\n          stroke=\"#CC0000\" strokeWidth={1} strokeLinecap=\"round\" />\n        <circle cx={0} cy={0} r={3} fill={C.outline} />\n      </g>\n\n      {/* === FLOOR === */}\n      <rect x={0} y={height * 0.75} width={width} height={height * 0.25} fill=\"url(#cls-floor)\" />\n      {/* Floor tile pattern */}\n      {Array.from({ length: 10 }, (_, i) => (\n        <line key={`ftv-${i}`} x1={i * 210 + 30} y1={height * 0.75} x2={i * 210 + 30} y2={height}\n          stroke={C.floorDark} strokeWidth={1.5} opacity={0.2} />\n      ))}\n      {[0.85, 0.95].map((r, i) => (\n        <line key={`fth-${i}`} x1={0} y1={height * r} x2={width} y2={height * r}\n          stroke={C.floorDark} strokeWidth={1} opacity={0.15} />\n      ))}\n\n      {/* === TEACHER'S DESK (front center) === */}\n      <g transform={`translate(${width / 2 - 200}, ${height * 0.60})`}>\n        {/* Desk front */}\n        <rect x={0} y={30} width={400} height={100} rx={4} fill={C.desk} stroke={C.outline} strokeWidth={2.5} />\n        <rect x={10} y={40} width={180} height={80} rx={3} fill={C.deskDark} stroke={C.outline} strokeWidth={1.5} opacity={0.4} />\n        <rect x={210} y={40} width={180} height={80} rx={3} fill={C.deskDark} stroke={C.outline} strokeWidth={1.5} opacity={0.4} />\n        {/* Desk top surface */}\n        <rect x={-10} y={20} width={420} height={16} rx={3} fill={C.deskTop} stroke={C.outline} strokeWidth={2.5} />\n        <rect x={0} y={22} width={400} height={6} rx={2} fill=\"rgba(255,255,255,0.06)\" />\n        {/* Desk legs */}\n        <rect x={10} y={125} width={12} height={45} fill={C.desk} stroke={C.outline} strokeWidth={1.5} />\n        <rect x={378} y={125} width={12} height={45} fill={C.desk} stroke={C.outline} strokeWidth={1.5} />\n\n        {/* Items on desk */}\n        {/* Book stack */}\n        <rect x={320} y={8} width={50} height={8} rx={1} fill={C.bookRed} stroke={C.outline} strokeWidth={1} />\n        <rect x={322} y={1} width={46} height={8} rx={1} fill={C.bookBlue} stroke={C.outline} strokeWidth={1} />\n        <rect x={324} y={-5} width={42} height={7} rx={1} fill={C.bookGreen} stroke={C.outline} strokeWidth={1} />\n        {/* Apple (classic teacher's desk) */}\n        <circle cx={355} cy={-14} r={8} fill=\"#CC3333\" stroke={C.outline} strokeWidth={1.5} />\n        <path d=\"M355,-22 Q358,-28 360,-24\" fill=\"#2D5016\" stroke={C.outline} strokeWidth={1} />\n        <circle cx={352} cy={-17} r={2} fill=\"rgba(255,255,255,0.25)\" />\n      </g>\n\n      {/* === FLUORESCENT LIGHTS === */}\n      <FluorescentLight x={width * 0.25} y={0} w={200} />\n      <FluorescentLight x={width * 0.75} y={0} w={200} />\n\n      {/* === BOOKSHELF (far left wall) === */}\n      <g transform=\"translate(20, 400)\">\n        <rect x={0} y={0} width={45} height={170} fill={C.desk} stroke={C.outline} strokeWidth={2} />\n        {/* Shelves */}\n        <rect x={-2} y={0} width={49} height={4} fill={C.deskTop} />\n        <rect x={-2} y={55} width={49} height={4} fill={C.deskTop} />\n        <rect x={-2} y={110} width={49} height={4} fill={C.deskTop} />\n        <rect x={-2} y={166} width={49} height={4} fill={C.deskTop} />\n        {/* Books */}\n        <rect x={5} y={8} width={8} height={44} rx={1} fill={C.bookRed} />\n        <rect x={15} y={12} width={7} height={40} rx={1} fill={C.bookBlue} />\n        <rect x={24} y={10} width={8} height={42} rx={1} fill={C.bookYellow} />\n        <rect x={34} y={14} width={6} height={38} rx={1} fill={C.bookGreen} />\n        <rect x={5} y={63} width={7} height={44} rx={1} fill={C.bookBlue} />\n        <rect x={14} y={65} width={8} height={42} rx={1} fill={C.bookGreen} />\n        <rect x={24} y={60} width={7} height={47} rx={1} fill={C.bookRed} />\n      </g>\n    </svg>\n  );\n};\n\n// ---- Window component ----\nconst ClassroomWindow: React.FC<{ x: number; y: number; w: number; h: number }> = ({ x, y, w, h }) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {/* Window recess shadow */}\n    <rect x={-6} y={-6} width={w + 12} height={h + 12} rx={3} fill=\"rgba(0,0,0,0.08)\" />\n    {/* Frame */}\n    <rect x={-4} y={-4} width={w + 8} height={h + 8} rx={2} fill={C.windowFrame} stroke={C.outline} strokeWidth={2} />\n    {/* Sky / glass */}\n    <rect x={0} y={0} width={w} height={h} fill={C.window} />\n    {/* Window divider (cross) */}\n    <line x1={w / 2} y1={0} x2={w / 2} y2={h} stroke={C.windowFrameDark} strokeWidth={4} />\n    <line x1={0} y1={h / 2} x2={w} y2={h / 2} stroke={C.windowFrameDark} strokeWidth={4} />\n    {/* Sky gradient - lighter at top */}\n    <rect x={0} y={0} width={w} height={h * 0.5} fill=\"rgba(255,255,255,0.15)\" />\n    {/* Simple cloud hint */}\n    <ellipse cx={w * 0.3} cy={h * 0.25} rx={30} ry={12} fill=\"rgba(255,255,255,0.4)\" />\n    <ellipse cx={w * 0.7} cy={h * 0.35} rx={22} ry={9} fill=\"rgba(255,255,255,0.3)\" />\n    {/* Curtain - left */}\n    <path\n      d={`M-2,0 Q${-15},${h * 0.3} -8,${h} L-2,${h} Z`}\n      fill={C.curtain} stroke={C.outline} strokeWidth={1.5} opacity={0.85}\n    />\n    <path d={`M-5,20 Q-12,${h * 0.4} -7,${h * 0.6}`} fill=\"none\" stroke={C.curtainDark} strokeWidth={1} opacity={0.3} />\n    {/* Curtain - right */}\n    <path\n      d={`M${w + 2},0 Q${w + 15},${h * 0.3} ${w + 8},${h} L${w + 2},${h} Z`}\n      fill={C.curtain} stroke={C.outline} strokeWidth={1.5} opacity={0.85}\n    />\n    {/* Sill */}\n    <rect x={-8} y={h + 2} width={w + 16} height={10} rx={2} fill={C.windowFrame} stroke={C.outline} strokeWidth={1.5} />\n  </g>\n);\n\n// ---- Fluorescent light fixture ----\nconst FluorescentLight: React.FC<{ x: number; y: number; w: number }> = ({ x, y, w }) => (\n  <g transform={`translate(${x - w / 2}, ${y})`}>\n    <rect x={0} y={0} width={w} height={12} rx={3} fill={C.lightFixture} stroke={C.outline} strokeWidth={1.5} />\n    <rect x={10} y={10} width={w - 20} height={6} rx={2} fill={C.light} opacity={0.9} />\n    {/* Light glow */}\n    <ellipse cx={w / 2} cy={20} rx={w * 0.6} ry={30} fill=\"rgba(255,253,232,0.06)\" />\n  </g>\n);\n\nexport default Classroom;\n","// Animated crowd components for background scenes\n// Small, simple SVG figures performing repetitive tasks\n// These create the feeling of a living, busy world\n\nimport React from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { sineWave } from '../animations/easing';\n\n// ---- Shared colors ----\nconst SKIN = '#C4986A';\nconst SKIN_DARK = '#A07848';\nconst LOINCLOTH = '#E8D8B8';\nconst LOINCLOTH_ALT = '#D4B888';\nconst HEADBAND = '#C86040';\nconst HEADBAND_ALT = '#D4A040';\nconst STONE = '#B8906A';\nconst ROPE = '#9B8968';\nconst WOOD = '#8B5E3C';\nconst OUTLINE = '#1A1A1A';\n\n// ---- Types ----\n\nexport interface CrowdFigureProps {\n  x: number;\n  y: number;\n  scale?: number;\n  seed?: number;\n  flip?: boolean;\n}\n\nexport interface CrowdLayerConfig {\n  figures: Array<{\n    type: CrowdFigureType;\n    x: number;\n    y: number;\n    scale?: number;\n    seed?: number;\n    flip?: boolean;\n  }>;\n}\n\nexport type CrowdFigureType =\n  | 'stonePuller'\n  | 'stoneCarrier'\n  | 'chiselWorker'\n  | 'waterCarrier'\n  | 'overseer'\n  | 'fanBearer'\n  | 'seated'\n  | 'kneeling'\n  | 'rowerLeft'\n  | 'rowerRight'\n  | 'baker'\n  | 'sweeper';\n\n// ---- Stone Puller: bent forward, pulling rope ----\n\nexport const StonePuller: React.FC<CrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const pullCycle = sineWave(frame, 0.18, seed);\n  const bodyLean = pullCycle * 3;\n  const armPull = pullCycle * 6;\n  const legStride = pullCycle * 4;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      {/* Shadow */}\n      <ellipse cx={0} cy={2} rx={12} ry={3} fill=\"rgba(0,0,0,0.15)\" />\n      {/* Back leg */}\n      <line x1={-2} y1={-8} x2={-6 - legStride} y2={2} stroke={SKIN_DARK} strokeWidth={3} strokeLinecap=\"round\" />\n      {/* Front leg */}\n      <line x1={2} y1={-8} x2={8 + legStride} y2={2} stroke={SKIN} strokeWidth={3} strokeLinecap=\"round\" />\n      {/* Body (leaning forward) */}\n      <line x1={0} y1={-8} x2={6 + bodyLean} y2={-22} stroke={SKIN} strokeWidth={4} strokeLinecap=\"round\" />\n      {/* Head */}\n      <circle cx={8 + bodyLean} cy={-25} r={4} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      {/* Headband */}\n      <line x1={5 + bodyLean} y1={-26} x2={11 + bodyLean} y2={-26} stroke={HEADBAND} strokeWidth={1.5} />\n      {/* Loincloth */}\n      <path d={`M-3,-10 L3,-10 L4,-6 L-4,-6 Z`} fill={LOINCLOTH} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Arms pulling rope */}\n      <line x1={6 + bodyLean} y1={-20} x2={18 + armPull} y2={-16} stroke={SKIN} strokeWidth={2.5} strokeLinecap=\"round\" />\n      <line x1={6 + bodyLean} y1={-18} x2={16 + armPull} y2={-14} stroke={SKIN_DARK} strokeWidth={2.5} strokeLinecap=\"round\" />\n      {/* Rope */}\n      <line x1={18 + armPull} y1={-16} x2={35} y2={-14} stroke={ROPE} strokeWidth={1.5} />\n    </g>\n  );\n};\n\n// ---- Stone Carrier: walking with block on shoulder ----\n\nexport const StoneCarrier: React.FC<CrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const walkCycle = sineWave(frame, 0.15, seed);\n  const bobUp = Math.abs(walkCycle) * 2;\n  const legSwing = walkCycle * 5;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={10} ry={3} fill=\"rgba(0,0,0,0.12)\" />\n      {/* Legs walking */}\n      <line x1={-2} y1={-8} x2={-4 - legSwing} y2={2} stroke={SKIN_DARK} strokeWidth={3} strokeLinecap=\"round\" />\n      <line x1={2} y1={-8} x2={4 + legSwing} y2={2} stroke={SKIN} strokeWidth={3} strokeLinecap=\"round\" />\n      {/* Body */}\n      <line x1={0} y1={-8} x2={0} y2={-22 - bobUp} stroke={SKIN} strokeWidth={4} strokeLinecap=\"round\" />\n      {/* Head */}\n      <circle cx={0} cy={-25 - bobUp} r={4} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      <line x1={-3} y1={-26 - bobUp} x2={3} y2={-26 - bobUp} stroke={HEADBAND_ALT} strokeWidth={1.5} />\n      {/* Loincloth */}\n      <path d=\"M-3,-10 L3,-10 L4,-6 L-4,-6 Z\" fill={LOINCLOTH} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Arms supporting stone on shoulder */}\n      <line x1={0} y1={-20 - bobUp} x2={8} y2={-28 - bobUp} stroke={SKIN} strokeWidth={2.5} strokeLinecap=\"round\" />\n      <line x1={0} y1={-19 - bobUp} x2={-6} y2={-26 - bobUp} stroke={SKIN_DARK} strokeWidth={2} strokeLinecap=\"round\" />\n      {/* Stone block on shoulder */}\n      <rect x={-5} y={-34 - bobUp} width={14} height={8} rx={1} fill={STONE} stroke={OUTLINE} strokeWidth={0.8} />\n    </g>\n  );\n};\n\n// ---- Chisel Worker: kneeling, chiseling stone ----\n\nexport const ChiselWorker: React.FC<CrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const chiselHit = sineWave(frame, 0.3, seed);\n  const armSwing = chiselHit > 0.5 ? (chiselHit - 0.5) * 8 : 0;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={8} ry={2.5} fill=\"rgba(0,0,0,0.12)\" />\n      {/* Kneeling legs */}\n      <path d=\"M-3,-4 L-6,2 L-2,2 Z\" fill={SKIN} stroke={OUTLINE} strokeWidth={0.5} />\n      <path d=\"M3,-4 L6,2 L2,2 Z\" fill={SKIN_DARK} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Body (kneeling, leaning forward) */}\n      <line x1={0} y1={-4} x2={3} y2={-18} stroke={SKIN} strokeWidth={4} strokeLinecap=\"round\" />\n      {/* Head */}\n      <circle cx={4} cy={-21} r={3.5} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      <line x1={1} y1={-22} x2={7} y2={-22} stroke={HEADBAND} strokeWidth={1.5} />\n      {/* Loincloth */}\n      <path d=\"M-3,-6 L3,-6 L4,-2 L-4,-2 Z\" fill={LOINCLOTH_ALT} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Arm with chisel */}\n      <line x1={3} y1={-16} x2={12} y2={-10 - armSwing} stroke={SKIN} strokeWidth={2.5} strokeLinecap=\"round\" />\n      {/* Chisel tool */}\n      <line x1={12} y1={-10 - armSwing} x2={14} y2={-6} stroke={WOOD} strokeWidth={2} strokeLinecap=\"round\" />\n      {/* Other arm holding stone */}\n      <line x1={3} y1={-15} x2={-4} y2={-10} stroke={SKIN_DARK} strokeWidth={2} strokeLinecap=\"round\" />\n      {/* Stone being worked on */}\n      <rect x={8} y={-6} width={12} height={8} rx={1} fill={STONE} stroke={OUTLINE} strokeWidth={0.8} />\n      {/* Dust particles on hit */}\n      {chiselHit > 0.5 && (\n        <>\n          <circle cx={14 + chiselHit * 3} cy={-8 - chiselHit * 4} r={1} fill={STONE} opacity={0.5} />\n          <circle cx={16 + chiselHit * 2} cy={-6 - chiselHit * 3} r={0.7} fill={STONE} opacity={0.3} />\n        </>\n      )}\n    </g>\n  );\n};\n\n// ---- Water Carrier: walking with jars on yoke ----\n\nexport const WaterCarrier: React.FC<CrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const walkCycle = sineWave(frame, 0.14, seed);\n  const bob = Math.abs(walkCycle) * 1.5;\n  const yokeSway = walkCycle * 2;\n  const legSwing = walkCycle * 4;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={10} ry={3} fill=\"rgba(0,0,0,0.12)\" />\n      {/* Legs */}\n      <line x1={-2} y1={-8} x2={-4 - legSwing} y2={2} stroke={SKIN_DARK} strokeWidth={3} strokeLinecap=\"round\" />\n      <line x1={2} y1={-8} x2={4 + legSwing} y2={2} stroke={SKIN} strokeWidth={3} strokeLinecap=\"round\" />\n      {/* Body */}\n      <line x1={0} y1={-8} x2={0} y2={-22 - bob} stroke={SKIN} strokeWidth={4} strokeLinecap=\"round\" />\n      {/* Head */}\n      <circle cx={0} cy={-25 - bob} r={3.5} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      <line x1={-2.5} y1={-26 - bob} x2={2.5} y2={-26 - bob} stroke={HEADBAND} strokeWidth={1.5} />\n      {/* Loincloth */}\n      <path d=\"M-3,-10 L3,-10 L4,-6 L-4,-6 Z\" fill={LOINCLOTH} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Yoke across shoulders */}\n      <line x1={-18 + yokeSway} y1={-21 - bob} x2={18 + yokeSway} y2={-21 - bob} stroke={WOOD} strokeWidth={2.5} strokeLinecap=\"round\" />\n      {/* Arms holding yoke */}\n      <line x1={0} y1={-20 - bob} x2={-8} y2={-21 - bob} stroke={SKIN} strokeWidth={2} strokeLinecap=\"round\" />\n      <line x1={0} y1={-20 - bob} x2={8} y2={-21 - bob} stroke={SKIN_DARK} strokeWidth={2} strokeLinecap=\"round\" />\n      {/* Left water jar */}\n      <g transform={`translate(${-18 + yokeSway}, ${-18 - bob})`}>\n        <line x1={0} y1={-3} x2={0} y2={5} stroke={ROPE} strokeWidth={1} />\n        <path d=\"M-4,5 Q-5,10 -3,14 Q0,16 3,14 Q5,10 4,5 Z\" fill=\"#B07040\" stroke={OUTLINE} strokeWidth={0.8} />\n      </g>\n      {/* Right water jar */}\n      <g transform={`translate(${18 + yokeSway}, ${-18 - bob})`}>\n        <line x1={0} y1={-3} x2={0} y2={5} stroke={ROPE} strokeWidth={1} />\n        <path d=\"M-4,5 Q-5,10 -3,14 Q0,16 3,14 Q5,10 4,5 Z\" fill=\"#B07040\" stroke={OUTLINE} strokeWidth={0.8} />\n      </g>\n    </g>\n  );\n};\n\n// ---- Overseer: standing with staff, watching ----\n\nexport const Overseer: React.FC<CrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const headTurn = sineWave(frame, 0.06, seed) * 2;\n  const breathe = sineWave(frame, 0.08, seed) * 0.5;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={8} ry={2.5} fill=\"rgba(0,0,0,0.12)\" />\n      {/* Legs (standing) */}\n      <line x1={-3} y1={-8} x2={-4} y2={2} stroke={SKIN_DARK} strokeWidth={3} strokeLinecap=\"round\" />\n      <line x1={3} y1={-8} x2={4} y2={2} stroke={SKIN} strokeWidth={3} strokeLinecap=\"round\" />\n      {/* Body */}\n      <line x1={0} y1={-8} x2={0} y2={-24 - breathe} stroke={SKIN} strokeWidth={4.5} strokeLinecap=\"round\" />\n      {/* White kilt (more elaborate than workers) */}\n      <path d=\"M-5,-10 L5,-10 L6,-4 L-6,-4 Z\" fill=\"white\" stroke={OUTLINE} strokeWidth={0.8} />\n      {/* Head */}\n      <circle cx={headTurn} cy={-27 - breathe} r={4} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      {/* Headcloth */}\n      <path d={`M${headTurn - 5},${-28 - breathe} Q${headTurn},${-33 - breathe} ${headTurn + 5},${-28 - breathe}\n        L${headTurn + 6},${-24 - breathe} L${headTurn - 6},${-24 - breathe} Z`}\n        fill=\"white\" stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Staff */}\n      <line x1={8} y1={-22 - breathe} x2={10} y2={4} stroke={WOOD} strokeWidth={2} strokeLinecap=\"round\" />\n      {/* Arm holding staff */}\n      <line x1={0} y1={-20 - breathe} x2={8} y2={-18 - breathe} stroke={SKIN} strokeWidth={2.5} strokeLinecap=\"round\" />\n      {/* Other arm on hip */}\n      <line x1={0} y1={-18 - breathe} x2={-6} y2={-12} stroke={SKIN_DARK} strokeWidth={2} strokeLinecap=\"round\" />\n    </g>\n  );\n};\n\n// ---- Fan Bearer: waving a large fan ----\n\nexport const FanBearer: React.FC<CrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const fanWave = sineWave(frame, 0.2, seed) * 15;\n  const breathe = sineWave(frame, 0.08, seed + 1) * 0.5;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={8} ry={2.5} fill=\"rgba(0,0,0,0.12)\" />\n      {/* Legs */}\n      <line x1={-3} y1={-8} x2={-4} y2={2} stroke={SKIN_DARK} strokeWidth={3} strokeLinecap=\"round\" />\n      <line x1={3} y1={-8} x2={4} y2={2} stroke={SKIN} strokeWidth={3} strokeLinecap=\"round\" />\n      {/* Body */}\n      <line x1={0} y1={-8} x2={0} y2={-24 - breathe} stroke={SKIN} strokeWidth={4} strokeLinecap=\"round\" />\n      {/* White loincloth */}\n      <path d=\"M-3,-10 L3,-10 L4,-6 L-4,-6 Z\" fill={LOINCLOTH} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Head */}\n      <circle cx={0} cy={-27 - breathe} r={3.5} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      <line x1={-2.5} y1={-28 - breathe} x2={2.5} y2={-28 - breathe} stroke={HEADBAND_ALT} strokeWidth={1.5} />\n      {/* Arm holding fan handle */}\n      <line x1={0} y1={-20 - breathe} x2={6} y2={-30 - breathe} stroke={SKIN} strokeWidth={2.5} strokeLinecap=\"round\" />\n      {/* Fan handle */}\n      <line x1={6} y1={-30 - breathe} x2={8} y2={-52 - breathe} stroke={WOOD} strokeWidth={2} strokeLinecap=\"round\" />\n      {/* Fan (large feather/palm fan) */}\n      <g transform={`translate(8, ${-52 - breathe}) rotate(${fanWave})`}>\n        <path d=\"M0,0 Q-15,-20 -8,-35 Q0,-40 8,-35 Q15,-20 0,0 Z\"\n          fill=\"#2D5016\" stroke={OUTLINE} strokeWidth={0.8} opacity={0.85} />\n        <path d=\"M0,0 Q-8,-18 -4,-30 Q0,-34 4,-30 Q8,-18 0,0 Z\"\n          fill=\"#3D7A3D\" stroke={OUTLINE} strokeWidth={0.5} opacity={0.7} />\n        {/* Fan ribs */}\n        <line x1={0} y1={0} x2={-5} y2={-30} stroke={WOOD} strokeWidth={0.6} opacity={0.4} />\n        <line x1={0} y1={0} x2={0} y2={-32} stroke={WOOD} strokeWidth={0.6} opacity={0.4} />\n        <line x1={0} y1={0} x2={5} y2={-30} stroke={WOOD} strokeWidth={0.6} opacity={0.4} />\n      </g>\n      {/* Other arm at side */}\n      <line x1={0} y1={-18 - breathe} x2={-5} y2={-12} stroke={SKIN_DARK} strokeWidth={2} strokeLinecap=\"round\" />\n    </g>\n  );\n};\n\n// ---- Seated figure: resting, eating, or watching ----\n\nexport const SeatedFigure: React.FC<CrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const breathe = sineWave(frame, 0.07, seed) * 0.5;\n  const headNod = sineWave(frame, 0.05, seed + 2) * 1.5;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={7} ry={2} fill=\"rgba(0,0,0,0.1)\" />\n      {/* Legs (crossed/folded) */}\n      <path d=\"M-5,-2 Q-8,2 -3,4 Q0,2 3,4 Q8,2 5,-2 Z\" fill={SKIN_DARK} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Body */}\n      <line x1={0} y1={-2} x2={0} y2={-16 - breathe} stroke={SKIN} strokeWidth={4} strokeLinecap=\"round\" />\n      {/* Head */}\n      <circle cx={headNod} cy={-19 - breathe} r={3.5} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      <line x1={headNod - 2.5} y1={-20 - breathe} x2={headNod + 2.5} y2={-20 - breathe} stroke={HEADBAND} strokeWidth={1.5} />\n      {/* Loincloth */}\n      <path d=\"M-3,-4 L3,-4 L4,0 L-4,0 Z\" fill={LOINCLOTH_ALT} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Arms resting on knees */}\n      <line x1={0} y1={-12 - breathe} x2={-6} y2={-4} stroke={SKIN} strokeWidth={2} strokeLinecap=\"round\" />\n      <line x1={0} y1={-12 - breathe} x2={6} y2={-4} stroke={SKIN_DARK} strokeWidth={2} strokeLinecap=\"round\" />\n    </g>\n  );\n};\n\n// ---- Kneeling Figure: praying or working low ----\n\nexport const KneelingFigure: React.FC<CrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const bow = sineWave(frame, 0.1, seed) * 3;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={7} ry={2} fill=\"rgba(0,0,0,0.1)\" />\n      {/* Kneeling legs */}\n      <path d=\"M-3,-2 L-5,2 L-1,2 Z\" fill={SKIN} stroke={OUTLINE} strokeWidth={0.5} />\n      <path d=\"M3,-2 L5,2 L1,2 Z\" fill={SKIN_DARK} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Body leaning forward */}\n      <line x1={0} y1={-2} x2={2 + bow} y2={-14} stroke={SKIN} strokeWidth={4} strokeLinecap=\"round\" />\n      {/* Head */}\n      <circle cx={3 + bow} cy={-17} r={3.5} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      <line x1={bow} y1={-18} x2={6 + bow} y2={-18} stroke={HEADBAND_ALT} strokeWidth={1.5} />\n      {/* Loincloth */}\n      <path d=\"M-3,-4 L3,-4 L4,0 L-4,0 Z\" fill={LOINCLOTH} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Arms forward (offering/working) */}\n      <line x1={2 + bow} y1={-12} x2={10 + bow} y2={-8} stroke={SKIN} strokeWidth={2.5} strokeLinecap=\"round\" />\n      <line x1={2 + bow} y1={-11} x2={9 + bow} y2={-6} stroke={SKIN_DARK} strokeWidth={2} strokeLinecap=\"round\" />\n    </g>\n  );\n};\n\n// ---- Rower: sitting, rowing motion ----\n\nexport const Rower: React.FC<CrowdFigureProps & { direction?: 'left' | 'right' }> = ({\n  x, y, scale = 1, seed = 0, flip = false, direction = 'right',\n}) => {\n  const frame = useCurrentFrame();\n  const rowCycle = sineWave(frame, 0.16, seed);\n  const armReach = rowCycle * 8;\n  const bodyLean = rowCycle * 3;\n  const fDir = flip ? -1 : 1;\n  const dDir = direction === 'left' ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir * dDir}, ${scale})`}>\n      {/* Seated lower body */}\n      <path d=\"M-4,-2 L-6,2 L6,2 L4,-2 Z\" fill={SKIN_DARK} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Body leaning with rowing */}\n      <line x1={0} y1={-2} x2={bodyLean} y2={-16} stroke={SKIN} strokeWidth={4} strokeLinecap=\"round\" />\n      {/* Head */}\n      <circle cx={bodyLean + 1} cy={-19} r={3.5} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      <line x1={bodyLean - 2} y1={-20} x2={bodyLean + 4} y2={-20} stroke={HEADBAND} strokeWidth={1.5} />\n      {/* Loincloth */}\n      <path d=\"M-3,-4 L3,-4 L4,0 L-4,0 Z\" fill={LOINCLOTH} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Arms rowing */}\n      <line x1={bodyLean} y1={-14} x2={12 + armReach} y2={-10} stroke={SKIN} strokeWidth={2.5} strokeLinecap=\"round\" />\n      {/* Oar */}\n      <line x1={12 + armReach} y1={-10} x2={22 + armReach} y2={4} stroke={WOOD} strokeWidth={2} strokeLinecap=\"round\" />\n      {/* Oar blade */}\n      <ellipse cx={23 + armReach} cy={6} rx={3} ry={5} fill={WOOD} stroke={OUTLINE} strokeWidth={0.5} transform={`rotate(${15 + rowCycle * 5}, ${23 + armReach}, 6)`} />\n    </g>\n  );\n};\n\n// ---- Baker: kneading or tending oven ----\n\nexport const Baker: React.FC<CrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const kneadCycle = sineWave(frame, 0.22, seed);\n  const armPush = kneadCycle * 4;\n  const bodyRock = kneadCycle * 1.5;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={8} ry={2.5} fill=\"rgba(0,0,0,0.12)\" />\n      {/* Legs */}\n      <line x1={-3} y1={-8} x2={-4} y2={2} stroke={SKIN_DARK} strokeWidth={3} strokeLinecap=\"round\" />\n      <line x1={3} y1={-8} x2={4} y2={2} stroke={SKIN} strokeWidth={3} strokeLinecap=\"round\" />\n      {/* Body leaning forward */}\n      <line x1={0} y1={-8} x2={bodyRock + 2} y2={-22} stroke={SKIN} strokeWidth={4} strokeLinecap=\"round\" />\n      {/* Head */}\n      <circle cx={bodyRock + 2} cy={-25} r={3.5} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      <line x1={bodyRock - 1} y1={-26} x2={bodyRock + 5} y2={-26} stroke=\"white\" strokeWidth={1.5} />\n      {/* Loincloth + apron */}\n      <path d=\"M-4,-10 L4,-10 L5,-4 L-5,-4 Z\" fill={LOINCLOTH} stroke={OUTLINE} strokeWidth={0.5} />\n      <path d=\"M-3,-10 L3,-10 L4,-6 L-4,-6 Z\" fill=\"white\" stroke={OUTLINE} strokeWidth={0.3} opacity={0.6} />\n      {/* Arms kneading */}\n      <line x1={bodyRock + 2} y1={-20} x2={10 + armPush} y2={-14} stroke={SKIN} strokeWidth={2.5} strokeLinecap=\"round\" />\n      <line x1={bodyRock + 2} y1={-18} x2={8 + armPush} y2={-12} stroke={SKIN_DARK} strokeWidth={2.5} strokeLinecap=\"round\" />\n      {/* Bread/dough */}\n      <ellipse cx={12} cy={-10} rx={5} ry={3} fill=\"#E8D0A0\" stroke={OUTLINE} strokeWidth={0.5} />\n    </g>\n  );\n};\n\n// ---- Sweeper: sweeping ground ----\n\nexport const Sweeper: React.FC<CrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const sweepCycle = sineWave(frame, 0.25, seed);\n  const broomSwing = sweepCycle * 10;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={8} ry={2.5} fill=\"rgba(0,0,0,0.12)\" />\n      {/* Legs */}\n      <line x1={-2} y1={-8} x2={-3} y2={2} stroke={SKIN_DARK} strokeWidth={3} strokeLinecap=\"round\" />\n      <line x1={3} y1={-8} x2={4} y2={2} stroke={SKIN} strokeWidth={3} strokeLinecap=\"round\" />\n      {/* Body */}\n      <line x1={0} y1={-8} x2={1} y2={-22} stroke={SKIN} strokeWidth={4} strokeLinecap=\"round\" />\n      {/* Head */}\n      <circle cx={1} cy={-25} r={3.5} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      <line x1={-2} y1={-26} x2={4} y2={-26} stroke={HEADBAND} strokeWidth={1.5} />\n      {/* Loincloth */}\n      <path d=\"M-3,-10 L3,-10 L4,-6 L-4,-6 Z\" fill={LOINCLOTH_ALT} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Arms holding broom */}\n      <line x1={1} y1={-20} x2={6} y2={-16} stroke={SKIN} strokeWidth={2.5} strokeLinecap=\"round\" />\n      <line x1={1} y1={-16} x2={4} y2={-10} stroke={SKIN_DARK} strokeWidth={2} strokeLinecap=\"round\" />\n      {/* Broom handle */}\n      <line x1={6} y1={-16} x2={10 + broomSwing} y2={2} stroke={WOOD} strokeWidth={2} strokeLinecap=\"round\" />\n      {/* Broom head */}\n      <path d={`M${8 + broomSwing},0 Q${10 + broomSwing},4 ${14 + broomSwing},2\n        Q${12 + broomSwing},4 ${16 + broomSwing},3 L${10 + broomSwing},0 Z`}\n        fill=\"#8B7B5A\" stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Dust */}\n      {Math.abs(sweepCycle) > 0.3 && (\n        <circle cx={14 + broomSwing} cy={0} r={2} fill=\"rgba(180,160,100,0.3)\" />\n      )}\n    </g>\n  );\n};\n\n// ---- Sarcophagus with fan bearers (InsidePyramid special) ----\n\nexport const SarcophagusScene: React.FC<{\n  x: number;\n  y: number;\n  scale?: number;\n}> = ({ x, y, scale = 1 }) => {\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale})`}>\n      <FanBearer x={-40} y={0} scale={0.8} seed={1} />\n      <FanBearer x={40} y={0} scale={0.8} seed={2} flip />\n      <KneelingFigure x={-25} y={5} scale={0.7} seed={3} />\n      <KneelingFigure x={25} y={5} scale={0.7} seed={4} flip />\n    </g>\n  );\n};\n\n// ---- Crowd Layer: renders a configuration of figures ----\n\nexport const CrowdLayer: React.FC<{\n  config: CrowdLayerConfig;\n}> = ({ config }) => {\n  return (\n    <g>\n      {config.figures.map((fig, i) => {\n        const props: CrowdFigureProps = {\n          x: fig.x,\n          y: fig.y,\n          scale: fig.scale ?? 1,\n          seed: fig.seed ?? i * 7,\n          flip: fig.flip ?? false,\n        };\n\n        switch (fig.type) {\n          case 'stonePuller':\n            return <StonePuller key={`crowd-${i}`} {...props} />;\n          case 'stoneCarrier':\n            return <StoneCarrier key={`crowd-${i}`} {...props} />;\n          case 'chiselWorker':\n            return <ChiselWorker key={`crowd-${i}`} {...props} />;\n          case 'waterCarrier':\n            return <WaterCarrier key={`crowd-${i}`} {...props} />;\n          case 'overseer':\n            return <Overseer key={`crowd-${i}`} {...props} />;\n          case 'fanBearer':\n            return <FanBearer key={`crowd-${i}`} {...props} />;\n          case 'seated':\n            return <SeatedFigure key={`crowd-${i}`} {...props} />;\n          case 'kneeling':\n            return <KneelingFigure key={`crowd-${i}`} {...props} />;\n          case 'rowerLeft':\n            return <Rower key={`crowd-${i}`} {...props} direction=\"left\" />;\n          case 'rowerRight':\n            return <Rower key={`crowd-${i}`} {...props} direction=\"right\" />;\n          case 'baker':\n            return <Baker key={`crowd-${i}`} {...props} />;\n          case 'sweeper':\n            return <Sweeper key={`crowd-${i}`} {...props} />;\n          default:\n            return null;\n        }\n      })}\n    </g>\n  );\n};\n\n// ---- Pre-built crowd configs per background ----\n\nexport const CROWD_CONFIGS: Record<string, CrowdLayerConfig> = {\n  pyramids: {\n    figures: [\n      // Workers near the base of the great pyramid\n      { type: 'stonePuller', x: 750, y: 620, scale: 0.9, seed: 1 },\n      { type: 'stonePuller', x: 790, y: 625, scale: 0.85, seed: 2 },\n      { type: 'stonePuller', x: 830, y: 618, scale: 0.9, seed: 3 },\n      { type: 'stoneCarrier', x: 650, y: 640, scale: 0.8, seed: 4 },\n      { type: 'stoneCarrier', x: 1100, y: 635, scale: 0.75, seed: 5, flip: true },\n      { type: 'overseer', x: 900, y: 615, scale: 1, seed: 6 },\n      { type: 'waterCarrier', x: 500, y: 650, scale: 0.75, seed: 7 },\n      { type: 'seated', x: 1200, y: 660, scale: 0.7, seed: 8 },\n      { type: 'chiselWorker', x: 1050, y: 640, scale: 0.8, seed: 9 },\n    ],\n  },\n  desertConstruction: {\n    figures: [\n      // Workers on the ramp pulling stones up\n      { type: 'stonePuller', x: 520, y: 520, scale: 0.7, seed: 10 },\n      { type: 'stonePuller', x: 550, y: 530, scale: 0.65, seed: 11 },\n      { type: 'stonePuller', x: 580, y: 540, scale: 0.7, seed: 12 },\n      // Workers at the base\n      { type: 'stoneCarrier', x: 800, y: 640, scale: 0.85, seed: 13 },\n      { type: 'stoneCarrier', x: 680, y: 650, scale: 0.8, seed: 14, flip: true },\n      { type: 'chiselWorker', x: 1100, y: 636, scale: 0.8, seed: 15 },\n      { type: 'chiselWorker', x: 1180, y: 642, scale: 0.75, seed: 16 },\n      { type: 'waterCarrier', x: 400, y: 660, scale: 0.7, seed: 17 },\n      { type: 'waterCarrier', x: 1350, y: 655, scale: 0.65, seed: 18, flip: true },\n      { type: 'overseer', x: 850, y: 625, scale: 0.9, seed: 19 },\n      { type: 'overseer', x: 1250, y: 650, scale: 0.8, seed: 20, flip: true },\n      { type: 'seated', x: 350, y: 680, scale: 0.65, seed: 21 },\n      { type: 'seated', x: 1400, y: 675, scale: 0.6, seed: 22 },\n      { type: 'sweeper', x: 950, y: 660, scale: 0.7, seed: 23 },\n    ],\n  },\n  insidePyramid: {\n    figures: [\n      // Fan bearers near sarcophagus\n      { type: 'fanBearer', x: 550, y: 730, scale: 0.9, seed: 30 },\n      { type: 'fanBearer', x: 1100, y: 730, scale: 0.9, seed: 31, flip: true },\n      // Kneeling attendants\n      { type: 'kneeling', x: 620, y: 760, scale: 0.8, seed: 32 },\n      { type: 'kneeling', x: 1020, y: 760, scale: 0.8, seed: 33, flip: true },\n      // Standing guards/priests\n      { type: 'overseer', x: 420, y: 720, scale: 0.85, seed: 34 },\n      { type: 'overseer', x: 1200, y: 720, scale: 0.85, seed: 35, flip: true },\n    ],\n  },\n  nileRiver: {\n    figures: [\n      // Rowers on the large boat\n      { type: 'rowerRight', x: -80, y: -24, scale: 0.6, seed: 40 },\n      { type: 'rowerRight', x: -50, y: -24, scale: 0.6, seed: 41 },\n      { type: 'rowerRight', x: -20, y: -24, scale: 0.6, seed: 42 },\n      { type: 'rowerRight', x: 10, y: -24, scale: 0.6, seed: 43 },\n      // People on the banks\n      { type: 'waterCarrier', x: 200, y: 700, scale: 0.7, seed: 44 },\n      { type: 'waterCarrier', x: 1600, y: 690, scale: 0.65, seed: 45, flip: true },\n      { type: 'seated', x: 300, y: 710, scale: 0.6, seed: 46 },\n      { type: 'seated', x: 1500, y: 705, scale: 0.55, seed: 47 },\n      { type: 'stoneCarrier', x: 450, y: 695, scale: 0.65, seed: 48 },\n      { type: 'overseer', x: 1700, y: 700, scale: 0.6, seed: 49, flip: true },\n    ],\n  },\n  workersVillage: {\n    figures: [\n      // Workers around the village\n      { type: 'baker', x: 600, y: 740, scale: 0.8, seed: 50 },\n      { type: 'waterCarrier', x: 750, y: 730, scale: 0.75, seed: 51 },\n      { type: 'sweeper', x: 900, y: 745, scale: 0.7, seed: 52 },\n      { type: 'seated', x: 450, y: 760, scale: 0.7, seed: 53 },\n      { type: 'seated', x: 500, y: 755, scale: 0.65, seed: 54 },\n      { type: 'stoneCarrier', x: 1100, y: 735, scale: 0.7, seed: 55, flip: true },\n      { type: 'chiselWorker', x: 1250, y: 750, scale: 0.7, seed: 56 },\n      { type: 'overseer', x: 850, y: 720, scale: 0.8, seed: 57 },\n      { type: 'kneeling', x: 350, y: 770, scale: 0.6, seed: 58 },\n      { type: 'waterCarrier', x: 1400, y: 740, scale: 0.65, seed: 59, flip: true },\n    ],\n  },\n  sphinxView: {\n    figures: [\n      // Tourists/workers near sphinx base\n      { type: 'seated', x: 350, y: 740, scale: 0.6, seed: 60 },\n      { type: 'kneeling', x: 420, y: 745, scale: 0.55, seed: 61 },\n      { type: 'overseer', x: 500, y: 730, scale: 0.7, seed: 62 },\n      { type: 'chiselWorker', x: 280, y: 750, scale: 0.6, seed: 63 },\n      { type: 'stoneCarrier', x: 600, y: 720, scale: 0.55, seed: 64 },\n      { type: 'waterCarrier', x: 200, y: 760, scale: 0.5, seed: 65 },\n    ],\n  },\n};\n","import React from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { sineWave } from '../animations/easing';\nimport { CrowdLayer, CROWD_CONFIGS } from '../crowds/CrowdWorkers';\n\ninterface PyramidsProps {\n  boardText?: string;\n  width?: number;\n  height?: number;\n}\n\nconst C = {\n  skyTop: '#1E3A8A',\n  skyBottom: '#D4A012',\n  sun: '#FFD700',\n  sunGlow: 'rgba(255,200,50,0.3)',\n  sand: '#D4A868',\n  sandDark: '#C49858',\n  sandLight: '#E4B878',\n  pyramid: '#C4986A',\n  pyramidShade: '#A07848',\n  pyramidLine: '#B08858',\n  stone: '#B8906A',\n  stoneDark: '#A07848',\n  obelisk: '#D4B888',\n  palm: '#2D5016',\n  palmTrunk: '#8B6B4A',\n  outline: '#1A1A1A',\n  hieroglyph: '#8B6B4A',\n  boardBg: '#C4986A',\n  boardFrame: '#8B6B4A',\n  chalk: '#F5E8C8',\n};\n\nexport const Pyramids: React.FC<PyramidsProps> = ({\n  boardText = '',\n  width = 1920,\n  height = 1080,\n}) => {\n  const frame = useCurrentFrame();\n  const heatShimmer = sineWave(frame, 0.15) * 2;\n  const sunPulse = 1 + sineWave(frame, 0.05) * 0.03;\n\n  return (\n    <svg viewBox={`0 0 ${width} ${height}`} width={width} height={height}>\n      <defs>\n        <linearGradient id=\"pyr-sky\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.skyTop} />\n          <stop offset=\"80%\" stopColor={C.skyBottom} />\n          <stop offset=\"100%\" stopColor={C.sand} />\n        </linearGradient>\n        <radialGradient id=\"pyr-sun-glow\" cx=\"50%\" cy=\"30%\" r=\"40%\">\n          <stop offset=\"0%\" stopColor={C.sunGlow} />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </radialGradient>\n      </defs>\n\n      {/* Sky */}\n      <rect x={0} y={0} width={width} height={height * 0.65} fill=\"url(#pyr-sky)\" />\n      <rect x={0} y={0} width={width} height={height} fill=\"url(#pyr-sun-glow)\" />\n\n      {/* Sun */}\n      <g transform={`translate(${width * 0.75}, ${height * 0.18}) scale(${sunPulse})`}>\n        <circle cx={0} cy={0} r={60} fill={C.sunGlow} opacity={0.4} />\n        <circle cx={0} cy={0} r={40} fill={C.sun} />\n        <circle cx={-8} cy={-8} r={12} fill=\"white\" opacity={0.3} />\n      </g>\n\n      {/* Stars (faint, it's dusk) */}\n      {[\n        [200, 80], [400, 40], [600, 100], [1100, 60], [1400, 90], [1700, 50],\n      ].map(([x, y], i) => (\n        <circle key={`star-${i}`} cx={x} cy={y} r={1.5} fill=\"white\" opacity={0.3 + sineWave(frame, 0.2 + i * 0.05) * 0.2} />\n      ))}\n\n      {/* Desert sand */}\n      <rect x={0} y={height * 0.55} width={width} height={height * 0.45} fill={C.sand} />\n      {/* Sand dune shapes */}\n      <path d={`M0,${height * 0.6} Q${width * 0.15},${height * 0.55} ${width * 0.3},${height * 0.58}\n        Q${width * 0.5},${height * 0.54 + heatShimmer} ${width * 0.7},${height * 0.57}\n        Q${width * 0.85},${height * 0.55} ${width},${height * 0.6} L${width},${height} L0,${height} Z`}\n        fill={C.sandDark} opacity={0.4} />\n\n      {/* Great Pyramid (center) */}\n      <g transform={`translate(${width * 0.5}, ${height * 0.55})`}>\n        <path d=\"M0,-280 L-220,0 L220,0 Z\" fill={C.pyramid} stroke={C.outline} strokeWidth={2} />\n        <path d=\"M0,-280 L50,0 L220,0 Z\" fill={C.pyramidShade} opacity={0.4} />\n        {/* Stone block lines */}\n        {[-200, -140, -80, -30].map((y, i) => (\n          <line key={`bl-${i}`} x1={y * -0.7} y1={y} x2={y * 0.7} y2={y} stroke={C.pyramidLine} strokeWidth={1} opacity={0.3} />\n        ))}\n      </g>\n\n      {/* Second pyramid (left, smaller) */}\n      <g transform={`translate(${width * 0.22}, ${height * 0.58})`}>\n        <path d=\"M0,-180 L-150,0 L150,0 Z\" fill={C.pyramid} stroke={C.outline} strokeWidth={2} />\n        <path d=\"M0,-180 L40,0 L150,0 Z\" fill={C.pyramidShade} opacity={0.4} />\n      </g>\n\n      {/* Third pyramid (right, smaller) */}\n      <g transform={`translate(${width * 0.78}, ${height * 0.6})`}>\n        <path d=\"M0,-140 L-120,0 L120,0 Z\" fill={C.pyramid} stroke={C.outline} strokeWidth={2} />\n        <path d=\"M0,-140 L30,0 L120,0 Z\" fill={C.pyramidShade} opacity={0.4} />\n      </g>\n\n      {/* Sphinx silhouette (far left) */}\n      <g transform={`translate(${width * 0.08}, ${height * 0.62})`}>\n        <path d=\"M0,0 L10,-40 L20,-50 Q30,-55 40,-45 L50,-30 L70,-25 L90,-20 L100,0 Z\"\n          fill={C.stone} stroke={C.outline} strokeWidth={1.5} opacity={0.7} />\n      </g>\n\n      {/* Palm trees */}\n      <PalmTree x={width * 0.12} y={height * 0.58} h={120} lean={-5 + heatShimmer * 0.5} />\n      <PalmTree x={width * 0.88} y={height * 0.56} h={140} lean={3 + heatShimmer * 0.3} />\n\n      {/* Animated crowd workers */}\n      <CrowdLayer config={CROWD_CONFIGS.pyramids} />\n\n      {/* Stone tablet (instead of chalkboard) */}\n      <g transform={`translate(${width / 2 - 200}, ${height * 0.68})`}>\n        <rect x={-8} y={-8} width={416} height={176} rx={4} fill={C.boardFrame} stroke={C.outline} strokeWidth={2} />\n        <rect x={0} y={0} width={400} height={160} fill={C.boardBg} />\n        {/* Hieroglyphic decorations */}\n        <text x={30} y={30} fontSize={18} fill={C.hieroglyph} opacity={0.3} fontFamily=\"serif\">   </text>\n        <text x={30} y={140} fontSize={18} fill={C.hieroglyph} opacity={0.3} fontFamily=\"serif\">   </text>\n        {boardText && (\n          <text x={200} y={95} textAnchor=\"middle\" fill={C.chalk}\n            fontSize={36} fontFamily=\"'Courier New', monospace\" fontWeight=\"bold\" opacity={0.9}>\n            {boardText}\n          </text>\n        )}\n      </g>\n\n      {/* Heat shimmer overlay */}\n      <rect x={0} y={height * 0.5} width={width} height={height * 0.1}\n        fill=\"rgba(255,200,100,0.04)\" opacity={0.5 + sineWave(frame, 0.1) * 0.3} />\n    </svg>\n  );\n};\n\nconst PalmTree: React.FC<{ x: number; y: number; h: number; lean: number }> = ({ x, y, h, lean }) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {/* Trunk */}\n    <path d={`M0,0 Q${lean},-${h * 0.5} ${lean * 1.5},-${h}`}\n      fill=\"none\" stroke={C.palmTrunk} strokeWidth={8} strokeLinecap=\"round\" />\n    <path d={`M0,0 Q${lean},-${h * 0.5} ${lean * 1.5},-${h}`}\n      fill=\"none\" stroke={C.outline} strokeWidth={10} strokeLinecap=\"round\" opacity={0.1} />\n    {/* Trunk ridges */}\n    {[0.2, 0.4, 0.6, 0.8].map((r, i) => (\n      <ellipse key={`r-${i}`} cx={lean * r * 1.5} cy={-h * r} rx={5} ry={2}\n        fill=\"none\" stroke={C.outline} strokeWidth={1} opacity={0.2} />\n    ))}\n    {/* Fronds */}\n    <g transform={`translate(${lean * 1.5}, -${h})`}>\n      <path d=\"M0,0 Q-30,-15 -50,5\" fill=\"none\" stroke={C.palm} strokeWidth={3} />\n      <path d=\"M0,0 Q-20,-25 -40,-10\" fill=\"none\" stroke={C.palm} strokeWidth={3} />\n      <path d=\"M0,0 Q30,-15 50,5\" fill=\"none\" stroke={C.palm} strokeWidth={3} />\n      <path d=\"M0,0 Q20,-25 40,-10\" fill=\"none\" stroke={C.palm} strokeWidth={3} />\n      <path d=\"M0,0 Q-10,-30 -15,-5\" fill=\"none\" stroke={C.palm} strokeWidth={3} />\n      <path d=\"M0,0 Q10,-30 15,-5\" fill=\"none\" stroke={C.palm} strokeWidth={3} />\n    </g>\n  </g>\n);\n\nexport default Pyramids;\n","import React from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { sineWave } from '../animations/easing';\nimport { CrowdLayer, CROWD_CONFIGS } from '../crowds/CrowdWorkers';\n\ninterface DesertConstructionProps {\n  boardText?: string;\n  width?: number;\n  height?: number;\n}\n\nconst C = {\n  skyTop: '#1E3A8A',\n  skyBottom: '#D4A012',\n  sun: '#FFD700',\n  sunGlow: 'rgba(255,200,50,0.3)',\n  sand: '#D4A868',\n  sandDark: '#C49858',\n  sandLight: '#E4B878',\n  pyramid: '#C4986A',\n  pyramidShade: '#A07848',\n  pyramidLine: '#B08858',\n  stone: '#B8906A',\n  stoneDark: '#A07848',\n  wood: '#8B5E3C',\n  woodLight: '#A0703C',\n  woodDark: '#6B4226',\n  rope: '#9B8968',\n  tent: '#C8A878',\n  tentDark: '#A08858',\n  palm: '#2D5016',\n  palmTrunk: '#8B6B4A',\n  outline: '#1A1A1A',\n  hieroglyph: '#8B6B4A',\n  boardBg: '#C4986A',\n  boardFrame: '#8B6B4A',\n  chalk: '#F5E8C8',\n};\n\nexport const DesertConstruction: React.FC<DesertConstructionProps> = ({\n  boardText = '',\n  width = 1920,\n  height = 1080,\n}) => {\n  const frame = useCurrentFrame();\n  const heatShimmer = sineWave(frame, 0.15) * 2;\n  const sunPulse = 1 + sineWave(frame, 0.05) * 0.03;\n  const ropeSway1 = sineWave(frame, 0.12) * 3;\n  const ropeSway2 = sineWave(frame, 0.1, 1) * 2;\n\n  // Pyramid geometry (center, half-built)\n  const pyrX = width * 0.5;\n  const pyrBaseY = height * 0.58;\n  const pyrHalfW = 240;\n  const pyrFullH = 320;\n  const pyrBuiltH = pyrFullH * 0.55; // bottom 55% is built\n  const pyrBuiltTopY = pyrBaseY - pyrBuiltH;\n  // Width at built height\n  const builtTopHalfW = pyrHalfW * (1 - pyrBuiltH / pyrFullH);\n\n  // Ramp geometry (goes up left side of pyramid)\n  const rampBaseX = pyrX - pyrHalfW - 80;\n  const rampBaseY = pyrBaseY;\n  const rampTopX = pyrX - builtTopHalfW - 10;\n  const rampTopY = pyrBuiltTopY + 10;\n\n  return (\n    <svg viewBox={`0 0 ${width} ${height}`} width={width} height={height}>\n      <defs>\n        <linearGradient id=\"dc-sky\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.skyTop} />\n          <stop offset=\"80%\" stopColor={C.skyBottom} />\n          <stop offset=\"100%\" stopColor={C.sand} />\n        </linearGradient>\n        <radialGradient id=\"dc-sun-glow\" cx=\"50%\" cy=\"30%\" r=\"40%\">\n          <stop offset=\"0%\" stopColor={C.sunGlow} />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </radialGradient>\n      </defs>\n\n      {/* Sky */}\n      <rect x={0} y={0} width={width} height={height * 0.65} fill=\"url(#dc-sky)\" />\n      <rect x={0} y={0} width={width} height={height} fill=\"url(#dc-sun-glow)\" />\n\n      {/* Sun */}\n      <g transform={`translate(${width * 0.78}, ${height * 0.16}) scale(${sunPulse})`}>\n        <circle cx={0} cy={0} r={60} fill={C.sunGlow} opacity={0.4} />\n        <circle cx={0} cy={0} r={40} fill={C.sun} />\n        <circle cx={-8} cy={-8} r={12} fill=\"white\" opacity={0.3} />\n      </g>\n\n      {/* Stars (faint, it's dusk) */}\n      {[\n        [180, 70], [380, 35], [620, 95], [1050, 55], [1380, 85], [1680, 45],\n      ].map(([x, y], i) => (\n        <circle key={`star-${i}`} cx={x} cy={y} r={1.5} fill=\"white\" opacity={0.3 + sineWave(frame, 0.2 + i * 0.05) * 0.2} />\n      ))}\n\n      {/* Desert sand */}\n      <rect x={0} y={height * 0.55} width={width} height={height * 0.45} fill={C.sand} />\n      {/* Sand dune shapes */}\n      <path d={`M0,${height * 0.6} Q${width * 0.15},${height * 0.55} ${width * 0.3},${height * 0.58}\n        Q${width * 0.5},${height * 0.54 + heatShimmer} ${width * 0.7},${height * 0.57}\n        Q${width * 0.85},${height * 0.55} ${width},${height * 0.6} L${width},${height} L0,${height} Z`}\n        fill={C.sandDark} opacity={0.4} />\n\n      {/* Distant small pyramid (right, completed) */}\n      <g transform={`translate(${width * 0.82}, ${height * 0.6})`}>\n        <path d=\"M0,-120 L-100,0 L100,0 Z\" fill={C.pyramid} stroke={C.outline} strokeWidth={2} />\n        <path d=\"M0,-120 L25,0 L100,0 Z\" fill={C.pyramidShade} opacity={0.4} />\n      </g>\n\n      {/* Half-built pyramid (center) */}\n      <g>\n        {/* Completed bottom section - solid stone blocks */}\n        <path d={`M${pyrX - pyrHalfW},${pyrBaseY} L${pyrX - builtTopHalfW},${pyrBuiltTopY}\n          L${pyrX + builtTopHalfW},${pyrBuiltTopY} L${pyrX + pyrHalfW},${pyrBaseY} Z`}\n          fill={C.pyramid} stroke={C.outline} strokeWidth={2} />\n        {/* Shade on right face */}\n        <path d={`M${pyrX + 20},${pyrBaseY} L${pyrX + builtTopHalfW * 0.3},${pyrBuiltTopY}\n          L${pyrX + builtTopHalfW},${pyrBuiltTopY} L${pyrX + pyrHalfW},${pyrBaseY} Z`}\n          fill={C.pyramidShade} opacity={0.4} />\n\n        {/* Stone block lines (horizontal courses) */}\n        {[0.15, 0.3, 0.45, 0.6, 0.75, 0.9].map((frac, i) => {\n          const ly = pyrBaseY - pyrBuiltH * frac;\n          const ratio = 1 - (pyrBuiltH * frac) / pyrFullH;\n          const lhw = pyrHalfW * ratio;\n          return (\n            <line key={`block-${i}`} x1={pyrX - lhw} y1={ly} x2={pyrX + lhw} y2={ly}\n              stroke={C.pyramidLine} strokeWidth={1} opacity={0.4} />\n          );\n        })}\n        {/* Vertical block joints on bottom rows */}\n        {[0, 0.15, 0.3, 0.45, 0.6, 0.75].map((frac, ri) => {\n          const rowY = pyrBaseY - pyrBuiltH * frac;\n          const nextY = pyrBaseY - pyrBuiltH * Math.min(frac + 0.15, 0.9);\n          const ratio = 1 - (pyrBuiltH * frac) / pyrFullH;\n          const lhw = pyrHalfW * ratio;\n          const blockCount = Math.max(3, Math.round(8 * ratio));\n          return Array.from({ length: blockCount }, (_, bi) => {\n            const t = (bi + 0.5 + (ri % 2) * 0.5) / (blockCount + 1);\n            const bx = pyrX - lhw + 2 * lhw * t;\n            return (\n              <line key={`vj-${ri}-${bi}`} x1={bx} y1={rowY} x2={bx} y2={nextY}\n                stroke={C.pyramidLine} strokeWidth={0.6} opacity={0.2} />\n            );\n          });\n        })}\n\n        {/* Scaffolding / wooden framework on top (unfinished section) */}\n        {/* Ghost outline of the full pyramid */}\n        <path d={`M${pyrX - builtTopHalfW},${pyrBuiltTopY} L${pyrX},${pyrBaseY - pyrFullH}\n          L${pyrX + builtTopHalfW},${pyrBuiltTopY}`}\n          fill=\"none\" stroke={C.wood} strokeWidth={1.5} strokeDasharray=\"8,6\" opacity={0.5} />\n\n        {/* Wooden scaffolding poles */}\n        {[0.2, 0.4, 0.6, 0.8].map((frac, i) => {\n          const scaffY = pyrBuiltTopY - (pyrFullH - pyrBuiltH) * frac * 0.7;\n          const scaffRatio = 1 - (pyrBuiltH + (pyrFullH - pyrBuiltH) * frac * 0.7) / pyrFullH;\n          const scaffHW = pyrHalfW * scaffRatio + 15;\n          return (\n            <g key={`scaff-${i}`}>\n              {/* Horizontal beam */}\n              <line x1={pyrX - scaffHW} y1={scaffY} x2={pyrX + scaffHW} y2={scaffY}\n                stroke={C.wood} strokeWidth={3} strokeLinecap=\"round\" />\n              <line x1={pyrX - scaffHW} y1={scaffY} x2={pyrX + scaffHW} y2={scaffY}\n                stroke={C.outline} strokeWidth={3} strokeLinecap=\"round\" opacity={0.1} />\n              {/* Vertical supports */}\n              {[-0.6, 0, 0.6].map((sx, si) => (\n                <line key={`sv-${i}-${si}`}\n                  x1={pyrX + scaffHW * sx} y1={scaffY}\n                  x2={pyrX + scaffHW * sx} y2={i === 0 ? pyrBuiltTopY : scaffY + 30}\n                  stroke={C.wood} strokeWidth={2.5} strokeLinecap=\"round\" />\n              ))}\n              {/* Cross braces */}\n              {i > 0 && (\n                <>\n                  <line x1={pyrX - scaffHW * 0.6} y1={scaffY}\n                    x2={pyrX} y2={scaffY + 28}\n                    stroke={C.woodLight} strokeWidth={1.5} opacity={0.6} />\n                  <line x1={pyrX + scaffHW * 0.6} y1={scaffY}\n                    x2={pyrX} y2={scaffY + 28}\n                    stroke={C.woodLight} strokeWidth={1.5} opacity={0.6} />\n                </>\n              )}\n            </g>\n          );\n        })}\n      </g>\n\n      {/* Construction ramp going up the left side */}\n      <g>\n        {/* Ramp surface */}\n        <path d={`M${rampBaseX},${rampBaseY}\n          L${rampTopX},${rampTopY}\n          L${rampTopX + 30},${rampTopY}\n          L${rampBaseX + 50},${rampBaseY} Z`}\n          fill={C.woodLight} stroke={C.outline} strokeWidth={2} />\n        {/* Ramp side */}\n        <path d={`M${rampBaseX},${rampBaseY}\n          L${rampBaseX},${rampBaseY + 18}\n          L${rampBaseX + 50},${rampBaseY + 18}\n          L${rampBaseX + 50},${rampBaseY} Z`}\n          fill={C.woodDark} stroke={C.outline} strokeWidth={1.5} />\n        {/* Ramp cross-beams */}\n        {[0.2, 0.4, 0.6, 0.8].map((t, i) => {\n          const bx1 = rampBaseX + (rampTopX - rampBaseX) * t;\n          const by1 = rampBaseY + (rampTopY - rampBaseY) * t;\n          const bx2 = rampBaseX + 50 + (rampTopX + 30 - rampBaseX - 50) * t;\n          const by2 = rampBaseY + (rampTopY - rampBaseY) * t;\n          return (\n            <line key={`rbeam-${i}`} x1={bx1} y1={by1} x2={bx2} y2={by2}\n              stroke={C.wood} strokeWidth={2} />\n          );\n        })}\n        {/* Ramp support posts */}\n        {[0.25, 0.55, 0.8].map((t, i) => {\n          const px = rampBaseX + 25 + (rampTopX + 15 - rampBaseX - 25) * t;\n          const ptop = rampBaseY + (rampTopY - rampBaseY) * t;\n          return (\n            <line key={`rpost-${i}`} x1={px} y1={ptop} x2={px} y2={rampBaseY + 18}\n              stroke={C.wood} strokeWidth={3} strokeLinecap=\"round\" />\n          );\n        })}\n\n        {/* Stone block being pulled up the ramp */}\n        {(() => {\n          const blockT = 0.45;\n          const bx = rampBaseX + 15 + (rampTopX - rampBaseX) * blockT;\n          const by = rampBaseY + (rampTopY - rampBaseY) * blockT - 14;\n          return (\n            <rect x={bx} y={by} width={28} height={18} rx={2}\n              fill={C.stone} stroke={C.outline} strokeWidth={1.5}\n              transform={`rotate(${Math.atan2(rampTopY - rampBaseY, rampTopX - rampBaseX) * 180 / Math.PI}, ${bx + 14}, ${by + 9})`} />\n          );\n        })()}\n      </g>\n\n      {/* Rope systems */}\n      <g>\n        {/* Rope from ramp top down to sled area */}\n        <path d={`M${rampTopX + 15},${rampTopY}\n          Q${rampTopX - 40},${rampTopY + 60 + ropeSway1} ${pyrX - 180},${pyrBaseY - 5}`}\n          fill=\"none\" stroke={C.rope} strokeWidth={2} strokeLinecap=\"round\" />\n        {/* Second rope line */}\n        <path d={`M${rampTopX + 15},${rampTopY + 5}\n          Q${rampTopX - 60},${rampTopY + 80 + ropeSway2} ${pyrX - 200},${pyrBaseY}`}\n          fill=\"none\" stroke={C.rope} strokeWidth={1.5} strokeLinecap=\"round\" opacity={0.7} />\n      </g>\n\n      {/* Wooden sleds at the base with stone blocks */}\n      {/* Sled 1 (left of pyramid) */}\n      <g transform={`translate(${pyrX - 190}, ${pyrBaseY - 4})`}>\n        {/* Sled runners */}\n        <path d=\"M-5,12 Q0,18 10,18 L65,18 Q72,18 70,12\" fill=\"none\" stroke={C.wood} strokeWidth={3} strokeLinecap=\"round\" />\n        <path d=\"M-5,14 Q0,20 10,20 L65,20 Q72,20 70,14\" fill=\"none\" stroke={C.woodDark} strokeWidth={2} strokeLinecap=\"round\" />\n        {/* Sled platform */}\n        <rect x={0} y={4} width={65} height={8} rx={1} fill={C.wood} stroke={C.outline} strokeWidth={1} />\n        {/* Stone blocks on sled */}\n        <rect x={5} y={-14} width={24} height={18} rx={2} fill={C.stone} stroke={C.outline} strokeWidth={1.5} />\n        <rect x={32} y={-10} width={20} height={14} rx={2} fill={C.stoneDark} stroke={C.outline} strokeWidth={1.5} />\n        {/* Rope attachment */}\n        <line x1={-5} y1={8} x2={-20} y2={2 + ropeSway1 * 0.5} stroke={C.rope} strokeWidth={2} />\n      </g>\n\n      {/* Sled 2 (further left) */}\n      <g transform={`translate(${pyrX - 320}, ${pyrBaseY + 8})`}>\n        <path d=\"M-5,12 Q0,18 10,18 L55,18 Q62,18 60,12\" fill=\"none\" stroke={C.wood} strokeWidth={3} strokeLinecap=\"round\" />\n        <rect x={0} y={4} width={55} height={8} rx={1} fill={C.wood} stroke={C.outline} strokeWidth={1} />\n        <rect x={8} y={-12} width={20} height={16} rx={2} fill={C.stone} stroke={C.outline} strokeWidth={1.5} />\n        <rect x={30} y={-8} width={18} height={12} rx={2} fill={C.stoneDark} stroke={C.outline} strokeWidth={1.5} />\n      </g>\n\n      {/* Scattered stone blocks around the construction site */}\n      {[\n        { x: pyrX + 200, y: pyrBaseY + 6, w: 30, h: 20 },\n        { x: pyrX + 250, y: pyrBaseY + 12, w: 24, h: 16 },\n        { x: pyrX + 160, y: pyrBaseY + 18, w: 20, h: 14 },\n        { x: pyrX - 100, y: pyrBaseY + 22, w: 26, h: 18 },\n        { x: pyrX + 80, y: pyrBaseY + 10, w: 22, h: 15 },\n        { x: pyrX - 50, y: pyrBaseY + 30, w: 18, h: 12 },\n        { x: pyrX + 300, y: pyrBaseY + 20, w: 28, h: 18 },\n      ].map((b, i) => (\n        <rect key={`sblock-${i}`} x={b.x} y={b.y} width={b.w} height={b.h} rx={2}\n          fill={i % 2 === 0 ? C.stone : C.stoneDark} stroke={C.outline} strokeWidth={1.5} />\n      ))}\n\n      {/* Worker tents/shelters */}\n      {/* Tent 1 (right side) */}\n      <g transform={`translate(${width * 0.7}, ${height * 0.64})`}>\n        <path d=\"M0,0 L25,-35 L50,0 Z\" fill={C.tent} stroke={C.outline} strokeWidth={1.5} />\n        <path d=\"M25,-35 L50,0 L40,0 Z\" fill={C.tentDark} opacity={0.4} />\n        {/* Tent pole */}\n        <line x1={25} y1={-35} x2={25} y2={-42} stroke={C.wood} strokeWidth={2} strokeLinecap=\"round\" />\n        {/* Tent opening */}\n        <path d=\"M18,0 L25,-15 L32,0\" fill=\"none\" stroke={C.outline} strokeWidth={1} opacity={0.4} />\n      </g>\n\n      {/* Tent 2 (right side, smaller) */}\n      <g transform={`translate(${width * 0.74}, ${height * 0.66})`}>\n        <path d=\"M0,0 L18,-25 L36,0 Z\" fill={C.tentDark} stroke={C.outline} strokeWidth={1.5} />\n        <path d=\"M18,-25 L36,0 L28,0 Z\" fill={C.pyramidShade} opacity={0.3} />\n        <line x1={18} y1={-25} x2={18} y2={-30} stroke={C.wood} strokeWidth={2} strokeLinecap=\"round\" />\n      </g>\n\n      {/* Tent 3 (far left) */}\n      <g transform={`translate(${width * 0.15}, ${height * 0.66})`}>\n        <path d=\"M0,0 L20,-28 L40,0 Z\" fill={C.tent} stroke={C.outline} strokeWidth={1.5} />\n        <path d=\"M20,-28 L40,0 L32,0 Z\" fill={C.tentDark} opacity={0.4} />\n        <line x1={20} y1={-28} x2={20} y2={-34} stroke={C.wood} strokeWidth={2} strokeLinecap=\"round\" />\n      </g>\n\n      {/* Palm trees */}\n      <PalmTree x={width * 0.06} y={height * 0.6} h={130} lean={-4 + heatShimmer * 0.5} />\n      <PalmTree x={width * 0.93} y={height * 0.58} h={140} lean={3 + heatShimmer * 0.3} />\n      <PalmTree x={width * 0.1} y={height * 0.63} h={100} lean={-6 + heatShimmer * 0.4} />\n\n      {/* Animated crowd workers */}\n      <CrowdLayer config={CROWD_CONFIGS.desertConstruction} />\n\n      {/* Stone tablet board for text */}\n      <g transform={`translate(${width / 2 - 200}, ${height * 0.72})`}>\n        <rect x={-8} y={-8} width={416} height={176} rx={4} fill={C.boardFrame} stroke={C.outline} strokeWidth={2} />\n        <rect x={0} y={0} width={400} height={160} fill={C.boardBg} />\n        {/* Hieroglyphic decorations */}\n        <text x={30} y={30} fontSize={18} fill={C.hieroglyph} opacity={0.3} fontFamily=\"serif\">   </text>\n        <text x={30} y={140} fontSize={18} fill={C.hieroglyph} opacity={0.3} fontFamily=\"serif\">   </text>\n        {boardText && (\n          <text x={200} y={95} textAnchor=\"middle\" fill={C.chalk}\n            fontSize={36} fontFamily=\"'Courier New', monospace\" fontWeight=\"bold\" opacity={0.9}>\n            {boardText}\n          </text>\n        )}\n      </g>\n\n      {/* Heat shimmer overlay */}\n      <rect x={0} y={height * 0.5} width={width} height={height * 0.1}\n        fill=\"rgba(255,200,100,0.04)\" opacity={0.5 + sineWave(frame, 0.1) * 0.3} />\n    </svg>\n  );\n};\n\nconst PalmTree: React.FC<{ x: number; y: number; h: number; lean: number }> = ({ x, y, h, lean }) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {/* Trunk */}\n    <path d={`M0,0 Q${lean},-${h * 0.5} ${lean * 1.5},-${h}`}\n      fill=\"none\" stroke={C.palmTrunk} strokeWidth={8} strokeLinecap=\"round\" />\n    <path d={`M0,0 Q${lean},-${h * 0.5} ${lean * 1.5},-${h}`}\n      fill=\"none\" stroke={C.outline} strokeWidth={10} strokeLinecap=\"round\" opacity={0.1} />\n    {/* Trunk ridges */}\n    {[0.2, 0.4, 0.6, 0.8].map((r, i) => (\n      <ellipse key={`r-${i}`} cx={lean * r * 1.5} cy={-h * r} rx={5} ry={2}\n        fill=\"none\" stroke={C.outline} strokeWidth={1} opacity={0.2} />\n    ))}\n    {/* Fronds */}\n    <g transform={`translate(${lean * 1.5}, -${h})`}>\n      <path d=\"M0,0 Q-30,-15 -50,5\" fill=\"none\" stroke={C.palm} strokeWidth={3} />\n      <path d=\"M0,0 Q-20,-25 -40,-10\" fill=\"none\" stroke={C.palm} strokeWidth={3} />\n      <path d=\"M0,0 Q30,-15 50,5\" fill=\"none\" stroke={C.palm} strokeWidth={3} />\n      <path d=\"M0,0 Q20,-25 40,-10\" fill=\"none\" stroke={C.palm} strokeWidth={3} />\n      <path d=\"M0,0 Q-10,-30 -15,-5\" fill=\"none\" stroke={C.palm} strokeWidth={3} />\n      <path d=\"M0,0 Q10,-30 15,-5\" fill=\"none\" stroke={C.palm} strokeWidth={3} />\n    </g>\n  </g>\n);\n\nexport default DesertConstruction;\n","import React from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { sineWave } from '../animations/easing';\nimport { CrowdLayer, CROWD_CONFIGS } from '../crowds/CrowdWorkers';\n\ninterface InsidePyramidProps {\n  boardText?: string;\n  width?: number;\n  height?: number;\n}\n\nconst C = {\n  ceilingDark: '#1A0E04',\n  wallDark: '#2A1A0A',\n  wall: '#3A2818',\n  wallLight: '#4A3828',\n  wallBlock: '#352414',\n  floor: '#4A3828',\n  floorSlab: '#3E2C18',\n  floorLine: '#2A1A0A',\n  hieroglyph: '#8B7B5A',\n  torchWood: '#5C3218',\n  torchBracket: '#6A6A6A',\n  flameOuter: '#FF8C00',\n  flameInner: '#FFD700',\n  flameCore: '#FFFACD',\n  glowOrange: 'rgba(255,160,50,0.15)',\n  glowWarm: 'rgba(255,120,30,0.08)',\n  sarcophagus: '#5A4A32',\n  sarcophagusLight: '#6B5A42',\n  sarcophagusDark: '#3A2A18',\n  sarcophagusDetail: '#8B7B5A',\n  doorway: '#0A0604',\n  doorwayFrame: '#3A2818',\n  shadow: 'rgba(0,0,0,0.6)',\n  boardBg: '#4A3828',\n  boardFrame: '#5A4832',\n  chalk: '#E8D8B8',\n  outline: '#1A1A1A',\n};\n\nexport const InsidePyramid: React.FC<InsidePyramidProps> = ({\n  boardText = '',\n  width = 1920,\n  height = 1080,\n}) => {\n  const frame = useCurrentFrame();\n\n  // Torch flame animations\n  const flame1 = sineWave(frame, 0.35);\n  const flame2 = sineWave(frame, 0.45, 1.5);\n  const flame3 = sineWave(frame, 0.55, 3.0);\n  const flame4 = sineWave(frame, 0.4, 0.7);\n  const glowPulse = 0.85 + sineWave(frame, 0.2) * 0.15;\n  const glowPulse2 = 0.85 + sineWave(frame, 0.22, 1.0) * 0.15;\n\n  const torchLX = width * 0.15;\n  const torchRX = width * 0.85;\n  const torchY = height * 0.35;\n\n  return (\n    <svg viewBox={`0 0 ${width} ${height}`} width={width} height={height}>\n      <defs>\n        {/* Torch glow gradients */}\n        <radialGradient id=\"ip-glow-left\" cx={torchLX / width} cy={torchY / height} r=\"0.35\">\n          <stop offset=\"0%\" stopColor=\"rgba(255,160,50,0.18)\" />\n          <stop offset=\"40%\" stopColor=\"rgba(255,120,30,0.08)\" />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </radialGradient>\n        <radialGradient id=\"ip-glow-right\" cx={torchRX / width} cy={torchY / height} r=\"0.35\">\n          <stop offset=\"0%\" stopColor=\"rgba(255,160,50,0.18)\" />\n          <stop offset=\"40%\" stopColor=\"rgba(255,120,30,0.08)\" />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </radialGradient>\n        <radialGradient id=\"ip-ambient\" cx=\"0.5\" cy=\"0.4\" r=\"0.6\">\n          <stop offset=\"0%\" stopColor=\"rgba(255,140,40,0.06)\" />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </radialGradient>\n        {/* Vignette for dark corners */}\n        <radialGradient id=\"ip-vignette\" cx=\"0.5\" cy=\"0.5\" r=\"0.7\">\n          <stop offset=\"0%\" stopColor=\"rgba(0,0,0,0)\" />\n          <stop offset=\"70%\" stopColor=\"rgba(0,0,0,0.3)\" />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0.7)\" />\n        </radialGradient>\n        {/* Floor gradient */}\n        <linearGradient id=\"ip-floor-grad\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.floor} />\n          <stop offset=\"100%\" stopColor={C.wallDark} />\n        </linearGradient>\n      </defs>\n\n      {/* === BASE FILL (very dark) === */}\n      <rect x={0} y={0} width={width} height={height} fill={C.ceilingDark} />\n\n      {/* === ANGLED CEILING (pyramid architecture) === */}\n      <path\n        d={`M0,0 L${width * 0.35},${height * 0.12} L${width * 0.65},${height * 0.12} L${width},0 Z`}\n        fill={C.wallDark}\n        stroke={C.outline}\n        strokeWidth={2}\n      />\n      {/* Ceiling stone lines */}\n      {[0.03, 0.06, 0.09].map((yf, i) => (\n        <line\n          key={`ceil-${i}`}\n          x1={width * (0.05 + i * 0.1)}\n          y1={height * yf}\n          x2={width * (0.95 - i * 0.1)}\n          y2={height * yf}\n          stroke={C.wallBlock}\n          strokeWidth={1}\n          opacity={0.4}\n        />\n      ))}\n\n      {/* === LEFT WALL === */}\n      <path\n        d={`M0,0 L${width * 0.35},${height * 0.12} L${width * 0.2},${height * 0.85} L0,${height} Z`}\n        fill={C.wall}\n        stroke={C.outline}\n        strokeWidth={2}\n      />\n\n      {/* === RIGHT WALL === */}\n      <path\n        d={`M${width},0 L${width * 0.65},${height * 0.12} L${width * 0.8},${height * 0.85} L${width},${height} Z`}\n        fill={C.wall}\n        stroke={C.outline}\n        strokeWidth={2}\n      />\n\n      {/* === BACK WALL === */}\n      <rect\n        x={width * 0.2}\n        y={height * 0.12}\n        width={width * 0.6}\n        height={height * 0.73}\n        fill={C.wallLight}\n        stroke={C.outline}\n        strokeWidth={2}\n      />\n\n      {/* === STONE BLOCK TEXTURES (back wall) === */}\n      {/* Horizontal block lines */}\n      {[0.2, 0.28, 0.36, 0.44, 0.52, 0.6, 0.68, 0.76].map((yf, i) => (\n        <line\n          key={`hbl-${i}`}\n          x1={width * 0.2}\n          y1={height * yf}\n          x2={width * 0.8}\n          y2={height * yf}\n          stroke={C.wallBlock}\n          strokeWidth={1.2}\n          opacity={0.35}\n        />\n      ))}\n      {/* Vertical block lines (staggered) */}\n      {[0.28, 0.36, 0.44, 0.52, 0.6, 0.68, 0.76, 0.84].map((yf, row) => {\n        const offset = row % 2 === 0 ? 0 : 0.05;\n        return [0.28, 0.36, 0.44, 0.52, 0.6, 0.68, 0.72].map((xf, col) => (\n          <line\n            key={`vbl-${row}-${col}`}\n            x1={width * (xf + offset)}\n            y1={height * (yf - 0.08)}\n            x2={width * (xf + offset)}\n            y2={height * yf}\n            stroke={C.wallBlock}\n            strokeWidth={0.8}\n            opacity={0.25}\n          />\n        ));\n      })}\n\n      {/* === STONE BLOCK TEXTURES (left wall) === */}\n      {[0.25, 0.38, 0.5, 0.63, 0.75].map((yf, i) => (\n        <line\n          key={`lbl-${i}`}\n          x1={width * (0.02 + i * 0.02)}\n          y1={height * yf}\n          x2={width * (0.22 + i * -0.002)}\n          y2={height * yf}\n          stroke={C.wallBlock}\n          strokeWidth={1}\n          opacity={0.3}\n        />\n      ))}\n\n      {/* === STONE BLOCK TEXTURES (right wall) === */}\n      {[0.25, 0.38, 0.5, 0.63, 0.75].map((yf, i) => (\n        <line\n          key={`rbl-${i}`}\n          x1={width * (0.78 - i * -0.002)}\n          y1={height * yf}\n          x2={width * (0.98 - i * 0.02)}\n          y2={height * yf}\n          stroke={C.wallBlock}\n          strokeWidth={1}\n          opacity={0.3}\n        />\n      ))}\n\n      {/* === FLOOR (stone slabs) === */}\n      <path\n        d={`M0,${height} L${width * 0.2},${height * 0.85} L${width * 0.8},${height * 0.85} L${width},${height} Z`}\n        fill=\"url(#ip-floor-grad)\"\n        stroke={C.outline}\n        strokeWidth={2}\n      />\n      {/* Floor slab lines (perspective) */}\n      {[0.3, 0.4, 0.5, 0.6, 0.7].map((xf, i) => (\n        <line\n          key={`fsl-${i}`}\n          x1={width * xf}\n          y1={height * 0.85}\n          x2={width * (xf < 0.5 ? xf - 0.15 : xf + 0.15)}\n          y2={height}\n          stroke={C.floorLine}\n          strokeWidth={1.5}\n          opacity={0.3}\n        />\n      ))}\n      {/* Horizontal floor lines */}\n      {[0.88, 0.92, 0.96].map((yf, i) => (\n        <line\n          key={`fhl-${i}`}\n          x1={width * (0.08 - i * 0.03)}\n          y1={height * yf}\n          x2={width * (0.92 + i * 0.03)}\n          y2={height * yf}\n          stroke={C.floorLine}\n          strokeWidth={1}\n          opacity={0.25}\n        />\n      ))}\n\n      {/* === NARROW DOORWAY/CORRIDOR (back wall) === */}\n      <rect\n        x={width * 0.46}\n        y={height * 0.3}\n        width={width * 0.08}\n        height={height * 0.42}\n        fill={C.doorway}\n        stroke={C.doorwayFrame}\n        strokeWidth={3}\n      />\n      {/* Doorway top (slight arch) */}\n      <path\n        d={`M${width * 0.46},${height * 0.32} Q${width * 0.5},${height * 0.27} ${width * 0.54},${height * 0.32}`}\n        fill={C.doorway}\n        stroke={C.doorwayFrame}\n        strokeWidth={3}\n      />\n      {/* Faint light from corridor */}\n      <rect\n        x={width * 0.465}\n        y={height * 0.33}\n        width={width * 0.07}\n        height={height * 0.38}\n        fill=\"rgba(60,40,20,0.3)\"\n      />\n\n      {/* === HIEROGLYPHICS (back wall - left side) === */}\n      <text\n        x={width * 0.24}\n        y={height * 0.25}\n        fontSize={22}\n        fill={C.hieroglyph}\n        opacity={0.25}\n        fontFamily=\"serif\"\n      >\n          \n      </text>\n      <text\n        x={width * 0.25}\n        y={height * 0.35}\n        fontSize={20}\n        fill={C.hieroglyph}\n        opacity={0.2}\n        fontFamily=\"serif\"\n      >\n          \n      </text>\n      <text\n        x={width * 0.23}\n        y={height * 0.45}\n        fontSize={24}\n        fill={C.hieroglyph}\n        opacity={0.22}\n        fontFamily=\"serif\"\n      >\n          \n      </text>\n      <text\n        x={width * 0.26}\n        y={height * 0.55}\n        fontSize={18}\n        fill={C.hieroglyph}\n        opacity={0.18}\n        fontFamily=\"serif\"\n      >\n           \n      </text>\n\n      {/* === HIEROGLYPHICS (back wall - right side) === */}\n      <text\n        x={width * 0.66}\n        y={height * 0.25}\n        fontSize={22}\n        fill={C.hieroglyph}\n        opacity={0.25}\n        fontFamily=\"serif\"\n      >\n          \n      </text>\n      <text\n        x={width * 0.67}\n        y={height * 0.35}\n        fontSize={20}\n        fill={C.hieroglyph}\n        opacity={0.2}\n        fontFamily=\"serif\"\n      >\n          \n      </text>\n      <text\n        x={width * 0.65}\n        y={height * 0.45}\n        fontSize={24}\n        fill={C.hieroglyph}\n        opacity={0.22}\n        fontFamily=\"serif\"\n      >\n          \n      </text>\n      <text\n        x={width * 0.68}\n        y={height * 0.55}\n        fontSize={18}\n        fill={C.hieroglyph}\n        opacity={0.18}\n        fontFamily=\"serif\"\n      >\n           \n      </text>\n\n      {/* === HIEROGLYPHICS (left wall) === */}\n      <text\n        x={width * 0.06}\n        y={height * 0.4}\n        fontSize={18}\n        fill={C.hieroglyph}\n        opacity={0.15}\n        fontFamily=\"serif\"\n      >\n         \n      </text>\n      <text\n        x={width * 0.07}\n        y={height * 0.55}\n        fontSize={16}\n        fill={C.hieroglyph}\n        opacity={0.12}\n        fontFamily=\"serif\"\n      >\n         \n      </text>\n\n      {/* === HIEROGLYPHICS (right wall) === */}\n      <text\n        x={width * 0.88}\n        y={height * 0.4}\n        fontSize={18}\n        fill={C.hieroglyph}\n        opacity={0.15}\n        fontFamily=\"serif\"\n      >\n         \n      </text>\n      <text\n        x={width * 0.87}\n        y={height * 0.55}\n        fontSize={16}\n        fill={C.hieroglyph}\n        opacity={0.12}\n        fontFamily=\"serif\"\n      >\n         \n      </text>\n\n      {/* === SARCOPHAGUS (center-back) === */}\n      <g transform={`translate(${width * 0.38}, ${height * 0.65})`}>\n        {/* Shadow beneath */}\n        <ellipse\n          cx={width * 0.12}\n          cy={height * 0.2 + 5}\n          rx={width * 0.14}\n          ry={12}\n          fill=\"rgba(0,0,0,0.4)\"\n        />\n        {/* Main body */}\n        <rect\n          x={0}\n          y={0}\n          width={width * 0.24}\n          height={height * 0.18}\n          rx={4}\n          fill={C.sarcophagus}\n          stroke={C.outline}\n          strokeWidth={2}\n        />\n        {/* Top face (3D perspective) */}\n        <path\n          d={`M0,0 L${width * 0.02},-${height * 0.03} L${width * 0.26},-${height * 0.03} L${width * 0.24},0 Z`}\n          fill={C.sarcophagusLight}\n          stroke={C.outline}\n          strokeWidth={1.5}\n        />\n        {/* Right face */}\n        <path\n          d={`M${width * 0.24},0 L${width * 0.26},-${height * 0.03} L${width * 0.26},${height * 0.15} L${width * 0.24},${height * 0.18} Z`}\n          fill={C.sarcophagusDark}\n          stroke={C.outline}\n          strokeWidth={1.5}\n        />\n        {/* Carved detail lines on front */}\n        <rect\n          x={width * 0.02}\n          y={height * 0.02}\n          width={width * 0.2}\n          height={height * 0.14}\n          rx={2}\n          fill=\"none\"\n          stroke={C.sarcophagusDetail}\n          strokeWidth={1.5}\n          opacity={0.4}\n        />\n        {/* Carved center symbol */}\n        <text\n          x={width * 0.12}\n          y={height * 0.11}\n          textAnchor=\"middle\"\n          fontSize={28}\n          fill={C.sarcophagusDetail}\n          opacity={0.5}\n          fontFamily=\"serif\"\n        >\n          \n        </text>\n        {/* Horizontal carved lines */}\n        <line\n          x1={width * 0.03}\n          y1={height * 0.06}\n          x2={width * 0.21}\n          y2={height * 0.06}\n          stroke={C.sarcophagusDetail}\n          strokeWidth={0.8}\n          opacity={0.3}\n        />\n        <line\n          x1={width * 0.03}\n          y1={height * 0.14}\n          x2={width * 0.21}\n          y2={height * 0.14}\n          stroke={C.sarcophagusDetail}\n          strokeWidth={0.8}\n          opacity={0.3}\n        />\n      </g>\n\n      {/* Animated crowd figures (attendants, fan bearers) */}\n      <CrowdLayer config={CROWD_CONFIGS.insidePyramid} />\n\n      {/* === TORCH GLOW OVERLAYS === */}\n      <rect\n        x={0}\n        y={0}\n        width={width}\n        height={height}\n        fill=\"url(#ip-glow-left)\"\n        opacity={glowPulse}\n      />\n      <rect\n        x={0}\n        y={0}\n        width={width}\n        height={height}\n        fill=\"url(#ip-glow-right)\"\n        opacity={glowPulse2}\n      />\n      <rect x={0} y={0} width={width} height={height} fill=\"url(#ip-ambient)\" />\n\n      {/* === LEFT TORCH === */}\n      <Torch\n        x={torchLX}\n        y={torchY}\n        flame1={flame1}\n        flame2={flame2}\n        flame3={flame3}\n        glowPulse={glowPulse}\n        side=\"left\"\n      />\n\n      {/* === RIGHT TORCH === */}\n      <Torch\n        x={torchRX}\n        y={torchY}\n        flame1={flame4}\n        flame2={flame3}\n        flame3={flame1}\n        glowPulse={glowPulse2}\n        side=\"right\"\n      />\n\n      {/* === STONE TABLET BOARD === */}\n      <g transform={`translate(${width / 2 - 210}, ${height * 0.17})`}>\n        {/* Outer frame */}\n        <rect\n          x={-10}\n          y={-10}\n          width={440}\n          height={190}\n          rx={5}\n          fill={C.boardFrame}\n          stroke={C.outline}\n          strokeWidth={2.5}\n        />\n        {/* Inner surface */}\n        <rect x={0} y={0} width={420} height={170} rx={2} fill={C.boardBg} />\n        {/* Carved border decoration */}\n        <rect\n          x={8}\n          y={8}\n          width={404}\n          height={154}\n          rx={2}\n          fill=\"none\"\n          stroke={C.hieroglyph}\n          strokeWidth={1}\n          opacity={0.25}\n        />\n        {/* Corner hieroglyphs */}\n        <text x={16} y={28} fontSize={14} fill={C.hieroglyph} opacity={0.3} fontFamily=\"serif\">\n          \n        </text>\n        <text x={394} y={28} fontSize={14} fill={C.hieroglyph} opacity={0.3} fontFamily=\"serif\" textAnchor=\"end\">\n          \n        </text>\n        <text x={16} y={155} fontSize={14} fill={C.hieroglyph} opacity={0.3} fontFamily=\"serif\">\n          \n        </text>\n        <text x={394} y={155} fontSize={14} fill={C.hieroglyph} opacity={0.3} fontFamily=\"serif\" textAnchor=\"end\">\n          \n        </text>\n        {/* Board text */}\n        {boardText && (\n          <text\n            x={210}\n            y={100}\n            textAnchor=\"middle\"\n            fill={C.chalk}\n            fontSize={36}\n            fontFamily=\"'Courier New', monospace\"\n            fontWeight=\"bold\"\n            opacity={0.9}\n          >\n            {boardText}\n          </text>\n        )}\n      </g>\n\n      {/* === SHADOW CORNERS / VIGNETTE === */}\n      <rect x={0} y={0} width={width} height={height} fill=\"url(#ip-vignette)\" />\n\n      {/* Dark shadow in top corners */}\n      <path\n        d={`M0,0 L${width * 0.12},0 L0,${height * 0.15} Z`}\n        fill=\"rgba(0,0,0,0.5)\"\n      />\n      <path\n        d={`M${width},0 L${width * 0.88},0 L${width},${height * 0.15} Z`}\n        fill=\"rgba(0,0,0,0.5)\"\n      />\n\n      {/* Bottom corner shadows */}\n      <path\n        d={`M0,${height} L${width * 0.08},${height} L0,${height * 0.88} Z`}\n        fill=\"rgba(0,0,0,0.4)\"\n      />\n      <path\n        d={`M${width},${height} L${width * 0.92},${height} L${width},${height * 0.88} Z`}\n        fill=\"rgba(0,0,0,0.4)\"\n      />\n    </svg>\n  );\n};\n\n/* === TORCH SUB-COMPONENT === */\nconst Torch: React.FC<{\n  x: number;\n  y: number;\n  flame1: number;\n  flame2: number;\n  flame3: number;\n  glowPulse: number;\n  side: 'left' | 'right';\n}> = ({ x, y, flame1, flame2, flame3, glowPulse, side }) => {\n  const bracketDir = side === 'left' ? 1 : -1;\n\n  return (\n    <g transform={`translate(${x}, ${y})`}>\n      {/* Wall bracket */}\n      <line\n        x1={-bracketDir * 20}\n        y1={0}\n        x2={0}\n        y2={-10}\n        stroke={C.torchBracket}\n        strokeWidth={4}\n        strokeLinecap=\"round\"\n      />\n      <line\n        x1={-bracketDir * 20}\n        y1={0}\n        x2={-bracketDir * 20}\n        y2={15}\n        stroke={C.torchBracket}\n        strokeWidth={3}\n      />\n\n      {/* Torch stick */}\n      <rect\n        x={-5}\n        y={-10}\n        width={10}\n        height={50}\n        rx={2}\n        fill={C.torchWood}\n        stroke={C.outline}\n        strokeWidth={1.5}\n      />\n      {/* Wrap at top */}\n      <rect x={-6} y={-8} width={12} height={8} rx={1} fill=\"#7A5A3A\" opacity={0.6} />\n\n      {/* Flame glow (halo) */}\n      <ellipse\n        cx={0}\n        cy={-30}\n        rx={35 + flame1 * 5}\n        ry={40 + flame2 * 5}\n        fill=\"rgba(255,140,30,0.12)\"\n        opacity={glowPulse}\n      />\n\n      {/* Outer flame */}\n      <path\n        d={`M-10,-12 Q${-6 + flame1 * 3},-40 ${flame2 * 2},-55 Q${6 + flame3 * 3},-40 10,-12 Z`}\n        fill={C.flameOuter}\n        opacity={0.8}\n      />\n      {/* Middle flame */}\n      <path\n        d={`M-6,-12 Q${-3 + flame2 * 2},-35 ${flame1 * 1.5},-46 Q${4 + flame1 * 2},-35 6,-12 Z`}\n        fill={C.flameInner}\n        opacity={0.85}\n      />\n      {/* Inner flame core */}\n      <path\n        d={`M-3,-12 Q${-1 + flame3 * 1},-28 ${flame2 * 1},-35 Q${2 + flame2},-28 3,-12 Z`}\n        fill={C.flameCore}\n        opacity={0.9}\n      />\n\n      {/* Sparks */}\n      <circle\n        cx={flame1 * 4}\n        cy={-58 + flame2 * 3}\n        r={1.5}\n        fill={C.flameInner}\n        opacity={0.4 + flame3 * 0.3}\n      />\n      <circle\n        cx={-3 + flame3 * 3}\n        cy={-62 + flame1 * 4}\n        r={1}\n        fill={C.flameCore}\n        opacity={0.3 + flame2 * 0.3}\n      />\n    </g>\n  );\n};\n\nexport default InsidePyramid;\n","import React from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { sineWave } from '../animations/easing';\nimport { CrowdLayer, CROWD_CONFIGS } from '../crowds/CrowdWorkers';\n\ninterface NileRiverProps {\n  boardText?: string;\n  width?: number;\n  height?: number;\n}\n\nconst C = {\n  skyTop: '#4A90D9',\n  skyBottom: '#87CEEB',\n  sun: '#FFD700',\n  sunGlow: 'rgba(255,215,0,0.25)',\n  water: '#2E7D8A',\n  waterDark: '#246A75',\n  waterLight: '#3A9AAA',\n  waterReflect: 'rgba(255,255,255,0.15)',\n  sand: '#D4A868',\n  sandDark: '#C49858',\n  sandLight: '#E4C088',\n  boatWood: '#8B6B4A',\n  boatWoodDark: '#6B4F32',\n  boatWoodLight: '#A07E5A',\n  sail: '#F5E8D0',\n  sailShade: '#DDD0B8',\n  stone: '#9A8A78',\n  stoneDark: '#7A6A58',\n  papyrus: '#3D7A3D',\n  papyrusDark: '#2D5A2D',\n  palm: '#2D6B1E',\n  palmTrunk: '#8B6B4A',\n  pyramidSilhouette: '#B8986A',\n  pyramidSilhouetteShade: '#A08050',\n  boardBg: '#C4986A',\n  boardFrame: '#8B6B4A',\n  boardStone: '#B8906A',\n  chalk: '#F5E8C8',\n  hieroglyph: '#8B6B4A',\n  outline: '#1A1A1A',\n  bird: '#2A2A2A',\n};\n\nexport const NileRiver: React.FC<NileRiverProps> = ({\n  boardText = '',\n  width = 1920,\n  height = 1080,\n}) => {\n  const frame = useCurrentFrame();\n\n  // Animation values\n  const sunPulse = 1 + sineWave(frame, 0.05) * 0.03;\n  const waterRipple1 = sineWave(frame, 0.12);\n  const waterRipple2 = sineWave(frame, 0.18, 1.2);\n  const boatBob = sineWave(frame, 0.08) * 3;\n  const boatBob2 = sineWave(frame, 0.06, 0.8) * 2;\n  const sailBillow = sineWave(frame, 0.1) * 4;\n  const papyrusSway1 = sineWave(frame, 0.07) * 3;\n  const papyrusSway2 = sineWave(frame, 0.09, 0.5) * 2.5;\n  const papyrusSway3 = sineWave(frame, 0.06, 1.0) * 3.5;\n\n  // Key Y positions\n  const riverTop = height * 0.38;\n  const riverBottom = height * 0.62;\n  const riverMid = (riverTop + riverBottom) / 2;\n\n  return (\n    <svg viewBox={`0 0 ${width} ${height}`} width={width} height={height}>\n      <defs>\n        {/* Sky gradient */}\n        <linearGradient id=\"nile-sky\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.skyTop} />\n          <stop offset=\"100%\" stopColor={C.skyBottom} />\n        </linearGradient>\n\n        {/* Water gradient */}\n        <linearGradient id=\"nile-water\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.waterLight} />\n          <stop offset=\"40%\" stopColor={C.water} />\n          <stop offset=\"100%\" stopColor={C.waterDark} />\n        </linearGradient>\n\n        {/* Sun glow */}\n        <radialGradient id=\"nile-sun-glow\" cx=\"50%\" cy=\"50%\" r=\"50%\">\n          <stop offset=\"0%\" stopColor={C.sunGlow} />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </radialGradient>\n      </defs>\n\n      {/* ===== SKY ===== */}\n      <rect x={0} y={0} width={width} height={riverTop} fill=\"url(#nile-sky)\" />\n\n      {/* ===== SUN (upper right) ===== */}\n      <g transform={`translate(${width * 0.82}, ${height * 0.12}) scale(${sunPulse})`}>\n        <circle cx={0} cy={0} r={70} fill={C.sunGlow} opacity={0.35} />\n        <circle cx={0} cy={0} r={45} fill={C.sun} />\n        <circle cx={-10} cy={-10} r={14} fill=\"white\" opacity={0.3} />\n      </g>\n\n      {/* ===== BIRDS (V-shapes) ===== */}\n      {[\n        { x: width * 0.2, y: height * 0.08, s: 1.0, ph: 0 },\n        { x: width * 0.28, y: height * 0.11, s: 0.7, ph: 0.4 },\n        { x: width * 0.55, y: height * 0.06, s: 0.9, ph: 0.8 },\n        { x: width * 0.62, y: height * 0.1, s: 0.6, ph: 1.5 },\n        { x: width * 0.4, y: height * 0.14, s: 0.8, ph: 2.0 },\n      ].map((b, i) => {\n        const wingFlap = sineWave(frame, 0.2, b.ph) * 3;\n        return (\n          <g key={`bird-${i}`} transform={`translate(${b.x}, ${b.y}) scale(${b.s})`}>\n            <path\n              d={`M-12,${wingFlap} Q-6,${-4 + wingFlap * 0.5} 0,0 Q6,${-4 + wingFlap * 0.5} 12,${wingFlap}`}\n              fill=\"none\" stroke={C.bird} strokeWidth={2} strokeLinecap=\"round\"\n            />\n          </g>\n        );\n      })}\n\n      {/* ===== DISTANT PYRAMIDS on horizon ===== */}\n      <g transform={`translate(${width * 0.15}, ${riverTop})`}>\n        <path d=\"M0,0 L-35,-50 L35,0 Z\" fill={C.pyramidSilhouette} opacity={0.5} />\n        <path d=\"M0,0 L5,-50 L35,0 Z\" fill={C.pyramidSilhouetteShade} opacity={0.3} />\n      </g>\n      <g transform={`translate(${width * 0.25}, ${riverTop})`}>\n        <path d=\"M0,0 L-25,-35 L25,0 Z\" fill={C.pyramidSilhouette} opacity={0.4} />\n        <path d=\"M0,0 L5,-35 L25,0 Z\" fill={C.pyramidSilhouetteShade} opacity={0.25} />\n      </g>\n      <g transform={`translate(${width * 0.08}, ${riverTop})`}>\n        <path d=\"M0,0 L-18,-25 L18,0 Z\" fill={C.pyramidSilhouette} opacity={0.3} />\n      </g>\n\n      {/* ===== TOP SANDY BANK ===== */}\n      <path\n        d={`M0,${riverTop}\n          Q${width * 0.1},${riverTop - 12} ${width * 0.2},${riverTop - 5}\n          Q${width * 0.4},${riverTop + 6} ${width * 0.6},${riverTop - 3}\n          Q${width * 0.8},${riverTop + 8} ${width},${riverTop - 2}\n          L${width},${riverTop - 60} L0,${riverTop - 60} Z`}\n        fill={C.sand}\n      />\n      <path\n        d={`M0,${riverTop + 3}\n          Q${width * 0.15},${riverTop - 8} ${width * 0.3},${riverTop + 2}\n          Q${width * 0.5},${riverTop + 10} ${width * 0.7},${riverTop}\n          Q${width * 0.85},${riverTop + 5} ${width},${riverTop + 2}\n          L${width},${riverTop} L0,${riverTop} Z`}\n        fill={C.sandDark} opacity={0.4}\n      />\n\n      {/* ===== PALM TREES on far bank (top) ===== */}\n      <PalmTree x={width * 0.42} y={riverTop - 8} h={110} lean={-4 + papyrusSway1 * 0.3} />\n      <PalmTree x={width * 0.58} y={riverTop - 5} h={100} lean={3 + papyrusSway2 * 0.3} />\n      <PalmTree x={width * 0.72} y={riverTop - 10} h={120} lean={-2 + papyrusSway1 * 0.2} />\n\n      {/* ===== PAPYRUS REEDS along top bank ===== */}\n      {[\n        { x: width * 0.02, sway: papyrusSway1 },\n        { x: width * 0.06, sway: papyrusSway2 },\n        { x: width * 0.1, sway: papyrusSway3 },\n        { x: width * 0.35, sway: papyrusSway2 },\n        { x: width * 0.38, sway: papyrusSway1 },\n        { x: width * 0.65, sway: papyrusSway3 },\n        { x: width * 0.68, sway: papyrusSway1 },\n        { x: width * 0.92, sway: papyrusSway2 },\n        { x: width * 0.96, sway: papyrusSway3 },\n      ].map((p, i) => (\n        <PapyrusReed key={`pr-top-${i}`} x={p.x} y={riverTop + 5} sway={p.sway} flip={false} />\n      ))}\n\n      {/* ===== NILE RIVER WATER ===== */}\n      <rect x={0} y={riverTop} width={width} height={riverBottom - riverTop} fill=\"url(#nile-water)\" />\n\n      {/* Animated wave ripples */}\n      {[0, 0.15, 0.3, 0.45, 0.6, 0.75, 0.9].map((frac, i) => {\n        const yOff = riverTop + (riverBottom - riverTop) * (0.15 + frac * 0.7);\n        const xShift = waterRipple1 * 8 + i * 20;\n        return (\n          <path\n            key={`ripple-${i}`}\n            d={`M${-40 + xShift},${yOff}\n              Q${width * 0.1 + xShift},${yOff - 3 + waterRipple2 * 2} ${width * 0.2 + xShift},${yOff}\n              Q${width * 0.3 + xShift},${yOff + 3 - waterRipple2 * 2} ${width * 0.4 + xShift},${yOff}\n              Q${width * 0.5 + xShift},${yOff - 2 + waterRipple1 * 2} ${width * 0.6 + xShift},${yOff}\n              Q${width * 0.7 + xShift},${yOff + 3 - waterRipple1 * 2} ${width * 0.8 + xShift},${yOff}\n              Q${width * 0.9 + xShift},${yOff - 2 + waterRipple2 * 1.5} ${width + 40 + xShift},${yOff}`}\n            fill=\"none\"\n            stroke={C.waterReflect}\n            strokeWidth={1.5}\n            opacity={0.3 + sineWave(frame, 0.1, i * 0.7) * 0.15}\n          />\n        );\n      })}\n\n      {/* Water shimmer reflections */}\n      {[\n        { x: width * 0.15, y: riverMid - 15, w: 40 },\n        { x: width * 0.35, y: riverMid + 10, w: 55 },\n        { x: width * 0.55, y: riverMid - 5, w: 35 },\n        { x: width * 0.75, y: riverMid + 15, w: 45 },\n        { x: width * 0.9, y: riverMid - 10, w: 30 },\n      ].map((r, i) => (\n        <line\n          key={`shimmer-${i}`}\n          x1={r.x}\n          y1={r.y}\n          x2={r.x + r.w}\n          y2={r.y}\n          stroke=\"white\"\n          strokeWidth={1}\n          opacity={0.15 + sineWave(frame, 0.15, i * 1.1) * 0.1}\n        />\n      ))}\n\n      {/* ===== SMALLER BOAT (background) ===== */}\n      <g transform={`translate(${width * 0.25}, ${riverMid - 20 + boatBob2})`}>\n        {/* Hull */}\n        <path\n          d=\"M-40,0 Q-45,-5 -35,-12 L35,-12 Q45,-5 40,0 Z\"\n          fill={C.boatWood} stroke={C.outline} strokeWidth={1.5}\n        />\n        <path\n          d=\"M-40,0 Q-45,-5 -35,-12 L35,-12 Q45,-5 40,0 Z\"\n          fill={C.boatWoodLight} opacity={0.3}\n        />\n        {/* Small mast and sail */}\n        <line x1={0} y1={-12} x2={0} y2={-55} stroke={C.boatWoodDark} strokeWidth={2} />\n        <path\n          d={`M0,-52 L${20 + sailBillow * 0.5},-35 L0,-15 Z`}\n          fill={C.sail} stroke={C.outline} strokeWidth={1} opacity={0.9}\n        />\n        {/* Stone block on small boat */}\n        <rect x={-15} y={-18} width={14} height={8} fill={C.stone} stroke={C.outline} strokeWidth={1} rx={1} />\n      </g>\n\n      {/* ===== LARGE BOAT (center, carrying stone blocks) ===== */}\n      <g transform={`translate(${width * 0.55}, ${riverMid - 10 + boatBob})`}>\n        {/* Hull - flat barge style */}\n        <path\n          d=\"M-120,0 Q-130,-8 -110,-22 L110,-22 Q130,-8 120,0 Z\"\n          fill={C.boatWood} stroke={C.outline} strokeWidth={2}\n        />\n        {/* Hull highlight */}\n        <path\n          d=\"M-105,-20 L105,-20 Q120,-10 110,-2 L-110,-2 Q-120,-10 -105,-20 Z\"\n          fill={C.boatWoodLight} opacity={0.25}\n        />\n        {/* Hull plank lines */}\n        <line x1={-100} y1={-14} x2={100} y2={-14} stroke={C.boatWoodDark} strokeWidth={1} opacity={0.3} />\n        <line x1={-95} y1={-7} x2={95} y2={-7} stroke={C.boatWoodDark} strokeWidth={1} opacity={0.2} />\n\n        {/* Stone blocks on deck */}\n        <rect x={-70} y={-38} width={30} height={18} fill={C.stone} stroke={C.outline} strokeWidth={1.5} rx={1} />\n        <rect x={-70} y={-38} width={30} height={18} fill={C.stoneDark} opacity={0.2} rx={1} />\n        <rect x={-35} y={-38} width={30} height={18} fill={C.stone} stroke={C.outline} strokeWidth={1.5} rx={1} />\n        <rect x={-35} y={-40} width={28} height={4} fill=\"white\" opacity={0.08} rx={1} />\n        <rect x={0} y={-38} width={30} height={18} fill={C.stone} stroke={C.outline} strokeWidth={1.5} rx={1} />\n        <rect x={0} y={-38} width={30} height={18} fill={C.stoneDark} opacity={0.15} rx={1} />\n        {/* Stacked block on top */}\n        <rect x={-55} y={-54} width={28} height={16} fill={C.stoneDark} stroke={C.outline} strokeWidth={1.5} rx={1} />\n        <rect x={-20} y={-54} width={28} height={16} fill={C.stone} stroke={C.outline} strokeWidth={1.5} rx={1} />\n\n        {/* Mast */}\n        <line x1={55} y1={-22} x2={55} y2={-110} stroke={C.boatWoodDark} strokeWidth={3.5} />\n        {/* Crossbeam */}\n        <line x1={35} y1={-105} x2={75} y2={-105} stroke={C.boatWoodDark} strokeWidth={2} />\n\n        {/* Sail */}\n        <path\n          d={`M55,-108\n            Q${85 + sailBillow},-85 ${80 + sailBillow * 1.2},-55\n            L55,-40 Z`}\n          fill={C.sail} stroke={C.outline} strokeWidth={1.5}\n        />\n        <path\n          d={`M55,-108\n            Q${85 + sailBillow},-85 ${80 + sailBillow * 1.2},-55\n            L55,-40 Z`}\n          fill={C.sailShade} opacity={0.2}\n        />\n        {/* Sail stitch line */}\n        <path\n          d={`M55,-95 Q${72 + sailBillow * 0.7},-77 ${70 + sailBillow * 0.8},-58`}\n          fill=\"none\" stroke={C.boatWoodDark} strokeWidth={0.8} opacity={0.3}\n        />\n\n        {/* Rudder */}\n        <line x1={110} y1={-18} x2={130} y2={8} stroke={C.boatWoodDark} strokeWidth={3} strokeLinecap=\"round\" />\n      </g>\n\n      {/* ===== BOTTOM SANDY BANK ===== */}\n      <path\n        d={`M0,${riverBottom}\n          Q${width * 0.12},${riverBottom + 8} ${width * 0.25},${riverBottom + 2}\n          Q${width * 0.45},${riverBottom - 6} ${width * 0.65},${riverBottom + 4}\n          Q${width * 0.8},${riverBottom + 10} ${width},${riverBottom}\n          L${width},${height} L0,${height} Z`}\n        fill={C.sand}\n      />\n      <path\n        d={`M0,${riverBottom + 5}\n          Q${width * 0.2},${riverBottom + 15} ${width * 0.4},${riverBottom + 8}\n          Q${width * 0.6},${riverBottom + 18} ${width * 0.8},${riverBottom + 10}\n          Q${width * 0.9},${riverBottom + 20} ${width},${riverBottom + 12}\n          L${width},${height} L0,${height} Z`}\n        fill={C.sandDark} opacity={0.3}\n      />\n      {/* Sand highlight */}\n      <path\n        d={`M0,${riverBottom + 2}\n          Q${width * 0.3},${riverBottom - 4} ${width * 0.5},${riverBottom + 3}\n          Q${width * 0.7},${riverBottom - 2} ${width},${riverBottom + 1}\n          L${width},${riverBottom} L0,${riverBottom} Z`}\n        fill={C.sandLight} opacity={0.4}\n      />\n\n      {/* ===== PAPYRUS REEDS along bottom bank ===== */}\n      {[\n        { x: width * 0.03, sway: papyrusSway2 },\n        { x: width * 0.07, sway: papyrusSway3 },\n        { x: width * 0.12, sway: papyrusSway1 },\n        { x: width * 0.3, sway: papyrusSway3 },\n        { x: width * 0.33, sway: papyrusSway2 },\n        { x: width * 0.48, sway: papyrusSway1 },\n        { x: width * 0.78, sway: papyrusSway2 },\n        { x: width * 0.82, sway: papyrusSway3 },\n        { x: width * 0.94, sway: papyrusSway1 },\n        { x: width * 0.98, sway: papyrusSway2 },\n      ].map((p, i) => (\n        <PapyrusReed key={`pr-bot-${i}`} x={p.x} y={riverBottom - 5} sway={p.sway} flip={true} />\n      ))}\n\n      {/* Animated crowd figures (bank workers, etc) */}\n      <CrowdLayer config={CROWD_CONFIGS.nileRiver} />\n\n      {/* ===== STONE TABLET BOARD ===== */}\n      <g transform={`translate(${width / 2 - 200}, ${height * 0.72})`}>\n        {/* Shadow */}\n        <rect x={-4} y={4} width={416} height={176} rx={6} fill=\"rgba(0,0,0,0.15)\" />\n        {/* Frame */}\n        <rect x={-8} y={-8} width={416} height={176} rx={4} fill={C.boardFrame} stroke={C.outline} strokeWidth={2} />\n        {/* Inner tablet */}\n        <rect x={0} y={0} width={400} height={160} fill={C.boardBg} />\n        {/* Stone texture lines */}\n        <line x1={20} y1={40} x2={380} y2={40} stroke={C.boardStone} strokeWidth={0.5} opacity={0.3} />\n        <line x1={20} y1={80} x2={380} y2={80} stroke={C.boardStone} strokeWidth={0.5} opacity={0.2} />\n        <line x1={20} y1={120} x2={380} y2={120} stroke={C.boardStone} strokeWidth={0.5} opacity={0.3} />\n        {/* Hieroglyphic decorations */}\n        <text x={30} y={28} fontSize={16} fill={C.hieroglyph} opacity={0.25} fontFamily=\"serif\">\n             \n        </text>\n        <text x={30} y={148} fontSize={16} fill={C.hieroglyph} opacity={0.25} fontFamily=\"serif\">\n             \n        </text>\n        {boardText && (\n          <text\n            x={200}\n            y={95}\n            textAnchor=\"middle\"\n            fill={C.chalk}\n            fontSize={36}\n            fontFamily=\"'Courier New', monospace\"\n            fontWeight=\"bold\"\n            opacity={0.9}\n          >\n            {boardText}\n          </text>\n        )}\n      </g>\n    </svg>\n  );\n};\n\n/** Papyrus reed with fan-shaped top, growing from the bank into the water edge */\nconst PapyrusReed: React.FC<{ x: number; y: number; sway: number; flip: boolean }> = ({\n  x,\n  y,\n  sway,\n  flip,\n}) => {\n  const dir = flip ? 1 : -1;\n  const stalkH = 55 + Math.abs(sway) * 2;\n  return (\n    <g transform={`translate(${x}, ${y})`}>\n      {/* Main stalk */}\n      <path\n        d={`M0,0 Q${sway * 0.6},${dir * -stalkH * 0.5} ${sway},${dir * -stalkH}`}\n        fill=\"none\"\n        stroke={C.papyrus}\n        strokeWidth={3}\n        strokeLinecap=\"round\"\n      />\n      {/* Fan-top fronds */}\n      <g transform={`translate(${sway}, ${dir * -stalkH})`}>\n        <path\n          d={`M0,0 Q${-8 + sway * 0.3},${dir * -12} ${-14 + sway * 0.4},${dir * -6}`}\n          fill=\"none\" stroke={C.papyrus} strokeWidth={2} strokeLinecap=\"round\"\n        />\n        <path\n          d={`M0,0 Q${-3 + sway * 0.2},${dir * -15} ${-5 + sway * 0.2},${dir * -10}`}\n          fill=\"none\" stroke={C.papyrus} strokeWidth={2} strokeLinecap=\"round\"\n        />\n        <path\n          d={`M0,0 Q${3 + sway * 0.2},${dir * -15} ${5 + sway * 0.2},${dir * -10}`}\n          fill=\"none\" stroke={C.papyrus} strokeWidth={2} strokeLinecap=\"round\"\n        />\n        <path\n          d={`M0,0 Q${8 + sway * 0.3},${dir * -12} ${14 + sway * 0.4},${dir * -6}`}\n          fill=\"none\" stroke={C.papyrus} strokeWidth={2} strokeLinecap=\"round\"\n        />\n        <path\n          d={`M0,0 Q${0 + sway * 0.1},${dir * -16} ${0 + sway * 0.15},${dir * -12}`}\n          fill=\"none\" stroke={C.papyrusDark} strokeWidth={1.5} strokeLinecap=\"round\"\n        />\n      </g>\n      {/* Secondary shorter stalk */}\n      <path\n        d={`M3,0 Q${sway * 0.4 + 2},${dir * -stalkH * 0.35} ${sway * 0.7 + 4},${dir * -stalkH * 0.6}`}\n        fill=\"none\"\n        stroke={C.papyrusDark}\n        strokeWidth={2}\n        strokeLinecap=\"round\"\n      />\n    </g>\n  );\n};\n\n/** Palm tree helper - matches Pyramids.tsx style */\nconst PalmTree: React.FC<{ x: number; y: number; h: number; lean: number }> = ({\n  x,\n  y,\n  h,\n  lean,\n}) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {/* Trunk */}\n    <path\n      d={`M0,0 Q${lean},-${h * 0.5} ${lean * 1.5},-${h}`}\n      fill=\"none\"\n      stroke={C.palmTrunk}\n      strokeWidth={8}\n      strokeLinecap=\"round\"\n    />\n    <path\n      d={`M0,0 Q${lean},-${h * 0.5} ${lean * 1.5},-${h}`}\n      fill=\"none\"\n      stroke={C.outline}\n      strokeWidth={10}\n      strokeLinecap=\"round\"\n      opacity={0.08}\n    />\n    {/* Trunk ridges */}\n    {[0.25, 0.45, 0.65, 0.85].map((r, i) => (\n      <ellipse\n        key={`r-${i}`}\n        cx={lean * r * 1.5}\n        cy={-h * r}\n        rx={5}\n        ry={2}\n        fill=\"none\"\n        stroke={C.outline}\n        strokeWidth={1}\n        opacity={0.2}\n      />\n    ))}\n    {/* Fronds */}\n    <g transform={`translate(${lean * 1.5}, -${h})`}>\n      <path d=\"M0,0 Q-35,-18 -55,5\" fill=\"none\" stroke={C.palm} strokeWidth={3.5} />\n      <path d=\"M0,0 Q-25,-30 -45,-12\" fill=\"none\" stroke={C.palm} strokeWidth={3} />\n      <path d=\"M0,0 Q35,-18 55,5\" fill=\"none\" stroke={C.palm} strokeWidth={3.5} />\n      <path d=\"M0,0 Q25,-30 45,-12\" fill=\"none\" stroke={C.palm} strokeWidth={3} />\n      <path d=\"M0,0 Q-12,-35 -18,-8\" fill=\"none\" stroke={C.palm} strokeWidth={3} />\n      <path d=\"M0,0 Q12,-35 18,-8\" fill=\"none\" stroke={C.palm} strokeWidth={3} />\n    </g>\n  </g>\n);\n\nexport default NileRiver;\n","import React from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { sineWave } from '../animations/easing';\nimport { CrowdLayer, CROWD_CONFIGS } from '../crowds/CrowdWorkers';\n\ninterface WorkersVillageProps {\n  boardText?: string;\n  width?: number;\n  height?: number;\n}\n\nconst C = {\n  skyTop: '#4A90D9',\n  skyBottom: '#6BA3D6',\n  sun: '#FFD700',\n  sunGlow: 'rgba(255,200,50,0.3)',\n  cloud: '#F0F0F0',\n  cloudShadow: '#D8D8E8',\n  sand: '#D4A868',\n  sandDark: '#C49858',\n  sandLight: '#E4B878',\n  path: '#C49040',\n  pathEdge: '#B08030',\n  building: '#C4986A',\n  buildingDark: '#B08858',\n  buildingLight: '#D4A878',\n  roofTop: '#A07848',\n  doorway: '#5A3A20',\n  oven: '#A06030',\n  ovenDark: '#7A4820',\n  ovenGlow: '#FF6030',\n  smoke: 'rgba(120,110,100,0.25)',\n  pot: '#B07040',\n  potDark: '#8A5530',\n  well: '#9A8060',\n  wellWater: '#4A80B0',\n  awning: '#C86040',\n  awningAlt: '#D4A040',\n  rack: '#8B6B4A',\n  fish: '#C8A870',\n  pyramid: '#C4986A',\n  pyramidShade: '#A07848',\n  outline: '#1A1A1A',\n  boardBg: '#C4986A',\n  boardFrame: '#8B6B4A',\n  chalk: '#F5E8C8',\n  hieroglyph: '#8B6B4A',\n};\n\nexport const WorkersVillage: React.FC<WorkersVillageProps> = ({\n  boardText = '',\n  width = 1920,\n  height = 1080,\n}) => {\n  const frame = useCurrentFrame();\n  const sunPulse = 1 + sineWave(frame, 0.05) * 0.03;\n  const heatShimmer = sineWave(frame, 0.15) * 2;\n  const smokeRise = sineWave(frame, 0.12);\n  const smokeRise2 = sineWave(frame, 0.09, 1.5);\n  const awningSway1 = sineWave(frame, 0.08) * 3;\n  const awningSway2 = sineWave(frame, 0.07, 0.8) * 2.5;\n  const cloudDrift = (frame * 0.15) % (width + 400);\n\n  return (\n    <svg viewBox={`0 0 ${width} ${height}`} width={width} height={height}>\n      <defs>\n        <linearGradient id=\"wv-sky\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.skyTop} />\n          <stop offset=\"100%\" stopColor={C.skyBottom} />\n        </linearGradient>\n        <radialGradient id=\"wv-sun-glow\" cx=\"50%\" cy=\"50%\" r=\"50%\">\n          <stop offset=\"0%\" stopColor={C.sunGlow} />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </radialGradient>\n        <linearGradient id=\"wv-ground\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.sandLight} />\n          <stop offset=\"100%\" stopColor={C.sand} />\n        </linearGradient>\n      </defs>\n\n      {/* Sky */}\n      <rect x={0} y={0} width={width} height={height * 0.55} fill=\"url(#wv-sky)\" />\n\n      {/* Sun with pulse */}\n      <g transform={`translate(${width * 0.82}, ${height * 0.12}) scale(${sunPulse})`}>\n        <circle cx={0} cy={0} r={70} fill={C.sunGlow} opacity={0.35} />\n        <circle cx={0} cy={0} r={45} fill={C.sun} />\n        <circle cx={-10} cy={-10} r={14} fill=\"white\" opacity={0.3} />\n      </g>\n\n      {/* Clouds */}\n      <g transform={`translate(${-200 + cloudDrift}, ${height * 0.08})`} opacity={0.7}>\n        <ellipse cx={0} cy={0} rx={60} ry={22} fill={C.cloud} />\n        <ellipse cx={40} cy={-5} rx={45} ry={18} fill={C.cloud} />\n        <ellipse cx={-30} cy={5} rx={40} ry={16} fill={C.cloudShadow} />\n      </g>\n      <g transform={`translate(${-500 + cloudDrift * 0.7}, ${height * 0.15})`} opacity={0.5}>\n        <ellipse cx={0} cy={0} rx={50} ry={18} fill={C.cloud} />\n        <ellipse cx={35} cy={-3} rx={35} ry={14} fill={C.cloud} />\n      </g>\n      <g transform={`translate(${-100 + cloudDrift * 0.5}, ${height * 0.06})`} opacity={0.4}>\n        <ellipse cx={0} cy={0} rx={40} ry={14} fill={C.cloud} />\n        <ellipse cx={28} cy={-4} rx={30} ry={12} fill={C.cloud} />\n      </g>\n\n      {/* Distant pyramids on horizon */}\n      <g opacity={0.35}>\n        <path d={`M${width * 0.08},${height * 0.52} L${width * 0.13},${height * 0.38} L${width * 0.18},${height * 0.52} Z`}\n          fill={C.pyramid} stroke={C.outline} strokeWidth={1} />\n        <path d={`M${width * 0.13},${height * 0.38} L${width * 0.155},${height * 0.52} L${width * 0.18},${height * 0.52} Z`}\n          fill={C.pyramidShade} opacity={0.5} />\n        <path d={`M${width * 0.15},${height * 0.52} L${width * 0.20},${height * 0.40} L${width * 0.25},${height * 0.52} Z`}\n          fill={C.pyramid} stroke={C.outline} strokeWidth={1} />\n        <path d={`M${width * 0.20},${height * 0.40} L${width * 0.225},${height * 0.52} L${width * 0.25},${height * 0.52} Z`}\n          fill={C.pyramidShade} opacity={0.5} />\n      </g>\n\n      {/* Sandy ground */}\n      <rect x={0} y={height * 0.50} width={width} height={height * 0.50} fill=\"url(#wv-ground)\" />\n      {/* Ground texture */}\n      <path d={`M0,${height * 0.54} Q${width * 0.2},${height * 0.52 + heatShimmer} ${width * 0.4},${height * 0.53}\n        Q${width * 0.6},${height * 0.51} ${width * 0.8},${height * 0.53 + heatShimmer * 0.5}\n        L${width},${height * 0.52} L${width},${height * 0.55} L0,${height * 0.55} Z`}\n        fill={C.sandDark} opacity={0.3} />\n\n      {/* Dusty path/street running through village */}\n      <path d={`M${width * 0.35},${height * 0.55} Q${width * 0.40},${height * 0.62} ${width * 0.42},${height * 0.70}\n        Q${width * 0.45},${height * 0.80} ${width * 0.50},${height * 0.92}\n        Q${width * 0.52},${height} ${width * 0.55},${height}`}\n        fill=\"none\" stroke={C.path} strokeWidth={80} strokeLinecap=\"round\" />\n      <path d={`M${width * 0.35},${height * 0.55} Q${width * 0.40},${height * 0.62} ${width * 0.42},${height * 0.70}\n        Q${width * 0.45},${height * 0.80} ${width * 0.50},${height * 0.92}\n        Q${width * 0.52},${height} ${width * 0.55},${height}`}\n        fill=\"none\" stroke={C.pathEdge} strokeWidth={84} strokeLinecap=\"round\" opacity={0.3} />\n\n      {/* === LEFT SIDE BUILDINGS === */}\n\n      {/* Building 1 - large house, left */}\n      <MudbrickBuilding x={width * 0.05} y={height * 0.52} w={160} h={120} />\n\n      {/* Building 2 - smaller house behind */}\n      <MudbrickBuilding x={width * 0.18} y={height * 0.48} w={120} h={90} />\n\n      {/* Building 3 - medium house, left-center */}\n      <MudbrickBuilding x={width * 0.08} y={height * 0.65} w={140} h={110} />\n\n      {/* Awning on building 3 */}\n      <g transform={`translate(${width * 0.08 + 140}, ${height * 0.65 + 20})`}>\n        <line x1={0} y1={0} x2={0} y2={80} stroke={C.rack} strokeWidth={4} />\n        <line x1={70} y1={10} x2={70} y2={90} stroke={C.rack} strokeWidth={4} />\n        <path d={`M-5,${0 + awningSway1} Q35,${-8 + awningSway1 * 0.5} 75,${3 + awningSway1}`}\n          fill=\"none\" stroke={C.awning} strokeWidth={12} opacity={0.85} />\n        <path d={`M-5,${20 + awningSway1 * 0.8} Q35,${12 + awningSway1 * 0.3} 75,${23 + awningSway1 * 0.8}`}\n          fill=\"none\" stroke={C.awning} strokeWidth={12} opacity={0.7} />\n      </g>\n\n      {/* === BAKERY (center-left) === */}\n      <g transform={`translate(${width * 0.24}, ${height * 0.62})`}>\n        {/* Bakery building */}\n        <rect x={0} y={0} width={150} height={110} fill={C.building} stroke={C.outline} strokeWidth={2} />\n        <rect x={0} y={-6} width={158} height={8} fill={C.roofTop} stroke={C.outline} strokeWidth={1.5} />\n        <rect x={30} y={60} width={40} height={50} fill={C.doorway} stroke={C.outline} strokeWidth={1.5} rx={2} />\n        {/* Window */}\n        <rect x={100} y={25} width={25} height={25} fill={C.doorway} stroke={C.outline} strokeWidth={1.5} opacity={0.8} />\n\n        {/* Clay oven (dome) next to bakery */}\n        <g transform=\"translate(165, 50)\">\n          <ellipse cx={30} cy={60} rx={35} ry={10} fill={C.sandDark} opacity={0.3} />\n          <path d=\"M0,60 Q0,0 30,-10 Q60,0 60,60 Z\" fill={C.oven} stroke={C.outline} strokeWidth={2} />\n          <path d=\"M30,-10 Q60,0 60,60 L40,60 Q50,10 30,-10 Z\" fill={C.ovenDark} opacity={0.3} />\n          {/* Oven opening */}\n          <path d=\"M15,60 Q15,40 30,35 Q45,40 45,60 Z\" fill={C.doorway} stroke={C.outline} strokeWidth={1.5} />\n          {/* Oven glow */}\n          <ellipse cx={30} cy={52} rx={10} ry={6} fill={C.ovenGlow} opacity={0.4 + sineWave(frame, 0.2) * 0.15} />\n\n          {/* Smoke rising from oven */}\n          <g opacity={0.5 + smokeRise * 0.15}>\n            <ellipse cx={30 + smokeRise * 3} cy={-25 - (frame * 0.3 % 40)} rx={8} ry={5} fill={C.smoke} />\n            <ellipse cx={25 + smokeRise2 * 4} cy={-45 - (frame * 0.25 % 35)} rx={10} ry={6} fill={C.smoke} opacity={0.7} />\n            <ellipse cx={32 + smokeRise * 5} cy={-65 - (frame * 0.2 % 30)} rx={12} ry={7} fill={C.smoke} opacity={0.5} />\n            <ellipse cx={28 + smokeRise2 * 6} cy={-90 - (frame * 0.18 % 25)} rx={14} ry={8} fill={C.smoke} opacity={0.3} />\n            <ellipse cx={34 + smokeRise * 7} cy={-115 - (frame * 0.15 % 20)} rx={16} ry={9} fill={C.smoke} opacity={0.15} />\n          </g>\n        </g>\n      </g>\n\n      {/* === RIGHT SIDE BUILDINGS === */}\n\n      {/* Building 4 - right of path */}\n      <MudbrickBuilding x={width * 0.55} y={height * 0.54} w={170} h={125} />\n\n      {/* Building 5 - far right */}\n      <MudbrickBuilding x={width * 0.72} y={height * 0.50} w={140} h={100} />\n\n      {/* Building 6 - lower right */}\n      <MudbrickBuilding x={width * 0.60} y={height * 0.68} w={130} h={105} />\n\n      {/* Awning on building 4 */}\n      <g transform={`translate(${width * 0.55 - 5}, ${height * 0.54 + 25})`}>\n        <line x1={0} y1={0} x2={0} y2={85} stroke={C.rack} strokeWidth={4} />\n        <line x1={-65} y1={10} x2={-65} y2={95} stroke={C.rack} strokeWidth={4} />\n        <path d={`M5,${2 + awningSway2} Q-30,${-6 + awningSway2 * 0.5} -70,${4 + awningSway2}`}\n          fill=\"none\" stroke={C.awningAlt} strokeWidth={12} opacity={0.85} />\n        <path d={`M5,${22 + awningSway2 * 0.7} Q-30,${14 + awningSway2 * 0.3} -70,${24 + awningSway2 * 0.7}`}\n          fill=\"none\" stroke={C.awningAlt} strokeWidth={12} opacity={0.7} />\n      </g>\n\n      {/* === DRYING RACKS (near bakery) === */}\n      <g transform={`translate(${width * 0.17}, ${height * 0.72})`}>\n        {/* Rack frame */}\n        <line x1={0} y1={0} x2={0} y2={60} stroke={C.rack} strokeWidth={4} />\n        <line x1={80} y1={0} x2={80} y2={60} stroke={C.rack} strokeWidth={4} />\n        <line x1={-3} y1={5} x2={83} y2={5} stroke={C.rack} strokeWidth={3} />\n        <line x1={-3} y1={25} x2={83} y2={25} stroke={C.rack} strokeWidth={3} />\n        <line x1={-3} y1={45} x2={83} y2={45} stroke={C.rack} strokeWidth={3} />\n        {/* Fish/bread drying */}\n        {[12, 28, 44, 60, 72].map((px, i) => (\n          <g key={`dry-${i}`}>\n            <ellipse cx={px} cy={12} rx={7} ry={3} fill={C.fish} stroke={C.outline} strokeWidth={0.8} opacity={0.8} />\n            <ellipse cx={px + 5} cy={32} rx={6} ry={3} fill={C.fish} stroke={C.outline} strokeWidth={0.8} opacity={0.7} />\n          </g>\n        ))}\n      </g>\n\n      {/* === CLAY POTS AND JARS === */}\n\n      {/* Pots near building 1 */}\n      <g transform={`translate(${width * 0.05 + 165}, ${height * 0.52 + 70})`}>\n        <ClayPot x={0} y={0} size={1} />\n        <ClayPot x={22} y={5} size={0.8} />\n        <ClayPot x={10} y={-20} size={0.7} />\n      </g>\n\n      {/* Pots near building 5 */}\n      <g transform={`translate(${width * 0.72 - 40}, ${height * 0.50 + 55})`}>\n        <ClayPot x={0} y={0} size={1.1} />\n        <ClayPot x={25} y={3} size={0.9} />\n        <ClayJar x={-20} y={-5} size={1} />\n        <ClayJar x={50} y={0} size={0.8} />\n      </g>\n\n      {/* Pots near bakery */}\n      <g transform={`translate(${width * 0.24 - 30}, ${height * 0.62 + 70})`}>\n        <ClayJar x={0} y={0} size={0.9} />\n        <ClayJar x={20} y={5} size={0.7} />\n      </g>\n\n      {/* === WELL (center of village) === */}\n      <g transform={`translate(${width * 0.44}, ${height * 0.72})`}>\n        {/* Well base - circular stone */}\n        <ellipse cx={0} cy={30} rx={35} ry={12} fill={C.sandDark} opacity={0.3} />\n        <ellipse cx={0} cy={0} rx={28} ry={10} fill={C.well} stroke={C.outline} strokeWidth={2} />\n        <ellipse cx={0} cy={-6} rx={28} ry={10} fill={C.well} stroke={C.outline} strokeWidth={2} />\n        <rect x={-28} y={-6} width={56} height={6} fill={C.well} />\n        <line x1={-28} y1={-6} x2={-28} y2={0} stroke={C.outline} strokeWidth={2} />\n        <line x1={28} y1={-6} x2={28} y2={0} stroke={C.outline} strokeWidth={2} />\n        {/* Water inside */}\n        <ellipse cx={0} cy={-2} rx={22} ry={7} fill={C.wellWater} opacity={0.7} />\n        {/* Well posts and crossbar */}\n        <line x1={-20} y1={-6} x2={-20} y2={-55} stroke={C.rack} strokeWidth={5} />\n        <line x1={20} y1={-6} x2={20} y2={-55} stroke={C.rack} strokeWidth={5} />\n        <line x1={-24} y1={-55} x2={24} y2={-55} stroke={C.rack} strokeWidth={4} />\n        {/* Rope and bucket */}\n        <line x1={0} y1={-55} x2={0} y2={-25} stroke={C.outline} strokeWidth={1.5} opacity={0.6} />\n        <path d=\"M-6,-25 L-6,-18 L6,-18 L6,-25 Z\" fill={C.pot} stroke={C.outline} strokeWidth={1} />\n      </g>\n\n      {/* Animated crowd workers (village life) */}\n      <CrowdLayer config={CROWD_CONFIGS.workersVillage} />\n\n      {/* === STONE TABLET BOARD === */}\n      <g transform={`translate(${width / 2 - 200}, ${height * 0.82})`}>\n        <rect x={-8} y={-8} width={416} height={146} rx={4} fill={C.boardFrame} stroke={C.outline} strokeWidth={2} />\n        <rect x={0} y={0} width={400} height={130} fill={C.boardBg} />\n        {/* Hieroglyphic decorations */}\n        <text x={25} y={22} fontSize={14} fill={C.hieroglyph} opacity={0.3} fontFamily=\"serif\">\n          {'   '}\n        </text>\n        <text x={25} y={118} fontSize={14} fill={C.hieroglyph} opacity={0.3} fontFamily=\"serif\">\n          {'   '}\n        </text>\n        {boardText && (\n          <text x={200} y={75} textAnchor=\"middle\" fill={C.chalk}\n            fontSize={34} fontFamily=\"'Courier New', monospace\" fontWeight=\"bold\" opacity={0.9}>\n            {boardText}\n          </text>\n        )}\n      </g>\n\n      {/* Heat shimmer overlay */}\n      <rect x={0} y={height * 0.48} width={width} height={height * 0.12}\n        fill=\"rgba(255,200,100,0.04)\" opacity={0.5 + sineWave(frame, 0.1) * 0.3} />\n    </svg>\n  );\n};\n\n/* --- Sub-components --- */\n\nconst MudbrickBuilding: React.FC<{ x: number; y: number; w: number; h: number }> = ({ x, y, w, h }) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {/* Shadow */}\n    <rect x={6} y={6} width={w} height={h} fill={C.sandDark} opacity={0.25} rx={1} />\n    {/* Main wall */}\n    <rect x={0} y={0} width={w} height={h} fill={C.building} stroke={C.outline} strokeWidth={2} rx={1} />\n    {/* Flat roof overhang */}\n    <rect x={-4} y={-6} width={w + 8} height={8} fill={C.roofTop} stroke={C.outline} strokeWidth={1.5} />\n    {/* Shade side */}\n    <rect x={w * 0.6} y={0} width={w * 0.4} height={h} fill={C.buildingDark} opacity={0.25} />\n    {/* Door */}\n    <rect x={w * 0.15} y={h * 0.45} width={w * 0.22} height={h * 0.55}\n      fill={C.doorway} stroke={C.outline} strokeWidth={1.5} rx={2} />\n    {/* Window */}\n    <rect x={w * 0.60} y={h * 0.20} width={w * 0.18} height={w * 0.15}\n      fill={C.doorway} stroke={C.outline} strokeWidth={1.5} opacity={0.8} />\n    {/* Brick line detail */}\n    <line x1={0} y1={h * 0.33} x2={w} y2={h * 0.33} stroke={C.buildingDark} strokeWidth={0.8} opacity={0.3} />\n    <line x1={0} y1={h * 0.66} x2={w * 0.15} y2={h * 0.66} stroke={C.buildingDark} strokeWidth={0.8} opacity={0.3} />\n    <line x1={w * 0.37} y1={h * 0.66} x2={w} y2={h * 0.66} stroke={C.buildingDark} strokeWidth={0.8} opacity={0.3} />\n  </g>\n);\n\nconst ClayPot: React.FC<{ x: number; y: number; size: number }> = ({ x, y, size }) => (\n  <g transform={`translate(${x}, ${y}) scale(${size})`}>\n    <path d=\"M-8,0 Q-10,-12 -6,-18 Q0,-22 6,-18 Q10,-12 8,0 Z\"\n      fill={C.pot} stroke={C.outline} strokeWidth={1.5} />\n    <ellipse cx={0} cy={0} rx={8} ry={3} fill={C.potDark} stroke={C.outline} strokeWidth={1} />\n    <ellipse cx={0} cy={-18} rx={4} ry={2} fill={C.potDark} opacity={0.5} />\n  </g>\n);\n\nconst ClayJar: React.FC<{ x: number; y: number; size: number }> = ({ x, y, size }) => (\n  <g transform={`translate(${x}, ${y}) scale(${size})`}>\n    <path d=\"M-7,0 Q-9,-20 -5,-30 Q-3,-34 0,-35 Q3,-34 5,-30 Q9,-20 7,0 Z\"\n      fill={C.pot} stroke={C.outline} strokeWidth={1.5} />\n    <ellipse cx={0} cy={0} rx={7} ry={3} fill={C.potDark} stroke={C.outline} strokeWidth={1} />\n    {/* Narrow neck */}\n    <ellipse cx={0} cy={-35} rx={3} ry={1.5} fill={C.potDark} opacity={0.5} />\n    <rect x={-3} y={-37} width={6} height={4} fill={C.pot} stroke={C.outline} strokeWidth={1} rx={1} />\n  </g>\n);\n\nexport default WorkersVillage;\n","import React from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { sineWave } from '../animations/easing';\nimport { CrowdLayer, CROWD_CONFIGS } from '../crowds/CrowdWorkers';\n\ninterface SphinxViewProps {\n  boardText?: string;\n  width?: number;\n  height?: number;\n}\n\nconst C = {\n  skyTop: '#1E3A8A',\n  skyMid: '#4A6FB5',\n  skyBottom: '#D4A012',\n  sun: '#FFD700',\n  sunGlow: 'rgba(255,200,50,0.3)',\n  sand: '#D4A868',\n  sandDark: '#C49858',\n  sandLight: '#E4B878',\n  stone: '#C4986A',\n  stoneMid: '#B8906A',\n  stoneDark: '#A07848',\n  stoneLight: '#D4B08A',\n  nemes: '#1E3A8A',\n  nemesGold: '#D4A012',\n  kohl: '#1A1A1A',\n  pyramid: '#C4986A',\n  pyramidShade: '#A07848',\n  pyramidLine: '#B08858',\n  outline: '#1A1A1A',\n  boardBg: '#C4986A',\n  boardFrame: '#8B6B4A',\n  chalk: '#F5E8C8',\n  hieroglyph: '#8B6B4A',\n  ruins: '#B08050',\n};\n\nexport const SphinxView: React.FC<SphinxViewProps> = ({\n  boardText = '',\n  width = 1920,\n  height = 1080,\n}) => {\n  const frame = useCurrentFrame();\n  const heatShimmer = sineWave(frame, 0.15) * 2;\n  const heatShimmer2 = sineWave(frame, 0.12, 1.5) * 1.5;\n  const sunPulse = 1 + sineWave(frame, 0.05) * 0.03;\n\n  // Sand particle positions (deterministic based on frame)\n  const sandParticles = Array.from({ length: 12 }, (_, i) => {\n    const baseX = (i * 173 + 50) % width;\n    const baseY = height * 0.6 + (i * 47) % (height * 0.3);\n    const driftX = sineWave(frame, 0.08 + i * 0.01, i * 0.7) * 8;\n    const driftY = sineWave(frame, 0.06 + i * 0.015, i * 1.2) * 4;\n    return { x: baseX + driftX, y: baseY + driftY, r: 1 + (i % 3) * 0.5, o: 0.15 + (i % 4) * 0.05 };\n  });\n\n  return (\n    <svg viewBox={`0 0 ${width} ${height}`} width={width} height={height}>\n      <defs>\n        {/* Sky gradient - afternoon warmth */}\n        <linearGradient id=\"spx-sky\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.skyTop} />\n          <stop offset=\"40%\" stopColor={C.skyMid} />\n          <stop offset=\"85%\" stopColor={C.skyBottom} />\n          <stop offset=\"100%\" stopColor={C.sand} />\n        </linearGradient>\n\n        {/* Sun glow */}\n        <radialGradient id=\"spx-sun-glow\" cx=\"50%\" cy=\"50%\" r=\"50%\">\n          <stop offset=\"0%\" stopColor=\"rgba(255,215,0,0.5)\" />\n          <stop offset=\"40%\" stopColor=\"rgba(255,200,50,0.15)\" />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </radialGradient>\n\n        {/* Stone texture gradient for sphinx body */}\n        <linearGradient id=\"spx-body-grad\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.stoneLight} />\n          <stop offset=\"50%\" stopColor={C.stone} />\n          <stop offset=\"100%\" stopColor={C.stoneMid} />\n        </linearGradient>\n\n        {/* Nemes headdress stripe pattern */}\n        <pattern id=\"spx-nemes-stripes\" x=\"0\" y=\"0\" width=\"8\" height=\"8\" patternUnits=\"userSpaceOnUse\" patternTransform=\"rotate(-15)\">\n          <rect width=\"8\" height=\"8\" fill={C.nemes} />\n          <rect width=\"4\" height=\"8\" fill={C.nemesGold} />\n        </pattern>\n\n        {/* Heat shimmer filter */}\n        <filter id=\"spx-heat\">\n          <feTurbulence type=\"turbulence\" baseFrequency=\"0.01\" numOctaves=\"2\" seed={Math.floor(frame / 3)} />\n          <feDisplacementMap in=\"SourceGraphic\" scale=\"3\" />\n        </filter>\n      </defs>\n\n      {/* ========== SKY ========== */}\n      <rect x={0} y={0} width={width} height={height * 0.65} fill=\"url(#spx-sky)\" />\n\n      {/* ========== SUN ========== */}\n      <g transform={`translate(${width * 0.82}, ${height * 0.15}) scale(${sunPulse})`}>\n        <circle cx={0} cy={0} r={90} fill=\"url(#spx-sun-glow)\" />\n        <circle cx={0} cy={0} r={45} fill={C.sun} />\n        <circle cx={-10} cy={-10} r={14} fill=\"white\" opacity={0.3} />\n      </g>\n\n      {/* ========== KHAFRE'S PYRAMID (behind sphinx, right side) ========== */}\n      <g transform={`translate(${width * 0.72}, ${height * 0.56})`}>\n        <path d=\"M0,-340 L-260,0 L260,0 Z\" fill={C.pyramid} stroke={C.outline} strokeWidth={2} />\n        {/* Shadow side */}\n        <path d=\"M0,-340 L-60,0 L-260,0 Z\" fill={C.pyramidShade} opacity={0.35} />\n        {/* Stone block lines */}\n        {[-260, -190, -130, -75, -30].map((y, i) => (\n          <line key={`pbl-${i}`} x1={y * -0.72} y1={y} x2={y * 0.72} y2={y}\n            stroke={C.pyramidLine} strokeWidth={1} opacity={0.25} />\n        ))}\n      </g>\n\n      {/* ========== DESERT SAND GROUND ========== */}\n      <rect x={0} y={height * 0.56} width={width} height={height * 0.44} fill={C.sand} />\n      {/* Sand dunes */}\n      <path d={`M0,${height * 0.6} Q${width * 0.2},${height * 0.56 + heatShimmer} ${width * 0.4},${height * 0.59}\n        Q${width * 0.6},${height * 0.55 + heatShimmer2} ${width * 0.8},${height * 0.58}\n        Q${width * 0.9},${height * 0.56} ${width},${height * 0.6}\n        L${width},${height} L0,${height} Z`}\n        fill={C.sandDark} opacity={0.35} />\n      {/* Lighter sand ridge */}\n      <path d={`M0,${height * 0.63} Q${width * 0.3},${height * 0.6} ${width * 0.5},${height * 0.62}\n        Q${width * 0.7},${height * 0.59} ${width},${height * 0.63}\n        L${width},${height * 0.65} L0,${height * 0.65} Z`}\n        fill={C.sandLight} opacity={0.25} />\n\n      {/* ========== THE GREAT SPHINX (close-up, profile facing right) ========== */}\n      <g transform={`translate(${width * 0.08}, ${height * 0.32})`}>\n\n        {/* === LION BODY (lying down, paws forward) === */}\n        {/* Main body mass */}\n        <path d={`\n          M 160,180\n          Q 170,120 200,100\n          L 380,90\n          Q 430,85 450,95\n          Q 470,110 460,150\n          Q 455,180 450,200\n          L 440,260\n          Q 430,275 400,280\n          L 140,280\n          Q 120,275 120,260\n          L 130,220\n          Q 135,195 160,180\n          Z`}\n          fill=\"url(#spx-body-grad)\" stroke={C.outline} strokeWidth={2} />\n\n        {/* Body top contour - back ridge */}\n        <path d=\"M 200,100 Q 280,85 360,88 Q 420,86 450,95\"\n          fill=\"none\" stroke={C.stoneDark} strokeWidth={1.5} opacity={0.4} />\n\n        {/* Haunches (rear, slightly raised) */}\n        <path d={`\n          M 400,280\n          Q 430,270 450,240\n          Q 465,200 460,150\n          Q 458,130 450,115\n          L 455,120\n          Q 475,150 475,200\n          Q 470,260 450,285\n          Q 435,295 410,290\n          Z`}\n          fill={C.stoneMid} stroke={C.outline} strokeWidth={1.5} />\n\n        {/* Rear legs tucked under */}\n        <path d=\"M 410,280 Q 420,300 415,320 Q 410,330 395,330 L 385,320 Q 390,300 400,280\"\n          fill={C.stone} stroke={C.outline} strokeWidth={1.5} />\n        <path d=\"M 440,275 Q 450,295 445,315 Q 440,325 425,325 L 415,315 Q 420,295 430,275\"\n          fill={C.stoneMid} stroke={C.outline} strokeWidth={1.5} />\n\n        {/* Front paws extended forward */}\n        {/* Left paw (further) */}\n        <path d={`\n          M 130,260\n          L 40,275\n          Q 20,278 15,285\n          Q 10,295 20,300\n          L 80,305\n          Q 100,303 120,295\n          L 140,280\n          Z`}\n          fill={C.stoneMid} stroke={C.outline} strokeWidth={1.5} />\n        {/* Right paw (closer, overlapping) */}\n        <path d={`\n          M 145,250\n          L 50,265\n          Q 25,268 18,275\n          Q 12,285 22,292\n          L 85,296\n          Q 110,294 135,285\n          L 150,270\n          Z`}\n          fill={C.stone} stroke={C.outline} strokeWidth={2} />\n\n        {/* Paw digit lines */}\n        <line x1={45} y1={270} x2={42} y2={288} stroke={C.stoneDark} strokeWidth={1} opacity={0.3} />\n        <line x1={65} y1={268} x2={62} y2={290} stroke={C.stoneDark} strokeWidth={1} opacity={0.3} />\n        <line x1={85} y1={267} x2={83} y2={292} stroke={C.stoneDark} strokeWidth={1} opacity={0.3} />\n\n        {/* Weathered stone texture lines on body */}\n        <line x1={200} y1={130} x2={250} y2={135} stroke={C.stoneDark} strokeWidth={0.8} opacity={0.2} />\n        <line x1={280} y1={120} x2={340} y2={118} stroke={C.stoneDark} strokeWidth={0.8} opacity={0.2} />\n        <line x1={220} y1={170} x2={310} y2={168} stroke={C.stoneDark} strokeWidth={0.6} opacity={0.15} />\n        <line x1={300} y1={200} x2={380} y2={195} stroke={C.stoneDark} strokeWidth={0.6} opacity={0.15} />\n        <line x1={180} y1={240} x2={260} y2={242} stroke={C.stoneDark} strokeWidth={0.8} opacity={0.2} />\n        <line x1={320} y1={230} x2={400} y2={235} stroke={C.stoneDark} strokeWidth={0.6} opacity={0.15} />\n        {/* Crack details */}\n        <path d=\"M 350,140 L 355,160 L 348,175\" fill=\"none\" stroke={C.stoneDark} strokeWidth={0.7} opacity={0.25} />\n        <path d=\"M 230,200 L 238,215 L 232,230\" fill=\"none\" stroke={C.stoneDark} strokeWidth={0.7} opacity={0.2} />\n\n        {/* === CHEST / FRONT TORSO === */}\n        <path d={`\n          M 160,180\n          Q 150,160 155,140\n          Q 160,115 175,105\n          L 200,100\n          Q 185,110 175,130\n          Q 165,155 160,180\n          Z`}\n          fill={C.stoneMid} stroke={C.outline} strokeWidth={1.5} />\n\n        {/* === NECK === */}\n        <path d={`\n          M 175,105\n          Q 165,80 160,60\n          Q 158,45 165,30\n          L 195,15\n          Q 210,20 215,40\n          Q 218,55 215,80\n          L 200,100\n          Z`}\n          fill={C.stone} stroke={C.outline} strokeWidth={2} />\n\n        {/* === HEAD (profile facing right) === */}\n        {/* Nemes headdress - back drape */}\n        <path d={`\n          M 115,-45\n          Q 110,-20 115,10\n          Q 118,30 125,50\n          L 140,80\n          Q 148,95 165,105\n          L 175,105\n          Q 160,85 150,60\n          Q 140,30 138,0\n          Q 135,-30 140,-50\n          Z`}\n          fill=\"url(#spx-nemes-stripes)\" stroke={C.outline} strokeWidth={1.5} />\n\n        {/* Nemes headdress - top */}\n        <path d={`\n          M 130,-70\n          Q 145,-80 165,-82\n          Q 185,-80 200,-72\n          Q 210,-65 215,-55\n          L 212,-40\n          Q 200,-50 185,-55\n          Q 165,-58 145,-55\n          L 135,-50\n          Z`}\n          fill={C.nemes} stroke={C.outline} strokeWidth={2} />\n\n        {/* Nemes side panel (lappet) hanging down */}\n        <path d={`\n          M 195,-50\n          Q 205,-45 210,-35\n          Q 215,-20 218,5\n          Q 220,30 218,55\n          Q 215,70 210,80\n          L 205,85\n          Q 208,65 210,45\n          Q 212,20 210,0\n          Q 208,-20 200,-40\n          Z`}\n          fill=\"url(#spx-nemes-stripes)\" stroke={C.outline} strokeWidth={1.5} />\n\n        {/* Gold nemes band across forehead */}\n        <path d=\"M 135,-52 Q 165,-60 195,-52 Q 208,-47 215,-40\"\n          fill=\"none\" stroke={C.nemesGold} strokeWidth={4} />\n        <path d=\"M 135,-52 Q 165,-60 195,-52 Q 208,-47 215,-40\"\n          fill=\"none\" stroke={C.outline} strokeWidth={1} opacity={0.3} />\n\n        {/* Face shape */}\n        <path d={`\n          M 155,-45\n          Q 160,-50 170,-52\n          Q 185,-52 195,-45\n          Q 205,-38 210,-25\n          Q 215,-10 215,5\n          L 210,20\n          Q 205,32 195,38\n          Q 185,42 178,40\n          L 170,35\n          Q 165,30 162,20\n          Q 158,10 155,0\n          Q 152,-15 153,-30\n          Q 154,-40 155,-45\n          Z`}\n          fill={C.stoneLight} stroke={C.outline} strokeWidth={2} />\n\n        {/* Chin / jaw line */}\n        <path d=\"M 178,40 Q 185,45 195,38\" fill=\"none\" stroke={C.stoneDark} strokeWidth={1} opacity={0.4} />\n\n        {/* Flat nose area (missing nose - historically accurate) */}\n        <path d={`\n          M 205,-15\n          L 210,-8\n          L 210,5\n          L 205,10\n          L 200,5\n          L 200,-10\n          Z`}\n          fill={C.stoneMid} stroke={C.stoneDark} strokeWidth={1.5} />\n        {/* Erosion marks where nose was */}\n        <line x1={203} y1={-8} x2={207} y2={-5} stroke={C.stoneDark} strokeWidth={0.7} opacity={0.4} />\n        <line x1={202} y1={0} x2={208} y2={2} stroke={C.stoneDark} strokeWidth={0.7} opacity={0.3} />\n\n        {/* Eye - kohl-lined, iconic */}\n        <g transform=\"translate(185, -28)\">\n          {/* Kohl outline */}\n          <path d=\"M -10,0 Q -5,-8 5,-8 Q 12,-6 15,-2 Q 12,4 5,6 Q -5,5 -10,0 Z\"\n            fill=\"white\" stroke={C.kohl} strokeWidth={2} />\n          {/* Extended kohl line (Egyptian style) */}\n          <line x1={15} y1={-2} x2={25} y2={-5} stroke={C.kohl} strokeWidth={2} />\n          {/* Iris */}\n          <circle cx={4} cy={-1} r={4} fill=\"#4A3520\" />\n          {/* Pupil */}\n          <circle cx={5} cy={-1} r={2} fill={C.kohl} />\n          {/* Eye highlight */}\n          <circle cx={3} cy={-3} r={1} fill=\"white\" opacity={0.6} />\n          {/* Lower kohl line */}\n          <path d=\"M -8,2 Q 0,7 12,4\" fill=\"none\" stroke={C.kohl} strokeWidth={1.5} opacity={0.6} />\n        </g>\n\n        {/* Eyebrow */}\n        <path d=\"M 172,-38 Q 185,-44 205,-38\" fill=\"none\" stroke={C.stoneDark} strokeWidth={2} opacity={0.5} />\n\n        {/* Mouth - serene, slight smile */}\n        <path d=\"M 192,18 Q 200,22 208,20\" fill=\"none\" stroke={C.stoneDark} strokeWidth={2} />\n        {/* Upper lip line */}\n        <path d=\"M 192,16 Q 198,14 204,16 Q 208,17 210,18\" fill=\"none\" stroke={C.stoneDark} strokeWidth={1} opacity={0.4} />\n\n        {/* Ear (visible in profile, partly behind nemes) */}\n        <ellipse cx={152} cy={-15} rx={5} ry={12} fill={C.stoneLight} stroke={C.outline} strokeWidth={1.5} />\n\n        {/* Uraeus (cobra) on forehead */}\n        <g transform=\"translate(195, -58)\">\n          <path d=\"M 0,0 Q 2,-12 0,-18 Q -2,-22 -5,-20 Q -7,-16 -4,-12 Q -1,-8 0,0\"\n            fill={C.nemesGold} stroke={C.outline} strokeWidth={1} />\n          {/* Cobra hood */}\n          <ellipse cx={-3} cy={-20} rx={4} ry={3} fill={C.nemesGold} stroke={C.outline} strokeWidth={1} />\n          <circle cx={-4} cy={-21} r={1} fill={C.kohl} />\n        </g>\n\n        {/* Weathering on face */}\n        <path d=\"M 170,-10 L 175,-5\" fill=\"none\" stroke={C.stoneDark} strokeWidth={0.5} opacity={0.3} />\n        <path d=\"M 190,10 L 195,15\" fill=\"none\" stroke={C.stoneDark} strokeWidth={0.5} opacity={0.25} />\n\n        {/* Beard remnant (broken off but stub visible) */}\n        <path d={`\n          M 185,42\n          Q 188,52 186,60\n          Q 184,65 180,62\n          Q 178,55 180,45\n          Z`}\n          fill={C.stoneMid} stroke={C.outline} strokeWidth={1} opacity={0.6} />\n      </g>\n\n      {/* ========== SCATTERED STONE RUINS / BLOCKS ========== */}\n      {/* Blocks near sphinx base */}\n      <rect x={width * 0.06} y={height * 0.68} width={30} height={20} rx={2}\n        fill={C.ruins} stroke={C.outline} strokeWidth={1} opacity={0.6}\n        transform={`rotate(-5, ${width * 0.06}, ${height * 0.68})`} />\n      <rect x={width * 0.18} y={height * 0.7} width={25} height={18} rx={2}\n        fill={C.stoneMid} stroke={C.outline} strokeWidth={1} opacity={0.5}\n        transform={`rotate(8, ${width * 0.18}, ${height * 0.7})`} />\n      <rect x={width * 0.35} y={height * 0.66} width={35} height={22} rx={2}\n        fill={C.ruins} stroke={C.outline} strokeWidth={1} opacity={0.55}\n        transform={`rotate(-3, ${width * 0.35}, ${height * 0.66})`} />\n      {/* Distant small blocks */}\n      <rect x={width * 0.55} y={height * 0.62} width={20} height={14} rx={1}\n        fill={C.stoneMid} stroke={C.outline} strokeWidth={1} opacity={0.4} />\n      <rect x={width * 0.6} y={height * 0.63} width={16} height={12} rx={1}\n        fill={C.ruins} stroke={C.outline} strokeWidth={1} opacity={0.35}\n        transform={`rotate(12, ${width * 0.6}, ${height * 0.63})`} />\n      <rect x={width * 0.48} y={height * 0.67} width={22} height={15} rx={2}\n        fill={C.stone} stroke={C.outline} strokeWidth={1} opacity={0.45}\n        transform={`rotate(-7, ${width * 0.48}, ${height * 0.67})`} />\n\n      {/* Animated crowd figures near sphinx */}\n      <CrowdLayer config={CROWD_CONFIGS.sphinxView} />\n\n      {/* ========== HEAT SHIMMER EFFECT ========== */}\n      <rect x={0} y={height * 0.5} width={width} height={height * 0.12}\n        fill=\"rgba(255,200,100,0.04)\"\n        opacity={0.5 + sineWave(frame, 0.1) * 0.3}\n        filter=\"url(#spx-heat)\" />\n      {/* Secondary shimmer band */}\n      <rect x={0} y={height * 0.55} width={width} height={height * 0.06}\n        fill=\"rgba(255,220,130,0.03)\"\n        opacity={0.3 + sineWave(frame, 0.13, 1.0) * 0.2} />\n\n      {/* ========== SAND PARTICLES (animated) ========== */}\n      {sandParticles.map((p, i) => (\n        <circle key={`sp-${i}`} cx={p.x} cy={p.y} r={p.r}\n          fill={C.sandLight} opacity={p.o} />\n      ))}\n\n      {/* ========== STONE TABLET BOARD ========== */}\n      <g transform={`translate(${width * 0.62}, ${height * 0.72})`}>\n        {/* Outer frame */}\n        <rect x={-8} y={-8} width={416} height={176} rx={4}\n          fill={C.boardFrame} stroke={C.outline} strokeWidth={2} />\n        {/* Inner stone surface */}\n        <rect x={0} y={0} width={400} height={160} fill={C.boardBg} />\n        {/* Carved border decoration */}\n        <rect x={4} y={4} width={392} height={152} rx={2}\n          fill=\"none\" stroke={C.boardFrame} strokeWidth={1.5} opacity={0.5} />\n        {/* Hieroglyphic decorations */}\n        <text x={30} y={28} fontSize={16} fill={C.hieroglyph} opacity={0.3} fontFamily=\"serif\">\n             \n        </text>\n        <text x={30} y={145} fontSize={16} fill={C.hieroglyph} opacity={0.3} fontFamily=\"serif\">\n             \n        </text>\n        {/* Board text */}\n        {boardText && (\n          <text x={200} y={95} textAnchor=\"middle\" fill={C.chalk}\n            fontSize={36} fontFamily=\"'Courier New', monospace\" fontWeight=\"bold\" opacity={0.9}>\n            {boardText}\n          </text>\n        )}\n      </g>\n    </svg>\n  );\n};\n\nexport default SphinxView;\n","// Music and Sound Effects system\n// Provides background music and sound effect layering for videos.\n// Audio files are referenced from public/ directory.\n\nimport React from 'react';\nimport { Audio, Sequence, useCurrentFrame, interpolate } from 'remotion';\n\n// ---- Types ----\n\nexport interface MusicTrack {\n  /** Path to audio file relative to public/ */\n  src: string;\n  /** Volume 0-1 */\n  volume?: number;\n  /** Start frame (default: 0) */\n  startFrame?: number;\n  /** End frame (default: end of composition) */\n  endFrame?: number;\n  /** Fade in duration in frames */\n  fadeIn?: number;\n  /** Fade out duration in frames */\n  fadeOut?: number;\n  /** Loop the track */\n  loop?: boolean;\n}\n\nexport interface SoundEffect {\n  /** Path to SFX file relative to public/ */\n  src: string;\n  /** Frame to trigger the sound */\n  triggerFrame: number;\n  /** Volume 0-1 */\n  volume?: number;\n}\n\n// ---- Pre-defined SFX types (for future asset mapping) ----\n\nexport type SFXType =\n  | 'whoosh'      // Transition sounds\n  | 'pop'         // Overlay appear\n  | 'ding'        // Revelation moment\n  | 'chalkWrite'  // Chalkboard text appearing\n  | 'glassClink'  // Cheers gesture\n  | 'pageTurn'    // Topic change\n  | 'crowd';      // Background pub ambience\n\nexport const SFX_PATHS: Record<SFXType, string> = {\n  whoosh: 'sfx/whoosh.mp3',\n  pop: 'sfx/pop.mp3',\n  ding: 'sfx/ding.mp3',\n  chalkWrite: 'sfx/chalk-write.mp3',\n  glassClink: 'sfx/glass-clink.mp3',\n  pageTurn: 'sfx/page-turn.mp3',\n  crowd: 'sfx/crowd-ambience.mp3',\n};\n\n// ---- Music Player Component ----\n\ninterface MusicPlayerProps {\n  tracks: MusicTrack[];\n}\n\nexport const MusicPlayer: React.FC<MusicPlayerProps> = ({ tracks }) => {\n  return (\n    <>\n      {tracks.map((track, i) => (\n        <MusicTrackPlayer key={`music-${i}`} track={track} />\n      ))}\n    </>\n  );\n};\n\nconst MusicTrackPlayer: React.FC<{ track: MusicTrack }> = ({ track }) => {\n  const frame = useCurrentFrame();\n  const {\n    src,\n    volume = 0.3,\n    startFrame = 0,\n    endFrame,\n    fadeIn = 30,\n    fadeOut = 30,\n  } = track;\n\n  // Calculate volume with fade in/out\n  const fadeInEnd = startFrame + fadeIn;\n  const fadeOutStart = endFrame ? endFrame - fadeOut : Infinity;\n\n  let currentVolume = volume;\n\n  // Fade in\n  if (frame < fadeInEnd) {\n    currentVolume = interpolate(\n      frame,\n      [startFrame, fadeInEnd],\n      [0, volume],\n      { extrapolateLeft: 'clamp', extrapolateRight: 'clamp' },\n    );\n  }\n\n  // Fade out\n  if (endFrame && frame > fadeOutStart) {\n    currentVolume = interpolate(\n      frame,\n      [fadeOutStart, endFrame],\n      [volume, 0],\n      { extrapolateLeft: 'clamp', extrapolateRight: 'clamp' },\n    );\n  }\n\n  return (\n    <Sequence from={startFrame}>\n      <Audio\n        src={src}\n        volume={currentVolume}\n        loop={track.loop}\n      />\n    </Sequence>\n  );\n};\n\n// ---- SFX Player Component ----\n\ninterface SFXPlayerProps {\n  effects: SoundEffect[];\n}\n\nexport const SFXPlayer: React.FC<SFXPlayerProps> = ({ effects }) => {\n  return (\n    <>\n      {effects.map((sfx, i) => (\n        <Sequence key={`sfx-${i}`} from={sfx.triggerFrame}>\n          <Audio\n            src={sfx.src}\n            volume={sfx.volume ?? 0.5}\n          />\n        </Sequence>\n      ))}\n    </>\n  );\n};\n\n// ---- Helper: generate SFX from scene transitions ----\n\nexport const generateTransitionSFX = (\n  scenes: Array<{ start: number; transition?: { type: string } }>,\n): SoundEffect[] => {\n  const effects: SoundEffect[] = [];\n\n  for (const scene of scenes) {\n    if (!scene.transition || scene.transition.type === 'none') continue;\n\n    // Add whoosh for transitions\n    effects.push({\n      src: SFX_PATHS.whoosh,\n      triggerFrame: scene.start,\n      volume: 0.25,\n    });\n  }\n\n  return effects;\n};\n\n// ---- Helper: generate SFX from overlays ----\n\nexport const generateOverlaySFX = (\n  overlays: Array<{ startFrame: number; type: string }>,\n): SoundEffect[] => {\n  return overlays.map((overlay) => ({\n    src: SFX_PATHS.pop,\n    triggerFrame: overlay.startFrame,\n    volume: 0.2,\n  }));\n};\n","import React from 'react';\nimport { AbsoluteFill, Sequence, useCurrentFrame } from 'remotion';\nimport { Camera } from './Camera';\nimport { CameraPath } from './CameraPath';\nimport type { CameraPathData } from './CameraPath';\nimport { Subtitles } from './Subtitles';\nimport { Transition, getTransitionProgress } from './Transitions';\nimport type { TransitionType } from './Transitions';\nimport { AudioPlayer, isTalkingAtFrame } from './AudioSync';\nimport type { AudioSegment } from './AudioSync';\nimport { OverlayRenderer } from './Overlays';\nimport type { OverlayData } from './Overlays';\nimport { ProfessorPint } from '../characters/ProfessorPint';\nimport { AverageJoe } from '../characters/AverageJoe';\nimport { Pharaoh } from '../characters/Pharaoh';\nimport { Worker } from '../characters/Worker';\nimport { Pub } from '../backgrounds/Pub';\nimport { Classroom } from '../backgrounds/Classroom';\nimport { Pyramids } from '../backgrounds/Pyramids';\nimport { DesertConstruction } from '../backgrounds/DesertConstruction';\nimport { InsidePyramid } from '../backgrounds/InsidePyramid';\nimport { NileRiver } from '../backgrounds/NileRiver';\nimport { WorkersVillage } from '../backgrounds/WorkersVillage';\nimport { SphinxView } from '../backgrounds/SphinxView';\nimport type { Emotion } from '../animations/emotions';\nimport { MusicPlayer, SFXPlayer } from './MusicSFX';\nimport type { MusicTrack, SoundEffect } from './MusicSFX';\n\n// ---- Scene JSON Types ----\n\nexport interface SceneCamera {\n  x: number;\n  y: number;\n  zoom: number;\n}\n\nexport interface SceneCharacter {\n  id: string;\n  x: number;\n  y: number;\n  scale?: number;\n  emotion: Emotion;\n  talking: boolean;\n  gesture?: string;\n}\n\nexport interface SceneTransition {\n  type: TransitionType;\n  duration: number;\n}\n\nexport interface SceneData {\n  id: string;\n  start: number;\n  end: number;\n  bg: string;\n  boardText?: string;\n  camera?: SceneCamera;\n  /** Camera path with keyframes for dynamic movement within scene */\n  cameraPath?: CameraPathData;\n  characters: SceneCharacter[];\n  subtitle: string;\n  transition?: SceneTransition;\n  overlays?: OverlayData[];\n}\n\n// ---- Helper: find scene at frame ----\n\nconst findSceneAtFrame = (scenes: SceneData[], frame: number): SceneData | null => {\n  for (let i = scenes.length - 1; i >= 0; i--) {\n    if (frame >= scenes[i].start && frame < scenes[i].end) {\n      return scenes[i];\n    }\n  }\n  return null;\n};\n\nconst findSceneIndex = (scenes: SceneData[], scene: SceneData): number => {\n  return scenes.findIndex((s) => s.id === scene.id);\n};\n\n// ---- Background Renderer ----\n\nconst renderBackground = (bg: string, boardText: string): React.ReactNode => {\n  switch (bg) {\n    case 'pub':\n      return <Pub boardText={boardText} width={1920} height={1080} />;\n    case 'classroom':\n      return <Classroom boardText={boardText} width={1920} height={1080} />;\n    case 'pyramids':\n      return <Pyramids boardText={boardText} width={1920} height={1080} />;\n    case 'desertConstruction':\n      return <DesertConstruction boardText={boardText} width={1920} height={1080} />;\n    case 'insidePyramid':\n      return <InsidePyramid boardText={boardText} width={1920} height={1080} />;\n    case 'nileRiver':\n      return <NileRiver boardText={boardText} width={1920} height={1080} />;\n    case 'workersVillage':\n      return <WorkersVillage boardText={boardText} width={1920} height={1080} />;\n    case 'sphinxView':\n      return <SphinxView boardText={boardText} width={1920} height={1080} />;\n    default:\n      // Fallback: solid color with label\n      return (\n        <AbsoluteFill style={{ backgroundColor: '#2A2A2A' }}>\n          <div\n            style={{\n              position: 'absolute',\n              top: '50%',\n              left: '50%',\n              transform: 'translate(-50%, -50%)',\n              color: 'rgba(255,255,255,0.2)',\n              fontSize: 24,\n              fontFamily: 'monospace',\n            }}\n          >\n            BG: {bg}\n          </div>\n        </AbsoluteFill>\n      );\n  }\n};\n\n// ---- Character Renderer ----\n\nconst renderCharacter = (\n  char: SceneCharacter,\n  previousEmotion: Emotion,\n  emotionProgress: number,\n): React.ReactNode => {\n  const charScale = char.scale ?? 2;\n\n  switch (char.id) {\n    case 'professorPint':\n      return (\n        <div\n          key={char.id}\n          style={{\n            position: 'absolute',\n            left: char.x - 130 * charScale,\n            top: char.y - 90 * charScale,\n            transform: `scale(${charScale})`,\n            transformOrigin: 'center top',\n          }}\n        >\n          <ProfessorPint\n            emotion={char.emotion}\n            previousEmotion={previousEmotion}\n            emotionTransitionProgress={emotionProgress}\n            talking={char.talking}\n            scale={1}\n          />\n        </div>\n      );\n    case 'averageJoe':\n      return (\n        <div\n          key={char.id}\n          style={{\n            position: 'absolute',\n            left: char.x - 130 * charScale,\n            top: char.y - 85 * charScale,\n            transform: `scale(${charScale})`,\n            transformOrigin: 'center top',\n          }}\n        >\n          <AverageJoe\n            emotion={char.emotion}\n            previousEmotion={previousEmotion}\n            emotionTransitionProgress={emotionProgress}\n            talking={char.talking}\n            scale={1}\n          />\n        </div>\n      );\n    case 'pharaoh':\n      return (\n        <div\n          key={char.id}\n          style={{\n            position: 'absolute',\n            left: char.x - 130 * charScale,\n            top: char.y - 100 * charScale,\n            transform: `scale(${charScale})`,\n            transformOrigin: 'center top',\n          }}\n        >\n          <Pharaoh\n            emotion={char.emotion}\n            previousEmotion={previousEmotion}\n            emotionTransitionProgress={emotionProgress}\n            talking={char.talking}\n            scale={1}\n          />\n        </div>\n      );\n    case 'worker':\n      return (\n        <div\n          key={char.id}\n          style={{\n            position: 'absolute',\n            left: char.x - 130 * charScale,\n            top: char.y - 90 * charScale,\n            transform: `scale(${charScale})`,\n            transformOrigin: 'center top',\n          }}\n        >\n          <Worker\n            emotion={char.emotion}\n            previousEmotion={previousEmotion}\n            emotionTransitionProgress={emotionProgress}\n            talking={char.talking}\n            scale={1}\n          />\n        </div>\n      );\n    default:\n      // Placeholder for unregistered characters\n      return (\n        <div\n          key={char.id}\n          style={{\n            position: 'absolute',\n            left: char.x - 30,\n            top: char.y - 40,\n            width: 60,\n            height: 80,\n            backgroundColor: 'rgba(255,100,100,0.3)',\n            border: '2px dashed rgba(255,100,100,0.6)',\n            borderRadius: 8,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            color: 'rgba(255,255,255,0.5)',\n            fontSize: 10,\n            fontFamily: 'monospace',\n          }}\n        >\n          {char.id}\n        </div>\n      );\n  }\n};\n\n// ---- Main SceneRenderer ----\n\ninterface SceneRendererProps {\n  scenes: SceneData[];\n  /** Audio segments for lip sync (from ElevenLabsTTS) */\n  audioSegments?: AudioSegment[];\n  /** Global overlays (shown across all scenes) */\n  globalOverlays?: OverlayData[];\n  /** Background music tracks */\n  musicTracks?: MusicTrack[];\n  /** Sound effects */\n  soundEffects?: SoundEffect[];\n  showDebug?: boolean;\n}\n\nexport const SceneRenderer: React.FC<SceneRendererProps> = ({\n  scenes,\n  audioSegments = [],\n  globalOverlays = [],\n  musicTracks = [],\n  soundEffects = [],\n  showDebug = false,\n}) => {\n  const frame = useCurrentFrame();\n\n  const currentScene = findSceneAtFrame(scenes, frame);\n  if (!currentScene) {\n    return <AbsoluteFill style={{ backgroundColor: '#1A1A1A' }} />;\n  }\n\n  const sceneIndex = findSceneIndex(scenes, currentScene);\n  const previousScene = sceneIndex > 0 ? scenes[sceneIndex - 1] : null;\n\n  // Emotion transition progress (10 frames from scene start)\n  const framesIntoScene = frame - currentScene.start;\n  const emotionProgress = Math.min(1, framesIntoScene / 10);\n\n  // Camera: current + previous for smooth transition\n  const cam = currentScene.camera ?? { x: 0, y: 0, zoom: 1 };\n  const prevCam = previousScene?.camera ?? { x: 0, y: 0, zoom: 1 };\n\n  // Transition\n  const transition = currentScene.transition ?? { type: 'none' as TransitionType, duration: 0 };\n  const transitionProgress = transition.type !== 'none'\n    ? getTransitionProgress(frame, currentScene.start, transition.duration)\n    : 1;\n\n  // Audio-driven talking: if audio segments exist, override scene talking state\n  const resolveCharacterTalking = (char: SceneCharacter): boolean => {\n    if (audioSegments.length > 0) {\n      return isTalkingAtFrame(audioSegments, char.id, frame);\n    }\n    return char.talking;\n  };\n\n  // Character positions for camera tracking\n  const characterPositions = currentScene.characters.map(c => ({\n    id: c.id, x: c.x, y: c.y,\n  }));\n\n  // Scene content (background + characters)\n  const sceneInner = (\n    <>\n      {/* Background */}\n      <AbsoluteFill>\n        {renderBackground(currentScene.bg, currentScene.boardText ?? '')}\n      </AbsoluteFill>\n\n      {/* Characters */}\n      {currentScene.characters.map((char) => {\n        const prevChar = previousScene?.characters.find((c) => c.id === char.id);\n        const prevEmotion: Emotion = prevChar?.emotion ?? char.emotion;\n        const talkingChar = { ...char, talking: resolveCharacterTalking(char) };\n        return renderCharacter(talkingChar, prevEmotion, emotionProgress);\n      })}\n    </>\n  );\n\n  // Build scene content: use CameraPath if available, otherwise fallback to Camera\n  const sceneContent = currentScene.cameraPath ? (\n    <CameraPath\n      path={currentScene.cameraPath}\n      x={cam.x}\n      y={cam.y}\n      zoom={cam.zoom}\n      sceneStart={currentScene.start}\n      sceneEnd={currentScene.end}\n      previousX={prevCam.x}\n      previousY={prevCam.y}\n      previousZoom={prevCam.zoom}\n      characterPositions={characterPositions}\n      width={1920}\n      height={1080}\n    >\n      {sceneInner}\n    </CameraPath>\n  ) : (\n    <Camera\n      x={cam.x}\n      y={cam.y}\n      zoom={cam.zoom}\n      previousX={prevCam.x}\n      previousY={prevCam.y}\n      previousZoom={prevCam.zoom}\n      startFrame={currentScene.start}\n      transitionDuration={28}\n      width={1920}\n      height={1080}\n    >\n      {sceneInner}\n    </Camera>\n  );\n\n  return (\n    <AbsoluteFill style={{ backgroundColor: '#1A1A1A' }}>\n      {/* Background music */}\n      {musicTracks.length > 0 && <MusicPlayer tracks={musicTracks} />}\n\n      {/* Sound effects */}\n      {soundEffects.length > 0 && <SFXPlayer effects={soundEffects} />}\n\n      {/* Audio playback */}\n      {audioSegments.length > 0 && audioSegments.map((seg, i) => (\n        <Sequence key={`audio-seq-${i}`} from={seg.startFrame}>\n          <AudioPlayer segments={[seg]} volume={1} />\n        </Sequence>\n      ))}\n\n      {/* Apply transition to scene content */}\n      {transition.type !== 'none' && transitionProgress < 1 ? (\n        <Transition type={transition.type} progress={transitionProgress}>\n          {sceneContent}\n        </Transition>\n      ) : (\n        sceneContent\n      )}\n\n      {/* Overlays (data cards, charts, etc.) */}\n      {currentScene.overlays && currentScene.overlays.length > 0 && (\n        <OverlayRenderer overlays={currentScene.overlays} />\n      )}\n      {globalOverlays.length > 0 && (\n        <OverlayRenderer overlays={globalOverlays} />\n      )}\n\n      {/* Subtitles (outside camera/transition so they stay stable) */}\n      <Subtitles\n        text={currentScene.subtitle}\n        startFrame={currentScene.start + 5}\n        endFrame={currentScene.end - 5}\n      />\n\n      {/* Debug overlay */}\n      {showDebug && (\n        <div\n          style={{\n            position: 'absolute',\n            top: 20,\n            right: 20,\n            color: 'rgba(255,255,255,0.3)',\n            fontSize: 14,\n            fontFamily: 'monospace',\n            textAlign: 'right',\n            lineHeight: 1.6,\n          }}\n        >\n          Scene {sceneIndex + 1}/{scenes.length} [{currentScene.id}]\n          <br />\n          Frame {frame} | {currentScene.start}-{currentScene.end}\n          <br />\n          {currentScene.characters.map((c) => {\n            const talking = resolveCharacterTalking(c);\n            return `${c.id}: ${c.emotion}${talking ? ' (talking)' : ''}`;\n          }).join(' | ')}\n          {audioSegments.length > 0 && (\n            <>\n              <br />\n              Audio: {audioSegments.length} segments\n            </>\n          )}\n        </div>\n      )}\n    </AbsoluteFill>\n  );\n};\n","import React from 'react';\nimport { SceneRenderer } from '../systems/SceneRenderer';\nimport type { SceneData } from '../systems/SceneRenderer';\n\n// Demo: 20 seconds at 30fps = 600 frames\n// Showcases: SceneRenderer, camera moves, transitions, emotion changes, talking\n\nconst DEMO_SCENES: SceneData[] = [\n  {\n    id: 'intro',\n    start: 0,\n    end: 120,\n    bg: 'pub',\n    boardText: \"TODAY'S TOPIC\",\n    camera: { x: 0, y: -50, zoom: 1.1 },\n    characters: [\n      {\n        id: 'professorPint',\n        x: 960,\n        y: 420,\n        scale: 2,\n        emotion: 'neutral',\n        talking: false,\n      },\n    ],\n    subtitle: '',\n    transition: { type: 'crossfade', duration: 20 },\n  },\n  {\n    id: 'welcome',\n    start: 120,\n    end: 240,\n    bg: 'pub',\n    boardText: \"TODAY'S TOPIC\",\n    camera: { x: 50, y: 0, zoom: 1.3 },\n    characters: [\n      {\n        id: 'professorPint',\n        x: 960,\n        y: 420,\n        scale: 2,\n        emotion: 'happy',\n        talking: true,\n      },\n    ],\n    subtitle: 'Welcome to the pub! Pull up a stool.',\n    transition: { type: 'crossfade', duration: 15 },\n  },\n  {\n    id: 'question',\n    start: 240,\n    end: 360,\n    bg: 'pub',\n    boardText: \"WHY YOU'RE BROKE\",\n    camera: { x: -30, y: 20, zoom: 1.15 },\n    characters: [\n      {\n        id: 'professorPint',\n        x: 960,\n        y: 420,\n        scale: 2,\n        emotion: 'thinking',\n        talking: true,\n      },\n    ],\n    subtitle: 'Ever wondered why your brain lies to you about money?',\n    transition: { type: 'wipe', duration: 18 },\n  },\n  {\n    id: 'revelation',\n    start: 360,\n    end: 480,\n    bg: 'pub',\n    boardText: 'INFLATION = -3%/yr',\n    camera: { x: 0, y: -20, zoom: 1.5 },\n    characters: [\n      {\n        id: 'professorPint',\n        x: 960,\n        y: 420,\n        scale: 2,\n        emotion: 'shocked',\n        talking: true,\n      },\n    ],\n    subtitle: 'Your savings account is losing value every single day!',\n    transition: { type: 'zoomIn', duration: 15 },\n  },\n  {\n    id: 'anger',\n    start: 480,\n    end: 540,\n    bg: 'pub',\n    boardText: 'THE TRUTH',\n    camera: { x: 60, y: 10, zoom: 1.6 },\n    characters: [\n      {\n        id: 'professorPint',\n        x: 960,\n        y: 420,\n        scale: 2,\n        emotion: 'angry',\n        talking: true,\n      },\n    ],\n    subtitle: \"And nobody told you. That's the real scandal.\",\n    transition: { type: 'slide', duration: 15 },\n  },\n  {\n    id: 'outro',\n    start: 540,\n    end: 600,\n    bg: 'pub',\n    boardText: 'PROFESSOR PINT',\n    camera: { x: 0, y: 0, zoom: 1 },\n    characters: [\n      {\n        id: 'professorPint',\n        x: 960,\n        y: 420,\n        scale: 2,\n        emotion: 'happy',\n        talking: false,\n      },\n    ],\n    subtitle: \"But don't worry. That's what I'm here for.\",\n    transition: { type: 'iris', duration: 20 },\n  },\n];\n\nexport const DemoVideo: React.FC = () => {\n  return <SceneRenderer scenes={DEMO_SCENES} showDebug />;\n};\n\nexport default DemoVideo;\n","import React from 'react';\nimport { SceneRenderer } from '../systems/SceneRenderer';\nimport type { SceneData } from '../systems/SceneRenderer';\n\n// DialogueDemo: 30 seconds at 30fps = 900 frames\n// Showcases: two characters, shot-reverse-shot camera, classroom BG, emotion interplay\n\nconst DIALOGUE_SCENES: SceneData[] = [\n  {\n    id: 'classroom-intro',\n    start: 0,\n    end: 90,\n    bg: 'classroom',\n    boardText: \"COMPOUND INTEREST\",\n    camera: { x: 0, y: -30, zoom: 1 },\n    characters: [\n      {\n        id: 'professorPint',\n        x: 650,\n        y: 420,\n        scale: 1.8,\n        emotion: 'neutral',\n        talking: false,\n      },\n      {\n        id: 'averageJoe',\n        x: 1270,\n        y: 440,\n        scale: 1.8,\n        emotion: 'neutral',\n        talking: false,\n      },\n    ],\n    subtitle: '',\n    transition: { type: 'crossfade', duration: 20 },\n  },\n  {\n    id: 'professor-greeting',\n    start: 90,\n    end: 210,\n    bg: 'classroom',\n    boardText: \"COMPOUND INTEREST\",\n    camera: { x: -80, y: 0, zoom: 1.3 },\n    characters: [\n      {\n        id: 'professorPint',\n        x: 650,\n        y: 420,\n        scale: 1.8,\n        emotion: 'happy',\n        talking: true,\n      },\n      {\n        id: 'averageJoe',\n        x: 1270,\n        y: 440,\n        scale: 1.8,\n        emotion: 'neutral',\n        talking: false,\n      },\n    ],\n    subtitle: 'Alright Joe, today I\\'m going to blow your mind with compound interest.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'joe-confused',\n    start: 210,\n    end: 330,\n    bg: 'classroom',\n    boardText: \"COMPOUND INTEREST\",\n    camera: { x: 80, y: 0, zoom: 1.3 },\n    characters: [\n      {\n        id: 'professorPint',\n        x: 650,\n        y: 420,\n        scale: 1.8,\n        emotion: 'neutral',\n        talking: false,\n      },\n      {\n        id: 'averageJoe',\n        x: 1270,\n        y: 440,\n        scale: 1.8,\n        emotion: 'thinking',\n        talking: true,\n      },\n    ],\n    subtitle: 'Compound what now? Is that like... double interest?',\n    transition: { type: 'wipe', duration: 15 },\n  },\n  {\n    id: 'professor-explains',\n    start: 330,\n    end: 510,\n    bg: 'classroom',\n    boardText: \"INTEREST ON INTEREST\",\n    camera: { x: -60, y: -20, zoom: 1.25 },\n    characters: [\n      {\n        id: 'professorPint',\n        x: 650,\n        y: 420,\n        scale: 1.8,\n        emotion: 'happy',\n        talking: true,\n        gesture: 'explain',\n      },\n      {\n        id: 'averageJoe',\n        x: 1270,\n        y: 440,\n        scale: 1.8,\n        emotion: 'neutral',\n        talking: false,\n      },\n    ],\n    subtitle: 'Even better! It\\'s interest earning interest. Your money makes money, which makes more money.',\n    transition: { type: 'crossfade', duration: 12 },\n    overlays: [\n      {\n        type: 'statCard',\n        startFrame: 360,\n        endFrame: 490,\n        props: {\n          value: '100',\n          label: 'becomes 265 in 20 years at 5%',\n          position: 'right',\n          color: '#2D5016',\n        },\n      },\n    ],\n  },\n  {\n    id: 'joe-shocked',\n    start: 510,\n    end: 630,\n    bg: 'classroom',\n    boardText: \"INTEREST ON INTEREST\",\n    camera: { x: 60, y: 10, zoom: 1.4 },\n    characters: [\n      {\n        id: 'professorPint',\n        x: 650,\n        y: 420,\n        scale: 1.8,\n        emotion: 'happy',\n        talking: false,\n      },\n      {\n        id: 'averageJoe',\n        x: 1270,\n        y: 440,\n        scale: 1.8,\n        emotion: 'shocked',\n        talking: true,\n      },\n    ],\n    subtitle: 'Wait, 100 becomes 265?! Why did nobody tell me this sooner?',\n    transition: { type: 'zoomIn', duration: 12 },\n  },\n  {\n    id: 'professor-revelation',\n    start: 630,\n    end: 780,\n    bg: 'classroom',\n    boardText: \"START EARLY!\",\n    camera: { x: -40, y: -10, zoom: 1.5 },\n    characters: [\n      {\n        id: 'professorPint',\n        x: 650,\n        y: 420,\n        scale: 1.8,\n        emotion: 'shocked',\n        talking: true,\n        gesture: 'point',\n      },\n      {\n        id: 'averageJoe',\n        x: 1270,\n        y: 440,\n        scale: 1.8,\n        emotion: 'shocked',\n        talking: false,\n      },\n    ],\n    subtitle: 'That\\'s the scandal! Nobody teaches this in school. The earlier you start, the richer you get.',\n    transition: { type: 'slide', duration: 15 },\n    overlays: [\n      {\n        type: 'barChart',\n        startFrame: 660,\n        endFrame: 770,\n        props: {\n          title: 'Starting at age...',\n          bars: [\n            { label: '20', value: 265, color: '#2D5016' },\n            { label: '30', value: 163, color: '#D4A012' },\n            { label: '40', value: 100, color: '#FF6B35' },\n          ],\n          position: 'right',\n        },\n      },\n    ],\n  },\n  {\n    id: 'both-happy',\n    start: 780,\n    end: 900,\n    bg: 'pub',\n    boardText: \"CHEERS!\",\n    camera: { x: 0, y: 0, zoom: 1.1 },\n    characters: [\n      {\n        id: 'professorPint',\n        x: 650,\n        y: 420,\n        scale: 1.8,\n        emotion: 'happy',\n        talking: false,\n        gesture: 'cheers',\n      },\n      {\n        id: 'averageJoe',\n        x: 1270,\n        y: 440,\n        scale: 1.8,\n        emotion: 'happy',\n        talking: true,\n      },\n    ],\n    subtitle: 'Alright, I\\'m opening an investment account tonight. Cheers, Professor!',\n    transition: { type: 'iris', duration: 20 },\n  },\n];\n\nexport const DialogueDemo: React.FC = () => {\n  return <SceneRenderer scenes={DIALOGUE_SCENES} showDebug />;\n};\n\nexport default DialogueDemo;\n","import React from 'react';\nimport { SceneRenderer } from '../systems/SceneRenderer';\nimport type { SceneData } from '../systems/SceneRenderer';\nimport { CAMERA_PRESETS } from '../systems/CameraPath';\n\n// Piramiden van Giza  volledige 12-minuten video\n// 21 600 frames @ 30 fps = 720 s = 12 min\n// Based on National Geographic NL article\n\nconst S: SceneData[] = [\n  // ============================================================\n  //  ACT 1  PUB INTRO  (0  1 800  60 s)\n  // ============================================================\n  {\n    id: 'intro-1',\n    start: 0,\n    end: 300,\n    bg: 'pub',\n    boardText: 'PROFESSOR PINT',\n    camera: { x: 0, y: -40, zoom: 1.05 },\n    characters: [\n      { id: 'professorPint', x: 960, y: 420, scale: 2, emotion: 'neutral', talking: false },\n    ],\n    subtitle: '',\n    transition: { type: 'crossfade', duration: 25 },\n  },\n  {\n    id: 'intro-2',\n    start: 300,\n    end: 600,\n    bg: 'pub',\n    boardText: 'PROFESSOR PINT',\n    camera: { x: 40, y: 0, zoom: 1.25 },\n    characters: [\n      { id: 'professorPint', x: 960, y: 420, scale: 2, emotion: 'happy', talking: true },\n    ],\n    subtitle: 'Welkom terug bij Professor Pint! Pak een kruk en een biertje erbij.',\n    transition: { type: 'crossfade', duration: 15 },\n  },\n  {\n    id: 'intro-3',\n    start: 600,\n    end: 900,\n    bg: 'pub',\n    boardText: 'PIRAMIDEN VAN GIZA',\n    camera: { x: -20, y: 10, zoom: 1.2 },\n    characters: [\n      { id: 'professorPint', x: 960, y: 420, scale: 2, emotion: 'happy', talking: true },\n    ],\n    subtitle: 'Vandaag nemen we je mee naar het oude Egypte. We gaan het hebben over de Piramiden van Giza.',\n    transition: { type: 'crossfade', duration: 15 },\n  },\n  {\n    id: 'intro-4',\n    start: 900,\n    end: 1200,\n    bg: 'pub',\n    boardText: '2550 V.CHR.',\n    camera: { x: 30, y: -10, zoom: 1.35 },\n    characters: [\n      { id: 'professorPint', x: 960, y: 420, scale: 2, emotion: 'thinking', talking: true },\n    ],\n    subtitle: 'Hoe bouwde je vierduizend jaar geleden een bouwwerk van honderdzevenenveertig meter hoog? Zonder kranen, zonder wielen, zonder machines?',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'intro-5',\n    start: 1200,\n    end: 1500,\n    bg: 'pub',\n    boardText: '2,3 MILJOEN BLOKKEN',\n    camera: { x: 0, y: 0, zoom: 1.5 },\n    characters: [\n      { id: 'professorPint', x: 960, y: 420, scale: 2, emotion: 'shocked', talking: true },\n    ],\n    subtitle: 'Met tweentwintig honderd miljoen stenen blokken, die elk tussen de twee en dertien ton wegen. Laat dat even op je inwerken.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'intro-6',\n    start: 1500,\n    end: 1800,\n    bg: 'pub',\n    boardText: 'LATEN WE GAAN!',\n    camera: { x: -10, y: 20, zoom: 1.2 },\n    characters: [\n      { id: 'professorPint', x: 960, y: 420, scale: 2, emotion: 'happy', talking: true },\n    ],\n    subtitle: 'Kom, we gaan erheen. Ik neem je mee naar de woestijn!',\n    transition: { type: 'zoomIn', duration: 20 },\n  },\n\n  // ============================================================\n  //  ACT 2  GIZA OVERZICHT  (1 800  3 600  60 s)\n  // ============================================================\n  {\n    id: 'giza-1',\n    start: 1800,\n    end: 2160,\n    bg: 'pyramids',\n    boardText: 'GIZA PLATEAU',\n    camera: { x: 0, y: -60, zoom: 0.95 },\n    cameraPath: CAMERA_PRESETS.establishingShot(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 500, scale: 1.8, emotion: 'happy', talking: true },\n    ],\n    subtitle: 'Hier zijn we dan. Het Giza-plateau. Drieduizend jaar lang het grootste bouwwerk ter wereld.',\n    transition: { type: 'wipe', duration: 20 },\n  },\n  {\n    id: 'giza-2',\n    start: 2160,\n    end: 2520,\n    bg: 'pyramids',\n    boardText: 'DRIE PIRAMIDEN',\n    camera: { x: -80, y: -30, zoom: 1.1 },\n    cameraPath: CAMERA_PRESETS.sweepingPan(360),\n    characters: [\n      { id: 'professorPint', x: 250, y: 500, scale: 1.8, emotion: 'thinking', talking: true },\n    ],\n    subtitle: 'Je ziet hier drie piramiden. Links die van Chafre, in het midden de Grote Piramide van Choefoe, en rechts de kleinere van Menkaoere.',\n    transition: { type: 'crossfade', duration: 15 },\n  },\n  {\n    id: 'giza-3',\n    start: 2520,\n    end: 2880,\n    bg: 'pyramids',\n    boardText: 'GRAFMONUMENTEN',\n    camera: { x: 0, y: 0, zoom: 1.2 },\n    cameraPath: CAMERA_PRESETS.slowZoomIn(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 500, scale: 1.8, emotion: 'neutral', talking: true },\n    ],\n    subtitle: 'De farao\\'s van het oude Egypte hadden een goddelijke status. Na hun dood werden ze als goden beschouwd.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'giza-4',\n    start: 2880,\n    end: 3240,\n    bg: 'pyramids',\n    boardText: 'HET HIERNAMAALS',\n    camera: { x: 50, y: -20, zoom: 1.3 },\n    cameraPath: CAMERA_PRESETS.panLeftToRight(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 500, scale: 1.8, emotion: 'thinking', talking: true },\n      { id: 'pharaoh', x: 1500, y: 480, scale: 1.6, emotion: 'neutral', talking: false },\n    ],\n    subtitle: 'Ter voorbereiding op het hiernamaals lieten ze deze enorme grafmonumenten bouwen. Een huis voor de eeuwigheid.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'giza-5',\n    start: 3240,\n    end: 3600,\n    bg: 'pyramids',\n    boardText: 'WIE LIGT WAAR?',\n    camera: { x: 0, y: 10, zoom: 1.15 },\n    cameraPath: CAMERA_PRESETS.slowZoomOut(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 500, scale: 1.8, emotion: 'happy', talking: true },\n      { id: 'pharaoh', x: 1500, y: 480, scale: 1.6, emotion: 'happy', talking: false },\n    ],\n    subtitle: 'Laten we ze een voor een bekijken. We beginnen met de grootste: de piramide van Choefoe.',\n    transition: { type: 'crossfade', duration: 15 },\n  },\n\n  // ============================================================\n  //  ACT 3  CHOEFOE'S PIRAMIDE  (3 600  5 400  60 s)\n  // ============================================================\n  {\n    id: 'khufu-1',\n    start: 3600,\n    end: 3960,\n    bg: 'pyramids',\n    boardText: 'CHOEFOE  2550 V.CHR.',\n    camera: { x: 0, y: -80, zoom: 1.4 },\n    cameraPath: CAMERA_PRESETS.dramaticZoom(360),\n    characters: [\n      { id: 'professorPint', x: 250, y: 520, scale: 1.6, emotion: 'neutral', talking: true },\n    ],\n    subtitle: 'Farao Choefoe was rond vijfentwintighonderd voor Christus de eerste die hier een piramide liet bouwen.',\n    transition: { type: 'wipe', duration: 18 },\n  },\n  {\n    id: 'khufu-2',\n    start: 3960,\n    end: 4320,\n    bg: 'pyramids',\n    boardText: '147 METER HOOG',\n    camera: { x: 0, y: -100, zoom: 1.6 },\n    cameraPath: CAMERA_PRESETS.tiltUp(360),\n    characters: [\n      { id: 'professorPint', x: 250, y: 540, scale: 1.4, emotion: 'shocked', talking: true },\n    ],\n    subtitle: 'De oorspronkelijke hoogte? Honderdzevenenveertig meter. Dat is bijna vijftig verdiepingen hoog! Tegenwoordig is hij nog honderdachtendertig meter.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'khufu-3',\n    start: 4320,\n    end: 4680,\n    bg: 'desertConstruction',\n    boardText: '2,3 MILJOEN BLOKKEN',\n    camera: { x: 0, y: -40, zoom: 1.1 },\n    cameraPath: CAMERA_PRESETS.panLeftToRight(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 500, scale: 1.8, emotion: 'thinking', talking: true },\n      { id: 'worker', x: 1400, y: 520, scale: 1.6, emotion: 'neutral', talking: false },\n    ],\n    subtitle: 'Hij bevat ongeveer twee komma drie miljoen stenen blokken. Elk blok weegt tussen de twee en dertien ton.',\n    transition: { type: 'slide', duration: 18 },\n  },\n  {\n    id: 'khufu-4',\n    start: 4680,\n    end: 5040,\n    bg: 'desertConstruction',\n    boardText: 'GROOTSTE PIRAMIDE',\n    camera: { x: 50, y: -20, zoom: 1.25 },\n    cameraPath: CAMERA_PRESETS.slowZoomIn(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 500, scale: 1.8, emotion: 'happy', talking: true },\n      { id: 'worker', x: 1400, y: 520, scale: 1.6, emotion: 'happy', talking: false },\n    ],\n    subtitle: 'Dit is de grootste piramide op het hele plateau. En een van de zeven wereldwonderen van de oudheid.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'khufu-5',\n    start: 5040,\n    end: 5400,\n    bg: 'desertConstruction',\n    boardText: 'NATIONAAL PROJECT',\n    camera: { x: -30, y: 10, zoom: 1.15 },\n    cameraPath: CAMERA_PRESETS.panRightToLeft(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 500, scale: 1.8, emotion: 'thinking', talking: true },\n      { id: 'worker', x: 1400, y: 520, scale: 1.6, emotion: 'thinking', talking: false },\n    ],\n    subtitle: 'Maar hoe hebben ze dit in hemelsnaam voor elkaar gekregen? Daar komen we zo op. Eerst kijken we naar de andere piramiden.',\n    transition: { type: 'crossfade', duration: 15 },\n  },\n\n  // ============================================================\n  //  ACT 4  CHAFRE & DE SFINX  (5 400  7 200  60 s)\n  // ============================================================\n  {\n    id: 'khafre-1',\n    start: 5400,\n    end: 5760,\n    bg: 'pyramids',\n    boardText: 'CHAFRE  2520 V.CHR.',\n    camera: { x: -120, y: -30, zoom: 1.3 },\n    cameraPath: CAMERA_PRESETS.revealDown(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 500, scale: 1.8, emotion: 'neutral', talking: true },\n    ],\n    subtitle: 'Ongeveer dertig jaar later bouwde farao Chafre de op een na grootste piramide. Honderdzesenendertig meter hoog.',\n    transition: { type: 'wipe', duration: 18 },\n  },\n  {\n    id: 'khafre-2',\n    start: 5760,\n    end: 6120,\n    bg: 'sphinxView',\n    boardText: 'DE SFINX',\n    camera: { x: -40, y: 0, zoom: 1.1 },\n    cameraPath: CAMERA_PRESETS.establishingShot(360),\n    characters: [\n      { id: 'professorPint', x: 1400, y: 500, scale: 1.8, emotion: 'shocked', talking: true },\n    ],\n    subtitle: 'Maar het meest bijzondere aan Chafre\\'s complex? De Sfinx. Het grootste en bekendste sfinxbeeld ter wereld.',\n    transition: { type: 'slide', duration: 18 },\n  },\n  {\n    id: 'khafre-3',\n    start: 6120,\n    end: 6480,\n    bg: 'sphinxView',\n    boardText: '73M LANG  20M HOOG',\n    camera: { x: -80, y: -20, zoom: 1.25 },\n    cameraPath: CAMERA_PRESETS.panLeftToRight(360),\n    characters: [\n      { id: 'professorPint', x: 1400, y: 500, scale: 1.8, emotion: 'thinking', talking: true },\n    ],\n    subtitle: 'Drienzeventig meter lang en twintig meter hoog. Een lichaam van een leeuw met het hoofd van een farao. Uitgehouwen uit n enorm kalksteenblok.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'khafre-4',\n    start: 6480,\n    end: 6840,\n    bg: 'sphinxView',\n    boardText: 'MYSTERIE',\n    camera: { x: -60, y: 20, zoom: 1.35 },\n    cameraPath: CAMERA_PRESETS.dramaticZoom(360),\n    characters: [\n      { id: 'professorPint', x: 1400, y: 500, scale: 1.8, emotion: 'thinking', talking: true },\n    ],\n    subtitle: 'Het is nog steeds onduidelijk of de Sfinx daadwerkelijk onder Chafre\\'s heerschappij werd uitgehouwen. Het blijft een mysterie.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'khafre-5',\n    start: 6840,\n    end: 7200,\n    bg: 'sphinxView',\n    boardText: 'ICONISCH BEELD',\n    camera: { x: -100, y: -10, zoom: 1.15 },\n    cameraPath: CAMERA_PRESETS.slowZoomOut(360),\n    characters: [\n      { id: 'professorPint', x: 1400, y: 500, scale: 1.8, emotion: 'happy', talking: true },\n    ],\n    subtitle: 'Maar wat we wel weten: dit beeld heeft al viereneenhalf duizend jaar de woestijnstormen doorstaan. Indrukwekkend.',\n    transition: { type: 'crossfade', duration: 15 },\n  },\n\n  // ============================================================\n  //  ACT 5  MENKAOERE  (7 200  8 640  48 s)\n  // ============================================================\n  {\n    id: 'menk-1',\n    start: 7200,\n    end: 7560,\n    bg: 'pyramids',\n    boardText: 'MENKAOERE  2490 V.CHR.',\n    camera: { x: 120, y: -10, zoom: 1.3 },\n    cameraPath: CAMERA_PRESETS.panRightToLeft(360),\n    characters: [\n      { id: 'professorPint', x: 1500, y: 500, scale: 1.8, emotion: 'neutral', talking: true },\n    ],\n    subtitle: 'De derde piramide werd rond tweeduizend vierhonderdnegentig voor Christus gebouwd door farao Menkaoere.',\n    transition: { type: 'wipe', duration: 18 },\n  },\n  {\n    id: 'menk-2',\n    start: 7560,\n    end: 7920,\n    bg: 'pyramids',\n    boardText: '65 METER HOOG',\n    camera: { x: 100, y: 0, zoom: 1.4 },\n    cameraPath: CAMERA_PRESETS.slowZoomIn(360),\n    characters: [\n      { id: 'professorPint', x: 1500, y: 500, scale: 1.8, emotion: 'thinking', talking: true },\n    ],\n    subtitle: 'Hij is aanzienlijk kleiner: ongeveer vijfenzestig meter hoog. Maar van binnen is hij verrassend indrukwekkend.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'menk-3',\n    start: 7920,\n    end: 8280,\n    bg: 'insidePyramid',\n    boardText: 'BINNENIN MENKAOERE',\n    camera: { x: 0, y: -20, zoom: 1.15 },\n    cameraPath: CAMERA_PRESETS.revealDown(360),\n    characters: [\n      { id: 'professorPint', x: 960, y: 480, scale: 1.8, emotion: 'shocked', talking: true },\n    ],\n    subtitle: 'Unieke nisversieringen in de kamers en een indrukwekkend gewelfd plafond. Deze farao had smaak.',\n    transition: { type: 'iris', duration: 20 },\n  },\n  {\n    id: 'menk-4',\n    start: 8280,\n    end: 8640,\n    bg: 'insidePyramid',\n    boardText: 'VERDWENEN SARCOFAAG',\n    camera: { x: 20, y: 10, zoom: 1.3 },\n    cameraPath: CAMERA_PRESETS.dramaticZoom(360),\n    characters: [\n      { id: 'professorPint', x: 960, y: 480, scale: 1.8, emotion: 'sad', talking: true },\n    ],\n    subtitle: 'En dan het trieste verhaal: in achttienhonderdachtendertig werd zijn sarcofaag per schip naar Groot-Brittanni vervoerd. Het schip zonk in de Middellandse Zee. De sarcofaag is nooit teruggevonden.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n\n  // ============================================================\n  //  ACT 6  WIE BOUWDEN ZE?  (8 640  10 800  72 s)\n  // ============================================================\n  {\n    id: 'who-1',\n    start: 8640,\n    end: 9000,\n    bg: 'pub',\n    boardText: 'WIE BOUWDE ZE?',\n    camera: { x: 0, y: -20, zoom: 1.2 },\n    characters: [\n      { id: 'professorPint', x: 700, y: 420, scale: 2, emotion: 'thinking', talking: true },\n      { id: 'averageJoe', x: 1300, y: 440, scale: 1.8, emotion: 'thinking', talking: false },\n    ],\n    subtitle: 'Ok, even terug naar de pub. Want nu komt de grote vraag: wie hebben die piramiden eigenlijk gebouwd?',\n    transition: { type: 'slide', duration: 18 },\n  },\n  {\n    id: 'who-2',\n    start: 9000,\n    end: 9360,\n    bg: 'pub',\n    boardText: 'SLAVEN?',\n    camera: { x: 30, y: 0, zoom: 1.3 },\n    characters: [\n      { id: 'professorPint', x: 700, y: 420, scale: 2, emotion: 'angry', talking: true },\n      { id: 'averageJoe', x: 1300, y: 440, scale: 1.8, emotion: 'shocked', talking: false },\n    ],\n    subtitle: 'De Griekse historicus Herodotus beweerde ooit dat het slaven waren. Maar dat klopt niet. Dat is een mythe.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'who-3',\n    start: 9360,\n    end: 9720,\n    bg: 'pub',\n    boardText: 'VAKMENSEN',\n    camera: { x: -20, y: 10, zoom: 1.25 },\n    characters: [\n      { id: 'professorPint', x: 700, y: 420, scale: 2, emotion: 'happy', talking: true },\n      { id: 'averageJoe', x: 1300, y: 440, scale: 1.8, emotion: 'happy', talking: false },\n    ],\n    subtitle: 'Het waren gespecialiseerde bouwarbeiders. Vakmensen! Archeologisch bewijs toont aan dat ze goed werden verzorgd.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'who-4',\n    start: 9720,\n    end: 10080,\n    bg: 'workersVillage',\n    boardText: 'ARBEIDERSSTEDEN',\n    camera: { x: 0, y: -30, zoom: 1.1 },\n    cameraPath: CAMERA_PRESETS.establishingShot(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 500, scale: 1.8, emotion: 'happy', talking: true },\n      { id: 'worker', x: 1400, y: 520, scale: 1.6, emotion: 'happy', talking: false },\n    ],\n    subtitle: 'Er werden speciale steden aangelegd voor de bouw. Tienduizenden arbeiders woonden hier samen.',\n    transition: { type: 'wipe', duration: 18 },\n  },\n  {\n    id: 'who-5',\n    start: 10080,\n    end: 10440,\n    bg: 'workersVillage',\n    boardText: 'GOED VERZORGD',\n    camera: { x: 40, y: 0, zoom: 1.2 },\n    cameraPath: CAMERA_PRESETS.panLeftToRight(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 500, scale: 1.8, emotion: 'thinking', talking: true },\n      { id: 'worker', x: 1400, y: 520, scale: 1.6, emotion: 'happy', talking: false },\n    ],\n    subtitle: 'Resten van bakkerijen en dierenbotten laten zien dat de arbeiders goed werden gevoed. Brood, vlees, bier. Niet slecht voor vierduizend jaar geleden.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'who-6',\n    start: 10440,\n    end: 10800,\n    bg: 'workersVillage',\n    boardText: 'NATIONAAL PROJECT',\n    camera: { x: -30, y: 20, zoom: 1.15 },\n    cameraPath: CAMERA_PRESETS.slowZoomOut(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 500, scale: 1.8, emotion: 'neutral', talking: true },\n      { id: 'worker', x: 1400, y: 520, scale: 1.6, emotion: 'neutral', talking: false },\n    ],\n    subtitle: 'Arbeiders, voedsel en materialen kwamen uit heel Egypte. Het was een nationaal project dat de macht en rijkdom van de farao onderstreepte.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n\n  // ============================================================\n  //  ACT 7  TRANSPORT OVER DE NIJL  (10 800  12 600  60 s)\n  // ============================================================\n  {\n    id: 'nile-1',\n    start: 10800,\n    end: 11160,\n    bg: 'nileRiver',\n    boardText: 'DE NIJL',\n    camera: { x: 0, y: -20, zoom: 1.05 },\n    cameraPath: CAMERA_PRESETS.sweepingPan(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 480, scale: 1.8, emotion: 'happy', talking: true },\n    ],\n    subtitle: 'Maar hoe kwamen al die miljoenen stenen blokken bij de piramiden? Via de Nijl natuurlijk!',\n    transition: { type: 'wipe', duration: 20 },\n  },\n  {\n    id: 'nile-2',\n    start: 11160,\n    end: 11520,\n    bg: 'nileRiver',\n    boardText: 'STEENTRANSPORT',\n    camera: { x: 40, y: 0, zoom: 1.2 },\n    cameraPath: CAMERA_PRESETS.panLeftToRight(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 480, scale: 1.8, emotion: 'thinking', talking: true },\n      { id: 'worker', x: 1500, y: 500, scale: 1.5, emotion: 'neutral', talking: false },\n    ],\n    subtitle: 'Papyrusteksten en archeologische vondsten tonen aan dat schippers de Nijl en kunstmatige waterwegen gebruikten.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'nile-3',\n    start: 11520,\n    end: 11880,\n    bg: 'nileRiver',\n    boardText: 'BOTEN & WATERWEGEN',\n    camera: { x: -30, y: 10, zoom: 1.15 },\n    cameraPath: CAMERA_PRESETS.slowZoomIn(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 480, scale: 1.8, emotion: 'neutral', talking: true },\n      { id: 'worker', x: 1500, y: 500, scale: 1.5, emotion: 'happy', talking: false },\n    ],\n    subtitle: 'Enorme boten vervoerden de stenen blokken stroomafwaarts. Sommige blokken kwamen van honderden kilometers verderop.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'nile-4',\n    start: 11880,\n    end: 12240,\n    bg: 'nileRiver',\n    boardText: 'LOGISTIEK WONDER',\n    camera: { x: 60, y: -10, zoom: 1.25 },\n    cameraPath: CAMERA_PRESETS.dramaticZoom(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 480, scale: 1.8, emotion: 'shocked', talking: true },\n    ],\n    subtitle: 'Bedenk even: geen GPS, geen motoren, geen modern gereedschap. En toch organiseerden ze het transport van miljoenen tonnen steen. Een logistiek wonder.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'nile-5',\n    start: 12240,\n    end: 12600,\n    bg: 'nileRiver',\n    boardText: 'HEEL EGYPTE WERKTE MEE',\n    camera: { x: 0, y: 0, zoom: 1.1 },\n    cameraPath: CAMERA_PRESETS.slowZoomOut(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 480, scale: 1.8, emotion: 'happy', talking: true },\n      { id: 'worker', x: 1500, y: 500, scale: 1.5, emotion: 'happy', talking: false },\n    ],\n    subtitle: 'Het hele land werkte mee. Van de steengroeves in het zuiden tot de bouwplaats bij Giza. En groot teamwork.',\n    transition: { type: 'crossfade', duration: 15 },\n  },\n\n  // ============================================================\n  //  ACT 8  BOUWMETHODEN  (12 600  14 760  72 s)\n  // ============================================================\n  {\n    id: 'build-1',\n    start: 12600,\n    end: 12960,\n    bg: 'desertConstruction',\n    boardText: 'HOE BOUWDEN ZE?',\n    camera: { x: 0, y: -50, zoom: 1.05 },\n    cameraPath: CAMERA_PRESETS.revealDown(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 500, scale: 1.8, emotion: 'thinking', talking: true },\n      { id: 'worker', x: 1400, y: 520, scale: 1.6, emotion: 'neutral', talking: false },\n    ],\n    subtitle: 'Goed, de stenen zijn er. Maar hoe bouw je daar een piramide van? Daar zijn verschillende theorien over.',\n    transition: { type: 'wipe', duration: 18 },\n  },\n  {\n    id: 'build-2',\n    start: 12960,\n    end: 13320,\n    bg: 'desertConstruction',\n    boardText: 'HELLINGEN / SCHANSEN',\n    camera: { x: -40, y: -20, zoom: 1.2 },\n    cameraPath: CAMERA_PRESETS.tiltDown(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 500, scale: 1.8, emotion: 'neutral', talking: true },\n      { id: 'worker', x: 1400, y: 520, scale: 1.6, emotion: 'thinking', talking: false },\n    ],\n    subtitle: 'De meest geaccepteerde theorie: hellingen. Grote schansen van aarde en steen waarmee ze de blokken omhoog sleepten.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'build-3',\n    start: 13320,\n    end: 13680,\n    bg: 'desertConstruction',\n    boardText: 'SLEDEN & TOUWEN',\n    camera: { x: 50, y: 0, zoom: 1.3 },\n    cameraPath: CAMERA_PRESETS.panLeftToRight(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 500, scale: 1.8, emotion: 'happy', talking: true },\n      { id: 'worker', x: 1400, y: 520, scale: 1.6, emotion: 'happy', talking: false },\n      { id: 'averageJoe', x: 1100, y: 540, scale: 1.4, emotion: 'neutral', talking: false },\n    ],\n    subtitle: 'Met sleden, touwen, rollers en hefbomen werkten teams van arbeiders samen. De hellingen werden gladgemaakt met water of natte klei.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'build-4',\n    start: 13680,\n    end: 14040,\n    bg: 'desertConstruction',\n    boardText: 'ZIGZAG OF SPIRAAL?',\n    camera: { x: 0, y: -60, zoom: 1.15 },\n    cameraPath: CAMERA_PRESETS.sweepingPan(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 500, scale: 1.8, emotion: 'thinking', talking: true },\n      { id: 'worker', x: 1400, y: 520, scale: 1.6, emotion: 'thinking', talking: false },\n    ],\n    subtitle: 'Sommige wetenschappers denken dat de hellingen in een zigzag- of spiraalpatroon rond de piramide liepen. Maar daar is geen hard bewijs voor.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'build-5',\n    start: 14040,\n    end: 14400,\n    bg: 'desertConstruction',\n    boardText: 'INTERNE HELLINGEN?',\n    camera: { x: -20, y: -30, zoom: 1.25 },\n    cameraPath: CAMERA_PRESETS.slowZoomIn(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 500, scale: 1.8, emotion: 'shocked', talking: true },\n    ],\n    subtitle: 'Er is zelfs een theorie dat de hellingen binnenin de piramide zaten! Een soort intern rampsysteem. Fascinerend idee.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'build-6',\n    start: 14400,\n    end: 14760,\n    bg: 'desertConstruction',\n    boardText: 'PRECISIEWERK',\n    camera: { x: 30, y: 10, zoom: 1.2 },\n    cameraPath: CAMERA_PRESETS.panRightToLeft(360),\n    characters: [\n      { id: 'professorPint', x: 300, y: 500, scale: 1.8, emotion: 'happy', talking: true },\n      { id: 'worker', x: 1400, y: 520, scale: 1.6, emotion: 'happy', talking: false },\n    ],\n    subtitle: 'Wat we wel zeker weten: het was ongelooflijk precisiewerk. De blokken passen zo strak op elkaar dat je er geen mes tussen krijgt.',\n    transition: { type: 'crossfade', duration: 15 },\n  },\n\n  // ============================================================\n  //  ACT 9  BINNENIN DE PIRAMIDE  (14 760  16 920  72 s)\n  // ============================================================\n  {\n    id: 'inside-1',\n    start: 14760,\n    end: 15120,\n    bg: 'insidePyramid',\n    boardText: 'BINNENIN',\n    camera: { x: 0, y: 0, zoom: 1.05 },\n    cameraPath: CAMERA_PRESETS.revealDown(360),\n    characters: [\n      { id: 'professorPint', x: 960, y: 480, scale: 1.8, emotion: 'neutral', talking: true },\n    ],\n    subtitle: 'Kom, we gaan naar binnen. Pas op je hoofd, de gangen zijn laag.',\n    transition: { type: 'iris', duration: 22 },\n  },\n  {\n    id: 'inside-2',\n    start: 15120,\n    end: 15480,\n    bg: 'insidePyramid',\n    boardText: 'GRAFKAMERS',\n    camera: { x: -30, y: -20, zoom: 1.2 },\n    cameraPath: CAMERA_PRESETS.slowZoomIn(360),\n    characters: [\n      { id: 'professorPint', x: 960, y: 480, scale: 1.8, emotion: 'thinking', talking: true },\n    ],\n    subtitle: 'Binnenin vind je grafkamers, smalle gangen en valse doorgangen. Alles ontworpen om grafrovers te misleiden.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'inside-3',\n    start: 15480,\n    end: 15840,\n    bg: 'insidePyramid',\n    boardText: 'HIROGLIEFEN',\n    camera: { x: 40, y: 10, zoom: 1.35 },\n    cameraPath: CAMERA_PRESETS.panLeftToRight(360),\n    characters: [\n      { id: 'professorPint', x: 960, y: 480, scale: 1.8, emotion: 'happy', talking: true },\n    ],\n    subtitle: 'Op de muren zie je hirogliefen. Teksten over het hiernamaals, spreuken voor de reis van de farao naar de godenwereld.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'inside-4',\n    start: 15840,\n    end: 16200,\n    bg: 'insidePyramid',\n    boardText: 'GEWELFD PLAFOND',\n    camera: { x: 0, y: -40, zoom: 1.25 },\n    cameraPath: CAMERA_PRESETS.tiltUp(360),\n    characters: [\n      { id: 'professorPint', x: 960, y: 480, scale: 1.8, emotion: 'shocked', talking: true },\n    ],\n    subtitle: 'Kijk eens naar dat plafond. Een perfect gewelfd plafond, gebouwd zonder cement of mortel. Pure ingenieurskunst.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'inside-5',\n    start: 16200,\n    end: 16560,\n    bg: 'insidePyramid',\n    boardText: 'GRAFROVERS',\n    camera: { x: -20, y: 20, zoom: 1.15 },\n    cameraPath: CAMERA_PRESETS.dramaticZoom(360),\n    characters: [\n      { id: 'professorPint', x: 700, y: 480, scale: 1.8, emotion: 'angry', talking: true },\n      { id: 'averageJoe', x: 1300, y: 500, scale: 1.6, emotion: 'shocked', talking: false },\n    ],\n    subtitle: 'Helaas zijn bijna alle piramiden al in de oudheid geplunderd door grafrovers. De meeste schatten zijn verdwenen.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'inside-6',\n    start: 16560,\n    end: 16920,\n    bg: 'insidePyramid',\n    boardText: 'VALLEN & VALSE GANGEN',\n    camera: { x: 30, y: -10, zoom: 1.3 },\n    cameraPath: CAMERA_PRESETS.panRightToLeft(360),\n    characters: [\n      { id: 'professorPint', x: 700, y: 480, scale: 1.8, emotion: 'thinking', talking: true },\n      { id: 'averageJoe', x: 1300, y: 500, scale: 1.6, emotion: 'thinking', talking: false },\n    ],\n    subtitle: 'De Egyptenaren probeerden de grafrovers tegen te houden met valstrikken, zware stenen deuren en doodlopende gangen. Maar het mocht niet baten.',\n    transition: { type: 'crossfade', duration: 15 },\n  },\n\n  // ============================================================\n  //  ACT 10  MYSTERIES  (16 920  18 900  66 s)\n  // ============================================================\n  {\n    id: 'mystery-1',\n    start: 16920,\n    end: 17280,\n    bg: 'pyramids',\n    boardText: 'ONOPGELOSTE MYSTERIES',\n    camera: { x: 0, y: -50, zoom: 1.1 },\n    cameraPath: CAMERA_PRESETS.sweepingPan(360),\n    characters: [\n      { id: 'professorPint', x: 960, y: 500, scale: 2, emotion: 'thinking', talking: true },\n    ],\n    subtitle: 'Ondanks al ons onderzoek zijn er nog steeds grote mysteries. De oude Egyptische koningen namen hun geheimen mee in het graf.',\n    transition: { type: 'wipe', duration: 18 },\n  },\n  {\n    id: 'mystery-2',\n    start: 17280,\n    end: 17640,\n    bg: 'pyramids',\n    boardText: 'HOE PRECIES?',\n    camera: { x: 30, y: -20, zoom: 1.25 },\n    cameraPath: CAMERA_PRESETS.slowZoomIn(360),\n    characters: [\n      { id: 'professorPint', x: 960, y: 500, scale: 2, emotion: 'thinking', talking: true },\n    ],\n    subtitle: 'We weten nog steeds niet exact hoe de blokken binnenin de piramiden werden geplaatst. Hoe hoger je komt, hoe moeilijker het wordt.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'mystery-3',\n    start: 17640,\n    end: 18000,\n    bg: 'pyramids',\n    boardText: 'GEEN ZAGEN, GEEN WIELEN',\n    camera: { x: -20, y: 0, zoom: 1.35 },\n    cameraPath: CAMERA_PRESETS.dramaticZoom(360),\n    characters: [\n      { id: 'professorPint', x: 960, y: 500, scale: 2, emotion: 'shocked', talking: true },\n    ],\n    subtitle: 'Geen zagen, geen wielen, geen ijzeren gereedschap. En toch bouwden ze een bouwwerk dat vierduizend jaar later nog steeds overeind staat.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'mystery-4',\n    start: 18000,\n    end: 18360,\n    bg: 'insidePyramid',\n    boardText: 'NIEUWE TECHNOLOGIE',\n    camera: { x: 0, y: -10, zoom: 1.2 },\n    cameraPath: CAMERA_PRESETS.slowZoomIn(360),\n    characters: [\n      { id: 'professorPint', x: 960, y: 480, scale: 1.8, emotion: 'happy', talking: true },\n    ],\n    subtitle: 'Mogelijk zullen toekomstige beeldtechnologien, zoals muonentomografie, ons helpen om verborgen kamers en gangen te vinden.',\n    transition: { type: 'iris', duration: 18 },\n  },\n  {\n    id: 'mystery-5',\n    start: 18360,\n    end: 18540,\n    bg: 'insidePyramid',\n    boardText: 'RESTAURATIE',\n    camera: { x: 20, y: 10, zoom: 1.3 },\n    cameraPath: CAMERA_PRESETS.panRightToLeft(180),\n    characters: [\n      { id: 'professorPint', x: 960, y: 480, scale: 1.8, emotion: 'neutral', talking: true },\n    ],\n    subtitle: 'Recent is er ook discussie over restauratiewerk door de Egyptische overheid. De piramiden blijven actueel.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'mystery-6',\n    start: 18540,\n    end: 18900,\n    bg: 'pyramids',\n    boardText: 'WAT WETEN WE NOG NIET?',\n    camera: { x: 0, y: -40, zoom: 1.15 },\n    cameraPath: CAMERA_PRESETS.slowZoomOut(360),\n    characters: [\n      { id: 'professorPint', x: 960, y: 500, scale: 2, emotion: 'thinking', talking: true },\n    ],\n    subtitle: 'En ding is zeker: we hebben nog lang niet alles ontdekt. De piramiden bewaren hun geheimen goed.',\n    transition: { type: 'crossfade', duration: 15 },\n  },\n\n  // ============================================================\n  //  ACT 11  SAMENVATTING & CIJFERS  (18 900  20 340  48 s)\n  // ============================================================\n  {\n    id: 'sum-1',\n    start: 18900,\n    end: 19260,\n    bg: 'pub',\n    boardText: 'SAMENVATTING',\n    camera: { x: 0, y: -30, zoom: 1.15 },\n    characters: [\n      { id: 'professorPint', x: 700, y: 420, scale: 2, emotion: 'happy', talking: true },\n      { id: 'averageJoe', x: 1300, y: 440, scale: 1.8, emotion: 'happy', talking: false },\n    ],\n    subtitle: 'Terug in de pub! Laten we even samenvatten wat we geleerd hebben.',\n    transition: { type: 'slide', duration: 18 },\n  },\n  {\n    id: 'sum-2',\n    start: 19260,\n    end: 19620,\n    bg: 'pub',\n    boardText: '3 PIRAMIDEN  3 FARAO\\'S',\n    camera: { x: 30, y: 0, zoom: 1.25 },\n    characters: [\n      { id: 'professorPint', x: 700, y: 420, scale: 2, emotion: 'neutral', talking: true },\n      { id: 'averageJoe', x: 1300, y: 440, scale: 1.8, emotion: 'thinking', talking: false },\n    ],\n    subtitle: 'Drie piramiden, drie farao\\'s. Choefoe, Chafre en Menkaoere. Gebouwd tussen vijfentwintighonderd en vierentwintighonderdnegentig voor Christus.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'sum-3',\n    start: 19620,\n    end: 19980,\n    bg: 'pub',\n    boardText: 'GEEN SLAVEN',\n    camera: { x: -20, y: 10, zoom: 1.3 },\n    characters: [\n      { id: 'professorPint', x: 700, y: 420, scale: 2, emotion: 'happy', talking: true },\n      { id: 'averageJoe', x: 1300, y: 440, scale: 1.8, emotion: 'happy', talking: false },\n    ],\n    subtitle: 'Gebouwd door vakmensen, niet door slaven. Een nationaal project met arbeiders uit heel Egypte die goed werden verzorgd.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'sum-4',\n    start: 19980,\n    end: 20340,\n    bg: 'pub',\n    boardText: 'HELLINGEN & NIJL',\n    camera: { x: 20, y: -10, zoom: 1.2 },\n    characters: [\n      { id: 'professorPint', x: 700, y: 420, scale: 2, emotion: 'thinking', talking: true },\n      { id: 'averageJoe', x: 1300, y: 440, scale: 1.8, emotion: 'neutral', talking: false },\n    ],\n    subtitle: 'Transport via de Nijl, bouw met hellingen, sleden en touwen. En een precisie die we vandaag de dag nog steeds niet helemaal begrijpen.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n\n  // ============================================================\n  //  ACT 12  OUTRO  (20 340  21 600  42 s)\n  // ============================================================\n  {\n    id: 'outro-1',\n    start: 20340,\n    end: 20700,\n    bg: 'pub',\n    boardText: 'PROFESSOR PINT',\n    camera: { x: 0, y: -20, zoom: 1.15 },\n    characters: [\n      { id: 'professorPint', x: 700, y: 420, scale: 2, emotion: 'happy', talking: true },\n      { id: 'averageJoe', x: 1300, y: 440, scale: 1.8, emotion: 'happy', talking: false },\n    ],\n    subtitle: 'Wat een reis was dat! Van de pub naar de woestijn en terug. De piramiden blijven een van de meest indrukwekkende prestaties uit de menselijke geschiedenis.',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'outro-2',\n    start: 20700,\n    end: 21060,\n    bg: 'pub',\n    boardText: 'VOLGENDE KEER',\n    camera: { x: 30, y: 0, zoom: 1.3 },\n    characters: [\n      { id: 'professorPint', x: 700, y: 420, scale: 2, emotion: 'happy', talking: true },\n      { id: 'averageJoe', x: 1300, y: 440, scale: 1.8, emotion: 'happy', talking: false },\n    ],\n    subtitle: 'Volgende keer nemen we je weer mee op avontuur. Waar naartoe? Dat hoor je dan wel. Houd je biertje vast!',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'outro-3',\n    start: 21060,\n    end: 21360,\n    bg: 'pub',\n    boardText: 'PROOST! ',\n    camera: { x: 0, y: 10, zoom: 1.4 },\n    characters: [\n      { id: 'professorPint', x: 700, y: 420, scale: 2, emotion: 'happy', talking: true },\n      { id: 'averageJoe', x: 1300, y: 440, scale: 1.8, emotion: 'happy', talking: false },\n    ],\n    subtitle: 'Ik ben Professor Pint, en ik zeg: proost op de kennis! Tot de volgende keer!',\n    transition: { type: 'crossfade', duration: 12 },\n  },\n  {\n    id: 'outro-4',\n    start: 21360,\n    end: 21600,\n    bg: 'pub',\n    boardText: 'PROFESSOR PINT',\n    camera: { x: 0, y: 0, zoom: 1 },\n    characters: [\n      { id: 'professorPint', x: 700, y: 420, scale: 2, emotion: 'happy', talking: false },\n      { id: 'averageJoe', x: 1300, y: 440, scale: 1.8, emotion: 'happy', talking: false },\n    ],\n    subtitle: '',\n    transition: { type: 'iris', duration: 25 },\n  },\n];\n\nexport const PyramidsOfGiza: React.FC = () => {\n  return <SceneRenderer scenes={S} showDebug />;\n};\n\nexport default PyramidsOfGiza;\n","// ScriptGenerator: Topic  SceneData[] JSON\n// Generates a complete video script from a topic string.\n// Can work standalone (template-based) or with an LLM API for dynamic scripts.\n\nimport type { SceneData } from '../systems/SceneRenderer';\nimport type { Emotion } from '../animations/emotions';\nimport type { TransitionType } from '../systems/Transitions';\nimport type { OverlayData } from '../systems/Overlays';\n\n// ---- Script Config ----\n\nexport interface ScriptConfig {\n  /** The topic to explain */\n  topic: string;\n  /** Target duration in seconds (default: 60) */\n  duration?: number;\n  /** Frames per second (default: 30) */\n  fps?: number;\n  /** Language for subtitles (default: 'en') */\n  language?: string;\n  /** Tone: casual pub chat or more structured lesson */\n  tone?: 'casual' | 'structured';\n}\n\n// ---- Internal types ----\n\ninterface ScriptBeat {\n  type: 'intro' | 'hook' | 'explain' | 'example' | 'revelation' | 'recap' | 'outro';\n  emotion: Emotion;\n  talking: boolean;\n  durationRatio: number; // fraction of total duration\n  boardText?: string;\n  camera: { x: number; y: number; zoom: number };\n  transition: { type: TransitionType; duration: number };\n}\n\n// ---- Beat templates ----\n\nconst BEAT_TEMPLATES: Record<string, ScriptBeat[]> = {\n  casual: [\n    {\n      type: 'intro',\n      emotion: 'neutral',\n      talking: false,\n      durationRatio: 0.08,\n      camera: { x: 0, y: -50, zoom: 1.1 },\n      transition: { type: 'crossfade', duration: 20 },\n    },\n    {\n      type: 'hook',\n      emotion: 'happy',\n      talking: true,\n      durationRatio: 0.15,\n      camera: { x: 50, y: 0, zoom: 1.3 },\n      transition: { type: 'crossfade', duration: 15 },\n    },\n    {\n      type: 'explain',\n      emotion: 'thinking',\n      talking: true,\n      durationRatio: 0.22,\n      camera: { x: -30, y: 20, zoom: 1.15 },\n      transition: { type: 'wipe', duration: 18 },\n    },\n    {\n      type: 'example',\n      emotion: 'happy',\n      talking: true,\n      durationRatio: 0.18,\n      camera: { x: 20, y: -10, zoom: 1.25 },\n      transition: { type: 'slide', duration: 15 },\n    },\n    {\n      type: 'revelation',\n      emotion: 'shocked',\n      talking: true,\n      durationRatio: 0.15,\n      camera: { x: 0, y: -20, zoom: 1.5 },\n      transition: { type: 'zoomIn', duration: 15 },\n    },\n    {\n      type: 'recap',\n      emotion: 'thinking',\n      talking: true,\n      durationRatio: 0.12,\n      camera: { x: -20, y: 10, zoom: 1.2 },\n      transition: { type: 'crossfade', duration: 15 },\n    },\n    {\n      type: 'outro',\n      emotion: 'happy',\n      talking: false,\n      durationRatio: 0.10,\n      camera: { x: 0, y: 0, zoom: 1 },\n      transition: { type: 'iris', duration: 20 },\n    },\n  ],\n  structured: [\n    {\n      type: 'intro',\n      emotion: 'neutral',\n      talking: false,\n      durationRatio: 0.06,\n      camera: { x: 0, y: -30, zoom: 1.05 },\n      transition: { type: 'crossfade', duration: 20 },\n    },\n    {\n      type: 'hook',\n      emotion: 'happy',\n      talking: true,\n      durationRatio: 0.12,\n      camera: { x: 40, y: 0, zoom: 1.2 },\n      transition: { type: 'crossfade', duration: 15 },\n    },\n    {\n      type: 'explain',\n      emotion: 'neutral',\n      talking: true,\n      durationRatio: 0.25,\n      camera: { x: -20, y: 10, zoom: 1.1 },\n      transition: { type: 'wipe', duration: 18 },\n    },\n    {\n      type: 'example',\n      emotion: 'thinking',\n      talking: true,\n      durationRatio: 0.20,\n      camera: { x: 30, y: -10, zoom: 1.2 },\n      transition: { type: 'slide', duration: 15 },\n    },\n    {\n      type: 'revelation',\n      emotion: 'shocked',\n      talking: true,\n      durationRatio: 0.12,\n      camera: { x: 0, y: -20, zoom: 1.4 },\n      transition: { type: 'zoomIn', duration: 15 },\n    },\n    {\n      type: 'recap',\n      emotion: 'neutral',\n      talking: true,\n      durationRatio: 0.15,\n      camera: { x: -10, y: 0, zoom: 1.1 },\n      transition: { type: 'crossfade', duration: 15 },\n    },\n    {\n      type: 'outro',\n      emotion: 'happy',\n      talking: false,\n      durationRatio: 0.10,\n      camera: { x: 0, y: 0, zoom: 1 },\n      transition: { type: 'iris', duration: 20 },\n    },\n  ],\n};\n\n// ---- Board text generation ----\n\nconst generateBoardText = (beat: ScriptBeat, topic: string, _index: number): string => {\n  switch (beat.type) {\n    case 'intro':\n      return `TODAY'S TOPIC`;\n    case 'hook':\n      return topic.toUpperCase();\n    case 'explain':\n      return `HOW IT WORKS`;\n    case 'example':\n      return `EXAMPLE`;\n    case 'revelation':\n      return `THE TRUTH`;\n    case 'recap':\n      return `KEY TAKEAWAYS`;\n    case 'outro':\n      return `PROFESSOR PINT`;\n    default:\n      return '';\n  }\n};\n\n// ---- Subtitle templates per beat type ----\n\nconst SUBTITLE_TEMPLATES: Record<string, Record<string, string>> = {\n  en: {\n    intro: '',\n    hook: `Welcome to the pub! Today we're talking about {topic}. Grab a pint and listen up.`,\n    explain: `So here's the thing about {topic}. Most people get this completely wrong.`,\n    example: `Let me give you a real example. Imagine you're at the bar...`,\n    revelation: `And here's what nobody tells you. This changes everything.`,\n    recap: `So remember: {topic} isn't as complicated as they make it seem.`,\n    outro: `That's your lesson for today. Same time next week? Cheers!`,\n  },\n  nl: {\n    intro: '',\n    hook: `Welkom in de kroeg! Vandaag hebben we het over {topic}. Pak een biertje erbij.`,\n    explain: `Dus dit is het ding over {topic}. De meeste mensen snappen dit helemaal verkeerd.`,\n    example: `Laat me een voorbeeld geven. Stel je voor dat je aan de bar zit...`,\n    revelation: `En hier is wat niemand je vertelt. Dit verandert alles.`,\n    recap: `Dus onthoud: {topic} is niet zo ingewikkeld als ze het laten lijken.`,\n    outro: `Dat was de les voor vandaag. Zelfde tijd volgende week? Proost!`,\n  },\n};\n\n// ---- Overlay generation per beat ----\n\nconst generateOverlays = (\n  beatType: string,\n  topic: string,\n  startFrame: number,\n  endFrame: number,\n): OverlayData[] => {\n  const overlays: OverlayData[] = [];\n  const pad = 15; // frames padding from scene edges\n\n  switch (beatType) {\n    case 'intro':\n      // Topic card lower third\n      overlays.push({\n        type: 'topicCard',\n        startFrame: startFrame + pad,\n        endFrame: endFrame - pad,\n        props: { topic, subtitle: 'Professor Pint explains...' },\n      });\n      break;\n\n    case 'explain':\n      // Fact box with key insight\n      overlays.push({\n        type: 'factBox',\n        startFrame: startFrame + pad + 10,\n        endFrame: endFrame - pad,\n        props: {\n          text: `Most people misunderstand ${topic}. Here's why it matters.`,\n          accent: '?',\n          position: 'right',\n        },\n      });\n      break;\n\n    case 'example':\n      // Bar chart example\n      overlays.push({\n        type: 'barChart',\n        startFrame: startFrame + pad,\n        endFrame: endFrame - pad,\n        props: {\n          title: 'The Numbers',\n          bars: [\n            { label: 'Year 1', value: 100, color: '#D4A012' },\n            { label: 'Year 5', value: 128, color: '#E8B830' },\n            { label: 'Year 10', value: 163, color: '#F0C850' },\n            { label: 'Year 20', value: 265, color: '#FFD700' },\n          ],\n          position: 'left',\n        },\n      });\n      break;\n\n    case 'revelation':\n      // Stat card with big number\n      overlays.push({\n        type: 'statCard',\n        startFrame: startFrame + pad,\n        endFrame: endFrame - pad,\n        props: {\n          value: '165%',\n          label: 'Growth over 20 years',\n          position: 'right',\n          color: '#FF6B35',\n        },\n      });\n      break;\n\n    case 'recap':\n      // Summary fact box\n      overlays.push({\n        type: 'factBox',\n        startFrame: startFrame + pad,\n        endFrame: endFrame - pad,\n        props: {\n          text: `Key takeaway: Understand ${topic} and you're already ahead of 90% of people.`,\n          accent: '',\n          position: 'right',\n        },\n      });\n      break;\n  }\n\n  return overlays;\n};\n\n// ---- Main generator ----\n\n/**\n * Generate a complete video script from a topic.\n * Returns SceneData[] ready for SceneRenderer.\n */\nexport const generateScript = (config: ScriptConfig): SceneData[] => {\n  const {\n    topic,\n    duration = 60,\n    fps = 30,\n    language = 'en',\n    tone = 'casual',\n  } = config;\n\n  const totalFrames = duration * fps;\n  const beats = BEAT_TEMPLATES[tone] ?? BEAT_TEMPLATES.casual;\n  const subtitles = SUBTITLE_TEMPLATES[language] ?? SUBTITLE_TEMPLATES.en;\n\n  const scenes: SceneData[] = [];\n  let currentFrame = 0;\n\n  for (let i = 0; i < beats.length; i++) {\n    const beat = beats[i];\n    const beatFrames = Math.round(totalFrames * beat.durationRatio);\n    const startFrame = currentFrame;\n    const endFrame = currentFrame + beatFrames;\n\n    const subtitleTemplate = subtitles[beat.type] ?? '';\n    const subtitle = subtitleTemplate.replace(/\\{topic\\}/g, topic);\n    const boardText = beat.boardText ?? generateBoardText(beat, topic, i);\n\n    const overlays = generateOverlays(beat.type, topic, startFrame, endFrame);\n\n    scenes.push({\n      id: `${beat.type}-${i}`,\n      start: startFrame,\n      end: endFrame,\n      bg: 'pub',\n      boardText,\n      camera: beat.camera,\n      characters: [\n        {\n          id: 'professorPint',\n          x: 960,\n          y: 420,\n          scale: 2,\n          emotion: beat.emotion,\n          talking: beat.talking,\n        },\n      ],\n      subtitle,\n      transition: beat.transition,\n      overlays,\n    });\n\n    currentFrame = endFrame;\n  }\n\n  // Ensure last scene reaches totalFrames\n  if (scenes.length > 0) {\n    scenes[scenes.length - 1].end = totalFrames;\n  }\n\n  return scenes;\n};\n\n// ---- LLM-enhanced generation ----\n\nexport interface LLMScriptLine {\n  beatType: string;\n  subtitle: string;\n  boardText: string;\n  emotion: Emotion;\n}\n\n/**\n * Generate scenes from LLM-provided script lines.\n * Use this when you have AI-generated dialogue.\n */\nexport const generateScriptFromLines = (\n  lines: LLMScriptLine[],\n  config: Pick<ScriptConfig, 'duration' | 'fps' | 'tone'>,\n): SceneData[] => {\n  const { duration = 60, fps = 30, tone = 'casual' } = config;\n  const totalFrames = duration * fps;\n  const beats = BEAT_TEMPLATES[tone] ?? BEAT_TEMPLATES.casual;\n\n  const scenes: SceneData[] = [];\n  const framesPerLine = Math.floor(totalFrames / lines.length);\n\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i];\n    // Use matching beat template for camera/transition, fallback to cycling\n    const beatIndex = Math.min(i, beats.length - 1);\n    const beat = beats[beatIndex];\n\n    scenes.push({\n      id: `scene-${i}`,\n      start: i * framesPerLine,\n      end: (i + 1) * framesPerLine,\n      bg: 'pub',\n      boardText: line.boardText,\n      camera: beat.camera,\n      characters: [\n        {\n          id: 'professorPint',\n          x: 960,\n          y: 420,\n          scale: 2,\n          emotion: line.emotion,\n          talking: line.subtitle.length > 0,\n        },\n      ],\n      subtitle: line.subtitle,\n      transition: beat.transition,\n    });\n  }\n\n  if (scenes.length > 0) {\n    scenes[scenes.length - 1].end = totalFrames;\n  }\n\n  return scenes;\n};\n","import React from 'react';\nimport { SceneRenderer } from '../systems/SceneRenderer';\nimport { generateScript } from '../pipeline/ScriptGenerator';\nimport type { AudioSegment } from '../systems/AudioSync';\n\n// ---- Pipeline-generated video composition ----\n// Uses ScriptGenerator to create scenes from a topic.\n// Audio segments can be passed as props (pre-generated via ElevenLabsTTS).\n\ninterface PipelineVideoProps {\n  /** Topic to explain */\n  topic?: string;\n  /** Duration in seconds */\n  duration?: number;\n  /** Language */\n  language?: string;\n  /** Tone */\n  tone?: 'casual' | 'structured';\n  /** Pre-generated audio segments (from build script) */\n  audioSegments?: AudioSegment[];\n  /** Show debug overlay */\n  showDebug?: boolean;\n}\n\nexport const PipelineVideo: React.FC<PipelineVideoProps> = ({\n  topic = 'Compound Interest',\n  duration = 60,\n  language = 'en',\n  tone = 'casual',\n  audioSegments = [],\n  showDebug = true,\n}) => {\n  // Generate scenes from topic at render time\n  const scenes = React.useMemo(\n    () =>\n      generateScript({\n        topic,\n        duration,\n        fps: 30,\n        language,\n        tone,\n      }),\n    [topic, duration, language, tone],\n  );\n\n  return (\n    <SceneRenderer\n      scenes={scenes}\n      audioSegments={audioSegments}\n      showDebug={showDebug}\n    />\n  );\n};\n\n// ---- Pre-built topic compositions ----\n\nexport const CompoundInterestVideo: React.FC = () => (\n  <PipelineVideo topic=\"Compound Interest\" duration={60} tone=\"casual\" />\n);\n\nexport const InflationVideo: React.FC = () => (\n  <PipelineVideo topic=\"Inflation\" duration={45} tone=\"casual\" />\n);\n\nexport const ETFVideo: React.FC = () => (\n  <PipelineVideo topic=\"ETF Investing\" duration={60} tone=\"structured\" />\n);\n\nexport const BudgetingVideo: React.FC = () => (\n  <PipelineVideo topic=\"The 50/30/20 Budget Rule\" duration={45} tone=\"casual\" language=\"en\" />\n);\n\nexport const DutchTaxVideo: React.FC = () => (\n  <PipelineVideo topic=\"Box 3 Belasting\" duration={60} tone=\"structured\" language=\"nl\" />\n);\n\nexport default PipelineVideo;\n","import React, { useMemo } from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { getIdleState } from '../animations/idle';\nimport { getMouthShape, getTalkingBounce, getTalkingGesture } from '../animations/talking';\nimport { interpolateEmotions } from '../animations/emotions';\nimport type { Emotion } from '../animations/emotions';\nimport type { MouthShape } from '../animations/talking';\n\n// Wall Street Broker: slicked-back hair, power suit, red tie, cocky grin\n// Used in stock market / trading scenes\n\ninterface WallStreetBrokerProps {\n  emotion?: Emotion;\n  previousEmotion?: Emotion;\n  emotionTransitionProgress?: number;\n  talking?: boolean;\n  scale?: number;\n}\n\nconst COL = {\n  skin: '#F5D0A9',\n  skinShadow: '#E0B890',\n  outline: '#1A1A1A',\n  suit: '#1A1A2E',\n  suitDark: '#0F0F1E',\n  suitPinstripe: 'rgba(255,255,255,0.06)',\n  shirt: '#FFFFFF',\n  shirtShadow: '#E8E8E8',\n  tie: '#CC0000',\n  tieDark: '#990000',\n  tieClip: '#D4A012',\n  hair: '#2A2A2A',\n  hairDark: '#1A1A1A',\n  hairShine: '#444444',\n  eyeWhite: '#FFFFFF',\n  iris: '#3A6080',\n  pupil: '#1A1A1A',\n  mouth: '#8B2020',\n  tongue: '#CC5555',\n  blush: '#FFAAAA',\n  shine: 'rgba(255,255,255,0.5)',\n  shoe: '#1A1A1A',\n  watch: '#D4A012',\n};\n\nconst SW = 3.5;\n\nexport const WallStreetBroker: React.FC<WallStreetBrokerProps> = ({\n  emotion = 'neutral',\n  previousEmotion = 'neutral',\n  emotionTransitionProgress = 1,\n  talking = false,\n  scale = 1,\n}) => {\n  const frame = useCurrentFrame();\n  const idle = getIdleState(frame);\n  const mouthShape = getMouthShape(frame, talking);\n  const talkBounce = getTalkingBounce(frame, talking);\n  const talkGesture = getTalkingGesture(frame, talking);\n\n  const emo = useMemo(\n    () => interpolateEmotions(previousEmotion, emotion, emotionTransitionProgress),\n    [previousEmotion, emotion, emotionTransitionProgress],\n  );\n\n  const bodyY = idle.breathing.y + talkBounce;\n\n  return (\n    <svg\n      viewBox=\"-130 -210 260 400\"\n      width={260 * scale}\n      height={400 * scale}\n      style={{ overflow: 'visible' }}\n    >\n      <g transform={`translate(${idle.sway.x}, ${bodyY}) rotate(${idle.sway.rotation})`}>\n        <BrokerLegs />\n        <g transform={`scale(${idle.breathing.scaleX}, 1)`}>\n          <BrokerBody />\n        </g>\n        <BrokerLeftArm gestureRotation={talkGesture} />\n        <BrokerRightArm />\n        <g transform={`translate(0, -105) rotate(${emo.headTilt})`}>\n          <BrokerHead emo={emo} blink={idle.blink} pupil={idle.pupil} mouthShape={mouthShape} talking={talking} />\n        </g>\n      </g>\n    </svg>\n  );\n};\n\nconst BrokerLegs: React.FC = () => (\n  <g>\n    <path d=\"M-16,68 L-20,135 L-8,135 Z\" fill={COL.suit} stroke={COL.outline} strokeWidth={SW} />\n    <path d=\"M16,68 L20,135 L8,135 Z\" fill={COL.suit} stroke={COL.outline} strokeWidth={SW} />\n    <ellipse cx={-18} cy={137} rx={15} ry={6} fill={COL.shoe} stroke={COL.outline} strokeWidth={2} />\n    <ellipse cx={18} cy={137} rx={15} ry={6} fill={COL.shoe} stroke={COL.outline} strokeWidth={2} />\n    {/* Shoe shine */}\n    <ellipse cx={-22} cy={135} rx={5} ry={2} fill=\"rgba(255,255,255,0.1)\" />\n    <ellipse cx={22} cy={135} rx={5} ry={2} fill=\"rgba(255,255,255,0.1)\" />\n  </g>\n);\n\nconst BrokerBody: React.FC = () => (\n  <g>\n    {/* Suit jacket - sharp shoulders */}\n    <path\n      d=\"M-48,-48 Q-48,-55 -32,-55 L32,-55 Q48,-55 48,-48 L44,65 Q44,75 0,78 Q-44,75 -44,65 Z\"\n      fill={COL.suit} stroke={COL.outline} strokeWidth={SW}\n    />\n    {/* Pinstripes */}\n    {[-20, -10, 0, 10, 20].map((x, i) => (\n      <line key={`pin-${i}`} x1={x} y1={-45} x2={x + 2} y2={70} stroke={COL.suitPinstripe} strokeWidth={1} />\n    ))}\n\n    {/* Shirt visible in V */}\n    <path d=\"M-12,-50 L0,15 L12,-50\" fill={COL.shirt} stroke={COL.outline} strokeWidth={1.5} />\n\n    {/* Tie */}\n    <path d=\"M-5,-48 L0,30 L5,-48\" fill={COL.tie} stroke={COL.outline} strokeWidth={1.5} />\n    <path d=\"M-4,-48 L0,-42 L4,-48\" fill={COL.tieDark} stroke={COL.outline} strokeWidth={1} />\n    {/* Tie clip */}\n    <rect x={-6} y={-15} width={12} height={2.5} rx={1} fill={COL.tieClip} stroke={COL.outline} strokeWidth={0.8} />\n\n    {/* Lapels */}\n    <path d=\"M-12,-50 L-22,-50 L-32,10\" fill=\"none\" stroke={COL.suitDark} strokeWidth={2} />\n    <path d=\"M12,-50 L22,-50 L32,10\" fill=\"none\" stroke={COL.suitDark} strokeWidth={2} />\n\n    {/* Pocket square */}\n    <path d=\"M28,-30 L32,-22 L36,-30\" fill=\"white\" stroke={COL.outline} strokeWidth={1} />\n\n    {/* Neck */}\n    <rect x={-11} y={-52} width={22} height={10} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n  </g>\n);\n\nconst BrokerLeftArm: React.FC<{ gestureRotation: number }> = ({ gestureRotation }) => (\n  <g transform={`translate(-48, -28) rotate(${-10 + gestureRotation}, 0, 0)`}>\n    <line x1={0} y1={0} x2={-16} y2={36} stroke={COL.suit} strokeWidth={12} strokeLinecap=\"round\" />\n    <line x1={0} y1={0} x2={-16} y2={36} stroke={COL.outline} strokeWidth={14} strokeLinecap=\"round\" opacity={0.12} />\n    <g transform=\"translate(-16, 36)\">\n      <line x1={0} y1={0} x2={-6} y2={28} stroke={COL.skin} strokeWidth={7} strokeLinecap=\"round\" />\n      <circle cx={-8} cy={32} r={7.5} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n      {/* Watch */}\n      <rect x={-4} y={22} width={10} height={7} rx={2} fill={COL.watch} stroke={COL.outline} strokeWidth={1.5} />\n    </g>\n  </g>\n);\n\nconst BrokerRightArm: React.FC = () => (\n  <g transform=\"translate(48, -28)\">\n    <line x1={0} y1={0} x2={14} y2={36} stroke={COL.suit} strokeWidth={12} strokeLinecap=\"round\" />\n    <line x1={0} y1={0} x2={14} y2={36} stroke={COL.outline} strokeWidth={14} strokeLinecap=\"round\" opacity={0.12} />\n    <g transform=\"translate(14, 36)\">\n      <line x1={0} y1={0} x2={4} y2={28} stroke={COL.skin} strokeWidth={7} strokeLinecap=\"round\" />\n      <circle cx={6} cy={32} r={7.5} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n    </g>\n  </g>\n);\n\ninterface BrokerHeadProps {\n  emo: {\n    eyeScaleY: number; eyeOffsetY: number; pupilScale: number;\n    browLeftY: number; browRightY: number; browLeftRotation: number; browRightRotation: number;\n    mouthCurve: number; mouthWidth: number; mouthOpen: number;\n    blushOpacity: number; headTilt: number;\n  };\n  blink: number;\n  pupil: { x: number; y: number };\n  mouthShape: MouthShape;\n  talking: boolean;\n}\n\nconst BrokerHead: React.FC<BrokerHeadProps> = ({ emo, blink, pupil, mouthShape, talking }) => (\n  <g>\n    {/* Slicked back hair - back */}\n    <path\n      d=\"M-44,5 Q-50,-10 -45,-30 Q-38,-50 0,-55 Q38,-50 45,-30 Q50,-10 44,5\n         L40,10 Q20,15 0,15 Q-20,15 -40,10 Z\"\n      fill={COL.hair} stroke={COL.outline} strokeWidth={2.5}\n    />\n\n    {/* Face */}\n    <path\n      d=\"M-42,0 Q-42,-35 0,-40 Q42,-35 42,0 L40,25 Q35,45 0,48 Q-35,45 -40,25 Z\"\n      fill={COL.skin} stroke={COL.outline} strokeWidth={SW}\n    />\n\n    {/* Hair front - slicked */}\n    <path\n      d=\"M-40,-20 Q-35,-42 0,-46 Q35,-42 40,-20 L38,-15 Q30,-35 0,-38 Q-30,-35 -38,-15 Z\"\n      fill={COL.hair} stroke={COL.outline} strokeWidth={2}\n    />\n    {/* Hair shine */}\n    <path d=\"M-15,-38 Q0,-45 15,-38\" fill=\"none\" stroke={COL.hairShine} strokeWidth={2} opacity={0.3} />\n\n    {/* Jawline (chiseled) */}\n    <path d=\"M-32,20 Q-28,38 0,42 Q28,38 32,20\" fill=\"none\" stroke={COL.skinShadow} strokeWidth={1.5} opacity={0.3} />\n\n    {/* Eyes */}\n    <g transform={`translate(-15, ${-2 + emo.eyeOffsetY})`}>\n      <BrokerEye blink={blink} scaleY={emo.eyeScaleY} pupilScale={emo.pupilScale} px={pupil.x} py={pupil.y} />\n    </g>\n    <g transform={`translate(15, ${-2 + emo.eyeOffsetY})`}>\n      <BrokerEye blink={blink} scaleY={emo.eyeScaleY} pupilScale={emo.pupilScale} px={pupil.x} py={pupil.y} />\n    </g>\n\n    {/* Eyebrows - sharp, confident */}\n    <g transform={`translate(-15, ${-14 + emo.browLeftY}) rotate(${emo.browLeftRotation})`}>\n      <path d=\"M-10,0 L10,-3\" fill=\"none\" stroke={COL.hair} strokeWidth={3} strokeLinecap=\"round\" />\n    </g>\n    <g transform={`translate(15, ${-14 + emo.browRightY}) rotate(${emo.browRightRotation})`}>\n      <path d=\"M-10,-3 L10,0\" fill=\"none\" stroke={COL.hair} strokeWidth={3} strokeLinecap=\"round\" />\n    </g>\n\n    {emo.blushOpacity > 0.01 && (\n      <>\n        <ellipse cx={-26} cy={14} rx={7} ry={4} fill={COL.blush} opacity={emo.blushOpacity} />\n        <ellipse cx={26} cy={14} rx={7} ry={4} fill={COL.blush} opacity={emo.blushOpacity} />\n      </>\n    )}\n\n    {/* Nose */}\n    <path d=\"M-3,6 Q0,14 3,6\" fill=\"none\" stroke={COL.outline} strokeWidth={2.2} strokeLinecap=\"round\" />\n\n    {/* Mouth */}\n    <BrokerMouth shape={mouthShape} curve={emo.mouthCurve} width={emo.mouthWidth}\n      emotionOpen={emo.mouthOpen} talking={talking} />\n  </g>\n);\n\ninterface BrokerEyeProps { blink: number; scaleY: number; pupilScale: number; px: number; py: number; }\n\nconst BrokerEye: React.FC<BrokerEyeProps> = ({ blink, scaleY, pupilScale, px, py }) => (\n  <g transform={`scale(1, ${scaleY * blink})`}>\n    <ellipse cx={0} cy={0} rx={8.5} ry={6.5} fill={COL.eyeWhite} stroke={COL.outline} strokeWidth={1.5} />\n    <circle cx={px} cy={py} r={4 * pupilScale} fill={COL.iris} />\n    <circle cx={px} cy={py} r={2.2 * pupilScale} fill={COL.pupil} />\n    <circle cx={px + 1.5} cy={py - 1.5} r={1.3} fill=\"white\" opacity={0.8} />\n  </g>\n);\n\ninterface BrokerMouthProps { shape: MouthShape; curve: number; width: number; emotionOpen: number; talking: boolean; }\n\nconst BrokerMouth: React.FC<BrokerMouthProps> = ({ shape, curve, width, emotionOpen, talking }) => {\n  const talkOpen = talking ? [0, 3, 6, 10][shape] : emotionOpen * 10;\n  const openAmount = Math.max(talkOpen, emotionOpen * 10);\n  const hw = 12 * width;\n\n  if (openAmount < 1) {\n    return (\n      <path d={`M${-hw},26 Q0,${26 + curve} ${hw},26`}\n        fill=\"none\" stroke={COL.outline} strokeWidth={2.5} strokeLinecap=\"round\" />\n    );\n  }\n\n  return (\n    <g transform=\"translate(0, 26)\">\n      <ellipse cx={0} cy={0} rx={hw} ry={openAmount * 0.5}\n        fill={COL.mouth} stroke={COL.outline} strokeWidth={2.5} />\n      {openAmount > 6 && (\n        <ellipse cx={2} cy={openAmount * 0.25} rx={hw * 0.5} ry={openAmount * 0.2} fill={COL.tongue} />\n      )}\n      {openAmount > 3 && (\n        <rect x={-hw * 0.6} y={-openAmount * 0.35} width={hw * 1.2} height={2.5} fill=\"white\" rx={1} />\n      )}\n    </g>\n  );\n};\n\nexport default WallStreetBroker;\n","import React, { useMemo } from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { getIdleState } from '../animations/idle';\nimport { getMouthShape, getTalkingBounce, getTalkingGesture } from '../animations/talking';\nimport { interpolateEmotions } from '../animations/emotions';\nimport type { Emotion } from '../animations/emotions';\nimport type { MouthShape } from '../animations/talking';\n\n// CryptoBro: backwards cap, tech hoodie, oversized headphones, phone in hand\n// Used in cryptocurrency / blockchain scenes\n\ninterface CryptoBroProps {\n  emotion?: Emotion;\n  previousEmotion?: Emotion;\n  emotionTransitionProgress?: number;\n  talking?: boolean;\n  scale?: number;\n}\n\nconst COL = {\n  skin: '#F0C8A0',\n  skinShadow: '#D8B088',\n  outline: '#1A1A1A',\n  hoodie: '#1A1A2E',\n  hoodieLogo: '#F7931A', // Bitcoin orange\n  hoodieAccent: '#2D2D44',\n  tshirt: '#222222',\n  cap: '#2D2D44',\n  capBrim: '#1A1A30',\n  headphones: '#333333',\n  headphonePad: '#444444',\n  headphoneAccent: '#00D4AA', // crypto green\n  hair: '#FFD700',\n  hairDark: '#DAA520',\n  eyeWhite: '#FFFFFF',\n  iris: '#40A0A0',\n  pupil: '#1A1A1A',\n  mouth: '#8B2020',\n  tongue: '#CC5555',\n  blush: '#FFBBAA',\n  shine: 'rgba(255,255,255,0.5)',\n  shoe: '#FFFFFF', // white sneakers\n  shoeSole: '#333333',\n  phone: '#1A1A1A',\n  phoneScreen: '#00D4AA',\n};\n\nconst SW = 3.5;\n\nexport const CryptoBro: React.FC<CryptoBroProps> = ({\n  emotion = 'neutral',\n  previousEmotion = 'neutral',\n  emotionTransitionProgress = 1,\n  talking = false,\n  scale = 1,\n}) => {\n  const frame = useCurrentFrame();\n  const idle = getIdleState(frame);\n  const mouthShape = getMouthShape(frame, talking);\n  const talkBounce = getTalkingBounce(frame, talking);\n  const talkGesture = getTalkingGesture(frame, talking);\n\n  const emo = useMemo(\n    () => interpolateEmotions(previousEmotion, emotion, emotionTransitionProgress),\n    [previousEmotion, emotion, emotionTransitionProgress],\n  );\n\n  const bodyY = idle.breathing.y + talkBounce;\n\n  return (\n    <svg\n      viewBox=\"-130 -210 260 400\"\n      width={260 * scale}\n      height={400 * scale}\n      style={{ overflow: 'visible' }}\n    >\n      <g transform={`translate(${idle.sway.x}, ${bodyY}) rotate(${idle.sway.rotation})`}>\n        <CryptoLegs />\n        <g transform={`scale(${idle.breathing.scaleX}, 1)`}>\n          <CryptoBody />\n        </g>\n        <CryptoLeftArm gestureRotation={talkGesture} />\n        <CryptoRightArm />\n        <g transform={`translate(0, -100) rotate(${emo.headTilt})`}>\n          <CryptoHead emo={emo} blink={idle.blink} pupil={idle.pupil} mouthShape={mouthShape} talking={talking} />\n        </g>\n      </g>\n    </svg>\n  );\n};\n\nconst CryptoLegs: React.FC = () => (\n  <g>\n    {/* Joggers */}\n    <path d=\"M-18,65 L-22,130 L-6,130 L-4,70 Z\" fill={COL.outline} stroke={COL.outline} strokeWidth={2} />\n    <path d=\"M18,65 L22,130 L6,130 L4,70 Z\" fill={COL.outline} stroke={COL.outline} strokeWidth={2} />\n    {/* White sneakers */}\n    <ellipse cx={-18} cy={133} rx={16} ry={7} fill={COL.shoe} stroke={COL.outline} strokeWidth={2} />\n    <ellipse cx={18} cy={133} rx={16} ry={7} fill={COL.shoe} stroke={COL.outline} strokeWidth={2} />\n    <line x1={-28} y1={133} x2={-8} y2={133} stroke={COL.shoeSole} strokeWidth={2} />\n    <line x1={8} y1={133} x2={28} y2={133} stroke={COL.shoeSole} strokeWidth={2} />\n  </g>\n);\n\nconst CryptoBody: React.FC = () => (\n  <g>\n    {/* Oversized hoodie */}\n    <path\n      d=\"M-48,-38 Q-48,-45 -35,-45 L35,-45 Q48,-45 48,-38 L48,60 Q48,72 0,75 Q-48,72 -48,60 Z\"\n      fill={COL.hoodie} stroke={COL.outline} strokeWidth={SW}\n    />\n    {/* Bitcoin logo on chest */}\n    <circle cx={0} cy={10} r={14} fill={COL.hoodieLogo} opacity={0.8} />\n    <text x={0} y={16} textAnchor=\"middle\" fontSize={18} fontWeight=\"bold\"\n      fill=\"white\" fontFamily=\"sans-serif\"></text>\n\n    {/* Hoodie pocket */}\n    <path d=\"M-28,30 L-28,55 Q-28,60 -22,60 L22,60 Q28,60 28,55 L28,30\"\n      fill=\"none\" stroke={COL.hoodieAccent} strokeWidth={2} opacity={0.5} />\n\n    {/* Hood */}\n    <path d=\"M-22,-42 Q-25,-50 -14,-50 L14,-50 Q25,-50 22,-42\"\n      fill={COL.hoodieAccent} stroke={COL.outline} strokeWidth={2} />\n\n    {/* Neck */}\n    <rect x={-10} y={-48} width={20} height={10} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n  </g>\n);\n\nconst CryptoLeftArm: React.FC<{ gestureRotation: number }> = ({ gestureRotation }) => (\n  <g transform={`translate(-48, -22) rotate(${-8 + gestureRotation}, 0, 0)`}>\n    <line x1={0} y1={0} x2={-14} y2={35} stroke={COL.hoodie} strokeWidth={14} strokeLinecap=\"round\" />\n    <line x1={0} y1={0} x2={-14} y2={35} stroke={COL.outline} strokeWidth={16} strokeLinecap=\"round\" opacity={0.12} />\n    <g transform=\"translate(-14, 35)\">\n      <line x1={0} y1={0} x2={-6} y2={28} stroke={COL.skin} strokeWidth={7} strokeLinecap=\"round\" />\n      <circle cx={-8} cy={32} r={7.5} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n    </g>\n  </g>\n);\n\nconst CryptoRightArm: React.FC = () => (\n  <g transform=\"translate(48, -22)\">\n    <line x1={0} y1={0} x2={14} y2={35} stroke={COL.hoodie} strokeWidth={14} strokeLinecap=\"round\" />\n    <line x1={0} y1={0} x2={14} y2={35} stroke={COL.outline} strokeWidth={16} strokeLinecap=\"round\" opacity={0.12} />\n    <g transform=\"translate(14, 35)\">\n      <line x1={0} y1={0} x2={6} y2={22} stroke={COL.skin} strokeWidth={7} strokeLinecap=\"round\" />\n      <circle cx={8} cy={26} r={7.5} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n      {/* Phone in hand */}\n      <rect x={0} y={12} width={14} height={24} rx={3} fill={COL.phone} stroke={COL.outline} strokeWidth={1.5} />\n      <rect x={2} y={15} width={10} height={16} rx={1} fill={COL.phoneScreen} opacity={0.7} />\n      {/* Chart line on screen */}\n      <path d=\"M4,28 L6,24 L8,26 L10,20\" fill=\"none\" stroke=\"white\" strokeWidth={1} />\n    </g>\n  </g>\n);\n\ninterface CryptoHeadProps {\n  emo: {\n    eyeScaleY: number; eyeOffsetY: number; pupilScale: number;\n    browLeftY: number; browRightY: number; browLeftRotation: number; browRightRotation: number;\n    mouthCurve: number; mouthWidth: number; mouthOpen: number;\n    blushOpacity: number; headTilt: number;\n  };\n  blink: number;\n  pupil: { x: number; y: number };\n  mouthShape: MouthShape;\n  talking: boolean;\n}\n\nconst CryptoHead: React.FC<CryptoHeadProps> = ({ emo, blink, pupil, mouthShape, talking }) => (\n  <g>\n    {/* Head */}\n    <ellipse cx={0} cy={2} rx={44} ry={46} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n\n    {/* Blonde/dyed hair peek from under cap */}\n    <path d=\"M-38,-15 Q-42,-25 -35,-30 Q-25,-35 0,-36 Q25,-35 35,-30 Q42,-25 38,-15\"\n      fill={COL.hair} stroke={COL.outline} strokeWidth={2} />\n\n    {/* Backwards cap */}\n    <path d=\"M-40,-18 Q-38,-40 0,-44 Q38,-40 40,-18 L38,-12 Q20,-28 0,-30 Q-20,-28 -38,-12 Z\"\n      fill={COL.cap} stroke={COL.outline} strokeWidth={2.5} />\n    {/* Cap brim (backwards) */}\n    <path d=\"M-25,-10 Q-35,-8 -40,-15 Q-42,-20 -38,-22\"\n      fill={COL.capBrim} stroke={COL.outline} strokeWidth={2} />\n\n    {/* Headphones */}\n    <path d=\"M-44,0 Q-50,-20 -42,-35\" fill=\"none\" stroke={COL.headphones} strokeWidth={5} strokeLinecap=\"round\" />\n    <path d=\"M44,0 Q50,-20 42,-35\" fill=\"none\" stroke={COL.headphones} strokeWidth={5} strokeLinecap=\"round\" />\n    {/* Headphone band across top */}\n    <path d=\"M-42,-35 Q0,-52 42,-35\" fill=\"none\" stroke={COL.headphones} strokeWidth={4} />\n    {/* Ear pads */}\n    <ellipse cx={-46} cy={4} rx={10} ry={14} fill={COL.headphonePad} stroke={COL.outline} strokeWidth={2} />\n    <ellipse cx={46} cy={4} rx={10} ry={14} fill={COL.headphonePad} stroke={COL.outline} strokeWidth={2} />\n    <ellipse cx={-46} cy={4} rx={6} ry={10} fill={COL.headphoneAccent} opacity={0.3} />\n    <ellipse cx={46} cy={4} rx={6} ry={10} fill={COL.headphoneAccent} opacity={0.3} />\n\n    {/* Eyes */}\n    <g transform={`translate(-14, ${0 + emo.eyeOffsetY})`}>\n      <CryptoEye blink={blink} scaleY={emo.eyeScaleY} pupilScale={emo.pupilScale} px={pupil.x} py={pupil.y} />\n    </g>\n    <g transform={`translate(14, ${0 + emo.eyeOffsetY})`}>\n      <CryptoEye blink={blink} scaleY={emo.eyeScaleY} pupilScale={emo.pupilScale} px={pupil.x} py={pupil.y} />\n    </g>\n\n    {/* Eyebrows */}\n    <g transform={`translate(-14, ${-13 + emo.browLeftY}) rotate(${emo.browLeftRotation})`}>\n      <rect x={-8} y={0} width={16} height={3.5} rx={1.5} fill={COL.hair} />\n    </g>\n    <g transform={`translate(14, ${-13 + emo.browRightY}) rotate(${emo.browRightRotation})`}>\n      <rect x={-8} y={0} width={16} height={3.5} rx={1.5} fill={COL.hair} />\n    </g>\n\n    {emo.blushOpacity > 0.01 && (\n      <>\n        <ellipse cx={-26} cy={16} rx={7} ry={4} fill={COL.blush} opacity={emo.blushOpacity} />\n        <ellipse cx={26} cy={16} rx={7} ry={4} fill={COL.blush} opacity={emo.blushOpacity} />\n      </>\n    )}\n\n    {/* Nose */}\n    <path d=\"M-3,10 Q0,17 3,10\" fill=\"none\" stroke={COL.outline} strokeWidth={2} strokeLinecap=\"round\" />\n\n    {/* Small goatee */}\n    <ellipse cx={0} cy={38} rx={5} ry={4} fill={COL.hairDark} opacity={0.4} />\n\n    {/* Mouth */}\n    <CryptoMouth shape={mouthShape} curve={emo.mouthCurve} width={emo.mouthWidth}\n      emotionOpen={emo.mouthOpen} talking={talking} />\n  </g>\n);\n\ninterface CryptoEyeProps { blink: number; scaleY: number; pupilScale: number; px: number; py: number; }\n\nconst CryptoEye: React.FC<CryptoEyeProps> = ({ blink, scaleY, pupilScale, px, py }) => (\n  <g transform={`scale(1, ${scaleY * blink})`}>\n    <ellipse cx={0} cy={0} rx={9} ry={7} fill={COL.eyeWhite} stroke={COL.outline} strokeWidth={1.5} />\n    <circle cx={px} cy={py} r={4.2 * pupilScale} fill={COL.iris} />\n    <circle cx={px} cy={py} r={2.3 * pupilScale} fill={COL.pupil} />\n    <circle cx={px + 1.5} cy={py - 1.5} r={1.3} fill=\"white\" opacity={0.8} />\n  </g>\n);\n\ninterface CryptoMouthProps { shape: MouthShape; curve: number; width: number; emotionOpen: number; talking: boolean; }\n\nconst CryptoMouth: React.FC<CryptoMouthProps> = ({ shape, curve, width, emotionOpen, talking }) => {\n  const talkOpen = talking ? [0, 3, 7, 11][shape] : emotionOpen * 10;\n  const openAmount = Math.max(talkOpen, emotionOpen * 10);\n  const hw = 12 * width;\n\n  if (openAmount < 1) {\n    return (\n      <path d={`M${-hw},28 Q0,${28 + curve} ${hw},28`}\n        fill=\"none\" stroke={COL.outline} strokeWidth={2.5} strokeLinecap=\"round\" />\n    );\n  }\n\n  return (\n    <g transform=\"translate(0, 28)\">\n      <ellipse cx={0} cy={0} rx={hw} ry={openAmount * 0.5}\n        fill={COL.mouth} stroke={COL.outline} strokeWidth={2.5} />\n      {openAmount > 6 && (\n        <ellipse cx={2} cy={openAmount * 0.25} rx={hw * 0.5} ry={openAmount * 0.2} fill={COL.tongue} />\n      )}\n      {openAmount > 3 && (\n        <rect x={-hw * 0.6} y={-openAmount * 0.35} width={hw * 1.2} height={2.5} fill=\"white\" rx={1} />\n      )}\n    </g>\n  );\n};\n\nexport default CryptoBro;\n","import React, { useMemo } from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { getIdleState } from '../animations/idle';\nimport { getMouthShape, getTalkingBounce, getTalkingGesture } from '../animations/talking';\nimport { interpolateEmotions } from '../animations/emotions';\nimport type { Emotion } from '../animations/emotions';\nimport type { MouthShape } from '../animations/talking';\n\n// Banker: formal pinstripe suit, silver hair, stern but trustworthy\n// Used in bank/savings/mortgage scenes\n\ninterface BankerProps {\n  emotion?: Emotion;\n  previousEmotion?: Emotion;\n  emotionTransitionProgress?: number;\n  talking?: boolean;\n  scale?: number;\n}\n\nconst COL = {\n  skin: '#F0D0B0',\n  skinShadow: '#D8B898',\n  outline: '#1A1A1A',\n  suit: '#2A2A3A',\n  suitDark: '#1A1A2A',\n  suitPinstripe: 'rgba(255,255,255,0.08)',\n  vest: '#3A3A4A',\n  shirt: '#F0F0FF',\n  tie: '#1E3A8A',\n  tieDark: '#142A6A',\n  tieStripe: '#2A5AAA',\n  hair: '#C0C0C0',\n  hairDark: '#A0A0A0',\n  hairShine: '#E0E0E0',\n  glasses: '#4A4A4A',\n  glassLens: 'rgba(200,220,240,0.15)',\n  eyeWhite: '#FFFFFF',\n  iris: '#4A6060',\n  pupil: '#1A1A1A',\n  mouth: '#6B2020',\n  tongue: '#AA4444',\n  blush: '#FFBBBB',\n  shine: 'rgba(255,255,255,0.45)',\n  shoe: '#2A1A0A',\n};\n\nconst SW = 3.5;\n\nexport const Banker: React.FC<BankerProps> = ({\n  emotion = 'neutral',\n  previousEmotion = 'neutral',\n  emotionTransitionProgress = 1,\n  talking = false,\n  scale = 1,\n}) => {\n  const frame = useCurrentFrame();\n  const idle = getIdleState(frame);\n  const mouthShape = getMouthShape(frame, talking);\n  const talkBounce = getTalkingBounce(frame, talking);\n  const talkGesture = getTalkingGesture(frame, talking);\n\n  const emo = useMemo(\n    () => interpolateEmotions(previousEmotion, emotion, emotionTransitionProgress),\n    [previousEmotion, emotion, emotionTransitionProgress],\n  );\n\n  const bodyY = idle.breathing.y + talkBounce;\n\n  return (\n    <svg\n      viewBox=\"-130 -210 260 400\"\n      width={260 * scale}\n      height={400 * scale}\n      style={{ overflow: 'visible' }}\n    >\n      <g transform={`translate(${idle.sway.x}, ${bodyY}) rotate(${idle.sway.rotation})`}>\n        <BankerLegs />\n        <g transform={`scale(${idle.breathing.scaleX}, 1)`}>\n          <BankerBody />\n        </g>\n        <BankerLeftArm gestureRotation={talkGesture} />\n        <BankerRightArm />\n        <g transform={`translate(0, -108) rotate(${emo.headTilt})`}>\n          <BankerHead emo={emo} blink={idle.blink} pupil={idle.pupil} mouthShape={mouthShape} talking={talking} />\n        </g>\n      </g>\n    </svg>\n  );\n};\n\nconst BankerLegs: React.FC = () => (\n  <g>\n    <path d=\"M-16,68 L-19,135 L-7,135 Z\" fill={COL.suit} stroke={COL.outline} strokeWidth={SW} />\n    <path d=\"M16,68 L19,135 L7,135 Z\" fill={COL.suit} stroke={COL.outline} strokeWidth={SW} />\n    <ellipse cx={-16} cy={137} rx={14} ry={6} fill={COL.shoe} stroke={COL.outline} strokeWidth={2} />\n    <ellipse cx={16} cy={137} rx={14} ry={6} fill={COL.shoe} stroke={COL.outline} strokeWidth={2} />\n  </g>\n);\n\nconst BankerBody: React.FC = () => (\n  <g>\n    {/* Suit - conservative cut */}\n    <path\n      d=\"M-42,-45 Q-42,-52 -30,-52 L30,-52 Q42,-52 42,-45 L42,60 Q42,72 0,75 Q-42,72 -42,60 Z\"\n      fill={COL.suit} stroke={COL.outline} strokeWidth={SW}\n    />\n    {/* Pinstripes */}\n    {[-18, -8, 2, 12, 22].map((x, i) => (\n      <line key={`bp-${i}`} x1={x} y1={-42} x2={x + 1} y2={68} stroke={COL.suitPinstripe} strokeWidth={0.8} />\n    ))}\n\n    {/* Vest underneath */}\n    <path d=\"M-22,-48 L-22,40 L22,40 L22,-48\" fill={COL.vest} stroke={COL.outline} strokeWidth={1.5} />\n    {/* Vest buttons */}\n    <circle cx={0} cy={-10} r={2.5} fill={COL.hairDark} stroke={COL.outline} strokeWidth={1} />\n    <circle cx={0} cy={8} r={2.5} fill={COL.hairDark} stroke={COL.outline} strokeWidth={1} />\n    <circle cx={0} cy={26} r={2.5} fill={COL.hairDark} stroke={COL.outline} strokeWidth={1} />\n\n    {/* Shirt collar */}\n    <path d=\"M-14,-50 Q0,-42 14,-50\" fill={COL.shirt} stroke={COL.outline} strokeWidth={1.5} />\n\n    {/* Tie - conservative stripe */}\n    <path d=\"M-4,-48 L0,35 L4,-48\" fill={COL.tie} stroke={COL.outline} strokeWidth={1.5} />\n    {[0, 8, 16, 24].map((y, i) => (\n      <line key={`ts-${i}`} x1={-3} y1={-40 + y} x2={3} y2={-38 + y} stroke={COL.tieStripe} strokeWidth={1} />\n    ))}\n\n    {/* Neck */}\n    <rect x={-10} y={-52} width={20} height={10} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n  </g>\n);\n\nconst BankerLeftArm: React.FC<{ gestureRotation: number }> = ({ gestureRotation }) => (\n  <g transform={`translate(-44, -26) rotate(${-8 + gestureRotation * 0.6}, 0, 0)`}>\n    <line x1={0} y1={0} x2={-16} y2={36} stroke={COL.suit} strokeWidth={12} strokeLinecap=\"round\" />\n    <line x1={0} y1={0} x2={-16} y2={36} stroke={COL.outline} strokeWidth={14} strokeLinecap=\"round\" opacity={0.12} />\n    <g transform=\"translate(-16, 36)\">\n      <line x1={0} y1={0} x2={-6} y2={28} stroke={COL.skin} strokeWidth={7} strokeLinecap=\"round\" />\n      <circle cx={-8} cy={32} r={7} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n    </g>\n  </g>\n);\n\nconst BankerRightArm: React.FC = () => (\n  <g transform=\"translate(44, -26)\">\n    <line x1={0} y1={0} x2={14} y2={36} stroke={COL.suit} strokeWidth={12} strokeLinecap=\"round\" />\n    <line x1={0} y1={0} x2={14} y2={36} stroke={COL.outline} strokeWidth={14} strokeLinecap=\"round\" opacity={0.12} />\n    <g transform=\"translate(14, 36)\">\n      <line x1={0} y1={0} x2={4} y2={28} stroke={COL.skin} strokeWidth={7} strokeLinecap=\"round\" />\n      <circle cx={6} cy={32} r={7} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n    </g>\n  </g>\n);\n\ninterface BankerHeadProps {\n  emo: {\n    eyeScaleY: number; eyeOffsetY: number; pupilScale: number;\n    browLeftY: number; browRightY: number; browLeftRotation: number; browRightRotation: number;\n    mouthCurve: number; mouthWidth: number; mouthOpen: number;\n    blushOpacity: number; headTilt: number;\n  };\n  blink: number;\n  pupil: { x: number; y: number };\n  mouthShape: MouthShape;\n  talking: boolean;\n}\n\nconst BankerHead: React.FC<BankerHeadProps> = ({ emo, blink, pupil, mouthShape, talking }) => (\n  <g>\n    {/* Silver hair back */}\n    <path\n      d=\"M-42,5 Q-48,-10 -44,-28 Q-38,-45 0,-50 Q38,-45 44,-28 Q48,-10 42,5\n         L38,10 Q20,14 0,14 Q-20,14 -38,10 Z\"\n      fill={COL.hair} stroke={COL.outline} strokeWidth={2.5}\n    />\n\n    {/* Face */}\n    <ellipse cx={0} cy={2} rx={44} ry={46} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n\n    {/* Hair front - neat side part */}\n    <path\n      d=\"M-36,-28 Q-32,-44 -10,-48 Q10,-48 30,-44 Q40,-38 38,-28\n         L35,-24 Q28,-38 10,-40 Q-10,-42 -32,-30 Z\"\n      fill={COL.hair} stroke={COL.outline} strokeWidth={2}\n    />\n    {/* Part line */}\n    <path d=\"M-20,-40 Q-18,-30 -22,-22\" fill=\"none\" stroke={COL.hairDark} strokeWidth={1.5} />\n    <path d=\"M-5,-42 Q0,-35 5,-42\" fill=\"none\" stroke={COL.hairShine} strokeWidth={1} opacity={0.4} />\n\n    {/* Half-frame glasses (reading glasses style) */}\n    <rect x={-28} y={-8} width={22} height={14} rx={3} fill={COL.glassLens} stroke={COL.glasses} strokeWidth={2} />\n    <rect x={6} y={-8} width={22} height={14} rx={3} fill={COL.glassLens} stroke={COL.glasses} strokeWidth={2} />\n    <path d=\"M-6,0 Q0,-4 6,0\" fill=\"none\" stroke={COL.glasses} strokeWidth={2} />\n    <line x1={-28} y1={-2} x2={-44} y2={-6} stroke={COL.glasses} strokeWidth={1.5} />\n    <line x1={28} y1={-2} x2={44} y2={-6} stroke={COL.glasses} strokeWidth={1.5} />\n\n    {/* Eyes */}\n    <g transform={`translate(-17, ${0 + emo.eyeOffsetY})`}>\n      <BankerEye blink={blink} scaleY={emo.eyeScaleY} pupilScale={emo.pupilScale} px={pupil.x} py={pupil.y} />\n    </g>\n    <g transform={`translate(17, ${0 + emo.eyeOffsetY})`}>\n      <BankerEye blink={blink} scaleY={emo.eyeScaleY} pupilScale={emo.pupilScale} px={pupil.x} py={pupil.y} />\n    </g>\n\n    {/* Eyebrows */}\n    <g transform={`translate(-17, ${-15 + emo.browLeftY}) rotate(${emo.browLeftRotation})`}>\n      <rect x={-9} y={0} width={18} height={3} rx={1.5} fill={COL.hairDark} />\n    </g>\n    <g transform={`translate(17, ${-15 + emo.browRightY}) rotate(${emo.browRightRotation})`}>\n      <rect x={-9} y={0} width={18} height={3} rx={1.5} fill={COL.hairDark} />\n    </g>\n\n    {emo.blushOpacity > 0.01 && (\n      <>\n        <ellipse cx={-28} cy={14} rx={7} ry={4} fill={COL.blush} opacity={emo.blushOpacity} />\n        <ellipse cx={28} cy={14} rx={7} ry={4} fill={COL.blush} opacity={emo.blushOpacity} />\n      </>\n    )}\n\n    {/* Nose */}\n    <path d=\"M-3,8 Q0,16 3,8\" fill=\"none\" stroke={COL.outline} strokeWidth={2.2} strokeLinecap=\"round\" />\n\n    {/* Mouth */}\n    <BankerMouth shape={mouthShape} curve={emo.mouthCurve} width={emo.mouthWidth}\n      emotionOpen={emo.mouthOpen} talking={talking} />\n  </g>\n);\n\ninterface BankerEyeProps { blink: number; scaleY: number; pupilScale: number; px: number; py: number; }\n\nconst BankerEye: React.FC<BankerEyeProps> = ({ blink, scaleY, pupilScale, px, py }) => (\n  <g transform={`scale(1, ${scaleY * blink})`}>\n    <ellipse cx={0} cy={0} rx={8} ry={6} fill={COL.eyeWhite} stroke={COL.outline} strokeWidth={1.5} />\n    <circle cx={px} cy={py} r={3.8 * pupilScale} fill={COL.iris} />\n    <circle cx={px} cy={py} r={2 * pupilScale} fill={COL.pupil} />\n    <circle cx={px + 1.5} cy={py - 1.5} r={1.2} fill=\"white\" opacity={0.8} />\n  </g>\n);\n\ninterface BankerMouthProps { shape: MouthShape; curve: number; width: number; emotionOpen: number; talking: boolean; }\n\nconst BankerMouth: React.FC<BankerMouthProps> = ({ shape, curve, width, emotionOpen, talking }) => {\n  const talkOpen = talking ? [0, 3, 5, 9][shape] : emotionOpen * 10;\n  const openAmount = Math.max(talkOpen, emotionOpen * 10);\n  const hw = 11 * width;\n\n  if (openAmount < 1) {\n    return (\n      <path d={`M${-hw},28 Q0,${28 + curve} ${hw},28`}\n        fill=\"none\" stroke={COL.outline} strokeWidth={2.5} strokeLinecap=\"round\" />\n    );\n  }\n\n  return (\n    <g transform=\"translate(0, 28)\">\n      <ellipse cx={0} cy={0} rx={hw} ry={openAmount * 0.45}\n        fill={COL.mouth} stroke={COL.outline} strokeWidth={2.5} />\n      {openAmount > 6 && (\n        <ellipse cx={1} cy={openAmount * 0.2} rx={hw * 0.4} ry={openAmount * 0.15} fill={COL.tongue} />\n      )}\n      {openAmount > 3 && (\n        <rect x={-hw * 0.6} y={-openAmount * 0.35} width={hw * 1.2} height={2.5} fill=\"white\" rx={1} />\n      )}\n    </g>\n  );\n};\n\nexport default Banker;\n","import React, { useMemo } from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { getIdleState } from '../animations/idle';\nimport { getMouthShape, getTalkingBounce, getTalkingGesture } from '../animations/talking';\nimport { interpolateEmotions } from '../animations/emotions';\nimport type { Emotion } from '../animations/emotions';\nimport type { MouthShape } from '../animations/talking';\n\n// MarketVendor: friendly market seller, apron, cap, ruddy cheeks\n// Used in inflation/price scenes\n\ninterface MarketVendorProps {\n  emotion?: Emotion;\n  previousEmotion?: Emotion;\n  emotionTransitionProgress?: number;\n  talking?: boolean;\n  scale?: number;\n}\n\nconst COL = {\n  skin: '#E8B888',\n  skinShadow: '#D0A070',\n  outline: '#1A1A1A',\n  apron: '#F5F0E0',\n  apronStripe: '#CC3333',\n  shirt: '#4A7A4A',\n  shirtDark: '#3A6A3A',\n  cap: '#4A7A4A',\n  capBrim: '#3A6A3A',\n  hair: '#8B4513',\n  hairDark: '#6B3010',\n  mustache: '#6B3010',\n  eyeWhite: '#FFFFFF',\n  iris: '#5B4020',\n  pupil: '#1A1A1A',\n  mouth: '#8B2020',\n  tongue: '#CC5555',\n  blush: '#FF9999',\n  shine: 'rgba(255,255,255,0.45)',\n  shoe: '#5C3A1E',\n};\n\nconst SW = 3.5;\n\nexport const MarketVendor: React.FC<MarketVendorProps> = ({\n  emotion = 'neutral',\n  previousEmotion = 'neutral',\n  emotionTransitionProgress = 1,\n  talking = false,\n  scale = 1,\n}) => {\n  const frame = useCurrentFrame();\n  const idle = getIdleState(frame);\n  const mouthShape = getMouthShape(frame, talking);\n  const talkBounce = getTalkingBounce(frame, talking);\n  const talkGesture = getTalkingGesture(frame, talking);\n\n  const emo = useMemo(\n    () => interpolateEmotions(previousEmotion, emotion, emotionTransitionProgress),\n    [previousEmotion, emotion, emotionTransitionProgress],\n  );\n\n  const bodyY = idle.breathing.y + talkBounce;\n\n  return (\n    <svg\n      viewBox=\"-130 -200 260 390\"\n      width={260 * scale}\n      height={390 * scale}\n      style={{ overflow: 'visible' }}\n    >\n      <g transform={`translate(${idle.sway.x}, ${bodyY}) rotate(${idle.sway.rotation})`}>\n        <VendorLegs />\n        <g transform={`scale(${idle.breathing.scaleX}, 1)`}>\n          <VendorBody />\n        </g>\n        <VendorLeftArm gestureRotation={talkGesture} />\n        <VendorRightArm />\n        <g transform={`translate(0, -98) rotate(${emo.headTilt})`}>\n          <VendorHead emo={emo} blink={idle.blink} pupil={idle.pupil} mouthShape={mouthShape} talking={talking} />\n        </g>\n      </g>\n    </svg>\n  );\n};\n\nconst VendorLegs: React.FC = () => (\n  <g>\n    <path d=\"M-18,65 L-22,130 L-8,130 Z\" fill=\"#4A4A5A\" stroke={COL.outline} strokeWidth={SW} />\n    <path d=\"M18,65 L22,130 L8,130 Z\" fill=\"#4A4A5A\" stroke={COL.outline} strokeWidth={SW} />\n    <ellipse cx={-18} cy={132} rx={15} ry={6} fill={COL.shoe} stroke={COL.outline} strokeWidth={2} />\n    <ellipse cx={18} cy={132} rx={15} ry={6} fill={COL.shoe} stroke={COL.outline} strokeWidth={2} />\n  </g>\n);\n\nconst VendorBody: React.FC = () => (\n  <g>\n    {/* Shirt */}\n    <path\n      d=\"M-46,-38 Q-46,-45 -34,-45 L34,-45 Q46,-45 46,-38 L46,58 Q46,70 0,73 Q-46,70 -46,58 Z\"\n      fill={COL.shirt} stroke={COL.outline} strokeWidth={SW}\n    />\n    <line x1={0} y1={-20} x2={0} y2={60} stroke={COL.shirtDark} strokeWidth={1} opacity={0.3} />\n\n    {/* Apron */}\n    <path\n      d=\"M-32,-10 L-32,65 Q-32,72 0,74 Q32,72 32,65 L32,-10 Q32,-18 0,-20 Q-32,-18 -32,-10 Z\"\n      fill={COL.apron} stroke={COL.outline} strokeWidth={2.5}\n    />\n    {/* Apron stripes */}\n    <line x1={-15} y1={-15} x2={-15} y2={68} stroke={COL.apronStripe} strokeWidth={2} opacity={0.3} />\n    <line x1={15} y1={-15} x2={15} y2={68} stroke={COL.apronStripe} strokeWidth={2} opacity={0.3} />\n    {/* Apron pocket */}\n    <rect x={-14} y={20} width={28} height={18} rx={3} fill=\"none\" stroke={COL.outline} strokeWidth={1.5} opacity={0.4} />\n    {/* Pencil in pocket */}\n    <line x1={8} y1={18} x2={10} y2={32} stroke=\"#D4A012\" strokeWidth={2} />\n\n    {/* Apron straps (neck) */}\n    <path d=\"M-32,-10 L-20,-42\" stroke={COL.apron} strokeWidth={5} />\n    <path d=\"M32,-10 L20,-42\" stroke={COL.apron} strokeWidth={5} />\n    <path d=\"M-32,-10 L-20,-42\" stroke={COL.outline} strokeWidth={1.5} fill=\"none\" />\n    <path d=\"M32,-10 L20,-42\" stroke={COL.outline} strokeWidth={1.5} fill=\"none\" />\n\n    {/* Neck */}\n    <rect x={-10} y={-48} width={20} height={10} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n  </g>\n);\n\nconst VendorLeftArm: React.FC<{ gestureRotation: number }> = ({ gestureRotation }) => (\n  <g transform={`translate(-46, -22) rotate(${-10 + gestureRotation}, 0, 0)`}>\n    <line x1={0} y1={0} x2={-14} y2={34} stroke={COL.shirt} strokeWidth={13} strokeLinecap=\"round\" />\n    <line x1={0} y1={0} x2={-14} y2={34} stroke={COL.outline} strokeWidth={15} strokeLinecap=\"round\" opacity={0.12} />\n    <g transform=\"translate(-14, 34)\">\n      <line x1={0} y1={0} x2={-6} y2={26} stroke={COL.skin} strokeWidth={7} strokeLinecap=\"round\" />\n      <circle cx={-8} cy={30} r={8} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n    </g>\n  </g>\n);\n\nconst VendorRightArm: React.FC = () => (\n  <g transform=\"translate(46, -22)\">\n    <line x1={0} y1={0} x2={14} y2={34} stroke={COL.shirt} strokeWidth={13} strokeLinecap=\"round\" />\n    <line x1={0} y1={0} x2={14} y2={34} stroke={COL.outline} strokeWidth={15} strokeLinecap=\"round\" opacity={0.12} />\n    <g transform=\"translate(14, 34)\">\n      <line x1={0} y1={0} x2={4} y2={26} stroke={COL.skin} strokeWidth={7} strokeLinecap=\"round\" />\n      <circle cx={6} cy={30} r={8} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n    </g>\n  </g>\n);\n\ninterface VendorHeadProps {\n  emo: {\n    eyeScaleY: number; eyeOffsetY: number; pupilScale: number;\n    browLeftY: number; browRightY: number; browLeftRotation: number; browRightRotation: number;\n    mouthCurve: number; mouthWidth: number; mouthOpen: number;\n    blushOpacity: number; headTilt: number;\n  };\n  blink: number;\n  pupil: { x: number; y: number };\n  mouthShape: MouthShape;\n  talking: boolean;\n}\n\nconst VendorHead: React.FC<VendorHeadProps> = ({ emo, blink, pupil, mouthShape, talking }) => (\n  <g>\n    {/* Round head */}\n    <circle cx={0} cy={2} r={48} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n\n    {/* Ruddy cheeks (always slightly rosy) */}\n    <ellipse cx={-30} cy={16} rx={10} ry={6} fill={COL.blush} opacity={0.25 + emo.blushOpacity * 0.4} />\n    <ellipse cx={30} cy={16} rx={10} ry={6} fill={COL.blush} opacity={0.25 + emo.blushOpacity * 0.4} />\n\n    {/* Hair sides */}\n    <path d=\"M-44,-8 Q-50,-18 -44,-30 Q-38,-38 -28,-40\" fill={COL.hair} stroke={COL.outline} strokeWidth={2} />\n    <path d=\"M44,-8 Q50,-18 44,-30 Q38,-38 28,-40\" fill={COL.hair} stroke={COL.outline} strokeWidth={2} />\n\n    {/* Flat cap */}\n    <path\n      d=\"M-44,-18 Q-44,-38 0,-42 Q44,-38 44,-18 L40,-14 Q20,-25 0,-26 Q-20,-25 -40,-14 Z\"\n      fill={COL.cap} stroke={COL.outline} strokeWidth={2.5}\n    />\n    {/* Cap brim */}\n    <path d=\"M-44,-18 Q-50,-16 -46,-12 L44,-12 Q50,-16 44,-18\"\n      fill={COL.capBrim} stroke={COL.outline} strokeWidth={2} />\n\n    {/* Ears */}\n    <ellipse cx={-46} cy={5} rx={7} ry={11} fill={COL.skin} stroke={COL.outline} strokeWidth={2.5} />\n    <ellipse cx={46} cy={5} rx={7} ry={11} fill={COL.skin} stroke={COL.outline} strokeWidth={2.5} />\n\n    {/* Eyes */}\n    <g transform={`translate(-16, ${0 + emo.eyeOffsetY})`}>\n      <VendorEye blink={blink} scaleY={emo.eyeScaleY} pupilScale={emo.pupilScale} px={pupil.x} py={pupil.y} />\n    </g>\n    <g transform={`translate(16, ${0 + emo.eyeOffsetY})`}>\n      <VendorEye blink={blink} scaleY={emo.eyeScaleY} pupilScale={emo.pupilScale} px={pupil.x} py={pupil.y} />\n    </g>\n\n    {/* Eyebrows */}\n    <g transform={`translate(-16, ${-13 + emo.browLeftY}) rotate(${emo.browLeftRotation})`}>\n      <rect x={-9} y={0} width={18} height={4} rx={2} fill={COL.hair} />\n    </g>\n    <g transform={`translate(16, ${-13 + emo.browRightY}) rotate(${emo.browRightRotation})`}>\n      <rect x={-9} y={0} width={18} height={4} rx={2} fill={COL.hair} />\n    </g>\n\n    {/* Big nose */}\n    <path d=\"M-5,8 Q-8,18 -3,20 Q0,22 3,20 Q8,18 5,8\" fill={COL.skinShadow} stroke={COL.outline} strokeWidth={2} />\n\n    {/* Handlebar mustache */}\n    <path d=\"M-2,22 Q-10,24 -18,20 Q-22,18 -20,16\" fill={COL.mustache} stroke={COL.outline} strokeWidth={1.5} />\n    <path d=\"M2,22 Q10,24 18,20 Q22,18 20,16\" fill={COL.mustache} stroke={COL.outline} strokeWidth={1.5} />\n\n    {/* Mouth */}\n    <VendorMouth shape={mouthShape} curve={emo.mouthCurve} width={emo.mouthWidth}\n      emotionOpen={emo.mouthOpen} talking={talking} />\n  </g>\n);\n\ninterface VendorEyeProps { blink: number; scaleY: number; pupilScale: number; px: number; py: number; }\n\nconst VendorEye: React.FC<VendorEyeProps> = ({ blink, scaleY, pupilScale, px, py }) => (\n  <g transform={`scale(1, ${scaleY * blink})`}>\n    <ellipse cx={0} cy={0} rx={8} ry={6.5} fill={COL.eyeWhite} stroke={COL.outline} strokeWidth={1.5} />\n    <circle cx={px} cy={py} r={3.8 * pupilScale} fill={COL.iris} />\n    <circle cx={px} cy={py} r={2 * pupilScale} fill={COL.pupil} />\n    <circle cx={px + 1.5} cy={py - 1.5} r={1.2} fill=\"white\" opacity={0.8} />\n  </g>\n);\n\ninterface VendorMouthProps { shape: MouthShape; curve: number; width: number; emotionOpen: number; talking: boolean; }\n\nconst VendorMouth: React.FC<VendorMouthProps> = ({ shape, curve, width, emotionOpen, talking }) => {\n  const talkOpen = talking ? [0, 3, 7, 11][shape] : emotionOpen * 10;\n  const openAmount = Math.max(talkOpen, emotionOpen * 10);\n  const hw = 12 * width;\n\n  if (openAmount < 1) {\n    return (\n      <path d={`M${-hw},30 Q0,${30 + curve} ${hw},30`}\n        fill=\"none\" stroke={COL.outline} strokeWidth={2.5} strokeLinecap=\"round\" />\n    );\n  }\n\n  return (\n    <g transform=\"translate(0, 30)\">\n      <ellipse cx={0} cy={0} rx={hw} ry={openAmount * 0.5}\n        fill={COL.mouth} stroke={COL.outline} strokeWidth={2.5} />\n      {openAmount > 6 && (\n        <ellipse cx={2} cy={openAmount * 0.25} rx={hw * 0.5} ry={openAmount * 0.2} fill={COL.tongue} />\n      )}\n      {openAmount > 3 && (\n        <rect x={-hw * 0.6} y={-openAmount * 0.35} width={hw * 1.2} height={2.5} fill=\"white\" rx={1} />\n      )}\n    </g>\n  );\n};\n\nexport default MarketVendor;\n","import React, { useMemo } from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { getIdleState } from '../animations/idle';\nimport { getMouthShape, getTalkingBounce, getTalkingGesture } from '../animations/talking';\nimport { interpolateEmotions } from '../animations/emotions';\nimport type { Emotion } from '../animations/emotions';\nimport type { MouthShape } from '../animations/talking';\n\n// TaxAdvisor: Dutch belastingadviseur  neat, formal-casual, glasses, organized\n// Used in tax/government/belasting scenes\n\ninterface TaxAdvisorProps {\n  emotion?: Emotion;\n  previousEmotion?: Emotion;\n  emotionTransitionProgress?: number;\n  talking?: boolean;\n  scale?: number;\n}\n\nconst COL = {\n  skin: '#F0D0B5',\n  skinShadow: '#D8B89A',\n  outline: '#1A1A1A',\n  blazer: '#2A4A6A',\n  blazerDark: '#1A3A5A',\n  shirt: '#FFFFFF',\n  shirtShadow: '#E8E8E8',\n  hair: '#3A2A1A',\n  hairDark: '#2A1A0A',\n  hairShine: '#5A4A3A',\n  glasses: '#2A2A2A',\n  glassLens: 'rgba(200,220,240,0.18)',\n  scarf: '#FF6600', // Dutch orange\n  scarfDark: '#CC5500',\n  eyeWhite: '#FFFFFF',\n  iris: '#3A5A3A',\n  pupil: '#1A1A1A',\n  mouth: '#7A2020',\n  tongue: '#BB5555',\n  blush: '#FFBBBB',\n  shine: 'rgba(255,255,255,0.45)',\n  shoe: '#2A2A2A',\n  clipboard: '#F5E8C8',\n  clipboardClip: '#888888',\n};\n\nconst SW = 3.5;\n\nexport const TaxAdvisor: React.FC<TaxAdvisorProps> = ({\n  emotion = 'neutral',\n  previousEmotion = 'neutral',\n  emotionTransitionProgress = 1,\n  talking = false,\n  scale = 1,\n}) => {\n  const frame = useCurrentFrame();\n  const idle = getIdleState(frame);\n  const mouthShape = getMouthShape(frame, talking);\n  const talkBounce = getTalkingBounce(frame, talking);\n  const talkGesture = getTalkingGesture(frame, talking);\n\n  const emo = useMemo(\n    () => interpolateEmotions(previousEmotion, emotion, emotionTransitionProgress),\n    [previousEmotion, emotion, emotionTransitionProgress],\n  );\n\n  const bodyY = idle.breathing.y + talkBounce;\n\n  return (\n    <svg\n      viewBox=\"-130 -210 260 400\"\n      width={260 * scale}\n      height={400 * scale}\n      style={{ overflow: 'visible' }}\n    >\n      <g transform={`translate(${idle.sway.x}, ${bodyY}) rotate(${idle.sway.rotation})`}>\n        <TaxLegs />\n        <g transform={`scale(${idle.breathing.scaleX}, 1)`}>\n          <TaxBody />\n        </g>\n        <TaxLeftArm gestureRotation={talkGesture} />\n        <TaxRightArm />\n        <g transform={`translate(0, -105) rotate(${emo.headTilt})`}>\n          <TaxHead emo={emo} blink={idle.blink} pupil={idle.pupil} mouthShape={mouthShape} talking={talking} />\n        </g>\n      </g>\n    </svg>\n  );\n};\n\nconst TaxLegs: React.FC = () => (\n  <g>\n    <path d=\"M-15,68 L-18,135 L-6,135 Z\" fill=\"#3A3A4A\" stroke={COL.outline} strokeWidth={SW} />\n    <path d=\"M15,68 L18,135 L6,135 Z\" fill=\"#3A3A4A\" stroke={COL.outline} strokeWidth={SW} />\n    <ellipse cx={-15} cy={137} rx={14} ry={5.5} fill={COL.shoe} stroke={COL.outline} strokeWidth={2} />\n    <ellipse cx={15} cy={137} rx={14} ry={5.5} fill={COL.shoe} stroke={COL.outline} strokeWidth={2} />\n  </g>\n);\n\nconst TaxBody: React.FC = () => (\n  <g>\n    {/* Blazer */}\n    <path\n      d=\"M-40,-45 Q-40,-52 -28,-52 L28,-52 Q40,-52 40,-45 L40,58 Q40,70 0,73 Q-40,70 -40,58 Z\"\n      fill={COL.blazer} stroke={COL.outline} strokeWidth={SW}\n    />\n    {/* Blazer inner shadow */}\n    <path d=\"M-36,-30 L-36,55\" stroke={COL.blazerDark} strokeWidth={2} opacity={0.3} />\n    <path d=\"M36,-30 L36,55\" stroke={COL.blazerDark} strokeWidth={2} opacity={0.3} />\n\n    {/* Shirt visible */}\n    <path d=\"M-10,-50 L0,10 L10,-50\" fill={COL.shirt} stroke={COL.outline} strokeWidth={1.5} />\n\n    {/* Blazer buttons */}\n    <circle cx={-6} cy={5} r={3} fill={COL.blazerDark} stroke={COL.outline} strokeWidth={1} />\n    <circle cx={-6} cy={22} r={3} fill={COL.blazerDark} stroke={COL.outline} strokeWidth={1} />\n\n    {/* Lapels */}\n    <path d=\"M-10,-50 L-22,-50 L-28,5\" fill=\"none\" stroke={COL.blazerDark} strokeWidth={2} />\n    <path d=\"M10,-50 L22,-50 L28,5\" fill=\"none\" stroke={COL.blazerDark} strokeWidth={2} />\n\n    {/* Orange scarf/pocket square (Dutch touch) */}\n    <path d=\"M26,-32 L30,-24 L34,-32\" fill={COL.scarf} stroke={COL.outline} strokeWidth={1} />\n\n    {/* Neck */}\n    <rect x={-10} y={-52} width={20} height={10} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n  </g>\n);\n\nconst TaxLeftArm: React.FC<{ gestureRotation: number }> = ({ gestureRotation }) => (\n  <g transform={`translate(-42, -26) rotate(${-8 + gestureRotation * 0.7}, 0, 0)`}>\n    <line x1={0} y1={0} x2={-15} y2={35} stroke={COL.blazer} strokeWidth={12} strokeLinecap=\"round\" />\n    <line x1={0} y1={0} x2={-15} y2={35} stroke={COL.outline} strokeWidth={14} strokeLinecap=\"round\" opacity={0.12} />\n    <g transform=\"translate(-15, 35)\">\n      <line x1={0} y1={0} x2={-5} y2={26} stroke={COL.skin} strokeWidth={7} strokeLinecap=\"round\" />\n      <circle cx={-7} cy={30} r={7} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n      {/* Clipboard */}\n      <g transform=\"translate(-22, 10) rotate(-10)\">\n        <rect x={0} y={0} width={24} height={32} rx={2} fill={COL.clipboard} stroke={COL.outline} strokeWidth={1.5} />\n        <rect x={6} y={-3} width={12} height={6} rx={2} fill={COL.clipboardClip} stroke={COL.outline} strokeWidth={1} />\n        {/* Lines on clipboard */}\n        <line x1={4} y1={10} x2={20} y2={10} stroke=\"#CCC\" strokeWidth={1} />\n        <line x1={4} y1={15} x2={20} y2={15} stroke=\"#CCC\" strokeWidth={1} />\n        <line x1={4} y1={20} x2={16} y2={20} stroke=\"#CCC\" strokeWidth={1} />\n        {/* Checkmarks */}\n        <path d=\"M2,10 L3,11 L5,8\" fill=\"none\" stroke=\"#2D5016\" strokeWidth={1} />\n        <path d=\"M2,15 L3,16 L5,13\" fill=\"none\" stroke=\"#2D5016\" strokeWidth={1} />\n      </g>\n    </g>\n  </g>\n);\n\nconst TaxRightArm: React.FC = () => (\n  <g transform=\"translate(42, -26)\">\n    <line x1={0} y1={0} x2={14} y2={35} stroke={COL.blazer} strokeWidth={12} strokeLinecap=\"round\" />\n    <line x1={0} y1={0} x2={14} y2={35} stroke={COL.outline} strokeWidth={14} strokeLinecap=\"round\" opacity={0.12} />\n    <g transform=\"translate(14, 35)\">\n      <line x1={0} y1={0} x2={4} y2={26} stroke={COL.skin} strokeWidth={7} strokeLinecap=\"round\" />\n      <circle cx={6} cy={30} r={7} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n    </g>\n  </g>\n);\n\ninterface TaxHeadProps {\n  emo: {\n    eyeScaleY: number; eyeOffsetY: number; pupilScale: number;\n    browLeftY: number; browRightY: number; browLeftRotation: number; browRightRotation: number;\n    mouthCurve: number; mouthWidth: number; mouthOpen: number;\n    blushOpacity: number; headTilt: number;\n  };\n  blink: number;\n  pupil: { x: number; y: number };\n  mouthShape: MouthShape;\n  talking: boolean;\n}\n\nconst TaxHead: React.FC<TaxHeadProps> = ({ emo, blink, pupil, mouthShape, talking }) => (\n  <g>\n    {/* Hair back */}\n    <path\n      d=\"M-42,5 Q-48,-8 -44,-26 Q-38,-44 0,-48 Q38,-44 44,-26 Q48,-8 42,5\n         L38,10 Q20,14 0,14 Q-20,14 -38,10 Z\"\n      fill={COL.hair} stroke={COL.outline} strokeWidth={2.5}\n    />\n\n    {/* Face */}\n    <ellipse cx={0} cy={2} rx={44} ry={46} fill={COL.skin} stroke={COL.outline} strokeWidth={SW} />\n\n    {/* Hair front - neat, professional */}\n    <path\n      d=\"M-36,-26 Q-30,-42 0,-46 Q30,-42 36,-26\n         L34,-20 Q26,-36 0,-38 Q-26,-36 -34,-20 Z\"\n      fill={COL.hair} stroke={COL.outline} strokeWidth={2}\n    />\n    <path d=\"M-10,-40 Q0,-46 10,-40\" fill=\"none\" stroke={COL.hairShine} strokeWidth={1.2} opacity={0.3} />\n\n    {/* Round glasses */}\n    <circle cx={-16} cy={0} r={13} fill={COL.glassLens} stroke={COL.glasses} strokeWidth={2.5} />\n    <circle cx={16} cy={0} r={13} fill={COL.glassLens} stroke={COL.glasses} strokeWidth={2.5} />\n    <path d=\"M-3,0 Q0,-3 3,0\" fill=\"none\" stroke={COL.glasses} strokeWidth={2.5} />\n    <line x1={-29} y1={-2} x2={-44} y2={-5} stroke={COL.glasses} strokeWidth={2} />\n    <line x1={29} y1={-2} x2={44} y2={-5} stroke={COL.glasses} strokeWidth={2} />\n\n    {/* Eyes */}\n    <g transform={`translate(-16, ${0 + emo.eyeOffsetY})`}>\n      <TaxEye blink={blink} scaleY={emo.eyeScaleY} pupilScale={emo.pupilScale} px={pupil.x} py={pupil.y} />\n    </g>\n    <g transform={`translate(16, ${0 + emo.eyeOffsetY})`}>\n      <TaxEye blink={blink} scaleY={emo.eyeScaleY} pupilScale={emo.pupilScale} px={pupil.x} py={pupil.y} />\n    </g>\n\n    {/* Eyebrows */}\n    <g transform={`translate(-16, ${-15 + emo.browLeftY}) rotate(${emo.browLeftRotation})`}>\n      <rect x={-9} y={0} width={18} height={3} rx={1.5} fill={COL.hair} />\n    </g>\n    <g transform={`translate(16, ${-15 + emo.browRightY}) rotate(${emo.browRightRotation})`}>\n      <rect x={-9} y={0} width={18} height={3} rx={1.5} fill={COL.hair} />\n    </g>\n\n    {emo.blushOpacity > 0.01 && (\n      <>\n        <ellipse cx={-28} cy={14} rx={7} ry={4} fill={COL.blush} opacity={emo.blushOpacity} />\n        <ellipse cx={28} cy={14} rx={7} ry={4} fill={COL.blush} opacity={emo.blushOpacity} />\n      </>\n    )}\n\n    {/* Nose */}\n    <path d=\"M-3,8 Q0,15 3,8\" fill=\"none\" stroke={COL.outline} strokeWidth={2} strokeLinecap=\"round\" />\n\n    {/* Friendly smile lines */}\n    <path d=\"M-30,12 Q-28,18 -24,14\" fill=\"none\" stroke={COL.skinShadow} strokeWidth={1} opacity={0.3} />\n    <path d=\"M30,12 Q28,18 24,14\" fill=\"none\" stroke={COL.skinShadow} strokeWidth={1} opacity={0.3} />\n\n    {/* Mouth */}\n    <TaxMouth shape={mouthShape} curve={emo.mouthCurve} width={emo.mouthWidth}\n      emotionOpen={emo.mouthOpen} talking={talking} />\n  </g>\n);\n\ninterface TaxEyeProps { blink: number; scaleY: number; pupilScale: number; px: number; py: number; }\n\nconst TaxEye: React.FC<TaxEyeProps> = ({ blink, scaleY, pupilScale, px, py }) => (\n  <g transform={`scale(1, ${scaleY * blink})`}>\n    <ellipse cx={0} cy={0} rx={8} ry={6} fill={COL.eyeWhite} stroke={COL.outline} strokeWidth={1.5} />\n    <circle cx={px} cy={py} r={3.8 * pupilScale} fill={COL.iris} />\n    <circle cx={px} cy={py} r={2 * pupilScale} fill={COL.pupil} />\n    <circle cx={px + 1.5} cy={py - 1.5} r={1.2} fill=\"white\" opacity={0.8} />\n  </g>\n);\n\ninterface TaxMouthProps { shape: MouthShape; curve: number; width: number; emotionOpen: number; talking: boolean; }\n\nconst TaxMouth: React.FC<TaxMouthProps> = ({ shape, curve, width, emotionOpen, talking }) => {\n  const talkOpen = talking ? [0, 3, 6, 10][shape] : emotionOpen * 10;\n  const openAmount = Math.max(talkOpen, emotionOpen * 10);\n  const hw = 11 * width;\n\n  if (openAmount < 1) {\n    return (\n      <path d={`M${-hw},26 Q0,${26 + curve} ${hw},26`}\n        fill=\"none\" stroke={COL.outline} strokeWidth={2.5} strokeLinecap=\"round\" />\n    );\n  }\n\n  return (\n    <g transform=\"translate(0, 26)\">\n      <ellipse cx={0} cy={0} rx={hw} ry={openAmount * 0.48}\n        fill={COL.mouth} stroke={COL.outline} strokeWidth={2.5} />\n      {openAmount > 6 && (\n        <ellipse cx={1} cy={openAmount * 0.22} rx={hw * 0.45} ry={openAmount * 0.18} fill={COL.tongue} />\n      )}\n      {openAmount > 3 && (\n        <rect x={-hw * 0.6} y={-openAmount * 0.35} width={hw * 1.2} height={2.5} fill=\"white\" rx={1} />\n      )}\n    </g>\n  );\n};\n\nexport default TaxAdvisor;\n","// Animated Aztec crowd components for background scenes\n// Mesoamerican figures: warriors, priests, traders, farmers, musicians\n// These create the feeling of a living, bustling Aztec world\n\nimport React from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { sineWave } from '../animations/easing';\n\n// ---- Shared Aztec colors ----\nconst SKIN = '#B8865A';\nconst SKIN_DARK = '#9A6E42';\nconst SKIN_LIGHT = '#D4A06A';\nconst LOINCLOTH = '#E8D8B8';\nconst COTTON_WHITE = '#F0E8D0';\nconst COTTON_BLUE = '#3B6B8A';\nconst JAGUAR_SPOT = '#C8A040';\nconst JAGUAR_DARK = '#5C4420';\nconst EAGLE_WHITE = '#E8E0D0';\nconst EAGLE_GRAY = '#8A8A7A';\nconst FEATHER_GREEN = '#1A6B3A';\nconst FEATHER_RED = '#B02020';\nconst FEATHER_BLUE = '#2040A0';\nconst FEATHER_GOLD = '#D4A020';\nconst OBSIDIAN = '#2A2A3A';\nconst OBSIDIAN_SHINE = '#4A4A6A';\nconst JADE = '#3A8A5A';\nconst TURQUOISE = '#40B0B0';\nconst GOLD = '#D4A020';\nconst GOLD_LIGHT = '#F0C840';\nconst WOOD = '#7A5030';\nconst WOOD_DARK = '#5A3820';\nconst STONE = '#8A7A6A';\nconst ROPE = '#9B8968';\nconst CACAO = '#4A2A10';\nconst MAIZE_GREEN = '#5A8A30';\nconst MAIZE_GOLD = '#E8C040';\nconst BLOOD_RED = '#8B0000';\nconst INCENSE_GRAY = 'rgba(180,170,160,0.4)';\nconst OUTLINE = '#1A1A1A';\n\n// ---- Types ----\n\nexport interface AztecCrowdFigureProps {\n  x: number;\n  y: number;\n  scale?: number;\n  seed?: number;\n  flip?: boolean;\n}\n\nexport interface AztecCrowdLayerConfig {\n  figures: Array<{\n    type: AztecCrowdFigureType;\n    x: number;\n    y: number;\n    scale?: number;\n    seed?: number;\n    flip?: boolean;\n  }>;\n}\n\nexport type AztecCrowdFigureType =\n  | 'jaguarWarrior'\n  | 'eagleWarrior'\n  | 'aztecPriest'\n  | 'sacrificePriest'\n  | 'merchantTrader'\n  | 'farmer'\n  | 'waterCarrier'\n  | 'noblewoman'\n  | 'drummer'\n  | 'conchPlayer'\n  | 'sickPerson'\n  | 'mourner'\n  | 'spanishSoldier'\n  | 'horseman';\n\n// ---- Jaguar Warrior: fierce fighter in jaguar costume ----\n\nexport const JaguarWarrior: React.FC<AztecCrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const fightCycle = sineWave(frame, 0.2, seed);\n  const armSwing = fightCycle * 8;\n  const bodyLean = fightCycle * 3;\n  const legStride = fightCycle * 5;\n  const breathe = sineWave(frame, 0.08, seed + 1) * 0.5;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      {/* Shadow */}\n      <ellipse cx={0} cy={2} rx={14} ry={4} fill=\"rgba(0,0,0,0.18)\" />\n      {/* Back leg */}\n      <line x1={-3} y1={-10} x2={-7 - legStride} y2={2} stroke={SKIN_DARK} strokeWidth={3.5} strokeLinecap=\"round\" />\n      {/* Shin guard */}\n      <rect x={-9 - legStride} y={-2} width={4} height={5} rx={1} fill={GOLD} opacity={0.6} />\n      {/* Front leg */}\n      <line x1={3} y1={-10} x2={8 + legStride} y2={2} stroke={SKIN} strokeWidth={3.5} strokeLinecap=\"round\" />\n      <rect x={6 + legStride} y={-2} width={4} height={5} rx={1} fill={GOLD} opacity={0.6} />\n      {/* Body (muscular, leaning) */}\n      <line x1={0} y1={-10} x2={bodyLean} y2={-26 - breathe} stroke={SKIN} strokeWidth={5} strokeLinecap=\"round\" />\n      {/* Jaguar skin costume - spotted pattern on torso */}\n      <rect x={-4 + bodyLean * 0.3} y={-24 - breathe} width={8} height={12} rx={2} fill={JAGUAR_SPOT} stroke={OUTLINE} strokeWidth={0.5} />\n      <circle cx={-1 + bodyLean * 0.3} cy={-20 - breathe} r={1.2} fill={JAGUAR_DARK} />\n      <circle cx={3 + bodyLean * 0.3} cy={-18 - breathe} r={1} fill={JAGUAR_DARK} />\n      <circle cx={0 + bodyLean * 0.3} cy={-15 - breathe} r={1.2} fill={JAGUAR_DARK} />\n      {/* Jaguar head helmet */}\n      <g transform={`translate(${bodyLean + 1}, ${-30 - breathe})`}>\n        <circle cx={0} cy={0} r={5} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n        {/* Jaguar helmet top */}\n        <path d=\"M-7,-3 Q-8,-10 -3,-12 Q0,-14 3,-12 Q8,-10 7,-3 L5,-2 L-5,-2 Z\"\n          fill={JAGUAR_SPOT} stroke={OUTLINE} strokeWidth={0.6} />\n        {/* Jaguar ears */}\n        <path d=\"M-6,-8 L-8,-14 L-4,-10 Z\" fill={JAGUAR_SPOT} stroke={OUTLINE} strokeWidth={0.5} />\n        <path d=\"M6,-8 L8,-14 L4,-10 Z\" fill={JAGUAR_SPOT} stroke={OUTLINE} strokeWidth={0.5} />\n        {/* Jaguar spots on helmet */}\n        <circle cx={-4} cy={-8} r={1} fill={JAGUAR_DARK} />\n        <circle cx={4} cy={-8} r={1} fill={JAGUAR_DARK} />\n        {/* Jaw fangs */}\n        <path d=\"M-4,2 L-3,5 L-1,3 L1,3 L3,5 L4,2\" fill=\"white\" stroke={OUTLINE} strokeWidth={0.4} />\n      </g>\n      {/* Loincloth with decorative fringe */}\n      <path d=\"M-5,-12 L5,-12 L6,-8 L-6,-8 Z\" fill={COTTON_WHITE} stroke={OUTLINE} strokeWidth={0.5} />\n      <path d=\"M-5,-8 L-4,-5 M-2,-8 L-1,-5 M1,-8 L2,-5 M4,-8 L5,-5\" stroke={GOLD} strokeWidth={0.5} />\n      {/* Shield arm (left) */}\n      <line x1={bodyLean - 2} y1={-22 - breathe} x2={-10} y2={-16} stroke={SKIN_DARK} strokeWidth={2.5} strokeLinecap=\"round\" />\n      {/* Round shield with mosaic */}\n      <circle cx={-14} cy={-14} r={8} fill={FEATHER_GREEN} stroke={OUTLINE} strokeWidth={1} />\n      <circle cx={-14} cy={-14} r={5} fill={GOLD} stroke={OUTLINE} strokeWidth={0.5} />\n      <circle cx={-14} cy={-14} r={2.5} fill={TURQUOISE} />\n      {/* Feather fringe on shield */}\n      {[-30, -15, 0, 15, 30].map((angle, i) => (\n        <line key={`sf-${i}`}\n          x1={-14 + Math.cos((angle + 180) * Math.PI / 180) * 8}\n          y1={-14 + Math.sin((angle + 180) * Math.PI / 180) * 8}\n          x2={-14 + Math.cos((angle + 180) * Math.PI / 180) * 12}\n          y2={-14 + Math.sin((angle + 180) * Math.PI / 180) * 12}\n          stroke={[FEATHER_RED, FEATHER_GREEN, FEATHER_BLUE, FEATHER_GREEN, FEATHER_RED][i]}\n          strokeWidth={1.5} strokeLinecap=\"round\" />\n      ))}\n      {/* Weapon arm (right) with macuahuitl (obsidian sword) */}\n      <line x1={bodyLean + 2} y1={-22 - breathe} x2={14 + armSwing} y2={-18} stroke={SKIN} strokeWidth={2.5} strokeLinecap=\"round\" />\n      {/* Macuahuitl */}\n      <g transform={`translate(${14 + armSwing}, -18) rotate(${-20 + fightCycle * 15})`}>\n        <rect x={-2} y={-20} width={4} height={22} rx={1} fill={WOOD} stroke={OUTLINE} strokeWidth={0.6} />\n        {/* Obsidian blades on edges */}\n        {[-16, -12, -8, -4].map((oy, i) => (\n          <React.Fragment key={`ob-${i}`}>\n            <path d={`M-2,${oy} L-5,${oy - 1.5} L-2,${oy + 2} Z`} fill={OBSIDIAN} stroke={OBSIDIAN_SHINE} strokeWidth={0.3} />\n            <path d={`M2,${oy} L5,${oy - 1.5} L2,${oy + 2} Z`} fill={OBSIDIAN} stroke={OBSIDIAN_SHINE} strokeWidth={0.3} />\n          </React.Fragment>\n        ))}\n      </g>\n    </g>\n  );\n};\n\n// ---- Eagle Warrior: elite fighter in eagle costume ----\n\nexport const EagleWarrior: React.FC<AztecCrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const marchCycle = sineWave(frame, 0.16, seed);\n  const armSwing = marchCycle * 6;\n  const legStride = marchCycle * 4;\n  const breathe = sineWave(frame, 0.08, seed + 2) * 0.5;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={13} ry={3.5} fill=\"rgba(0,0,0,0.16)\" />\n      {/* Legs */}\n      <line x1={-3} y1={-10} x2={-6 - legStride} y2={2} stroke={SKIN_DARK} strokeWidth={3.5} strokeLinecap=\"round\" />\n      <line x1={3} y1={-10} x2={6 + legStride} y2={2} stroke={SKIN} strokeWidth={3.5} strokeLinecap=\"round\" />\n      {/* Sandals */}\n      <rect x={-8 - legStride} y={0} width={5} height={3} rx={1} fill={WOOD} />\n      <rect x={4 + legStride} y={0} width={5} height={3} rx={1} fill={WOOD} />\n      {/* Body */}\n      <line x1={0} y1={-10} x2={0} y2={-26 - breathe} stroke={SKIN} strokeWidth={5} strokeLinecap=\"round\" />\n      {/* Eagle feather costume on torso */}\n      <rect x={-5} y={-24 - breathe} width={10} height={12} rx={2} fill={EAGLE_WHITE} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Feather texture lines */}\n      {[-22, -19, -16].map((fy, i) => (\n        <line key={`ef-${i}`} x1={-4} y1={fy - breathe} x2={4} y2={fy - breathe}\n          stroke={EAGLE_GRAY} strokeWidth={0.5} opacity={0.4} />\n      ))}\n      {/* Eagle head helmet */}\n      <g transform={`translate(0, ${-30 - breathe})`}>\n        <circle cx={0} cy={0} r={4.5} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n        {/* Eagle beak (open) */}\n        <path d=\"M0,-6 L-4,-4 L-8,-8 L-3,-5 L0,-7 L3,-5 L8,-8 L4,-4 Z\"\n          fill={EAGLE_WHITE} stroke={OUTLINE} strokeWidth={0.5} />\n        <path d=\"M-8,-8 L-3,-6\" stroke={GOLD} strokeWidth={0.8} />\n        <path d=\"M8,-8 L3,-6\" stroke={GOLD} strokeWidth={0.8} />\n        {/* Eagle crest feathers */}\n        <line x1={0} y1={-6} x2={-4} y2={-16} stroke={EAGLE_WHITE} strokeWidth={1.5} strokeLinecap=\"round\" />\n        <line x1={0} y1={-6} x2={0} y2={-18} stroke={EAGLE_WHITE} strokeWidth={1.5} strokeLinecap=\"round\" />\n        <line x1={0} y1={-6} x2={4} y2={-16} stroke={EAGLE_WHITE} strokeWidth={1.5} strokeLinecap=\"round\" />\n        {/* Red feather tips */}\n        <circle cx={-4} cy={-16} r={1.5} fill={FEATHER_RED} />\n        <circle cx={0} cy={-18} r={1.5} fill={FEATHER_RED} />\n        <circle cx={4} cy={-16} r={1.5} fill={FEATHER_RED} />\n      </g>\n      {/* Loincloth with eagle feather fringe */}\n      <path d=\"M-5,-12 L5,-12 L6,-7 L-6,-7 Z\" fill={EAGLE_WHITE} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Wing-like arm feathers */}\n      <line x1={0} y1={-22 - breathe} x2={-12 - armSwing} y2={-14} stroke={SKIN_DARK} strokeWidth={2.5} strokeLinecap=\"round\" />\n      {/* Left wing feathers */}\n      {[-18, -15, -12].map((fy, i) => (\n        <line key={`wf-${i}`}\n          x1={-10 - armSwing} y1={fy}\n          x2={-16 - armSwing} y2={fy + 2}\n          stroke={EAGLE_WHITE} strokeWidth={1.5} strokeLinecap=\"round\" />\n      ))}\n      {/* Right arm with spear */}\n      <line x1={0} y1={-22 - breathe} x2={10 + armSwing} y2={-18} stroke={SKIN} strokeWidth={2.5} strokeLinecap=\"round\" />\n      {/* Spear */}\n      <line x1={10 + armSwing} y1={-18} x2={12 + armSwing} y2={-42} stroke={WOOD} strokeWidth={2} strokeLinecap=\"round\" />\n      <path d={`M${10 + armSwing},-42 L${12 + armSwing},-50 L${14 + armSwing},-42 Z`}\n        fill={OBSIDIAN} stroke={OUTLINE} strokeWidth={0.5} />\n    </g>\n  );\n};\n\n// ---- Aztec Priest: elaborate feathered headdress, incense ----\n\nexport const AztecPriest: React.FC<AztecCrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const breathe = sineWave(frame, 0.07, seed) * 0.6;\n  const incenseWaft = sineWave(frame, 0.12, seed + 1) * 3;\n  const armGesture = sineWave(frame, 0.09, seed + 2) * 4;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={10} ry={3} fill=\"rgba(0,0,0,0.14)\" />\n      {/* Legs (standing, robes cover them) */}\n      <line x1={-3} y1={-6} x2={-4} y2={2} stroke={SKIN_DARK} strokeWidth={3} strokeLinecap=\"round\" />\n      <line x1={3} y1={-6} x2={4} y2={2} stroke={SKIN} strokeWidth={3} strokeLinecap=\"round\" />\n      {/* Long robe */}\n      <path d=\"M-7,-6 L-8,-26 Q-8,-28 -6,-28 L6,-28 Q8,-28 8,-26 L7,-6 Z\"\n        fill={COTTON_BLUE} stroke={OUTLINE} strokeWidth={0.6} />\n      {/* Robe decorative border */}\n      <path d=\"M-7,-6 L7,-6\" stroke={GOLD} strokeWidth={1.2} />\n      <path d=\"M-7,-10 L7,-10\" stroke={FEATHER_RED} strokeWidth={0.6} />\n      {/* Body beneath */}\n      <line x1={0} y1={-6} x2={0} y2={-26 - breathe} stroke={SKIN} strokeWidth={0} />\n      {/* Head */}\n      <circle cx={0} cy={-31 - breathe} r={4.5} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      {/* Face paint - black around eyes */}\n      <path d=\"M-3,-32 L-1,-31 M1,-31 L3,-32\" stroke={OUTLINE} strokeWidth={1.2} />\n      {/* Elaborate feathered headdress */}\n      <g transform={`translate(0, ${-36 - breathe})`}>\n        {/* Base headband */}\n        <rect x={-6} y={-2} width={12} height={4} rx={1} fill={GOLD} stroke={OUTLINE} strokeWidth={0.5} />\n        <rect x={-5} y={-1} width={3} height={2} rx={0.5} fill={TURQUOISE} />\n        <rect x={-1} y={-1} width={3} height={2} rx={0.5} fill={JADE} />\n        <rect x={3} y={-1} width={2} height={2} rx={0.5} fill={TURQUOISE} />\n        {/* Tall quetzal feathers */}\n        <line x1={0} y1={-2} x2={-6} y2={-20} stroke={FEATHER_GREEN} strokeWidth={2} strokeLinecap=\"round\" />\n        <line x1={0} y1={-2} x2={-3} y2={-24} stroke={FEATHER_GREEN} strokeWidth={2} strokeLinecap=\"round\" />\n        <line x1={0} y1={-2} x2={0} y2={-26} stroke={FEATHER_GREEN} strokeWidth={2.5} strokeLinecap=\"round\" />\n        <line x1={0} y1={-2} x2={3} y2={-24} stroke={FEATHER_GREEN} strokeWidth={2} strokeLinecap=\"round\" />\n        <line x1={0} y1={-2} x2={6} y2={-20} stroke={FEATHER_GREEN} strokeWidth={2} strokeLinecap=\"round\" />\n        {/* Red accent feathers between green */}\n        <line x1={0} y1={-2} x2={-4} y2={-18} stroke={FEATHER_RED} strokeWidth={1} strokeLinecap=\"round\" />\n        <line x1={0} y1={-2} x2={4} y2={-18} stroke={FEATHER_RED} strokeWidth={1} strokeLinecap=\"round\" />\n        {/* Gold feather tips */}\n        <circle cx={0} cy={-26} r={1.5} fill={GOLD_LIGHT} />\n        <circle cx={-3} cy={-24} r={1.2} fill={GOLD_LIGHT} />\n        <circle cx={3} cy={-24} r={1.2} fill={GOLD_LIGHT} />\n      </g>\n      {/* Arm holding incense burner */}\n      <line x1={0} y1={-22 - breathe} x2={12 + armGesture} y2={-20} stroke={SKIN} strokeWidth={2.5} strokeLinecap=\"round\" />\n      {/* Incense clay burner */}\n      <g transform={`translate(${14 + armGesture}, -20)`}>\n        <path d=\"M-4,0 Q-5,-4 -3,-6 Q0,-8 3,-6 Q5,-4 4,0 Z\" fill={STONE} stroke={OUTLINE} strokeWidth={0.6} />\n        {/* Handle */}\n        <line x1={-4} y1={-2} x2={-8} y2={-2} stroke={STONE} strokeWidth={1.5} strokeLinecap=\"round\" />\n        {/* Smoke wisps */}\n        <path d={`M0,-6 Q${incenseWaft},-12 ${-incenseWaft},-18 Q${incenseWaft * 0.5},-24 0,-30`}\n          fill=\"none\" stroke={INCENSE_GRAY} strokeWidth={1.5} opacity={0.5} />\n        <path d={`M2,-6 Q${incenseWaft + 2},-14 ${-incenseWaft + 1},-20`}\n          fill=\"none\" stroke={INCENSE_GRAY} strokeWidth={1} opacity={0.3} />\n      </g>\n      {/* Other arm */}\n      <line x1={0} y1={-22 - breathe} x2={-8} y2={-14} stroke={SKIN_DARK} strokeWidth={2} strokeLinecap=\"round\" />\n    </g>\n  );\n};\n\n// ---- Sacrifice Priest: skull mask, ritual knife ----\n\nexport const SacrificePriest: React.FC<AztecCrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const breathe = sineWave(frame, 0.07, seed) * 0.5;\n  const armRaise = sineWave(frame, 0.1, seed + 1) * 5;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={10} ry={3} fill=\"rgba(0,0,0,0.15)\" />\n      {/* Legs */}\n      <line x1={-3} y1={-6} x2={-4} y2={2} stroke={SKIN_DARK} strokeWidth={3} strokeLinecap=\"round\" />\n      <line x1={3} y1={-6} x2={4} y2={2} stroke={SKIN} strokeWidth={3} strokeLinecap=\"round\" />\n      {/* Black robe */}\n      <path d=\"M-7,-6 L-8,-26 Q-8,-28 -6,-28 L6,-28 Q8,-28 8,-26 L7,-6 Z\"\n        fill=\"#1A1A2A\" stroke={OUTLINE} strokeWidth={0.6} />\n      {/* Blood stains on robe */}\n      <circle cx={-2} cy={-18} r={2} fill={BLOOD_RED} opacity={0.6} />\n      <circle cx={3} cy={-14} r={1.5} fill={BLOOD_RED} opacity={0.4} />\n      {/* Head */}\n      <circle cx={0} cy={-31 - breathe} r={4.5} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      {/* Skull mask over face */}\n      <g transform={`translate(0, ${-31 - breathe})`}>\n        <circle cx={0} cy={0} r={4.8} fill=\"#E8E0D0\" stroke={OUTLINE} strokeWidth={0.6} />\n        {/* Skull eye sockets */}\n        <circle cx={-2} cy={-1} r={1.5} fill={OUTLINE} />\n        <circle cx={2} cy={-1} r={1.5} fill={OUTLINE} />\n        {/* Skull nose */}\n        <path d=\"M-0.5,1 L0.5,1 L0,2.5 Z\" fill={OUTLINE} />\n        {/* Skull teeth */}\n        <path d=\"M-3,3 L-2,4 L-1,3 L0,4 L1,3 L2,4 L3,3\" stroke={OUTLINE} strokeWidth={0.5} fill=\"none\" />\n      </g>\n      {/* Feathered back ornament */}\n      {[-3, -1, 1, 3].map((dx, i) => (\n        <line key={`bp-${i}`}\n          x1={dx} y1={-34 - breathe}\n          x2={dx * 2} y2={-46 - breathe}\n          stroke={[FEATHER_RED, FEATHER_GREEN, FEATHER_BLUE, FEATHER_RED][i]}\n          strokeWidth={1.5} strokeLinecap=\"round\" />\n      ))}\n      {/* Right arm raised with obsidian knife */}\n      <line x1={0} y1={-22 - breathe} x2={10} y2={-28 - armRaise} stroke={SKIN} strokeWidth={2.5} strokeLinecap=\"round\" />\n      {/* Obsidian sacrificial knife */}\n      <g transform={`translate(10, ${-30 - armRaise}) rotate(-30)`}>\n        <rect x={-1.5} y={-3} width={3} height={8} rx={1} fill={WOOD} stroke={OUTLINE} strokeWidth={0.4} />\n        <path d=\"M-2,-3 L0,-12 L2,-3 Z\" fill={OBSIDIAN} stroke={OBSIDIAN_SHINE} strokeWidth={0.3} />\n      </g>\n      {/* Left arm */}\n      <line x1={0} y1={-22 - breathe} x2={-8} y2={-16} stroke={SKIN_DARK} strokeWidth={2} strokeLinecap=\"round\" />\n    </g>\n  );\n};\n\n// ---- Merchant Trader: carrying goods, colorful clothing ----\n\nexport const MerchantTrader: React.FC<AztecCrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const walkCycle = sineWave(frame, 0.14, seed);\n  const bob = Math.abs(walkCycle) * 1.5;\n  const legSwing = walkCycle * 4;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={12} ry={3} fill=\"rgba(0,0,0,0.13)\" />\n      {/* Legs walking */}\n      <line x1={-2} y1={-8} x2={-5 - legSwing} y2={2} stroke={SKIN_DARK} strokeWidth={3} strokeLinecap=\"round\" />\n      <line x1={2} y1={-8} x2={5 + legSwing} y2={2} stroke={SKIN} strokeWidth={3} strokeLinecap=\"round\" />\n      {/* Sandals */}\n      <rect x={-7 - legSwing} y={0} width={4} height={3} rx={1} fill={WOOD} />\n      <rect x={3 + legSwing} y={0} width={4} height={3} rx={1} fill={WOOD} />\n      {/* Body */}\n      <line x1={0} y1={-8} x2={0} y2={-24 - bob} stroke={SKIN} strokeWidth={4} strokeLinecap=\"round\" />\n      {/* Colorful tilmatli (cloak) */}\n      <path d={`M-6,-24 L-8,-10 L8,-10 L6,-24 Z`}\n        fill={COTTON_BLUE} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Decorative border on cloak */}\n      <line x1={-7} y1={-12} x2={7} y2={-12} stroke={GOLD} strokeWidth={1} />\n      <line x1={-7} y1={-14} x2={7} y2={-14} stroke={FEATHER_RED} strokeWidth={0.5} />\n      {/* Head */}\n      <circle cx={0} cy={-27 - bob} r={4} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      {/* Cotton headband */}\n      <rect x={-4} y={-29 - bob} width={8} height={3} rx={1} fill={COTTON_WHITE} stroke={OUTLINE} strokeWidth={0.3} />\n      {/* Loincloth */}\n      <path d=\"M-3,-10 L3,-10 L4,-6 L-4,-6 Z\" fill={COTTON_WHITE} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Tumpline (carrying strap on forehead) */}\n      <line x1={0} y1={-26 - bob} x2={0} y2={-20 - bob} stroke={ROPE} strokeWidth={1.5} />\n      {/* Large trade bundle on back */}\n      <g transform={`translate(-2, ${-32 - bob})`}>\n        <rect x={-8} y={-4} width={12} height={14} rx={2} fill={COTTON_WHITE} stroke={OUTLINE} strokeWidth={0.6} />\n        {/* Bundle contents showing */}\n        <circle cx={-3} cy={2} r={2} fill={JADE} opacity={0.6} />\n        <rect x={0} y={0} width={4} height={3} rx={0.5} fill={CACAO} />\n        <line x1={-6} y1={4} x2={2} y2={4} stroke={FEATHER_GREEN} strokeWidth={1} />\n      </g>\n      {/* Walking staff */}\n      <line x1={6} y1={-18 - bob} x2={10} y2={4} stroke={WOOD} strokeWidth={2} strokeLinecap=\"round\" />\n    </g>\n  );\n};\n\n// ---- Farmer: working with digging stick or carrying maize ----\n\nexport const Farmer: React.FC<AztecCrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const digCycle = sineWave(frame, 0.18, seed);\n  const armDig = digCycle * 6;\n  const bodyBend = digCycle * 2;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={10} ry={3} fill=\"rgba(0,0,0,0.12)\" />\n      {/* Legs */}\n      <line x1={-3} y1={-8} x2={-4} y2={2} stroke={SKIN_DARK} strokeWidth={3} strokeLinecap=\"round\" />\n      <line x1={3} y1={-8} x2={5} y2={2} stroke={SKIN} strokeWidth={3} strokeLinecap=\"round\" />\n      {/* Body (bending forward when digging) */}\n      <line x1={0} y1={-8} x2={bodyBend + 2} y2={-22} stroke={SKIN} strokeWidth={4} strokeLinecap=\"round\" />\n      {/* Simple cotton mantle */}\n      <path d={`M-4,-20 L-5,-10 L5,-10 L4,-20 Z`}\n        fill={COTTON_WHITE} stroke={OUTLINE} strokeWidth={0.5} opacity={0.8} />\n      {/* Head */}\n      <circle cx={bodyBend + 2} cy={-25} r={3.5} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      {/* Simple headband */}\n      <line x1={bodyBend - 1} y1={-26} x2={bodyBend + 5} y2={-26} stroke={COTTON_WHITE} strokeWidth={1.5} />\n      {/* Loincloth */}\n      <path d=\"M-3,-10 L3,-10 L4,-6 L-4,-6 Z\" fill={LOINCLOTH} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Arms with digging stick */}\n      <line x1={bodyBend + 2} y1={-20} x2={12 + armDig} y2={-10} stroke={SKIN} strokeWidth={2.5} strokeLinecap=\"round\" />\n      {/* Digging stick (coa) */}\n      <line x1={12 + armDig} y1={-10} x2={16 + armDig} y2={4} stroke={WOOD} strokeWidth={2.5} strokeLinecap=\"round\" />\n      <path d={`M${15 + armDig},2 L${18 + armDig},6 L${14 + armDig},5 Z`} fill={WOOD_DARK} stroke={OUTLINE} strokeWidth={0.4} />\n      {/* Other arm */}\n      <line x1={bodyBend + 2} y1={-18} x2={-4} y2={-12} stroke={SKIN_DARK} strokeWidth={2} strokeLinecap=\"round\" />\n    </g>\n  );\n};\n\n// ---- Aztec Water Carrier: with clay jars ----\n\nexport const AztecWaterCarrier: React.FC<AztecCrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const walkCycle = sineWave(frame, 0.14, seed);\n  const bob = Math.abs(walkCycle) * 1.5;\n  const legSwing = walkCycle * 4;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={10} ry={3} fill=\"rgba(0,0,0,0.12)\" />\n      {/* Legs */}\n      <line x1={-2} y1={-8} x2={-4 - legSwing} y2={2} stroke={SKIN_DARK} strokeWidth={3} strokeLinecap=\"round\" />\n      <line x1={2} y1={-8} x2={4 + legSwing} y2={2} stroke={SKIN} strokeWidth={3} strokeLinecap=\"round\" />\n      {/* Body */}\n      <line x1={0} y1={-8} x2={0} y2={-22 - bob} stroke={SKIN} strokeWidth={4} strokeLinecap=\"round\" />\n      {/* Simple garment */}\n      <path d=\"M-4,-20 L-5,-10 L5,-10 L4,-20 Z\" fill={COTTON_WHITE} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Head */}\n      <circle cx={0} cy={-25 - bob} r={3.5} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      <line x1={-2.5} y1={-26 - bob} x2={2.5} y2={-26 - bob} stroke={COTTON_WHITE} strokeWidth={1.5} />\n      {/* Loincloth */}\n      <path d=\"M-3,-10 L3,-10 L4,-6 L-4,-6 Z\" fill={LOINCLOTH} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Arms holding large clay jar on shoulder */}\n      <line x1={0} y1={-20 - bob} x2={6} y2={-26 - bob} stroke={SKIN} strokeWidth={2.5} strokeLinecap=\"round\" />\n      <line x1={0} y1={-18 - bob} x2={-4} y2={-24 - bob} stroke={SKIN_DARK} strokeWidth={2} strokeLinecap=\"round\" />\n      {/* Large clay water jar on shoulder */}\n      <g transform={`translate(2, ${-30 - bob})`}>\n        <path d=\"M-5,2 Q-7,-2 -5,-6 Q-3,-10 0,-11 Q3,-10 5,-6 Q7,-2 5,2 Z\"\n          fill=\"#B07040\" stroke={OUTLINE} strokeWidth={0.8} />\n        {/* Decorative band */}\n        <line x1={-5} y1={-3} x2={5} y2={-3} stroke={FEATHER_RED} strokeWidth={0.6} />\n        {/* Jar mouth */}\n        <ellipse cx={0} cy={-11} rx={3} ry={1.5} fill=\"#A06030\" stroke={OUTLINE} strokeWidth={0.5} />\n      </g>\n    </g>\n  );\n};\n\n// ---- Noblewoman: elaborate dress, jewelry ----\n\nexport const Noblewoman: React.FC<AztecCrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const breathe = sineWave(frame, 0.07, seed) * 0.5;\n  const hairSway = sineWave(frame, 0.05, seed + 1) * 1;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={10} ry={3} fill=\"rgba(0,0,0,0.12)\" />\n      {/* Long skirt (huipil) */}\n      <path d=\"M-8,2 L-6,-8 L6,-8 L8,2 Z\" fill={COTTON_WHITE} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Embroidered border on skirt */}\n      <line x1={-7} y1={0} x2={7} y2={0} stroke={FEATHER_RED} strokeWidth={1} />\n      <line x1={-6} y1={-2} x2={6} y2={-2} stroke={FEATHER_BLUE} strokeWidth={0.5} />\n      {/* Body */}\n      <line x1={0} y1={-8} x2={0} y2={-22 - breathe} stroke={SKIN} strokeWidth={0} />\n      {/* Blouse (quechquemitl) */}\n      <path d=\"M-8,-8 L-10,-22 Q-10,-24 -8,-24 L8,-24 Q10,-24 10,-22 L8,-8 Z\"\n        fill={COTTON_BLUE} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Embroidered V-pattern */}\n      <path d=\"M0,-24 L-4,-16 M0,-24 L4,-16\" stroke={GOLD} strokeWidth={0.8} />\n      {/* Head */}\n      <circle cx={0} cy={-27 - breathe} r={4} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      {/* Long black hair */}\n      <path d={`M-4,-28 Q-5,-22 -6,-18 Q${-6 + hairSway},-14 -5,-10`}\n        fill=\"none\" stroke=\"#1A1A1A\" strokeWidth={2} />\n      <path d={`M4,-28 Q5,-22 6,-18 Q${6 + hairSway},-14 5,-10`}\n        fill=\"none\" stroke=\"#1A1A1A\" strokeWidth={2} />\n      {/* Hair ornament */}\n      <circle cx={0} cy={-31 - breathe} r={2} fill={JADE} stroke={GOLD} strokeWidth={0.5} />\n      {/* Jade earrings */}\n      <circle cx={-4.5} cy={-26 - breathe} r={1.2} fill={JADE} stroke={OUTLINE} strokeWidth={0.3} />\n      <circle cx={4.5} cy={-26 - breathe} r={1.2} fill={JADE} stroke={OUTLINE} strokeWidth={0.3} />\n      {/* Gold necklace */}\n      <path d=\"M-3,-24 Q0,-22 3,-24\" fill=\"none\" stroke={GOLD} strokeWidth={1} />\n      <circle cx={0} cy={-22} r={1.5} fill={TURQUOISE} stroke={GOLD} strokeWidth={0.3} />\n      {/* Arms at sides */}\n      <line x1={0} y1={-20 - breathe} x2={-6} y2={-12} stroke={SKIN} strokeWidth={2} strokeLinecap=\"round\" />\n      <line x1={0} y1={-20 - breathe} x2={6} y2={-14} stroke={SKIN_DARK} strokeWidth={2} strokeLinecap=\"round\" />\n    </g>\n  );\n};\n\n// ---- Drummer: playing huehuetl drum ----\n\nexport const Drummer: React.FC<AztecCrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const drumHit = sineWave(frame, 0.3, seed);\n  const leftArm = drumHit > 0 ? drumHit * 6 : 0;\n  const rightArm = drumHit < 0 ? -drumHit * 6 : 0;\n  const breathe = sineWave(frame, 0.08, seed + 1) * 0.5;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={10} ry={3} fill=\"rgba(0,0,0,0.12)\" />\n      {/* Legs (kneeling) */}\n      <path d=\"M-4,-2 L-7,2 L-2,2 Z\" fill={SKIN} stroke={OUTLINE} strokeWidth={0.5} />\n      <path d=\"M4,-2 L7,2 L2,2 Z\" fill={SKIN_DARK} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Body */}\n      <line x1={0} y1={-2} x2={0} y2={-18 - breathe} stroke={SKIN} strokeWidth={4} strokeLinecap=\"round\" />\n      {/* Simple garment */}\n      <path d=\"M-4,-16 L-5,-4 L5,-4 L4,-16 Z\" fill={COTTON_WHITE} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Head */}\n      <circle cx={0} cy={-21 - breathe} r={3.5} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      <line x1={-3} y1={-22 - breathe} x2={3} y2={-22 - breathe} stroke={FEATHER_RED} strokeWidth={1.5} />\n      {/* Feather in headband */}\n      <line x1={2} y1={-23 - breathe} x2={4} y2={-30 - breathe} stroke={FEATHER_GREEN} strokeWidth={1} strokeLinecap=\"round\" />\n      {/* Huehuetl drum (tall cylindrical drum) */}\n      <g transform=\"translate(10, -2)\">\n        <path d=\"M-6,-18 L-6,0 Q-6,2 -4,2 L4,2 Q6,2 6,0 L6,-18 Z\"\n          fill={WOOD} stroke={OUTLINE} strokeWidth={0.8} />\n        {/* Drum skin on top */}\n        <ellipse cx={0} cy={-18} rx={6} ry={2.5} fill=\"#D4C0A0\" stroke={OUTLINE} strokeWidth={0.5} />\n        {/* Carved decorations on drum body */}\n        <circle cx={0} cy={-8} r={3} fill=\"none\" stroke={GOLD} strokeWidth={0.5} />\n        <path d=\"M-4,-12 L4,-12 M-4,-4 L4,-4\" stroke={WOOD_DARK} strokeWidth={0.5} />\n        {/* Drum vibration on hit */}\n        {Math.abs(drumHit) > 0.5 && (\n          <>\n            <ellipse cx={0} cy={-18} rx={8} ry={3} fill=\"none\" stroke=\"rgba(180,160,100,0.3)\" strokeWidth={0.5} />\n            <ellipse cx={0} cy={-18} rx={10} ry={3.5} fill=\"none\" stroke=\"rgba(180,160,100,0.15)\" strokeWidth={0.5} />\n          </>\n        )}\n      </g>\n      {/* Left arm hitting drum */}\n      <line x1={0} y1={-16 - breathe} x2={8} y2={-18 - leftArm} stroke={SKIN} strokeWidth={2.5} strokeLinecap=\"round\" />\n      {/* Right arm hitting drum */}\n      <line x1={0} y1={-14 - breathe} x2={12} y2={-18 - rightArm} stroke={SKIN_DARK} strokeWidth={2.5} strokeLinecap=\"round\" />\n    </g>\n  );\n};\n\n// ---- Conch Shell Player: blowing conch trumpet ----\n\nexport const ConchPlayer: React.FC<AztecCrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const breathe = sineWave(frame, 0.07, seed) * 0.5;\n  const blowPulse = sineWave(frame, 0.15, seed + 1);\n  const cheekPuff = blowPulse > 0.3 ? (blowPulse - 0.3) * 3 : 0;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={9} ry={2.5} fill=\"rgba(0,0,0,0.12)\" />\n      {/* Legs (standing) */}\n      <line x1={-3} y1={-8} x2={-4} y2={2} stroke={SKIN_DARK} strokeWidth={3} strokeLinecap=\"round\" />\n      <line x1={3} y1={-8} x2={4} y2={2} stroke={SKIN} strokeWidth={3} strokeLinecap=\"round\" />\n      {/* Body */}\n      <line x1={0} y1={-8} x2={0} y2={-22 - breathe} stroke={SKIN} strokeWidth={4} strokeLinecap=\"round\" />\n      {/* Garment */}\n      <path d=\"M-4,-20 L-5,-10 L5,-10 L4,-20 Z\" fill={COTTON_WHITE} stroke={OUTLINE} strokeWidth={0.5} />\n      <line x1={-4} y1={-12} x2={4} y2={-12} stroke={GOLD} strokeWidth={0.8} />\n      {/* Head (cheeks puffed) */}\n      <circle cx={0} cy={-25 - breathe} r={3.5 + cheekPuff * 0.3} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      <line x1={-3} y1={-26 - breathe} x2={3} y2={-26 - breathe} stroke={FEATHER_RED} strokeWidth={1.5} />\n      {/* Loincloth */}\n      <path d=\"M-3,-10 L3,-10 L4,-6 L-4,-6 Z\" fill={LOINCLOTH} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Arms holding conch to lips */}\n      <line x1={0} y1={-20 - breathe} x2={8} y2={-24 - breathe} stroke={SKIN} strokeWidth={2.5} strokeLinecap=\"round\" />\n      <line x1={0} y1={-18 - breathe} x2={6} y2={-22 - breathe} stroke={SKIN_DARK} strokeWidth={2} strokeLinecap=\"round\" />\n      {/* Conch shell */}\n      <g transform={`translate(10, ${-25 - breathe}) rotate(15)`}>\n        <path d=\"M0,0 Q4,-2 8,-1 Q12,0 14,3 Q16,8 12,10 Q8,8 4,6 Q2,4 0,0 Z\"\n          fill=\"#E0C8A0\" stroke={OUTLINE} strokeWidth={0.6} />\n        <path d=\"M2,1 Q6,0 10,2 Q12,4 10,6\" fill=\"none\" stroke=\"#C8A880\" strokeWidth={0.5} />\n        {/* Inner spiral */}\n        <path d=\"M0,0 Q2,2 4,2 Q6,2 6,4\" fill=\"none\" stroke=\"#D4B090\" strokeWidth={0.4} />\n        {/* Sound waves */}\n        {blowPulse > 0.3 && (\n          <>\n            <path d={`M14,3 Q18,${2 - blowPulse * 2} 22,3`} fill=\"none\" stroke=\"rgba(200,180,140,0.3)\" strokeWidth={1} />\n            <path d={`M16,3 Q20,${1 - blowPulse * 3} 26,3`} fill=\"none\" stroke=\"rgba(200,180,140,0.15)\" strokeWidth={0.8} />\n          </>\n        )}\n      </g>\n    </g>\n  );\n};\n\n// ---- Sick Person: lying/sitting, covered in spots ----\n\nexport const SickPerson: React.FC<AztecCrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const shiver = sineWave(frame, 0.25, seed) * 1;\n  const breathe = sineWave(frame, 0.1, seed + 1) * 0.8;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={12} ry={3} fill=\"rgba(0,0,0,0.1)\" />\n      {/* Lying on mat */}\n      <rect x={-14} y={0} width={28} height={3} rx={1} fill={WOOD} opacity={0.5} />\n      {/* Body lying down */}\n      <line x1={-8} y1={-2 + shiver} x2={8} y2={-2 + shiver} stroke={SKIN} strokeWidth={5} strokeLinecap=\"round\" />\n      {/* Blanket partially covering */}\n      <path d={`M-6,-6 L6,-6 L8,2 L-8,2 Z`}\n        fill={COTTON_WHITE} stroke={OUTLINE} strokeWidth={0.5} opacity={0.7} />\n      {/* Head */}\n      <circle cx={-10} cy={-4 + shiver} r={3.5} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      {/* Smallpox spots on face */}\n      <circle cx={-11} cy={-5 + shiver} r={0.8} fill={BLOOD_RED} opacity={0.5} />\n      <circle cx={-9} cy={-3 + shiver} r={0.6} fill={BLOOD_RED} opacity={0.5} />\n      <circle cx={-11} cy={-2 + shiver} r={0.7} fill={BLOOD_RED} opacity={0.4} />\n      <circle cx={-8} cy={-5 + shiver} r={0.5} fill={BLOOD_RED} opacity={0.4} />\n      {/* Spots on body */}\n      <circle cx={-2} cy={-3 + shiver} r={0.6} fill={BLOOD_RED} opacity={0.3} />\n      <circle cx={2} cy={-4 + shiver} r={0.5} fill={BLOOD_RED} opacity={0.3} />\n      <circle cx={5} cy={-2 + shiver} r={0.6} fill={BLOOD_RED} opacity={0.25} />\n      {/* Arm weakly reaching */}\n      <line x1={0} y1={-2 + shiver} x2={-2} y2={-8 + breathe} stroke={SKIN_DARK} strokeWidth={2} strokeLinecap=\"round\" />\n    </g>\n  );\n};\n\n// ---- Mourner: kneeling, grieving ----\n\nexport const Mourner: React.FC<AztecCrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const sob = sineWave(frame, 0.15, seed) * 2;\n  const headBow = sineWave(frame, 0.08, seed + 1) * 3;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={8} ry={2.5} fill=\"rgba(0,0,0,0.1)\" />\n      {/* Kneeling legs */}\n      <path d=\"M-4,-2 L-6,2 L-1,2 Z\" fill={SKIN} stroke={OUTLINE} strokeWidth={0.5} />\n      <path d=\"M4,-2 L6,2 L1,2 Z\" fill={SKIN_DARK} stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Body hunched */}\n      <line x1={0} y1={-2} x2={headBow + 1} y2={-14 + sob} stroke={SKIN} strokeWidth={4} strokeLinecap=\"round\" />\n      {/* Simple garment */}\n      <path d=\"M-4,-12 L-5,-4 L5,-4 L4,-12 Z\" fill={COTTON_WHITE} stroke={OUTLINE} strokeWidth={0.5} opacity={0.7} />\n      {/* Head bowed */}\n      <circle cx={headBow + 2} cy={-17 + sob} r={3.5} fill={SKIN} stroke={OUTLINE} strokeWidth={0.8} />\n      {/* Disheveled hair (sign of mourning) */}\n      <path d={`M${headBow - 1},-18 Q${headBow - 3},-14 ${headBow - 4},-10`}\n        fill=\"none\" stroke=\"#1A1A1A\" strokeWidth={1.5} />\n      <path d={`M${headBow + 4},-18 Q${headBow + 5},-14 ${headBow + 6},-10`}\n        fill=\"none\" stroke=\"#1A1A1A\" strokeWidth={1.5} />\n      {/* Arms covering face or held to chest */}\n      <line x1={headBow + 1} y1={-12 + sob} x2={headBow + 4} y2={-16 + sob}\n        stroke={SKIN} strokeWidth={2} strokeLinecap=\"round\" />\n      <line x1={headBow + 1} y1={-11 + sob} x2={headBow - 2} y2={-15 + sob}\n        stroke={SKIN_DARK} strokeWidth={2} strokeLinecap=\"round\" />\n    </g>\n  );\n};\n\n// ---- Spanish Soldier: conquistador with armor ----\n\nexport const SpanishSoldier: React.FC<AztecCrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const marchCycle = sineWave(frame, 0.15, seed);\n  const legSwing = marchCycle * 4;\n  const armSwing = marchCycle * 5;\n  const breathe = sineWave(frame, 0.08, seed + 1) * 0.5;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={2} rx={12} ry={3} fill=\"rgba(0,0,0,0.15)\" />\n      {/* Legs with boots */}\n      <line x1={-3} y1={-10} x2={-5 - legSwing} y2={2} stroke=\"#4A3828\" strokeWidth={3.5} strokeLinecap=\"round\" />\n      <line x1={3} y1={-10} x2={5 + legSwing} y2={2} stroke=\"#5A4838\" strokeWidth={3.5} strokeLinecap=\"round\" />\n      {/* Boots */}\n      <rect x={-7 - legSwing} y={-1} width={5} height={4} rx={1} fill=\"#3A2818\" stroke={OUTLINE} strokeWidth={0.5} />\n      <rect x={3 + legSwing} y={-1} width={5} height={4} rx={1} fill=\"#3A2818\" stroke={OUTLINE} strokeWidth={0.5} />\n      {/* Body - steel cuirass */}\n      <path d=\"M-6,-10 L-6,-26 Q-6,-28 -4,-28 L4,-28 Q6,-28 6,-26 L6,-10 Z\"\n        fill=\"#8A8A8A\" stroke={OUTLINE} strokeWidth={0.8} />\n      {/* Armor shine */}\n      <line x1={-3} y1={-24} x2={-3} y2={-14} stroke=\"rgba(255,255,255,0.2)\" strokeWidth={1.5} />\n      {/* Armor details */}\n      <line x1={-5} y1={-18} x2={5} y2={-18} stroke=\"#6A6A6A\" strokeWidth={0.5} />\n      <line x1={-5} y1={-22} x2={5} y2={-22} stroke=\"#6A6A6A\" strokeWidth={0.5} />\n      {/* Morion helmet */}\n      <g transform={`translate(0, ${-30 - breathe})`}>\n        <circle cx={0} cy={0} r={4.5} fill=\"#C8A880\" stroke={OUTLINE} strokeWidth={0.8} />\n        {/* Helmet brim and crest */}\n        <path d=\"M-7,1 L-5,-2 L5,-2 L7,1 Z\" fill=\"#8A8A8A\" stroke={OUTLINE} strokeWidth={0.5} />\n        <path d=\"M-2,-4 Q0,-8 2,-4\" fill=\"#8A8A8A\" stroke={OUTLINE} strokeWidth={0.5} />\n        {/* Helmet shine */}\n        <line x1={-1} y1={-6} x2={1} y2={-6} stroke=\"rgba(255,255,255,0.3)\" strokeWidth={0.5} />\n      </g>\n      {/* Beard */}\n      <path d={`M-3,${-28 - breathe} Q0,${-25 - breathe} 3,${-28 - breathe}`}\n        fill=\"#5A3A1A\" stroke=\"none\" />\n      {/* Sword arm */}\n      <line x1={0} y1={-22 - breathe} x2={10 + armSwing} y2={-16} stroke=\"#C8A880\" strokeWidth={2.5} strokeLinecap=\"round\" />\n      {/* Steel sword */}\n      <g transform={`translate(${12 + armSwing}, -16) rotate(${-10 + marchCycle * 8})`}>\n        <rect x={-1} y={-18} width={2} height={20} rx={0.5} fill=\"#B0B0B0\" stroke={OUTLINE} strokeWidth={0.4} />\n        <line x1={0} y1={-16} x2={0} y2={0} stroke=\"rgba(255,255,255,0.15)\" strokeWidth={0.5} />\n        {/* Crossguard */}\n        <rect x={-4} y={0} width={8} height={2} rx={0.5} fill={GOLD} stroke={OUTLINE} strokeWidth={0.3} />\n        {/* Pommel */}\n        <circle cx={0} cy={4} r={1.5} fill={GOLD} stroke={OUTLINE} strokeWidth={0.3} />\n      </g>\n      {/* Shield arm */}\n      <line x1={0} y1={-22 - breathe} x2={-8} y2={-16} stroke=\"#C8A880\" strokeWidth={2} strokeLinecap=\"round\" />\n      {/* Round steel shield */}\n      <circle cx={-12} cy={-14} r={7} fill=\"#7A7A7A\" stroke={OUTLINE} strokeWidth={0.8} />\n      <circle cx={-12} cy={-14} r={4} fill=\"none\" stroke=\"#6A6A6A\" strokeWidth={0.5} />\n      <circle cx={-12} cy={-14} r={2} fill={GOLD} stroke={OUTLINE} strokeWidth={0.3} />\n    </g>\n  );\n};\n\n// ---- Horseman: Spanish rider on horse ----\n\nexport const Horseman: React.FC<AztecCrowdFigureProps> = ({\n  x, y, scale = 1, seed = 0, flip = false,\n}) => {\n  const frame = useCurrentFrame();\n  const gallopCycle = sineWave(frame, 0.2, seed);\n  const horseBob = Math.abs(gallopCycle) * 3;\n  const legKick = gallopCycle * 8;\n  const tailSwish = sineWave(frame, 0.15, seed + 1) * 10;\n  const riderBob = horseBob * 0.5;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      <ellipse cx={0} cy={4} rx={24} ry={5} fill=\"rgba(0,0,0,0.18)\" />\n      {/* Horse body */}\n      <g transform={`translate(0, ${-horseBob})`}>\n        {/* Horse legs */}\n        <line x1={-12} y1={-4} x2={-14 - legKick} y2={4} stroke=\"#5A3A1A\" strokeWidth={3} strokeLinecap=\"round\" />\n        <line x1={-6} y1={-4} x2={-4 + legKick} y2={4} stroke=\"#6A4A2A\" strokeWidth={3} strokeLinecap=\"round\" />\n        <line x1={8} y1={-4} x2={6 - legKick} y2={4} stroke=\"#5A3A1A\" strokeWidth={3} strokeLinecap=\"round\" />\n        <line x1={14} y1={-4} x2={16 + legKick} y2={4} stroke=\"#6A4A2A\" strokeWidth={3} strokeLinecap=\"round\" />\n        {/* Horse body (barrel) */}\n        <ellipse cx={0} cy={-12} rx={18} ry={10} fill=\"#6A4A2A\" stroke={OUTLINE} strokeWidth={0.8} />\n        {/* Saddle */}\n        <path d=\"M-6,-20 Q0,-24 6,-20 L4,-18 L-4,-18 Z\" fill=\"#3A2010\" stroke={OUTLINE} strokeWidth={0.5} />\n        {/* Horse neck */}\n        <path d=\"M14,-14 Q18,-24 16,-34 Q14,-38 12,-38\" fill=\"#6A4A2A\" stroke={OUTLINE} strokeWidth={0.8} />\n        {/* Horse head */}\n        <g transform=\"translate(14, -40)\">\n          <ellipse cx={0} cy={0} rx={4} ry={6} fill=\"#6A4A2A\" stroke={OUTLINE} strokeWidth={0.8} />\n          {/* Muzzle */}\n          <ellipse cx={2} cy={4} rx={3} ry={3} fill=\"#7A5A3A\" stroke={OUTLINE} strokeWidth={0.5} />\n          {/* Eye */}\n          <circle cx={-1} cy={-2} r={1} fill={OUTLINE} />\n          {/* Ear */}\n          <path d=\"M-2,-6 L-1,-10 L1,-6\" fill=\"#6A4A2A\" stroke={OUTLINE} strokeWidth={0.5} />\n          {/* Mane */}\n          <path d=\"M-2,-4 Q-4,-8 -3,-14 Q-2,-18 0,-20\" fill=\"none\" stroke=\"#3A2010\" strokeWidth={2} />\n          {/* Bridle */}\n          <line x1={-3} y1={0} x2={3} y2={2} stroke=\"#444\" strokeWidth={0.8} />\n          <line x1={3} y1={2} x2={4} y2={6} stroke=\"#444\" strokeWidth={0.8} />\n        </g>\n        {/* Horse tail */}\n        <path d={`M-18,-10 Q${-24 + tailSwish},-6 ${-22 + tailSwish},0`}\n          fill=\"none\" stroke=\"#3A2010\" strokeWidth={2.5} strokeLinecap=\"round\" />\n        {/* Reins */}\n        <path d=\"M14,-38 Q6,-30 0,-24\" fill=\"none\" stroke=\"#444\" strokeWidth={0.8} />\n      </g>\n      {/* Rider on horse */}\n      <g transform={`translate(0, ${-22 - horseBob - riderBob})`}>\n        {/* Rider legs gripping horse */}\n        <line x1={-4} y1={0} x2={-8} y2={8} stroke=\"#4A3828\" strokeWidth={3} strokeLinecap=\"round\" />\n        <line x1={4} y1={0} x2={8} y2={8} stroke=\"#5A4838\" strokeWidth={3} strokeLinecap=\"round\" />\n        {/* Rider body - armored */}\n        <line x1={0} y1={0} x2={0} y2={-14} stroke=\"#8A8A8A\" strokeWidth={5} strokeLinecap=\"round\" />\n        {/* Cuirass */}\n        <rect x={-4} y={-12} width={8} height={10} rx={1} fill=\"#8A8A8A\" stroke={OUTLINE} strokeWidth={0.5} />\n        {/* Rider head with morion */}\n        <circle cx={0} cy={-17} r={3.5} fill=\"#C8A880\" stroke={OUTLINE} strokeWidth={0.6} />\n        <path d=\"M-5,-16 L-3,-18 L3,-18 L5,-16\" fill=\"#8A8A8A\" stroke={OUTLINE} strokeWidth={0.4} />\n        <path d=\"M-1,-20 Q0,-22 1,-20\" fill=\"#8A8A8A\" stroke={OUTLINE} strokeWidth={0.4} />\n        {/* Lance */}\n        <line x1={4} y1={-10} x2={20} y2={-36} stroke={WOOD} strokeWidth={2} strokeLinecap=\"round\" />\n        <path d=\"M20,-36 L19,-42 L21,-42 Z\" fill=\"#B0B0B0\" stroke={OUTLINE} strokeWidth={0.3} />\n      </g>\n    </g>\n  );\n};\n\n// ---- Aztec Crowd Layer: renders a configuration of Aztec figures ----\n\nexport const AztecCrowdLayer: React.FC<{\n  config: AztecCrowdLayerConfig;\n}> = ({ config }) => {\n  return (\n    <g>\n      {config.figures.map((fig, i) => {\n        const props: AztecCrowdFigureProps = {\n          x: fig.x,\n          y: fig.y,\n          scale: fig.scale ?? 1,\n          seed: fig.seed ?? i * 7,\n          flip: fig.flip ?? false,\n        };\n\n        switch (fig.type) {\n          case 'jaguarWarrior':\n            return <JaguarWarrior key={`aztec-${i}`} {...props} />;\n          case 'eagleWarrior':\n            return <EagleWarrior key={`aztec-${i}`} {...props} />;\n          case 'aztecPriest':\n            return <AztecPriest key={`aztec-${i}`} {...props} />;\n          case 'sacrificePriest':\n            return <SacrificePriest key={`aztec-${i}`} {...props} />;\n          case 'merchantTrader':\n            return <MerchantTrader key={`aztec-${i}`} {...props} />;\n          case 'farmer':\n            return <Farmer key={`aztec-${i}`} {...props} />;\n          case 'waterCarrier':\n            return <AztecWaterCarrier key={`aztec-${i}`} {...props} />;\n          case 'noblewoman':\n            return <Noblewoman key={`aztec-${i}`} {...props} />;\n          case 'drummer':\n            return <Drummer key={`aztec-${i}`} {...props} />;\n          case 'conchPlayer':\n            return <ConchPlayer key={`aztec-${i}`} {...props} />;\n          case 'sickPerson':\n            return <SickPerson key={`aztec-${i}`} {...props} />;\n          case 'mourner':\n            return <Mourner key={`aztec-${i}`} {...props} />;\n          case 'spanishSoldier':\n            return <SpanishSoldier key={`aztec-${i}`} {...props} />;\n          case 'horseman':\n            return <Horseman key={`aztec-${i}`} {...props} />;\n          default:\n            return null;\n        }\n      })}\n    </g>\n  );\n};\n\n// ---- Pre-built crowd configs per Aztec background ----\n\nexport const AZTEC_CROWD_CONFIGS: Record<string, AztecCrowdLayerConfig> = {\n  battle: {\n    figures: [\n      // Aztec warriors fighting\n      { type: 'jaguarWarrior', x: 400, y: 680, scale: 0.9, seed: 1 },\n      { type: 'jaguarWarrior', x: 550, y: 690, scale: 0.85, seed: 2 },\n      { type: 'eagleWarrior', x: 480, y: 670, scale: 0.9, seed: 3 },\n      { type: 'eagleWarrior', x: 650, y: 695, scale: 0.8, seed: 4 },\n      { type: 'jaguarWarrior', x: 750, y: 700, scale: 0.75, seed: 5, flip: true },\n      // Spanish forces\n      { type: 'spanishSoldier', x: 1100, y: 680, scale: 0.9, seed: 6, flip: true },\n      { type: 'spanishSoldier', x: 1250, y: 690, scale: 0.85, seed: 7, flip: true },\n      { type: 'spanishSoldier', x: 1050, y: 695, scale: 0.8, seed: 8, flip: true },\n      { type: 'horseman', x: 1400, y: 670, scale: 0.75, seed: 9, flip: true },\n      { type: 'horseman', x: 1550, y: 685, scale: 0.7, seed: 10, flip: true },\n      // Background warriors (smaller)\n      { type: 'jaguarWarrior', x: 300, y: 620, scale: 0.5, seed: 11 },\n      { type: 'eagleWarrior', x: 700, y: 610, scale: 0.45, seed: 12 },\n      { type: 'spanishSoldier', x: 1300, y: 615, scale: 0.5, seed: 13, flip: true },\n    ],\n  },\n  tenochtitlan: {\n    figures: [\n      // City life - traders and commoners\n      { type: 'merchantTrader', x: 350, y: 750, scale: 0.7, seed: 20 },\n      { type: 'merchantTrader', x: 1500, y: 740, scale: 0.65, seed: 21, flip: true },\n      { type: 'noblewoman', x: 500, y: 755, scale: 0.7, seed: 22 },\n      { type: 'farmer', x: 250, y: 760, scale: 0.65, seed: 23 },\n      { type: 'waterCarrier', x: 650, y: 745, scale: 0.7, seed: 24 },\n      { type: 'aztecPriest', x: 900, y: 730, scale: 0.8, seed: 25 },\n      { type: 'drummer', x: 1100, y: 750, scale: 0.65, seed: 26 },\n      { type: 'jaguarWarrior', x: 1350, y: 735, scale: 0.7, seed: 27, flip: true },\n      { type: 'noblewoman', x: 1600, y: 755, scale: 0.6, seed: 28, flip: true },\n    ],\n  },\n  market: {\n    figures: [\n      // Bustling market scene\n      { type: 'merchantTrader', x: 300, y: 720, scale: 0.8, seed: 30 },\n      { type: 'merchantTrader', x: 600, y: 730, scale: 0.75, seed: 31 },\n      { type: 'merchantTrader', x: 900, y: 725, scale: 0.8, seed: 32, flip: true },\n      { type: 'merchantTrader', x: 1200, y: 735, scale: 0.7, seed: 33 },\n      { type: 'noblewoman', x: 450, y: 740, scale: 0.7, seed: 34 },\n      { type: 'noblewoman', x: 1050, y: 730, scale: 0.65, seed: 35, flip: true },\n      { type: 'farmer', x: 750, y: 745, scale: 0.7, seed: 36 },\n      { type: 'waterCarrier', x: 1400, y: 720, scale: 0.65, seed: 37, flip: true },\n      { type: 'eagleWarrior', x: 1550, y: 710, scale: 0.7, seed: 38, flip: true },\n      { type: 'drummer', x: 200, y: 750, scale: 0.6, seed: 39 },\n    ],\n  },\n  sacrifice: {\n    figures: [\n      // Ceremony observers\n      { type: 'aztecPriest', x: 700, y: 750, scale: 0.8, seed: 40 },\n      { type: 'sacrificePriest', x: 850, y: 740, scale: 0.85, seed: 41 },\n      { type: 'sacrificePriest', x: 1050, y: 745, scale: 0.8, seed: 42, flip: true },\n      { type: 'drummer', x: 500, y: 760, scale: 0.7, seed: 43 },\n      { type: 'conchPlayer', x: 1250, y: 755, scale: 0.7, seed: 44, flip: true },\n      { type: 'jaguarWarrior', x: 350, y: 765, scale: 0.7, seed: 45 },\n      { type: 'eagleWarrior', x: 1400, y: 760, scale: 0.65, seed: 46, flip: true },\n      { type: 'noblewoman', x: 600, y: 770, scale: 0.6, seed: 47 },\n      { type: 'noblewoman', x: 1150, y: 765, scale: 0.6, seed: 48, flip: true },\n    ],\n  },\n  chinampas: {\n    figures: [\n      // Farmers working floating gardens\n      { type: 'farmer', x: 400, y: 700, scale: 0.75, seed: 50 },\n      { type: 'farmer', x: 700, y: 710, scale: 0.7, seed: 51 },\n      { type: 'farmer', x: 1000, y: 695, scale: 0.75, seed: 52, flip: true },\n      { type: 'farmer', x: 1300, y: 705, scale: 0.7, seed: 53 },\n      { type: 'waterCarrier', x: 550, y: 720, scale: 0.65, seed: 54 },\n      { type: 'waterCarrier', x: 1150, y: 715, scale: 0.65, seed: 55, flip: true },\n      { type: 'merchantTrader', x: 850, y: 730, scale: 0.6, seed: 56 },\n      { type: 'noblewoman', x: 1500, y: 725, scale: 0.55, seed: 57, flip: true },\n    ],\n  },\n  plague: {\n    figures: [\n      // Devastation scene\n      { type: 'sickPerson', x: 400, y: 760, scale: 0.8, seed: 60 },\n      { type: 'sickPerson', x: 700, y: 770, scale: 0.75, seed: 61 },\n      { type: 'sickPerson', x: 1100, y: 755, scale: 0.8, seed: 62 },\n      { type: 'mourner', x: 500, y: 750, scale: 0.75, seed: 63 },\n      { type: 'mourner', x: 900, y: 760, scale: 0.7, seed: 64 },\n      { type: 'mourner', x: 1300, y: 765, scale: 0.7, seed: 65, flip: true },\n      { type: 'aztecPriest', x: 600, y: 740, scale: 0.7, seed: 66 },\n      { type: 'waterCarrier', x: 1450, y: 750, scale: 0.6, seed: 67, flip: true },\n    ],\n  },\n};\n","// BattleScene.tsx  Epic battle between Aztec warriors and Spanish conquistadors\n// Oil-painting quality: dramatic sky, Tenochtitlan skyline, battlefield chaos\n// Rembrandt-level atmospheric lighting with dust, fire, smoke columns\n\nimport React from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { sineWave } from '../animations/easing';\nimport { AztecCrowdLayer, AZTEC_CROWD_CONFIGS } from '../crowds/AztecCrowd';\n\n// ---- Color palette: 100+ named colors for oil painting depth ----\nconst C = {\n  // Sky\n  skyTop: '#1A0A1E',\n  skyMid: '#3A1A2E',\n  skyLow: '#6A2A1E',\n  skyHorizon: '#C85A20',\n  skyFire: '#E87030',\n  cloudDark: '#2A1A1E',\n  cloudMid: '#4A2A2E',\n  cloudLight: '#7A4A3E',\n  cloudHighlight: '#C86A40',\n  cloudEmber: '#E88040',\n  // Sun (obscured, behind smoke)\n  sunGlow: 'rgba(255,120,40,0.25)',\n  sunCore: '#FFB060',\n  // Mountains (distant)\n  mountainFar: '#2A1A2A',\n  mountainMid: '#3A2030',\n  mountainNear: '#4A2838',\n  mountainSnow: '#C8B8C8',\n  mountainSnowShadow: '#8A7A8A',\n  // City silhouette (Tenochtitlan burning)\n  cityDark: '#1A0A0A',\n  cityMid: '#2A1010',\n  cityLight: '#3A1818',\n  cityFire: '#E86020',\n  cityFireGlow: 'rgba(255,100,20,0.4)',\n  citySmoke: 'rgba(40,20,10,0.6)',\n  templeStone: '#4A3828',\n  templeShadow: '#2A1A10',\n  templeHighlight: '#6A4A30',\n  // Lake\n  lakeDark: '#1A2A3A',\n  lakeMid: '#2A3A4A',\n  lakeLight: '#3A4A5A',\n  lakeReflection: 'rgba(230,120,40,0.15)',\n  lakeFireReflect: 'rgba(255,80,20,0.2)',\n  // Causeway\n  causewayStone: '#5A4A3A',\n  causewayShadow: '#3A2A1A',\n  causewayEdge: '#4A3A2A',\n  // Battlefield ground\n  groundDark: '#3A2A1A',\n  groundMid: '#5A4228',\n  groundLight: '#6A5238',\n  groundDust: '#8A7A5A',\n  groundBlood: '#4A1010',\n  groundBloodWet: '#6A1818',\n  mudDark: '#3A2818',\n  mudLight: '#5A4030',\n  // Dust and smoke\n  dustLight: 'rgba(160,140,100,0.35)',\n  dustMid: 'rgba(120,100,70,0.3)',\n  dustDark: 'rgba(80,60,40,0.25)',\n  smokeDark: 'rgba(30,20,15,0.6)',\n  smokeMid: 'rgba(60,40,25,0.4)',\n  smokeLight: 'rgba(100,80,50,0.3)',\n  smokeWhite: 'rgba(180,170,150,0.25)',\n  // Fire\n  fireDark: '#A03010',\n  fireMid: '#E06020',\n  fireLight: '#FF9030',\n  fireBright: '#FFCC60',\n  fireGlow: 'rgba(255,120,30,0.3)',\n  emberRed: '#C04020',\n  emberOrange: '#E08030',\n  emberYellow: '#FFC040',\n  // Weapons & armor\n  obsidian: '#2A2A3A',\n  obsidianShine: '#4A4A6A',\n  steelDark: '#5A5A5A',\n  steelMid: '#8A8A8A',\n  steelLight: '#B0B0B0',\n  steelShine: 'rgba(255,255,255,0.2)',\n  gold: '#D4A020',\n  goldLight: '#F0C840',\n  woodWeapon: '#6A4020',\n  woodDark: '#4A2810',\n  shieldGreen: '#1A5A2A',\n  shieldRed: '#8A1010',\n  // Aztec colors\n  featherGreen: '#1A6B3A',\n  featherRed: '#B02020',\n  featherBlue: '#2040A0',\n  jaguarSpot: '#C8A040',\n  jaguarDark: '#5A4420',\n  eagleWhite: '#D8D0C0',\n  cottonWhite: '#E8E0D0',\n  // Spanish colors\n  spanishRed: '#8A1020',\n  spanishBlue: '#1A2060',\n  fabricCream: '#D8C8A0',\n  leather: '#5A3820',\n  // Atmospheric\n  fogNear: 'rgba(80,60,40,0.2)',\n  fogMid: 'rgba(60,40,25,0.15)',\n  fogFar: 'rgba(40,20,15,0.1)',\n  godRay: 'rgba(255,180,80,0.06)',\n  godRayBright: 'rgba(255,200,100,0.1)',\n  vignette: 'rgba(10,5,0,0.4)',\n  bloodMist: 'rgba(120,20,10,0.08)',\n  // Board\n  boardBg: '#3A2818',\n  boardFrame: '#5A3820',\n  boardStone: '#6A5040',\n  chalk: '#E8D8C0',\n  // Outline\n  outline: '#1A1A1A',\n};\n\ninterface BattleSceneProps {\n  boardText?: string;\n  width?: number;\n  height?: number;\n}\n\n// ---- Sub-component: Distant burning building silhouette ----\nconst BurningBuilding: React.FC<{\n  x: number; y: number; w: number; h: number;\n  fireIntensity: number; smokeDrift: number;\n}> = ({ x, y, w, h, fireIntensity, smokeDrift }) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {/* Building silhouette */}\n    <rect x={0} y={-h} width={w} height={h} fill={C.cityDark} />\n    <rect x={2} y={-h + 4} width={w - 4} height={h - 4} fill={C.cityMid} opacity={0.5} />\n    {/* Window openings glowing with fire */}\n    {Array.from({ length: Math.floor(w / 12) }, (_, i) => (\n      <rect key={`win-${i}`}\n        x={4 + i * 12} y={-h + 8 + (i % 2) * 10}\n        width={6} height={5}\n        fill={C.cityFire} opacity={0.4 + fireIntensity * 0.3} />\n    ))}\n    {/* Fire on roof */}\n    <g opacity={0.6 + fireIntensity * 0.3}>\n      <path d={`M${w * 0.2},${-h} Q${w * 0.15},${-h - 12 - fireIntensity * 8} ${w * 0.3},${-h - 6}`}\n        fill={C.fireMid} opacity={0.7} />\n      <path d={`M${w * 0.5},${-h} Q${w * 0.45},${-h - 18 - fireIntensity * 12} ${w * 0.6},${-h - 8}`}\n        fill={C.fireLight} opacity={0.6} />\n      <path d={`M${w * 0.7},${-h} Q${w * 0.75},${-h - 10 - fireIntensity * 6} ${w * 0.8},${-h - 4}`}\n        fill={C.fireMid} opacity={0.5} />\n    </g>\n    {/* Fire glow above building */}\n    <ellipse cx={w / 2} cy={-h - 10} rx={w * 0.6} ry={15 + fireIntensity * 10}\n      fill={C.cityFireGlow} opacity={0.3 + fireIntensity * 0.2} />\n    {/* Smoke column rising */}\n    <path d={`M${w * 0.4},${-h - 10}\n      Q${w * 0.3 + smokeDrift * 3},${-h - 40} ${w * 0.5 + smokeDrift * 6},${-h - 70}\n      Q${w * 0.4 + smokeDrift * 8},${-h - 100} ${w * 0.6 + smokeDrift * 10},${-h - 140}`}\n      fill=\"none\" stroke={C.smokeDark} strokeWidth={w * 0.4} strokeLinecap=\"round\" opacity={0.5} />\n    <path d={`M${w * 0.5},${-h - 5}\n      Q${w * 0.6 + smokeDrift * 2},${-h - 30} ${w * 0.4 + smokeDrift * 5},${-h - 60}`}\n      fill=\"none\" stroke={C.smokeMid} strokeWidth={w * 0.3} strokeLinecap=\"round\" opacity={0.4} />\n  </g>\n);\n\n// ---- Sub-component: Temple pyramid silhouette ----\nconst TempleSilhouette: React.FC<{\n  x: number; y: number; w: number; h: number;\n  fireGlow: number;\n}> = ({ x, y, w, h, fireGlow }) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {/* Stepped pyramid shape */}\n    <path d={`M0,0\n      L${w * 0.1},${-h * 0.3}\n      L${w * 0.15},${-h * 0.3}\n      L${w * 0.2},${-h * 0.55}\n      L${w * 0.25},${-h * 0.55}\n      L${w * 0.3},${-h * 0.75}\n      L${w * 0.35},${-h * 0.75}\n      L${w * 0.4},${-h}\n      L${w * 0.6},${-h}\n      L${w * 0.65},${-h * 0.75}\n      L${w * 0.7},${-h * 0.75}\n      L${w * 0.75},${-h * 0.55}\n      L${w * 0.8},${-h * 0.55}\n      L${w * 0.85},${-h * 0.3}\n      L${w * 0.9},${-h * 0.3}\n      L${w},0 Z`}\n      fill={C.cityDark} />\n    {/* Temple structure at top */}\n    <rect x={w * 0.38} y={-h - 12} width={w * 0.24} height={14} fill={C.cityMid} />\n    {/* Step details */}\n    <line x1={w * 0.1} y1={-h * 0.3} x2={w * 0.9} y2={-h * 0.3} stroke={C.cityLight} strokeWidth={0.5} opacity={0.3} />\n    <line x1={w * 0.2} y1={-h * 0.55} x2={w * 0.8} y2={-h * 0.55} stroke={C.cityLight} strokeWidth={0.5} opacity={0.3} />\n    <line x1={w * 0.3} y1={-h * 0.75} x2={w * 0.7} y2={-h * 0.75} stroke={C.cityLight} strokeWidth={0.5} opacity={0.3} />\n    {/* Fire at temple top */}\n    <g transform={`translate(${w * 0.5}, ${-h - 12})`}>\n      <ellipse cx={0} cy={-8} rx={12 + fireGlow * 5} ry={8 + fireGlow * 3}\n        fill={C.fireGlow} opacity={0.4 + fireGlow * 0.2} />\n      <path d={`M-4,0 Q-6,${-10 - fireGlow * 6} 0,${-16 - fireGlow * 8} Q6,${-10 - fireGlow * 6} 4,0`}\n        fill={C.fireMid} opacity={0.6} />\n      <path d={`M-2,0 Q-3,${-8 - fireGlow * 4} 0,${-12 - fireGlow * 6} Q3,${-8 - fireGlow * 4} 2,0`}\n        fill={C.fireLight} opacity={0.5} />\n    </g>\n  </g>\n);\n\n// ---- Sub-component: Cannon with smoke plume ----\nconst Cannon: React.FC<{\n  x: number; y: number; scale: number;\n  fireCycle: number; smokeDrift: number;\n}> = ({ x, y, scale, fireCycle, smokeDrift }) => {\n  const isFiring = fireCycle > 0.7;\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale})`}>\n      {/* Cannon wheels */}\n      <circle cx={-8} cy={2} r={6} fill={C.woodDark} stroke={C.outline} strokeWidth={1} />\n      <circle cx={-8} cy={2} r={2} fill={C.steelDark} />\n      <circle cx={8} cy={2} r={6} fill={C.woodDark} stroke={C.outline} strokeWidth={1} />\n      <circle cx={8} cy={2} r={2} fill={C.steelDark} />\n      {/* Wheel spokes */}\n      {[0, 60, 120].map((angle, i) => (\n        <React.Fragment key={`spoke-${i}`}>\n          <line x1={-8 + Math.cos(angle * Math.PI / 180) * 2} y1={2 + Math.sin(angle * Math.PI / 180) * 2}\n            x2={-8 + Math.cos(angle * Math.PI / 180) * 5.5} y2={2 + Math.sin(angle * Math.PI / 180) * 5.5}\n            stroke={C.woodWeapon} strokeWidth={1} />\n          <line x1={8 + Math.cos(angle * Math.PI / 180) * 2} y1={2 + Math.sin(angle * Math.PI / 180) * 2}\n            x2={8 + Math.cos(angle * Math.PI / 180) * 5.5} y2={2 + Math.sin(angle * Math.PI / 180) * 5.5}\n            stroke={C.woodWeapon} strokeWidth={1} />\n        </React.Fragment>\n      ))}\n      {/* Cannon carriage */}\n      <rect x={-10} y={-6} width={20} height={6} rx={1} fill={C.woodWeapon} stroke={C.outline} strokeWidth={0.8} />\n      {/* Cannon barrel */}\n      <rect x={-4} y={-12} width={30} height={8} rx={2} fill={C.steelDark} stroke={C.outline} strokeWidth={1} />\n      <rect x={-2} y={-11} width={26} height={6} rx={1.5} fill={C.steelMid} />\n      <line x1={0} y1={-10} x2={22} y2={-10} stroke={C.steelShine} strokeWidth={0.8} opacity={0.3} />\n      {/* Barrel bands */}\n      <rect x={4} y={-12} width={3} height={8} rx={0.5} fill={C.steelDark} opacity={0.4} />\n      <rect x={14} y={-12} width={3} height={8} rx={0.5} fill={C.steelDark} opacity={0.4} />\n      {/* Muzzle */}\n      <ellipse cx={26} cy={-8} rx={4.5} ry={5} fill={C.steelDark} stroke={C.outline} strokeWidth={0.8} />\n      <ellipse cx={26} cy={-8} rx={3} ry={3.5} fill=\"#2A2A2A\" />\n      {/* Firing effect */}\n      {isFiring && (\n        <g transform=\"translate(26, -8)\">\n          {/* Muzzle flash */}\n          <ellipse cx={10} cy={0} rx={14} ry={8} fill={C.fireBright} opacity={0.8} />\n          <ellipse cx={8} cy={0} rx={10} ry={6} fill=\"white\" opacity={0.5} />\n          {/* Smoke burst */}\n          <ellipse cx={20 + smokeDrift * 4} cy={-2} rx={18 + smokeDrift * 8} ry={12 + smokeDrift * 3}\n            fill={C.smokeWhite} opacity={0.6 - smokeDrift * 0.1} />\n          <ellipse cx={30 + smokeDrift * 8} cy={-4} rx={14 + smokeDrift * 6} ry={10 + smokeDrift * 2}\n            fill={C.smokeMid} opacity={0.4} />\n        </g>\n      )}\n    </g>\n  );\n};\n\n// ---- Sub-component: Fallen warrior on ground ----\nconst FallenWarrior: React.FC<{\n  x: number; y: number; isAztec: boolean; rotation: number;\n}> = ({ x, y, isAztec, rotation }) => (\n  <g transform={`translate(${x}, ${y}) rotate(${rotation})`}>\n    {/* Body lying */}\n    <line x1={-10} y1={0} x2={10} y2={0}\n      stroke={isAztec ? '#B8865A' : '#8A8A8A'} strokeWidth={4} strokeLinecap=\"round\" />\n    {/* Head */}\n    <circle cx={-12} cy={0} r={3} fill={isAztec ? '#B8865A' : '#C8A880'}\n      stroke={C.outline} strokeWidth={0.5} />\n    {/* Shield or weapon nearby */}\n    {isAztec ? (\n      <circle cx={6} cy={-4} r={4} fill={C.shieldGreen} opacity={0.6} stroke={C.outline} strokeWidth={0.4} />\n    ) : (\n      <line x1={4} y1={-3} x2={14} y2={-6} stroke={C.steelMid} strokeWidth={1.5} opacity={0.5} />\n    )}\n    {/* Blood pool */}\n    <ellipse cx={0} cy={2} rx={8} ry={3} fill={C.groundBlood} opacity={0.4} />\n  </g>\n);\n\n// ---- Sub-component: Broken weapon/debris on ground ----\nconst BattleDebris: React.FC<{\n  x: number; y: number; type: 'shield' | 'spear' | 'sword' | 'obsidian';\n}> = ({ x, y, type }) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {type === 'shield' && (\n      <>\n        <ellipse cx={0} cy={0} rx={6} ry={5} fill={C.shieldGreen} opacity={0.5}\n          stroke={C.outline} strokeWidth={0.5} transform=\"rotate(25)\" />\n        <circle cx={0} cy={0} r={2} fill={C.gold} opacity={0.4} />\n      </>\n    )}\n    {type === 'spear' && (\n      <>\n        <line x1={-12} y1={2} x2={12} y2={-1} stroke={C.woodWeapon} strokeWidth={2} opacity={0.6} />\n        <path d=\"M12,-1 L16,-3 L14,1 Z\" fill={C.obsidian} opacity={0.5} />\n      </>\n    )}\n    {type === 'sword' && (\n      <>\n        <line x1={-8} y1={1} x2={8} y2={-1} stroke={C.steelMid} strokeWidth={1.5} opacity={0.5} />\n        <rect x={-10} y={-1} width={4} height={3} rx={0.5} fill={C.gold} opacity={0.4} />\n      </>\n    )}\n    {type === 'obsidian' && (\n      <>\n        <rect x={-6} y={-1} width={12} height={3} rx={0.5} fill={C.woodWeapon} opacity={0.5} />\n        {[-4, -1, 2, 5].map((ox, i) => (\n          <path key={`ob-${i}`} d={`M${ox},-1 L${ox - 1},-3 L${ox + 1},-1`}\n            fill={C.obsidian} opacity={0.4} />\n        ))}\n      </>\n    )}\n  </g>\n);\n\n// ---- Sub-component: Dust cloud drifting ----\nconst DustCloud: React.FC<{\n  x: number; y: number; size: number;\n  drift: number; opacity: number;\n}> = ({ x, y, size, drift, opacity }) => (\n  <g transform={`translate(${x + drift}, ${y})`}>\n    <ellipse cx={0} cy={0} rx={size * 1.5} ry={size * 0.6}\n      fill={C.dustLight} opacity={opacity * 0.6} />\n    <ellipse cx={size * 0.3} cy={-size * 0.2} rx={size} ry={size * 0.4}\n      fill={C.dustMid} opacity={opacity * 0.4} />\n    <ellipse cx={-size * 0.4} cy={size * 0.1} rx={size * 0.8} ry={size * 0.3}\n      fill={C.dustDark} opacity={opacity * 0.3} />\n  </g>\n);\n\n// ---- Sub-component: Smoke column from fires ----\nconst SmokeColumn: React.FC<{\n  x: number; y: number; height: number; width: number;\n  drift: number; opacity: number;\n}> = ({ x, y, height, width: w, drift, opacity }) => (\n  <g transform={`translate(${x}, ${y})`}>\n    <path d={`M0,0\n      Q${drift * 4},${-height * 0.3} ${drift * 8},${-height * 0.5}\n      Q${drift * 10},${-height * 0.7} ${drift * 12},${-height}`}\n      fill=\"none\" stroke={C.smokeDark} strokeWidth={w} strokeLinecap=\"round\" opacity={opacity * 0.5} />\n    <path d={`M${w * 0.3},0\n      Q${drift * 3 + w * 0.2},${-height * 0.25} ${drift * 7},${-height * 0.45}\n      Q${drift * 9 + w * 0.1},${-height * 0.65} ${drift * 11},${-height * 0.9}`}\n      fill=\"none\" stroke={C.smokeMid} strokeWidth={w * 0.7} strokeLinecap=\"round\" opacity={opacity * 0.3} />\n  </g>\n);\n\n// ---- Sub-component: Spanish banner/standard ----\nconst SpanishBanner: React.FC<{\n  x: number; y: number; sway: number;\n}> = ({ x, y, sway }) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {/* Pole */}\n    <line x1={0} y1={0} x2={0} y2={-60} stroke={C.woodDark} strokeWidth={2} strokeLinecap=\"round\" />\n    {/* Cross finial */}\n    <line x1={-3} y1={-58} x2={3} y2={-58} stroke={C.gold} strokeWidth={1.5} />\n    <line x1={0} y1={-62} x2={0} y2={-55} stroke={C.gold} strokeWidth={1.5} />\n    {/* Banner fabric */}\n    <path d={`M0,-55 Q${8 + sway * 3},-50 ${12 + sway * 4},-45\n      L${10 + sway * 3},-35 Q${6 + sway * 2},-38 0,-40 Z`}\n      fill={C.spanishRed} stroke={C.outline} strokeWidth={0.5} opacity={0.8} />\n    {/* Cross on banner */}\n    <line x1={4 + sway} y1={-50} x2={8 + sway * 2} y2={-50}\n      stroke={C.gold} strokeWidth={1} opacity={0.6} />\n    <line x1={6 + sway * 1.5} y1={-53} x2={6 + sway * 1.5} y2={-47}\n      stroke={C.gold} strokeWidth={1} opacity={0.6} />\n  </g>\n);\n\n// ---- Sub-component: Aztec war banner ----\nconst AztecBanner: React.FC<{\n  x: number; y: number; sway: number;\n}> = ({ x, y, sway }) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {/* Pole */}\n    <line x1={0} y1={0} x2={0} y2={-65} stroke={C.woodWeapon} strokeWidth={2.5} strokeLinecap=\"round\" />\n    {/* Feathered top */}\n    {[-3, -1, 1, 3].map((dx, i) => (\n      <line key={`bf-${i}`}\n        x1={0} y1={-65}\n        x2={dx * 2 + sway} y2={-75 - Math.abs(dx) * 2}\n        stroke={[C.featherGreen, C.featherRed, C.featherBlue, C.featherGreen][i]}\n        strokeWidth={2} strokeLinecap=\"round\" />\n    ))}\n    {/* Back-rack frame */}\n    <path d={`M-2,-60 L-8 + ${sway},-50 L-6 + ${sway},-35 L-2,-30 Z`}\n      fill={C.featherGreen} stroke={C.outline} strokeWidth={0.5} opacity={0.7} />\n    <path d={`M2,-60 L8 + ${sway},-50 L6 + ${sway},-35 L2,-30 Z`}\n      fill={C.featherRed} stroke={C.outline} strokeWidth={0.5} opacity={0.7} />\n    {/* Gold disc center */}\n    <circle cx={sway * 0.5} cy={-48} r={4} fill={C.gold} stroke={C.outline} strokeWidth={0.5} opacity={0.7} />\n  </g>\n);\n\n// ---- Main BattleScene Component ----\nexport const BattleScene: React.FC<BattleSceneProps> = ({\n  boardText = '',\n  width = 1920,\n  height = 1080,\n}) => {\n  const frame = useCurrentFrame();\n\n  // Animation variables\n  const cloudDrift1 = sineWave(frame, 0.02) * 15;\n  const cloudDrift2 = sineWave(frame, 0.025, 1) * 12;\n  const cloudDrift3 = sineWave(frame, 0.018, 2) * 18;\n  const smokeDrift1 = sineWave(frame, 0.03, 0.5) * 8;\n  const smokeDrift2 = sineWave(frame, 0.035, 1.5) * 10;\n  const smokeDrift3 = sineWave(frame, 0.028, 2.5) * 6;\n  const fireFlicker1 = sineWave(frame, 0.15) * 0.5 + 0.5;\n  const fireFlicker2 = sineWave(frame, 0.18, 1) * 0.5 + 0.5;\n  const fireFlicker3 = sineWave(frame, 0.12, 2) * 0.5 + 0.5;\n  const dustDrift1 = sineWave(frame, 0.04) * 20;\n  const dustDrift2 = sineWave(frame, 0.05, 1.5) * 25;\n  const dustDrift3 = sineWave(frame, 0.035, 3) * 15;\n  const bannerSway1 = sineWave(frame, 0.1) * 3;\n  const bannerSway2 = sineWave(frame, 0.12, 1) * 2.5;\n  const cannonFire1 = sineWave(frame, 0.08, 0);\n  const cannonFire2 = sineWave(frame, 0.08, 2);\n  const godRayPulse = sineWave(frame, 0.03) * 0.03 + 0.06;\n  const waterRipple = sineWave(frame, 0.1) * 2;\n  const mistFloat = sineWave(frame, 0.02) * 10;\n  const emberFloat1 = sineWave(frame, 0.08, 0) * 5;\n  const emberFloat2 = sineWave(frame, 0.1, 1.5) * 4;\n  const emberFloat3 = sineWave(frame, 0.07, 3) * 6;\n\n  return (\n    <svg viewBox={`0 0 ${width} ${height}`} width={width} height={height}>\n      <defs>\n        {/* Sky gradient - dramatic, dark, fiery */}\n        <linearGradient id=\"bs-sky\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.skyTop} />\n          <stop offset=\"30%\" stopColor={C.skyMid} />\n          <stop offset=\"60%\" stopColor={C.skyLow} />\n          <stop offset=\"85%\" stopColor={C.skyHorizon} />\n          <stop offset=\"100%\" stopColor={C.skyFire} />\n        </linearGradient>\n\n        {/* Ground gradient */}\n        <linearGradient id=\"bs-ground\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.groundMid} />\n          <stop offset=\"30%\" stopColor={C.groundDark} />\n          <stop offset=\"70%\" stopColor={C.mudDark} />\n          <stop offset=\"100%\" stopColor={C.groundDark} />\n        </linearGradient>\n\n        {/* Lake gradient */}\n        <linearGradient id=\"bs-lake\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.lakeDark} />\n          <stop offset=\"50%\" stopColor={C.lakeMid} />\n          <stop offset=\"100%\" stopColor={C.lakeLight} />\n        </linearGradient>\n\n        {/* Fire glow radial */}\n        <radialGradient id=\"bs-fireglow\" cx=\"50%\" cy=\"40%\" r=\"50%\">\n          <stop offset=\"0%\" stopColor={C.fireGlow} />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </radialGradient>\n\n        {/* Sun glow behind smoke */}\n        <radialGradient id=\"bs-sunglow\" cx=\"65%\" cy=\"25%\" r=\"35%\">\n          <stop offset=\"0%\" stopColor={C.sunGlow} />\n          <stop offset=\"60%\" stopColor=\"rgba(255,120,40,0.08)\" />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </radialGradient>\n\n        {/* Vignette effect */}\n        <radialGradient id=\"bs-vignette\" cx=\"50%\" cy=\"50%\" r=\"70%\">\n          <stop offset=\"0%\" stopColor=\"rgba(0,0,0,0)\" />\n          <stop offset=\"70%\" stopColor=\"rgba(0,0,0,0)\" />\n          <stop offset=\"100%\" stopColor={C.vignette} />\n        </radialGradient>\n\n        {/* Blood mist effect */}\n        <radialGradient id=\"bs-bloodmist\" cx=\"50%\" cy=\"65%\" r=\"40%\">\n          <stop offset=\"0%\" stopColor={C.bloodMist} />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </radialGradient>\n\n        {/* God ray filter */}\n        <linearGradient id=\"bs-godray1\" x1=\"60%\" y1=\"0%\" x2=\"40%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.godRayBright} />\n          <stop offset=\"50%\" stopColor={C.godRay} />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </linearGradient>\n\n        {/* Causeway stone pattern */}\n        <pattern id=\"bs-stone-pattern\" x=\"0\" y=\"0\" width=\"20\" height=\"10\" patternUnits=\"userSpaceOnUse\">\n          <rect width=\"20\" height=\"10\" fill={C.causewayStone} />\n          <line x1=\"0\" y1=\"5\" x2=\"20\" y2=\"5\" stroke={C.causewayShadow} strokeWidth={0.5} opacity={0.3} />\n          <line x1=\"10\" y1=\"0\" x2=\"10\" y2=\"5\" stroke={C.causewayShadow} strokeWidth={0.5} opacity={0.3} />\n          <line x1=\"0\" y1=\"5\" x2=\"0\" y2=\"10\" stroke={C.causewayShadow} strokeWidth={0.5} opacity={0.3} />\n          <line x1=\"20\" y1=\"5\" x2=\"20\" y2=\"10\" stroke={C.causewayShadow} strokeWidth={0.5} opacity={0.3} />\n        </pattern>\n\n        {/* Ground texture pattern */}\n        <pattern id=\"bs-ground-tex\" x=\"0\" y=\"0\" width=\"40\" height=\"40\" patternUnits=\"userSpaceOnUse\">\n          <rect width=\"40\" height=\"40\" fill=\"rgba(0,0,0,0)\" />\n          <circle cx=\"8\" cy=\"12\" r=\"1\" fill={C.groundDust} opacity={0.15} />\n          <circle cx=\"25\" cy=\"6\" r=\"0.8\" fill={C.groundDust} opacity={0.1} />\n          <circle cx=\"32\" cy=\"28\" r=\"1.2\" fill={C.groundDust} opacity={0.12} />\n          <circle cx=\"15\" cy=\"35\" r=\"0.6\" fill={C.groundDust} opacity={0.1} />\n          <path d=\"M5,22 Q8,20 11,22\" fill=\"none\" stroke={C.mudLight} strokeWidth={0.3} opacity={0.1} />\n          <path d=\"M28,15 Q30,13 33,15\" fill=\"none\" stroke={C.mudLight} strokeWidth={0.3} opacity={0.08} />\n        </pattern>\n\n        {/* Smoke blur filter for depth */}\n        <filter id=\"bs-smoke-blur\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\">\n          <feGaussianBlur stdDeviation=\"3\" />\n        </filter>\n\n        {/* Fire glow filter */}\n        <filter id=\"bs-fire-glow\" x=\"-30%\" y=\"-30%\" width=\"160%\" height=\"160%\">\n          <feGaussianBlur stdDeviation=\"5\" />\n        </filter>\n\n        {/* Mountain atmospheric gradient */}\n        <linearGradient id=\"bs-mountain-haze\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor=\"rgba(40,20,15,0)\" />\n          <stop offset=\"60%\" stopColor=\"rgba(40,20,15,0.08)\" />\n          <stop offset=\"100%\" stopColor=\"rgba(100,60,30,0.15)\" />\n        </linearGradient>\n\n        {/* Lake reflection gradient */}\n        <linearGradient id=\"bs-lake-reflect\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor=\"rgba(255,120,40,0.12)\" />\n          <stop offset=\"50%\" stopColor=\"rgba(255,80,20,0.08)\" />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </linearGradient>\n\n        {/* Dust particle pattern */}\n        <pattern id=\"bs-dust-particles\" x=\"0\" y=\"0\" width=\"60\" height=\"60\" patternUnits=\"userSpaceOnUse\">\n          <circle cx=\"10\" cy=\"15\" r=\"0.5\" fill={C.groundDust} opacity={0.08} />\n          <circle cx=\"30\" cy=\"8\" r=\"0.3\" fill={C.groundDust} opacity={0.06} />\n          <circle cx=\"45\" cy=\"35\" r=\"0.6\" fill={C.groundDust} opacity={0.07} />\n          <circle cx=\"20\" cy=\"48\" r=\"0.4\" fill={C.groundDust} opacity={0.05} />\n          <circle cx=\"52\" cy=\"22\" r=\"0.5\" fill={C.groundDust} opacity={0.06} />\n          <circle cx=\"8\" cy=\"42\" r=\"0.3\" fill={C.groundDust} opacity={0.04} />\n          <circle cx=\"38\" cy=\"55\" r=\"0.4\" fill={C.groundDust} opacity={0.05} />\n        </pattern>\n\n        {/* Canvas texture for oil painting feel */}\n        <pattern id=\"bs-canvas\" x=\"0\" y=\"0\" width=\"4\" height=\"4\" patternUnits=\"userSpaceOnUse\">\n          <rect width=\"4\" height=\"4\" fill=\"rgba(0,0,0,0)\" />\n          <line x1=\"0\" y1=\"0\" x2=\"4\" y2=\"0\" stroke=\"rgba(0,0,0,0.01)\" strokeWidth={0.3} />\n          <line x1=\"0\" y1=\"2\" x2=\"4\" y2=\"2\" stroke=\"rgba(0,0,0,0.008)\" strokeWidth={0.3} />\n          <line x1=\"0\" y1=\"0\" x2=\"0\" y2=\"4\" stroke=\"rgba(0,0,0,0.01)\" strokeWidth={0.3} />\n          <line x1=\"2\" y1=\"0\" x2=\"2\" y2=\"4\" stroke=\"rgba(0,0,0,0.008)\" strokeWidth={0.3} />\n        </pattern>\n      </defs>\n\n      {/* ============================================================ */}\n      {/* LAYER 1: SKY (background) */}\n      {/* ============================================================ */}\n\n      {/* Base sky gradient */}\n      <rect x={0} y={0} width={width} height={height * 0.45} fill=\"url(#bs-sky)\" />\n\n      {/* Sun glow (partially obscured by smoke) */}\n      <rect x={0} y={0} width={width} height={height * 0.5} fill=\"url(#bs-sunglow)\" />\n\n      {/* Sun disc behind smoke/clouds */}\n      <circle cx={width * 0.65} cy={height * 0.18} r={35}\n        fill={C.sunCore} opacity={0.2} />\n      <circle cx={width * 0.65} cy={height * 0.18} r={60}\n        fill={C.sunGlow} opacity={0.15} />\n\n      {/* === DRAMATIC CLOUDS === */}\n\n      {/* Far cloud layer */}\n      <g opacity={0.6}>\n        <ellipse cx={200 + cloudDrift1} cy={80} rx={180} ry={40}\n          fill={C.cloudDark} />\n        <ellipse cx={220 + cloudDrift1} cy={75} rx={140} ry={30}\n          fill={C.cloudMid} opacity={0.5} />\n        <ellipse cx={600 + cloudDrift2} cy={60} rx={220} ry={45}\n          fill={C.cloudDark} />\n        <ellipse cx={620 + cloudDrift2} cy={55} rx={160} ry={30}\n          fill={C.cloudMid} opacity={0.4} />\n        <ellipse cx={1100 + cloudDrift3} cy={90} rx={250} ry={50}\n          fill={C.cloudDark} />\n        <ellipse cx={1120 + cloudDrift3} cy={85} rx={180} ry={35}\n          fill={C.cloudMid} opacity={0.5} />\n        <ellipse cx={1500 + cloudDrift1 * 0.5} cy={70} rx={200} ry={38}\n          fill={C.cloudDark} />\n      </g>\n\n      {/* Mid cloud layer with fire highlights */}\n      <g opacity={0.7}>\n        <ellipse cx={350 + cloudDrift2 * 0.8} cy={140} rx={200} ry={35}\n          fill={C.cloudMid} />\n        <ellipse cx={370 + cloudDrift2 * 0.8} cy={135} rx={150} ry={25}\n          fill={C.cloudLight} opacity={0.4} />\n        <ellipse cx={380 + cloudDrift2 * 0.8} cy={132} rx={80} ry={15}\n          fill={C.cloudHighlight} opacity={0.25} />\n\n        <ellipse cx={850 + cloudDrift1 * 0.6} cy={120} rx={240} ry={42}\n          fill={C.cloudMid} />\n        <ellipse cx={870 + cloudDrift1 * 0.6} cy={115} rx={180} ry={30}\n          fill={C.cloudLight} opacity={0.4} />\n        <ellipse cx={900 + cloudDrift1 * 0.6} cy={110} rx={100} ry={18}\n          fill={C.cloudHighlight} opacity={0.3} />\n\n        <ellipse cx={1400 + cloudDrift3 * 0.7} cy={130} rx={220} ry={38}\n          fill={C.cloudMid} />\n        <ellipse cx={1420 + cloudDrift3 * 0.7} cy={125} rx={160} ry={28}\n          fill={C.cloudLight} opacity={0.35} />\n      </g>\n\n      {/* Near cloud layer (low, ominous) */}\n      <g opacity={0.5}>\n        <ellipse cx={150 + cloudDrift3} cy={200} rx={300} ry={50}\n          fill={C.cloudDark} />\n        <ellipse cx={700 + cloudDrift1 * 1.2} cy={180} rx={280} ry={45}\n          fill={C.cloudDark} />\n        <ellipse cx={1300 + cloudDrift2 * 0.9} cy={190} rx={320} ry={55}\n          fill={C.cloudDark} />\n        <ellipse cx={1700 + cloudDrift3 * 0.6} cy={210} rx={250} ry={40}\n          fill={C.cloudDark} />\n      </g>\n\n      {/* Fire-lit cloud undersides */}\n      <g opacity={0.35}>\n        <ellipse cx={800 + cloudDrift1 * 0.5} cy={170} rx={300} ry={25}\n          fill={C.cloudEmber} />\n        <ellipse cx={500 + cloudDrift2 * 0.4} cy={185} rx={200} ry={20}\n          fill={C.cloudHighlight} />\n        <ellipse cx={1200 + cloudDrift3 * 0.3} cy={175} rx={250} ry={22}\n          fill={C.cloudEmber} />\n      </g>\n\n      {/* God rays breaking through clouds */}\n      <g opacity={godRayPulse}>\n        <polygon points={`${width * 0.6},0 ${width * 0.52},${height * 0.5} ${width * 0.58},${height * 0.5}`}\n          fill=\"url(#bs-godray1)\" />\n        <polygon points={`${width * 0.7},0 ${width * 0.64},${height * 0.45} ${width * 0.68},${height * 0.45}`}\n          fill=\"url(#bs-godray1)\" />\n        <polygon points={`${width * 0.45},${height * 0.05} ${width * 0.4},${height * 0.48} ${width * 0.44},${height * 0.48}`}\n          fill=\"url(#bs-godray1)\" />\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 2: DISTANT MOUNTAINS */}\n      {/* ============================================================ */}\n\n      {/* Far mountains */}\n      <path d={`M0,${height * 0.35}\n        Q${width * 0.08},${height * 0.22} ${width * 0.15},${height * 0.28}\n        Q${width * 0.2},${height * 0.18} ${width * 0.28},${height * 0.25}\n        Q${width * 0.35},${height * 0.12} ${width * 0.42},${height * 0.2}\n        L${width * 0.42},${height * 0.45}\n        L0,${height * 0.45} Z`}\n        fill={C.mountainFar} />\n\n      {/* Popocatpetl (iconic snow-capped volcano) */}\n      <path d={`M${width * 0.3},${height * 0.35}\n        Q${width * 0.35},${height * 0.1} ${width * 0.42},${height * 0.08}\n        Q${width * 0.49},${height * 0.1} ${width * 0.54},${height * 0.35}`}\n        fill={C.mountainMid} />\n      {/* Snow cap */}\n      <path d={`M${width * 0.37},${height * 0.15}\n        Q${width * 0.39},${height * 0.09} ${width * 0.42},${height * 0.08}\n        Q${width * 0.45},${height * 0.09} ${width * 0.47},${height * 0.15}\n        Q${width * 0.44},${height * 0.13} ${width * 0.42},${height * 0.12}\n        Q${width * 0.4},${height * 0.13} ${width * 0.37},${height * 0.15} Z`}\n        fill={C.mountainSnow} opacity={0.4} />\n      <path d={`M${width * 0.39},${height * 0.12}\n        Q${width * 0.41},${height * 0.095} ${width * 0.42},${height * 0.09}\n        Q${width * 0.43},${height * 0.095} ${width * 0.45},${height * 0.12}`}\n        fill={C.mountainSnowShadow} opacity={0.3} />\n\n      {/* Iztacchuatl (sleeping woman volcano) */}\n      <path d={`M${width * 0.5},${height * 0.35}\n        Q${width * 0.55},${height * 0.2} ${width * 0.58},${height * 0.14}\n        Q${width * 0.6},${height * 0.16} ${width * 0.63},${height * 0.13}\n        Q${width * 0.66},${height * 0.16} ${width * 0.68},${height * 0.18}\n        Q${width * 0.72},${height * 0.22} ${width * 0.78},${height * 0.35}`}\n        fill={C.mountainNear} />\n      {/* Snow patches */}\n      <path d={`M${width * 0.57},${height * 0.17}\n        Q${width * 0.58},${height * 0.145} ${width * 0.59},${height * 0.15}\n        Q${width * 0.6},${height * 0.16} ${width * 0.58},${height * 0.18}`}\n        fill={C.mountainSnow} opacity={0.3} />\n      <path d={`M${width * 0.62},${height * 0.15}\n        Q${width * 0.63},${height * 0.135} ${width * 0.64},${height * 0.14}\n        Q${width * 0.65},${height * 0.16} ${width * 0.63},${height * 0.17}`}\n        fill={C.mountainSnow} opacity={0.25} />\n\n      {/* Right side mountains */}\n      <path d={`M${width * 0.7},${height * 0.35}\n        Q${width * 0.78},${height * 0.2} ${width * 0.85},${height * 0.22}\n        Q${width * 0.92},${height * 0.18} ${width},${height * 0.25}\n        L${width},${height * 0.45}\n        L${width * 0.7},${height * 0.45} Z`}\n        fill={C.mountainFar} />\n\n      {/* Mountain atmospheric haze */}\n      <rect x={0} y={height * 0.25} width={width} height={height * 0.2}\n        fill={C.fogFar} opacity={0.6} />\n\n      {/* ============================================================ */}\n      {/* LAYER 3: LAKE AND CITY SKYLINE (mid-distance) */}\n      {/* ============================================================ */}\n\n      {/* Lake Texcoco */}\n      <rect x={0} y={height * 0.32} width={width} height={height * 0.16}\n        fill=\"url(#bs-lake)\" opacity={0.7} />\n\n      {/* Lake fire reflections */}\n      <rect x={width * 0.2} y={height * 0.34} width={width * 0.6} height={height * 0.12}\n        fill={C.lakeFireReflect} opacity={0.3 + fireFlicker1 * 0.15} />\n      <rect x={width * 0.3} y={height * 0.35} width={width * 0.4} height={height * 0.08}\n        fill={C.lakeReflection} opacity={0.2} />\n\n      {/* Water ripple lines */}\n      {Array.from({ length: 8 }, (_, i) => (\n        <line key={`wr-${i}`}\n          x1={width * 0.05 + i * width * 0.12}\n          y1={height * 0.36 + (i % 3) * 8 + waterRipple * (i % 2 === 0 ? 1 : -1)}\n          x2={width * 0.05 + i * width * 0.12 + 60}\n          y2={height * 0.36 + (i % 3) * 8 + waterRipple * (i % 2 === 0 ? 1 : -1)}\n          stroke={C.lakeLight} strokeWidth={0.5} opacity={0.15} />\n      ))}\n\n      {/* Tenochtitlan city skyline (burning) */}\n      {/* Left side buildings */}\n      <BurningBuilding x={width * 0.15} y={height * 0.34} w={40} h={30}\n        fireIntensity={fireFlicker1} smokeDrift={smokeDrift1} />\n      <BurningBuilding x={width * 0.2} y={height * 0.33} w={35} h={25}\n        fireIntensity={fireFlicker2} smokeDrift={smokeDrift2} />\n      <BurningBuilding x={width * 0.25} y={height * 0.335} w={30} h={20}\n        fireIntensity={fireFlicker3} smokeDrift={smokeDrift1} />\n\n      {/* Templo Mayor (center, prominent) */}\n      <TempleSilhouette x={width * 0.35} y={height * 0.34} w={120} h={80}\n        fireGlow={fireFlicker1} />\n\n      {/* Right side buildings */}\n      <BurningBuilding x={width * 0.55} y={height * 0.335} w={35} h={28}\n        fireIntensity={fireFlicker2} smokeDrift={smokeDrift3} />\n      <BurningBuilding x={width * 0.6} y={height * 0.34} w={45} h={32}\n        fireIntensity={fireFlicker1} smokeDrift={smokeDrift2} />\n      <BurningBuilding x={width * 0.67} y={height * 0.336} w={30} h={22}\n        fireIntensity={fireFlicker3} smokeDrift={smokeDrift1} />\n\n      {/* Second temple */}\n      <TempleSilhouette x={width * 0.72} y={height * 0.34} w={80} h={55}\n        fireGlow={fireFlicker2} />\n\n      {/* More distant buildings */}\n      <BurningBuilding x={width * 0.82} y={height * 0.338} w={25} h={18}\n        fireIntensity={fireFlicker1} smokeDrift={smokeDrift3} />\n      <BurningBuilding x={width * 0.87} y={height * 0.34} w={30} h={20}\n        fireIntensity={fireFlicker2} smokeDrift={smokeDrift1} />\n\n      {/* Smoke columns from burning city */}\n      <SmokeColumn x={width * 0.25} y={height * 0.28} height={150} width={25}\n        drift={smokeDrift1} opacity={0.5} />\n      <SmokeColumn x={width * 0.42} y={height * 0.24} height={180} width={35}\n        drift={smokeDrift2} opacity={0.6} />\n      <SmokeColumn x={width * 0.62} y={height * 0.26} height={160} width={28}\n        drift={smokeDrift3} opacity={0.5} />\n      <SmokeColumn x={width * 0.78} y={height * 0.27} height={140} width={22}\n        drift={smokeDrift1} opacity={0.45} />\n\n      {/* City haze overlay */}\n      <rect x={0} y={height * 0.28} width={width} height={height * 0.12}\n        fill={C.citySmoke} opacity={0.3} />\n\n      {/* ============================================================ */}\n      {/* LAYER 4: CAUSEWAY (connecting city to battlefield) */}\n      {/* ============================================================ */}\n\n      {/* Causeway (perspective, getting wider towards viewer) */}\n      <path d={`M${width * 0.42},${height * 0.42}\n        L${width * 0.35},${height * 0.52}\n        L${width * 0.25},${height * 0.58}\n        L0,${height * 0.62}\n        L0,${height * 0.68}\n        L${width * 0.28},${height * 0.63}\n        L${width * 0.38},${height * 0.55}\n        L${width * 0.48},${height * 0.42} Z`}\n        fill=\"url(#bs-stone-pattern)\" stroke={C.causewayEdge} strokeWidth={1} />\n\n      {/* Causeway edge detail */}\n      <path d={`M${width * 0.42},${height * 0.42}\n        L${width * 0.35},${height * 0.52}\n        L${width * 0.25},${height * 0.58}\n        L0,${height * 0.62}`}\n        fill=\"none\" stroke={C.causewayShadow} strokeWidth={2} />\n      <path d={`M${width * 0.48},${height * 0.42}\n        L${width * 0.38},${height * 0.55}\n        L${width * 0.28},${height * 0.63}\n        L0,${height * 0.68}`}\n        fill=\"none\" stroke={C.causewayShadow} strokeWidth={2} />\n\n      {/* Causeway damage/breaks */}\n      <rect x={width * 0.32} y={height * 0.54} width={20} height={8}\n        fill={C.lakeMid} opacity={0.6} />\n      <rect x={width * 0.18} y={height * 0.6} width={25} height={10}\n        fill={C.lakeMid} opacity={0.5} />\n\n      {/* ============================================================ */}\n      {/* LAYER 5: BATTLEFIELD GROUND */}\n      {/* ============================================================ */}\n\n      {/* Main ground plane */}\n      <path d={`M0,${height * 0.55}\n        Q${width * 0.3},${height * 0.52} ${width * 0.5},${height * 0.54}\n        Q${width * 0.7},${height * 0.52} ${width},${height * 0.55}\n        L${width},${height} L0,${height} Z`}\n        fill=\"url(#bs-ground)\" />\n\n      {/* Ground texture overlay */}\n      <rect x={0} y={height * 0.55} width={width} height={height * 0.45}\n        fill=\"url(#bs-ground-tex)\" />\n\n      {/* Uneven ground details - ruts, tracks */}\n      {Array.from({ length: 12 }, (_, i) => (\n        <path key={`rut-${i}`}\n          d={`M${100 + i * 160},${height * 0.7 + (i % 3) * 20}\n            Q${120 + i * 160},${height * 0.7 + (i % 3) * 20 - 3} ${140 + i * 160},${height * 0.7 + (i % 3) * 20}`}\n          fill=\"none\" stroke={C.mudDark} strokeWidth={1} opacity={0.15} />\n      ))}\n\n      {/* Blood splatters on ground */}\n      <ellipse cx={width * 0.35} cy={height * 0.72} rx={25} ry={8}\n        fill={C.groundBlood} opacity={0.25} />\n      <ellipse cx={width * 0.55} cy={height * 0.68} rx={18} ry={6}\n        fill={C.groundBloodWet} opacity={0.2} />\n      <ellipse cx={width * 0.75} cy={height * 0.74} rx={22} ry={7}\n        fill={C.groundBlood} opacity={0.2} />\n      <ellipse cx={width * 0.45} cy={height * 0.78} rx={15} ry={5}\n        fill={C.groundBloodWet} opacity={0.15} />\n      <ellipse cx={width * 0.65} cy={height * 0.82} rx={20} ry={6}\n        fill={C.groundBlood} opacity={0.18} />\n\n      {/* ============================================================ */}\n      {/* LAYER 6: FALLEN WARRIORS AND DEBRIS (on ground) */}\n      {/* ============================================================ */}\n\n      {/* Fallen warriors scattered across battlefield */}\n      <FallenWarrior x={width * 0.2} y={height * 0.72} isAztec={true} rotation={-15} />\n      <FallenWarrior x={width * 0.4} y={height * 0.76} isAztec={false} rotation={20} />\n      <FallenWarrior x={width * 0.58} y={height * 0.7} isAztec={true} rotation={-8} />\n      <FallenWarrior x={width * 0.72} y={height * 0.78} isAztec={false} rotation={12} />\n      <FallenWarrior x={width * 0.88} y={height * 0.73} isAztec={true} rotation={-20} />\n      <FallenWarrior x={width * 0.32} y={height * 0.82} isAztec={true} rotation={5} />\n      <FallenWarrior x={width * 0.52} y={height * 0.84} isAztec={false} rotation={-10} />\n      <FallenWarrior x={width * 0.8} y={height * 0.86} isAztec={true} rotation={15} />\n\n      {/* Scattered weapons and debris */}\n      <BattleDebris x={width * 0.15} y={height * 0.74} type=\"shield\" />\n      <BattleDebris x={width * 0.3} y={height * 0.7} type=\"spear\" />\n      <BattleDebris x={width * 0.48} y={height * 0.77} type=\"sword\" />\n      <BattleDebris x={width * 0.62} y={height * 0.72} type=\"obsidian\" />\n      <BattleDebris x={width * 0.78} y={height * 0.8} type=\"shield\" />\n      <BattleDebris x={width * 0.42} y={height * 0.85} type=\"spear\" />\n      <BattleDebris x={width * 0.68} y={height * 0.88} type=\"sword\" />\n      <BattleDebris x={width * 0.9} y={height * 0.76} type=\"obsidian\" />\n      <BattleDebris x={width * 0.1} y={height * 0.8} type=\"obsidian\" />\n      <BattleDebris x={width * 0.55} y={height * 0.9} type=\"shield\" />\n\n      {/* ============================================================ */}\n      {/* LAYER 7: SPANISH CANNONS (right side) */}\n      {/* ============================================================ */}\n\n      <Cannon x={width * 0.82} y={height * 0.66} scale={0.9}\n        fireCycle={cannonFire1} smokeDrift={smokeDrift1} />\n      <Cannon x={width * 0.92} y={height * 0.7} scale={0.8}\n        fireCycle={cannonFire2} smokeDrift={smokeDrift2} />\n\n      {/* Cannonball impact craters */}\n      <ellipse cx={width * 0.45} cy={height * 0.68} rx={12} ry={5}\n        fill={C.mudDark} stroke={C.groundDark} strokeWidth={1} opacity={0.4} />\n      <ellipse cx={width * 0.35} cy={height * 0.73} rx={10} ry={4}\n        fill={C.mudDark} stroke={C.groundDark} strokeWidth={1} opacity={0.35} />\n\n      {/* ============================================================ */}\n      {/* LAYER 8: WAR BANNERS */}\n      {/* ============================================================ */}\n\n      {/* Aztec war banners (left side) */}\n      <AztecBanner x={width * 0.18} y={height * 0.68} sway={bannerSway1} />\n      <AztecBanner x={width * 0.28} y={height * 0.65} sway={bannerSway2} />\n\n      {/* Spanish banners (right side) */}\n      <SpanishBanner x={width * 0.78} y={height * 0.64} sway={bannerSway1} />\n      <SpanishBanner x={width * 0.88} y={height * 0.67} sway={bannerSway2} />\n\n      {/* ============================================================ */}\n      {/* LAYER 9: CROWD FIGURES (fighting warriors) */}\n      {/* ============================================================ */}\n\n      <AztecCrowdLayer config={AZTEC_CROWD_CONFIGS.battle} />\n\n      {/* ============================================================ */}\n      {/* LAYER 10: DUST CLOUDS (foreground battlefield) */}\n      {/* ============================================================ */}\n\n      {/* Large dust clouds drifting across battlefield */}\n      <DustCloud x={width * 0.1} y={height * 0.7} size={60} drift={dustDrift1} opacity={0.4} />\n      <DustCloud x={width * 0.35} y={height * 0.66} size={80} drift={dustDrift2} opacity={0.35} />\n      <DustCloud x={width * 0.55} y={height * 0.72} size={70} drift={dustDrift3} opacity={0.3} />\n      <DustCloud x={width * 0.75} y={height * 0.68} size={90} drift={dustDrift1 * 0.8} opacity={0.35} />\n      <DustCloud x={width * 0.9} y={height * 0.74} size={50} drift={dustDrift2 * 0.6} opacity={0.3} />\n\n      {/* Foreground dust closer to viewer */}\n      <DustCloud x={width * 0.05} y={height * 0.85} size={100} drift={dustDrift3 * 1.2} opacity={0.25} />\n      <DustCloud x={width * 0.4} y={height * 0.88} size={120} drift={dustDrift1 * 1.3} opacity={0.2} />\n      <DustCloud x={width * 0.7} y={height * 0.86} size={110} drift={dustDrift2 * 1.1} opacity={0.22} />\n\n      {/* ============================================================ */}\n      {/* LAYER 11: FIRE AND EMBERS */}\n      {/* ============================================================ */}\n\n      {/* Ground fires in the battlefield */}\n      {[\n        { x: width * 0.3, y: height * 0.65, s: 1 },\n        { x: width * 0.5, y: height * 0.62, s: 0.8 },\n        { x: width * 0.68, y: height * 0.66, s: 0.9 },\n      ].map((fire, i) => (\n        <g key={`gf-${i}`} transform={`translate(${fire.x}, ${fire.y}) scale(${fire.s})`}>\n          <ellipse cx={0} cy={5} rx={15} ry={4} fill={C.fireGlow}\n            opacity={0.3 + [fireFlicker1, fireFlicker2, fireFlicker3][i] * 0.2} />\n          <path d={`M-8,0 Q-10,${-12 - [fireFlicker1, fireFlicker2, fireFlicker3][i] * 10} 0,${-20 - [fireFlicker1, fireFlicker2, fireFlicker3][i] * 14}\n            Q10,${-12 - [fireFlicker1, fireFlicker2, fireFlicker3][i] * 10} 8,0`}\n            fill={C.fireMid} opacity={0.6} />\n          <path d={`M-4,0 Q-5,${-8 - [fireFlicker1, fireFlicker2, fireFlicker3][i] * 6} 0,${-14 - [fireFlicker1, fireFlicker2, fireFlicker3][i] * 8}\n            Q5,${-8 - [fireFlicker1, fireFlicker2, fireFlicker3][i] * 6} 4,0`}\n            fill={C.fireLight} opacity={0.5} />\n          <path d={`M-2,0 Q-2,${-5 - [fireFlicker1, fireFlicker2, fireFlicker3][i] * 4} 0,${-8 - [fireFlicker1, fireFlicker2, fireFlicker3][i] * 5}\n            Q2,${-5 - [fireFlicker1, fireFlicker2, fireFlicker3][i] * 4} 2,0`}\n            fill={C.fireBright} opacity={0.4} />\n        </g>\n      ))}\n\n      {/* Floating embers */}\n      {Array.from({ length: 20 }, (_, i) => {\n        const ex = 100 + (i * 97) % (width - 200);\n        const baseY = height * 0.3 + (i * 43) % (height * 0.4);\n        const ey = baseY + [emberFloat1, emberFloat2, emberFloat3][i % 3] * (1 + (i % 4));\n        const eSize = 1 + (i % 3) * 0.5;\n        const eOpacity = 0.3 + (i % 4) * 0.1;\n        return (\n          <circle key={`ember-${i}`}\n            cx={ex} cy={ey} r={eSize}\n            fill={[C.emberRed, C.emberOrange, C.emberYellow][i % 3]}\n            opacity={eOpacity} />\n        );\n      })}\n\n      {/* ============================================================ */}\n      {/* LAYER 12: FOREGROUND SMOKE AND MIST */}\n      {/* ============================================================ */}\n\n      {/* Low ground mist */}\n      <ellipse cx={width * 0.2 + mistFloat} cy={height * 0.92}\n        rx={200} ry={30} fill={C.fogNear} opacity={0.3} />\n      <ellipse cx={width * 0.6 - mistFloat} cy={height * 0.94}\n        rx={250} ry={35} fill={C.fogNear} opacity={0.25} />\n      <ellipse cx={width * 0.85 + mistFloat * 0.5} cy={height * 0.9}\n        rx={180} ry={25} fill={C.fogMid} opacity={0.2} />\n\n      {/* Smoke wisps in foreground */}\n      <path d={`M0,${height * 0.8}\n        Q${smokeDrift1 * 5},${height * 0.75} ${width * 0.15 + smokeDrift1 * 8},${height * 0.7}\n        Q${width * 0.25 + smokeDrift1 * 10},${height * 0.65} ${width * 0.3 + smokeDrift1 * 12},${height * 0.55}`}\n        fill=\"none\" stroke={C.smokeLight} strokeWidth={40} strokeLinecap=\"round\" opacity={0.15} />\n\n      <path d={`M${width},${height * 0.78}\n        Q${width - smokeDrift2 * 5},${height * 0.73} ${width * 0.85 - smokeDrift2 * 8},${height * 0.68}\n        Q${width * 0.75 - smokeDrift2 * 10},${height * 0.63} ${width * 0.7 - smokeDrift2 * 12},${height * 0.55}`}\n        fill=\"none\" stroke={C.smokeLight} strokeWidth={35} strokeLinecap=\"round\" opacity={0.12} />\n\n      {/* Blood mist overlay (subtle) */}\n      <rect x={0} y={0} width={width} height={height} fill=\"url(#bs-bloodmist)\" />\n\n      {/* ============================================================ */}\n      {/* LAYER 12B: FOREGROUND FIGHTING GROUPS */}\n      {/* ============================================================ */}\n\n      {/* Hand-drawn foreground warrior clash (left side - Aztec attacking) */}\n      <g transform={`translate(${width * 0.22}, ${height * 0.78})`}>\n        {/* Jaguar warrior lunging forward */}\n        <g transform={`scale(1.3)`}>\n          {/* Shadow */}\n          <ellipse cx={0} cy={4} rx={18} ry={5} fill=\"rgba(0,0,0,0.2)\" />\n          {/* Back leg braced */}\n          <line x1={-8} y1={-12} x2={-16} y2={4} stroke=\"#9A6E42\" strokeWidth={4.5} strokeLinecap=\"round\" />\n          {/* Front leg lunging */}\n          <line x1={4} y1={-12} x2={18 + sineWave(frame, 0.2) * 4} y2={2}\n            stroke=\"#B8865A\" strokeWidth={4.5} strokeLinecap=\"round\" />\n          {/* Body leaning into attack */}\n          <line x1={0} y1={-12} x2={6 + sineWave(frame, 0.2) * 2} y2={-32}\n            stroke=\"#B8865A\" strokeWidth={6} strokeLinecap=\"round\" />\n          {/* Jaguar costume torso */}\n          <rect x={2} y={-30} width={10} height={14} rx={2}\n            fill={C.jaguarSpot} stroke={C.outline} strokeWidth={0.6} />\n          <circle cx={5} cy={-26} r={1.5} fill={C.jaguarDark} />\n          <circle cx={9} cy={-22} r={1.2} fill={C.jaguarDark} />\n          <circle cx={6} cy={-19} r={1.4} fill={C.jaguarDark} />\n          {/* Head with jaguar helmet */}\n          <circle cx={8} cy={-36} r={6} fill=\"#B8865A\" stroke={C.outline} strokeWidth={0.8} />\n          <path d=\"M1,-38 Q0,-48 4,-50 Q8,-52 12,-50 Q16,-48 15,-38 L12,-36 L4,-36 Z\"\n            fill={C.jaguarSpot} stroke={C.outline} strokeWidth={0.6} />\n          <path d=\"M2,-46 L0,-52 L5,-47 Z\" fill={C.jaguarSpot} stroke={C.outline} strokeWidth={0.4} />\n          <path d=\"M14,-46 L16,-52 L11,-47 Z\" fill={C.jaguarSpot} stroke={C.outline} strokeWidth={0.4} />\n          <circle cx={4} cy={-45} r={1.2} fill={C.jaguarDark} />\n          <circle cx={12} cy={-45} r={1.2} fill={C.jaguarDark} />\n          <path d=\"M3,-34 L4,-31 L6,-33 L8,-31 L10,-33 L12,-31 L13,-34\"\n            fill=\"white\" stroke={C.outline} strokeWidth={0.4} />\n          {/* Attacking arm with macuahuitl */}\n          <line x1={8} y1={-28} x2={26 + sineWave(frame, 0.25) * 6} y2={-22}\n            stroke=\"#B8865A\" strokeWidth={3.5} strokeLinecap=\"round\" />\n          <g transform={`translate(${28 + sineWave(frame, 0.25) * 6}, -22) rotate(${-25 + sineWave(frame, 0.25) * 20})`}>\n            <rect x={-2.5} y={-24} width={5} height={26} rx={1.5} fill={C.woodWeapon} stroke={C.outline} strokeWidth={0.6} />\n            {[-20, -16, -12, -8, -4].map((oy, i) => (\n              <React.Fragment key={`fob-${i}`}>\n                <path d={`M-2.5,${oy} L-6,${oy - 2} L-2.5,${oy + 2.5} Z`} fill={C.obsidian} stroke={C.obsidianShine} strokeWidth={0.3} />\n                <path d={`M2.5,${oy} L6,${oy - 2} L2.5,${oy + 2.5} Z`} fill={C.obsidian} stroke={C.obsidianShine} strokeWidth={0.3} />\n              </React.Fragment>\n            ))}\n          </g>\n          {/* Shield arm */}\n          <line x1={4} y1={-26} x2={-10} y2={-20} stroke=\"#9A6E42\" strokeWidth={3} strokeLinecap=\"round\" />\n          <circle cx={-14} cy={-18} r={10} fill={C.shieldGreen} stroke={C.outline} strokeWidth={1} />\n          <circle cx={-14} cy={-18} r={6} fill={C.gold} stroke={C.outline} strokeWidth={0.5} />\n          <circle cx={-14} cy={-18} r={3} fill=\"#40B0B0\" />\n          {/* Shield feather fringe */}\n          {[-40, -20, 0, 20, 40].map((angle, fi) => (\n            <line key={`sff-${fi}`}\n              x1={-14 + Math.cos((angle + 180) * Math.PI / 180) * 10}\n              y1={-18 + Math.sin((angle + 180) * Math.PI / 180) * 10}\n              x2={-14 + Math.cos((angle + 180) * Math.PI / 180) * 15}\n              y2={-18 + Math.sin((angle + 180) * Math.PI / 180) * 15}\n              stroke={[C.featherRed, C.featherGreen, C.featherBlue, C.featherGreen, C.featherRed][fi]}\n              strokeWidth={2} strokeLinecap=\"round\" />\n          ))}\n          {/* Loincloth */}\n          <path d=\"M-4,-14 L6,-14 L7,-9 L-5,-9 Z\" fill={C.cottonWhite} stroke={C.outline} strokeWidth={0.5} />\n          <path d=\"M-3,-9 L-2,-6 M0,-9 L1,-6 M3,-9 L4,-6\" stroke={C.gold} strokeWidth={0.5} />\n        </g>\n      </g>\n\n      {/* Spanish soldier defending (right foreground) */}\n      <g transform={`translate(${width * 0.72}, ${height * 0.8})`}>\n        <g transform=\"scale(-1.2, 1.2)\">\n          {/* Shadow */}\n          <ellipse cx={0} cy={4} rx={16} ry={4.5} fill=\"rgba(0,0,0,0.2)\" />\n          {/* Legs with boots */}\n          <line x1={-4} y1={-10} x2={-8} y2={4} stroke=\"#4A3828\" strokeWidth={4.5} strokeLinecap=\"round\" />\n          <line x1={4} y1={-10} x2={6 + sineWave(frame, 0.18, 1) * 3} y2={4}\n            stroke=\"#5A4838\" strokeWidth={4.5} strokeLinecap=\"round\" />\n          <rect x={-10} y={1} width={6} height={5} rx={1} fill=\"#3A2818\" stroke={C.outline} strokeWidth={0.5} />\n          <rect x={4 + sineWave(frame, 0.18, 1) * 3} y={1} width={6} height={5} rx={1}\n            fill=\"#3A2818\" stroke={C.outline} strokeWidth={0.5} />\n          {/* Steel cuirass body */}\n          <path d=\"M-7,-10 L-7,-30 Q-7,-32 -5,-32 L5,-32 Q7,-32 7,-30 L7,-10 Z\"\n            fill={C.steelMid} stroke={C.outline} strokeWidth={1} />\n          <line x1={-4} y1={-28} x2={-4} y2={-14} stroke={C.steelShine} strokeWidth={1.5} opacity={0.3} />\n          <line x1={-6} y1={-20} x2={6} y2={-20} stroke={C.steelDark} strokeWidth={0.5} />\n          <line x1={-6} y1={-25} x2={6} y2={-25} stroke={C.steelDark} strokeWidth={0.5} />\n          {/* Morion helmet */}\n          <circle cx={0} cy={-36} r={5.5} fill=\"#C8A880\" stroke={C.outline} strokeWidth={0.8} />\n          <path d=\"M-8,-35 L-6,-37 L6,-37 L8,-35 Z\" fill={C.steelMid} stroke={C.outline} strokeWidth={0.5} />\n          <path d=\"M-2,-39 Q0,-44 2,-39\" fill={C.steelMid} stroke={C.outline} strokeWidth={0.5} />\n          {/* Beard */}\n          <path d=\"M-3,-33 Q0,-30 3,-33\" fill=\"#5A3A1A\" />\n          {/* Sword arm raised to block */}\n          <line x1={0} y1={-26} x2={14 + sineWave(frame, 0.2, 2) * 4} y2={-32}\n            stroke=\"#C8A880\" strokeWidth={3} strokeLinecap=\"round\" />\n          <g transform={`translate(${16 + sineWave(frame, 0.2, 2) * 4}, -34) rotate(${-50 + sineWave(frame, 0.2, 2) * 15})`}>\n            <rect x={-1.5} y={-22} width={3} height={24} rx={0.5} fill={C.steelLight} stroke={C.outline} strokeWidth={0.5} />\n            <line x1={0} y1={-20} x2={0} y2={0} stroke={C.steelShine} strokeWidth={0.5} opacity={0.3} />\n            <rect x={-5} y={0} width={10} height={2.5} rx={0.5} fill={C.gold} stroke={C.outline} strokeWidth={0.3} />\n            <circle cx={0} cy={5} r={2} fill={C.gold} stroke={C.outline} strokeWidth={0.3} />\n          </g>\n          {/* Shield arm */}\n          <line x1={0} y1={-24} x2={-10} y2={-18} stroke=\"#C8A880\" strokeWidth={2.5} strokeLinecap=\"round\" />\n          <circle cx={-14} cy={-16} r={9} fill={C.steelDark} stroke={C.outline} strokeWidth={1} />\n          <circle cx={-14} cy={-16} r={5} fill=\"none\" stroke={C.steelMid} strokeWidth={0.6} />\n          <circle cx={-14} cy={-16} r={2.5} fill={C.gold} stroke={C.outline} strokeWidth={0.3} />\n          {/* Red cross on shield */}\n          <line x1={-14} y1={-20} x2={-14} y2={-12} stroke={C.spanishRed} strokeWidth={1.5} opacity={0.5} />\n          <line x1={-18} y1={-16} x2={-10} y2={-16} stroke={C.spanishRed} strokeWidth={1.5} opacity={0.5} />\n        </g>\n      </g>\n\n      {/* Additional midground fighting pairs */}\n      {/* Pair 1: Eagle warrior vs soldier (center-left) */}\n      <g transform={`translate(${width * 0.38}, ${height * 0.7}) scale(0.7)`}>\n        <ellipse cx={0} cy={4} rx={30} ry={6} fill=\"rgba(0,0,0,0.15)\" />\n        {/* Eagle warrior */}\n        <g>\n          <line x1={-15} y1={-10} x2={-20} y2={3} stroke=\"#9A6E42\" strokeWidth={3} strokeLinecap=\"round\" />\n          <line x1={-9} y1={-10} x2={-4 + sineWave(frame, 0.22, 3) * 3} y2={3}\n            stroke=\"#B8865A\" strokeWidth={3} strokeLinecap=\"round\" />\n          <line x1={-12} y1={-10} x2={-10} y2={-26} stroke=\"#B8865A\" strokeWidth={4.5} strokeLinecap=\"round\" />\n          <rect x={-14} y={-24} width={8} height={12} rx={1.5} fill={C.eagleWhite} stroke={C.outline} strokeWidth={0.4} />\n          <circle cx={-10} cy={-30} r={4} fill=\"#B8865A\" stroke={C.outline} strokeWidth={0.6} />\n          <path d=\"M-10,-35 L-14,-33 L-18,-38 L-13,-34 L-10,-36 L-7,-34 L-2,-38 L-6,-33 Z\"\n            fill={C.eagleWhite} stroke={C.outline} strokeWidth={0.4} />\n          <line x1={-10} y1={-35} x2={-10} y2={-44} stroke={C.eagleWhite} strokeWidth={1.5} strokeLinecap=\"round\" />\n          <circle cx={-10} cy={-44} r={1.5} fill={C.featherRed} />\n          <line x1={-10} y1={-24} x2={4 + sineWave(frame, 0.22, 3) * 5} y2={-20}\n            stroke=\"#B8865A\" strokeWidth={2.5} strokeLinecap=\"round\" />\n          <line x1={4 + sineWave(frame, 0.22, 3) * 5} y1={-20} x2={6 + sineWave(frame, 0.22, 3) * 5} y2={-38}\n            stroke={C.woodWeapon} strokeWidth={2} strokeLinecap=\"round\" />\n        </g>\n        {/* Spanish soldier */}\n        <g transform=\"translate(25, 0) scale(-1, 1)\">\n          <line x1={-4} y1={-10} x2={-6} y2={3} stroke=\"#4A3828\" strokeWidth={3} strokeLinecap=\"round\" />\n          <line x1={3} y1={-10} x2={5} y2={3} stroke=\"#5A4838\" strokeWidth={3} strokeLinecap=\"round\" />\n          <rect x={-5} y={-24} width={10} height={14} rx={1} fill={C.steelMid} stroke={C.outline} strokeWidth={0.5} />\n          <circle cx={0} cy={-28} r={4} fill=\"#C8A880\" stroke={C.outline} strokeWidth={0.5} />\n          <path d=\"M-6,-27 L-4,-29 L4,-29 L6,-27\" fill={C.steelMid} stroke={C.outline} strokeWidth={0.3} />\n          <line x1={0} y1={-22} x2={12} y2={-18} stroke=\"#C8A880\" strokeWidth={2.5} strokeLinecap=\"round\" />\n          <line x1={12} y1={-18} x2={14} y2={-32} stroke={C.steelLight} strokeWidth={1.5} />\n        </g>\n      </g>\n\n      {/* Pair 2: Jaguar warrior grappling with soldier (center-right) */}\n      <g transform={`translate(${width * 0.6}, ${height * 0.72}) scale(0.65)`}>\n        <ellipse cx={0} cy={4} rx={28} ry={5} fill=\"rgba(0,0,0,0.12)\" />\n        {/* Interlocked fighters */}\n        <line x1={-10} y1={-8} x2={-14} y2={3} stroke=\"#9A6E42\" strokeWidth={3} strokeLinecap=\"round\" />\n        <line x1={-4} y1={-8} x2={0} y2={3} stroke=\"#B8865A\" strokeWidth={3} strokeLinecap=\"round\" />\n        <line x1={-7} y1={-8} x2={-5} y2={-22} stroke=\"#B8865A\" strokeWidth={4.5} strokeLinecap=\"round\" />\n        <rect x={-9} y={-20} width={8} height={10} rx={1.5} fill={C.jaguarSpot} stroke={C.outline} strokeWidth={0.4} />\n        <circle cx={-5} cy={-26} r={4} fill=\"#B8865A\" stroke={C.outline} strokeWidth={0.6} />\n        <path d=\"M-9,-28 Q-10,-36 -5,-38 Q0,-36 1,-28\" fill={C.jaguarSpot} stroke={C.outline} strokeWidth={0.4} />\n        {/* Grappling arms */}\n        <line x1={-5} y1={-18} x2={8} y2={-16} stroke=\"#B8865A\" strokeWidth={2.5} strokeLinecap=\"round\" />\n        {/* Soldier */}\n        <line x1={10} y1={-8} x2={14} y2={3} stroke=\"#4A3828\" strokeWidth={3} strokeLinecap=\"round\" />\n        <line x1={16} y1={-8} x2={18} y2={3} stroke=\"#5A4838\" strokeWidth={3} strokeLinecap=\"round\" />\n        <rect x={8} y={-22} width={10} height={14} rx={1} fill={C.steelMid} stroke={C.outline} strokeWidth={0.5} />\n        <circle cx={13} cy={-26} r={4} fill=\"#C8A880\" stroke={C.outline} strokeWidth={0.5} />\n        <path d=\"M8,-25 L10,-27 L16,-27 L18,-25\" fill={C.steelMid} stroke={C.outline} strokeWidth={0.3} />\n        <line x1={13} y1={-18} x2={4} y2={-16} stroke=\"#C8A880\" strokeWidth={2.5} strokeLinecap=\"round\" />\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 12C: FOREGROUND GROUND DETAILS */}\n      {/* ============================================================ */}\n\n      {/* Rocks and rubble in foreground */}\n      {[\n        { x: width * 0.05, y: height * 0.88, rx: 12, ry: 6 },\n        { x: width * 0.15, y: height * 0.92, rx: 8, ry: 4 },\n        { x: width * 0.32, y: height * 0.9, rx: 15, ry: 7 },\n        { x: width * 0.48, y: height * 0.94, rx: 10, ry: 5 },\n        { x: width * 0.62, y: height * 0.91, rx: 13, ry: 6 },\n        { x: width * 0.78, y: height * 0.93, rx: 9, ry: 4.5 },\n        { x: width * 0.88, y: height * 0.89, rx: 11, ry: 5.5 },\n        { x: width * 0.95, y: height * 0.95, rx: 7, ry: 3.5 },\n      ].map((rock, i) => (\n        <g key={`rock-${i}`} transform={`translate(${rock.x}, ${rock.y})`}>\n          <ellipse cx={0} cy={0} rx={rock.rx} ry={rock.ry}\n            fill={C.groundMid} stroke={C.outline} strokeWidth={0.5} />\n          <ellipse cx={-rock.rx * 0.2} cy={-rock.ry * 0.3} rx={rock.rx * 0.5} ry={rock.ry * 0.4}\n            fill={C.groundLight} opacity={0.3} />\n          <line x1={-rock.rx * 0.3} y1={rock.ry * 0.1} x2={rock.rx * 0.2} y2={rock.ry * 0.2}\n            stroke={C.groundDark} strokeWidth={0.4} opacity={0.3} />\n        </g>\n      ))}\n\n      {/* Wheel tracks / drag marks in mud */}\n      <path d={`M${width * 0.7},${height * 0.85} Q${width * 0.75},${height * 0.84} ${width * 0.82},${height * 0.86}\n        Q${width * 0.88},${height * 0.87} ${width * 0.95},${height * 0.86}`}\n        fill=\"none\" stroke={C.mudDark} strokeWidth={3} opacity={0.2} />\n      <path d={`M${width * 0.72},${height * 0.86} Q${width * 0.77},${height * 0.85} ${width * 0.84},${height * 0.87}\n        Q${width * 0.9},${height * 0.88} ${width * 0.97},${height * 0.87}`}\n        fill=\"none\" stroke={C.mudDark} strokeWidth={3} opacity={0.18} />\n\n      {/* Broken obsidian chips scattered */}\n      {Array.from({ length: 15 }, (_, i) => {\n        const cx = 80 + (i * 131) % (width - 160);\n        const cy = height * 0.82 + (i * 47) % (height * 0.15);\n        return (\n          <path key={`chip-${i}`}\n            d={`M${cx},${cy} L${cx + 2},${cy - 3} L${cx + 4},${cy} L${cx + 2},${cy + 1} Z`}\n            fill={C.obsidian} opacity={0.2 + (i % 3) * 0.05} />\n        );\n      })}\n\n      {/* Spent arrows in ground */}\n      {[\n        { x: width * 0.25, y: height * 0.78, angle: -70 },\n        { x: width * 0.42, y: height * 0.82, angle: -65 },\n        { x: width * 0.58, y: height * 0.76, angle: -80 },\n        { x: width * 0.74, y: height * 0.84, angle: -60 },\n        { x: width * 0.36, y: height * 0.88, angle: -75 },\n        { x: width * 0.66, y: height * 0.9, angle: -68 },\n      ].map((arrow, i) => (\n        <g key={`arrow-${i}`} transform={`translate(${arrow.x}, ${arrow.y}) rotate(${arrow.angle})`}>\n          <line x1={0} y1={0} x2={0} y2={-18} stroke={C.woodWeapon} strokeWidth={1.5} />\n          <path d=\"M-1.5,-18 L0,-22 L1.5,-18 Z\" fill={C.obsidian} />\n          {/* Fletching */}\n          <line x1={-2} y1={-2} x2={-1} y2={2} stroke={C.featherRed} strokeWidth={0.8} />\n          <line x1={2} y1={-2} x2={1} y2={2} stroke={C.featherRed} strokeWidth={0.8} />\n        </g>\n      ))}\n\n      {/* Trampled feathers on ground */}\n      {Array.from({ length: 10 }, (_, i) => {\n        const fx = 120 + (i * 183) % (width - 240);\n        const fy = height * 0.75 + (i * 59) % (height * 0.18);\n        const fcolor = [C.featherGreen, C.featherRed, C.featherBlue, C.eagleWhite][i % 4];\n        return (\n          <g key={`feather-${i}`} transform={`translate(${fx}, ${fy}) rotate(${(i * 37) % 360})`}>\n            <path d={`M0,0 Q2,-4 1,-8 Q0,-6 -1,-8 Q-2,-4 0,0 Z`}\n              fill={fcolor} opacity={0.25} />\n            <line x1={0} y1={0} x2={0} y2={-7} stroke={fcolor} strokeWidth={0.3} opacity={0.2} />\n          </g>\n        );\n      })}\n\n      {/* ============================================================ */}\n      {/* LAYER 12D: ADDITIONAL SMOKE PLUMES FROM CANNONS */}\n      {/* ============================================================ */}\n\n      {/* Lingering cannon smoke clouds (right side) */}\n      <g opacity={0.3}>\n        <ellipse cx={width * 0.85 + smokeDrift1 * 3} cy={height * 0.6}\n          rx={80} ry={25} fill={C.smokeWhite} />\n        <ellipse cx={width * 0.9 + smokeDrift2 * 2} cy={height * 0.58}\n          rx={60} ry={20} fill={C.smokeMid} />\n        <ellipse cx={width * 0.88 + smokeDrift3 * 2.5} cy={height * 0.62}\n          rx={70} ry={22} fill={C.smokeLight} />\n      </g>\n\n      {/* Gunpowder smoke drifting left from Spanish side */}\n      <path d={`M${width * 0.8},${height * 0.65}\n        Q${width * 0.7 + smokeDrift1 * 4},${height * 0.6} ${width * 0.6 + smokeDrift1 * 8},${height * 0.58}\n        Q${width * 0.5 + smokeDrift1 * 10},${height * 0.56} ${width * 0.4 + smokeDrift1 * 12},${height * 0.55}`}\n        fill=\"none\" stroke={C.smokeWhite} strokeWidth={30} strokeLinecap=\"round\" opacity={0.1} />\n\n      {/* ============================================================ */}\n      {/* LAYER 12E: HORSES AND RIDERS (additional foreground) */}\n      {/* ============================================================ */}\n\n      {/* Rearing horse silhouette (dramatic, right foreground) */}\n      <g transform={`translate(${width * 0.85}, ${height * 0.75}) scale(-1, 1)`}>\n        {/* Horse shadow */}\n        <ellipse cx={0} cy={15} rx={30} ry={6} fill=\"rgba(0,0,0,0.2)\" />\n        {/* Rear legs (on ground) */}\n        <line x1={-8} y1={0} x2={-10} y2={14} stroke=\"#5A3A1A\" strokeWidth={3.5} strokeLinecap=\"round\" />\n        <line x1={-2} y1={0} x2={-4} y2={14} stroke=\"#6A4A2A\" strokeWidth={3.5} strokeLinecap=\"round\" />\n        {/* Body angled up (rearing) */}\n        <path d=\"M-10,0 Q-8,-10 0,-18 Q8,-24 14,-28\"\n          fill=\"none\" stroke=\"#6A4A2A\" strokeWidth={12} strokeLinecap=\"round\" />\n        <ellipse cx={2} cy={-14} rx={16} ry={10}\n          fill=\"#6A4A2A\" stroke={C.outline} strokeWidth={0.8} />\n        {/* Front legs kicking */}\n        <line x1={10} y1={-22} x2={14 + sineWave(frame, 0.25, 4) * 4} y2={-34}\n          stroke=\"#5A3A1A\" strokeWidth={3} strokeLinecap=\"round\" />\n        <line x1={12} y1={-20} x2={18 + sineWave(frame, 0.25, 5) * 3} y2={-32}\n          stroke=\"#6A4A2A\" strokeWidth={3} strokeLinecap=\"round\" />\n        {/* Neck and head */}\n        <path d=\"M10,-22 Q14,-32 12,-40\" fill=\"none\" stroke=\"#6A4A2A\" strokeWidth={6} strokeLinecap=\"round\" />\n        <ellipse cx={12} cy={-44} rx={4} ry={5.5} fill=\"#6A4A2A\" stroke={C.outline} strokeWidth={0.6} />\n        <ellipse cx={14} cy={-40} rx={2.5} ry={2.5} fill=\"#7A5A3A\" />\n        <circle cx={10} cy={-46} r={1} fill={C.outline} />\n        <path d=\"M10,-48 L9,-52 L11,-48\" fill=\"#6A4A2A\" stroke={C.outline} strokeWidth={0.4} />\n        {/* Mane */}\n        <path d=\"M10,-38 Q8,-44 10,-50\" fill=\"none\" stroke=\"#3A2010\" strokeWidth={2.5} />\n        {/* Rider */}\n        <g transform=\"translate(2, -24)\">\n          <line x1={0} y1={0} x2={0} y2={-12} stroke={C.steelMid} strokeWidth={4.5} strokeLinecap=\"round\" />\n          <rect x={-3.5} y={-10} width={7} height={8} rx={1} fill={C.steelMid} stroke={C.outline} strokeWidth={0.4} />\n          <circle cx={0} cy={-15} r={3.5} fill=\"#C8A880\" stroke={C.outline} strokeWidth={0.5} />\n          <path d=\"M-5,-14 L-3,-16 L3,-16 L5,-14\" fill={C.steelMid} stroke={C.outline} strokeWidth={0.3} />\n          {/* Rider arm with lance */}\n          <line x1={2} y1={-8} x2={18} y2={-30} stroke={C.woodWeapon} strokeWidth={2} />\n          <path d=\"M18,-30 L17,-36 L19,-36 Z\" fill={C.steelLight} />\n        </g>\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 13: STONE TABLET BOARD */}\n      {/* ============================================================ */}\n\n      <g transform={`translate(${width * 0.5 - 220}, ${height * 0.88})`}>\n        {/* Tablet shadow */}\n        <rect x={-6} y={-6} width={452} height={112} rx={4}\n          fill=\"rgba(0,0,0,0.3)\" />\n        {/* Stone tablet outer frame */}\n        <rect x={-10} y={-10} width={460} height={120} rx={6}\n          fill={C.boardFrame} stroke={C.outline} strokeWidth={2} />\n        {/* Inner stone surface */}\n        <rect x={0} y={0} width={440} height={100} rx={3}\n          fill={C.boardBg} />\n        {/* Stone texture */}\n        <rect x={0} y={0} width={440} height={100} rx={3}\n          fill={C.boardStone} opacity={0.15} />\n        {/* Cracks in stone */}\n        <path d=\"M20,0 L25,15 L22,30\" fill=\"none\" stroke={C.outline} strokeWidth={0.3} opacity={0.2} />\n        <path d=\"M420,10 L415,25 L418,40\" fill=\"none\" stroke={C.outline} strokeWidth={0.3} opacity={0.15} />\n        {/* Aztec border pattern (step fret / xicalcoliuhqui) */}\n        <g opacity={0.3}>\n          {Array.from({ length: 22 }, (_, i) => (\n            <path key={`bp-${i}`}\n              d={`M${i * 20 + 5},2 L${i * 20 + 10},2 L${i * 20 + 10},6 L${i * 20 + 15},6 L${i * 20 + 15},2 L${i * 20 + 20},2`}\n              fill=\"none\" stroke={C.gold} strokeWidth={0.8} />\n          ))}\n          {Array.from({ length: 22 }, (_, i) => (\n            <path key={`bpb-${i}`}\n              d={`M${i * 20 + 5},98 L${i * 20 + 10},98 L${i * 20 + 10},94 L${i * 20 + 15},94 L${i * 20 + 15},98 L${i * 20 + 20},98`}\n              fill=\"none\" stroke={C.gold} strokeWidth={0.8} />\n          ))}\n        </g>\n        {/* Board text */}\n        {boardText && (\n          <text x={220} y={58} textAnchor=\"middle\" fill={C.chalk}\n            fontSize={36} fontFamily=\"'Courier New', monospace\" fontWeight=\"bold\" opacity={0.9}>\n            {boardText}\n          </text>\n        )}\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 14: ADDITIONAL FOREGROUND DETAILS */}\n      {/* ============================================================ */}\n\n      {/* Broken pottery and debris (foreground bottom) */}\n      {[\n        { x: width * 0.08, y: height * 0.95 },\n        { x: width * 0.22, y: height * 0.96 },\n        { x: width * 0.45, y: height * 0.97 },\n        { x: width * 0.68, y: height * 0.95 },\n        { x: width * 0.85, y: height * 0.96 },\n      ].map((pot, i) => (\n        <g key={`pot-${i}`} transform={`translate(${pot.x}, ${pot.y})`}>\n          <path d={`M-6,0 Q-8,-4 -5,-8 Q-2,-6 0,-8 Q3,-5 4,-3 L2,0 Z`}\n            fill=\"#A07040\" stroke={C.outline} strokeWidth={0.4} opacity={0.3} />\n          <line x1={-3} y1={-5} x2={1} y2={-4} stroke=\"#8A5A30\" strokeWidth={0.3} opacity={0.2} />\n        </g>\n      ))}\n\n      {/* Scattered cacao beans and jade pieces (trade goods trampled) */}\n      {Array.from({ length: 12 }, (_, i) => {\n        const bx = 60 + (i * 167) % (width - 120);\n        const by = height * 0.86 + (i * 31) % (height * 0.1);\n        return i % 3 === 0 ? (\n          <circle key={`jade-${i}`} cx={bx} cy={by} r={2}\n            fill=\"#3A8A5A\" opacity={0.2} stroke={C.outline} strokeWidth={0.2} />\n        ) : (\n          <ellipse key={`cacao-${i}`} cx={bx} cy={by} rx={1.5} ry={1}\n            fill=\"#4A2A10\" opacity={0.15} />\n        );\n      })}\n\n      {/* Torn fabric scraps (clothing remnants) */}\n      {[\n        { x: width * 0.18, y: height * 0.84, color: C.cottonWhite },\n        { x: width * 0.38, y: height * 0.88, color: C.spanishRed },\n        { x: width * 0.56, y: height * 0.82, color: C.featherGreen },\n        { x: width * 0.72, y: height * 0.86, color: C.fabricCream },\n        { x: width * 0.84, y: height * 0.9, color: C.jaguarSpot },\n      ].map((scrap, i) => (\n        <path key={`scrap-${i}`}\n          d={`M${scrap.x},${scrap.y}\n            Q${scrap.x + 4},${scrap.y - 3} ${scrap.x + 8},${scrap.y - 1}\n            Q${scrap.x + 6},${scrap.y + 2} ${scrap.x + 2},${scrap.y + 1} Z`}\n          fill={scrap.color} opacity={0.15} />\n      ))}\n\n      {/* Distant causeway with people fleeing (tiny figures) */}\n      <g opacity={0.3}>\n        {Array.from({ length: 8 }, (_, i) => {\n          const fx = width * 0.12 + i * 35;\n          const fy = height * 0.6 + i * 1.5;\n          return (\n            <g key={`flee-${i}`} transform={`translate(${fx}, ${fy})`}>\n              <line x1={0} y1={0} x2={0} y2={-5} stroke={C.cottonWhite} strokeWidth={1.2} strokeLinecap=\"round\" />\n              <circle cx={0} cy={-6} r={1.2} fill=\"#B8865A\" />\n            </g>\n          );\n        })}\n      </g>\n\n      {/* Canoes on the lake (fleeing/supply) */}\n      <g opacity={0.35}>\n        {[\n          { x: width * 0.15, y: height * 0.4 },\n          { x: width * 0.55, y: height * 0.38 },\n          { x: width * 0.8, y: height * 0.41 },\n        ].map((canoe, i) => (\n          <g key={`canoe-${i}`} transform={`translate(${canoe.x}, ${canoe.y + waterRipple * (i % 2 === 0 ? 1 : -1)})`}>\n            <path d=\"M-12,0 Q-14,-3 -10,-4 L10,-4 Q14,-3 12,0 Z\"\n              fill={C.woodWeapon} stroke={C.outline} strokeWidth={0.4} />\n            <line x1={-4} y1={-4} x2={-4} y2={-10} stroke=\"#B8865A\" strokeWidth={1} />\n            <circle cx={-4} cy={-11} r={1} fill=\"#B8865A\" />\n          </g>\n        ))}\n      </g>\n\n      {/* Battlefield birds (vultures circling) */}\n      {Array.from({ length: 6 }, (_, i) => {\n        const bx = width * 0.2 + (i * width * 0.12);\n        const baseBy = height * 0.15 + (i % 3) * 30;\n        const by = baseBy + sineWave(frame, 0.04, i * 2) * 8;\n        const wingAngle = sineWave(frame, 0.06, i * 1.5) * 8;\n        return (\n          <g key={`vulture-${i}`} transform={`translate(${bx}, ${by})`}>\n            <path d={`M0,0 Q-${6 + wingAngle},-${3 + wingAngle * 0.3} -${12 + wingAngle},${1 + wingAngle * 0.2}`}\n              fill=\"none\" stroke={C.cloudDark} strokeWidth={1.2} strokeLinecap=\"round\" />\n            <path d={`M0,0 Q${6 + wingAngle},-${3 + wingAngle * 0.3} ${12 + wingAngle},${1 + wingAngle * 0.2}`}\n              fill=\"none\" stroke={C.cloudDark} strokeWidth={1.2} strokeLinecap=\"round\" />\n            <circle cx={0} cy={0} r={1} fill={C.cloudDark} />\n          </g>\n        );\n      })}\n\n      {/* Smoke trails from individual fires on causeway */}\n      <g opacity={0.25}>\n        <path d={`M${width * 0.32},${height * 0.54}\n          Q${width * 0.3 + smokeDrift2 * 2},${height * 0.48} ${width * 0.28 + smokeDrift2 * 4},${height * 0.4}`}\n          fill=\"none\" stroke={C.smokeMid} strokeWidth={8} strokeLinecap=\"round\" />\n        <path d={`M${width * 0.18},${height * 0.6}\n          Q${width * 0.16 + smokeDrift3 * 1.5},${height * 0.54} ${width * 0.14 + smokeDrift3 * 3},${height * 0.46}`}\n          fill=\"none\" stroke={C.smokeLight} strokeWidth={6} strokeLinecap=\"round\" />\n      </g>\n\n      {/* Additional blood spatters (subtle, foreground) */}\n      {Array.from({ length: 8 }, (_, i) => {\n        const sx = 150 + (i * 223) % (width - 300);\n        const sy = height * 0.8 + (i * 37) % (height * 0.12);\n        return (\n          <g key={`splat-${i}`}>\n            <circle cx={sx} cy={sy} r={3 + (i % 3)} fill={C.groundBloodWet} opacity={0.12} />\n            <circle cx={sx + 4} cy={sy - 2} r={1.5} fill={C.groundBlood} opacity={0.1} />\n            <circle cx={sx - 3} cy={sy + 1} r={1} fill={C.groundBlood} opacity={0.08} />\n          </g>\n        );\n      })}\n\n      {/* ============================================================ */}\n      {/* LAYER 15: ATMOSPHERIC OVERLAYS */}\n      {/* ============================================================ */}\n\n      {/* Overall fire glow overlay */}\n      <rect x={0} y={0} width={width} height={height}\n        fill=\"url(#bs-fireglow)\" opacity={0.2} />\n\n      {/* Vignette darkening edges */}\n      <rect x={0} y={0} width={width} height={height}\n        fill=\"url(#bs-vignette)\" />\n\n      {/* Top smoke haze (looking through battlefield smoke) */}\n      <rect x={0} y={0} width={width} height={height * 0.15}\n        fill={C.smokeDark} opacity={0.15} />\n\n      {/* Side darkness (left and right vignette) */}\n      <linearGradient id=\"bs-left-dark\" x1=\"0%\" y1=\"0%\" x2=\"15%\" y2=\"0%\">\n        <stop offset=\"0%\" stopColor=\"rgba(10,5,0,0.25)\" />\n        <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n      </linearGradient>\n      <rect x={0} y={0} width={width * 0.2} height={height}\n        fill=\"url(#bs-left-dark)\" />\n      <linearGradient id=\"bs-right-dark\" x1=\"85%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n        <stop offset=\"0%\" stopColor=\"rgba(0,0,0,0)\" />\n        <stop offset=\"100%\" stopColor=\"rgba(10,5,0,0.25)\" />\n      </linearGradient>\n      <rect x={width * 0.8} y={0} width={width * 0.2} height={height}\n        fill=\"url(#bs-right-dark)\" />\n\n      {/* Bottom foreground darkness */}\n      <linearGradient id=\"bs-bottom-dark\" x1=\"0%\" y1=\"80%\" x2=\"0%\" y2=\"100%\">\n        <stop offset=\"0%\" stopColor=\"rgba(0,0,0,0)\" />\n        <stop offset=\"100%\" stopColor=\"rgba(10,5,0,0.3)\" />\n      </linearGradient>\n      <rect x={0} y={height * 0.8} width={width} height={height * 0.2}\n        fill=\"url(#bs-bottom-dark)\" />\n\n      {/* Warm atmospheric color grading */}\n      <rect x={0} y={0} width={width} height={height}\n        fill=\"rgba(180,80,20,0.04)\" />\n\n      {/* Oil painting canvas texture overlay */}\n      <rect x={0} y={0} width={width} height={height}\n        fill=\"url(#bs-canvas)\" opacity={0.5} />\n\n      {/* Dust particle overlay (floating in air) */}\n      <rect x={0} y={height * 0.4} width={width} height={height * 0.5}\n        fill=\"url(#bs-dust-particles)\" />\n\n      {/* Subtle film grain texture (oil painting feel) */}\n      <g opacity={0.03}>\n        {Array.from({ length: 30 }, (_, i) => (\n          <rect key={`grain-${i}`}\n            x={(i * 71) % width} y={(i * 43) % height}\n            width={2} height={2}\n            fill={i % 2 === 0 ? '#FFF' : '#000'} />\n        ))}\n      </g>\n    </svg>\n  );\n};\n\nexport default BattleScene;\n","// Tenochtitlan.tsx  The breathtaking Aztec capital city on Lake Texcoco\n// Oil-painting quality: snow-capped volcanoes, island city, causeways, lake reflections\n// Vermeer-level atmospheric depth with mist, god rays, golden hour lighting\n\nimport React from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { sineWave } from '../animations/easing';\nimport { AztecCrowdLayer, AZTEC_CROWD_CONFIGS } from '../crowds/AztecCrowd';\n\n// ---- Color palette: 100+ named colors ----\nconst C = {\n  // Sky\n  skyZenith: '#1A3A6A',\n  skyUpper: '#2A5A8A',\n  skyMid: '#4A8AB8',\n  skyLow: '#7AB8D8',\n  skyHorizon: '#C8D8E8',\n  skyWarm: '#E8D0B0',\n  // Clouds\n  cloudWhite: '#F0EEE8',\n  cloudLight: '#D8D4C8',\n  cloudMid: '#B8B0A0',\n  cloudShadow: '#8A8478',\n  cloudWarm: '#E8C8A0',\n  cloudPink: '#E0B8B0',\n  // Sun\n  sunCore: '#FFF8E0',\n  sunGlow: 'rgba(255,220,140,0.3)',\n  sunRay: 'rgba(255,200,100,0.08)',\n  sunRayBright: 'rgba(255,210,120,0.12)',\n  // Volcanoes\n  volcanoFar: '#4A3A5A',\n  volcanoMid: '#5A4A6A',\n  volcanoNear: '#6A5A78',\n  volcanoBase: '#7A6A88',\n  snowBright: '#F0ECE8',\n  snowMid: '#D8D0C8',\n  snowShadow: '#B0A8A0',\n  snowBlue: '#C0C8D8',\n  // Mountains\n  mountainFar: '#5A5068',\n  mountainMid: '#6A6078',\n  mountainNear: '#7A7088',\n  mountainFoot: '#8A8098',\n  // Lake\n  lakeDeep: '#1A3040',\n  lakeMid: '#2A4A5A',\n  lakeLight: '#3A6070',\n  lakeSurface: '#4A7888',\n  lakeShallow: '#5A8898',\n  lakeReflectSky: 'rgba(120,180,220,0.15)',\n  lakeReflectCity: 'rgba(180,140,80,0.12)',\n  lakeReflectMtn: 'rgba(80,60,90,0.1)',\n  lakeGlint: 'rgba(255,240,200,0.2)',\n  lakeRipple: 'rgba(255,255,255,0.06)',\n  // Chinampas\n  chinampaDark: '#2A4A1A',\n  chinampaMid: '#3A5A2A',\n  chinampaLight: '#4A6A3A',\n  chinampaEdge: '#5A4A2A',\n  chinampaWater: '#3A5A5A',\n  // Reeds\n  reedDark: '#3A4A1A',\n  reedLight: '#5A6A2A',\n  reedTip: '#7A8A4A',\n  // City - Templo Mayor\n  templeStone: '#C8B898',\n  templeShadow: '#8A7A60',\n  templeLight: '#E0D0B0',\n  templeRed: '#A04030',\n  templeBlue: '#304080',\n  templeStair: '#A08A68',\n  templeStairShadow: '#7A6A4A',\n  templeFireGlow: 'rgba(255,140,40,0.3)',\n  // City buildings\n  buildingWhite: '#E8E0D0',\n  buildingCream: '#D8C8A8',\n  buildingShadow: '#A08A68',\n  buildingDark: '#7A6A50',\n  buildingRoof: '#8A6A40',\n  buildingRoofDark: '#6A4A28',\n  // Palaces\n  palaceWhite: '#F0E8D8',\n  palaceCream: '#E0D0B0',\n  palaceGold: '#D4A020',\n  palaceGoldLight: '#F0C840',\n  palaceRed: '#B04030',\n  palaceBlue: '#2A4080',\n  // Causeways\n  causewayStone: '#B0A088',\n  causewayShadow: '#8A7A60',\n  causewayEdge: '#9A8A70',\n  causewayWall: '#A09078',\n  // Aqueduct\n  aqueductStone: '#B8A890',\n  aqueductShadow: '#8A7A60',\n  aqueductWater: '#5A8898',\n  aqueductArch: '#A09078',\n  // Canoes\n  canoeWood: '#7A5030',\n  canoeDark: '#5A3820',\n  canoeLight: '#9A7040',\n  // Market\n  marketAwning1: '#C83020',\n  marketAwning2: '#2050A0',\n  marketAwning3: '#D4A020',\n  marketAwning4: '#1A6A3A',\n  // Smoke/Fire\n  templeSmoke: 'rgba(120,100,80,0.3)',\n  templeFire: '#E08030',\n  fireGlow: 'rgba(255,140,40,0.15)',\n  incenseSmoke: 'rgba(160,150,140,0.2)',\n  // Atmosphere\n  fogNear: 'rgba(180,200,220,0.15)',\n  fogMid: 'rgba(160,180,200,0.1)',\n  fogFar: 'rgba(140,160,180,0.08)',\n  mistLake: 'rgba(200,220,240,0.12)',\n  godRay: 'rgba(255,220,140,0.06)',\n  godRayBright: 'rgba(255,230,160,0.1)',\n  haze: 'rgba(180,180,200,0.06)',\n  vignette: 'rgba(20,15,30,0.3)',\n  // Birds\n  birdDark: '#2A2A3A',\n  // Board\n  boardStone: '#8A7A60',\n  boardSurface: '#C8B898',\n  boardFrame: '#6A5A40',\n  boardText: '#2A1A0A',\n  // Greenery\n  treeDark: '#2A4A1A',\n  treeMid: '#3A5A2A',\n  treeLight: '#4A7A3A',\n  treeHighlight: '#5A8A4A',\n  cypressDark: '#1A3A1A',\n  cypressMid: '#2A4A2A',\n  // Water plants\n  lilyPad: '#3A6A2A',\n  lilyFlower: '#E0B0C0',\n  // Outline\n  outline: '#1A1A1A',\n};\n\ninterface TenochtitlanProps {\n  boardText?: string;\n  width?: number;\n  height?: number;\n}\n\n// ---- Sub-component: Snow-capped volcano ----\nconst Volcano: React.FC<{\n  x: number; baseY: number; peakY: number; width: number;\n  snowLine: number; fill: string; snowIntensity: number;\n}> = ({ x, baseY, peakY, width: w, snowLine, fill, snowIntensity }) => (\n  <g>\n    {/* Main volcanic cone */}\n    <path d={`M${x - w / 2},${baseY}\n      Q${x - w * 0.15},${peakY + (baseY - peakY) * 0.3} ${x - w * 0.05},${peakY + 5}\n      Q${x},${peakY} ${x + w * 0.05},${peakY + 5}\n      Q${x + w * 0.15},${peakY + (baseY - peakY) * 0.3} ${x + w / 2},${baseY} Z`}\n      fill={fill} />\n    {/* Ridge detail lines */}\n    <path d={`M${x - w * 0.1},${peakY + 15}\n      Q${x - w * 0.08},${peakY + (baseY - peakY) * 0.4} ${x - w * 0.2},${baseY}`}\n      fill=\"none\" stroke=\"rgba(0,0,0,0.06)\" strokeWidth={1.5} />\n    <path d={`M${x + w * 0.08},${peakY + 20}\n      Q${x + w * 0.12},${peakY + (baseY - peakY) * 0.5} ${x + w * 0.25},${baseY}`}\n      fill=\"none\" stroke=\"rgba(0,0,0,0.05)\" strokeWidth={1} />\n    {/* Snow cap */}\n    <path d={`M${x - w * 0.12},${snowLine}\n      Q${x - w * 0.08},${peakY + 8} ${x - w * 0.04},${peakY + 4}\n      Q${x},${peakY} ${x + w * 0.04},${peakY + 4}\n      Q${x + w * 0.08},${peakY + 8} ${x + w * 0.12},${snowLine}\n      Q${x + w * 0.06},${snowLine + 5} ${x},${snowLine + 8}\n      Q${x - w * 0.06},${snowLine + 5} ${x - w * 0.12},${snowLine} Z`}\n      fill={C.snowBright} opacity={snowIntensity} />\n    {/* Snow shadow on one side */}\n    <path d={`M${x},${peakY + 2}\n      Q${x + w * 0.04},${peakY + 6} ${x + w * 0.1},${snowLine}\n      Q${x + w * 0.05},${snowLine + 3} ${x},${snowLine + 6}\n      Q${x - w * 0.02},${snowLine + 2} ${x},${peakY + 2} Z`}\n      fill={C.snowShadow} opacity={snowIntensity * 0.4} />\n    {/* Blue ice highlights */}\n    <path d={`M${x - w * 0.03},${peakY + 10}\n      Q${x - w * 0.06},${peakY + 15} ${x - w * 0.08},${snowLine - 5}`}\n      fill=\"none\" stroke={C.snowBlue} strokeWidth={2} opacity={snowIntensity * 0.3} />\n  </g>\n);\n\n// ---- Sub-component: Stepped pyramid ----\nconst SteppedPyramid: React.FC<{\n  x: number; y: number; w: number; h: number;\n  steps: number; hasTemple: boolean; hasFire: boolean;\n  fireFlicker: number; smokeOffset: number;\n}> = ({ x, y, w, h, steps, hasTemple, hasFire, fireFlicker, smokeOffset }) => {\n  const stepH = h / steps;\n  const stepInset = w / (steps * 2 + 2);\n  return (\n    <g transform={`translate(${x}, ${y})`}>\n      {/* Pyramid steps from bottom to top */}\n      {Array.from({ length: steps }, (_, i) => {\n        const sw = w - i * stepInset * 2;\n        const sx = -sw / 2;\n        const sy = -i * stepH;\n        return (\n          <g key={`step-${i}`}>\n            {/* Step body */}\n            <rect x={sx} y={sy - stepH} width={sw} height={stepH}\n              fill={i % 2 === 0 ? C.templeStone : C.templeLight}\n              stroke={C.templeShadow} strokeWidth={0.5} />\n            {/* Step shadow (front face) */}\n            <rect x={sx} y={sy - 3} width={sw} height={3}\n              fill={C.templeStairShadow} opacity={0.3} />\n            {/* Step texture lines */}\n            {Array.from({ length: Math.floor(sw / 15) }, (_, j) => (\n              <line key={`sl-${j}`}\n                x1={sx + 5 + j * 15} y1={sy - stepH + 2}\n                x2={sx + 5 + j * 15} y2={sy - 2}\n                stroke={C.templeShadow} strokeWidth={0.3} opacity={0.15} />\n            ))}\n          </g>\n        );\n      })}\n      {/* Central staircase */}\n      <rect x={-w * 0.08} y={-h} width={w * 0.16} height={h}\n        fill={C.templeStair} stroke={C.templeStairShadow} strokeWidth={0.5} />\n      {/* Stair lines */}\n      {Array.from({ length: steps * 3 }, (_, i) => (\n        <line key={`stair-${i}`}\n          x1={-w * 0.08} y1={-h + i * (h / (steps * 3))}\n          x2={w * 0.08} y2={-h + i * (h / (steps * 3))}\n          stroke={C.templeStairShadow} strokeWidth={0.3} opacity={0.3} />\n      ))}\n      {/* Twin temples at top */}\n      {hasTemple && (\n        <g transform={`translate(0, ${-h})`}>\n          {/* Left temple (Tlaloc - blue) */}\n          <rect x={-w * 0.2} y={-stepH * 1.5} width={w * 0.18} height={stepH * 1.5}\n            fill={C.templeBlue} stroke={C.outline} strokeWidth={0.5} />\n          <path d={`M${-w * 0.22},${-stepH * 1.5} L${-w * 0.11},${-stepH * 2.2} L${-w * 0.01},${-stepH * 1.5} Z`}\n            fill={C.templeBlue} stroke={C.outline} strokeWidth={0.5} />\n          {/* Right temple (Huitzilopochtli - red) */}\n          <rect x={w * 0.02} y={-stepH * 1.5} width={w * 0.18} height={stepH * 1.5}\n            fill={C.templeRed} stroke={C.outline} strokeWidth={0.5} />\n          <path d={`M${w * 0.01},${-stepH * 1.5} L${w * 0.11},${-stepH * 2.2} L${w * 0.21},${-stepH * 1.5} Z`}\n            fill={C.templeRed} stroke={C.outline} strokeWidth={0.5} />\n          {/* Door openings */}\n          <rect x={-w * 0.15} y={-stepH * 0.8} width={w * 0.08} height={stepH * 0.8}\n            fill={C.outline} opacity={0.6} />\n          <rect x={w * 0.07} y={-stepH * 0.8} width={w * 0.08} height={stepH * 0.8}\n            fill={C.outline} opacity={0.6} />\n        </g>\n      )}\n      {/* Sacred fire at top */}\n      {hasFire && (\n        <g transform={`translate(0, ${-h - stepH * 1.2})`}>\n          <ellipse cx={0} cy={6} rx={8 + fireFlicker * 4} ry={4 + fireFlicker * 2}\n            fill={C.fireGlow} opacity={0.4 + fireFlicker * 0.2} />\n          <path d={`M-4,2 Q-5,${-6 - fireFlicker * 8} 0,${-12 - fireFlicker * 12}\n            Q5,${-6 - fireFlicker * 8} 4,2`}\n            fill={C.templeFire} opacity={0.7} />\n          <path d={`M-2,2 Q-3,${-4 - fireFlicker * 5} 0,${-8 - fireFlicker * 8}\n            Q3,${-4 - fireFlicker * 5} 2,2`}\n            fill=\"#FFCC60\" opacity={0.5} />\n          {/* Smoke from fire */}\n          <path d={`M0,${-12 - fireFlicker * 12}\n            Q${smokeOffset * 3},${-25 - fireFlicker * 10} ${smokeOffset * 6},${-40}\n            Q${smokeOffset * 8},${-55} ${smokeOffset * 10},${-70}`}\n            fill=\"none\" stroke={C.templeSmoke} strokeWidth={6} strokeLinecap=\"round\" opacity={0.4} />\n        </g>\n      )}\n    </g>\n  );\n};\n\n// ---- Sub-component: City building cluster ----\nconst BuildingCluster: React.FC<{\n  x: number; y: number; count: number; maxH: number; spread: number;\n}> = ({ x, y, count, maxH, spread }) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {Array.from({ length: count }, (_, i) => {\n      const bw = 8 + (i * 7) % 12;\n      const bh = maxH * 0.4 + (i * 13) % (maxH * 0.6);\n      const bx = -spread / 2 + (i * spread) / count;\n      const isWhite = i % 3 !== 0;\n      return (\n        <g key={`bld-${i}`}>\n          <rect x={bx} y={-bh} width={bw} height={bh}\n            fill={isWhite ? C.buildingWhite : C.buildingCream}\n            stroke={C.buildingShadow} strokeWidth={0.3} />\n          {/* Flat roof */}\n          <rect x={bx - 1} y={-bh - 2} width={bw + 2} height={3}\n            fill={C.buildingRoof} opacity={0.5} />\n          {/* Door */}\n          <rect x={bx + bw * 0.3} y={-bh * 0.3} width={bw * 0.3} height={bh * 0.3}\n            fill={C.buildingDark} opacity={0.4} />\n          {/* Shadow side */}\n          <rect x={bx + bw * 0.7} y={-bh} width={bw * 0.3} height={bh}\n            fill={C.buildingShadow} opacity={0.15} />\n        </g>\n      );\n    })}\n  </g>\n);\n\n// ---- Sub-component: Canoe on water ----\nconst Canoe: React.FC<{\n  x: number; y: number; scale: number; hasPaddler: boolean;\n  bob: number; loaded?: boolean;\n}> = ({ x, y, scale, hasPaddler, bob, loaded = false }) => (\n  <g transform={`translate(${x}, ${y + bob}) scale(${scale})`}>\n    {/* Water shadow/reflection */}\n    <ellipse cx={0} cy={4} rx={16} ry={2.5} fill=\"rgba(0,0,0,0.08)\" />\n    {/* Canoe hull */}\n    <path d=\"M-18,0 Q-20,-4 -16,-5 L16,-5 Q20,-4 18,0 Q14,3 0,3 Q-14,3 -18,0 Z\"\n      fill={C.canoeWood} stroke={C.canoeDark} strokeWidth={0.6} />\n    {/* Hull texture */}\n    <line x1={-14} y1={-3} x2={14} y2={-3} stroke={C.canoeLight} strokeWidth={0.4} opacity={0.3} />\n    <line x1={-12} y1={-1} x2={12} y2={-1} stroke={C.canoeDark} strokeWidth={0.3} opacity={0.2} />\n    {/* Goods in canoe */}\n    {loaded && (\n      <g>\n        <rect x={-8} y={-7} width={6} height={4} rx={1} fill={C.buildingCream} opacity={0.6} />\n        <circle cx={2} cy={-7} r={2.5} fill=\"#3A5A2A\" opacity={0.5} />\n        <rect x={5} y={-8} width={5} height={5} rx={0.5} fill=\"#A07040\" opacity={0.5} />\n      </g>\n    )}\n    {/* Paddler */}\n    {hasPaddler && (\n      <g transform=\"translate(-2, -5)\">\n        <line x1={0} y1={0} x2={0} y2={-8} stroke=\"#B8865A\" strokeWidth={2} strokeLinecap=\"round\" />\n        <circle cx={0} cy={-10} r={2.5} fill=\"#B8865A\" stroke={C.outline} strokeWidth={0.4} />\n        <line x1={-2} y1={-11} x2={2} y2={-11} stroke=\"#E8E0D0\" strokeWidth={1} />\n        {/* Paddle */}\n        <line x1={3} y1={-6} x2={8} y2={2} stroke={C.canoeWood} strokeWidth={1.2} />\n        <path d=\"M7,0 L9,4 L7,4 Z\" fill={C.canoeDark} />\n      </g>\n    )}\n  </g>\n);\n\n// ---- Sub-component: Ahuejote (willow) tree ----\nconst WillowTree: React.FC<{\n  x: number; y: number; scale: number; sway: number;\n}> = ({ x, y, scale, sway }) => (\n  <g transform={`translate(${x}, ${y}) scale(${scale})`}>\n    {/* Trunk */}\n    <path d=\"M-3,0 Q-2,-15 -1,-30 Q0,-35 1,-30 Q2,-15 3,0 Z\"\n      fill=\"#5A3A20\" stroke={C.outline} strokeWidth={0.4} />\n    {/* Main branches */}\n    <line x1={-1} y1={-25} x2={-10 + sway} y2={-20} stroke=\"#5A3A20\" strokeWidth={1.5} />\n    <line x1={1} y1={-28} x2={12 + sway} y2={-22} stroke=\"#5A3A20\" strokeWidth={1.5} />\n    <line x1={0} y1={-30} x2={-5 + sway * 0.5} y2={-38} stroke=\"#5A3A20\" strokeWidth={1} />\n    {/* Drooping willow fronds */}\n    {[-12, -8, -4, 0, 4, 8, 12].map((dx, i) => (\n      <path key={`frond-${i}`}\n        d={`M${dx + sway * 0.3},${-28 - Math.abs(dx) * 0.3}\n          Q${dx * 0.8 + sway * 0.8},${-15} ${dx * 0.6 + sway},${-2 + Math.abs(dx) * 0.2}`}\n        fill=\"none\"\n        stroke={i % 2 === 0 ? C.treeMid : C.treeLight}\n        strokeWidth={2} strokeLinecap=\"round\" opacity={0.7} />\n    ))}\n    {/* Leaf clusters */}\n    <ellipse cx={sway * 0.5} cy={-30} rx={14} ry={8}\n      fill={C.treeMid} opacity={0.4} />\n    <ellipse cx={sway * 0.3 - 2} cy={-28} rx={10} ry={6}\n      fill={C.treeLight} opacity={0.3} />\n  </g>\n);\n\n// ---- Sub-component: Reed cluster ----\nconst ReedCluster: React.FC<{\n  x: number; y: number; count: number; maxH: number; sway: number;\n}> = ({ x, y, count, maxH, sway }) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {Array.from({ length: count }, (_, i) => {\n      const rh = maxH * 0.6 + (i * 7) % (maxH * 0.4);\n      const rx = -count * 1.5 + i * 3;\n      const rSway = sway * (0.5 + (i % 3) * 0.25);\n      return (\n        <g key={`reed-${i}`}>\n          <path d={`M${rx},0 Q${rx + rSway * 0.5},${-rh * 0.5} ${rx + rSway},${-rh}`}\n            fill=\"none\" stroke={i % 2 === 0 ? C.reedDark : C.reedLight}\n            strokeWidth={1.5} strokeLinecap=\"round\" />\n          {/* Reed tip/seed head */}\n          <ellipse cx={rx + rSway} cy={-rh - 3} rx={1} ry={3}\n            fill={C.reedTip} opacity={0.6} />\n        </g>\n      );\n    })}\n  </g>\n);\n\n// ---- Main Component ----\nexport const Tenochtitlan: React.FC<TenochtitlanProps> = ({\n  boardText = '',\n  width = 1920,\n  height = 1080,\n}) => {\n  const frame = useCurrentFrame();\n\n  // Animations\n  const cloudDrift1 = sineWave(frame, 0.015) * 20;\n  const cloudDrift2 = sineWave(frame, 0.02, 1) * 15;\n  const cloudDrift3 = sineWave(frame, 0.012, 2.5) * 25;\n  const waterRipple1 = sineWave(frame, 0.08) * 2;\n  const waterRipple2 = sineWave(frame, 0.1, 1) * 1.5;\n  const waterRipple3 = sineWave(frame, 0.06, 2) * 2.5;\n  const waterGlint = sineWave(frame, 0.12) * 0.5 + 0.5;\n  const fireFlicker1 = sineWave(frame, 0.15) * 0.5 + 0.5;\n  const fireFlicker2 = sineWave(frame, 0.18, 1.2) * 0.5 + 0.5;\n  const smokeDrift1 = sineWave(frame, 0.03, 0.5) * 6;\n  const smokeDrift2 = sineWave(frame, 0.035, 1.5) * 8;\n  const treeSway = sineWave(frame, 0.04) * 3;\n  const reedSway = sineWave(frame, 0.06, 1) * 2;\n  const birdFloat1 = sineWave(frame, 0.05) * 6;\n  const birdFloat2 = sineWave(frame, 0.04, 2) * 5;\n  const wingBeat = sineWave(frame, 0.08) * 6;\n  const canoeBob1 = sineWave(frame, 0.07) * 1.5;\n  const canoeBob2 = sineWave(frame, 0.08, 1) * 1.2;\n  const canoeBob3 = sineWave(frame, 0.06, 2) * 1.8;\n  const godRayPulse = sineWave(frame, 0.025) * 0.03 + 0.06;\n  const mistFloat = sineWave(frame, 0.02) * 12;\n  const flagSway = sineWave(frame, 0.1) * 3;\n  const lilyBob = sineWave(frame, 0.05, 0.5) * 1;\n\n  return (\n    <svg viewBox={`0 0 ${width} ${height}`} width={width} height={height}>\n      <defs>\n        {/* Sky gradient - golden hour from behind */}\n        <linearGradient id=\"tn-sky\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.skyZenith} />\n          <stop offset=\"25%\" stopColor={C.skyUpper} />\n          <stop offset=\"50%\" stopColor={C.skyMid} />\n          <stop offset=\"75%\" stopColor={C.skyLow} />\n          <stop offset=\"90%\" stopColor={C.skyHorizon} />\n          <stop offset=\"100%\" stopColor={C.skyWarm} />\n        </linearGradient>\n\n        {/* Lake gradient */}\n        <linearGradient id=\"tn-lake\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.lakeSurface} />\n          <stop offset=\"30%\" stopColor={C.lakeMid} />\n          <stop offset=\"70%\" stopColor={C.lakeDeep} />\n          <stop offset=\"100%\" stopColor={C.lakeDeep} />\n        </linearGradient>\n\n        {/* Sun glow */}\n        <radialGradient id=\"tn-sunglow\" cx=\"50%\" cy=\"18%\" r=\"40%\">\n          <stop offset=\"0%\" stopColor={C.sunGlow} />\n          <stop offset=\"50%\" stopColor=\"rgba(255,220,140,0.1)\" />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </radialGradient>\n\n        {/* Vignette */}\n        <radialGradient id=\"tn-vignette\" cx=\"50%\" cy=\"45%\" r=\"70%\">\n          <stop offset=\"0%\" stopColor=\"rgba(0,0,0,0)\" />\n          <stop offset=\"75%\" stopColor=\"rgba(0,0,0,0)\" />\n          <stop offset=\"100%\" stopColor={C.vignette} />\n        </radialGradient>\n\n        {/* God ray gradient */}\n        <linearGradient id=\"tn-godray\" x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.godRayBright} />\n          <stop offset=\"50%\" stopColor={C.godRay} />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </linearGradient>\n\n        {/* Water reflection pattern */}\n        <pattern id=\"tn-water-ripple\" x=\"0\" y=\"0\" width=\"80\" height=\"12\" patternUnits=\"userSpaceOnUse\">\n          <path d=\"M0,6 Q20,3 40,6 Q60,9 80,6\" fill=\"none\" stroke={C.lakeRipple} strokeWidth={0.5} />\n        </pattern>\n\n        {/* Stone pattern for causeways */}\n        <pattern id=\"tn-causeway-stone\" x=\"0\" y=\"0\" width=\"16\" height=\"8\" patternUnits=\"userSpaceOnUse\">\n          <rect width=\"16\" height=\"8\" fill={C.causewayStone} />\n          <line x1=\"0\" y1=\"4\" x2=\"16\" y2=\"4\" stroke={C.causewayShadow} strokeWidth={0.3} opacity={0.3} />\n          <line x1=\"8\" y1=\"0\" x2=\"8\" y2=\"4\" stroke={C.causewayShadow} strokeWidth={0.3} opacity={0.3} />\n          <line x1=\"0\" y1=\"4\" x2=\"0\" y2=\"8\" stroke={C.causewayShadow} strokeWidth={0.3} opacity={0.2} />\n        </pattern>\n\n        {/* Canvas texture */}\n        <pattern id=\"tn-canvas\" x=\"0\" y=\"0\" width=\"4\" height=\"4\" patternUnits=\"userSpaceOnUse\">\n          <rect width=\"4\" height=\"4\" fill=\"rgba(0,0,0,0)\" />\n          <line x1=\"0\" y1=\"0\" x2=\"4\" y2=\"0\" stroke=\"rgba(0,0,0,0.008)\" strokeWidth={0.3} />\n          <line x1=\"0\" y1=\"2\" x2=\"4\" y2=\"2\" stroke=\"rgba(0,0,0,0.006)\" strokeWidth={0.3} />\n          <line x1=\"0\" y1=\"0\" x2=\"0\" y2=\"4\" stroke=\"rgba(0,0,0,0.008)\" strokeWidth={0.3} />\n          <line x1=\"2\" y1=\"0\" x2=\"2\" y2=\"4\" stroke=\"rgba(0,0,0,0.006)\" strokeWidth={0.3} />\n        </pattern>\n\n        {/* Mountain haze gradient */}\n        <linearGradient id=\"tn-mtn-haze\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor=\"rgba(0,0,0,0)\" />\n          <stop offset=\"100%\" stopColor={C.fogFar} />\n        </linearGradient>\n      </defs>\n\n      {/* ============================================================ */}\n      {/* LAYER 1: SKY */}\n      {/* ============================================================ */}\n\n      <rect x={0} y={0} width={width} height={height * 0.5} fill=\"url(#tn-sky)\" />\n\n      {/* Sun glow behind mountains */}\n      <rect x={0} y={0} width={width} height={height * 0.55} fill=\"url(#tn-sunglow)\" />\n\n      {/* Sun disc (low, between volcanoes) */}\n      <circle cx={width * 0.5} cy={height * 0.15} r={30}\n        fill={C.sunCore} opacity={0.5} />\n      <circle cx={width * 0.5} cy={height * 0.15} r={60}\n        fill={C.sunGlow} opacity={0.25} />\n      <circle cx={width * 0.5} cy={height * 0.15} r={100}\n        fill=\"rgba(255,220,140,0.08)\" />\n\n      {/* === CLOUD LAYERS === */}\n\n      {/* High cirrus clouds */}\n      <g opacity={0.35}>\n        <ellipse cx={300 + cloudDrift1} cy={50} rx={250} ry={15}\n          fill={C.cloudLight} />\n        <ellipse cx={800 + cloudDrift2 * 0.5} cy={40} rx={300} ry={12}\n          fill={C.cloudWhite} />\n        <ellipse cx={1400 + cloudDrift3 * 0.3} cy={55} rx={220} ry={14}\n          fill={C.cloudLight} />\n      </g>\n\n      {/* Mid-level clouds */}\n      <g opacity={0.5}>\n        <ellipse cx={150 + cloudDrift2} cy={100} rx={200} ry={35}\n          fill={C.cloudMid} />\n        <ellipse cx={170 + cloudDrift2} cy={95} rx={150} ry={25}\n          fill={C.cloudLight} opacity={0.6} />\n        <ellipse cx={180 + cloudDrift2} cy={90} rx={80} ry={15}\n          fill={C.cloudWhite} opacity={0.4} />\n\n        <ellipse cx={650 + cloudDrift1 * 0.7} cy={80} rx={240} ry={40}\n          fill={C.cloudMid} />\n        <ellipse cx={670 + cloudDrift1 * 0.7} cy={75} rx={180} ry={28}\n          fill={C.cloudLight} opacity={0.5} />\n        <ellipse cx={690 + cloudDrift1 * 0.7} cy={72} rx={100} ry={16}\n          fill={C.cloudWhite} opacity={0.4} />\n\n        <ellipse cx={1200 + cloudDrift3 * 0.6} cy={95} rx={260} ry={38}\n          fill={C.cloudMid} />\n        <ellipse cx={1220 + cloudDrift3 * 0.6} cy={90} rx={190} ry={26}\n          fill={C.cloudLight} opacity={0.5} />\n\n        <ellipse cx={1650 + cloudDrift1 * 0.4} cy={85} rx={180} ry={30}\n          fill={C.cloudMid} />\n        <ellipse cx={1660 + cloudDrift1 * 0.4} cy={80} rx={120} ry={20}\n          fill={C.cloudWhite} opacity={0.4} />\n      </g>\n\n      {/* Low clouds (warm undertones from sun) */}\n      <g opacity={0.4}>\n        <ellipse cx={400 + cloudDrift3} cy={160} rx={300} ry={28}\n          fill={C.cloudShadow} />\n        <ellipse cx={420 + cloudDrift3} cy={155} rx={200} ry={18}\n          fill={C.cloudWarm} opacity={0.5} />\n\n        <ellipse cx={1000 + cloudDrift2 * 0.8} cy={150} rx={280} ry={25}\n          fill={C.cloudShadow} />\n        <ellipse cx={1020 + cloudDrift2 * 0.8} cy={145} rx={180} ry={16}\n          fill={C.cloudPink} opacity={0.4} />\n\n        <ellipse cx={1600 + cloudDrift1 * 0.6} cy={165} rx={250} ry={22}\n          fill={C.cloudShadow} />\n      </g>\n\n      {/* God rays from sun */}\n      <g opacity={godRayPulse}>\n        <polygon points={`${width * 0.48},${height * 0.05} ${width * 0.42},${height * 0.5} ${width * 0.46},${height * 0.5}`}\n          fill=\"url(#tn-godray)\" />\n        <polygon points={`${width * 0.52},${height * 0.05} ${width * 0.56},${height * 0.55} ${width * 0.6},${height * 0.55}`}\n          fill=\"url(#tn-godray)\" />\n        <polygon points={`${width * 0.44},${height * 0.08} ${width * 0.36},${height * 0.48} ${width * 0.4},${height * 0.48}`}\n          fill=\"url(#tn-godray)\" />\n        <polygon points={`${width * 0.56},${height * 0.08} ${width * 0.64},${height * 0.5} ${width * 0.68},${height * 0.5}`}\n          fill=\"url(#tn-godray)\" />\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 2: VOLCANOES AND MOUNTAINS */}\n      {/* ============================================================ */}\n\n      {/* Distant mountain range (far background) */}\n      <path d={`M0,${height * 0.32}\n        Q${width * 0.05},${height * 0.28} ${width * 0.1},${height * 0.3}\n        Q${width * 0.15},${height * 0.25} ${width * 0.22},${height * 0.29}\n        L${width * 0.22},${height * 0.38} L0,${height * 0.38} Z`}\n        fill={C.mountainFar} />\n      <path d={`M${width * 0.78},${height * 0.32}\n        Q${width * 0.84},${height * 0.26} ${width * 0.9},${height * 0.29}\n        Q${width * 0.95},${height * 0.25} ${width},${height * 0.3}\n        L${width},${height * 0.38} L${width * 0.78},${height * 0.38} Z`}\n        fill={C.mountainFar} />\n\n      {/* Popocatpetl (left, iconic symmetric cone) */}\n      <Volcano\n        x={width * 0.32} baseY={height * 0.38} peakY={height * 0.06}\n        width={width * 0.28} snowLine={height * 0.14}\n        fill={C.volcanoMid} snowIntensity={0.7}\n      />\n\n      {/* Iztacchuatl (right, \"sleeping woman\" multi-peak) */}\n      <g>\n        <path d={`M${width * 0.56},${height * 0.38}\n          Q${width * 0.6},${height * 0.22} ${width * 0.63},${height * 0.14}\n          Q${width * 0.65},${height * 0.16} ${width * 0.67},${height * 0.12}\n          Q${width * 0.69},${height * 0.15} ${width * 0.71},${height * 0.13}\n          Q${width * 0.73},${height * 0.17} ${width * 0.76},${height * 0.2}\n          Q${width * 0.8},${height * 0.26} ${width * 0.84},${height * 0.38}`}\n          fill={C.volcanoNear} />\n        {/* Multiple snow patches (sleeping woman's body) */}\n        <path d={`M${width * 0.62},${height * 0.17}\n          Q${width * 0.63},${height * 0.145} ${width * 0.635},${height * 0.15}\n          Q${width * 0.64},${height * 0.17} ${width * 0.625},${height * 0.19}`}\n          fill={C.snowBright} opacity={0.5} />\n        <path d={`M${width * 0.665},${height * 0.14}\n          Q${width * 0.67},${height * 0.125} ${width * 0.675},${height * 0.13}\n          Q${width * 0.68},${height * 0.15} ${width * 0.67},${height * 0.16}`}\n          fill={C.snowBright} opacity={0.55} />\n        <path d={`M${width * 0.7},${height * 0.15}\n          Q${width * 0.71},${height * 0.135} ${width * 0.715},${height * 0.14}\n          Q${width * 0.72},${height * 0.16} ${width * 0.705},${height * 0.17}`}\n          fill={C.snowMid} opacity={0.45} />\n      </g>\n\n      {/* Near foothills */}\n      <path d={`M0,${height * 0.38}\n        Q${width * 0.15},${height * 0.34} ${width * 0.25},${height * 0.36}\n        Q${width * 0.4},${height * 0.32} ${width * 0.5},${height * 0.35}\n        Q${width * 0.6},${height * 0.33} ${width * 0.75},${height * 0.36}\n        Q${width * 0.88},${height * 0.34} ${width},${height * 0.37}\n        L${width},${height * 0.42} L0,${height * 0.42} Z`}\n        fill={C.mountainFoot} opacity={0.5} />\n\n      {/* Mountain atmospheric haze */}\n      <rect x={0} y={height * 0.25} width={width} height={height * 0.18}\n        fill=\"url(#tn-mtn-haze)\" />\n\n      {/* ============================================================ */}\n      {/* LAYER 3: LAKE TEXCOCO */}\n      {/* ============================================================ */}\n\n      {/* Main lake body */}\n      <rect x={0} y={height * 0.36} width={width} height={height * 0.64}\n        fill=\"url(#tn-lake)\" />\n\n      {/* Water ripple pattern */}\n      <rect x={0} y={height * 0.38} width={width} height={height * 0.6}\n        fill=\"url(#tn-water-ripple)\" opacity={0.5} />\n\n      {/* Sky reflection on water */}\n      <rect x={0} y={height * 0.36} width={width} height={height * 0.15}\n        fill={C.lakeReflectSky} />\n\n      {/* Mountain reflection (blurred, inverted) */}\n      <g opacity={0.12}>\n        <path d={`M${width * 0.2},${height * 0.42}\n          Q${width * 0.32},${height * 0.52} ${width * 0.44},${height * 0.42}\n          L${width * 0.44},${height * 0.48} L${width * 0.2},${height * 0.48} Z`}\n          fill={C.lakeReflectMtn} />\n        <path d={`M${width * 0.56},${height * 0.42}\n          Q${width * 0.7},${height * 0.55} ${width * 0.84},${height * 0.42}\n          L${width * 0.84},${height * 0.5} L${width * 0.56},${height * 0.5} Z`}\n          fill={C.lakeReflectMtn} />\n      </g>\n\n      {/* Water glint highlights (sunlight on water) */}\n      {Array.from({ length: 20 }, (_, i) => {\n        const gx = 80 + (i * 97) % (width - 160);\n        const gy = height * 0.4 + (i * 31) % (height * 0.25);\n        return (\n          <line key={`glint-${i}`}\n            x1={gx - 3} y1={gy + waterRipple1 * (i % 2 === 0 ? 1 : -1)}\n            x2={gx + 3} y2={gy + waterRipple1 * (i % 2 === 0 ? 1 : -1)}\n            stroke={C.lakeGlint} strokeWidth={0.8}\n            opacity={(waterGlint * 0.3 + 0.1) * (i % 3 === 0 ? 1.2 : 0.8)} />\n        );\n      })}\n\n      {/* Horizontal ripple lines */}\n      {Array.from({ length: 15 }, (_, i) => {\n        const ry = height * 0.42 + i * (height * 0.04);\n        const rOffset = [waterRipple1, waterRipple2, waterRipple3][i % 3];\n        return (\n          <path key={`ripple-${i}`}\n            d={`M${60 + i * 20},${ry + rOffset}\n              Q${width * 0.25 + i * 10},${ry + rOffset - 1} ${width * 0.5},${ry + rOffset}\n              Q${width * 0.75 - i * 10},${ry + rOffset + 1} ${width - 60 - i * 20},${ry + rOffset}`}\n            fill=\"none\" stroke={C.lakeRipple} strokeWidth={0.6} opacity={0.3 - i * 0.015} />\n        );\n      })}\n\n      {/* ============================================================ */}\n      {/* LAYER 4: MAINLAND SHORE (distant) */}\n      {/* ============================================================ */}\n\n      {/* Distant shoreline */}\n      <path d={`M0,${height * 0.38}\n        Q${width * 0.1},${height * 0.39} ${width * 0.18},${height * 0.38}\n        L${width * 0.18},${height * 0.42} L0,${height * 0.42} Z`}\n        fill={C.chinampaEdge} opacity={0.4} />\n      <path d={`M${width * 0.82},${height * 0.38}\n        Q${width * 0.9},${height * 0.39} ${width},${height * 0.38}\n        L${width},${height * 0.42} L${width * 0.82},${height * 0.42} Z`}\n        fill={C.chinampaEdge} opacity={0.4} />\n\n      {/* Distant shore vegetation */}\n      {Array.from({ length: 12 }, (_, i) => {\n        const tx = 20 + i * 15;\n        return (\n          <line key={`dtree-l-${i}`}\n            x1={tx} y1={height * 0.39} x2={tx + treeSway * 0.3} y2={height * 0.35}\n            stroke={C.treeDark} strokeWidth={2} strokeLinecap=\"round\" opacity={0.3} />\n        );\n      })}\n      {Array.from({ length: 12 }, (_, i) => {\n        const tx = width * 0.84 + i * 14;\n        return (\n          <line key={`dtree-r-${i}`}\n            x1={tx} y1={height * 0.39} x2={tx + treeSway * 0.3} y2={height * 0.35}\n            stroke={C.treeDark} strokeWidth={2} strokeLinecap=\"round\" opacity={0.3} />\n        );\n      })}\n\n      {/* ============================================================ */}\n      {/* LAYER 5: CAUSEWAYS (3 main ones) */}\n      {/* ============================================================ */}\n\n      {/* Northern causeway (left, going to viewer) */}\n      <path d={`M${width * 0.25},${height * 0.42}\n        L${width * 0.15},${height * 0.52}\n        L${width * 0.08},${height * 0.6}\n        L0,${height * 0.72}\n        L0,${height * 0.74}\n        L${width * 0.1},${height * 0.62}\n        L${width * 0.17},${height * 0.54}\n        L${width * 0.27},${height * 0.42} Z`}\n        fill=\"url(#tn-causeway-stone)\" stroke={C.causewayEdge} strokeWidth={0.8} />\n      {/* Causeway wall edge */}\n      <path d={`M${width * 0.25},${height * 0.42}\n        L${width * 0.15},${height * 0.52}\n        L${width * 0.08},${height * 0.6} L0,${height * 0.72}`}\n        fill=\"none\" stroke={C.causewayShadow} strokeWidth={1.5} />\n\n      {/* Southern causeway (right) */}\n      <path d={`M${width * 0.72},${height * 0.42}\n        L${width * 0.8},${height * 0.52}\n        L${width * 0.88},${height * 0.62}\n        L${width},${height * 0.74}\n        L${width},${height * 0.76}\n        L${width * 0.9},${height * 0.64}\n        L${width * 0.82},${height * 0.54}\n        L${width * 0.74},${height * 0.42} Z`}\n        fill=\"url(#tn-causeway-stone)\" stroke={C.causewayEdge} strokeWidth={0.8} />\n      <path d={`M${width * 0.74},${height * 0.42}\n        L${width * 0.82},${height * 0.54}\n        L${width * 0.9},${height * 0.64} L${width},${height * 0.76}`}\n        fill=\"none\" stroke={C.causewayShadow} strokeWidth={1.5} />\n\n      {/* Central causeway (straight towards viewer, center) */}\n      <path d={`M${width * 0.48},${height * 0.43}\n        L${width * 0.46},${height * 0.55}\n        L${width * 0.44},${height * 0.68}\n        L${width * 0.42},${height * 0.85}\n        L${width * 0.58},${height * 0.85}\n        L${width * 0.56},${height * 0.68}\n        L${width * 0.54},${height * 0.55}\n        L${width * 0.52},${height * 0.43} Z`}\n        fill=\"url(#tn-causeway-stone)\" stroke={C.causewayEdge} strokeWidth={0.8} />\n\n      {/* ============================================================ */}\n      {/* LAYER 6: AQUEDUCT */}\n      {/* ============================================================ */}\n\n      {/* Aqueduct running alongside western causeway */}\n      <g opacity={0.7}>\n        {Array.from({ length: 8 }, (_, i) => {\n          const ax = width * 0.22 - i * 18;\n          const ay = height * 0.43 + i * 12;\n          return (\n            <g key={`aq-${i}`} transform={`translate(${ax}, ${ay})`}>\n              {/* Arch */}\n              <path d=\"M-6,0 L-6,-8 Q0,-14 6,-8 L6,0\"\n                fill=\"none\" stroke={C.aqueductStone} strokeWidth={2} />\n              {/* Water channel on top */}\n              <rect x={-7} y={-10} width={14} height={3}\n                fill={C.aqueductStone} stroke={C.aqueductShadow} strokeWidth={0.5} />\n              {/* Water visible */}\n              <rect x={-5} y={-9} width={10} height={1.5}\n                fill={C.aqueductWater} opacity={0.5} />\n            </g>\n          );\n        })}\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 7: ISLAND CITY - TENOCHTITLAN */}\n      {/* ============================================================ */}\n\n      {/* City island base */}\n      <ellipse cx={width * 0.5} cy={height * 0.44} rx={width * 0.22} ry={height * 0.06}\n        fill={C.chinampaEdge} opacity={0.5} />\n\n      {/* City ground */}\n      <ellipse cx={width * 0.5} cy={height * 0.43} rx={width * 0.21} ry={height * 0.055}\n        fill={C.buildingCream} opacity={0.6} />\n\n      {/* Background building clusters */}\n      <BuildingCluster x={width * 0.35} y={height * 0.41} count={8} maxH={18} spread={80} />\n      <BuildingCluster x={width * 0.65} y={height * 0.41} count={8} maxH={16} spread={70} />\n      <BuildingCluster x={width * 0.42} y={height * 0.4} count={6} maxH={14} spread={50} />\n      <BuildingCluster x={width * 0.58} y={height * 0.4} count={6} maxH={15} spread={55} />\n\n      {/* Palace complex (left of Templo Mayor) */}\n      <g transform={`translate(${width * 0.38}, ${height * 0.4})`}>\n        <rect x={-30} y={-20} width={60} height={20}\n          fill={C.palaceWhite} stroke={C.buildingShadow} strokeWidth={0.5} />\n        <rect x={-32} y={-22} width={64} height={3}\n          fill={C.palaceCream} stroke={C.buildingShadow} strokeWidth={0.3} />\n        {/* Colonnade */}\n        {Array.from({ length: 5 }, (_, i) => (\n          <line key={`col-${i}`} x1={-22 + i * 11} y1={-19} x2={-22 + i * 11} y2={-2}\n            stroke={C.buildingShadow} strokeWidth={1} />\n        ))}\n        {/* Gold trim */}\n        <line x1={-30} y1={-10} x2={30} y2={-10} stroke={C.palaceGold} strokeWidth={0.8} opacity={0.5} />\n        {/* Courtyard opening */}\n        <rect x={-8} y={-12} width={16} height={12} fill={C.buildingDark} opacity={0.3} />\n      </g>\n\n      {/* TEMPLO MAYOR - the Great Temple (center, dominant) */}\n      <SteppedPyramid\n        x={width * 0.5} y={height * 0.41}\n        w={100} h={80} steps={5}\n        hasTemple={true} hasFire={true}\n        fireFlicker={fireFlicker1} smokeOffset={smokeDrift1}\n      />\n\n      {/* Smaller pyramid (right of Templo Mayor) */}\n      <SteppedPyramid\n        x={width * 0.6} y={height * 0.415}\n        w={50} h={40} steps={4}\n        hasTemple={false} hasFire={true}\n        fireFlicker={fireFlicker2} smokeOffset={smokeDrift2}\n      />\n\n      {/* Market area (south of city center) */}\n      <g transform={`translate(${width * 0.45}, ${height * 0.44})`}>\n        {/* Market awnings */}\n        {Array.from({ length: 6 }, (_, i) => (\n          <rect key={`awn-${i}`}\n            x={-20 + i * 14} y={-6} width={10} height={4} rx={1}\n            fill={[C.marketAwning1, C.marketAwning2, C.marketAwning3, C.marketAwning4, C.marketAwning1, C.marketAwning3][i]}\n            opacity={0.5} />\n        ))}\n      </g>\n\n      {/* City plaza (great square in front of temple) */}\n      <rect x={width * 0.44} y={height * 0.41} width={width * 0.12} height={height * 0.025}\n        fill={C.causewayStone} opacity={0.3} />\n\n      {/* Banners/flags on buildings */}\n      {[width * 0.38, width * 0.5, width * 0.62].map((fx, i) => (\n        <g key={`flag-${i}`} transform={`translate(${fx}, ${height * 0.37})`}>\n          <line x1={0} y1={0} x2={0} y2={-12} stroke={C.canoeWood} strokeWidth={1} />\n          <path d={`M0,-12 Q${4 + flagSway},-10 ${6 + flagSway},-8 L${4 + flagSway},-6 L0,-8 Z`}\n            fill={[C.marketAwning1, C.marketAwning3, C.marketAwning2][i]} opacity={0.6} />\n        </g>\n      ))}\n\n      {/* Additional palace (Moctezuma's palace, right of center) */}\n      <g transform={`translate(${width * 0.62}, ${height * 0.41})`}>\n        <rect x={-25} y={-16} width={50} height={16}\n          fill={C.palaceWhite} stroke={C.buildingShadow} strokeWidth={0.5} />\n        <rect x={-27} y={-18} width={54} height={3}\n          fill={C.palaceCream} stroke={C.buildingShadow} strokeWidth={0.3} />\n        {/* Palace courtyard */}\n        <rect x={-15} y={-8} width={30} height={8}\n          fill={C.palaceCream} opacity={0.4} />\n        {/* Columns */}\n        {Array.from({ length: 4 }, (_, i) => (\n          <line key={`pcol-${i}`} x1={-18 + i * 12} y1={-15} x2={-18 + i * 12} y2={-2}\n            stroke={C.buildingShadow} strokeWidth={0.8} />\n        ))}\n        {/* Gold roof trim */}\n        <line x1={-25} y1={-7} x2={25} y2={-7}\n          stroke={C.palaceGold} strokeWidth={0.6} opacity={0.5} />\n        {/* Red decorative band */}\n        <line x1={-25} y1={-16} x2={25} y2={-16}\n          stroke={C.palaceRed} strokeWidth={1} opacity={0.4} />\n      </g>\n\n      {/* Ball court (I-shaped, near great plaza) */}\n      <g transform={`translate(${width * 0.44}, ${height * 0.425})`}>\n        {/* Court walls */}\n        <path d=\"M0,-3 L30,-3 L30,3 L0,3 Z\"\n          fill={C.templeStone} stroke={C.templeShadow} strokeWidth={0.5} />\n        {/* End zones */}\n        <rect x={-6} y={-6} width={6} height={12}\n          fill={C.templeStone} stroke={C.templeShadow} strokeWidth={0.4} />\n        <rect x={30} y={-6} width={6} height={12}\n          fill={C.templeStone} stroke={C.templeShadow} strokeWidth={0.4} />\n        {/* Stone ring (scoring hoop) */}\n        <circle cx={15} cy={-3} r={2} fill=\"none\" stroke={C.templeShadow} strokeWidth={0.5} />\n      </g>\n\n      {/* Tzompantli (skull rack - near Templo Mayor) */}\n      <g transform={`translate(${width * 0.53}, ${height * 0.42})`}>\n        <rect x={0} y={-8} width={16} height={8}\n          fill={C.canoeWood} stroke={C.outline} strokeWidth={0.4} />\n        {/* Skull rows */}\n        {Array.from({ length: 3 }, (_, row) => (\n          Array.from({ length: 4 }, (_, col) => (\n            <circle key={`skull-${row}-${col}`}\n              cx={2 + col * 4} cy={-2 - row * 3} r={1.2}\n              fill=\"#E8E0D0\" stroke={C.outline} strokeWidth={0.2} opacity={0.5} />\n          ))\n        ))}\n      </g>\n\n      {/* Additional building rows (residential areas) */}\n      <BuildingCluster x={width * 0.32} y={height * 0.435} count={10} maxH={12} spread={90} />\n      <BuildingCluster x={width * 0.68} y={height * 0.435} count={10} maxH={11} spread={85} />\n      <BuildingCluster x={width * 0.38} y={height * 0.445} count={7} maxH={10} spread={60} />\n      <BuildingCluster x={width * 0.62} y={height * 0.445} count={7} maxH={10} spread={55} />\n\n      {/* Garden areas within city */}\n      {[\n        { x: width * 0.34, y: height * 0.44 },\n        { x: width * 0.66, y: height * 0.44 },\n        { x: width * 0.4, y: height * 0.435 },\n      ].map((garden, i) => (\n        <g key={`garden-${i}`}>\n          <ellipse cx={garden.x} cy={garden.y} rx={12} ry={4}\n            fill={C.treeMid} opacity={0.3} />\n          <line x1={garden.x} y1={garden.y} x2={garden.x + treeSway * 0.3} y2={garden.y - 8}\n            stroke={C.treeDark} strokeWidth={1.5} strokeLinecap=\"round\" opacity={0.4} />\n          <ellipse cx={garden.x + treeSway * 0.3} cy={garden.y - 10} rx={6} ry={4}\n            fill={C.treeLight} opacity={0.3} />\n        </g>\n      ))}\n\n      {/* Incense smoke from various temples */}\n      <g opacity={0.2}>\n        <path d={`M${width * 0.38},${height * 0.38}\n          Q${width * 0.37 + smokeDrift2 * 0.5},${height * 0.34} ${width * 0.36 + smokeDrift2},${height * 0.3}`}\n          fill=\"none\" stroke={C.incenseSmoke} strokeWidth={4} strokeLinecap=\"round\" />\n        <path d={`M${width * 0.62},${height * 0.39}\n          Q${width * 0.63 + smokeDrift1 * 0.4},${height * 0.35} ${width * 0.64 + smokeDrift1 * 0.8},${height * 0.31}`}\n          fill=\"none\" stroke={C.incenseSmoke} strokeWidth={3} strokeLinecap=\"round\" />\n      </g>\n\n      {/* Small figures on causeways (people walking) */}\n      <g opacity={0.35}>\n        {Array.from({ length: 6 }, (_, i) => {\n          const fx = width * 0.24 - i * 12;\n          const fy = height * 0.42 + i * 10;\n          return (\n            <g key={`cwalk-l-${i}`} transform={`translate(${fx}, ${fy})`}>\n              <line x1={0} y1={0} x2={0} y2={-4} stroke=\"#B8865A\" strokeWidth={1} strokeLinecap=\"round\" />\n              <circle cx={0} cy={-5} r={1} fill=\"#B8865A\" />\n            </g>\n          );\n        })}\n        {Array.from({ length: 5 }, (_, i) => {\n          const fx = width * 0.73 + i * 14;\n          const fy = height * 0.42 + i * 11;\n          return (\n            <g key={`cwalk-r-${i}`} transform={`translate(${fx}, ${fy})`}>\n              <line x1={0} y1={0} x2={0} y2={-4} stroke=\"#B8865A\" strokeWidth={1} strokeLinecap=\"round\" />\n              <circle cx={0} cy={-5} r={1} fill=\"#B8865A\" />\n            </g>\n          );\n        })}\n        {/* Center causeway people */}\n        {Array.from({ length: 8 }, (_, i) => {\n          const fx = width * 0.49 + (i % 2) * 8;\n          const fy = height * 0.48 + i * 15;\n          return (\n            <g key={`cwalk-c-${i}`} transform={`translate(${fx}, ${fy})`}>\n              <line x1={0} y1={0} x2={0} y2={-5} stroke=\"#B8865A\" strokeWidth={1.2} strokeLinecap=\"round\" />\n              <circle cx={0} cy={-6} r={1.2} fill=\"#B8865A\" />\n              {/* Tiny cotton garment */}\n              <line x1={-1.5} y1={-3} x2={1.5} y2={-3} stroke=\"#E8E0D0\" strokeWidth={0.8} />\n            </g>\n          );\n        })}\n      </g>\n\n      {/* City wall/fortification at water edge */}\n      <path d={`M${width * 0.3},${height * 0.445}\n        Q${width * 0.4},${height * 0.45} ${width * 0.5},${height * 0.445}\n        Q${width * 0.6},${height * 0.45} ${width * 0.7},${height * 0.445}`}\n        fill=\"none\" stroke={C.causewayStone} strokeWidth={2} opacity={0.3} />\n\n      {/* Docks/piers at city edge */}\n      {[width * 0.35, width * 0.45, width * 0.55, width * 0.65].map((dx, i) => (\n        <g key={`dock-${i}`}>\n          <line x1={dx} y1={height * 0.445} x2={dx} y2={height * 0.46}\n            stroke={C.canoeWood} strokeWidth={2} opacity={0.4} />\n          <rect x={dx - 4} y={height * 0.46} width={8} height={2}\n            fill={C.canoeWood} opacity={0.3} />\n        </g>\n      ))}\n\n      {/* City reflection in lake */}\n      <g opacity={0.1}>\n        <ellipse cx={width * 0.5} cy={height * 0.52} rx={width * 0.2} ry={height * 0.04}\n          fill={C.lakeReflectCity} />\n        {/* Blurred temple reflection */}\n        <rect x={width * 0.47} y={height * 0.46} width={width * 0.06} height={height * 0.06}\n          fill={C.lakeReflectCity} opacity={0.5} />\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 8: CHINAMPAS (floating gardens at city edges) */}\n      {/* ============================================================ */}\n\n      {/* Chinampas (rectangular garden plots) near the city */}\n      {[\n        { x: width * 0.28, y: height * 0.48, w: 40, h: 14 },\n        { x: width * 0.3, y: height * 0.52, w: 35, h: 12 },\n        { x: width * 0.25, y: height * 0.55, w: 45, h: 15 },\n        { x: width * 0.7, y: height * 0.48, w: 38, h: 13 },\n        { x: width * 0.72, y: height * 0.53, w: 42, h: 14 },\n        { x: width * 0.68, y: height * 0.57, w: 36, h: 12 },\n      ].map((ch, i) => (\n        <g key={`chinampa-${i}`} transform={`translate(${ch.x}, ${ch.y})`}>\n          {/* Water channel around */}\n          <rect x={-2} y={-2} width={ch.w + 4} height={ch.h + 4}\n            fill={C.chinampaWater} opacity={0.3} rx={1} />\n          {/* Garden bed */}\n          <rect x={0} y={0} width={ch.w} height={ch.h}\n            fill={C.chinampaMid} stroke={C.chinampaEdge} strokeWidth={0.5} rx={1} />\n          {/* Crop rows */}\n          {Array.from({ length: Math.floor(ch.w / 8) }, (_, j) => (\n            <line key={`crop-${j}`}\n              x1={4 + j * 8} y1={2} x2={4 + j * 8} y2={ch.h - 2}\n              stroke={C.chinampaLight} strokeWidth={2} opacity={0.4} />\n          ))}\n          {/* Edge willow trees */}\n          {i % 2 === 0 && (\n            <WillowTree x={ch.w + 3} y={ch.h / 2} scale={0.3} sway={treeSway * 0.5} />\n          )}\n        </g>\n      ))}\n\n      {/* ============================================================ */}\n      {/* LAYER 9: CANOES ON THE LAKE */}\n      {/* ============================================================ */}\n\n      {/* Various canoes across the lake */}\n      <Canoe x={width * 0.2} y={height * 0.5} scale={0.7} hasPaddler={true}\n        bob={canoeBob1} loaded={true} />\n      <Canoe x={width * 0.35} y={height * 0.55} scale={0.6} hasPaddler={true}\n        bob={canoeBob2} />\n      <Canoe x={width * 0.65} y={height * 0.53} scale={0.65} hasPaddler={true}\n        bob={canoeBob3} loaded={true} />\n      <Canoe x={width * 0.8} y={height * 0.5} scale={0.55} hasPaddler={true}\n        bob={canoeBob1} />\n      <Canoe x={width * 0.15} y={height * 0.62} scale={0.8} hasPaddler={true}\n        bob={canoeBob2} loaded={true} />\n      <Canoe x={width * 0.85} y={height * 0.6} scale={0.75} hasPaddler={true}\n        bob={canoeBob3} />\n      {/* Distant canoes (small) */}\n      <Canoe x={width * 0.4} y={height * 0.46} scale={0.3} hasPaddler={true}\n        bob={canoeBob1 * 0.5} />\n      <Canoe x={width * 0.6} y={height * 0.47} scale={0.25} hasPaddler={true}\n        bob={canoeBob2 * 0.5} />\n\n      {/* ============================================================ */}\n      {/* LAYER 10: FOREGROUND SHORE & REEDS */}\n      {/* ============================================================ */}\n\n      {/* Foreground shoreline (viewer's position) */}\n      <path d={`M0,${height * 0.78}\n        Q${width * 0.15},${height * 0.76} ${width * 0.3},${height * 0.78}\n        Q${width * 0.5},${height * 0.8} ${width * 0.7},${height * 0.78}\n        Q${width * 0.85},${height * 0.76} ${width},${height * 0.78}\n        L${width},${height} L0,${height} Z`}\n        fill={C.chinampaEdge} />\n\n      {/* Shore texture */}\n      {Array.from({ length: 20 }, (_, i) => (\n        <path key={`shore-${i}`}\n          d={`M${i * (width / 20)},${height * 0.79 + (i % 3) * 2}\n            Q${i * (width / 20) + 30},${height * 0.78 + (i % 2) * 3} ${(i + 1) * (width / 20)},${height * 0.79}`}\n          fill=\"none\" stroke={C.chinampaDark} strokeWidth={0.5} opacity={0.15} />\n      ))}\n\n      {/* Reed clusters along shore */}\n      <ReedCluster x={width * 0.05} y={height * 0.78} count={8} maxH={35} sway={reedSway} />\n      <ReedCluster x={width * 0.12} y={height * 0.77} count={6} maxH={30} sway={reedSway * 0.8} />\n      <ReedCluster x={width * 0.88} y={height * 0.77} count={7} maxH={32} sway={reedSway * 0.9} />\n      <ReedCluster x={width * 0.95} y={height * 0.78} count={9} maxH={38} sway={reedSway} />\n      <ReedCluster x={width * 0.35} y={height * 0.79} count={5} maxH={25} sway={reedSway * 0.7} />\n      <ReedCluster x={width * 0.65} y={height * 0.79} count={5} maxH={28} sway={reedSway * 0.6} />\n\n      {/* Lily pads in foreground water */}\n      {[\n        { x: width * 0.08, y: height * 0.76 },\n        { x: width * 0.15, y: height * 0.74 },\n        { x: width * 0.82, y: height * 0.75 },\n        { x: width * 0.92, y: height * 0.76 },\n        { x: width * 0.38, y: height * 0.77 },\n        { x: width * 0.62, y: height * 0.76 },\n      ].map((lily, i) => (\n        <g key={`lily-${i}`} transform={`translate(${lily.x}, ${lily.y + lilyBob})`}>\n          <ellipse cx={0} cy={0} rx={5} ry={3} fill={C.lilyPad} opacity={0.5} />\n          <path d=\"M0,0 L2,-3 L0,0\" fill=\"none\" stroke={C.chinampaDark} strokeWidth={0.3} />\n          {i % 3 === 0 && (\n            <circle cx={2} cy={-2} r={2} fill={C.lilyFlower} opacity={0.4} />\n          )}\n        </g>\n      ))}\n\n      {/* Foreground shore ground detail */}\n      {/* Pebbles and earth texture */}\n      {Array.from({ length: 25 }, (_, i) => {\n        const px = 30 + (i * 79) % (width - 60);\n        const py = height * 0.8 + (i * 31) % (height * 0.12);\n        const pr = 1.5 + (i % 4) * 0.8;\n        return (\n          <circle key={`pebble-${i}`} cx={px} cy={py} r={pr}\n            fill={i % 3 === 0 ? C.causewayStone : C.chinampaEdge}\n            opacity={0.15 + (i % 3) * 0.05} />\n        );\n      })}\n\n      {/* Shore path (beaten earth path) */}\n      <path d={`M0,${height * 0.84}\n        Q${width * 0.15},${height * 0.82} ${width * 0.3},${height * 0.84}\n        Q${width * 0.5},${height * 0.86} ${width * 0.7},${height * 0.84}\n        Q${width * 0.85},${height * 0.82} ${width},${height * 0.84}`}\n        fill=\"none\" stroke={C.causewayStone} strokeWidth={8} opacity={0.12} strokeLinecap=\"round\" />\n\n      {/* Wild flowers on shore */}\n      {Array.from({ length: 15 }, (_, i) => {\n        const fx = 40 + (i * 131) % (width - 80);\n        const fy = height * 0.8 + (i * 23) % (height * 0.1);\n        const fColors = ['#E06060', '#E0E040', '#A060C0', '#60A0E0', '#E0A040'];\n        return (\n          <g key={`flower-${i}`} transform={`translate(${fx}, ${fy})`}>\n            <line x1={0} y1={0} x2={treeSway * 0.2} y2={-6 - (i % 3) * 2}\n              stroke={C.reedDark} strokeWidth={0.8} />\n            <circle cx={treeSway * 0.2} cy={-7 - (i % 3) * 2} r={1.5}\n              fill={fColors[i % 5]} opacity={0.4} />\n          </g>\n        );\n      })}\n\n      {/* Grass tufts */}\n      {Array.from({ length: 20 }, (_, i) => {\n        const gx = 20 + (i * 103) % (width - 40);\n        const gy = height * 0.79 + (i * 17) % (height * 0.08);\n        return (\n          <g key={`grass-${i}`} transform={`translate(${gx}, ${gy})`}>\n            <line x1={0} y1={0} x2={-2 + reedSway * 0.3} y2={-5}\n              stroke={C.chinampaLight} strokeWidth={0.8} strokeLinecap=\"round\" opacity={0.4} />\n            <line x1={2} y1={0} x2={3 + reedSway * 0.3} y2={-6}\n              stroke={C.chinampaMid} strokeWidth={0.8} strokeLinecap=\"round\" opacity={0.35} />\n            <line x1={-1} y1={0} x2={0 + reedSway * 0.2} y2={-4}\n              stroke={C.chinampaLight} strokeWidth={0.7} strokeLinecap=\"round\" opacity={0.3} />\n          </g>\n        );\n      })}\n\n      {/* Ducks on water (foreground) */}\n      {[\n        { x: width * 0.2, y: height * 0.73 },\n        { x: width * 0.78, y: height * 0.74 },\n        { x: width * 0.55, y: height * 0.75 },\n      ].map((duck, i) => (\n        <g key={`duck-${i}`} transform={`translate(${duck.x}, ${duck.y + canoeBob1 * 0.5})`}>\n          {/* Wake */}\n          <path d=\"M4,1 Q8,0 12,1\" fill=\"none\" stroke={C.lakeRipple} strokeWidth={0.5} opacity={0.3} />\n          {/* Body */}\n          <ellipse cx={0} cy={0} rx={4} ry={2} fill=\"#5A4A30\" opacity={0.5} />\n          {/* Head */}\n          <circle cx={-3} cy={-2} r={1.5} fill=\"#2A5A2A\" opacity={0.4} />\n          <line x1={-4.5} y1={-2} x2={-6} y2={-1.5} stroke=\"#D4A020\" strokeWidth={0.5} opacity={0.4} />\n        </g>\n      ))}\n\n      {/* Fish jumping (occasional) */}\n      {waterGlint > 0.8 && (\n        <g transform={`translate(${width * 0.4}, ${height * 0.65})`}>\n          <path d=\"M0,0 Q-3,-4 -1,-6 Q1,-4 3,-3 Q1,-2 0,0 Z\"\n            fill=\"#8A9A8A\" opacity={0.3} />\n          {/* Splash rings */}\n          <ellipse cx={0} cy={1} rx={4} ry={1.5} fill=\"none\" stroke={C.lakeRipple} strokeWidth={0.5} opacity={0.4} />\n          <ellipse cx={0} cy={1} rx={7} ry={2.5} fill=\"none\" stroke={C.lakeRipple} strokeWidth={0.3} opacity={0.2} />\n        </g>\n      )}\n\n      {/* Foreground rocks along waterline */}\n      {[\n        { x: width * 0.08, y: height * 0.78, rx: 10, ry: 5 },\n        { x: width * 0.22, y: height * 0.79, rx: 8, ry: 4 },\n        { x: width * 0.42, y: height * 0.78, rx: 12, ry: 5.5 },\n        { x: width * 0.58, y: height * 0.79, rx: 7, ry: 3.5 },\n        { x: width * 0.76, y: height * 0.78, rx: 11, ry: 5 },\n        { x: width * 0.92, y: height * 0.79, rx: 9, ry: 4 },\n      ].map((rock, i) => (\n        <g key={`frock-${i}`} transform={`translate(${rock.x}, ${rock.y})`}>\n          <ellipse cx={0} cy={0} rx={rock.rx} ry={rock.ry}\n            fill={C.mountainFoot} opacity={0.35} stroke={C.outline} strokeWidth={0.3} />\n          <ellipse cx={-rock.rx * 0.2} cy={-rock.ry * 0.3} rx={rock.rx * 0.4} ry={rock.ry * 0.3}\n            fill={C.causewayStone} opacity={0.15} />\n          {/* Moss on rock */}\n          <ellipse cx={rock.rx * 0.1} cy={rock.ry * 0.2} rx={rock.rx * 0.3} ry={rock.ry * 0.2}\n            fill={C.chinampaDark} opacity={0.15} />\n        </g>\n      ))}\n\n      {/* Dragonflies over water */}\n      {Array.from({ length: 4 }, (_, i) => {\n        const dx = width * 0.15 + i * width * 0.2;\n        const dy = height * 0.72 + sineWave(frame, 0.06, i * 3) * 5;\n        return (\n          <g key={`dfly-${i}`} transform={`translate(${dx}, ${dy})`}>\n            <line x1={-3} y1={0} x2={3} y2={0} stroke=\"#4080A0\" strokeWidth={0.5} opacity={0.3} />\n            <line x1={0} y1={0} x2={-2 + sineWave(frame, 0.15, i) * 2} y2={-2}\n              stroke=\"rgba(180,220,255,0.3)\" strokeWidth={0.3} />\n            <line x1={0} y1={0} x2={2 + sineWave(frame, 0.15, i + 1) * 2} y2={-2}\n              stroke=\"rgba(180,220,255,0.3)\" strokeWidth={0.3} />\n          </g>\n        );\n      })}\n\n      {/* Foreground willow trees on shore */}\n      <WillowTree x={width * 0.03} y={height * 0.78} scale={1.2} sway={treeSway} />\n      <WillowTree x={width * 0.97} y={height * 0.77} scale={1.1} sway={treeSway * 0.9} />\n\n      {/* Additional cypress trees */}\n      {[width * 0.18, width * 0.82].map((cx, i) => (\n        <g key={`cypress-${i}`} transform={`translate(${cx}, ${height * 0.78})`}>\n          <line x1={0} y1={0} x2={0} y2={-30} stroke=\"#3A2A10\" strokeWidth={2} />\n          <path d={`M-4,${-8} Q0,${-35 + treeSway * 0.5} 4,${-8}`}\n            fill={C.cypressDark} opacity={0.5} />\n          <path d={`M-3,${-10} Q0,${-32 + treeSway * 0.5} 3,${-10}`}\n            fill={C.cypressMid} opacity={0.4} />\n        </g>\n      ))}\n\n      {/* ============================================================ */}\n      {/* LAYER 11: CROWD FIGURES (along causeway/shore) */}\n      {/* ============================================================ */}\n\n      <AztecCrowdLayer config={AZTEC_CROWD_CONFIGS.tenochtitlan} />\n\n      {/* ============================================================ */}\n      {/* LAYER 12: BIRDS */}\n      {/* ============================================================ */}\n\n      {/* Flying birds (herons, eagles) */}\n      {Array.from({ length: 8 }, (_, i) => {\n        const bx = width * 0.15 + i * width * 0.1;\n        const by = height * 0.2 + (i % 3) * 25 + birdFloat1 * (i % 2 === 0 ? 1 : -0.5);\n        const wAngle = wingBeat * (i % 2 === 0 ? 1 : -1);\n        return (\n          <g key={`bird-${i}`} transform={`translate(${bx}, ${by})`}>\n            <path d={`M0,0 Q-${5 + wAngle},-${2 + wAngle * 0.3} -${10 + wAngle},${wAngle * 0.3}`}\n              fill=\"none\" stroke={C.birdDark} strokeWidth={1} strokeLinecap=\"round\" opacity={0.4} />\n            <path d={`M0,0 Q${5 + wAngle},-${2 + wAngle * 0.3} ${10 + wAngle},${wAngle * 0.3}`}\n              fill=\"none\" stroke={C.birdDark} strokeWidth={1} strokeLinecap=\"round\" opacity={0.4} />\n          </g>\n        );\n      })}\n\n      {/* Heron standing in shallows */}\n      <g transform={`translate(${width * 0.1}, ${height * 0.75})`}>\n        <line x1={0} y1={0} x2={0} y2={-10} stroke=\"#8A8A7A\" strokeWidth={1} />\n        <line x1={0} y1={-10} x2={0} y2={-18} stroke=\"#E8E0D0\" strokeWidth={2} strokeLinecap=\"round\" />\n        <circle cx={0} cy={-20} r={2} fill=\"#E8E0D0\" stroke={C.outline} strokeWidth={0.3} />\n        <line x1={2} y1={-20} x2={6} y2={-19} stroke=\"#D4A020\" strokeWidth={0.8} />\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 13: MIST AND FOG */}\n      {/* ============================================================ */}\n\n      {/* Lake mist (morning mist over water) */}\n      <ellipse cx={width * 0.2 + mistFloat} cy={height * 0.55}\n        rx={180} ry={20} fill={C.mistLake} opacity={0.4} />\n      <ellipse cx={width * 0.5 - mistFloat * 0.5} cy={height * 0.5}\n        rx={220} ry={25} fill={C.mistLake} opacity={0.3} />\n      <ellipse cx={width * 0.8 + mistFloat * 0.7} cy={height * 0.53}\n        rx={160} ry={18} fill={C.mistLake} opacity={0.35} />\n\n      {/* Near fog (foreground) */}\n      <ellipse cx={width * 0.15 + mistFloat * 0.5} cy={height * 0.8}\n        rx={200} ry={25} fill={C.fogNear} opacity={0.25} />\n      <ellipse cx={width * 0.85 - mistFloat * 0.3} cy={height * 0.82}\n        rx={180} ry={22} fill={C.fogNear} opacity={0.2} />\n\n      {/* Mountain haze */}\n      <rect x={0} y={height * 0.3} width={width} height={height * 0.12}\n        fill={C.haze} opacity={0.5} />\n\n      {/* ============================================================ */}\n      {/* LAYER 14: STONE TABLET BOARD */}\n      {/* ============================================================ */}\n\n      <g transform={`translate(${width * 0.5 - 220}, ${height * 0.86})`}>\n        {/* Shadow */}\n        <rect x={-6} y={-6} width={452} height={112} rx={4}\n          fill=\"rgba(0,0,0,0.25)\" />\n        {/* Stone frame */}\n        <rect x={-10} y={-10} width={460} height={120} rx={6}\n          fill={C.boardFrame} stroke={C.outline} strokeWidth={2} />\n        {/* Stone surface */}\n        <rect x={0} y={0} width={440} height={100} rx={3}\n          fill={C.boardSurface} />\n        {/* Stone texture */}\n        <rect x={0} y={0} width={440} height={100} rx={3}\n          fill={C.boardStone} opacity={0.12} />\n        {/* Cracks */}\n        <path d=\"M15,0 L20,18 L17,35\" fill=\"none\" stroke={C.outline} strokeWidth={0.3} opacity={0.15} />\n        <path d=\"M425,5 L420,22 L423,42\" fill=\"none\" stroke={C.outline} strokeWidth={0.3} opacity={0.12} />\n        {/* Aztec step-fret border */}\n        <g opacity={0.3}>\n          {Array.from({ length: 22 }, (_, i) => (\n            <path key={`bf-${i}`}\n              d={`M${i * 20 + 5},2 L${i * 20 + 10},2 L${i * 20 + 10},6 L${i * 20 + 15},6 L${i * 20 + 15},2`}\n              fill=\"none\" stroke={C.palaceGold} strokeWidth={0.8} />\n          ))}\n          {Array.from({ length: 22 }, (_, i) => (\n            <path key={`bfb-${i}`}\n              d={`M${i * 20 + 5},98 L${i * 20 + 10},98 L${i * 20 + 10},94 L${i * 20 + 15},94 L${i * 20 + 15},98`}\n              fill=\"none\" stroke={C.palaceGold} strokeWidth={0.8} />\n          ))}\n        </g>\n        {/* Text */}\n        {boardText && (\n          <text x={220} y={58} textAnchor=\"middle\" fill={C.boardText}\n            fontSize={36} fontFamily=\"'Courier New', monospace\" fontWeight=\"bold\" opacity={0.85}>\n            {boardText}\n          </text>\n        )}\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 14B: ADDITIONAL WATER DETAIL */}\n      {/* ============================================================ */}\n\n      {/* Causeway shadows on water */}\n      <g opacity={0.08}>\n        <path d={`M${width * 0.25},${height * 0.43}\n          L${width * 0.15},${height * 0.53}\n          L${width * 0.08},${height * 0.61} L0,${height * 0.73}\n          L0,${height * 0.75}\n          L${width * 0.1},${height * 0.63}\n          L${width * 0.17},${height * 0.55}\n          L${width * 0.27},${height * 0.43} Z`}\n          fill={C.lakeDeep} />\n        <path d={`M${width * 0.74},${height * 0.43}\n          L${width * 0.82},${height * 0.55}\n          L${width * 0.9},${height * 0.65} L${width},${height * 0.77}\n          L${width},${height * 0.79}\n          L${width * 0.92},${height * 0.67}\n          L${width * 0.84},${height * 0.57}\n          L${width * 0.76},${height * 0.43} Z`}\n          fill={C.lakeDeep} />\n      </g>\n\n      {/* Floating debris/leaves on water */}\n      {Array.from({ length: 10 }, (_, i) => {\n        const lx = 100 + (i * 191) % (width - 200);\n        const ly = height * 0.5 + (i * 47) % (height * 0.2);\n        return (\n          <ellipse key={`leaf-${i}`}\n            cx={lx + waterRipple2 * (i % 2 === 0 ? 1 : -1)}\n            cy={ly + waterRipple1 * 0.5}\n            rx={1.5} ry={0.8}\n            fill={i % 3 === 0 ? C.chinampaLight : C.reedDark}\n            opacity={0.15} transform={`rotate(${(i * 23) % 180}, ${lx}, ${ly})`} />\n        );\n      })}\n\n      {/* Distant fishing nets visible on water */}\n      <g opacity={0.12}>\n        <path d={`M${width * 0.25},${height * 0.56}\n          Q${width * 0.27},${height * 0.54} ${width * 0.29},${height * 0.56}\n          Q${width * 0.27},${height * 0.58} ${width * 0.25},${height * 0.56}`}\n          fill=\"none\" stroke={C.canoeWood} strokeWidth={0.5} />\n        <path d={`M${width * 0.73},${height * 0.54}\n          Q${width * 0.75},${height * 0.52} ${width * 0.77},${height * 0.54}\n          Q${width * 0.75},${height * 0.56} ${width * 0.73},${height * 0.54}`}\n          fill=\"none\" stroke={C.canoeWood} strokeWidth={0.5} />\n      </g>\n\n      {/* Water color variation zones */}\n      <ellipse cx={width * 0.3} cy={height * 0.55} rx={80} ry={20}\n        fill={C.lakeShallow} opacity={0.06} />\n      <ellipse cx={width * 0.7} cy={height * 0.58} rx={60} ry={15}\n        fill={C.lakeShallow} opacity={0.05} />\n      <ellipse cx={width * 0.5} cy={height * 0.65} rx={100} ry={25}\n        fill={C.lakeDeep} opacity={0.04} />\n\n      {/* Causeway reflection details */}\n      {Array.from({ length: 6 }, (_, i) => {\n        const crx = width * 0.47 + (i % 2) * 12;\n        const cry = height * 0.56 + i * 18;\n        return (\n          <line key={`cref-${i}`}\n            x1={crx - 4} y1={cry + waterRipple2}\n            x2={crx + 4} y2={cry + waterRipple2}\n            stroke={C.lakeReflectCity} strokeWidth={1.5} opacity={0.08} />\n        );\n      })}\n\n      {/* Subtle wind lines on water surface */}\n      {Array.from({ length: 8 }, (_, i) => (\n        <path key={`wind-${i}`}\n          d={`M${width * 0.1 + i * width * 0.1},${height * 0.48 + (i % 3) * 20 + waterRipple3}\n            Q${width * 0.15 + i * width * 0.1},${height * 0.47 + (i % 3) * 20 + waterRipple3}\n            ${width * 0.2 + i * width * 0.1},${height * 0.48 + (i % 3) * 20 + waterRipple3}`}\n          fill=\"none\" stroke={C.lakeGlint} strokeWidth={0.4} opacity={0.1} />\n      ))}\n\n      {/* ============================================================ */}\n      {/* LAYER 15: ATMOSPHERIC OVERLAYS */}\n      {/* ============================================================ */}\n\n      {/* Overall warm atmospheric glow */}\n      <rect x={0} y={0} width={width} height={height}\n        fill=\"rgba(255,220,140,0.03)\" />\n\n      {/* Vignette */}\n      <rect x={0} y={0} width={width} height={height}\n        fill=\"url(#tn-vignette)\" />\n\n      {/* Side darkening for depth */}\n      <linearGradient id=\"tn-left-dark\" x1=\"0%\" y1=\"0%\" x2=\"12%\" y2=\"0%\">\n        <stop offset=\"0%\" stopColor=\"rgba(15,10,25,0.2)\" />\n        <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n      </linearGradient>\n      <rect x={0} y={0} width={width * 0.15} height={height}\n        fill=\"url(#tn-left-dark)\" />\n      <linearGradient id=\"tn-right-dark\" x1=\"88%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n        <stop offset=\"0%\" stopColor=\"rgba(0,0,0,0)\" />\n        <stop offset=\"100%\" stopColor=\"rgba(15,10,25,0.2)\" />\n      </linearGradient>\n      <rect x={width * 0.85} y={0} width={width * 0.15} height={height}\n        fill=\"url(#tn-right-dark)\" />\n\n      {/* Top sky darkening (zenith) */}\n      <linearGradient id=\"tn-top-dark\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"10%\">\n        <stop offset=\"0%\" stopColor=\"rgba(10,15,35,0.15)\" />\n        <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n      </linearGradient>\n      <rect x={0} y={0} width={width} height={height * 0.15}\n        fill=\"url(#tn-top-dark)\" />\n\n      {/* Water shimmer overlay */}\n      <rect x={0} y={height * 0.36} width={width} height={height * 0.42}\n        fill={`rgba(${100 + Math.floor(waterGlint * 30)},${160 + Math.floor(waterGlint * 20)},${200 + Math.floor(waterGlint * 15)},0.02)`} />\n\n      {/* Atmospheric dust particles in sunbeams */}\n      {Array.from({ length: 15 }, (_, i) => {\n        const px = width * 0.35 + (i * 71) % (width * 0.3);\n        const py = height * 0.1 + (i * 53) % (height * 0.35);\n        const pSize = 0.5 + (i % 3) * 0.3;\n        return (\n          <circle key={`dust-${i}`}\n            cx={px + sineWave(frame, 0.02, i) * 3}\n            cy={py + sineWave(frame, 0.015, i + 1) * 2}\n            r={pSize}\n            fill={C.sunCore} opacity={0.08 + (i % 3) * 0.02} />\n        );\n      })}\n\n      {/* Bottom darkness (depth) */}\n      <linearGradient id=\"tn-bottom\" x1=\"0%\" y1=\"85%\" x2=\"0%\" y2=\"100%\">\n        <stop offset=\"0%\" stopColor=\"rgba(0,0,0,0)\" />\n        <stop offset=\"100%\" stopColor=\"rgba(15,10,5,0.2)\" />\n      </linearGradient>\n      <rect x={0} y={height * 0.85} width={width} height={height * 0.15}\n        fill=\"url(#tn-bottom)\" />\n\n      {/* Canvas texture for oil painting feel */}\n      <rect x={0} y={0} width={width} height={height}\n        fill=\"url(#tn-canvas)\" opacity={0.5} />\n\n      {/* Film grain for painterly texture */}\n      <g opacity={0.02}>\n        {Array.from({ length: 20 }, (_, i) => (\n          <rect key={`grain-${i}`}\n            x={(i * 103) % width} y={(i * 67) % height}\n            width={1.5} height={1.5}\n            fill={i % 2 === 0 ? '#FFF' : '#000'} />\n        ))}\n      </g>\n\n      {/* Subtle blue-gold color grading */}\n      <rect x={0} y={0} width={width * 0.5} height={height}\n        fill=\"rgba(40,60,120,0.02)\" />\n      <rect x={width * 0.5} y={0} width={width * 0.5} height={height}\n        fill=\"rgba(200,160,80,0.02)\" />\n    </svg>\n  );\n};\n\nexport default Tenochtitlan;\n","// AztecMarket.tsx  The bustling Tlatelolco market, largest in Mesoamerica\n// Oil-painting quality: temple backdrop, colorful stalls, traders, goods\n// Rich Vermeer-style warm light with dust, food smoke, vibrant textiles\n\nimport React from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { sineWave } from '../animations/easing';\nimport { AztecCrowdLayer, AZTEC_CROWD_CONFIGS } from '../crowds/AztecCrowd';\n\n// ---- Color palette: 100+ named colors ----\nconst C = {\n  // Sky\n  skyTop: '#2A5A8A',\n  skyMid: '#5A90B8',\n  skyLow: '#8AB8D0',\n  skyHorizon: '#C8D8E0',\n  // Clouds\n  cloudWhite: '#F0EEE8',\n  cloudLight: '#E0D8C8',\n  cloudMid: '#C0B8A8',\n  cloudShadow: '#9A9488',\n  // Sun\n  sunGlow: 'rgba(255,220,140,0.2)',\n  sunWarm: 'rgba(255,200,100,0.08)',\n  // Temple (background)\n  templeStone: '#C8B898',\n  templeShadow: '#8A7A60',\n  templeLight: '#E0D0B0',\n  templeRed: '#A04030',\n  templeBlue: '#304080',\n  templeStair: '#A08A68',\n  templeStairShadow: '#7A6A4A',\n  // Market ground (stone pavement)\n  paveDark: '#7A6A50',\n  paveMid: '#9A8A68',\n  paveLight: '#B0A080',\n  paveJoint: '#6A5A40',\n  paveWet: '#6A6048',\n  // Market stalls\n  stallWood: '#7A5030',\n  stallWoodDark: '#5A3820',\n  stallWoodLight: '#9A6840',\n  stallPost: '#6A4828',\n  stallRope: '#9B8968',\n  // Awnings\n  awningRed: '#C83020',\n  awningBlue: '#2050A0',\n  awningGold: '#D4A020',\n  awningGreen: '#1A6A3A',\n  awningWhite: '#E8E0D0',\n  awningCream: '#D8C8A8',\n  awningStripe: '#B04030',\n  // Textiles\n  textileRed: '#C02020',\n  textileBlue: '#2040B0',\n  textileGreen: '#1A6A2A',\n  textileGold: '#D4A020',\n  textilePurple: '#6A2080',\n  textileWhite: '#F0E8D8',\n  textileOrange: '#D06020',\n  textilePink: '#D06080',\n  // Goods\n  cacaoBean: '#4A2A10',\n  jadeGreen: '#3A8A5A',\n  jadeDark: '#2A6A3A',\n  turquoise: '#40B0B0',\n  obsidian: '#2A2A3A',\n  obsidianShine: '#4A4A6A',\n  gold: '#D4A020',\n  goldLight: '#F0C840',\n  copper: '#B87040',\n  pottery: '#B07040',\n  potteryDark: '#8A5028',\n  potteryRed: '#C04830',\n  // Food\n  maizeGold: '#E8C040',\n  maizeGreen: '#5A8A30',\n  tomatoRed: '#D03020',\n  chiliRed: '#B82020',\n  chiliGreen: '#3A6A1A',\n  squashOrange: '#D08030',\n  squashGreen: '#4A7A2A',\n  avocadoGreen: '#3A5A1A',\n  beanBrown: '#6A4A20',\n  // Animals\n  turkeyBrown: '#5A3A1A',\n  turkeyRed: '#C03020',\n  dogTan: '#B89060',\n  parrotGreen: '#1A8A2A',\n  parrotRed: '#D02020',\n  parrotBlue: '#2040C0',\n  cageWood: '#7A5A30',\n  // Featherwork\n  featherGreen: '#1A6B3A',\n  featherRed: '#B02020',\n  featherBlue: '#2040A0',\n  featherGold: '#D4A020',\n  quetzalGreen: '#00AA44',\n  // Smoke/dust\n  cookSmoke: 'rgba(140,120,90,0.25)',\n  dustLight: 'rgba(160,140,100,0.2)',\n  dustMid: 'rgba(120,100,70,0.15)',\n  incenseGray: 'rgba(160,150,140,0.2)',\n  // Atmosphere\n  fogNear: 'rgba(200,190,170,0.12)',\n  warmGlow: 'rgba(255,200,120,0.06)',\n  vignette: 'rgba(30,20,10,0.3)',\n  // Board\n  boardWood: '#5A3820',\n  boardSurface: '#7A5A38',\n  boardText: '#E8D8C0',\n  // People colors\n  skin: '#B8865A',\n  skinDark: '#9A6E42',\n  cotton: '#E8E0D0',\n  cottonBlue: '#3B6B8A',\n  // Drain channel\n  drainStone: '#6A5A40',\n  drainWater: '#5A7A6A',\n  // Outline\n  outline: '#1A1A1A',\n};\n\ninterface AztecMarketProps {\n  boardText?: string;\n  width?: number;\n  height?: number;\n}\n\n// ---- Sub-component: Market Stall with awning ----\nconst MarketStall: React.FC<{\n  x: number; y: number; w: number;\n  awningColor: string; awningColor2?: string;\n  hasPots?: boolean; hasTextiles?: boolean; hasFood?: boolean;\n  hasFeathers?: boolean; hasJade?: boolean;\n}> = ({ x, y, w, awningColor, awningColor2, hasPots, hasTextiles, hasFood, hasFeathers, hasJade }) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {/* Stall posts */}\n    <line x1={0} y1={0} x2={0} y2={-50} stroke={C.stallPost} strokeWidth={3} />\n    <line x1={w} y1={0} x2={w} y2={-50} stroke={C.stallPost} strokeWidth={3} />\n    {/* Cross beam */}\n    <line x1={-3} y1={-48} x2={w + 3} y2={-48} stroke={C.stallWood} strokeWidth={2.5} />\n    {/* Awning fabric (draped) */}\n    <path d={`M-5,-48 Q${w * 0.25},-42 ${w * 0.5},-46 Q${w * 0.75},-42 ${w + 5},-48\n      L${w + 8},-38 Q${w * 0.75},-34 ${w * 0.5},-38 Q${w * 0.25},-34 -8,-38 Z`}\n      fill={awningColor} stroke={C.outline} strokeWidth={0.5} opacity={0.85} />\n    {/* Awning stripe pattern */}\n    {awningColor2 && (\n      <path d={`M${w * 0.2},-46 Q${w * 0.35},-40 ${w * 0.5},-44 Q${w * 0.65},-40 ${w * 0.8},-46`}\n        fill=\"none\" stroke={awningColor2} strokeWidth={2} opacity={0.4} />\n    )}\n    {/* Awning shadow on goods */}\n    <rect x={-2} y={-38} width={w + 4} height={5}\n      fill=\"rgba(0,0,0,0.08)\" />\n    {/* Counter/table */}\n    <rect x={-3} y={-8} width={w + 6} height={8}\n      fill={C.stallWood} stroke={C.stallWoodDark} strokeWidth={0.8} />\n    <rect x={-2} y={-10} width={w + 4} height={3}\n      fill={C.stallWoodLight} stroke={C.stallWoodDark} strokeWidth={0.5} />\n    {/* Counter front panel detail */}\n    <rect x={2} y={-6} width={w - 4} height={4} rx={1}\n      fill={C.stallWoodDark} opacity={0.3} />\n    {/* Goods on counter */}\n    {hasPots && (\n      <g>\n        {Array.from({ length: Math.floor(w / 14) }, (_, i) => (\n          <g key={`pot-${i}`} transform={`translate(${6 + i * 14}, -10)`}>\n            <path d={`M-4,0 Q-5,-4 -4,-8 Q-2,-10 0,-10 Q2,-10 4,-8 Q5,-4 4,0 Z`}\n              fill={i % 2 === 0 ? C.pottery : C.potteryRed} stroke={C.outline} strokeWidth={0.4} />\n            <ellipse cx={0} cy={-10} rx={3} ry={1.5} fill={C.potteryDark} stroke={C.outline} strokeWidth={0.3} />\n            <line x1={-3} y1={-6} x2={3} y2={-6} stroke={C.gold} strokeWidth={0.4} opacity={0.4} />\n          </g>\n        ))}\n      </g>\n    )}\n    {hasTextiles && (\n      <g>\n        {Array.from({ length: Math.floor(w / 10) }, (_, i) => {\n          const tColors = [C.textileRed, C.textileBlue, C.textileGreen, C.textileGold, C.textilePurple];\n          return (\n            <rect key={`tex-${i}`}\n              x={3 + i * 10} y={-18} width={7} height={8} rx={0.5}\n              fill={tColors[i % 5]} stroke={C.outline} strokeWidth={0.3} opacity={0.7} />\n          );\n        })}\n        {/* Hanging textiles from beam */}\n        {Array.from({ length: 3 }, (_, i) => {\n          const hColors = [C.textileOrange, C.textileBlue, C.textilePink];\n          return (\n            <rect key={`htex-${i}`}\n              x={w * 0.2 + i * w * 0.25} y={-45}\n              width={8} height={20}\n              fill={hColors[i]} stroke={C.outline} strokeWidth={0.3} opacity={0.5} />\n          );\n        })}\n      </g>\n    )}\n    {hasFood && (\n      <g>\n        {/* Piles of food on counter */}\n        {/* Maize/corn ears */}\n        {Array.from({ length: 3 }, (_, i) => (\n          <g key={`corn-${i}`} transform={`translate(${4 + i * 8}, -12) rotate(${-10 + i * 10})`}>\n            <ellipse cx={0} cy={0} rx={2} ry={5} fill={C.maizeGold} stroke={C.outline} strokeWidth={0.3} />\n            <line x1={0} y1={5} x2={0} y2={8} stroke={C.maizeGreen} strokeWidth={1} />\n          </g>\n        ))}\n        {/* Tomato pile */}\n        <g transform={`translate(${w * 0.4}, -12)`}>\n          <circle cx={0} cy={0} r={3} fill={C.tomatoRed} opacity={0.7} />\n          <circle cx={3} cy={1} r={2.5} fill={C.tomatoRed} opacity={0.6} />\n          <circle cx={-2} cy={2} r={2} fill={C.tomatoRed} opacity={0.65} />\n        </g>\n        {/* Chili peppers */}\n        <g transform={`translate(${w * 0.6}, -12)`}>\n          {Array.from({ length: 4 }, (_, i) => (\n            <path key={`chili-${i}`}\n              d={`M${i * 5 - 8},0 Q${i * 5 - 6},-4 ${i * 5 - 4},0`}\n              fill={i % 2 === 0 ? C.chiliRed : C.chiliGreen} stroke={C.outline} strokeWidth={0.2} />\n          ))}\n        </g>\n        {/* Squash */}\n        <ellipse cx={w * 0.85} cy={-12} rx={4} ry={3}\n          fill={C.squashOrange} stroke={C.outline} strokeWidth={0.3} opacity={0.6} />\n      </g>\n    )}\n    {hasFeathers && (\n      <g>\n        {/* Feather fans displayed */}\n        {Array.from({ length: 4 }, (_, i) => {\n          const fColors = [C.quetzalGreen, C.featherRed, C.featherBlue, C.featherGold];\n          return (\n            <g key={`fan-${i}`} transform={`translate(${8 + i * w * 0.22}, -12)`}>\n              {[-20, -10, 0, 10, 20].map((angle, j) => (\n                <line key={`ff-${j}`}\n                  x1={0} y1={0}\n                  x2={Math.sin(angle * Math.PI / 180) * 10}\n                  y2={-Math.cos(angle * Math.PI / 180) * 10}\n                  stroke={fColors[(i + j) % 4]} strokeWidth={1.2} strokeLinecap=\"round\" />\n              ))}\n              <circle cx={0} cy={0} r={1.5} fill={C.gold} />\n            </g>\n          );\n        })}\n        {/* Hanging feather headdress */}\n        <g transform={`translate(${w * 0.5}, -46)`}>\n          <rect x={-3} y={0} width={6} height={3} rx={1} fill={C.gold} />\n          {[-3, -1, 1, 3].map((dx, i) => (\n            <line key={`hf-${i}`} x1={dx} y1={0} x2={dx * 2} y2={-10}\n              stroke={[C.quetzalGreen, C.featherRed, C.quetzalGreen, C.featherBlue][i]}\n              strokeWidth={1.5} strokeLinecap=\"round\" />\n          ))}\n        </g>\n      </g>\n    )}\n    {hasJade && (\n      <g>\n        {/* Jade and turquoise pieces laid out */}\n        {Array.from({ length: Math.floor(w / 8) }, (_, i) => {\n          const isJade = i % 3 !== 0;\n          return (\n            <g key={`gem-${i}`} transform={`translate(${4 + i * 8}, -12)`}>\n              {isJade ? (\n                <circle cx={0} cy={0} r={2.5}\n                  fill={i % 2 === 0 ? C.jadeGreen : C.jadeDark}\n                  stroke={C.outline} strokeWidth={0.3} opacity={0.7} />\n              ) : (\n                <rect x={-2} y={-2} width={4} height={4} rx={0.5}\n                  fill={C.turquoise} stroke={C.outline} strokeWidth={0.3} opacity={0.6} />\n              )}\n            </g>\n          );\n        })}\n        {/* Gold pieces */}\n        <circle cx={w * 0.3} cy={-14} r={3} fill={C.gold} opacity={0.5} stroke={C.outline} strokeWidth={0.3} />\n        <circle cx={w * 0.7} cy={-14} r={2.5} fill={C.goldLight} opacity={0.5} stroke={C.outline} strokeWidth={0.3} />\n        {/* Obsidian mirror */}\n        <ellipse cx={w * 0.5} cy={-15} rx={4} ry={3}\n          fill={C.obsidian} stroke={C.obsidianShine} strokeWidth={0.5} opacity={0.6} />\n      </g>\n    )}\n  </g>\n);\n\n// ---- Sub-component: Caged birds ----\nconst BirdCage: React.FC<{\n  x: number; y: number; birdColor: string; flutter: number;\n}> = ({ x, y, birdColor, flutter }) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {/* Cage frame */}\n    <rect x={-8} y={-18} width={16} height={18} rx={1}\n      fill=\"none\" stroke={C.cageWood} strokeWidth={1} />\n    {/* Cage bars */}\n    {Array.from({ length: 5 }, (_, i) => (\n      <line key={`bar-${i}`} x1={-6 + i * 3} y1={-18} x2={-6 + i * 3} y2={0}\n        stroke={C.cageWood} strokeWidth={0.5} />\n    ))}\n    {/* Top dome */}\n    <path d=\"M-8,-18 Q0,-24 8,-18\" fill=\"none\" stroke={C.cageWood} strokeWidth={1} />\n    {/* Bird inside */}\n    <g transform={`translate(0, ${-10 + flutter * 1.5})`}>\n      <ellipse cx={0} cy={0} rx={3} ry={2} fill={birdColor} opacity={0.6} />\n      <circle cx={-2} cy={-1.5} r={1.5} fill={birdColor} opacity={0.7} />\n      <line x1={-3.5} y1={-1.5} x2={-5} y2={-1} stroke={C.maizeGold} strokeWidth={0.5} />\n      <circle cx={-2.5} cy={-2} r={0.4} fill={C.outline} />\n      {/* Wing */}\n      <path d={`M1,0 Q${3 + flutter * 2},${-2 - flutter} ${2 + flutter},${1}`}\n        fill={birdColor} opacity={0.5} />\n    </g>\n  </g>\n);\n\n// ---- Sub-component: Ground goods display (on mat) ----\nconst GroundDisplay: React.FC<{\n  x: number; y: number; type: 'cacao' | 'obsidian' | 'feathers' | 'cotton';\n}> = ({ x, y, type }) => (\n  <g transform={`translate(${x}, ${y})`}>\n    {/* Woven mat */}\n    <rect x={-15} y={-2} width={30} height={4} rx={1}\n      fill={C.stallRope} stroke={C.stallWoodDark} strokeWidth={0.4} opacity={0.5} />\n    {/* Mat weave pattern */}\n    {Array.from({ length: 6 }, (_, i) => (\n      <line key={`weave-${i}`} x1={-13 + i * 5} y1={-1} x2={-13 + i * 5} y2={1}\n        stroke={C.stallWoodDark} strokeWidth={0.3} opacity={0.2} />\n    ))}\n    {type === 'cacao' && (\n      <g>\n        {/* Pile of cacao beans */}\n        {Array.from({ length: 12 }, (_, i) => (\n          <ellipse key={`bean-${i}`}\n            cx={-10 + (i % 4) * 6 + (i > 7 ? 2 : 0)}\n            cy={-4 - Math.floor(i / 4) * 3}\n            rx={2} ry={1.2}\n            fill={C.cacaoBean} stroke={C.outline} strokeWidth={0.2}\n            opacity={0.6} transform={`rotate(${(i * 20) % 60 - 30})`} />\n        ))}\n      </g>\n    )}\n    {type === 'obsidian' && (\n      <g>\n        {/* Obsidian blades laid out */}\n        {Array.from({ length: 5 }, (_, i) => (\n          <g key={`blade-${i}`} transform={`translate(${-10 + i * 6}, -4) rotate(${-5 + i * 3})`}>\n            <path d=\"M-1,0 L0,-8 L1,0 Z\" fill={C.obsidian} stroke={C.obsidianShine} strokeWidth={0.3} />\n          </g>\n        ))}\n        {/* Obsidian mirror */}\n        <circle cx={8} cy={-6} r={3} fill={C.obsidian} stroke={C.obsidianShine} strokeWidth={0.5} opacity={0.5} />\n      </g>\n    )}\n    {type === 'feathers' && (\n      <g>\n        {/* Bundles of feathers */}\n        {Array.from({ length: 6 }, (_, i) => {\n          const fc = [C.quetzalGreen, C.featherRed, C.featherBlue, C.featherGold, C.quetzalGreen, C.featherRed];\n          return (\n            <line key={`f-${i}`}\n              x1={-10 + i * 5} y1={-2}\n              x2={-10 + i * 5 + 1} y2={-10 - (i % 3) * 2}\n              stroke={fc[i]} strokeWidth={1.5} strokeLinecap=\"round\" opacity={0.6} />\n          );\n        })}\n      </g>\n    )}\n    {type === 'cotton' && (\n      <g>\n        {/* Folded cotton mantles */}\n        {Array.from({ length: 4 }, (_, i) => (\n          <rect key={`cotton-${i}`}\n            x={-12 + i * 7} y={-6} width={6} height={4} rx={0.5}\n            fill={[C.cotton, C.cottonBlue, C.awningCream, C.textileWhite][i]}\n            stroke={C.outline} strokeWidth={0.3} opacity={0.5} />\n        ))}\n      </g>\n    )}\n  </g>\n);\n\n// ---- Sub-component: Turkey ----\nconst Turkey: React.FC<{\n  x: number; y: number; peck: number; flip?: boolean;\n}> = ({ x, y, peck, flip = false }) => (\n  <g transform={`translate(${x}, ${y}) scale(${flip ? -1 : 1}, 1)`}>\n    {/* Body */}\n    <ellipse cx={0} cy={0} rx={6} ry={4} fill={C.turkeyBrown} stroke={C.outline} strokeWidth={0.4} />\n    {/* Tail feathers (fanned) */}\n    {[-15, -8, 0, 8, 15].map((angle, i) => (\n      <line key={`tf-${i}`}\n        x1={5} y1={-1}\n        x2={5 + Math.cos((angle + 90) * Math.PI / 180) * 8}\n        y2={-1 + Math.sin((angle + 90) * Math.PI / 180) * 8}\n        stroke={i % 2 === 0 ? C.turkeyBrown : '#3A2A0A'}\n        strokeWidth={1.5} strokeLinecap=\"round\" />\n    ))}\n    {/* Neck */}\n    <path d={`M-4,-2 Q-6,${-6 - peck} -5,${-10 - peck * 2}`}\n      fill=\"none\" stroke={C.turkeyBrown} strokeWidth={2} strokeLinecap=\"round\" />\n    {/* Head */}\n    <circle cx={-5} cy={-11 - peck * 2} r={2} fill={C.turkeyBrown} stroke={C.outline} strokeWidth={0.3} />\n    {/* Wattle (red) */}\n    <path d={`M-5,${-10 - peck * 2} L-4,${-8 - peck * 2} L-6,${-8 - peck * 2} Z`}\n      fill={C.turkeyRed} opacity={0.6} />\n    {/* Eye */}\n    <circle cx={-6} cy={-11.5 - peck * 2} r={0.5} fill={C.outline} />\n    {/* Beak */}\n    <line x1={-7} y1={-11 - peck * 2} x2={-9} y2={-10.5 - peck * 2}\n      stroke={C.maizeGold} strokeWidth={0.8} />\n    {/* Legs */}\n    <line x1={-2} y1={3} x2={-3} y2={6} stroke={C.maizeGold} strokeWidth={0.8} />\n    <line x1={2} y1={3} x2={3} y2={6} stroke={C.maizeGold} strokeWidth={0.8} />\n  </g>\n);\n\n// ---- Sub-component: Drainage channel ----\nconst DrainChannel: React.FC<{\n  x1: number; y1: number; x2: number; y2: number; width: number;\n}> = ({ x1: cx1, y1: cy1, x2: cx2, y2: cy2, width: w }) => (\n  <g>\n    <line x1={cx1} y1={cy1} x2={cx2} y2={cy2}\n      stroke={C.drainStone} strokeWidth={w + 2} />\n    <line x1={cx1} y1={cy1} x2={cx2} y2={cy2}\n      stroke={C.drainWater} strokeWidth={w} opacity={0.4} />\n    {/* Drain edges */}\n    <line x1={cx1} y1={cy1 - w / 2 - 1} x2={cx2} y2={cy2 - w / 2 - 1}\n      stroke={C.drainStone} strokeWidth={1} opacity={0.4} />\n    <line x1={cx1} y1={cy1 + w / 2 + 1} x2={cx2} y2={cy2 + w / 2 + 1}\n      stroke={C.drainStone} strokeWidth={1} opacity={0.4} />\n  </g>\n);\n\n// ---- Main Component ----\nexport const AztecMarket: React.FC<AztecMarketProps> = ({\n  boardText = '',\n  width = 1920,\n  height = 1080,\n}) => {\n  const frame = useCurrentFrame();\n\n  // Animations\n  const cloudDrift1 = sineWave(frame, 0.015) * 15;\n  const cloudDrift2 = sineWave(frame, 0.02, 1.5) * 12;\n  const smokeDrift1 = sineWave(frame, 0.035, 0.5) * 6;\n  const smokeDrift2 = sineWave(frame, 0.04, 2) * 8;\n  const smokeDrift3 = sineWave(frame, 0.03, 3.5) * 5;\n  const awningFlap1 = sineWave(frame, 0.08) * 2;\n  const awningFlap2 = sineWave(frame, 0.09, 1) * 1.5;\n  const dustFloat = sineWave(frame, 0.025) * 10;\n  const birdFlutter1 = sineWave(frame, 0.2) * 1;\n  const birdFlutter2 = sineWave(frame, 0.22, 1) * 1;\n  const turkeyPeck = Math.max(0, sineWave(frame, 0.12));\n  const flagSway = sineWave(frame, 0.1) * 3;\n  const godRayPulse = sineWave(frame, 0.025) * 0.02 + 0.05;\n  const fireFlicker = sineWave(frame, 0.15) * 0.5 + 0.5;\n  const mistFloat = sineWave(frame, 0.02) * 8;\n  const flyingBirdWing = sineWave(frame, 0.08) * 5;\n\n  return (\n    <svg viewBox={`0 0 ${width} ${height}`} width={width} height={height}>\n      <defs>\n        {/* Sky gradient */}\n        <linearGradient id=\"am-sky\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.skyTop} />\n          <stop offset=\"40%\" stopColor={C.skyMid} />\n          <stop offset=\"75%\" stopColor={C.skyLow} />\n          <stop offset=\"100%\" stopColor={C.skyHorizon} />\n        </linearGradient>\n\n        {/* Ground gradient - stone pavement */}\n        <linearGradient id=\"am-ground\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.paveMid} />\n          <stop offset=\"50%\" stopColor={C.paveDark} />\n          <stop offset=\"100%\" stopColor={C.paveDark} />\n        </linearGradient>\n\n        {/* Sun warmth */}\n        <radialGradient id=\"am-sunglow\" cx=\"60%\" cy=\"15%\" r=\"45%\">\n          <stop offset=\"0%\" stopColor={C.sunGlow} />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </radialGradient>\n\n        {/* Vignette */}\n        <radialGradient id=\"am-vignette\" cx=\"50%\" cy=\"50%\" r=\"70%\">\n          <stop offset=\"0%\" stopColor=\"rgba(0,0,0,0)\" />\n          <stop offset=\"75%\" stopColor=\"rgba(0,0,0,0)\" />\n          <stop offset=\"100%\" stopColor={C.vignette} />\n        </radialGradient>\n\n        {/* Stone pavement pattern */}\n        <pattern id=\"am-pave\" x=\"0\" y=\"0\" width=\"30\" height=\"20\" patternUnits=\"userSpaceOnUse\">\n          <rect width=\"30\" height=\"20\" fill={C.paveMid} />\n          <rect x=\"0\" y=\"0\" width=\"14\" height=\"9\" fill={C.paveLight} opacity={0.3} rx={0.5} />\n          <rect x=\"16\" y=\"0\" width=\"14\" height=\"9\" fill={C.paveMid} rx={0.5} />\n          <rect x=\"8\" y=\"11\" width=\"14\" height=\"9\" fill={C.paveLight} opacity={0.25} rx={0.5} />\n          <line x1=\"0\" y1=\"10\" x2=\"30\" y2=\"10\" stroke={C.paveJoint} strokeWidth={0.5} opacity={0.3} />\n          <line x1=\"15\" y1=\"0\" x2=\"15\" y2=\"10\" stroke={C.paveJoint} strokeWidth={0.5} opacity={0.25} />\n          <line x1=\"8\" y1=\"10\" x2=\"8\" y2=\"20\" stroke={C.paveJoint} strokeWidth={0.5} opacity={0.25} />\n          <line x1=\"22\" y1=\"10\" x2=\"22\" y2=\"20\" stroke={C.paveJoint} strokeWidth={0.5} opacity={0.25} />\n        </pattern>\n\n        {/* God ray */}\n        <linearGradient id=\"am-godray\" x1=\"60%\" y1=\"0%\" x2=\"40%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor=\"rgba(255,220,140,0.1)\" />\n          <stop offset=\"50%\" stopColor=\"rgba(255,200,100,0.04)\" />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </linearGradient>\n\n        {/* Canvas texture */}\n        <pattern id=\"am-canvas\" x=\"0\" y=\"0\" width=\"4\" height=\"4\" patternUnits=\"userSpaceOnUse\">\n          <rect width=\"4\" height=\"4\" fill=\"rgba(0,0,0,0)\" />\n          <line x1=\"0\" y1=\"0\" x2=\"4\" y2=\"0\" stroke=\"rgba(0,0,0,0.008)\" strokeWidth={0.3} />\n          <line x1=\"0\" y1=\"2\" x2=\"4\" y2=\"2\" stroke=\"rgba(0,0,0,0.006)\" strokeWidth={0.3} />\n          <line x1=\"0\" y1=\"0\" x2=\"0\" y2=\"4\" stroke=\"rgba(0,0,0,0.008)\" strokeWidth={0.3} />\n        </pattern>\n\n        {/* Dust particle pattern */}\n        <pattern id=\"am-dust\" x=\"0\" y=\"0\" width=\"50\" height=\"50\" patternUnits=\"userSpaceOnUse\">\n          <circle cx=\"8\" cy=\"12\" r=\"0.4\" fill={C.dustLight} opacity={0.06} />\n          <circle cx=\"28\" cy=\"5\" r=\"0.3\" fill={C.dustLight} opacity={0.04} />\n          <circle cx=\"42\" cy=\"32\" r=\"0.5\" fill={C.dustMid} opacity={0.05} />\n          <circle cx=\"18\" cy=\"42\" r=\"0.3\" fill={C.dustLight} opacity={0.04} />\n          <circle cx=\"38\" cy=\"18\" r=\"0.4\" fill={C.dustMid} opacity={0.05} />\n          <circle cx=\"5\" cy=\"36\" r=\"0.3\" fill={C.dustLight} opacity={0.03} />\n        </pattern>\n\n        {/* Ground shadow gradient */}\n        <linearGradient id=\"am-ground-shadow\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor=\"rgba(0,0,0,0.05)\" />\n          <stop offset=\"50%\" stopColor=\"rgba(0,0,0,0)\" />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0.08)\" />\n        </linearGradient>\n\n        {/* Warm ambient light for market */}\n        <radialGradient id=\"am-ambient\" cx=\"50%\" cy=\"55%\" r=\"50%\">\n          <stop offset=\"0%\" stopColor=\"rgba(255,200,120,0.06)\" />\n          <stop offset=\"70%\" stopColor=\"rgba(255,180,80,0.02)\" />\n          <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n        </radialGradient>\n\n        {/* Textile stripe pattern */}\n        <pattern id=\"am-textile-stripe\" x=\"0\" y=\"0\" width=\"6\" height=\"6\" patternUnits=\"userSpaceOnUse\">\n          <rect width=\"6\" height=\"6\" fill={C.textileRed} />\n          <rect x=\"0\" y=\"0\" width=\"6\" height=\"2\" fill={C.textileGold} opacity={0.5} />\n          <rect x=\"0\" y=\"4\" width=\"6\" height=\"2\" fill={C.textileBlue} opacity={0.3} />\n        </pattern>\n\n        {/* Food grill smoke filter */}\n        <filter id=\"am-smoke-blur\" x=\"-30%\" y=\"-30%\" width=\"160%\" height=\"160%\">\n          <feGaussianBlur stdDeviation=\"2\" />\n        </filter>\n      </defs>\n\n      {/* ============================================================ */}\n      {/* LAYER 1: SKY */}\n      {/* ============================================================ */}\n\n      <rect x={0} y={0} width={width} height={height * 0.35} fill=\"url(#am-sky)\" />\n      <rect x={0} y={0} width={width} height={height * 0.4} fill=\"url(#am-sunglow)\" />\n\n      {/* Clouds */}\n      <g opacity={0.5}>\n        <ellipse cx={250 + cloudDrift1} cy={60} rx={200} ry={30}\n          fill={C.cloudMid} />\n        <ellipse cx={270 + cloudDrift1} cy={55} rx={140} ry={20}\n          fill={C.cloudLight} opacity={0.6} />\n        <ellipse cx={700 + cloudDrift2} cy={80} rx={250} ry={35}\n          fill={C.cloudMid} />\n        <ellipse cx={720 + cloudDrift2} cy={75} rx={170} ry={22}\n          fill={C.cloudWhite} opacity={0.5} />\n        <ellipse cx={1300 + cloudDrift1 * 0.7} cy={50} rx={220} ry={28}\n          fill={C.cloudMid} />\n        <ellipse cx={1320 + cloudDrift1 * 0.7} cy={45} rx={150} ry={18}\n          fill={C.cloudLight} opacity={0.55} />\n        <ellipse cx={1650 + cloudDrift2 * 0.5} cy={70} rx={180} ry={25}\n          fill={C.cloudShadow} />\n      </g>\n\n      {/* God rays */}\n      <g opacity={godRayPulse}>\n        <polygon points={`${width * 0.55},0 ${width * 0.48},${height * 0.45} ${width * 0.52},${height * 0.45}`}\n          fill=\"url(#am-godray)\" />\n        <polygon points={`${width * 0.65},0 ${width * 0.6},${height * 0.4} ${width * 0.64},${height * 0.4}`}\n          fill=\"url(#am-godray)\" />\n      </g>\n\n      {/* Flying birds in sky */}\n      {Array.from({ length: 5 }, (_, i) => {\n        const bx = width * 0.2 + i * width * 0.15;\n        const by = height * 0.08 + (i % 3) * 15 + sineWave(frame, 0.04, i) * 4;\n        return (\n          <g key={`skybird-${i}`} transform={`translate(${bx}, ${by})`}>\n            <path d={`M0,0 Q-${4 + flyingBirdWing * (i % 2 === 0 ? 1 : -1)},${-2} -${8},${flyingBirdWing * 0.2}`}\n              fill=\"none\" stroke={C.outline} strokeWidth={0.8} opacity={0.3} />\n            <path d={`M0,0 Q${4 + flyingBirdWing * (i % 2 === 0 ? 1 : -1)},${-2} ${8},${flyingBirdWing * 0.2}`}\n              fill=\"none\" stroke={C.outline} strokeWidth={0.8} opacity={0.3} />\n          </g>\n        );\n      })}\n\n      {/* ============================================================ */}\n      {/* LAYER 2: TEMPLE PYRAMID (background) */}\n      {/* ============================================================ */}\n\n      {/* Stepped pyramid behind market */}\n      <g transform={`translate(${width * 0.5}, ${height * 0.35})`}>\n        {/* Pyramid steps */}\n        {Array.from({ length: 6 }, (_, i) => {\n          const sw = 320 - i * 40;\n          const sh = 20;\n          const sy = -i * sh;\n          return (\n            <g key={`pstep-${i}`}>\n              <rect x={-sw / 2} y={sy - sh} width={sw} height={sh}\n                fill={i % 2 === 0 ? C.templeStone : C.templeLight}\n                stroke={C.templeShadow} strokeWidth={0.5} />\n              <rect x={-sw / 2} y={sy - 2} width={sw} height={2}\n                fill={C.templeStairShadow} opacity={0.25} />\n              {/* Stone block lines */}\n              {Array.from({ length: Math.floor(sw / 20) }, (_, j) => (\n                <line key={`bl-${j}`}\n                  x1={-sw / 2 + 8 + j * 20} y1={sy - sh + 2}\n                  x2={-sw / 2 + 8 + j * 20} y2={sy - 2}\n                  stroke={C.templeShadow} strokeWidth={0.3} opacity={0.12} />\n              ))}\n            </g>\n          );\n        })}\n        {/* Central staircase */}\n        <rect x={-20} y={-120} width={40} height={120}\n          fill={C.templeStair} stroke={C.templeStairShadow} strokeWidth={0.5} />\n        {Array.from({ length: 18 }, (_, i) => (\n          <line key={`stl-${i}`}\n            x1={-20} y1={-120 + i * (120 / 18)}\n            x2={20} y2={-120 + i * (120 / 18)}\n            stroke={C.templeStairShadow} strokeWidth={0.3} opacity={0.3} />\n        ))}\n        {/* Twin temples at top */}\n        <rect x={-50} y={-145} width={40} height={25}\n          fill={C.templeBlue} stroke={C.outline} strokeWidth={0.5} />\n        <path d=\"M-52,-145 L-30,-162 L-8,-145 Z\"\n          fill={C.templeBlue} stroke={C.outline} strokeWidth={0.5} />\n        <rect x={10} y={-145} width={40} height={25}\n          fill={C.templeRed} stroke={C.outline} strokeWidth={0.5} />\n        <path d=\"M8,-145 L30,-162 L52,-145 Z\"\n          fill={C.templeRed} stroke={C.outline} strokeWidth={0.5} />\n        {/* Temple fires */}\n        <g opacity={0.6 + fireFlicker * 0.3}>\n          <ellipse cx={-30} cy={-155} rx={6 + fireFlicker * 3} ry={4}\n            fill={C.warmGlow} opacity={0.5} />\n          <path d={`M-32,-150 Q-33,${-158 - fireFlicker * 6} -30,${-164 - fireFlicker * 8}\n            Q-27,${-158 - fireFlicker * 6} -28,-150`}\n            fill=\"#E08030\" opacity={0.5} />\n          <ellipse cx={30} cy={-155} rx={6 + fireFlicker * 3} ry={4}\n            fill={C.warmGlow} opacity={0.5} />\n          <path d={`M28,-150 Q27,${-158 - fireFlicker * 6} 30,${-164 - fireFlicker * 8}\n            Q33,${-158 - fireFlicker * 6} 32,-150`}\n            fill=\"#E08030\" opacity={0.5} />\n        </g>\n        {/* Smoke from temple fires */}\n        <path d={`M-30,-164 Q${-32 + smokeDrift1},-180 ${-28 + smokeDrift1 * 2},-200`}\n          fill=\"none\" stroke={C.cookSmoke} strokeWidth={8} strokeLinecap=\"round\" opacity={0.3} />\n        <path d={`M30,-164 Q${32 + smokeDrift2},-180 ${28 + smokeDrift2 * 2},-200`}\n          fill=\"none\" stroke={C.cookSmoke} strokeWidth={8} strokeLinecap=\"round\" opacity={0.3} />\n      </g>\n\n      {/* Temple decorative elements */}\n      <g transform={`translate(${width * 0.5}, ${height * 0.35})`}>\n        {/* Stone serpent heads at base of stairs */}\n        <g transform=\"translate(-25, 0)\">\n          <circle cx={0} cy={-3} r={4} fill={C.templeStone} stroke={C.outline} strokeWidth={0.5} />\n          <path d=\"M-4,-3 L-8,-2 L-4,-1\" fill={C.templeStone} stroke={C.outline} strokeWidth={0.4} />\n          <circle cx={-1} cy={-4} r={1} fill={C.outline} opacity={0.5} />\n        </g>\n        <g transform=\"translate(25, 0) scale(-1,1)\">\n          <circle cx={0} cy={-3} r={4} fill={C.templeStone} stroke={C.outline} strokeWidth={0.5} />\n          <path d=\"M-4,-3 L-8,-2 L-4,-1\" fill={C.templeStone} stroke={C.outline} strokeWidth={0.4} />\n          <circle cx={-1} cy={-4} r={1} fill={C.outline} opacity={0.5} />\n        </g>\n        {/* Stone eagle sculpture at base */}\n        <g transform=\"translate(60, -5)\">\n          <path d=\"M-6,0 Q-4,-6 0,-8 Q4,-6 6,0 Z\"\n            fill={C.templeStone} stroke={C.outline} strokeWidth={0.4} />\n          <path d=\"M0,-8 L-4,-12 M0,-8 L4,-12\"\n            fill=\"none\" stroke={C.templeStone} strokeWidth={1} strokeLinecap=\"round\" />\n        </g>\n        {/* Skull rack (tzompantli) near temple */}\n        <g transform=\"translate(-80, -10)\">\n          <rect x={0} y={-12} width={24} height={12}\n            fill={C.stallWoodDark} stroke={C.outline} strokeWidth={0.4} />\n          {Array.from({ length: 3 }, (_, row) => (\n            Array.from({ length: 5 }, (_, col) => (\n              <circle key={`tsk-${row}-${col}`}\n                cx={3 + col * 5} cy={-3 - row * 4} r={1.5}\n                fill=\"#E0D8C8\" stroke={C.outline} strokeWidth={0.2} opacity={0.4} />\n            ))\n          ))}\n        </g>\n        {/* Incense braziers at temple base */}\n        {[-50, 50].map((bx, i) => (\n          <g key={`brazier-${i}`} transform={`translate(${bx}, -2)`}>\n            <path d=\"M-4,0 Q-5,-3 -3,-6 Q0,-8 3,-6 Q5,-3 4,0 Z\"\n              fill={C.potteryDark} stroke={C.outline} strokeWidth={0.4} />\n            <path d={`M0,-6 Q${smokeDrift1 * 0.5},-12 ${smokeDrift1},-20`}\n              fill=\"none\" stroke={C.incenseGray} strokeWidth={2} strokeLinecap=\"round\" opacity={0.3} />\n          </g>\n        ))}\n        {/* Banners on temple */}\n        {[-100, -40, 40, 100].map((bx, i) => (\n          <g key={`tbanner-${i}`} transform={`translate(${bx}, -20)`}>\n            <line x1={0} y1={0} x2={0} y2={-15} stroke={C.stallPost} strokeWidth={1} />\n            <path d={`M0,-15 Q${3 + flagSway * 0.5},-13 ${5 + flagSway},-11 L${3 + flagSway * 0.5},-9 L0,-11 Z`}\n              fill={[C.awningRed, C.awningGold, C.awningBlue, C.awningGreen][i]} opacity={0.5} />\n          </g>\n        ))}\n      </g>\n\n      {/* More background buildings with variety */}\n      {Array.from({ length: 6 }, (_, i) => {\n        const bx = width * 0.02 + i * (width * 0.16);\n        const bh = 25 + (i * 11) % 15;\n        const bw = 35 + (i % 3) * 8;\n        return (\n          <g key={`bgbld-${i}`}>\n            <rect x={bx} y={height * 0.35 - bh} width={bw} height={bh}\n              fill={i % 2 === 0 ? C.templeLight : C.templeStone}\n              stroke={C.templeShadow} strokeWidth={0.3} opacity={0.5} />\n            {/* Flat roof detail */}\n            <rect x={bx - 1} y={height * 0.35 - bh - 2} width={bw + 2} height={2.5}\n              fill={C.templeStairShadow} opacity={0.3} />\n            {/* Door */}\n            <rect x={bx + bw * 0.35} y={height * 0.35 - bh * 0.4}\n              width={bw * 0.2} height={bh * 0.4}\n              fill={C.outline} opacity={0.2} />\n            {/* Shadow side */}\n            <rect x={bx + bw * 0.75} y={height * 0.35 - bh}\n              width={bw * 0.25} height={bh}\n              fill={C.templeShadow} opacity={0.1} />\n          </g>\n        );\n      })}\n\n      {/* Side buildings flanking temple */}\n      {Array.from({ length: 8 }, (_, i) => {\n        const bx = width * 0.08 + i * (width * 0.11);\n        const bh = 20 + (i * 7) % 20;\n        return (\n          <rect key={`sidebld-${i}`}\n            x={bx} y={height * 0.35 - bh} width={30 + (i % 3) * 10} height={bh}\n            fill={i % 3 === 0 ? C.templeLight : C.templeStone}\n            stroke={C.templeShadow} strokeWidth={0.3} opacity={0.5} />\n        );\n      })}\n\n      {/* ============================================================ */}\n      {/* LAYER 3: MARKET GROUND */}\n      {/* ============================================================ */}\n\n      {/* Main ground plane */}\n      <rect x={0} y={height * 0.35} width={width} height={height * 0.65}\n        fill=\"url(#am-ground)\" />\n\n      {/* Stone pavement texture */}\n      <rect x={0} y={height * 0.35} width={width} height={height * 0.65}\n        fill=\"url(#am-pave)\" opacity={0.6} />\n\n      {/* Drainage channels */}\n      <DrainChannel x1={0} y1={height * 0.55} x2={width} y2={height * 0.55} width={4} />\n      <DrainChannel x1={width * 0.3} y1={height * 0.35} x2={width * 0.3} y2={height} width={3} />\n      <DrainChannel x1={width * 0.7} y1={height * 0.35} x2={width * 0.7} y2={height} width={3} />\n\n      {/* Wet spots on pavement */}\n      {Array.from({ length: 8 }, (_, i) => (\n        <ellipse key={`wet-${i}`}\n          cx={120 + (i * 243) % (width - 240)}\n          cy={height * 0.5 + (i * 67) % (height * 0.3)}\n          rx={15 + (i % 3) * 5} ry={6 + (i % 2) * 3}\n          fill={C.paveWet} opacity={0.1} />\n      ))}\n\n      {/* ============================================================ */}\n      {/* LAYER 4: MARKET STALLS (back row) */}\n      {/* ============================================================ */}\n\n      {/* Back row stalls (closer to temple) */}\n      <MarketStall x={width * 0.05} y={height * 0.45} w={100}\n        awningColor={C.awningRed} awningColor2={C.awningGold}\n        hasPots={true} />\n      <MarketStall x={width * 0.15} y={height * 0.44} w={90}\n        awningColor={C.awningBlue}\n        hasTextiles={true} />\n      <MarketStall x={width * 0.26} y={height * 0.45} w={100}\n        awningColor={C.awningGreen} awningColor2={C.awningWhite}\n        hasFood={true} />\n      <MarketStall x={width * 0.58} y={height * 0.44} w={95}\n        awningColor={C.awningGold} awningColor2={C.awningRed}\n        hasFeathers={true} />\n      <MarketStall x={width * 0.68} y={height * 0.45} w={100}\n        awningColor={C.awningRed}\n        hasJade={true} />\n      <MarketStall x={width * 0.8} y={height * 0.44} w={90}\n        awningColor={C.awningBlue} awningColor2={C.awningWhite}\n        hasPots={true} />\n\n      {/* ============================================================ */}\n      {/* LAYER 5: GROUND GOODS AND ANIMALS (middle area) */}\n      {/* ============================================================ */}\n\n      {/* Ground displays between stall rows */}\n      <GroundDisplay x={width * 0.12} y={height * 0.58} type=\"cacao\" />\n      <GroundDisplay x={width * 0.28} y={height * 0.56} type=\"obsidian\" />\n      <GroundDisplay x={width * 0.44} y={height * 0.57} type=\"feathers\" />\n      <GroundDisplay x={width * 0.6} y={height * 0.58} type=\"cotton\" />\n      <GroundDisplay x={width * 0.76} y={height * 0.56} type=\"cacao\" />\n      <GroundDisplay x={width * 0.9} y={height * 0.57} type=\"obsidian\" />\n\n      {/* Bird cages */}\n      <BirdCage x={width * 0.36} y={height * 0.55} birdColor={C.parrotGreen} flutter={birdFlutter1} />\n      <BirdCage x={width * 0.52} y={height * 0.54} birdColor={C.parrotRed} flutter={birdFlutter2} />\n      <BirdCage x={width * 0.84} y={height * 0.55} birdColor={C.parrotBlue} flutter={birdFlutter1} />\n\n      {/* Turkeys */}\n      <Turkey x={width * 0.2} y={height * 0.6} peck={turkeyPeck} />\n      <Turkey x={width * 0.48} y={height * 0.62} peck={turkeyPeck * 0.8} flip={true} />\n      <Turkey x={width * 0.72} y={height * 0.6} peck={turkeyPeck * 1.1} />\n\n      {/* Dog (xoloitzcuintli - hairless) */}\n      <g transform={`translate(${width * 0.65}, ${height * 0.63})`}>\n        <ellipse cx={0} cy={0} rx={6} ry={3.5} fill={C.dogTan} stroke={C.outline} strokeWidth={0.3} />\n        <circle cx={-5} cy={-3} r={2.5} fill={C.dogTan} stroke={C.outline} strokeWidth={0.3} />\n        <path d=\"M-6,-5 L-7,-8 L-5,-6\" fill={C.dogTan} stroke={C.outline} strokeWidth={0.2} />\n        <path d=\"M-4,-5 L-3,-8 L-2,-6\" fill={C.dogTan} stroke={C.outline} strokeWidth={0.2} />\n        <circle cx={-6.5} cy={-3.5} r={0.5} fill={C.outline} />\n        <line x1={-7.5} y1={-2.5} x2={-8.5} y2={-2.5} stroke={C.outline} strokeWidth={0.4} />\n        <line x1={-3} y1={3} x2={-4} y2={6} stroke={C.dogTan} strokeWidth={1} />\n        <line x1={3} y1={3} x2={4} y2={6} stroke={C.dogTan} strokeWidth={1} />\n        <path d=\"M6,0 Q8,-1 10,0\" fill=\"none\" stroke={C.dogTan} strokeWidth={0.8} />\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 6: FRONT ROW STALLS (closer to viewer) */}\n      {/* ============================================================ */}\n\n      <MarketStall x={width * 0.02} y={height * 0.7} w={110}\n        awningColor={C.awningGold} awningColor2={C.awningGreen}\n        hasFood={true} />\n      <MarketStall x={width * 0.18} y={height * 0.69} w={100}\n        awningColor={C.awningRed}\n        hasTextiles={true} />\n      <MarketStall x={width * 0.35} y={height * 0.7} w={115}\n        awningColor={C.awningWhite} awningColor2={C.awningBlue}\n        hasJade={true} />\n      <MarketStall x={width * 0.55} y={height * 0.69} w={105}\n        awningColor={C.awningGreen}\n        hasFood={true} />\n      <MarketStall x={width * 0.72} y={height * 0.7} w={110}\n        awningColor={C.awningBlue} awningColor2={C.awningGold}\n        hasFeathers={true} />\n      <MarketStall x={width * 0.88} y={height * 0.69} w={100}\n        awningColor={C.awningRed} awningColor2={C.awningWhite}\n        hasPots={true} />\n\n      {/* ============================================================ */}\n      {/* LAYER 7: CROWD FIGURES */}\n      {/* ============================================================ */}\n\n      <AztecCrowdLayer config={AZTEC_CROWD_CONFIGS.market} />\n\n      {/* Additional small market-goers (hand-drawn) */}\n      {Array.from({ length: 12 }, (_, i) => {\n        const px = 80 + (i * 163) % (width - 160);\n        const py = height * 0.55 + (i * 43) % (height * 0.2);\n        return (\n          <g key={`shopper-${i}`} transform={`translate(${px}, ${py})`}>\n            <ellipse cx={0} cy={2} rx={5} ry={1.5} fill=\"rgba(0,0,0,0.08)\" />\n            <line x1={0} y1={0} x2={0} y2={-8} stroke={C.skin} strokeWidth={2} strokeLinecap=\"round\" />\n            <circle cx={0} cy={-10} r={2} fill={C.skin} stroke={C.outline} strokeWidth={0.3} />\n            <rect x={-2.5} y={-7} width={5} height={5} rx={0.5}\n              fill={[C.cotton, C.cottonBlue, C.awningCream, C.textileWhite][i % 4]}\n              stroke={C.outline} strokeWidth={0.2} opacity={0.6} />\n          </g>\n        );\n      })}\n\n      {/* ============================================================ */}\n      {/* LAYER 8: COOKING SMOKE AND DUST */}\n      {/* ============================================================ */}\n\n      {/* Food cooking smoke from stalls */}\n      <g opacity={0.3}>\n        <path d={`M${width * 0.1},${height * 0.42}\n          Q${width * 0.08 + smokeDrift1 * 2},${height * 0.36} ${width * 0.06 + smokeDrift1 * 4},${height * 0.28}`}\n          fill=\"none\" stroke={C.cookSmoke} strokeWidth={12} strokeLinecap=\"round\" />\n        <path d={`M${width * 0.3},${height * 0.43}\n          Q${width * 0.28 + smokeDrift2 * 1.5},${height * 0.37} ${width * 0.26 + smokeDrift2 * 3},${height * 0.3}`}\n          fill=\"none\" stroke={C.cookSmoke} strokeWidth={10} strokeLinecap=\"round\" />\n        <path d={`M${width * 0.6},${height * 0.42}\n          Q${width * 0.58 + smokeDrift3 * 2},${height * 0.36} ${width * 0.56 + smokeDrift3 * 3},${height * 0.29}`}\n          fill=\"none\" stroke={C.cookSmoke} strokeWidth={11} strokeLinecap=\"round\" />\n        <path d={`M${width * 0.85},${height * 0.43}\n          Q${width * 0.83 + smokeDrift1 * 1.5},${height * 0.37} ${width * 0.81 + smokeDrift1 * 3},${height * 0.3}`}\n          fill=\"none\" stroke={C.cookSmoke} strokeWidth={9} strokeLinecap=\"round\" />\n      </g>\n\n      {/* Dust in air (kicked up by crowd) */}\n      <ellipse cx={width * 0.25 + dustFloat} cy={height * 0.6}\n        rx={120} ry={20} fill={C.dustLight} opacity={0.2} />\n      <ellipse cx={width * 0.6 - dustFloat * 0.5} cy={height * 0.58}\n        rx={100} ry={18} fill={C.dustMid} opacity={0.15} />\n      <ellipse cx={width * 0.85 + dustFloat * 0.7} cy={height * 0.62}\n        rx={90} ry={16} fill={C.dustLight} opacity={0.18} />\n\n      {/* Food smoke from front row */}\n      <g opacity={0.25}>\n        <path d={`M${width * 0.08},${height * 0.66}\n          Q${width * 0.06 + smokeDrift2 * 1.5},${height * 0.6} ${width * 0.04 + smokeDrift2 * 2.5},${height * 0.52}`}\n          fill=\"none\" stroke={C.cookSmoke} strokeWidth={10} strokeLinecap=\"round\" />\n        <path d={`M${width * 0.58},${height * 0.65}\n          Q${width * 0.56 + smokeDrift1 * 1.5},${height * 0.59} ${width * 0.54 + smokeDrift1 * 2.5},${height * 0.52}`}\n          fill=\"none\" stroke={C.cookSmoke} strokeWidth={8} strokeLinecap=\"round\" />\n      </g>\n\n      {/* Incense smoke wisps */}\n      <g opacity={0.15}>\n        <path d={`M${width * 0.45},${height * 0.5}\n          Q${width * 0.44 + smokeDrift3},${height * 0.44} ${width * 0.43 + smokeDrift3 * 2},${height * 0.38}`}\n          fill=\"none\" stroke={C.incenseGray} strokeWidth={3} strokeLinecap=\"round\" />\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 8B: ADDITIONAL MARKET ELEMENTS */}\n      {/* ============================================================ */}\n\n      {/* Large pottery display (between stall rows) */}\n      <g transform={`translate(${width * 0.4}, ${height * 0.62})`}>\n        {/* Large olla (water jar) */}\n        <path d=\"M-10,0 Q-14,-8 -12,-16 Q-8,-22 0,-24 Q8,-22 12,-16 Q14,-8 10,0 Z\"\n          fill={C.pottery} stroke={C.outline} strokeWidth={0.6} />\n        <ellipse cx={0} cy={-24} rx={6} ry={3} fill={C.potteryDark} stroke={C.outline} strokeWidth={0.4} />\n        {/* Decorative bands */}\n        <line x1={-12} y1={-12} x2={12} y2={-12} stroke={C.potteryRed} strokeWidth={1} opacity={0.5} />\n        <line x1={-11} y1={-8} x2={11} y2={-8} stroke={C.gold} strokeWidth={0.6} opacity={0.4} />\n        {/* Painted motif (step fret) */}\n        <path d=\"M-6,-14 L-4,-14 L-4,-16 L-2,-16 L-2,-14 L0,-14 L0,-16 L2,-16 L2,-14 L4,-14\"\n          fill=\"none\" stroke={C.potteryRed} strokeWidth={0.5} opacity={0.4} />\n        {/* Smaller pots nearby */}\n        <g transform=\"translate(18, 2)\">\n          <path d=\"M-4,0 Q-5,-3 -4,-6 Q-2,-8 0,-8 Q2,-8 4,-6 Q5,-3 4,0 Z\"\n            fill={C.potteryRed} stroke={C.outline} strokeWidth={0.4} />\n          <ellipse cx={0} cy={-8} rx={2.5} ry={1.2} fill={C.potteryDark} stroke={C.outline} strokeWidth={0.3} />\n        </g>\n        <g transform=\"translate(-16, 3)\">\n          <path d=\"M-3,0 Q-4,-2 -3,-5 Q-1,-6 0,-6 Q1,-6 3,-5 Q4,-2 3,0 Z\"\n            fill={C.pottery} stroke={C.outline} strokeWidth={0.3} />\n          <ellipse cx={0} cy={-6} rx={2} ry={1} fill={C.potteryDark} stroke={C.outline} strokeWidth={0.2} />\n        </g>\n      </g>\n\n      {/* Basket displays on ground */}\n      {[\n        { x: width * 0.15, y: height * 0.63 },\n        { x: width * 0.5, y: height * 0.61 },\n        { x: width * 0.82, y: height * 0.62 },\n      ].map((basket, i) => (\n        <g key={`basket-${i}`} transform={`translate(${basket.x}, ${basket.y})`}>\n          {/* Woven basket */}\n          <path d=\"M-8,0 Q-10,-4 -8,-8 L8,-8 Q10,-4 8,0 Z\"\n            fill={C.stallRope} stroke={C.stallWoodDark} strokeWidth={0.5} />\n          {/* Weave pattern */}\n          {Array.from({ length: 4 }, (_, j) => (\n            <line key={`bw-${j}`} x1={-7 + j * 4} y1={-7} x2={-7 + j * 4} y2={-1}\n              stroke={C.stallWoodDark} strokeWidth={0.3} opacity={0.3} />\n          ))}\n          {/* Contents */}\n          {i === 0 && (\n            // Avocados\n            <g>\n              {Array.from({ length: 5 }, (_, j) => (\n                <ellipse key={`avo-${j}`}\n                  cx={-5 + j * 3} cy={-10 - (j % 2)}\n                  rx={2} ry={2.5}\n                  fill={C.avocadoGreen} stroke={C.outline} strokeWidth={0.2} opacity={0.5} />\n              ))}\n            </g>\n          )}\n          {i === 1 && (\n            // Beans\n            <g>\n              {Array.from({ length: 8 }, (_, j) => (\n                <ellipse key={`bean-${j}`}\n                  cx={-5 + (j % 4) * 3} cy={-10 - Math.floor(j / 4) * 2}\n                  rx={1.5} ry={1}\n                  fill={C.beanBrown} opacity={0.4} />\n              ))}\n            </g>\n          )}\n          {i === 2 && (\n            // Squash\n            <g>\n              {Array.from({ length: 3 }, (_, j) => (\n                <ellipse key={`sq-${j}`}\n                  cx={-4 + j * 4} cy={-10}\n                  rx={3} ry={2.5}\n                  fill={j % 2 === 0 ? C.squashOrange : C.squashGreen}\n                  stroke={C.outline} strokeWidth={0.2} opacity={0.5} />\n              ))}\n            </g>\n          )}\n        </g>\n      ))}\n\n      {/* Cotton bale stacks (textile section) */}\n      <g transform={`translate(${width * 0.22}, ${height * 0.58})`}>\n        {Array.from({ length: 3 }, (_, row) => (\n          Array.from({ length: 4 - row }, (_, col) => (\n            <rect key={`bale-${row}-${col}`}\n              x={col * 12 + row * 6 - 20} y={-row * 8 - 4}\n              width={10} height={7} rx={1}\n              fill={[C.cotton, C.cottonBlue, C.awningCream, C.textileWhite][(row + col) % 4]}\n              stroke={C.outline} strokeWidth={0.3} opacity={0.5} />\n          ))\n        ))}\n      </g>\n\n      {/* Live animal area - more turkeys, dogs */}\n      <g transform={`translate(${width * 0.38}, ${height * 0.64})`}>\n        {/* Wooden pen */}\n        <rect x={-20} y={-3} width={40} height={6} rx={1}\n          fill=\"none\" stroke={C.stallWoodDark} strokeWidth={1} opacity={0.3} />\n        {/* Turkey inside */}\n        <Turkey x={-8} y={0} peck={turkeyPeck * 0.7} />\n        <Turkey x={8} y={0} peck={turkeyPeck * 1.2} flip={true} />\n      </g>\n\n      {/* Hanging dried herbs and chilis from stall beams */}\n      {[width * 0.08, width * 0.32, width * 0.62, width * 0.86].map((hx, i) => (\n        <g key={`hang-${i}`} transform={`translate(${hx}, ${height * 0.42})`}>\n          {/* String of chilis */}\n          <line x1={0} y1={0} x2={0} y2={15} stroke={C.stallRope} strokeWidth={0.5} />\n          {Array.from({ length: 5 }, (_, j) => (\n            <path key={`hc-${j}`}\n              d={`M${-1 + (j % 2) * 2},${3 + j * 3} Q${-2 + (j % 2) * 4},${5 + j * 3} ${-1 + (j % 2) * 2},${6 + j * 3}`}\n              fill={j % 2 === 0 ? C.chiliRed : C.chiliGreen} opacity={0.5} />\n          ))}\n        </g>\n      ))}\n\n      {/* Flower garlands at stalls */}\n      {[width * 0.12, width * 0.42, width * 0.75].map((fx, i) => (\n        <g key={`garland-${i}`}>\n          <path d={`M${fx},${height * 0.4} Q${fx + 30},${height * 0.42 + awningFlap1} ${fx + 60},${height * 0.4}`}\n            fill=\"none\" stroke={C.maizeGreen} strokeWidth={1.5} opacity={0.3} />\n          {Array.from({ length: 5 }, (_, j) => (\n            <circle key={`gf-${j}`}\n              cx={fx + 5 + j * 12} cy={height * 0.405 + (j % 2) * 2 + awningFlap1 * 0.5}\n              r={2} fill={j % 2 === 0 ? C.maizeGold : C.tomatoRed} opacity={0.3} />\n          ))}\n        </g>\n      ))}\n\n      {/* Merchant with scale (weighing goods) */}\n      <g transform={`translate(${width * 0.55}, ${height * 0.58})`}>\n        {/* Figure */}\n        <ellipse cx={0} cy={3} rx={6} ry={2} fill=\"rgba(0,0,0,0.1)\" />\n        <line x1={0} y1={0} x2={0} y2={-14} stroke={C.skin} strokeWidth={3} strokeLinecap=\"round\" />\n        <circle cx={0} cy={-17} r={3} fill={C.skin} stroke={C.outline} strokeWidth={0.4} />\n        <rect x={-3} y={-12} width={6} height={8} rx={1}\n          fill={C.cottonBlue} stroke={C.outline} strokeWidth={0.3} />\n        {/* Arms holding balance scale */}\n        <line x1={0} y1={-10} x2={-10} y2={-12} stroke={C.skinDark} strokeWidth={2} strokeLinecap=\"round\" />\n        <line x1={0} y1={-10} x2={10} y2={-12} stroke={C.skin} strokeWidth={2} strokeLinecap=\"round\" />\n        {/* Balance beam */}\n        <line x1={-12} y1={-12} x2={12} y2={-12} stroke={C.stallWoodDark} strokeWidth={1} />\n        {/* Scale pans */}\n        <path d=\"M-14,-12 L-16,-8 L-8,-8 L-10,-12\" fill=\"none\" stroke={C.copper} strokeWidth={0.5} />\n        <path d=\"M10,-12 L8,-8 L16,-8 L14,-12\" fill=\"none\" stroke={C.copper} strokeWidth={0.5} />\n        {/* Goods on pans */}\n        <circle cx={-12} cy={-9} r={1.5} fill={C.cacaoBean} opacity={0.5} />\n        <circle cx={12} cy={-9} r={1.5} fill={C.jadeGreen} opacity={0.5} />\n      </g>\n\n      {/* Water seller with clay jars */}\n      <g transform={`translate(${width * 0.92}, ${height * 0.6})`}>\n        <ellipse cx={0} cy={3} rx={8} ry={2} fill=\"rgba(0,0,0,0.08)\" />\n        <line x1={0} y1={0} x2={0} y2={-12} stroke={C.skin} strokeWidth={3} strokeLinecap=\"round\" />\n        <circle cx={0} cy={-15} r={2.5} fill={C.skin} stroke={C.outline} strokeWidth={0.4} />\n        <rect x={-3} y={-10} width={6} height={7} rx={1} fill={C.cotton} stroke={C.outline} strokeWidth={0.3} />\n        {/* Yoke with jars */}\n        <line x1={-14} y1={-10} x2={14} y2={-10} stroke={C.stallWood} strokeWidth={1.5} />\n        <g transform=\"translate(-12, -6)\">\n          <path d=\"M-3,0 Q-4,-3 -3,-6 Q0,-8 3,-6 Q4,-3 3,0 Z\"\n            fill={C.pottery} stroke={C.outline} strokeWidth={0.3} />\n        </g>\n        <g transform=\"translate(12, -6)\">\n          <path d=\"M-3,0 Q-4,-3 -3,-6 Q0,-8 3,-6 Q4,-3 3,0 Z\"\n            fill={C.pottery} stroke={C.outline} strokeWidth={0.3} />\n        </g>\n      </g>\n\n      {/* Slave market area marker (wooden posts with rope) */}\n      <g transform={`translate(${width * 0.88}, ${height * 0.55})`} opacity={0.3}>\n        <line x1={0} y1={0} x2={0} y2={-30} stroke={C.stallPost} strokeWidth={3} />\n        <line x1={30} y1={0} x2={30} y2={-30} stroke={C.stallPost} strokeWidth={3} />\n        <path d=\"M0,-25 Q15,-22 30,-25\" fill=\"none\" stroke={C.stallRope} strokeWidth={1.5} />\n        <path d=\"M0,-20 Q15,-17 30,-20\" fill=\"none\" stroke={C.stallRope} strokeWidth={1.5} />\n      </g>\n\n      {/* Obsidian workshop (craftsman knapping) */}\n      <g transform={`translate(${width * 0.68}, ${height * 0.58})`}>\n        <ellipse cx={0} cy={3} rx={8} ry={2.5} fill=\"rgba(0,0,0,0.08)\" />\n        {/* Seated figure */}\n        <path d=\"M-3,0 L-5,3 L5,3 L3,0 Z\" fill={C.skin} stroke={C.outline} strokeWidth={0.3} />\n        <line x1={0} y1={0} x2={0} y2={-10} stroke={C.skin} strokeWidth={3} strokeLinecap=\"round\" />\n        <circle cx={0} cy={-13} r={2.5} fill={C.skin} stroke={C.outline} strokeWidth={0.4} />\n        <rect x={-3} y={-9} width={6} height={6} rx={1} fill={C.cotton} stroke={C.outline} strokeWidth={0.2} />\n        {/* Working hands with obsidian */}\n        <line x1={0} y1={-6} x2={6} y2={-4} stroke={C.skinDark} strokeWidth={1.5} strokeLinecap=\"round\" />\n        <path d=\"M5,-5 L7,-10 L9,-5 Z\" fill={C.obsidian} stroke={C.obsidianShine} strokeWidth={0.3} />\n        {/* Obsidian shards on ground */}\n        {Array.from({ length: 5 }, (_, i) => (\n          <path key={`shard-${i}`}\n            d={`M${-6 + i * 4},2 L${-5 + i * 4},-1 L${-4 + i * 4},2 Z`}\n            fill={C.obsidian} opacity={0.3} />\n        ))}\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 9: FOREGROUND DETAILS */}\n      {/* ============================================================ */}\n\n      {/* Spilled goods on ground */}\n      {Array.from({ length: 8 }, (_, i) => {\n        const sx = 100 + (i * 239) % (width - 200);\n        const sy = height * 0.72 + (i * 31) % (height * 0.1);\n        return i % 2 === 0 ? (\n          <ellipse key={`spill-${i}`} cx={sx} cy={sy} rx={2} ry={1.2}\n            fill={C.cacaoBean} opacity={0.2} />\n        ) : (\n          <circle key={`spill-${i}`} cx={sx} cy={sy} r={1.5}\n            fill={C.tomatoRed} opacity={0.15} />\n        );\n      })}\n\n      {/* Footprints / worn pavement areas */}\n      {Array.from({ length: 6 }, (_, i) => (\n        <ellipse key={`foot-${i}`}\n          cx={200 + (i * 287) % (width - 400)}\n          cy={height * 0.65 + (i * 53) % (height * 0.15)}\n          rx={20} ry={8}\n          fill={C.paveDark} opacity={0.06} />\n      ))}\n\n      {/* Shadows from awnings on ground */}\n      {[0.05, 0.18, 0.35, 0.55, 0.72, 0.88].map((sx, i) => (\n        <rect key={`awshad-${i}`}\n          x={width * sx} y={height * 0.7}\n          width={i % 2 === 0 ? 110 : 100} height={30}\n          fill=\"rgba(0,0,0,0.06)\" />\n      ))}\n\n      {/* Scattered flower petals (marigold/cempaschil) */}\n      {Array.from({ length: 10 }, (_, i) => (\n        <circle key={`petal-${i}`}\n          cx={60 + (i * 197) % (width - 120)}\n          cy={height * 0.6 + (i * 41) % (height * 0.2)}\n          r={1.2}\n          fill={i % 3 === 0 ? C.maizeGold : i % 3 === 1 ? C.tomatoRed : C.featherGold}\n          opacity={0.2} />\n      ))}\n\n      {/* Foreground large pottery (broken and whole) */}\n      <g transform={`translate(${width * 0.05}, ${height * 0.88})`}>\n        <path d=\"M-12,0 Q-16,-8 -14,-18 Q-8,-24 0,-24 Q8,-24 14,-18 Q16,-8 12,0 Z\"\n          fill={C.pottery} stroke={C.outline} strokeWidth={0.6} />\n        <ellipse cx={0} cy={-24} rx={8} ry={3} fill={C.potteryDark} stroke={C.outline} strokeWidth={0.4} />\n        <line x1={-12} y1={-12} x2={12} y2={-12} stroke={C.potteryRed} strokeWidth={1.2} opacity={0.4} />\n        <path d=\"M-8,-15 L-6,-15 L-6,-17 L-4,-17 L-4,-15 L-2,-15\"\n          fill=\"none\" stroke={C.potteryRed} strokeWidth={0.5} opacity={0.3} />\n      </g>\n      <g transform={`translate(${width * 0.95}, ${height * 0.9})`}>\n        {/* Broken pot shard */}\n        <path d=\"M-8,0 Q-10,-5 -6,-10 Q-2,-8 2,-10 L4,-4 L2,0 Z\"\n          fill={C.pottery} stroke={C.outline} strokeWidth={0.4} opacity={0.5} />\n        <path d=\"M6,-2 Q8,-6 4,-8 L6,-4 Z\"\n          fill={C.potteryDark} opacity={0.3} />\n      </g>\n\n      {/* Foreground cacao sack (spilling beans) */}\n      <g transform={`translate(${width * 0.15}, ${height * 0.9})`}>\n        <path d=\"M-10,0 Q-12,-8 -8,-14 L8,-14 Q12,-8 10,0 Z\"\n          fill={C.cotton} stroke={C.stallWoodDark} strokeWidth={0.5} opacity={0.5} />\n        <line x1={-4} y1={-14} x2={-2} y2={-18} stroke={C.stallRope} strokeWidth={1} />\n        <line x1={4} y1={-14} x2={2} y2={-18} stroke={C.stallRope} strokeWidth={1} />\n        {/* Spilled beans */}\n        {Array.from({ length: 8 }, (_, i) => (\n          <ellipse key={`sb-${i}`}\n            cx={12 + i * 3 + (i % 2) * 2} cy={-2 + (i % 3) * 2}\n            rx={1.5} ry={1} fill={C.cacaoBean} opacity={0.4}\n            transform={`rotate(${(i * 25) % 60}, ${12 + i * 3}, 0)`} />\n        ))}\n      </g>\n\n      {/* Large feather headdress on display stand (foreground) */}\n      <g transform={`translate(${width * 0.78}, ${height * 0.85})`}>\n        {/* Display stand */}\n        <line x1={0} y1={0} x2={0} y2={-30} stroke={C.stallPost} strokeWidth={2} />\n        <rect x={-8} y={0} width={16} height={3} rx={1} fill={C.stallWood} />\n        {/* Headdress base */}\n        <rect x={-6} y={-32} width={12} height={4} rx={1} fill={C.gold} stroke={C.outline} strokeWidth={0.4} />\n        <rect x={-5} y={-31} width={3} height={2} rx={0.5} fill={C.turquoise} />\n        <rect x={-1} y={-31} width={3} height={2} rx={0.5} fill={C.jadeGreen} />\n        <rect x={3} y={-31} width={2} height={2} rx={0.5} fill={C.turquoise} />\n        {/* Tall quetzal feathers */}\n        {[-4, -2, 0, 2, 4].map((dx, i) => (\n          <line key={`hdf-${i}`}\n            x1={dx} y1={-32}\n            x2={dx * 2 + flagSway * 0.3} y2={-55 - Math.abs(dx) * 3}\n            stroke={i === 2 ? C.quetzalGreen : i % 2 === 0 ? C.featherGreen : C.featherRed}\n            strokeWidth={2} strokeLinecap=\"round\" />\n        ))}\n        {/* Gold tips */}\n        {[-4, -2, 0, 2, 4].map((dx, i) => (\n          <circle key={`hdt-${i}`}\n            cx={dx * 2 + flagSway * 0.3} cy={-56 - Math.abs(dx) * 3}\n            r={1.5} fill={C.goldLight} />\n        ))}\n      </g>\n\n      {/* Foreground stone bench (market seating) */}\n      <g transform={`translate(${width * 0.5}, ${height * 0.88})`}>\n        <rect x={-25} y={-6} width={50} height={6} rx={2}\n          fill={C.paveMid} stroke={C.paveJoint} strokeWidth={0.5} />\n        <rect x={-22} y={0} width={8} height={6} rx={1}\n          fill={C.paveDark} stroke={C.paveJoint} strokeWidth={0.3} />\n        <rect x={14} y={0} width={8} height={6} rx={1}\n          fill={C.paveDark} stroke={C.paveJoint} strokeWidth={0.3} />\n        {/* Stone texture */}\n        <line x1={-20} y1={-3} x2={20} y2={-3} stroke={C.paveJoint} strokeWidth={0.3} opacity={0.2} />\n      </g>\n\n      {/* Torch stands (for evening market or atmosphere) */}\n      {[width * 0.1, width * 0.35, width * 0.65, width * 0.9].map((tx, i) => (\n        <g key={`torch-${i}`} transform={`translate(${tx}, ${height * 0.5})`}>\n          <line x1={0} y1={0} x2={0} y2={-35} stroke={C.stallPost} strokeWidth={2.5} />\n          {/* Torch bowl */}\n          <path d=\"M-5,-35 Q-6,-38 -4,-40 L4,-40 Q6,-38 5,-35 Z\"\n            fill={C.potteryDark} stroke={C.outline} strokeWidth={0.4} />\n          {/* Small flame */}\n          <g opacity={0.4 + fireFlicker * 0.3}>\n            <path d={`M-2,-40 Q-3,${-44 - fireFlicker * 3} 0,${-48 - fireFlicker * 5}\n              Q3,${-44 - fireFlicker * 3} 2,-40`}\n              fill=\"#E08030\" opacity={0.6} />\n            <path d={`M-1,-40 Q-1,${-43 - fireFlicker * 2} 0,${-45 - fireFlicker * 3}\n              Q1,${-43 - fireFlicker * 2} 1,-40`}\n              fill=\"#FFCC60\" opacity={0.4} />\n          </g>\n          {/* Flame glow */}\n          <circle cx={0} cy={-44} r={8 + fireFlicker * 3}\n            fill=\"rgba(255,160,40,0.06)\" />\n        </g>\n      ))}\n\n      {/* Aisle perspective lines (worn paths between stalls) */}\n      <g opacity={0.08}>\n        <path d={`M${width * 0.5},${height * 0.36}\n          L${width * 0.45},${height} M${width * 0.5},${height * 0.36}\n          L${width * 0.55},${height}`}\n          fill=\"none\" stroke={C.paveWet} strokeWidth={4} />\n      </g>\n\n      {/* Small children playing between stalls */}\n      {[\n        { x: width * 0.32, y: height * 0.66 },\n        { x: width * 0.58, y: height * 0.64 },\n      ].map((child, i) => (\n        <g key={`child-${i}`} transform={`translate(${child.x}, ${child.y})`}>\n          <ellipse cx={0} cy={2} rx={3} ry={1} fill=\"rgba(0,0,0,0.06)\" />\n          <line x1={0} y1={0} x2={0} y2={-5}\n            stroke={C.skin} strokeWidth={1.5} strokeLinecap=\"round\" />\n          <circle cx={0} cy={-6.5} r={1.8}\n            fill={C.skin} stroke={C.outline} strokeWidth={0.2} />\n          <rect x={-1.5} y={-4} width={3} height={3} rx={0.5}\n            fill={C.cotton} opacity={0.5} />\n        </g>\n      ))}\n\n      {/* Shade patterns on ground from awnings (dappled light) */}\n      {Array.from({ length: 15 }, (_, i) => {\n        const sx = 50 + (i * 131) % (width - 100);\n        const sy = height * 0.5 + (i * 47) % (height * 0.25);\n        return (\n          <ellipse key={`shade-${i}`}\n            cx={sx} cy={sy}\n            rx={12 + (i % 3) * 5} ry={5 + (i % 2) * 3}\n            fill=\"rgba(0,0,0,0.04)\" />\n        );\n      })}\n\n      {/* Sunlight patches between shade (bright spots) */}\n      {Array.from({ length: 8 }, (_, i) => {\n        const lx = 100 + (i * 247) % (width - 200);\n        const ly = height * 0.55 + (i * 61) % (height * 0.2);\n        return (\n          <ellipse key={`light-${i}`}\n            cx={lx} cy={ly}\n            rx={15 + (i % 4) * 5} ry={8 + (i % 3) * 3}\n            fill=\"rgba(255,220,140,0.04)\" />\n        );\n      })}\n\n      {/* Discarded corn husks */}\n      {Array.from({ length: 6 }, (_, i) => (\n        <path key={`husk-${i}`}\n          d={`M${80 + (i * 311) % (width - 160)},${height * 0.7 + (i * 29) % (height * 0.15)}\n            Q${82 + (i * 311) % (width - 160)},${height * 0.7 + (i * 29) % (height * 0.15) - 3}\n            ${85 + (i * 311) % (width - 160)},${height * 0.7 + (i * 29) % (height * 0.15)}`}\n          fill={C.maizeGreen} opacity={0.1} />\n      ))}\n\n      {/* Dog prints on stone */}\n      {Array.from({ length: 4 }, (_, i) => (\n        <g key={`paw-${i}`} opacity={0.04}>\n          <circle cx={width * 0.6 + i * 15} cy={height * 0.65 + i * 3} r={1.5} fill={C.paveDark} />\n          <circle cx={width * 0.6 + i * 15 - 1} cy={height * 0.65 + i * 3 - 2} r={0.6} fill={C.paveDark} />\n          <circle cx={width * 0.6 + i * 15 + 1} cy={height * 0.65 + i * 3 - 2} r={0.6} fill={C.paveDark} />\n        </g>\n      ))}\n\n      {/* ============================================================ */}\n      {/* LAYER 10: WOODEN BOARD (market sign style) */}\n      {/* ============================================================ */}\n\n      <g transform={`translate(${width * 0.5 - 220}, ${height * 0.86})`}>\n        {/* Shadow */}\n        <rect x={-6} y={-6} width={452} height={112} rx={4}\n          fill=\"rgba(0,0,0,0.25)\" />\n        {/* Wooden frame */}\n        <rect x={-10} y={-10} width={460} height={120} rx={6}\n          fill={C.boardWood} stroke={C.outline} strokeWidth={2} />\n        {/* Inner surface */}\n        <rect x={0} y={0} width={440} height={100} rx={3}\n          fill={C.boardSurface} />\n        {/* Wood grain */}\n        {Array.from({ length: 8 }, (_, i) => (\n          <path key={`wg-${i}`}\n            d={`M0,${10 + i * 12} Q${100 + (i % 3) * 40},${8 + i * 12} ${220},${10 + i * 12}\n              Q${340 - (i % 3) * 30},${12 + i * 12} 440,${10 + i * 12}`}\n            fill=\"none\" stroke={C.boardWood} strokeWidth={0.5} opacity={0.15} />\n        ))}\n        {/* Aztec border */}\n        <g opacity={0.3}>\n          {Array.from({ length: 22 }, (_, i) => (\n            <path key={`abf-${i}`}\n              d={`M${i * 20 + 5},3 L${i * 20 + 10},3 L${i * 20 + 10},7 L${i * 20 + 15},7 L${i * 20 + 15},3`}\n              fill=\"none\" stroke={C.gold} strokeWidth={0.8} />\n          ))}\n        </g>\n        {/* Text */}\n        {boardText && (\n          <text x={220} y={58} textAnchor=\"middle\" fill={C.boardText}\n            fontSize={36} fontFamily=\"'Courier New', monospace\" fontWeight=\"bold\" opacity={0.9}>\n            {boardText}\n          </text>\n        )}\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 11: ATMOSPHERIC OVERLAYS */}\n      {/* ============================================================ */}\n\n      {/* Warm market atmosphere */}\n      <rect x={0} y={0} width={width} height={height}\n        fill={C.warmGlow} />\n\n      {/* Low fog near ground */}\n      <ellipse cx={width * 0.3 + mistFloat} cy={height * 0.85}\n        rx={200} ry={20} fill={C.fogNear} opacity={0.2} />\n      <ellipse cx={width * 0.7 - mistFloat} cy={height * 0.87}\n        rx={180} ry={18} fill={C.fogNear} opacity={0.15} />\n\n      {/* Vignette */}\n      <rect x={0} y={0} width={width} height={height}\n        fill=\"url(#am-vignette)\" />\n\n      {/* Bottom darkness */}\n      <linearGradient id=\"am-bottom\" x1=\"0%\" y1=\"88%\" x2=\"0%\" y2=\"100%\">\n        <stop offset=\"0%\" stopColor=\"rgba(0,0,0,0)\" />\n        <stop offset=\"100%\" stopColor=\"rgba(20,10,5,0.2)\" />\n      </linearGradient>\n      <rect x={0} y={height * 0.88} width={width} height={height * 0.12}\n        fill=\"url(#am-bottom)\" />\n\n      {/* Canvas texture */}\n      <rect x={0} y={0} width={width} height={height}\n        fill=\"url(#am-canvas)\" opacity={0.5} />\n\n      {/* Warm color grading */}\n      <rect x={0} y={0} width={width} height={height}\n        fill=\"rgba(200,160,80,0.03)\" />\n\n      {/* Side darkening */}\n      <linearGradient id=\"am-left\" x1=\"0%\" y1=\"0%\" x2=\"10%\" y2=\"0%\">\n        <stop offset=\"0%\" stopColor=\"rgba(20,10,5,0.18)\" />\n        <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0)\" />\n      </linearGradient>\n      <rect x={0} y={0} width={width * 0.12} height={height}\n        fill=\"url(#am-left)\" />\n      <linearGradient id=\"am-right\" x1=\"90%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n        <stop offset=\"0%\" stopColor=\"rgba(0,0,0,0)\" />\n        <stop offset=\"100%\" stopColor=\"rgba(20,10,5,0.18)\" />\n      </linearGradient>\n      <rect x={width * 0.88} y={0} width={width * 0.12} height={height}\n        fill=\"url(#am-right)\" />\n\n      {/* Floating dust motes in sunbeams */}\n      {Array.from({ length: 25 }, (_, i) => {\n        const dx = 80 + (i * 83) % (width - 160);\n        const dy = height * 0.35 + (i * 37) % (height * 0.3);\n        const ds = 0.4 + (i % 3) * 0.3;\n        return (\n          <circle key={`mote-${i}`}\n            cx={dx + sineWave(frame, 0.015, i * 0.7) * 3}\n            cy={dy + sineWave(frame, 0.012, i * 1.3) * 2}\n            r={ds}\n            fill=\"#FFF8E0\" opacity={0.06 + (i % 4) * 0.015} />\n        );\n      })}\n\n      {/* More cooking smoke wisps (thin, rising) */}\n      <g opacity={0.12}>\n        {[width * 0.2, width * 0.45, width * 0.7, width * 0.92].map((sx, i) => (\n          <path key={`thinsmoke-${i}`}\n            d={`M${sx},${height * 0.68}\n              Q${sx + smokeDrift1 * (i % 2 === 0 ? 1 : -1)},${height * 0.58}\n              ${sx + smokeDrift1 * 2 * (i % 2 === 0 ? 1 : -1)},${height * 0.48}`}\n            fill=\"none\" stroke={C.cookSmoke} strokeWidth={4} strokeLinecap=\"round\" />\n        ))}\n      </g>\n\n      {/* Market ambient noise visualization (subtle crowd haze) */}\n      <ellipse cx={width * 0.5} cy={height * 0.6}\n        rx={width * 0.35} ry={height * 0.1}\n        fill={C.dustLight} opacity={0.06} />\n\n      {/* Foreground stone detail (large paving stones) */}\n      {Array.from({ length: 6 }, (_, i) => (\n        <g key={`fstone-${i}`}>\n          <rect x={width * 0.02 + i * (width * 0.16)}\n            y={height * 0.92}\n            width={width * 0.14} height={height * 0.06}\n            fill={C.paveMid} stroke={C.paveJoint} strokeWidth={0.5} opacity={0.2} rx={1} />\n          <line x1={width * 0.09 + i * (width * 0.16)}\n            y1={height * 0.92}\n            x2={width * 0.09 + i * (width * 0.16)}\n            y2={height * 0.98}\n            stroke={C.paveJoint} strokeWidth={0.3} opacity={0.15} />\n        </g>\n      ))}\n\n      {/* Subtle warm glow patches (from torches) */}\n      {[width * 0.1, width * 0.35, width * 0.65, width * 0.9].map((gx, i) => (\n        <circle key={`tglow-${i}`}\n          cx={gx} cy={height * 0.5}\n          r={40 + fireFlicker * 10}\n          fill=\"rgba(255,160,40,0.02)\" />\n      ))}\n\n      {/* Tiny birds pecking at spilled grain */}\n      {Array.from({ length: 4 }, (_, i) => {\n        const bx = width * 0.25 + i * width * 0.15;\n        const by = height * 0.72 + (i % 2) * 5;\n        const peckCycle = sineWave(frame, 0.2, i * 2);\n        return (\n          <g key={`gbird-${i}`} transform={`translate(${bx}, ${by})`}>\n            <ellipse cx={0} cy={0} rx={2} ry={1.5}\n              fill=\"#5A4A30\" opacity={0.3} />\n            <circle cx={-1.5} cy={-1 - Math.max(0, peckCycle) * 1.5} r={1}\n              fill=\"#5A4A30\" opacity={0.3} />\n            <line x1={-2.5} y1={-1 - Math.max(0, peckCycle) * 1.5}\n              x2={-3.5} y2={-0.5 - Math.max(0, peckCycle)}\n              stroke=\"#8A6A30\" strokeWidth={0.4} opacity={0.3} />\n          </g>\n        );\n      })}\n\n      {/* Ambient warmth from market activity */}\n      <rect x={0} y={height * 0.35} width={width} height={height * 0.65}\n        fill=\"url(#am-ambient)\" />\n\n      {/* Ground shadow */}\n      <rect x={0} y={height * 0.35} width={width} height={height * 0.65}\n        fill=\"url(#am-ground-shadow)\" />\n\n      {/* Dust particle overlay */}\n      <rect x={0} y={height * 0.35} width={width} height={height * 0.5}\n        fill=\"url(#am-dust)\" />\n\n      {/* Film grain */}\n      <g opacity={0.02}>\n        {Array.from({ length: 20 }, (_, i) => (\n          <rect key={`g-${i}`}\n            x={(i * 107) % width} y={(i * 59) % height}\n            width={1.5} height={1.5}\n            fill={i % 2 === 0 ? '#FFF' : '#000'} />\n        ))}\n      </g>\n    </svg>\n  );\n};\n\nexport default AztecMarket;\n","// AztecSacrifice.tsx  Templo Mayor sacrifice ceremony at the Great Temple\n// Oil-painting quality: Caravaggio chiaroscuro, dramatic torchlight, towering pyramid\n// Deep shadows with pools of golden firelight, sacred ritual atmosphere\n\nimport React from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { sineWave } from '../animations/easing';\nimport { AztecCrowdLayer, AZTEC_CROWD_CONFIGS } from '../crowds/AztecCrowd';\n\n// ---- Color palette: 100+ named colors for oil painting depth ----\nconst C = {\n  // Night sky\n  skyTop: '#06040A',\n  skyMid: '#0E0818',\n  skyLow: '#1A0E28',\n  skyHorizon: '#2A1838',\n  skyGlow: 'rgba(200,100,30,0.12)',\n  starWhite: '#E8E0D0',\n  starYellow: '#F0D880',\n  starDim: 'rgba(200,190,170,0.4)',\n  // Moon\n  moonFace: '#E8DCC0',\n  moonShadow: '#C8B898',\n  moonGlow: 'rgba(220,210,180,0.15)',\n  moonCrater: '#B8A880',\n  // Distant city silhouette\n  cityDark: '#0A0610',\n  cityMid: '#1A1020',\n  cityLight: '#2A1830',\n  cityWindow: 'rgba(220,160,60,0.5)',\n  cityTorch: 'rgba(255,140,40,0.3)',\n  // Templo Mayor pyramid\n  pyramidBase: '#4A3828',\n  pyramidMid: '#5A4832',\n  pyramidLight: '#6A583C',\n  pyramidDark: '#2A1A10',\n  pyramidShadow: '#1A0E08',\n  pyramidHighlight: '#7A6848',\n  pyramidEdge: '#3A2818',\n  stairStone: '#5A4A38',\n  stairShadow: '#3A2A1A',\n  stairHighlight: '#7A6A52',\n  stairCenter: '#6A5A42',\n  // Temple shrines (top)\n  shrineRed: '#8A2020',\n  shrineRedDark: '#5A1010',\n  shrineRedLight: '#B03030',\n  shrineBlue: '#1A3A6A',\n  shrineBlueDark: '#0A1A3A',\n  shrineBlueLight: '#2A4A8A',\n  shrineRoof: '#3A2A1A',\n  shrineRoofEdge: '#5A4A30',\n  // Sacrificial stone (techcatl)\n  altarStone: '#6A5A48',\n  altarDark: '#3A2A1A',\n  altarLight: '#8A7A60',\n  altarBlood: '#5A0808',\n  altarBloodWet: '#8A1010',\n  altarBloodDrip: '#6A0A0A',\n  altarCarving: '#4A3A28',\n  // Fire & torches\n  fireDark: '#8A2010',\n  fireMid: '#D06020',\n  fireLight: '#F0A030',\n  fireBright: '#FFD060',\n  fireWhite: '#FFF0C0',\n  fireGlow: 'rgba(255,140,40,0.35)',\n  fireGlowWide: 'rgba(255,120,30,0.12)',\n  torchWood: '#5A3818',\n  torchWoodDark: '#3A2010',\n  torchBase: '#4A2A10',\n  emberRed: '#C04020',\n  emberOrange: '#E08030',\n  emberYellow: '#FFC040',\n  sparkWhite: '#FFF8E0',\n  // Incense & smoke\n  smokeDark: 'rgba(20,15,10,0.5)',\n  smokeMid: 'rgba(60,45,30,0.35)',\n  smokeLight: 'rgba(120,100,70,0.2)',\n  smokeWhite: 'rgba(200,190,170,0.15)',\n  incenseBlue: 'rgba(80,100,140,0.2)',\n  incenseGray: 'rgba(160,150,140,0.25)',\n  copalSmoke: 'rgba(140,120,80,0.18)',\n  // Blood channel\n  bloodDark: '#3A0808',\n  bloodMid: '#6A1010',\n  bloodLight: '#8A2020',\n  bloodGlisten: 'rgba(180,40,40,0.5)',\n  bloodDried: '#3A1818',\n  // Priests\n  priestBlack: '#1A1A1A',\n  priestRobe: '#2A1A1A',\n  priestSkin: '#8A6A42',\n  priestPaint: '#1A1A2A',\n  priestPaintRed: '#8A1818',\n  priestJade: '#2A7A4A',\n  // Decorations\n  skullWhite: '#E0D8C8',\n  skullShadow: '#A8A090',\n  skullEye: '#1A1010',\n  bannerRed: '#8A2020',\n  bannerGold: '#C8A030',\n  bannerBlue: '#1A2A5A',\n  bannerGreen: '#1A5A2A',\n  featherGreen: '#1A6A3A',\n  featherRed: '#A02020',\n  featherBlue: '#1A3080',\n  featherGold: '#D0A020',\n  jadeGreen: '#2A8A4A',\n  jadeDark: '#1A5A30',\n  turquoise: '#30A0A0',\n  turquoiseDark: '#1A6A6A',\n  goldBright: '#E0B830',\n  goldDark: '#8A7020',\n  obsidian: '#2A2A3A',\n  obsidianShine: '#4A4A6A',\n  // Ground / plaza\n  plazaStone: '#4A3A2A',\n  plazaDark: '#2A1A0A',\n  plazaLight: '#5A4A38',\n  plazaGap: '#1A1008',\n  plazaBlood: '#3A1010',\n  // Serpent heads\n  serpentStone: '#6A5A48',\n  serpentDark: '#3A2A1A',\n  serpentEye: '#C8A020',\n  serpentTongue: '#8A2020',\n  serpentTooth: '#D8D0C0',\n  // Tzompantli (skull rack)\n  rackWood: '#5A3818',\n  rackWoodDark: '#3A2010',\n  rackRope: '#8A7858',\n  // Atmospheric\n  vignetteBlack: 'rgba(0,0,0,0.7)',\n  vignetteEdge: 'rgba(0,0,0,0.9)',\n  fogDark: 'rgba(20,10,5,0.3)',\n  fogLight: 'rgba(60,40,20,0.15)',\n  godRay: 'rgba(255,180,80,0.06)',\n  boardBg: '#2A1A0A',\n  boardEdge: '#5A4A30',\n  boardText: '#E8D8B8',\n  boardShadow: 'rgba(0,0,0,0.5)',\n};\n\n// ---- Types ----\ninterface AztecSacrificeProps {\n  boardText?: string;\n  width?: number;\n  height?: number;\n}\n\n// ---- Sub-components ----\n\n/** Single torch with animated flame */\nconst Torch: React.FC<{\n  x: number; y: number; scale?: number; frame: number; seed?: number;\n}> = ({ x, y, scale = 1, frame, seed = 0 }) => {\n  const flicker1 = sineWave(frame, 3.2, seed);\n  const flicker2 = sineWave(frame, 5.7, seed + 1.5);\n  const flicker3 = sineWave(frame, 8.1, seed + 3.0);\n  const sway = sineWave(frame, 1.1, seed + 0.5) * 2;\n  const intensity = 0.8 + flicker1 * 0.1 + flicker2 * 0.1;\n\n  return (\n    <g transform={`translate(${x},${y}) scale(${scale})`}>\n      {/* Torch bracket / mount */}\n      <rect x={-4} y={0} width={8} height={50} rx={2} fill={C.torchWood} stroke={C.torchWoodDark} strokeWidth={0.5} />\n      <rect x={-6} y={45} width={12} height={8} rx={1} fill={C.torchWoodDark} />\n      {/* Cloth wrap */}\n      <rect x={-5} y={-5} width={10} height={15} rx={2} fill={C.bannerRed} opacity={0.8} />\n      {/* Fire glow (wide) */}\n      <ellipse cx={0 + sway * 0.5} cy={-25} rx={40 * intensity} ry={50 * intensity} fill={C.fireGlowWide} />\n      <ellipse cx={0 + sway * 0.3} cy={-20} rx={25 * intensity} ry={35 * intensity} fill={C.fireGlow} />\n      {/* Fire layers */}\n      <ellipse cx={0 + sway} cy={-18 + flicker2 * 2} rx={8 + flicker1 * 2} ry={20 + flicker2 * 3} fill={C.fireDark} opacity={0.9} />\n      <ellipse cx={sway * 0.7} cy={-22 + flicker1 * 2} rx={6 + flicker2 * 1.5} ry={16 + flicker1 * 2} fill={C.fireMid} />\n      <ellipse cx={sway * 0.4} cy={-25 + flicker3 * 1.5} rx={4 + flicker1} ry={12 + flicker3 * 2} fill={C.fireLight} />\n      <ellipse cx={sway * 0.2} cy={-27 + flicker2} rx={2.5 + flicker3 * 0.8} ry={8 + flicker1 * 1.5} fill={C.fireBright} />\n      <ellipse cx={0} cy={-28 + flicker1} rx={1.5} ry={5 + flicker2} fill={C.fireWhite} opacity={0.7} />\n      {/* Sparks */}\n      {[0, 1, 2, 3, 4].map(i => {\n        const sparkPhase = seed + i * 1.7;\n        const sparkY = -35 - ((frame * 0.8 + i * 30 + seed * 10) % 50);\n        const sparkX = sineWave(frame, 2 + i * 0.5, sparkPhase) * (6 + i * 2);\n        const sparkOp = Math.max(0, 1 - ((frame * 0.8 + i * 30 + seed * 10) % 50) / 50);\n        return (\n          <circle key={i} cx={sparkX + sway} cy={sparkY} r={0.8 + Math.random() * 0.4} fill={i % 2 === 0 ? C.emberYellow : C.emberOrange} opacity={sparkOp * 0.8} />\n        );\n      })}\n    </g>\n  );\n};\n\n/** Serpent head carved in stone */\nconst SerpentHead: React.FC<{\n  x: number; y: number; scale?: number; flip?: boolean;\n}> = ({ x, y, scale = 1, flip = false }) => (\n  <g transform={`translate(${x},${y}) scale(${flip ? -scale : scale},${scale})`}>\n    {/* Head base */}\n    <path d=\"M0,0 Q15,-5 25,-2 Q35,2 38,10 Q40,18 35,22 Q25,28 10,25 Q0,22 -5,15 Q-8,8 0,0Z\" fill={C.serpentStone} stroke={C.serpentDark} strokeWidth={0.8} />\n    {/* Jaw */}\n    <path d=\"M25,15 Q35,18 38,22 Q36,28 28,30 Q20,28 18,22Z\" fill={C.serpentDark} />\n    {/* Eye */}\n    <circle cx={18} cy={8} r={4} fill={C.serpentEye} />\n    <circle cx={18} cy={8} r={2} fill={C.obsidian} />\n    <circle cx={19} cy={7} r={0.8} fill={C.goldBright} opacity={0.6} />\n    {/* Fangs */}\n    <path d=\"M30,18 L32,25 L28,20Z\" fill={C.serpentTooth} />\n    <path d=\"M24,20 L25,27 L22,22Z\" fill={C.serpentTooth} />\n    {/* Tongue */}\n    <path d=\"M35,22 Q42,24 48,20 Q45,26 38,25\" fill={C.serpentTongue} strokeWidth={0.5} stroke={C.bloodDark} />\n    {/* Nostril */}\n    <circle cx={30} cy={6} r={1.5} fill={C.serpentDark} />\n    {/* Scale texture lines */}\n    <path d=\"M5,8 Q10,5 15,7\" fill=\"none\" stroke={C.serpentDark} strokeWidth={0.4} opacity={0.5} />\n    <path d=\"M8,14 Q13,11 18,13\" fill=\"none\" stroke={C.serpentDark} strokeWidth={0.4} opacity={0.5} />\n    <path d=\"M3,18 Q8,16 12,18\" fill=\"none\" stroke={C.serpentDark} strokeWidth={0.4} opacity={0.5} />\n    {/* Feather crest */}\n    <path d=\"M0,0 Q-5,-8 2,-15 Q5,-10 8,-18 Q8,-8 12,-14 Q10,-5 15,-8 Q12,0 18,-3\" fill={C.featherGreen} opacity={0.7} stroke={C.serpentDark} strokeWidth={0.3} />\n  </g>\n);\n\n/** Single skull for tzompantli */\nconst Skull: React.FC<{ x: number; y: number; scale?: number; rot?: number }> = ({ x, y, scale = 1, rot = 0 }) => (\n  <g transform={`translate(${x},${y}) rotate(${rot}) scale(${scale})`}>\n    <ellipse cx={0} cy={0} rx={6} ry={7} fill={C.skullWhite} stroke={C.skullShadow} strokeWidth={0.5} />\n    <ellipse cx={0} cy={-1} rx={5.5} ry={6} fill={C.skullWhite} />\n    {/* Eye sockets */}\n    <ellipse cx={-2.2} cy={-1} rx={1.8} ry={2} fill={C.skullEye} />\n    <ellipse cx={2.2} cy={-1} rx={1.8} ry={2} fill={C.skullEye} />\n    {/* Nose */}\n    <path d=\"M-0.8,1.5 L0,3 L0.8,1.5\" fill=\"none\" stroke={C.skullEye} strokeWidth={0.5} />\n    {/* Teeth */}\n    <rect x={-3} y={4} width={6} height={2} rx={0.5} fill={C.skullWhite} stroke={C.skullShadow} strokeWidth={0.3} />\n    <line x1={-1.5} y1={4} x2={-1.5} y2={6} stroke={C.skullShadow} strokeWidth={0.3} />\n    <line x1={0} y1={4} x2={0} y2={6} stroke={C.skullShadow} strokeWidth={0.3} />\n    <line x1={1.5} y1={4} x2={1.5} y2={6} stroke={C.skullShadow} strokeWidth={0.3} />\n    {/* Temple hollows */}\n    <ellipse cx={-4.5} cy={0} rx={1} ry={2} fill={C.skullShadow} opacity={0.3} />\n    <ellipse cx={4.5} cy={0} rx={1} ry={2} fill={C.skullShadow} opacity={0.3} />\n  </g>\n);\n\n/** Tzompantli skull rack */\nconst SkullRack: React.FC<{\n  x: number; y: number; width?: number; rows?: number; frame: number;\n}> = ({ x, y, width = 200, rows = 4, frame }) => {\n  const cols = Math.floor(width / 16);\n  return (\n    <g transform={`translate(${x},${y})`}>\n      {/* Vertical posts */}\n      <rect x={0} y={0} width={6} height={rows * 18 + 10} rx={1} fill={C.rackWood} stroke={C.rackWoodDark} strokeWidth={0.8} />\n      <rect x={width - 6} y={0} width={6} height={rows * 18 + 10} rx={1} fill={C.rackWood} stroke={C.rackWoodDark} strokeWidth={0.8} />\n      {/* Cross beams and skulls */}\n      {Array.from({ length: rows }).map((_, row) => (\n        <g key={row}>\n          {/* Beam */}\n          <rect x={3} y={8 + row * 18} width={width - 6} height={3} rx={0.5} fill={C.rackWood} stroke={C.rackWoodDark} strokeWidth={0.4} />\n          {/* Skulls on this row */}\n          {Array.from({ length: cols }).map((_, col) => {\n            const rot = sineWave(frame, 0.3 + col * 0.05, row * 2 + col) * 8;\n            return (\n              <Skull key={col} x={10 + col * (width - 20) / cols} y={10 + row * 18} scale={0.65} rot={rot} />\n            );\n          })}\n        </g>\n      ))}\n      {/* Top cap */}\n      <rect x={-3} y={-5} width={width + 6} height={8} rx={2} fill={C.rackWoodDark} stroke={C.pyramidDark} strokeWidth={0.5} />\n    </g>\n  );\n};\n\n/** Incense burner (copal brazier) */\nconst IncenseBurner: React.FC<{\n  x: number; y: number; scale?: number; frame: number; seed?: number;\n}> = ({ x, y, scale = 1, frame, seed = 0 }) => {\n  const smoke1 = sineWave(frame, 0.8, seed);\n  const smoke2 = sineWave(frame, 1.3, seed + 2);\n  const glow = 0.6 + sineWave(frame, 2, seed) * 0.2;\n  return (\n    <g transform={`translate(${x},${y}) scale(${scale})`}>\n      {/* Bowl base */}\n      <ellipse cx={0} cy={20} rx={12} ry={3} fill={C.pyramidDark} />\n      {/* Stand */}\n      <path d=\"M-4,20 L-3,5 L3,5 L4,20Z\" fill={C.pyramidMid} stroke={C.pyramidDark} strokeWidth={0.5} />\n      {/* Bowl */}\n      <path d=\"M-10,5 Q-12,-2 -8,-5 Q0,-8 8,-5 Q12,-2 10,5Z\" fill={C.pyramidBase} stroke={C.pyramidDark} strokeWidth={0.8} />\n      {/* Carved decorations on bowl */}\n      <path d=\"M-7,0 Q-3,-2 0,0 Q3,-2 7,0\" fill=\"none\" stroke={C.goldDark} strokeWidth={0.5} />\n      <circle cx={-5} cy={2} r={1} fill={C.turquoiseDark} opacity={0.6} />\n      <circle cx={5} cy={2} r={1} fill={C.turquoiseDark} opacity={0.6} />\n      {/* Glowing coals */}\n      <ellipse cx={0} cy={-3} rx={6} ry={2.5} fill={C.fireDark} opacity={glow} />\n      <ellipse cx={0} cy={-3} rx={4} ry={1.5} fill={C.fireMid} opacity={glow * 0.8} />\n      <ellipse cx={0} cy={-3} rx={2} ry={1} fill={C.fireLight} opacity={glow * 0.6} />\n      {/* Smoke columns */}\n      {[0, 1, 2].map(i => {\n        const sX = (i - 1) * 4 + smoke1 * 3 * (i === 1 ? -1 : 1);\n        const phase = seed + i * 1.5;\n        return (\n          <g key={i}>\n            <ellipse cx={sX + sineWave(frame, 0.5, phase) * 5} cy={-15 - i * 8 + smoke2 * 2} rx={5 + i * 3} ry={4 + i * 2} fill={C.copalSmoke} opacity={0.3 - i * 0.05} />\n            <ellipse cx={sX + sineWave(frame, 0.4, phase + 1) * 8} cy={-28 - i * 12 + smoke1 * 3} rx={8 + i * 4} ry={5 + i * 3} fill={C.incenseGray} opacity={0.2 - i * 0.04} />\n            <ellipse cx={sX + sineWave(frame, 0.3, phase + 2) * 12} cy={-45 - i * 15} rx={12 + i * 5} ry={7 + i * 3} fill={C.smokeWhite} opacity={0.12 - i * 0.03} />\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\n/** Sacred banner hanging from pole */\nconst SacredBanner: React.FC<{\n  x: number; y: number; color: string; colorDark: string; height?: number; frame: number; seed?: number;\n}> = ({ x, y, color, colorDark, height = 80, frame, seed = 0 }) => {\n  const sway = sineWave(frame, 0.6, seed) * 3;\n  const wave1 = sineWave(frame, 1.2, seed + 1) * 2;\n  return (\n    <g transform={`translate(${x},${y})`}>\n      {/* Pole */}\n      <rect x={-2} y={-10} width={4} height={height + 20} rx={1} fill={C.rackWood} stroke={C.rackWoodDark} strokeWidth={0.5} />\n      {/* Pole top ornament */}\n      <circle cx={0} cy={-12} r={4} fill={C.goldBright} stroke={C.goldDark} strokeWidth={0.5} />\n      <circle cx={0} cy={-12} r={2} fill={C.turquoise} />\n      {/* Banner fabric */}\n      <path\n        d={`M3,0 Q${8 + sway},${height * 0.3} ${5 + wave1},${height * 0.6} Q${3 + sway * 0.5},${height * 0.8} ${6 + wave1 * 0.5},${height}\n            L${-4 + wave1 * 0.3},${height} Q${-2 + sway * 0.3},${height * 0.8} ${-3 + wave1 * 0.5},${height * 0.6}\n            Q${-6 + sway * 0.5},${height * 0.3} -3,0Z`}\n        fill={color}\n        stroke={colorDark}\n        strokeWidth={0.5}\n      />\n      {/* Banner pattern - diamond shapes */}\n      {[0.2, 0.4, 0.6, 0.8].map((t, i) => {\n        const by = height * t;\n        const bx = sineWave(frame, 0.6, seed + i) * 1.5;\n        return (\n          <path key={i} d={`M${bx},${by - 5} L${bx + 5},${by} L${bx},${by + 5} L${bx - 5},${by}Z`}\n            fill={C.goldBright} opacity={0.5} />\n        );\n      })}\n      {/* Fringe at bottom */}\n      {Array.from({ length: 5 }).map((_, i) => (\n        <line key={i} x1={-3 + i * 2.5 + sway * 0.3} y1={height} x2={-4 + i * 2.5 + sway * 0.5} y2={height + 8 + sineWave(frame, 1, seed + i) * 2}\n          stroke={C.goldBright} strokeWidth={0.8} opacity={0.6} />\n      ))}\n    </g>\n  );\n};\n\n/** Feathered headdress decoration on shrine */\nconst FeatherCrest: React.FC<{\n  x: number; y: number; scale?: number; frame: number; seed?: number;\n}> = ({ x, y, scale = 1, frame, seed = 0 }) => {\n  const sway = sineWave(frame, 0.8, seed) * 2;\n  const colors = [C.featherGreen, C.featherBlue, C.featherRed, C.featherGold, C.featherGreen, C.featherBlue, C.featherRed];\n  return (\n    <g transform={`translate(${x},${y}) scale(${scale})`}>\n      {colors.map((color, i) => {\n        const angle = -60 + i * 20;\n        const featherSway = sway + sineWave(frame, 1.2, seed + i * 0.7) * 3;\n        return (\n          <path key={i}\n            d={`M0,0 Q${Math.sin((angle + featherSway) * Math.PI / 180) * 20},${-15} ${Math.sin((angle + featherSway) * Math.PI / 180) * 35},${-40 - i * 2}`}\n            fill=\"none\" stroke={color} strokeWidth={2.5} strokeLinecap=\"round\" opacity={0.8} />\n        );\n      })}\n    </g>\n  );\n};\n\n/** Carved stone step detail */\nconst CarvedStep: React.FC<{\n  x: number; y: number; width: number; height: number;\n}> = ({ x, y, width, height }) => (\n  <g transform={`translate(${x},${y})`}>\n    <rect x={0} y={0} width={width} height={height} fill={C.stairStone} stroke={C.stairShadow} strokeWidth={0.5} />\n    {/* Carved glyphs along step face */}\n    {Array.from({ length: Math.floor(width / 25) }).map((_, i) => (\n      <g key={i} transform={`translate(${12 + i * 25},${height / 2})`}>\n        <rect x={-5} y={-4} width={10} height={8} rx={1} fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.4} opacity={0.4} />\n        <circle cx={0} cy={0} r={2} fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.3} opacity={0.3} />\n        <line x1={-3} y1={-2} x2={3} y2={2} stroke={C.pyramidDark} strokeWidth={0.3} opacity={0.3} />\n      </g>\n    ))}\n    {/* Top edge highlight */}\n    <line x1={0} y1={0} x2={width} y2={0} stroke={C.stairHighlight} strokeWidth={0.5} opacity={0.4} />\n  </g>\n);\n\n/** Obsidian sacrificial knife */\nconst SacrificialKnife: React.FC<{\n  x: number; y: number; scale?: number; rotation?: number;\n}> = ({ x, y, scale = 1, rotation = 0 }) => (\n  <g transform={`translate(${x},${y}) rotate(${rotation}) scale(${scale})`}>\n    {/* Blade */}\n    <path d=\"M0,0 Q5,-2 18,-5 Q22,-4 20,0 Q18,4 5,2Z\" fill={C.obsidian} stroke={C.obsidianShine} strokeWidth={0.5} />\n    {/* Edge gleam */}\n    <path d=\"M2,0 Q10,-1 18,-4\" fill=\"none\" stroke={C.obsidianShine} strokeWidth={0.3} opacity={0.6} />\n    {/* Handle */}\n    <path d=\"M0,0 Q-2,-3 -10,-3 Q-14,-2 -14,0 Q-14,2 -10,3 Q-2,3 0,0Z\" fill={C.turquoiseDark} stroke={C.jadeDark} strokeWidth={0.5} />\n    {/* Mosaic on handle */}\n    <circle cx={-5} cy={0} r={1.5} fill={C.turquoise} opacity={0.8} />\n    <circle cx={-9} cy={0} r={1.2} fill={C.jadeGreen} opacity={0.8} />\n    <circle cx={-7} cy={-1.5} r={0.8} fill={C.goldBright} opacity={0.6} />\n    <circle cx={-7} cy={1.5} r={0.8} fill={C.goldBright} opacity={0.6} />\n  </g>\n);\n\n/** Stone board/tablet for boardText display */\nconst StoneTablet: React.FC<{\n  x: number; y: number; width: number; height: number; text?: string; frame: number;\n}> = ({ x, y, width, height, text, frame }) => {\n  const glow = 0.5 + sineWave(frame, 0.5, 0) * 0.1;\n  if (!text) return null;\n  return (\n    <g transform={`translate(${x},${y})`}>\n      {/* Shadow */}\n      <rect x={4} y={4} width={width} height={height} rx={6} fill={C.boardShadow} />\n      {/* Stone background */}\n      <rect x={0} y={0} width={width} height={height} rx={6} fill={C.boardBg} stroke={C.boardEdge} strokeWidth={2} />\n      {/* Inner border with carved pattern */}\n      <rect x={6} y={6} width={width - 12} height={height - 12} rx={3} fill=\"none\" stroke={C.goldDark} strokeWidth={1} opacity={0.4} />\n      {/* Corner glyphs */}\n      {[[10, 10], [width - 14, 10], [10, height - 14], [width - 14, height - 14]].map(([cx, cy], i) => (\n        <circle key={i} cx={cx} cy={cy} r={3} fill={C.turquoiseDark} opacity={0.4} />\n      ))}\n      {/* Text */}\n      <text x={width / 2} y={height / 2 + 6} textAnchor=\"middle\" fill={C.boardText} fontSize={16} fontFamily=\"Georgia, serif\" opacity={glow}>\n        {text}\n      </text>\n      {/* Fire glow effect on tablet */}\n      <rect x={0} y={0} width={width} height={height} rx={6} fill={C.fireGlowWide} opacity={0.15 + sineWave(frame, 2, 5) * 0.05} />\n    </g>\n  );\n};\n\n/** Animated blood drip */\nconst BloodDrip: React.FC<{\n  x: number; startY: number; frame: number; seed?: number; speed?: number;\n}> = ({ x, startY, frame, seed = 0, speed = 0.5 }) => {\n  const progress = ((frame * speed + seed * 40) % 120) / 120;\n  const dripY = startY + progress * 60;\n  const opacity = progress < 0.8 ? 0.8 : (1 - progress) * 4;\n  const stretch = 1 + progress * 0.5;\n  return (\n    <g>\n      {/* Trail */}\n      <line x1={x} y1={startY} x2={x} y2={dripY - 3} stroke={C.bloodMid} strokeWidth={1.2} opacity={opacity * 0.4} />\n      {/* Drip */}\n      <ellipse cx={x} cy={dripY} rx={1.5} ry={2 * stretch} fill={C.bloodLight} opacity={opacity} />\n      <ellipse cx={x} cy={dripY - 0.5} rx={0.8} ry={1} fill={C.bloodGlisten} opacity={opacity * 0.5} />\n    </g>\n  );\n};\n\n/** Ceremonial drum */\nconst CeremonialDrum: React.FC<{\n  x: number; y: number; scale?: number; frame: number; seed?: number;\n}> = ({ x, y, scale = 1, frame, seed = 0 }) => {\n  const vibrate = sineWave(frame, 6, seed) * 0.5;\n  return (\n    <g transform={`translate(${x},${y}) scale(${scale})`}>\n      {/* Drum body */}\n      <ellipse cx={0} cy={25} rx={18} ry={5} fill={C.rackWoodDark} />\n      <rect x={-18} y={0} width={36} height={25} rx={2} fill={C.rackWood} stroke={C.rackWoodDark} strokeWidth={0.8} />\n      {/* Drum skin top */}\n      <ellipse cx={0} cy={0 + vibrate} rx={18} ry={5} fill={C.skullWhite} stroke={C.rackWoodDark} strokeWidth={0.8} opacity={0.9} />\n      {/* Rope tensioners */}\n      {[-12, -6, 0, 6, 12].map((rx, i) => (\n        <line key={i} x1={rx} y1={5} x2={rx + 2} y2={22} stroke={C.rackRope} strokeWidth={0.6} />\n      ))}\n      {/* Carved patterns on body */}\n      <path d=\"M-15,10 Q-8,8 0,10 Q8,8 15,10\" fill=\"none\" stroke={C.goldDark} strokeWidth={0.5} opacity={0.5} />\n      <path d=\"M-15,16 Q-8,14 0,16 Q8,14 15,16\" fill=\"none\" stroke={C.goldDark} strokeWidth={0.5} opacity={0.5} />\n    </g>\n  );\n};\n\n/** Offering bowl with food/hearts */\nconst OfferingBowl: React.FC<{\n  x: number; y: number; scale?: number;\n}> = ({ x, y, scale = 1 }) => (\n  <g transform={`translate(${x},${y}) scale(${scale})`}>\n    {/* Bowl shadow */}\n    <ellipse cx={0} cy={12} rx={14} ry={3} fill={C.plazaDark} opacity={0.4} />\n    {/* Bowl body */}\n    <path d=\"M-12,0 Q-14,8 -10,10 Q0,14 10,10 Q14,8 12,0Z\" fill={C.pyramidBase} stroke={C.pyramidDark} strokeWidth={0.6} />\n    {/* Bowl rim */}\n    <ellipse cx={0} cy={0} rx={12} ry={3.5} fill={C.pyramidMid} stroke={C.pyramidDark} strokeWidth={0.5} />\n    {/* Contents (dark offerings) */}\n    <ellipse cx={0} cy={-0.5} rx={9} ry={2.5} fill={C.bloodDark} opacity={0.7} />\n    {/* Gold rim decoration */}\n    <ellipse cx={0} cy={0} rx={12} ry={3.5} fill=\"none\" stroke={C.goldDark} strokeWidth={0.4} opacity={0.5} />\n    {/* Jade inlays */}\n    <circle cx={-8} cy={5} r={1} fill={C.jadeGreen} opacity={0.6} />\n    <circle cx={8} cy={5} r={1} fill={C.jadeGreen} opacity={0.6} />\n    <circle cx={0} cy={8} r={1} fill={C.turquoise} opacity={0.6} />\n  </g>\n);\n\n// ---- Main Component ----\nexport const AztecSacrifice: React.FC<AztecSacrificeProps> = ({\n  boardText,\n  width = 1920,\n  height = 1080,\n}) => {\n  const frame = useCurrentFrame();\n\n  // Atmospheric animation values\n  const breathe = sineWave(frame, 0.3, 0);\n  const slowDrift = sineWave(frame, 0.15, 0);\n  const fireFlicker = sineWave(frame, 3, 0);\n  const smokeRise = sineWave(frame, 0.4, 2);\n\n  return (\n    <svg viewBox={`0 0 ${width} ${height}`} width={width} height={height} style={{ backgroundColor: C.skyTop }}>\n      <defs>\n        {/* Night sky gradient */}\n        <linearGradient id=\"sac-sky\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n          <stop offset=\"0%\" stopColor={C.skyTop} />\n          <stop offset=\"30%\" stopColor={C.skyMid} />\n          <stop offset=\"60%\" stopColor={C.skyLow} />\n          <stop offset=\"100%\" stopColor={C.skyHorizon} />\n        </linearGradient>\n\n        {/* Pyramid stone texture */}\n        <pattern id=\"sac-stone-tex\" width=\"8\" height=\"8\" patternUnits=\"userSpaceOnUse\">\n          <rect width=\"8\" height=\"8\" fill={C.pyramidMid} />\n          <rect x=\"0\" y=\"0\" width=\"4\" height=\"4\" fill={C.pyramidBase} opacity=\"0.3\" />\n          <rect x=\"4\" y=\"4\" width=\"4\" height=\"4\" fill={C.pyramidBase} opacity=\"0.2\" />\n          <circle cx=\"2\" cy=\"6\" r=\"0.3\" fill={C.pyramidDark} opacity=\"0.2\" />\n          <circle cx=\"6\" cy=\"2\" r=\"0.3\" fill={C.pyramidDark} opacity=\"0.15\" />\n        </pattern>\n\n        {/* Blood channel gradient */}\n        <linearGradient id=\"sac-blood-grad\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n          <stop offset=\"0%\" stopColor={C.bloodLight} />\n          <stop offset=\"50%\" stopColor={C.bloodMid} />\n          <stop offset=\"100%\" stopColor={C.bloodDark} />\n        </linearGradient>\n\n        {/* Fire glow radial */}\n        <radialGradient id=\"sac-fire-glow\" cx=\"0.5\" cy=\"0.5\" r=\"0.5\">\n          <stop offset=\"0%\" stopColor={C.fireLight} stopOpacity=\"0.3\" />\n          <stop offset=\"50%\" stopColor={C.fireMid} stopOpacity=\"0.1\" />\n          <stop offset=\"100%\" stopColor={C.fireDark} stopOpacity=\"0\" />\n        </radialGradient>\n\n        {/* Moon glow */}\n        <radialGradient id=\"sac-moon-glow\" cx=\"0.5\" cy=\"0.5\" r=\"0.5\">\n          <stop offset=\"0%\" stopColor={C.moonFace} stopOpacity=\"0.4\" />\n          <stop offset=\"40%\" stopColor={C.moonGlow} stopOpacity=\"0.15\" />\n          <stop offset=\"100%\" stopColor={C.moonGlow} stopOpacity=\"0\" />\n        </radialGradient>\n\n        {/* Canvas oil painting texture */}\n        <filter id=\"sac-canvas\">\n          <feTurbulence type=\"fractalNoise\" baseFrequency=\"0.8\" numOctaves=\"4\" seed=\"42\" result=\"noise\" />\n          <feColorMatrix type=\"saturate\" values=\"0\" in=\"noise\" result=\"gray\" />\n          <feBlend in=\"SourceGraphic\" in2=\"gray\" mode=\"multiply\" result=\"canvas\" />\n        </filter>\n\n        {/* Vignette gradient */}\n        <radialGradient id=\"sac-vignette\" cx=\"0.5\" cy=\"0.45\" r=\"0.7\">\n          <stop offset=\"0%\" stopColor=\"transparent\" />\n          <stop offset=\"70%\" stopColor=\"rgba(0,0,0,0.2)\" />\n          <stop offset=\"100%\" stopColor={C.vignetteEdge} />\n        </radialGradient>\n\n        {/* God ray gradient */}\n        <linearGradient id=\"sac-godray\" x1=\"0.5\" y1=\"0\" x2=\"0.5\" y2=\"1\">\n          <stop offset=\"0%\" stopColor={C.fireLight} stopOpacity=\"0.08\" />\n          <stop offset=\"100%\" stopColor={C.fireDark} stopOpacity=\"0\" />\n        </linearGradient>\n\n        {/* Smoke filter for softness */}\n        <filter id=\"sac-smoke-blur\">\n          <feGaussianBlur stdDeviation=\"3\" />\n        </filter>\n\n        {/* Star twinkle filter */}\n        <filter id=\"sac-star-glow\">\n          <feGaussianBlur stdDeviation=\"1.5\" />\n        </filter>\n      </defs>\n\n      {/* ============================================================ */}\n      {/* LAYER 1: NIGHT SKY                                           */}\n      {/* ============================================================ */}\n      <rect x={0} y={0} width={width} height={height} fill=\"url(#sac-sky)\" />\n\n      {/* Stars */}\n      {[\n        [120, 45, 1.2], [280, 30, 0.8], [450, 60, 1.0], [620, 25, 0.7], [780, 50, 1.1],\n        [920, 35, 0.6], [1050, 55, 0.9], [1200, 20, 1.0], [1380, 45, 0.7], [1520, 30, 0.8],\n        [1680, 65, 0.6], [1800, 40, 1.0], [200, 90, 0.5], [500, 85, 0.7], [850, 75, 0.8],\n        [1100, 80, 0.6], [1450, 70, 0.9], [1700, 85, 0.5], [350, 110, 0.4], [700, 100, 0.6],\n        [1000, 95, 0.5], [1300, 105, 0.7], [1600, 115, 0.4], [1850, 60, 0.6],\n        [160, 140, 0.5], [420, 130, 0.6], [680, 125, 0.4], [940, 135, 0.5],\n        [1160, 120, 0.7], [1400, 140, 0.4], [1650, 128, 0.6], [1880, 110, 0.5],\n      ].map(([sx, sy, sr], i) => {\n        const twinkle = 0.4 + sineWave(frame, 0.5 + i * 0.1, i * 1.3) * 0.4;\n        return (\n          <circle key={i} cx={sx} cy={sy} r={sr as number} fill={i % 3 === 0 ? C.starYellow : C.starWhite} opacity={twinkle} />\n        );\n      })}\n\n      {/* Moon */}\n      <circle cx={1650} cy={100} r={60} fill=\"url(#sac-moon-glow)\" />\n      <circle cx={1650} cy={100} r={28} fill={C.moonFace} opacity={0.9} />\n      <circle cx={1650} cy={100} r={26} fill={C.moonShadow} opacity={0.3} />\n      {/* Moon craters */}\n      <circle cx={1642} cy={92} r={4} fill={C.moonCrater} opacity={0.3} />\n      <circle cx={1658} cy={105} r={3} fill={C.moonCrater} opacity={0.25} />\n      <circle cx={1645} cy={108} r={2.5} fill={C.moonCrater} opacity={0.2} />\n      <circle cx={1656} cy={90} r={2} fill={C.moonCrater} opacity={0.2} />\n      {/* Moon shadow (crescent effect) */}\n      <circle cx={1660} cy={96} r={24} fill={C.skyMid} opacity={0.5} />\n\n      {/* Wispy night clouds */}\n      {[\n        [200, 80, 250, 20, 0.08], [600, 120, 300, 25, 0.06], [1000, 60, 200, 18, 0.07],\n        [1400, 100, 280, 22, 0.05], [1700, 70, 220, 16, 0.06],\n      ].map(([cx, cy, w, h, op], i) => (\n        <ellipse key={i} cx={(cx as number) + slowDrift * 10} cy={cy as number} rx={w as number} ry={h as number}\n          fill={C.skyLow} opacity={op as number} />\n      ))}\n\n      {/* Horizon fire glow from unseen city fires */}\n      <ellipse cx={width / 2} cy={height * 0.35} rx={600} ry={80}\n        fill={C.skyGlow} opacity={0.3 + fireFlicker * 0.05} />\n\n      {/* ============================================================ */}\n      {/* LAYER 2: DISTANT CITY SILHOUETTE                             */}\n      {/* ============================================================ */}\n      <g opacity={0.6}>\n        {/* Distant buildings silhouette */}\n        <path d={`M0,360 L80,360 L80,340 L100,340 L100,320 L110,310 L120,320 L120,340\n          L200,340 L200,330 L220,330 L220,350 L300,350 L300,320 L310,300 L320,320 L320,350\n          L400,350 L400,345 L450,345 L450,330 L460,310 L470,330 L470,350\n          L550,350 L550,340 L580,340 L580,355 L650,355 L650,335 L660,315 L670,335 L670,355\n          L750,355 L750,345 L800,345 L800,355 L880,355 L880,325 L890,305 L900,325 L900,355\n          L980,355 L980,340 L1020,340 L1020,355 L1100,355 L1100,330 L1110,310 L1120,330 L1120,355\n          L1200,355 L1200,345 L1250,345 L1250,360 L1350,360 L1350,340 L1360,320 L1370,340 L1370,360\n          L1500,360 L1500,350 L1550,350 L1550,335 L1560,315 L1570,335 L1570,355\n          L1650,355 L1650,345 L1700,345 L1700,360 L1800,360 L1800,340 L1810,325 L1820,340 L1820,360\n          L${width},360 L${width},370 L0,370Z`}\n          fill={C.cityDark} />\n        {/* Distant temple pyramids */}\n        <path d=\"M300,350 L340,260 L380,350Z\" fill={C.cityMid} />\n        <path d=\"M880,355 L930,250 L980,355Z\" fill={C.cityMid} />\n        <path d=\"M1550,355 L1590,270 L1630,355Z\" fill={C.cityMid} />\n        {/* Tiny window lights */}\n        {[120, 250, 420, 580, 720, 890, 1050, 1220, 1380, 1550, 1720, 1850].map((wx, i) => (\n          <rect key={i} x={wx} y={342 + (i % 3) * 4} width={2} height={2}\n            fill={C.cityWindow} opacity={0.3 + sineWave(frame, 0.3 + i * 0.1, i) * 0.15} />\n        ))}\n        {/* Distant torch glows */}\n        {[350, 920, 1580].map((tx, i) => (\n          <circle key={i} cx={tx} cy={255 + i * 5} r={5}\n            fill={C.cityTorch} opacity={0.4 + sineWave(frame, 2, i * 3) * 0.15} />\n        ))}\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 3: GREAT TEMPLE - TEMPLO MAYOR                        */}\n      {/* ============================================================ */}\n      <g>\n        {/* Pyramid base - massive structure */}\n        {/* Step 1 (base) */}\n        <rect x={460} y={620} width={1000} height={60} fill=\"url(#sac-stone-tex)\" stroke={C.pyramidDark} strokeWidth={0.5} />\n        <CarvedStep x={460} y={620} width={1000} height={60} />\n\n        {/* Step 2 */}\n        <rect x={510} y={560} width={900} height={60} fill=\"url(#sac-stone-tex)\" stroke={C.pyramidDark} strokeWidth={0.5} />\n        <CarvedStep x={510} y={560} width={900} height={60} />\n\n        {/* Step 3 */}\n        <rect x={560} y={500} width={800} height={60} fill=\"url(#sac-stone-tex)\" stroke={C.pyramidDark} strokeWidth={0.5} />\n        <CarvedStep x={560} y={500} width={800} height={60} />\n\n        {/* Step 4 */}\n        <rect x={610} y={440} width={700} height={60} fill=\"url(#sac-stone-tex)\" stroke={C.pyramidDark} strokeWidth={0.5} />\n        <CarvedStep x={610} y={440} width={700} height={60} />\n\n        {/* Step 5 */}\n        <rect x={660} y={380} width={600} height={60} fill=\"url(#sac-stone-tex)\" stroke={C.pyramidDark} strokeWidth={0.5} />\n        <CarvedStep x={660} y={380} width={600} height={60} />\n\n        {/* Step 6 (top platform) */}\n        <rect x={710} y={320} width={500} height={60} fill=\"url(#sac-stone-tex)\" stroke={C.pyramidDark} strokeWidth={0.5} />\n        <CarvedStep x={710} y={320} width={500} height={60} />\n\n        {/* Shadow on left side of pyramid */}\n        <path d={`M460,680 L710,320 L710,380 L460,680Z`} fill={C.pyramidShadow} opacity={0.4} />\n\n        {/* Central stairway */}\n        <rect x={900} y={320} width={120} height={360} fill={C.stairCenter} stroke={C.stairShadow} strokeWidth={0.5} />\n        {/* Stair lines */}\n        {Array.from({ length: 24 }).map((_, i) => (\n          <line key={i} x1={900} y1={325 + i * 15} x2={1020} y2={325 + i * 15}\n            stroke={C.stairShadow} strokeWidth={0.5} opacity={0.5} />\n        ))}\n        {/* Stair center line */}\n        <line x1={960} y1={320} x2={960} y2={680} stroke={C.stairShadow} strokeWidth={0.5} opacity={0.3} />\n        {/* Stair side rails */}\n        <rect x={896} y={320} width={4} height={360} fill={C.pyramidDark} />\n        <rect x={1020} y={320} width={4} height={360} fill={C.pyramidDark} />\n\n        {/* Serpent heads at stairway base */}\n        <SerpentHead x={880} y={665} scale={1.8} />\n        <SerpentHead x={1040} y={665} scale={1.8} flip />\n\n        {/* Serpent balustrades running up stairs */}\n        <path d=\"M898,680 Q895,500 898,320\" fill=\"none\" stroke={C.serpentStone} strokeWidth={4} />\n        <path d=\"M1022,680 Q1025,500 1022,320\" fill=\"none\" stroke={C.serpentStone} strokeWidth={4} />\n        {/* Serpent body undulations */}\n        {Array.from({ length: 8 }).map((_, i) => (\n          <g key={i}>\n            <circle cx={896} cy={360 + i * 40} r={3} fill={C.serpentStone} stroke={C.serpentDark} strokeWidth={0.3} />\n            <circle cx={1024} cy={360 + i * 40} r={3} fill={C.serpentStone} stroke={C.serpentDark} strokeWidth={0.3} />\n          </g>\n        ))}\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 4: TWIN SHRINES AT TOP                                 */}\n      {/* ============================================================ */}\n      <g>\n        {/* Left shrine - Tlaloc (blue/rain) */}\n        <rect x={720} y={260} width={200} height={65} rx={2} fill={C.shrineBlue} stroke={C.shrineBlueDark} strokeWidth={1} />\n        <rect x={720} y={252} width={200} height={12} rx={1} fill={C.shrineBlueLight} stroke={C.shrineBlueDark} strokeWidth={0.5} />\n        {/* Tlaloc door */}\n        <rect x={790} y={280} width={50} height={45} rx={2} fill={C.shrineBlueDark} />\n        <rect x={792} y={282} width={46} height={41} rx={1} fill={C.priestBlack} opacity={0.8} />\n        {/* Tlaloc roof */}\n        <path d=\"M715,252 L820,220 L925,252Z\" fill={C.shrineRoof} stroke={C.shrineRoofEdge} strokeWidth={0.5} />\n        {/* Tlaloc crest */}\n        <FeatherCrest x={820} y={222} scale={0.8} frame={frame} seed={0} />\n        {/* Rain god symbols on wall */}\n        <circle cx={750} cy={290} r={8} fill=\"none\" stroke={C.turquoise} strokeWidth={1} opacity={0.5} />\n        <path d=\"M746,298 L750,306 L754,298\" fill=\"none\" stroke={C.turquoise} strokeWidth={0.8} opacity={0.5} />\n        <circle cx={885} cy={290} r={8} fill=\"none\" stroke={C.turquoise} strokeWidth={1} opacity={0.5} />\n        <path d=\"M881,298 L885,306 L889,298\" fill=\"none\" stroke={C.turquoise} strokeWidth={0.8} opacity={0.5} />\n\n        {/* Right shrine - Huitzilopochtli (red/war) */}\n        <rect x={1000} y={260} width={200} height={65} rx={2} fill={C.shrineRed} stroke={C.shrineRedDark} strokeWidth={1} />\n        <rect x={1000} y={252} width={200} height={12} rx={1} fill={C.shrineRedLight} stroke={C.shrineRedDark} strokeWidth={0.5} />\n        {/* Huitzilopochtli door */}\n        <rect x={1070} y={280} width={50} height={45} rx={2} fill={C.shrineRedDark} />\n        <rect x={1072} y={282} width={46} height={41} rx={1} fill={C.priestBlack} opacity={0.8} />\n        {/* War shrine roof */}\n        <path d=\"M995,252 L1100,220 L1205,252Z\" fill={C.shrineRoof} stroke={C.shrineRoofEdge} strokeWidth={0.5} />\n        {/* War shrine crest */}\n        <FeatherCrest x={1100} y={222} scale={0.8} frame={frame} seed={3} />\n        {/* War god symbols on wall */}\n        <path d=\"M1030,280 L1040,295 L1020,295Z\" fill=\"none\" stroke={C.goldBright} strokeWidth={1} opacity={0.5} />\n        <circle cx={1035} cy={295} r={5} fill=\"none\" stroke={C.goldBright} strokeWidth={0.8} opacity={0.4} />\n        <path d=\"M1160,280 L1170,295 L1150,295Z\" fill=\"none\" stroke={C.goldBright} strokeWidth={1} opacity={0.5} />\n        <circle cx={1165} cy={295} r={5} fill=\"none\" stroke={C.goldBright} strokeWidth={0.8} opacity={0.4} />\n\n        {/* Sacrificial stone (techcatl) - between shrines on the platform */}\n        <ellipse cx={960} cy={312} rx={30} ry={8} fill={C.altarDark} opacity={0.5} />\n        <path d=\"M930,300 Q930,290 940,288 Q960,284 980,288 Q990,290 990,300 Q990,308 980,310 Q960,314 940,310 Q930,308 930,300Z\"\n          fill={C.altarStone} stroke={C.altarDark} strokeWidth={1} />\n        {/* Blood stains on altar */}\n        <ellipse cx={960} cy={296} rx={18} ry={4} fill={C.altarBlood} opacity={0.6} />\n        <ellipse cx={955} cy={298} rx={10} ry={3} fill={C.altarBloodWet} opacity={0.4} />\n        {/* Carved glyphs on altar */}\n        <path d=\"M938,300 Q948,296 958,300 Q968,296 978,300\" fill=\"none\" stroke={C.altarCarving} strokeWidth={0.6} />\n        <circle cx={945} cy={304} r={2} fill=\"none\" stroke={C.altarCarving} strokeWidth={0.5} />\n        <circle cx={975} cy={304} r={2} fill=\"none\" stroke={C.altarCarving} strokeWidth={0.5} />\n        {/* Sacrificial knife on altar */}\n        <SacrificialKnife x={970} y={293} scale={0.8} rotation={-15} />\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 5: BLOOD CHANNELS                                      */}\n      {/* ============================================================ */}\n      <g>\n        {/* Blood channel from altar down the stairs */}\n        <path d={`M958,310 Q958,400 957,500 Q956,600 955,680`}\n          fill=\"none\" stroke=\"url(#sac-blood-grad)\" strokeWidth={3} opacity={0.6} />\n        <path d={`M962,310 Q963,420 964,520 Q965,620 966,680`}\n          fill=\"none\" stroke=\"url(#sac-blood-grad)\" strokeWidth={2} opacity={0.4} />\n        {/* Blood pool at base */}\n        <ellipse cx={960} cy={682} rx={25} ry={5} fill={C.bloodDark} opacity={0.6} />\n        <ellipse cx={960} cy={681} rx={18} ry={3} fill={C.bloodMid} opacity={0.5} />\n        <ellipse cx={958} cy={680} rx={8} ry={2} fill={C.bloodGlisten} opacity={0.3} />\n        {/* Dripping blood from altar */}\n        {[940, 950, 960, 970, 980].map((bx, i) => (\n          <BloodDrip key={i} x={bx} startY={310} frame={frame} seed={i * 7} speed={0.3 + i * 0.05} />\n        ))}\n        {/* Blood splatter on stairs */}\n        {Array.from({ length: 8 }).map((_, i) => (\n          <circle key={i} cx={950 + Math.sin(i * 2.3) * 15} cy={350 + i * 40} r={1.5 + Math.sin(i * 1.7) * 0.5}\n            fill={C.bloodDried} opacity={0.3 + Math.sin(i * 3.1) * 0.1} />\n        ))}\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 6: TORCHES AND FIRE BRAZIERS                           */}\n      {/* ============================================================ */}\n      <g>\n        {/* Large torches flanking the shrine */}\n        <Torch x={710} y={260} scale={1.2} frame={frame} seed={0} />\n        <Torch x={1210} y={260} scale={1.2} frame={frame} seed={2} />\n\n        {/* Torches along the stairway */}\n        <Torch x={875} y={400} scale={0.9} frame={frame} seed={4} />\n        <Torch x={1040} y={400} scale={0.9} frame={frame} seed={5} />\n        <Torch x={870} y={520} scale={0.8} frame={frame} seed={6} />\n        <Torch x={1045} y={520} scale={0.8} frame={frame} seed={7} />\n        <Torch x={865} y={620} scale={0.7} frame={frame} seed={8} />\n        <Torch x={1050} y={620} scale={0.7} frame={frame} seed={9} />\n\n        {/* Large fire braziers on platform */}\n        <g transform=\"translate(750,310)\">\n          <ellipse cx={0} cy={5} rx={15} ry={4} fill={C.pyramidDark} opacity={0.4} />\n          <path d=\"M-12,0 Q-14,-8 -8,-10 Q0,-12 8,-10 Q14,-8 12,0Z\" fill={C.pyramidBase} stroke={C.pyramidDark} strokeWidth={0.8} />\n          {/* Big fire */}\n          {(() => {\n            const f1 = sineWave(frame, 3.5, 10);\n            const f2 = sineWave(frame, 5.2, 11);\n            return (\n              <>\n                <ellipse cx={0} cy={-18} rx={20 + f1 * 3} ry={25 + f2 * 4} fill={C.fireGlow} />\n                <ellipse cx={f1 * 2} cy={-20 + f2} rx={12 + f1 * 2} ry={18 + f2 * 3} fill={C.fireDark} />\n                <ellipse cx={f2} cy={-22 + f1} rx={8 + f2 * 1.5} ry={14 + f1 * 2} fill={C.fireMid} />\n                <ellipse cx={f1 * 0.5} cy={-24 + f2 * 0.8} rx={5 + f1} ry={10 + f2 * 1.5} fill={C.fireLight} />\n                <ellipse cx={0} cy={-25} rx={3} ry={6 + f1} fill={C.fireBright} opacity={0.8} />\n              </>\n            );\n          })()}\n        </g>\n\n        <g transform=\"translate(1170,310)\">\n          <ellipse cx={0} cy={5} rx={15} ry={4} fill={C.pyramidDark} opacity={0.4} />\n          <path d=\"M-12,0 Q-14,-8 -8,-10 Q0,-12 8,-10 Q14,-8 12,0Z\" fill={C.pyramidBase} stroke={C.pyramidDark} strokeWidth={0.8} />\n          {(() => {\n            const f1 = sineWave(frame, 3.5, 14);\n            const f2 = sineWave(frame, 5.2, 15);\n            return (\n              <>\n                <ellipse cx={0} cy={-18} rx={20 + f1 * 3} ry={25 + f2 * 4} fill={C.fireGlow} />\n                <ellipse cx={f1 * 2} cy={-20 + f2} rx={12 + f1 * 2} ry={18 + f2 * 3} fill={C.fireDark} />\n                <ellipse cx={f2} cy={-22 + f1} rx={8 + f2 * 1.5} ry={14 + f1 * 2} fill={C.fireMid} />\n                <ellipse cx={f1 * 0.5} cy={-24 + f2 * 0.8} rx={5 + f1} ry={10 + f2 * 1.5} fill={C.fireLight} />\n                <ellipse cx={0} cy={-25} rx={3} ry={6 + f1} fill={C.fireBright} opacity={0.8} />\n              </>\n            );\n          })()}\n        </g>\n\n        {/* Ground-level fire pots along plaza */}\n        {[200, 380, 1540, 1720].map((fx, i) => (\n          <Torch key={i} x={fx} y={650} scale={0.6} frame={frame} seed={20 + i} />\n        ))}\n\n        {/* Fire glow pools on pyramid surface */}\n        <ellipse cx={750} cy={310} rx={80} ry={30} fill={C.fireGlowWide} opacity={0.2 + fireFlicker * 0.05} />\n        <ellipse cx={1170} cy={310} rx={80} ry={30} fill={C.fireGlowWide} opacity={0.2 + fireFlicker * 0.05} />\n        <ellipse cx={960} cy={310} rx={60} ry={20} fill={C.fireGlowWide} opacity={0.15 + fireFlicker * 0.03} />\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 7: INCENSE BURNERS & SMOKE                             */}\n      {/* ============================================================ */}\n      <g>\n        <IncenseBurner x={780} y={310} scale={0.9} frame={frame} seed={30} />\n        <IncenseBurner x={1140} y={310} scale={0.9} frame={frame} seed={32} />\n        <IncenseBurner x={850} y={615} scale={0.7} frame={frame} seed={34} />\n        <IncenseBurner x={1070} y={615} scale={0.7} frame={frame} seed={36} />\n\n        {/* Large smoke columns rising from temple */}\n        <g filter=\"url(#sac-smoke-blur)\">\n          {[\n            [780, 200, 60, 40, 0.15],\n            [960, 180, 80, 50, 0.12],\n            [1150, 210, 70, 45, 0.13],\n          ].map(([sx, sy, sw, sh, sop], i) => {\n            const drift = slowDrift * 15 + sineWave(frame, 0.3, i * 3) * 20;\n            const rise = smokeRise * 10;\n            return (\n              <g key={i}>\n                <ellipse cx={(sx as number) + drift} cy={(sy as number) - 40 + rise} rx={(sw as number) * 1.5} ry={(sh as number) * 1.2}\n                  fill={C.smokeDark} opacity={(sop as number) * 0.6} />\n                <ellipse cx={(sx as number) + drift * 0.7} cy={(sy as number) + rise * 0.5} rx={sw as number} ry={sh as number}\n                  fill={C.smokeMid} opacity={sop as number} />\n                <ellipse cx={(sx as number) + drift * 0.4} cy={(sy as number) + 30 + rise * 0.3} rx={(sw as number) * 0.7} ry={(sh as number) * 0.7}\n                  fill={C.smokeLight} opacity={(sop as number) * 0.8} />\n              </g>\n            );\n          })}\n        </g>\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 8: TZOMPANTLI (SKULL RACK)                             */}\n      {/* ============================================================ */}\n      <g>\n        {/* Left skull rack */}\n        <SkullRack x={140} y={540} width={180} rows={5} frame={frame} />\n        {/* Right skull rack */}\n        <SkullRack x={1600} y={540} width={180} rows={5} frame={frame} />\n        {/* Small rack near stairs */}\n        <SkullRack x={460} y={610} width={100} rows={3} frame={frame} />\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 9: SACRED BANNERS AND DECORATIONS                      */}\n      {/* ============================================================ */}\n      <g>\n        {/* Banners flanking the pyramid */}\n        <SacredBanner x={440} y={460} color={C.bannerRed} colorDark={C.shrineRedDark} height={100} frame={frame} seed={0} />\n        <SacredBanner x={480} y={420} color={C.bannerBlue} colorDark={C.shrineBlueDark} height={110} frame={frame} seed={1} />\n        <SacredBanner x={1440} y={460} color={C.bannerGold} colorDark={C.goldDark} height={100} frame={frame} seed={2} />\n        <SacredBanner x={1480} y={420} color={C.bannerGreen} colorDark={C.jadeDark} height={110} frame={frame} seed={3} />\n\n        {/* Hanging garlands/paper decorations between torches */}\n        {[\n          [710, 270, 920, 270, 30],\n          [1000, 270, 1210, 270, 30],\n        ].map(([x1, y1, x2, y2, sag], i) => {\n          const sagAnim = (sag as number) + sineWave(frame, 0.5, i * 4) * 3;\n          const mx = ((x1 as number) + (x2 as number)) / 2;\n          const my = ((y1 as number) + (y2 as number)) / 2 + sagAnim;\n          return (\n            <g key={i}>\n              <path d={`M${x1},${y1} Q${mx},${my} ${x2},${y2}`}\n                fill=\"none\" stroke={C.featherGold} strokeWidth={1.5} opacity={0.6} />\n              {/* Dangling paper cuts */}\n              {Array.from({ length: 6 }).map((_, j) => {\n                const t = (j + 1) / 7;\n                const px = (x1 as number) + ((x2 as number) - (x1 as number)) * t;\n                const py = (y1 as number) + sagAnim * 4 * t * (1 - t) + sineWave(frame, 0.8, i * 4 + j) * 2;\n                const paperColor = j % 3 === 0 ? C.bannerRed : j % 3 === 1 ? C.bannerGold : C.bannerBlue;\n                return (\n                  <rect key={j} x={px - 3} y={py} width={6} height={10 + j % 3 * 2}\n                    fill={paperColor} opacity={0.5} rx={0.5} />\n                );\n              })}\n            </g>\n          );\n        })}\n\n        {/* Offering bowls at pyramid base */}\n        <OfferingBowl x={500} y={670} scale={0.9} />\n        <OfferingBowl x={560} y={672} scale={0.8} />\n        <OfferingBowl x={1360} y={670} scale={0.9} />\n        <OfferingBowl x={1420} y={672} scale={0.8} />\n\n        {/* Ceremonial drums */}\n        <CeremonialDrum x={380} y={645} scale={0.9} frame={frame} seed={40} />\n        <CeremonialDrum x={1540} y={645} scale={0.9} frame={frame} seed={42} />\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 10: PLAZA GROUND                                       */}\n      {/* ============================================================ */}\n      <g>\n        {/* Main plaza floor */}\n        <rect x={0} y={680} width={width} height={400} fill={C.plazaStone} />\n        {/* Stone tile pattern */}\n        {Array.from({ length: 20 }).map((_, row) =>\n          Array.from({ length: 30 }).map((_, col) => (\n            <rect key={`${row}-${col}`} x={col * 65 + (row % 2) * 32} y={680 + row * 20}\n              width={64} height={19} fill={((row + col) % 3 === 0) ? C.plazaLight : C.plazaStone}\n              stroke={C.plazaGap} strokeWidth={0.3} opacity={0.8} />\n          ))\n        )}\n        {/* Blood stains on plaza */}\n        {[\n          [940, 700, 20, 6], [960, 710, 15, 4], [930, 720, 12, 3],\n          [955, 730, 18, 5], [970, 695, 10, 3],\n        ].map(([bx, by, bw, bh], i) => (\n          <ellipse key={i} cx={bx as number} cy={by as number} rx={bw as number} ry={bh as number}\n            fill={C.plazaBlood} opacity={0.3 - i * 0.03} />\n        ))}\n        {/* Ground-level fog */}\n        <rect x={0} y={750} width={width} height={330} fill={C.fogDark} opacity={0.15 + breathe * 0.03} />\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 11: PRIEST FIGURES (hand-drawn on platform)            */}\n      {/* ============================================================ */}\n      <g>\n        {/* High priest at altar - arms raised */}\n        <g transform=\"translate(960,265)\">\n          {/* Body */}\n          <rect x={-8} y={10} width={16} height={30} rx={2} fill={C.priestBlack} />\n          {/* Head */}\n          <circle cx={0} cy={5} r={7} fill={C.priestSkin} />\n          {/* Face paint */}\n          <rect x={-6} y={2} width={12} height={3} fill={C.priestPaint} opacity={0.7} />\n          {/* Headdress */}\n          <path d=\"M-10,-2 Q0,-18 10,-2\" fill={C.featherGreen} stroke={C.jadeDark} strokeWidth={0.5} />\n          <path d=\"M-7,-5 Q0,-22 7,-5\" fill={C.featherRed} opacity={0.7} />\n          {/* Arms raised holding knife */}\n          <path d={`M-8,15 Q-20,${5 + sineWave(frame, 0.8, 50) * 3} -18,${-2 + sineWave(frame, 0.8, 50) * 2}`}\n            fill=\"none\" stroke={C.priestSkin} strokeWidth={4} strokeLinecap=\"round\" />\n          <path d={`M8,15 Q20,${5 + sineWave(frame, 0.8, 51) * 3} 18,${-2 + sineWave(frame, 0.8, 51) * 2}`}\n            fill=\"none\" stroke={C.priestSkin} strokeWidth={4} strokeLinecap=\"round\" />\n          {/* Knife in right hand */}\n          <SacrificialKnife x={18} y={-5 + sineWave(frame, 0.8, 51) * 2} scale={0.6} rotation={-45 + sineWave(frame, 0.8, 51) * 5} />\n          {/* Jade necklace */}\n          <path d=\"M-6,10 Q0,14 6,10\" fill=\"none\" stroke={C.jadeGreen} strokeWidth={1.5} />\n          {/* Blood splatter on robe */}\n          <circle cx={-3} cy={25} r={2} fill={C.bloodDark} opacity={0.5} />\n          <circle cx={4} cy={28} r={1.5} fill={C.bloodMid} opacity={0.4} />\n          <circle cx={-1} cy={32} r={1.8} fill={C.bloodDark} opacity={0.4} />\n        </g>\n\n        {/* Assistant priest left */}\n        <g transform=\"translate(930,275)\">\n          <rect x={-6} y={8} width={12} height={25} rx={2} fill={C.priestRobe} />\n          <circle cx={0} cy={4} r={6} fill={C.priestSkin} />\n          <rect x={-5} y={1} width={10} height={3} fill={C.priestPaintRed} opacity={0.6} />\n          {/* Holding bowl */}\n          <path d=\"M-6,12 Q-14,15 -16,18\" fill=\"none\" stroke={C.priestSkin} strokeWidth={3} strokeLinecap=\"round\" />\n          <ellipse cx={-18} cy={20} rx={6} ry={3} fill={C.pyramidBase} stroke={C.pyramidDark} strokeWidth={0.5} />\n          <ellipse cx={-18} cy={19} rx={4} ry={2} fill={C.bloodDark} opacity={0.6} />\n        </g>\n\n        {/* Assistant priest right */}\n        <g transform=\"translate(990,275)\">\n          <rect x={-6} y={8} width={12} height={25} rx={2} fill={C.priestRobe} />\n          <circle cx={0} cy={4} r={6} fill={C.priestSkin} />\n          <rect x={-5} y={1} width={10} height={3} fill={C.priestPaintRed} opacity={0.6} />\n          {/* Arms extended */}\n          <path d=\"M6,12 Q14,10 18,8\" fill=\"none\" stroke={C.priestSkin} strokeWidth={3} strokeLinecap=\"round\" />\n        </g>\n\n        {/* Conch shell player at top of stairs */}\n        <g transform=\"translate(1030,310)\">\n          <rect x={-5} y={6} width={10} height={22} rx={2} fill={C.priestBlack} />\n          <circle cx={0} cy={2} r={5} fill={C.priestSkin} />\n          {/* Conch shell */}\n          <path d=\"M5,10 Q12,8 18,10 Q22,12 20,15 Q16,16 10,14Z\" fill={C.skullWhite} stroke={C.skullShadow} strokeWidth={0.5} />\n        </g>\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 12: CROWD FIGURES                                      */}\n      {/* ============================================================ */}\n      <AztecCrowdLayer config={AZTEC_CROWD_CONFIGS.sacrifice} frame={frame} />\n\n      {/* Additional hand-placed spectators in foreground */}\n      <g>\n        {/* Foreground kneeling figures */}\n        {[\n          [250, 730, 0.6], [350, 740, 0.55], [1550, 735, 0.6], [1650, 740, 0.55],\n          [150, 745, 0.5], [1750, 745, 0.5],\n        ].map(([fx, fy, fs], i) => {\n          const bob = sineWave(frame, 0.5, i * 2) * 2;\n          return (\n            <g key={i} transform={`translate(${fx},${(fy as number) + bob}) scale(${fs})`}>\n              {/* Kneeling body */}\n              <rect x={-6} y={0} width={12} height={18} rx={2} fill={i % 2 === 0 ? '#E8D8B8' : '#3B6B8A'} />\n              <circle cx={0} cy={-5} r={5} fill={C.priestSkin} />\n              {/* Arms in prayer position */}\n              <path d=\"M-6,5 Q-10,8 -8,12\" fill=\"none\" stroke={C.priestSkin} strokeWidth={2.5} strokeLinecap=\"round\" />\n              <path d=\"M6,5 Q10,8 8,12\" fill=\"none\" stroke={C.priestSkin} strokeWidth={2.5} strokeLinecap=\"round\" />\n            </g>\n          );\n        })}\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 13: GOD RAYS FROM FIRE                                 */}\n      {/* ============================================================ */}\n      <g opacity={0.15 + breathe * 0.03}>\n        {/* Upward light shafts from fires */}\n        {[750, 960, 1170].map((rx, i) => {\n          const rayWidth = 40 + sineWave(frame, 0.3, i * 5) * 10;\n          return (\n            <polygon key={i}\n              points={`${rx - rayWidth / 2},310 ${rx + rayWidth / 2},310 ${rx + rayWidth},0 ${rx - rayWidth},0`}\n              fill=\"url(#sac-godray)\" />\n          );\n        })}\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 13b: PROCESSIONAL STAIRWAY FIGURES                     */}\n      {/* ============================================================ */}\n      <g>\n        {/* Line of captives/prisoners being led up the stairs */}\n        {Array.from({ length: 7 }).map((_, i) => {\n          const stairX = 940 + sineWave(frame, 0.3, i * 2) * 1;\n          const stairY = 640 - i * 45;\n          const walk = sineWave(frame, 0.6, i * 1.5) * 1.5;\n          const stumble = i === 3 ? sineWave(frame, 0.4, 20) * 3 : 0;\n          return (\n            <g key={i} transform={`translate(${stairX},${stairY + walk + stumble}) scale(0.5)`}>\n              {/* Captive body - white loincloth, bound arms */}\n              <rect x={-6} y={5} width={12} height={25} rx={2} fill=\"#E8D8B8\" opacity={0.9} />\n              <circle cx={0} cy={0} r={6} fill={C.priestSkin} />\n              {/* Hair */}\n              <path d=\"M-5,-4 Q0,-8 5,-4\" fill=\"#2A1A0A\" />\n              {/* Bound hands behind back */}\n              <path d=\"M-6,12 Q-10,15 -8,18 Q-4,20 0,18 Q4,20 8,18 Q10,15 6,12\"\n                fill=\"none\" stroke={C.priestSkin} strokeWidth={2} />\n              <path d=\"M-4,16 Q0,18 4,16\" fill=\"none\" stroke=\"#9B8968\" strokeWidth={1.5} />\n              {/* Fear/sadness expression */}\n              <circle cx={-2} cy={-1} r={0.8} fill=\"#1A1A1A\" />\n              <circle cx={2} cy={-1} r={0.8} fill=\"#1A1A1A\" />\n              <path d=\"M-2,3 Q0,2 2,3\" fill=\"none\" stroke=\"#1A1A1A\" strokeWidth={0.5} />\n              {/* Guard warrior next to every other captive */}\n              {i % 2 === 0 && (\n                <g transform=\"translate(25,0)\">\n                  <rect x={-5} y={5} width={10} height={22} rx={2} fill={C.priestBlack} />\n                  <circle cx={0} cy={0} r={5} fill={C.priestSkin} />\n                  {/* Spear */}\n                  <line x1={8} y1={-15} x2={8} y2={25} stroke=\"#7A5030\" strokeWidth={2} />\n                  <path d=\"M6,-15 L8,-22 L10,-15Z\" fill={C.obsidian} />\n                  {/* Shield */}\n                  <ellipse cx={-8} cy={15} rx={6} ry={8} fill={C.bannerRed} stroke={C.shrineRedDark} strokeWidth={0.5} />\n                  <path d=\"M-8,10 L-8,20\" fill=\"none\" stroke={C.goldBright} strokeWidth={0.4} />\n                  <path d=\"M-12,15 L-4,15\" fill=\"none\" stroke={C.goldBright} strokeWidth={0.4} />\n                </g>\n              )}\n            </g>\n          );\n        })}\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 13c: ADDITIONAL PYRAMID WALL CARVINGS                  */}\n      {/* ============================================================ */}\n      <g opacity={0.5}>\n        {/* Large carved panels on pyramid face - left side */}\n        {/* Sun Stone / Calendar carving */}\n        <g transform=\"translate(520,480)\">\n          <circle cx={40} cy={40} r={35} fill=\"none\" stroke={C.pyramidDark} strokeWidth={1.2} />\n          <circle cx={40} cy={40} r={28} fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.8} />\n          <circle cx={40} cy={40} r={20} fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.6} />\n          <circle cx={40} cy={40} r={12} fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.5} />\n          {/* Sun face center */}\n          <circle cx={40} cy={40} r={6} fill={C.pyramidDark} opacity={0.3} />\n          <circle cx={37} cy={38} r={1.5} fill={C.pyramidShadow} />\n          <circle cx={43} cy={38} r={1.5} fill={C.pyramidShadow} />\n          <path d=\"M37,43 Q40,45 43,43\" fill=\"none\" stroke={C.pyramidShadow} strokeWidth={0.8} />\n          {/* Radiating lines */}\n          {Array.from({ length: 16 }).map((_, j) => {\n            const angle = (j / 16) * Math.PI * 2;\n            return (\n              <line key={j} x1={40 + Math.cos(angle) * 14} y1={40 + Math.sin(angle) * 14}\n                x2={40 + Math.cos(angle) * 26} y2={40 + Math.sin(angle) * 26}\n                stroke={C.pyramidDark} strokeWidth={0.5} />\n            );\n          })}\n          {/* Cardinal point glyphs */}\n          {[0, 90, 180, 270].map((angle, j) => {\n            const rad = (angle * Math.PI) / 180;\n            const gx = 40 + Math.cos(rad) * 32;\n            const gy = 40 + Math.sin(rad) * 32;\n            return <circle key={j} cx={gx} cy={gy} r={3} fill={C.pyramidDark} opacity={0.4} />;\n          })}\n        </g>\n\n        {/* Warrior panel - right side */}\n        <g transform=\"translate(1280,480)\">\n          <rect x={0} y={0} width={70} height={90} rx={3} fill={C.pyramidMid} stroke={C.pyramidDark} strokeWidth={0.6} />\n          {/* Eagle warrior carving */}\n          <circle cx={35} cy={20} r={10} fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.8} />\n          {/* Beak/helmet */}\n          <path d=\"M25,20 Q20,15 22,10 Q30,5 38,5 Q46,5 48,10 Q50,15 45,20\"\n            fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.6} />\n          {/* Body */}\n          <rect x={25} y={32} width={20} height={30} rx={2} fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.6} />\n          {/* Shield */}\n          <circle cx={18} cy={48} r={8} fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.5} />\n          {/* Macuahuitl weapon */}\n          <line x1={52} y1={35} x2={58} y2={65} stroke={C.pyramidDark} strokeWidth={1} />\n          {/* Feather detail */}\n          <path d=\"M28,10 Q35,-2 42,10\" fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.4} />\n        </g>\n\n        {/* Serpent relief panels on step faces */}\n        {[0, 1, 2, 3, 4, 5].map((step) => {\n          const stepY = 625 + (step === 0 ? 0 : 0) - step * 60;\n          const stepX = 465 + step * 50;\n          const stepW = 990 - step * 100;\n          return (\n            <g key={step}>\n              {/* Undulating serpent body along step */}\n              <path d={`M${stepX + 20},${stepY + 30} Q${stepX + stepW * 0.25},${stepY + 22} ${stepX + stepW * 0.5},${stepY + 30} Q${stepX + stepW * 0.75},${stepY + 38} ${stepX + stepW - 20},${stepY + 30}`}\n                fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.6} opacity={0.3} />\n              {/* Diamond pattern on serpent */}\n              {Array.from({ length: Math.floor(stepW / 60) }).map((_, d) => (\n                <path key={d} d={`M${stepX + 40 + d * 60},${stepY + 25} L${stepX + 45 + d * 60},${stepY + 30} L${stepX + 40 + d * 60},${stepY + 35} L${stepX + 35 + d * 60},${stepY + 30}Z`}\n                  fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.3} opacity={0.3} />\n              ))}\n            </g>\n          );\n        })}\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 13d: SIDE STRUCTURES AND BUILDINGS                     */}\n      {/* ============================================================ */}\n      <g>\n        {/* Left auxiliary temple/building */}\n        <rect x={140} y={520} width={130} height={160} fill={C.pyramidBase} stroke={C.pyramidDark} strokeWidth={0.8} />\n        <rect x={140} y={510} width={130} height={15} fill={C.pyramidMid} stroke={C.pyramidDark} strokeWidth={0.5} />\n        {/* Doorway */}\n        <rect x={185} y={560} width={40} height={120} rx={2} fill={C.priestBlack} opacity={0.7} />\n        {/* Torch beside door */}\n        <Torch x={175} y={540} scale={0.5} frame={frame} seed={60} />\n        {/* Carved frieze */}\n        <path d=\"M145,535 Q170,528 205,535 Q240,528 265,535\" fill=\"none\" stroke={C.goldDark} strokeWidth={0.6} opacity={0.3} />\n        {/* Upper wall decoration */}\n        {Array.from({ length: 5 }).map((_, i) => (\n          <rect key={i} x={150 + i * 24} y={525} width={12} height={8} rx={1}\n            fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.4} opacity={0.4} />\n        ))}\n        {/* Roof crest */}\n        <path d=\"M140,510 L205,480 L270,510Z\" fill={C.shrineRoof} stroke={C.pyramidDark} strokeWidth={0.5} />\n\n        {/* Right auxiliary temple */}\n        <rect x={1650} y={520} width={130} height={160} fill={C.pyramidBase} stroke={C.pyramidDark} strokeWidth={0.8} />\n        <rect x={1650} y={510} width={130} height={15} fill={C.pyramidMid} stroke={C.pyramidDark} strokeWidth={0.5} />\n        <rect x={1695} y={560} width={40} height={120} rx={2} fill={C.priestBlack} opacity={0.7} />\n        <Torch x={1740} y={540} scale={0.5} frame={frame} seed={62} />\n        <path d=\"M1655,535 Q1680,528 1715,535 Q1750,528 1775,535\" fill=\"none\" stroke={C.goldDark} strokeWidth={0.6} opacity={0.3} />\n        {Array.from({ length: 5 }).map((_, i) => (\n          <rect key={i} x={1660 + i * 24} y={525} width={12} height={8} rx={1}\n            fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.4} opacity={0.4} />\n        ))}\n        <path d=\"M1650,510 L1715,480 L1780,510Z\" fill={C.shrineRoof} stroke={C.pyramidDark} strokeWidth={0.5} />\n\n        {/* Coatepantli (serpent wall) in foreground */}\n        <rect x={0} y={700} width={400} height={40} fill={C.pyramidBase} stroke={C.pyramidDark} strokeWidth={0.5} />\n        {/* Carved serpent heads on wall */}\n        {Array.from({ length: 6 }).map((_, i) => (\n          <g key={i} transform={`translate(${30 + i * 60},700)`}>\n            <circle cx={0} cy={20} r={8} fill={C.serpentStone} stroke={C.serpentDark} strokeWidth={0.5} />\n            <circle cx={-2} cy={18} r={1.5} fill={C.serpentEye} />\n            <circle cx={2} cy={18} r={1.5} fill={C.serpentEye} />\n            <path d=\"M-4,23 Q0,26 4,23\" fill={C.serpentTongue} />\n          </g>\n        ))}\n\n        <rect x={1520} y={700} width={400} height={40} fill={C.pyramidBase} stroke={C.pyramidDark} strokeWidth={0.5} />\n        {Array.from({ length: 6 }).map((_, i) => (\n          <g key={i} transform={`translate(${1550 + i * 60},700)`}>\n            <circle cx={0} cy={20} r={8} fill={C.serpentStone} stroke={C.serpentDark} strokeWidth={0.5} />\n            <circle cx={-2} cy={18} r={1.5} fill={C.serpentEye} />\n            <circle cx={2} cy={18} r={1.5} fill={C.serpentEye} />\n            <path d=\"M-4,23 Q0,26 4,23\" fill={C.serpentTongue} />\n          </g>\n        ))}\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 13e: EAGLE AND JAGUAR WARRIOR STATUES                  */}\n      {/* ============================================================ */}\n      <g>\n        {/* Giant eagle warrior statue - left of stairs */}\n        <g transform=\"translate(820,580)\">\n          {/* Pedestal */}\n          <rect x={-20} y={70} width={40} height={30} fill={C.pyramidMid} stroke={C.pyramidDark} strokeWidth={0.8} />\n          <rect x={-23} y={95} width={46} height={10} rx={2} fill={C.pyramidBase} stroke={C.pyramidDark} strokeWidth={0.5} />\n          {/* Torso */}\n          <rect x={-12} y={20} width={24} height={50} rx={3} fill={C.pyramidLight} stroke={C.pyramidDark} strokeWidth={0.6} />\n          {/* Head with eagle helmet */}\n          <circle cx={0} cy={12} r={12} fill={C.pyramidLight} stroke={C.pyramidDark} strokeWidth={0.6} />\n          <path d=\"M-12,8 Q0,-8 12,8\" fill={C.pyramidMid} stroke={C.pyramidDark} strokeWidth={0.5} />\n          <path d=\"M0,-5 L0,5 L8,12\" fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.6} />\n          {/* Beak */}\n          <path d=\"M0,5 Q-5,10 -3,15 Q0,12 3,15 Q5,10 0,5Z\" fill={C.pyramidDark} opacity={0.7} />\n          {/* Wings spread */}\n          <path d=\"M-12,30 Q-30,20 -40,35 Q-35,40 -12,40\" fill={C.pyramidLight} stroke={C.pyramidDark} strokeWidth={0.5} />\n          <path d=\"M12,30 Q30,20 40,35 Q35,40 12,40\" fill={C.pyramidLight} stroke={C.pyramidDark} strokeWidth={0.5} />\n          {/* Shield */}\n          <circle cx={-25} cy={55} r={10} fill={C.pyramidMid} stroke={C.pyramidDark} strokeWidth={0.5} />\n          {/* Weapon */}\n          <line x1={25} y1={25} x2={30} y2={70} stroke={C.pyramidDark} strokeWidth={2} />\n        </g>\n\n        {/* Giant jaguar warrior statue - right of stairs */}\n        <g transform=\"translate(1100,580)\">\n          <rect x={-20} y={70} width={40} height={30} fill={C.pyramidMid} stroke={C.pyramidDark} strokeWidth={0.8} />\n          <rect x={-23} y={95} width={46} height={10} rx={2} fill={C.pyramidBase} stroke={C.pyramidDark} strokeWidth={0.5} />\n          <rect x={-12} y={20} width={24} height={50} rx={3} fill={C.pyramidLight} stroke={C.pyramidDark} strokeWidth={0.6} />\n          <circle cx={0} cy={12} r={12} fill={C.pyramidLight} stroke={C.pyramidDark} strokeWidth={0.6} />\n          {/* Jaguar ears */}\n          <path d=\"M-10,2 Q-12,-5 -6,-2Z\" fill={C.pyramidMid} stroke={C.pyramidDark} strokeWidth={0.4} />\n          <path d=\"M10,2 Q12,-5 6,-2Z\" fill={C.pyramidMid} stroke={C.pyramidDark} strokeWidth={0.4} />\n          {/* Jaguar face */}\n          <circle cx={-4} cy={8} r={2} fill={C.pyramidDark} opacity={0.6} />\n          <circle cx={4} cy={8} r={2} fill={C.pyramidDark} opacity={0.6} />\n          <path d=\"M-3,14 Q0,16 3,14\" fill={C.pyramidDark} opacity={0.5} />\n          {/* Jaguar spots on body */}\n          {[[-5, 30], [5, 35], [-3, 45], [6, 50], [-6, 55]].map(([sx, sy], i) => (\n            <circle key={i} cx={sx} cy={sy} r={2} fill={C.pyramidDark} opacity={0.3} />\n          ))}\n          <circle cx={25} cy={55} r={10} fill={C.pyramidMid} stroke={C.pyramidDark} strokeWidth={0.5} />\n          <line x1={-25} y1={25} x2={-30} y2={70} stroke={C.pyramidDark} strokeWidth={2} />\n        </g>\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 14: FOREGROUND ELEMENTS                                */}\n      {/* ============================================================ */}\n      <g>\n        {/* Left foreground - close-up of carved wall section */}\n        <rect x={0} y={600} width={120} height={480} fill={C.pyramidBase} stroke={C.pyramidDark} strokeWidth={1} />\n        {/* Carved relief on foreground wall */}\n        <g transform=\"translate(20,640)\">\n          {/* Warrior carving */}\n          <rect x={0} y={0} width={80} height={100} rx={3} fill={C.pyramidMid} stroke={C.pyramidDark} strokeWidth={0.5} />\n          <circle cx={40} cy={25} r={12} fill=\"none\" stroke={C.pyramidDark} strokeWidth={1} opacity={0.5} />\n          <path d=\"M30,40 L40,55 L50,40\" fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.8} opacity={0.5} />\n          <rect x={25} y={60} width={30} height={30} rx={2} fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.6} opacity={0.4} />\n          <path d=\"M35,65 L40,75 L45,65\" fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.5} opacity={0.4} />\n        </g>\n        {/* Foreground torch */}\n        <Torch x={60} y={580} scale={1.0} frame={frame} seed={50} />\n\n        {/* Right foreground - pillar edge */}\n        <rect x={1820} y={580} width={100} height={500} fill={C.pyramidBase} stroke={C.pyramidDark} strokeWidth={1} />\n        <g transform=\"translate(1840,620)\">\n          <rect x={0} y={0} width={60} height={80} rx={3} fill={C.pyramidMid} stroke={C.pyramidDark} strokeWidth={0.5} />\n          <circle cx={30} cy={20} r={10} fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.8} opacity={0.5} />\n          <path d=\"M20,35 L30,50 L40,35\" fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.6} opacity={0.4} />\n        </g>\n        <Torch x={1860} y={570} scale={1.0} frame={frame} seed={52} />\n\n        {/* Foreground smoke wisps */}\n        <g filter=\"url(#sac-smoke-blur)\" opacity={0.3}>\n          <ellipse cx={100 + slowDrift * 20} cy={800} rx={120} ry={40} fill={C.smokeMid} />\n          <ellipse cx={1800 - slowDrift * 15} cy={820} rx={100} ry={35} fill={C.smokeMid} />\n          <ellipse cx={960 + slowDrift * 10} cy={850} rx={200} ry={50} fill={C.smokeDark} opacity={0.2} />\n        </g>\n\n        {/* Floating embers in foreground */}\n        {Array.from({ length: 20 }).map((_, i) => {\n          const ex = 200 + (i * 83) % 1520;\n          const ey = 300 + ((frame * 0.3 + i * 47) % 600);\n          const eSize = 0.5 + (i % 5) * 0.3;\n          const eOp = Math.max(0, 0.7 - (ey - 300) / 600);\n          const eDrift = sineWave(frame, 0.5 + i * 0.1, i * 2) * 10;\n          return (\n            <circle key={i} cx={ex + eDrift} cy={1080 - ey} r={eSize}\n              fill={i % 3 === 0 ? C.emberYellow : i % 3 === 1 ? C.emberOrange : C.emberRed}\n              opacity={eOp * 0.6} />\n          );\n        })}\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 14b: ADDITIONAL GROUND DETAILS AND OFFERINGS           */}\n      {/* ============================================================ */}\n      <g>\n        {/* Scattered flower petals on plaza (marigold for ceremony) */}\n        {Array.from({ length: 30 }).map((_, i) => {\n          const px = 300 + (i * 47) % 1320;\n          const py = 690 + (i * 23) % 60;\n          const pRot = i * 37;\n          const pSize = 1.5 + (i % 4) * 0.5;\n          return (\n            <ellipse key={i} cx={px} cy={py} rx={pSize} ry={pSize * 0.6}\n              fill={i % 3 === 0 ? C.goldBright : i % 3 === 1 ? C.fireMid : C.featherRed}\n              opacity={0.4 + (i % 5) * 0.05}\n              transform={`rotate(${pRot},${px},${py})`} />\n          );\n        })}\n\n        {/* Copal incense trails on the ground */}\n        {[500, 700, 1200, 1400].map((ix, i) => (\n          <g key={i}>\n            <ellipse cx={ix} cy={695} rx={15} ry={3} fill={C.smokeMid} opacity={0.15} />\n            <ellipse cx={ix + sineWave(frame, 0.4, i * 5) * 5} cy={685 + smokeRise * 3}\n              rx={10 + sineWave(frame, 0.6, i) * 3} ry={8}\n              fill={C.copalSmoke} opacity={0.1} />\n          </g>\n        ))}\n\n        {/* Stone carved drainage channels in plaza */}\n        <line x1={460} y1={680} x2={460} y2={780} stroke={C.plazaGap} strokeWidth={2} opacity={0.4} />\n        <line x1={1460} y1={680} x2={1460} y2={780} stroke={C.plazaGap} strokeWidth={2} opacity={0.4} />\n        <line x1={460} y1={780} x2={1460} y2={780} stroke={C.plazaGap} strokeWidth={2} opacity={0.3} />\n        {/* Blood in channels */}\n        <line x1={900} y1={682} x2={900} y2={780} stroke={C.bloodDark} strokeWidth={1.5} opacity={0.25} />\n        <line x1={1020} y1={682} x2={1020} y2={780} stroke={C.bloodDark} strokeWidth={1} opacity={0.2} />\n\n        {/* Offering piles at base of pyramid */}\n        {/* Jade and turquoise offerings */}\n        <g transform=\"translate(620,672)\">\n          {Array.from({ length: 6 }).map((_, i) => (\n            <circle key={i} cx={i * 8 - 20} cy={Math.sin(i * 1.3) * 3} r={3 + (i % 3)}\n              fill={i % 2 === 0 ? C.jadeGreen : C.turquoise} opacity={0.6} stroke={C.jadeDark} strokeWidth={0.3} />\n          ))}\n        </g>\n\n        {/* Gold ornaments offering */}\n        <g transform=\"translate(1300,672)\">\n          {Array.from({ length: 5 }).map((_, i) => (\n            <g key={i}>\n              <circle cx={i * 10 - 20} cy={Math.cos(i * 1.7) * 2} r={2.5 + i % 2}\n                fill={C.goldBright} opacity={0.5} stroke={C.goldDark} strokeWidth={0.3} />\n              {i % 2 === 0 && (\n                <rect x={i * 10 - 22} y={-6} width={5} height={3} rx={0.5}\n                  fill={C.goldBright} opacity={0.4} />\n              )}\n            </g>\n          ))}\n        </g>\n\n        {/* Feather bundles */}\n        {[550, 1380].map((fbx, fi) => (\n          <g key={fi} transform={`translate(${fbx},670)`}>\n            {Array.from({ length: 8 }).map((_, i) => {\n              const fAngle = -30 + i * 8;\n              const fColor = [C.featherGreen, C.featherBlue, C.featherRed, C.featherGold][i % 4];\n              return (\n                <line key={i} x1={0} y1={0} x2={Math.sin(fAngle * Math.PI / 180) * 15}\n                  y2={-10 - Math.cos(fAngle * Math.PI / 180) * 8}\n                  stroke={fColor} strokeWidth={1.5} strokeLinecap=\"round\" opacity={0.6} />\n              );\n            })}\n            <ellipse cx={0} cy={2} rx={5} ry={2} fill={C.rackRope} />\n          </g>\n        ))}\n\n        {/* Large stone Chac Mool statue at plaza level */}\n        <g transform=\"translate(700,690)\">\n          {/* Reclining figure base */}\n          <ellipse cx={0} cy={15} rx={25} ry={5} fill={C.pyramidDark} opacity={0.3} />\n          {/* Body reclining */}\n          <path d=\"M-20,0 Q-18,-8 -10,-10 Q0,-12 10,-10 Q18,-8 20,0 Q18,8 10,10 Q0,12 -10,10 Q-18,8 -20,0Z\"\n            fill={C.pyramidLight} stroke={C.pyramidDark} strokeWidth={0.8} />\n          {/* Head turned sideways */}\n          <circle cx={-18} cy={-5} r={7} fill={C.pyramidLight} stroke={C.pyramidDark} strokeWidth={0.6} />\n          <circle cx={-20} cy={-7} r={1.5} fill={C.pyramidDark} opacity={0.5} />\n          {/* Bowl on belly */}\n          <ellipse cx={0} cy={-5} rx={8} ry={4} fill={C.pyramidMid} stroke={C.pyramidDark} strokeWidth={0.5} />\n          <ellipse cx={0} cy={-6} rx={6} ry={3} fill={C.bloodDark} opacity={0.4} />\n          {/* Knees */}\n          <circle cx={15} cy={0} r={5} fill={C.pyramidLight} stroke={C.pyramidDark} strokeWidth={0.4} />\n        </g>\n\n        {/* Another Chac Mool on right side */}\n        <g transform=\"translate(1220,690) scale(-1,1)\">\n          <ellipse cx={0} cy={15} rx={25} ry={5} fill={C.pyramidDark} opacity={0.3} />\n          <path d=\"M-20,0 Q-18,-8 -10,-10 Q0,-12 10,-10 Q18,-8 20,0 Q18,8 10,10 Q0,12 -10,10 Q-18,8 -20,0Z\"\n            fill={C.pyramidLight} stroke={C.pyramidDark} strokeWidth={0.8} />\n          <circle cx={-18} cy={-5} r={7} fill={C.pyramidLight} stroke={C.pyramidDark} strokeWidth={0.6} />\n          <circle cx={-20} cy={-7} r={1.5} fill={C.pyramidDark} opacity={0.5} />\n          <ellipse cx={0} cy={-5} rx={8} ry={4} fill={C.pyramidMid} stroke={C.pyramidDark} strokeWidth={0.5} />\n          <ellipse cx={0} cy={-6} rx={6} ry={3} fill={C.bloodDark} opacity={0.4} />\n          <circle cx={15} cy={0} r={5} fill={C.pyramidLight} stroke={C.pyramidDark} strokeWidth={0.4} />\n        </g>\n\n        {/* Caged animals near the temple (jaguars for warriors) */}\n        <g transform=\"translate(340,660)\">\n          {/* Wooden cage */}\n          <rect x={0} y={0} width={40} height={30} fill=\"none\" stroke={C.rackWood} strokeWidth={1.5} />\n          {Array.from({ length: 5 }).map((_, i) => (\n            <line key={i} x1={8 + i * 8} y1={0} x2={8 + i * 8} y2={30}\n              stroke={C.rackWood} strokeWidth={1} />\n          ))}\n          {/* Jaguar inside (silhouette) */}\n          <ellipse cx={20} cy={18} rx={12} ry={8} fill=\"#5C4420\" opacity={0.5} />\n          <circle cx={15} cy={14} r={1} fill={C.serpentEye} opacity={0.8} />\n          <circle cx={25} cy={14} r={1} fill={C.serpentEye} opacity={0.8} />\n        </g>\n\n        {/* Stone marker/stele with glyphs */}\n        <g transform=\"translate(1500,640)\">\n          <rect x={0} y={0} width={20} height={45} rx={2} fill={C.pyramidMid} stroke={C.pyramidDark} strokeWidth={0.6} />\n          <rect x={-3} y={42} width={26} height={8} rx={1} fill={C.pyramidBase} />\n          {/* Glyphs */}\n          <circle cx={10} cy={10} r={4} fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.5} opacity={0.5} />\n          <rect x={5} y={18} width={10} height={8} rx={1} fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.4} opacity={0.4} />\n          <path d=\"M5,30 Q10,33 15,30\" fill=\"none\" stroke={C.pyramidDark} strokeWidth={0.4} opacity={0.4} />\n        </g>\n      </g>\n\n      {/* ============================================================ */}\n      {/* LAYER 15: STONE TABLET BOARD                                 */}\n      {/* ============================================================ */}\n      <StoneTablet x={50} y={900} width={350} height={60} text={boardText} frame={frame} />\n\n      {/* ============================================================ */}\n      {/* LAYER 16: ATMOSPHERIC OVERLAYS                               */}\n      {/* ============================================================ */}\n      <g>\n        {/* Vignette */}\n        <rect x={0} y={0} width={width} height={height} fill=\"url(#sac-vignette)\" />\n\n        {/* Fire-lit warm overlay on lower half */}\n        <rect x={0} y={400} width={width} height={680} fill={C.fireGlowWide} opacity={0.08 + fireFlicker * 0.02} />\n\n        {/* Moonlight cool overlay on upper area */}\n        <rect x={1400} y={0} width={520} height={400} fill={C.moonGlow} opacity={0.05} />\n\n        {/* Film grain / canvas texture */}\n        <rect x={0} y={0} width={width} height={height} fill=\"url(#sac-stone-tex)\" opacity={0.03} />\n\n        {/* Final atmospheric haze at bottom */}\n        <rect x={0} y={900} width={width} height={180}\n          fill={C.fogDark} opacity={0.2 + breathe * 0.03} />\n\n        {/* Top darkness */}\n        <rect x={0} y={0} width={width} height={150}\n          fill={C.vignetteBlack} opacity={0.3} />\n\n        {/* Subtle color shift for oil painting warmth */}\n        <rect x={0} y={0} width={width} height={height}\n          fill=\"rgba(180,120,40,0.03)\" />\n      </g>\n    </svg>\n  );\n};\n\nexport default AztecSacrifice;\n","import React from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { sineWave } from '../animations/easing';\nimport { AztecCrowdLayer, AZTEC_CROWD_CONFIGS } from '../crowds/AztecCrowd';\n\n// ---- Color palette: Monet-inspired morning light on Aztec floating gardens ----\nconst C = {\n  // Sky\n  skyTop: '#3B5998',\n  skyMid: '#7B9FD4',\n  skyBottom: '#E8C8A0',\n  skyPink: '#E8A0A0',\n  skyGold: '#F0D080',\n  skyLavender: '#C8B0D8',\n  cloudWhite: '#F8F0E8',\n  cloudPink: '#F0D0C0',\n  cloudGold: '#F0E0B0',\n  cloudShadow: 'rgba(100,80,120,0.15)',\n\n  // Mountains & Tenochtitlan\n  mountainFar: '#6878A8',\n  mountainMid: '#5A6888',\n  mountainNear: '#4A5870',\n  mountainSnow: '#D8E0F0',\n  cityGold: '#D4A840',\n  cityStone: '#A89878',\n  cityWhite: '#E8E0D0',\n  templePyramid: '#B8986A',\n  templeRed: '#B85040',\n  templeTop: '#D4A040',\n\n  // Water\n  waterDeep: '#2A5060',\n  waterMid: '#3A7080',\n  waterLight: '#4A9098',\n  waterSurface: '#5AABB0',\n  waterReflect: '#80C8D0',\n  waterHighlight: 'rgba(200,230,240,0.4)',\n  waterShadow: 'rgba(20,40,50,0.3)',\n  waterGold: 'rgba(240,200,120,0.15)',\n  waterRipple: 'rgba(255,255,255,0.12)',\n\n  // Chinampa earth & structure\n  earthDark: '#3A2A18',\n  earthMid: '#5A4228',\n  earthRich: '#6A5030',\n  earthLight: '#8A6838',\n  earthWet: '#4A3420',\n  wickerwork: '#7A6040',\n  wickerDark: '#5A4030',\n  mudBank: '#6A5838',\n  stakeWood: '#5A3820',\n\n  // Crops - Corn (Maize)\n  cornStalk: '#4A8A30',\n  cornLeaf: '#5AA838',\n  cornLeafDark: '#387828',\n  cornSilk: '#F0E080',\n  cornCob: '#E8C840',\n  cornTassel: '#C8A040',\n\n  // Crops - Squash\n  squashGreen: '#4A7A30',\n  squashOrange: '#D87830',\n  squashYellow: '#E0A830',\n  squashLeaf: '#3A6828',\n  squashVine: '#508838',\n\n  // Crops - Flowers (Marigold / Cempasuchil)\n  marigoldYellow: '#F0C020',\n  marigoldOrange: '#E89020',\n  marigoldDeep: '#D07018',\n  marigoldPetal: '#F8D040',\n  flowerPurple: '#8040A0',\n  flowerWhite: '#F0E8E0',\n  flowerPink: '#D080A0',\n\n  // Crops - Tomatoes & Chili\n  tomatoRed: '#C83028',\n  tomatoGreen: '#5A8830',\n  tomatoDark: '#A02820',\n  chiliRed: '#D03020',\n  chiliGreen: '#488028',\n  chiliDark: '#A02018',\n\n  // Trees (Ahuejote willows)\n  willowTrunk: '#5A4838',\n  willowTrunkDark: '#3A2828',\n  willowTrunkLight: '#7A6848',\n  willowBark: '#4A3828',\n  willowLeaf: '#4A8838',\n  willowLeafLight: '#68A848',\n  willowLeafDark: '#387028',\n  willowDroop: '#58A040',\n\n  // Canoe\n  canoeWood: '#6A4828',\n  canoeDark: '#4A3018',\n  canoeLight: '#8A6838',\n  canoeInside: '#5A3820',\n  paddle: '#7A5830',\n  paddleBlade: '#6A4828',\n\n  // Reeds & lilies\n  reedGreen: '#4A7838',\n  reedDark: '#387028',\n  reedLight: '#68A850',\n  reedTip: '#7A9860',\n  lilyPadGreen: '#3A7038',\n  lilyPadLight: '#4A8848',\n  lilyPadDark: '#2A5828',\n  lilyFlower: '#F0D0E0',\n  lilyFlowerPink: '#E0A0B0',\n  lilyCenter: '#F0E080',\n\n  // Birds\n  heronWhite: '#E8E4D8',\n  heronGray: '#A0A098',\n  heronBeak: '#D0A040',\n  heronLeg: '#808070',\n  duckBrown: '#7A5A38',\n  duckGreen: '#2A6838',\n  duckBeak: '#D09030',\n\n  // Atmosphere\n  mistWhite: 'rgba(230,235,240,0.12)',\n  mistGold: 'rgba(240,210,160,0.08)',\n  mistBlue: 'rgba(140,180,210,0.06)',\n  morningGlow: 'rgba(255,200,140,0.1)',\n  atmosphereHaze: 'rgba(180,190,210,0.08)',\n\n  // Stone tablet\n  stoneTablet: '#8A7A6A',\n  stoneTabletDark: '#6A5A4A',\n  stoneTabletLight: '#A89A8A',\n  stoneFrame: '#5A4A3A',\n  glyphColor: '#4A3A2A',\n  chalkText: '#F0E8D8',\n\n  // Canvas texture\n  canvasOverlay: 'rgba(200,190,170,0.04)',\n\n  // General\n  outline: '#1A1A1A',\n  shadow: 'rgba(0,0,0,0.15)',\n};\n\n// ---- Interface ----\ninterface ChinampasProps {\n  boardText?: string;\n  width?: number;\n  height?: number;\n}\n\n// =============================================================================\n// SUB-COMPONENT: WillowTree (Ahuejote)\n// Aztec willows with drooping branches that sway gently in morning breeze\n// =============================================================================\nconst WillowTree: React.FC<{\n  x: number;\n  y: number;\n  scale?: number;\n  seed?: number;\n  trunkHeight?: number;\n}> = ({ x, y, scale = 1, seed = 0, trunkHeight = 180 }) => {\n  const frame = useCurrentFrame();\n  const sway = sineWave(frame, 0.08, seed) * 3;\n  const breeze = sineWave(frame, 0.12, seed + 1.5) * 2;\n  const leafSway1 = sineWave(frame, 0.15, seed + 0.3) * 4;\n  const leafSway2 = sineWave(frame, 0.1, seed + 0.7) * 3;\n  const leafSway3 = sineWave(frame, 0.13, seed + 1.1) * 5;\n\n  const th = trunkHeight;\n  const crownSpread = th * 0.7;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale})`}>\n      {/* Shadow on water */}\n      <ellipse\n        cx={15}\n        cy={8}\n        rx={crownSpread * 0.5}\n        ry={12}\n        fill={C.shadow}\n        opacity={0.3}\n      />\n\n      {/* Main trunk */}\n      <path\n        d={`M0,0 Q${sway * 0.5},-${th * 0.4} ${sway},-${th}`}\n        fill=\"none\"\n        stroke={C.willowTrunkDark}\n        strokeWidth={14}\n        strokeLinecap=\"round\"\n      />\n      <path\n        d={`M0,0 Q${sway * 0.5},-${th * 0.4} ${sway},-${th}`}\n        fill=\"none\"\n        stroke={C.willowTrunk}\n        strokeWidth={10}\n        strokeLinecap=\"round\"\n      />\n      {/* Bark texture lines */}\n      {[0.15, 0.3, 0.45, 0.6, 0.75, 0.88].map((r, i) => {\n        const tx = sway * r * 0.5;\n        const ty = -th * r;\n        return (\n          <line\n            key={`bark-${i}`}\n            x1={tx - 4}\n            y1={ty - 3}\n            x2={tx + 4}\n            y2={ty + 3}\n            stroke={C.willowBark}\n            strokeWidth={1}\n            opacity={0.3}\n          />\n        );\n      })}\n      {/* Secondary trunk branch going left */}\n      <path\n        d={`M${sway * 0.6},-${th * 0.65} Q${sway - 30},-${th * 0.8} ${sway - 50 + breeze},-${th * 0.7}`}\n        fill=\"none\"\n        stroke={C.willowTrunk}\n        strokeWidth={5}\n        strokeLinecap=\"round\"\n      />\n      {/* Secondary trunk branch going right */}\n      <path\n        d={`M${sway * 0.7},-${th * 0.7} Q${sway + 25},-${th * 0.85} ${sway + 45 + breeze},-${th * 0.75}`}\n        fill=\"none\"\n        stroke={C.willowTrunk}\n        strokeWidth={4}\n        strokeLinecap=\"round\"\n      />\n\n      {/* Crown foliage mass (background layer) */}\n      <ellipse\n        cx={sway}\n        cy={-th - 10}\n        rx={crownSpread * 0.55}\n        ry={th * 0.3}\n        fill={C.willowLeafDark}\n        opacity={0.6}\n      />\n\n      {/* Drooping willow branches - left side */}\n      {[-60, -45, -30, -18].map((offsetX, i) => {\n        const branchSway = leafSway1 * (0.5 + i * 0.15);\n        const startX = sway + offsetX;\n        const startY = -th + 10 - i * 8;\n        const endX = startX + offsetX * 0.8 + branchSway;\n        const endY = startY + th * 0.55 + i * 10;\n        return (\n          <g key={`lbranch-${i}`}>\n            <path\n              d={`M${startX},${startY} Q${startX + offsetX * 0.4 + branchSway * 0.5},${startY + (endY - startY) * 0.5} ${endX},${endY}`}\n              fill=\"none\"\n              stroke={C.willowLeafDark}\n              strokeWidth={2}\n              opacity={0.4}\n            />\n            <path\n              d={`M${startX},${startY} Q${startX + offsetX * 0.3 + branchSway * 0.6},${startY + (endY - startY) * 0.4} ${endX + 3},${endY - 5}`}\n              fill=\"none\"\n              stroke={C.willowLeaf}\n              strokeWidth={3.5}\n              strokeLinecap=\"round\"\n              opacity={0.7}\n            />\n            {/* Leaf clusters along branch */}\n            {[0.3, 0.5, 0.7, 0.9].map((t, j) => {\n              const lx = startX + (endX - startX) * t + branchSway * t * 0.3;\n              const ly = startY + (endY - startY) * t;\n              return (\n                <ellipse\n                  key={`lleaf-${i}-${j}`}\n                  cx={lx}\n                  cy={ly}\n                  rx={6 + j}\n                  ry={3}\n                  fill={j % 2 === 0 ? C.willowLeaf : C.willowLeafLight}\n                  opacity={0.6 + j * 0.05}\n                  transform={`rotate(${offsetX * 0.5 + branchSway * 2}, ${lx}, ${ly})`}\n                />\n              );\n            })}\n          </g>\n        );\n      })}\n\n      {/* Drooping willow branches - right side */}\n      {[18, 30, 45, 55].map((offsetX, i) => {\n        const branchSway = leafSway2 * (0.5 + i * 0.12);\n        const startX = sway + offsetX;\n        const startY = -th + 5 - i * 6;\n        const endX = startX + offsetX * 0.75 + branchSway;\n        const endY = startY + th * 0.5 + i * 12;\n        return (\n          <g key={`rbranch-${i}`}>\n            <path\n              d={`M${startX},${startY} Q${startX + offsetX * 0.35 + branchSway * 0.4},${startY + (endY - startY) * 0.5} ${endX},${endY}`}\n              fill=\"none\"\n              stroke={C.willowLeaf}\n              strokeWidth={3}\n              strokeLinecap=\"round\"\n              opacity={0.65}\n            />\n            {[0.25, 0.5, 0.75, 0.95].map((t, j) => {\n              const lx = startX + (endX - startX) * t + branchSway * t * 0.2;\n              const ly = startY + (endY - startY) * t;\n              return (\n                <ellipse\n                  key={`rleaf-${i}-${j}`}\n                  cx={lx}\n                  cy={ly}\n                  rx={5 + j}\n                  ry={3}\n                  fill={j % 2 === 0 ? C.willowLeafLight : C.willowDroop}\n                  opacity={0.55 + j * 0.06}\n                  transform={`rotate(${-offsetX * 0.4 + branchSway * 1.5}, ${lx}, ${ly})`}\n                />\n              );\n            })}\n          </g>\n        );\n      })}\n\n      {/* Front drooping branches (foreground, more opaque) */}\n      {[-35, 0, 25].map((offsetX, i) => {\n        const branchSway = leafSway3 * (0.6 + i * 0.1);\n        const startX = sway + offsetX;\n        const startY = -th - 5;\n        const endX = startX + offsetX * 0.9 + branchSway;\n        const endY = startY + th * 0.65;\n        return (\n          <path\n            key={`fbranch-${i}`}\n            d={`M${startX},${startY} C${startX + offsetX * 0.3},${startY + 40} ${endX - branchSway * 0.5},${endY - 30} ${endX},${endY}`}\n            fill=\"none\"\n            stroke={C.willowLeafLight}\n            strokeWidth={2.5}\n            strokeLinecap=\"round\"\n            opacity={0.5}\n          />\n        );\n      })}\n\n      {/* Top crown highlight */}\n      <ellipse\n        cx={sway + 5}\n        cy={-th - 15}\n        rx={crownSpread * 0.3}\n        ry={th * 0.15}\n        fill={C.willowLeafLight}\n        opacity={0.3}\n      />\n    </g>\n  );\n};\n\n// =============================================================================\n// SUB-COMPONENT: ChinampaPlot\n// A rectangular floating garden bed with wicker edges and varied crops\n// =============================================================================\nconst ChinampaPlot: React.FC<{\n  x: number;\n  y: number;\n  plotWidth: number;\n  plotHeight: number;\n  cropType: 'corn' | 'squash' | 'marigold' | 'tomato' | 'chili' | 'mixed';\n  seed?: number;\n}> = ({ x, y, plotWidth, plotHeight, cropType, seed = 0 }) => {\n  const frame = useCurrentFrame();\n  const cropSway = sineWave(frame, 0.1, seed) * 2;\n  const growPulse = sineWave(frame, 0.06, seed + 2) * 0.5;\n\n  const renderCorn = (cx: number, cy: number, idx: number) => {\n    const stalkSway = sineWave(frame, 0.09, seed + idx * 0.3) * 3;\n    const stalkH = 35 + idx * 3;\n    return (\n      <g key={`corn-${idx}`} transform={`translate(${cx}, ${cy})`}>\n        {/* Stalk */}\n        <line\n          x1={0}\n          y1={0}\n          x2={stalkSway}\n          y2={-stalkH}\n          stroke={C.cornStalk}\n          strokeWidth={2.5}\n          strokeLinecap=\"round\"\n        />\n        {/* Leaves */}\n        <path\n          d={`M${stalkSway * 0.3},-${stalkH * 0.4} Q${-12 + stalkSway * 0.5},-${stalkH * 0.5} ${-15 + stalkSway * 0.6},-${stalkH * 0.35}`}\n          fill=\"none\"\n          stroke={C.cornLeaf}\n          strokeWidth={2}\n          strokeLinecap=\"round\"\n        />\n        <path\n          d={`M${stalkSway * 0.5},-${stalkH * 0.6} Q${10 + stalkSway * 0.4},-${stalkH * 0.7} ${14 + stalkSway * 0.3},-${stalkH * 0.55}`}\n          fill=\"none\"\n          stroke={C.cornLeafDark}\n          strokeWidth={2}\n          strokeLinecap=\"round\"\n        />\n        <path\n          d={`M${stalkSway * 0.7},-${stalkH * 0.75} Q${-8 + stalkSway * 0.6},-${stalkH * 0.85} ${-11 + stalkSway * 0.7},-${stalkH * 0.7}`}\n          fill=\"none\"\n          stroke={C.cornLeaf}\n          strokeWidth={1.5}\n          strokeLinecap=\"round\"\n        />\n        {/* Corn cob */}\n        <ellipse\n          cx={stalkSway * 0.5 + 3}\n          cy={-stalkH * 0.5}\n          rx={3}\n          ry={6}\n          fill={C.cornCob}\n          stroke={C.cornStalk}\n          strokeWidth={0.5}\n        />\n        {/* Tassel top */}\n        <path\n          d={`M${stalkSway},-${stalkH} L${stalkSway - 4},-${stalkH + 6} M${stalkSway},-${stalkH} L${stalkSway + 3},-${stalkH + 5} M${stalkSway},-${stalkH} L${stalkSway},-${stalkH + 7}`}\n          fill=\"none\"\n          stroke={C.cornTassel}\n          strokeWidth={1}\n        />\n      </g>\n    );\n  };\n\n  const renderSquash = (cx: number, cy: number, idx: number) => {\n    const leafWiggle = sineWave(frame, 0.11, seed + idx * 0.5) * 2;\n    return (\n      <g key={`squash-${idx}`} transform={`translate(${cx}, ${cy})`}>\n        {/* Large leaf */}\n        <ellipse\n          cx={leafWiggle}\n          cy={-6}\n          rx={10}\n          ry={7}\n          fill={C.squashLeaf}\n          opacity={0.8}\n          transform={`rotate(${leafWiggle * 3}, ${leafWiggle}, -6)`}\n        />\n        <ellipse\n          cx={leafWiggle + 8}\n          cy={-4}\n          rx={8}\n          ry={6}\n          fill={C.squashGreen}\n          opacity={0.7}\n          transform={`rotate(${-leafWiggle * 2}, ${leafWiggle + 8}, -4)`}\n        />\n        {/* Vine */}\n        <path\n          d={`M${leafWiggle - 5},-5 Q${leafWiggle - 15},-8 ${leafWiggle - 18},-3`}\n          fill=\"none\"\n          stroke={C.squashVine}\n          strokeWidth={1.5}\n        />\n        {/* Squash fruit */}\n        {idx % 2 === 0 ? (\n          <ellipse cx={5} cy={-2} rx={6} ry={4} fill={C.squashOrange} stroke={C.earthDark} strokeWidth={0.5} />\n        ) : (\n          <ellipse cx={-3} cy={-2} rx={5} ry={3.5} fill={C.squashYellow} stroke={C.earthDark} strokeWidth={0.5} />\n        )}\n      </g>\n    );\n  };\n\n  const renderMarigold = (cx: number, cy: number, idx: number) => {\n    const flowerSway = sineWave(frame, 0.14, seed + idx * 0.4) * 2;\n    const petalPulse = 1 + sineWave(frame, 0.08, seed + idx) * 0.05;\n    return (\n      <g key={`marigold-${idx}`} transform={`translate(${cx}, ${cy})`}>\n        {/* Stem */}\n        <line\n          x1={0}\n          y1={0}\n          x2={flowerSway}\n          y2={-18}\n          stroke={C.cornStalk}\n          strokeWidth={1.5}\n        />\n        {/* Leaves */}\n        <path\n          d={`M${flowerSway * 0.3},-8 Q${-6},-10 ${-8},-6`}\n          fill={C.squashGreen}\n          opacity={0.7}\n        />\n        {/* Flower head */}\n        <g transform={`translate(${flowerSway}, -18) scale(${petalPulse})`}>\n          {[0, 45, 90, 135, 180, 225, 270, 315].map((angle, pi) => (\n            <ellipse\n              key={`petal-${pi}`}\n              cx={0}\n              cy={-4}\n              rx={2.5}\n              ry={4}\n              fill={pi % 2 === 0 ? C.marigoldYellow : C.marigoldOrange}\n              transform={`rotate(${angle}, 0, 0)`}\n              opacity={0.85}\n            />\n          ))}\n          <circle cx={0} cy={0} r={2.5} fill={C.marigoldDeep} />\n        </g>\n      </g>\n    );\n  };\n\n  const renderTomato = (cx: number, cy: number, idx: number) => {\n    const leafWave = sineWave(frame, 0.1, seed + idx * 0.6) * 1.5;\n    return (\n      <g key={`tomato-${idx}`} transform={`translate(${cx}, ${cy})`}>\n        {/* Support stake */}\n        <line x1={0} y1={2} x2={0} y2={-22} stroke={C.stakeWood} strokeWidth={1.5} />\n        {/* Vine */}\n        <path\n          d={`M0,-5 Q${5 + leafWave},-10 ${3 + leafWave},-18`}\n          fill=\"none\"\n          stroke={C.tomatoGreen}\n          strokeWidth={1.5}\n        />\n        {/* Leaves */}\n        <ellipse cx={6 + leafWave} cy={-12} rx={6} ry={3.5} fill={C.tomatoGreen} opacity={0.7}\n          transform={`rotate(${15 + leafWave * 3}, ${6 + leafWave}, -12)`} />\n        <ellipse cx={-4 + leafWave * 0.5} cy={-16} rx={5} ry={3} fill={C.squashGreen} opacity={0.6}\n          transform={`rotate(${-20 + leafWave * 2}, ${-4}, -16)`} />\n        {/* Tomato fruits */}\n        <circle cx={4 + leafWave * 0.3} cy={-8} r={3.5} fill={C.tomatoRed} stroke={C.tomatoDark} strokeWidth={0.5} />\n        {idx % 3 === 0 && <circle cx={-2} cy={-5} r={2.8} fill={C.tomatoRed} stroke={C.tomatoDark} strokeWidth={0.5} />}\n        {idx % 2 === 0 && <circle cx={6} cy={-15} r={2} fill={C.tomatoGreen} stroke={C.squashGreen} strokeWidth={0.4} />}\n      </g>\n    );\n  };\n\n  const renderChili = (cx: number, cy: number, idx: number) => {\n    const chiliSway = sineWave(frame, 0.12, seed + idx * 0.35) * 2;\n    return (\n      <g key={`chili-${idx}`} transform={`translate(${cx}, ${cy})`}>\n        {/* Stem */}\n        <line x1={0} y1={0} x2={chiliSway * 0.5} y2={-16} stroke={C.chiliGreen} strokeWidth={1.5} />\n        {/* Leaves */}\n        <path d={`M${chiliSway * 0.2},-8 Q${-7},-10 ${-9},-6`} fill={C.chiliGreen} opacity={0.65} />\n        <path d={`M${chiliSway * 0.4},-12 Q${6},-15 ${8},-10`} fill={C.squashGreen} opacity={0.6} />\n        {/* Chili peppers hanging */}\n        <path\n          d={`M${chiliSway * 0.5 + 2},-14 Q${chiliSway * 0.5 + 6},-10 ${chiliSway * 0.5 + 4},-5`}\n          fill=\"none\"\n          stroke={idx % 2 === 0 ? C.chiliRed : C.chiliGreen}\n          strokeWidth={2.5}\n          strokeLinecap=\"round\"\n        />\n        {idx % 3 === 0 && (\n          <path\n            d={`M${chiliSway * 0.5 - 3},-12 Q${chiliSway * 0.5 - 6},-8 ${chiliSway * 0.5 - 5},-4`}\n            fill=\"none\"\n            stroke={C.chiliRed}\n            strokeWidth={2}\n            strokeLinecap=\"round\"\n          />\n        )}\n      </g>\n    );\n  };\n\n  // Generate crop positions based on plot size\n  const cropCount = Math.floor(plotWidth / 16);\n  const rowCount = Math.floor(plotHeight / 18);\n\n  return (\n    <g transform={`translate(${x}, ${y})`}>\n      {/* Wicker edge / retaining wall */}\n      <rect\n        x={-2}\n        y={-2}\n        width={plotWidth + 4}\n        height={plotHeight + 4}\n        rx={3}\n        fill={C.wickerwork}\n        stroke={C.wickerDark}\n        strokeWidth={1.5}\n        opacity={0.8}\n      />\n      {/* Wicker texture lines */}\n      {Array.from({ length: Math.floor(plotHeight / 6) }, (_, i) => (\n        <line\n          key={`wicker-h-${i}`}\n          x1={0}\n          y1={i * 6}\n          x2={plotWidth}\n          y2={i * 6}\n          stroke={C.wickerDark}\n          strokeWidth={0.5}\n          opacity={0.2}\n        />\n      ))}\n\n      {/* Rich earth fill */}\n      <rect\n        x={2}\n        y={2}\n        width={plotWidth - 4}\n        height={plotHeight - 4}\n        rx={1}\n        fill={C.earthRich}\n      />\n      {/* Soil texture - dark patches that shift subtly */}\n      <rect x={8 + cropSway * 0.2} y={5} width={plotWidth * 0.3} height={plotHeight * 0.4} fill={C.earthDark} opacity={0.2} rx={2} />\n      <rect x={plotWidth * 0.5} y={plotHeight * 0.3} width={plotWidth * 0.35} height={plotHeight * 0.5} fill={C.earthWet} opacity={0.15} rx={2} />\n\n      {/* Moisture line at edges */}\n      <rect x={2} y={plotHeight - 5} width={plotWidth - 4} height={3} fill={C.earthWet} opacity={0.4 + growPulse * 0.05} rx={1} />\n      <rect x={2} y={2} width={plotWidth - 4} height={2} fill={C.earthWet} opacity={0.3} rx={1} />\n\n      {/* Crops */}\n      {Array.from({ length: rowCount }, (_, row) =>\n        Array.from({ length: cropCount }, (_, col) => {\n          const cx = 8 + col * (plotWidth / cropCount);\n          const cy = 8 + row * (plotHeight / rowCount);\n          const idx = row * cropCount + col;\n\n          switch (cropType) {\n            case 'corn':\n              return renderCorn(cx, cy, idx);\n            case 'squash':\n              return renderSquash(cx, cy, idx);\n            case 'marigold':\n              return renderMarigold(cx, cy, idx);\n            case 'tomato':\n              return renderTomato(cx, cy, idx);\n            case 'chili':\n              return renderChili(cx, cy, idx);\n            case 'mixed':\n              if (idx % 5 === 0) return renderMarigold(cx, cy, idx);\n              if (idx % 5 === 1) return renderCorn(cx, cy, idx);\n              if (idx % 5 === 2) return renderSquash(cx, cy, idx);\n              if (idx % 5 === 3) return renderTomato(cx, cy, idx);\n              return renderChili(cx, cy, idx);\n            default:\n              return renderCorn(cx, cy, idx);\n          }\n        })\n      )}\n    </g>\n  );\n};\n\n// =============================================================================\n// SUB-COMPONENT: Canoe\n// Wooden dugout canoe with optional produce load\n// =============================================================================\nconst Canoe: React.FC<{\n  x: number;\n  y: number;\n  scale?: number;\n  seed?: number;\n  flip?: boolean;\n  loaded?: boolean;\n}> = ({ x, y, scale = 1, seed = 0, flip = false, loaded = true }) => {\n  const frame = useCurrentFrame();\n  const bob = sineWave(frame, 0.12, seed) * 2;\n  const rock = sineWave(frame, 0.09, seed + 0.5) * 1.5;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y + bob}) scale(${scale * fDir}, ${scale}) rotate(${rock})`}>\n      {/* Water shadow/reflection */}\n      <ellipse cx={0} cy={6} rx={40} ry={4} fill={C.waterShadow} opacity={0.3} />\n\n      {/* Canoe hull */}\n      <path\n        d=\"M-40,0 Q-45,-6 -35,-8 L35,-8 Q45,-6 40,0 Q35,5 -35,5 Q-45,3 -40,0 Z\"\n        fill={C.canoeWood}\n        stroke={C.canoeDark}\n        strokeWidth={1.5}\n      />\n      {/* Hull wood grain */}\n      <path d=\"M-30,-5 Q0,-7 30,-5\" fill=\"none\" stroke={C.canoeLight} strokeWidth={0.8} opacity={0.4} />\n      <path d=\"M-28,-2 Q0,-4 28,-2\" fill=\"none\" stroke={C.canoeLight} strokeWidth={0.6} opacity={0.3} />\n      {/* Inside shadow */}\n      <path\n        d=\"M-30,-4 Q0,-6 30,-4 Q25,1 -25,1 Z\"\n        fill={C.canoeInside}\n        opacity={0.5}\n      />\n\n      {/* Loaded goods */}\n      {loaded && (\n        <g>\n          {/* Baskets of produce */}\n          <ellipse cx={-12} cy={-8} rx={7} ry={5} fill={C.wickerwork} stroke={C.wickerDark} strokeWidth={0.8} />\n          <ellipse cx={-12} cy={-10} rx={5} ry={3} fill={C.cornCob} opacity={0.8} />\n          <circle cx={-14} cy={-11} r={2} fill={C.tomatoRed} />\n          <circle cx={-10} cy={-11.5} r={1.5} fill={C.marigoldYellow} />\n\n          <ellipse cx={8} cy={-7} rx={6} ry={4.5} fill={C.wickerwork} stroke={C.wickerDark} strokeWidth={0.8} />\n          <ellipse cx={8} cy={-9} rx={4} ry={2.5} fill={C.squashGreen} opacity={0.7} />\n          <ellipse cx={10} cy={-9.5} rx={3} ry={2} fill={C.squashOrange} opacity={0.8} />\n\n          {/* Marigold flowers piled */}\n          {[0, 3, -3, 1.5, -1.5].map((ox, i) => (\n            <circle key={`flwr-${i}`} cx={-2 + ox} cy={-10 - i * 0.5} r={2} fill={i % 2 === 0 ? C.marigoldYellow : C.marigoldOrange} opacity={0.8} />\n          ))}\n        </g>\n      )}\n\n      {/* Paddle */}\n      <g transform={`translate(25, -6)`}>\n        <line x1={0} y1={-15} x2={5} y2={10} stroke={C.paddle} strokeWidth={2} strokeLinecap=\"round\" />\n        <ellipse cx={5.5} cy={12} rx={3} ry={6} fill={C.paddleBlade} stroke={C.canoeDark} strokeWidth={0.5} />\n      </g>\n    </g>\n  );\n};\n\n// =============================================================================\n// SUB-COMPONENT: CropRow\n// Dense row of crops rendered along a line for foreground detail\n// =============================================================================\nconst CropRow: React.FC<{\n  x: number;\n  y: number;\n  length: number;\n  cropType: 'corn' | 'marigold' | 'mixed';\n  seed?: number;\n  density?: number;\n}> = ({ x, y, length, cropType, seed = 0, density = 12 }) => {\n  const frame = useCurrentFrame();\n\n  return (\n    <g transform={`translate(${x}, ${y})`}>\n      {Array.from({ length: density }, (_, i) => {\n        const cx = (i / density) * length;\n        const sway = sineWave(frame, 0.1, seed + i * 0.2) * 2;\n        const h = 25 + sineWave(frame, 0.03, seed + i) * 2;\n\n        if (cropType === 'corn' || (cropType === 'mixed' && i % 2 === 0)) {\n          return (\n            <g key={`crow-${i}`} transform={`translate(${cx}, 0)`}>\n              <line x1={0} y1={0} x2={sway} y2={-h} stroke={C.cornStalk} strokeWidth={2} strokeLinecap=\"round\" />\n              <path\n                d={`M${sway * 0.4},-${h * 0.5} Q${-8 + sway * 0.3},-${h * 0.6} ${-10 + sway * 0.4},-${h * 0.45}`}\n                fill=\"none\"\n                stroke={C.cornLeaf}\n                strokeWidth={1.5}\n              />\n              <path\n                d={`M${sway * 0.6},-${h * 0.7} Q${6 + sway * 0.3},-${h * 0.8} ${8 + sway * 0.2},-${h * 0.65}`}\n                fill=\"none\"\n                stroke={C.cornLeafDark}\n                strokeWidth={1.5}\n              />\n              {i % 3 === 0 && (\n                <ellipse cx={sway * 0.4 + 2} cy={-h * 0.45} rx={2} ry={4} fill={C.cornCob} opacity={0.7} />\n              )}\n            </g>\n          );\n        }\n\n        // Marigold\n        const petalScale = 1 + sineWave(frame, 0.07, seed + i * 0.5) * 0.04;\n        return (\n          <g key={`crow-${i}`} transform={`translate(${cx}, 0)`}>\n            <line x1={0} y1={0} x2={sway * 0.7} y2={-14} stroke={C.cornStalk} strokeWidth={1.2} />\n            <g transform={`translate(${sway * 0.7}, -14) scale(${petalScale})`}>\n              {[0, 60, 120, 180, 240, 300].map((a, pi) => (\n                <ellipse key={`p-${pi}`} cx={0} cy={-3} rx={2} ry={3} fill={pi % 2 === 0 ? C.marigoldYellow : C.marigoldOrange}\n                  transform={`rotate(${a}, 0, 0)`} opacity={0.8} />\n              ))}\n              <circle cx={0} cy={0} r={2} fill={C.marigoldDeep} />\n            </g>\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\n// =============================================================================\n// SUB-COMPONENT: WaterLily\n// Floating lily pad with optional flower\n// =============================================================================\nconst WaterLily: React.FC<{\n  x: number;\n  y: number;\n  scale?: number;\n  seed?: number;\n  hasFlower?: boolean;\n}> = ({ x, y, scale = 1, seed = 0, hasFlower = false }) => {\n  const frame = useCurrentFrame();\n  const drift = sineWave(frame, 0.06, seed) * 3;\n  const bob = sineWave(frame, 0.1, seed + 1) * 1;\n  const padRotate = sineWave(frame, 0.04, seed + 2) * 5;\n\n  return (\n    <g transform={`translate(${x + drift}, ${y + bob}) scale(${scale})`}>\n      {/* Water ripple around pad */}\n      <ellipse cx={0} cy={2} rx={16} ry={5} fill=\"none\" stroke={C.waterRipple} strokeWidth={1} opacity={0.4} />\n\n      {/* Lily pad */}\n      <g transform={`rotate(${padRotate})`}>\n        <ellipse cx={0} cy={0} rx={12} ry={8} fill={C.lilyPadGreen} />\n        <ellipse cx={-2} cy={-1} rx={10} ry={6.5} fill={C.lilyPadLight} opacity={0.5} />\n        {/* Pad notch */}\n        <path d=\"M0,0 L3,-8 L-3,-8 Z\" fill={C.waterMid} />\n        {/* Vein lines */}\n        <line x1={0} y1={0} x2={-8} y2={-4} stroke={C.lilyPadDark} strokeWidth={0.5} opacity={0.4} />\n        <line x1={0} y1={0} x2={8} y2={-3} stroke={C.lilyPadDark} strokeWidth={0.5} opacity={0.4} />\n        <line x1={0} y1={0} x2={-5} y2={5} stroke={C.lilyPadDark} strokeWidth={0.5} opacity={0.4} />\n        <line x1={0} y1={0} x2={6} y2={4} stroke={C.lilyPadDark} strokeWidth={0.5} opacity={0.4} />\n      </g>\n\n      {/* Flower */}\n      {hasFlower && (\n        <g transform={`translate(2, -8)`}>\n          {/* Outer petals */}\n          {[0, 40, 80, 120, 160, 200, 240, 280, 320].map((angle, i) => (\n            <ellipse\n              key={`lp-${i}`}\n              cx={0}\n              cy={-4}\n              rx={2.5}\n              ry={5}\n              fill={i % 3 === 0 ? C.lilyFlower : C.lilyFlowerPink}\n              opacity={0.85}\n              transform={`rotate(${angle}, 0, 0)`}\n            />\n          ))}\n          {/* Inner petals */}\n          {[20, 70, 120, 170, 220, 270, 320].map((angle, i) => (\n            <ellipse\n              key={`lip-${i}`}\n              cx={0}\n              cy={-2.5}\n              rx={1.5}\n              ry={3.5}\n              fill={C.lilyFlower}\n              opacity={0.9}\n              transform={`rotate(${angle}, 0, 0)`}\n            />\n          ))}\n          {/* Center */}\n          <circle cx={0} cy={0} r={2.5} fill={C.lilyCenter} />\n          <circle cx={0.5} cy={-0.5} r={1} fill=\"#F8E8A0\" opacity={0.7} />\n        </g>\n      )}\n    </g>\n  );\n};\n\n// =============================================================================\n// SUB-COMPONENT: ReedCluster\n// Cluster of reeds/cattails growing at water's edge\n// =============================================================================\nconst ReedCluster: React.FC<{\n  x: number;\n  y: number;\n  count?: number;\n  maxHeight?: number;\n  seed?: number;\n}> = ({ x, y, count = 7, maxHeight = 60, seed = 0 }) => {\n  const frame = useCurrentFrame();\n\n  return (\n    <g transform={`translate(${x}, ${y})`}>\n      {Array.from({ length: count }, (_, i) => {\n        const reedSway = sineWave(frame, 0.1 + i * 0.01, seed + i * 0.5) * 3;\n        const h = maxHeight * (0.5 + (i % 3) * 0.2);\n        const xOff = (i - count / 2) * 5;\n        const hasCattail = i % 2 === 0;\n\n        return (\n          <g key={`reed-${i}`}>\n            {/* Reed stem */}\n            <path\n              d={`M${xOff},0 Q${xOff + reedSway * 0.5},-${h * 0.5} ${xOff + reedSway},-${h}`}\n              fill=\"none\"\n              stroke={C.reedGreen}\n              strokeWidth={2}\n              strokeLinecap=\"round\"\n            />\n            {/* Leaf blade */}\n            <path\n              d={`M${xOff + reedSway * 0.3},-${h * 0.4}\n                Q${xOff + reedSway * 0.3 + (i % 2 === 0 ? -12 : 10)},-${h * 0.5}\n                ${xOff + reedSway * 0.3 + (i % 2 === 0 ? -15 : 13)},-${h * 0.35}`}\n              fill=\"none\"\n              stroke={C.reedLight}\n              strokeWidth={1.5}\n              strokeLinecap=\"round\"\n              opacity={0.7}\n            />\n            {/* Cattail top */}\n            {hasCattail && (\n              <ellipse\n                cx={xOff + reedSway}\n                cy={-h - 4}\n                rx={2.5}\n                ry={7}\n                fill={C.earthMid}\n                stroke={C.earthDark}\n                strokeWidth={0.5}\n              />\n            )}\n            {/* Thin leaf tip */}\n            {!hasCattail && (\n              <line\n                x1={xOff + reedSway}\n                y1={-h}\n                x2={xOff + reedSway + 2}\n                y2={-h - 8}\n                stroke={C.reedTip}\n                strokeWidth={1}\n                strokeLinecap=\"round\"\n                opacity={0.6}\n              />\n            )}\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\n// =============================================================================\n// SUB-COMPONENT: Heron\n// Standing heron in the shallows\n// =============================================================================\nconst Heron: React.FC<{\n  x: number;\n  y: number;\n  scale?: number;\n  seed?: number;\n  flip?: boolean;\n}> = ({ x, y, scale = 1, seed = 0, flip = false }) => {\n  const frame = useCurrentFrame();\n  const headBob = sineWave(frame, 0.06, seed) * 2;\n  const neckShift = sineWave(frame, 0.04, seed + 1) * 1.5;\n  const legShift = sineWave(frame, 0.03, seed + 2) * 0.5;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * fDir}, ${scale})`}>\n      {/* Shadow on water */}\n      <ellipse cx={0} cy={3} rx={15} ry={4} fill={C.shadow} opacity={0.2} />\n\n      {/* Back leg */}\n      <line x1={-2} y1={-2} x2={-4 + legShift} y2={-30} stroke={C.heronLeg} strokeWidth={1.5} />\n      <line x1={-4 + legShift} y1={-30} x2={-4 + legShift} y2={-28} stroke={C.heronLeg} strokeWidth={1} />\n\n      {/* Front leg */}\n      <line x1={3} y1={-2} x2={5 - legShift} y2={-30} stroke={C.heronLeg} strokeWidth={1.5} />\n      <line x1={5 - legShift} y1={-30} x2={5 - legShift} y2={-28} stroke={C.heronLeg} strokeWidth={1} />\n      {/* Foot */}\n      <path d={`M${5 - legShift},-30 L${8 - legShift},-30.5 M${5 - legShift},-30 L${3 - legShift},-30.5 M${5 - legShift},-30 L${5 - legShift},-31`}\n        stroke={C.heronLeg} strokeWidth={0.8} />\n\n      {/* Body */}\n      <ellipse cx={0} cy={-38} rx={10} ry={7} fill={C.heronWhite} stroke={C.heronGray} strokeWidth={0.8} />\n      {/* Wing detail */}\n      <path d=\"M-5,-40 Q-10,-35 -8,-32\" fill=\"none\" stroke={C.heronGray} strokeWidth={1} opacity={0.5} />\n      <path d=\"M-3,-42 Q-12,-38 -10,-34\" fill=\"none\" stroke={C.heronGray} strokeWidth={0.8} opacity={0.4} />\n      {/* Tail feathers */}\n      <path d=\"M-8,-36 L-16,-34 M-7,-37 L-15,-36\" fill=\"none\" stroke={C.heronGray} strokeWidth={1} opacity={0.6} />\n\n      {/* Neck (S-curve) */}\n      <path\n        d={`M2,-44 Q${5 + neckShift},-52 ${3 + neckShift},-58 Q${1 + neckShift},-62 ${neckShift},-65`}\n        fill=\"none\"\n        stroke={C.heronWhite}\n        strokeWidth={3.5}\n        strokeLinecap=\"round\"\n      />\n      <path\n        d={`M2,-44 Q${5 + neckShift},-52 ${3 + neckShift},-58 Q${1 + neckShift},-62 ${neckShift},-65`}\n        fill=\"none\"\n        stroke={C.heronGray}\n        strokeWidth={0.5}\n        strokeLinecap=\"round\"\n        opacity={0.3}\n      />\n\n      {/* Head */}\n      <g transform={`translate(${neckShift}, ${-66 + headBob})`}>\n        <ellipse cx={0} cy={0} rx={5} ry={3.5} fill={C.heronWhite} stroke={C.heronGray} strokeWidth={0.5} />\n        {/* Eye */}\n        <circle cx={3} cy={-1} r={1} fill={C.outline} />\n        <circle cx={3.3} cy={-1.2} r={0.3} fill=\"white\" />\n        {/* Crest */}\n        <line x1={-3} y1={-2} x2={-8} y2={-4} stroke={C.outline} strokeWidth={0.8} opacity={0.6} />\n        <line x1={-2} y1={-2.5} x2={-7} y2={-5} stroke={C.outline} strokeWidth={0.6} opacity={0.4} />\n        {/* Beak */}\n        <path d=\"M5,-0.5 L14,0 L5,0.8 Z\" fill={C.heronBeak} stroke={C.outline} strokeWidth={0.5} />\n      </g>\n    </g>\n  );\n};\n\n// =============================================================================\n// SUB-COMPONENT: Duck\n// Swimming duck with gentle bobbing\n// =============================================================================\nconst Duck: React.FC<{\n  x: number;\n  y: number;\n  scale?: number;\n  seed?: number;\n  flip?: boolean;\n}> = ({ x, y, scale = 1, seed = 0, flip = false }) => {\n  const frame = useCurrentFrame();\n  const bob = sineWave(frame, 0.15, seed) * 1.5;\n  const headTilt = sineWave(frame, 0.08, seed + 1) * 3;\n  const fDir = flip ? -1 : 1;\n\n  return (\n    <g transform={`translate(${x}, ${y + bob}) scale(${scale * fDir}, ${scale})`}>\n      {/* Wake/ripples behind */}\n      <path d=\"M-12,2 Q-18,0 -25,2\" fill=\"none\" stroke={C.waterRipple} strokeWidth={0.8} opacity={0.4} />\n      <path d=\"M-10,4 Q-20,2 -28,4\" fill=\"none\" stroke={C.waterRipple} strokeWidth={0.6} opacity={0.3} />\n\n      {/* Body */}\n      <ellipse cx={0} cy={0} rx={10} ry={5} fill={C.duckBrown} />\n      <ellipse cx={-1} cy={-1} rx={8} ry={3.5} fill={C.duckBrown} opacity={0.8} />\n      {/* Wing highlight */}\n      <path d=\"M-4,-2 Q0,-4 5,-2 Q3,0 -2,0 Z\" fill={C.duckGreen} opacity={0.4} />\n\n      {/* Tail */}\n      <path d=\"M-9,-1 L-14,-4 L-12,0 Z\" fill={C.duckBrown} />\n\n      {/* Head and neck */}\n      <g transform={`translate(8, -4) rotate(${headTilt})`}>\n        <ellipse cx={0} cy={-3} rx={4} ry={3.5} fill={C.duckGreen} />\n        {/* Eye */}\n        <circle cx={2} cy={-4} r={0.8} fill={C.outline} />\n        <circle cx={2.2} cy={-4.2} r={0.2} fill=\"white\" />\n        {/* Beak */}\n        <path d=\"M4,-3 L8,-2.5 L4,-1.5 Z\" fill={C.duckBeak} />\n      </g>\n    </g>\n  );\n};\n\n// =============================================================================\n// MAIN COMPONENT: Chinampas\n// Aztec floating gardens - full scene with Monet water lily quality\n// =============================================================================\nexport const Chinampas: React.FC<ChinampasProps> = ({\n  boardText = '',\n  width = 1920,\n  height = 1080,\n}) => {\n  const frame = useCurrentFrame();\n\n  // ---- Global animation values ----\n  const cloudDrift = sineWave(frame, 0.02, 0) * 15;\n  const waterShimmer = sineWave(frame, 0.08, 0) * 2;\n  const mistPulse = sineWave(frame, 0.04, 0.5);\n  const morningGlow = 0.6 + sineWave(frame, 0.03, 1) * 0.1;\n  const waterWave1 = sineWave(frame, 0.12, 0);\n  const waterWave2 = sineWave(frame, 0.09, 1.2);\n  const waterWave3 = sineWave(frame, 0.07, 2.4);\n  const reflectionShift = sineWave(frame, 0.05, 0.8) * 3;\n\n  return (\n    <svg viewBox={`0 0 ${width} ${height}`} width={width} height={height}>\n      <defs>\n        {/* Sky gradient - morning pink/gold tones */}\n        <linearGradient id=\"chin-sky\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.skyTop} />\n          <stop offset=\"30%\" stopColor={C.skyMid} />\n          <stop offset=\"60%\" stopColor={C.skyLavender} />\n          <stop offset=\"80%\" stopColor={C.skyPink} />\n          <stop offset=\"95%\" stopColor={C.skyGold} />\n          <stop offset=\"100%\" stopColor={C.skyBottom} />\n        </linearGradient>\n\n        {/* Water gradient - deep blues and teals */}\n        <linearGradient id=\"chin-water\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.waterSurface} />\n          <stop offset=\"30%\" stopColor={C.waterMid} />\n          <stop offset=\"70%\" stopColor={C.waterDeep} />\n          <stop offset=\"100%\" stopColor={C.waterDeep} />\n        </linearGradient>\n\n        {/* Sun glow radial */}\n        <radialGradient id=\"chin-sun-glow\" cx=\"25%\" cy=\"25%\" r=\"35%\">\n          <stop offset=\"0%\" stopColor=\"rgba(255,220,150,0.35)\" />\n          <stop offset=\"50%\" stopColor=\"rgba(255,200,130,0.12)\" />\n          <stop offset=\"100%\" stopColor=\"rgba(255,180,100,0)\" />\n        </radialGradient>\n\n        {/* Morning mist gradient */}\n        <linearGradient id=\"chin-mist\" x1=\"0%\" y1=\"100%\" x2=\"0%\" y2=\"0%\">\n          <stop offset=\"0%\" stopColor=\"rgba(230,235,240,0.2)\" />\n          <stop offset=\"40%\" stopColor=\"rgba(230,235,240,0.08)\" />\n          <stop offset=\"100%\" stopColor=\"rgba(230,235,240,0)\" />\n        </linearGradient>\n\n        {/* Water reflection pattern */}\n        <pattern id=\"chin-water-ripple\" x=\"0\" y=\"0\" width=\"80\" height=\"20\" patternUnits=\"userSpaceOnUse\">\n          <path\n            d={`M0,10 Q20,${8 + waterWave1 * 2} 40,10 Q60,${12 + waterWave2 * 2} 80,10`}\n            fill=\"none\"\n            stroke={C.waterHighlight}\n            strokeWidth={0.6}\n            opacity={0.3}\n          />\n        </pattern>\n\n        {/* Canvas texture overlay pattern */}\n        <pattern id=\"chin-canvas\" x=\"0\" y=\"0\" width=\"4\" height=\"4\" patternUnits=\"userSpaceOnUse\">\n          <rect x=\"0\" y=\"0\" width=\"4\" height=\"4\" fill=\"transparent\" />\n          <rect x=\"0\" y=\"0\" width=\"1\" height=\"1\" fill={C.canvasOverlay} />\n          <rect x=\"2\" y=\"2\" width=\"1\" height=\"1\" fill={C.canvasOverlay} />\n        </pattern>\n\n        {/* Mountain haze gradient */}\n        <linearGradient id=\"chin-mt-haze\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.mountainFar} />\n          <stop offset=\"100%\" stopColor={C.atmosphereHaze} />\n        </linearGradient>\n\n        {/* Chinampa earth texture */}\n        <pattern id=\"chin-earth-tex\" x=\"0\" y=\"0\" width=\"6\" height=\"6\" patternUnits=\"userSpaceOnUse\">\n          <rect x=\"0\" y=\"0\" width=\"6\" height=\"6\" fill={C.earthRich} />\n          <circle cx=\"2\" cy=\"2\" r=\"0.8\" fill={C.earthDark} opacity={0.3} />\n          <circle cx=\"5\" cy=\"4\" r=\"0.5\" fill={C.earthLight} opacity={0.2} />\n        </pattern>\n\n        {/* Water gold reflection for morning light */}\n        <linearGradient id=\"chin-water-gold\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n          <stop offset=\"0%\" stopColor=\"rgba(240,200,120,0)\" />\n          <stop offset=\"20%\" stopColor=\"rgba(240,200,120,0.08)\" />\n          <stop offset=\"50%\" stopColor=\"rgba(255,220,150,0.15)\" />\n          <stop offset=\"80%\" stopColor=\"rgba(240,200,120,0.06)\" />\n          <stop offset=\"100%\" stopColor=\"rgba(240,200,120,0)\" />\n        </linearGradient>\n\n        {/* Stone tablet gradient */}\n        <linearGradient id=\"chin-stone-tab\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.stoneTabletLight} />\n          <stop offset=\"100%\" stopColor={C.stoneTablet} />\n        </linearGradient>\n      </defs>\n\n      {/* ============================================================= */}\n      {/* SKY                                                           */}\n      {/* ============================================================= */}\n      <rect x={0} y={0} width={width} height={height * 0.45} fill=\"url(#chin-sky)\" />\n\n      {/* Sun glow overlay */}\n      <rect x={0} y={0} width={width} height={height * 0.5} fill=\"url(#chin-sun-glow)\" />\n\n      {/* Morning sun (low on horizon, left side) */}\n      <g transform={`translate(${width * 0.2}, ${height * 0.32})`}>\n        {/* Outer glow rings */}\n        <circle cx={0} cy={0} r={80} fill=\"rgba(255,210,140,0.06)\" />\n        <circle cx={0} cy={0} r={55} fill=\"rgba(255,200,130,0.1)\" />\n        <circle cx={0} cy={0} r={35} fill=\"rgba(255,220,160,0.15)\" />\n        {/* Sun disc */}\n        <circle cx={0} cy={0} r={22} fill=\"#FFE090\" opacity={0.9} />\n        <circle cx={0} cy={0} r={18} fill=\"#FFF0B0\" opacity={0.6} />\n        <circle cx={-4} cy={-4} r={6} fill=\"white\" opacity={0.2} />\n      </g>\n\n      {/* Clouds - soft morning clouds */}\n      {/* Cloud 1 - large, left */}\n      <g transform={`translate(${200 + cloudDrift}, ${height * 0.08})`} opacity={0.5}>\n        <ellipse cx={0} cy={0} rx={90} ry={25} fill={C.cloudPink} />\n        <ellipse cx={-30} cy={-8} rx={60} ry={18} fill={C.cloudWhite} />\n        <ellipse cx={25} cy={-5} rx={50} ry={15} fill={C.cloudGold} opacity={0.6} />\n        <ellipse cx={-10} cy={5} rx={70} ry={12} fill={C.cloudShadow} />\n      </g>\n\n      {/* Cloud 2 - wispy, center */}\n      <g transform={`translate(${750 + cloudDrift * 0.7}, ${height * 0.12})`} opacity={0.4}>\n        <ellipse cx={0} cy={0} rx={120} ry={15} fill={C.cloudWhite} />\n        <ellipse cx={30} cy={-3} rx={80} ry={10} fill={C.cloudPink} opacity={0.5} />\n        <ellipse cx={-20} cy={3} rx={90} ry={8} fill={C.cloudShadow} />\n      </g>\n\n      {/* Cloud 3 - small, right */}\n      <g transform={`translate(${1400 + cloudDrift * 0.5}, ${height * 0.06})`} opacity={0.45}>\n        <ellipse cx={0} cy={0} rx={65} ry={18} fill={C.cloudGold} />\n        <ellipse cx={-15} cy={-5} rx={45} ry={12} fill={C.cloudWhite} />\n        <ellipse cx={20} cy={3} rx={40} ry={10} fill={C.cloudShadow} />\n      </g>\n\n      {/* Cloud 4 - high wisp */}\n      <g transform={`translate(${1100 + cloudDrift * 0.3}, ${height * 0.04})`} opacity={0.3}>\n        <ellipse cx={0} cy={0} rx={100} ry={8} fill={C.cloudWhite} />\n        <ellipse cx={40} cy={2} rx={60} ry={5} fill={C.cloudPink} opacity={0.4} />\n      </g>\n\n      {/* Cloud 5 - bottom, near horizon */}\n      <g transform={`translate(${500 + cloudDrift * 0.6}, ${height * 0.22})`} opacity={0.3}>\n        <ellipse cx={0} cy={0} rx={150} ry={10} fill={C.cloudGold} />\n        <ellipse cx={-30} cy={-2} rx={100} ry={7} fill={C.cloudWhite} opacity={0.6} />\n      </g>\n\n      {/* ============================================================= */}\n      {/* DISTANT MOUNTAINS WITH TENOCHTITLAN                           */}\n      {/* ============================================================= */}\n\n      {/* Far mountains - hazy blue */}\n      <path\n        d={`M0,${height * 0.38}\n          Q${width * 0.05},${height * 0.32} ${width * 0.12},${height * 0.34}\n          Q${width * 0.18},${height * 0.28} ${width * 0.25},${height * 0.3}\n          L${width * 0.3},${height * 0.32}\n          Q${width * 0.38},${height * 0.25} ${width * 0.45},${height * 0.27}\n          Q${width * 0.5},${height * 0.22} ${width * 0.55},${height * 0.26}\n          Q${width * 0.62},${height * 0.24} ${width * 0.68},${height * 0.28}\n          Q${width * 0.75},${height * 0.3} ${width * 0.82},${height * 0.26}\n          Q${width * 0.88},${height * 0.23} ${width * 0.93},${height * 0.29}\n          Q${width * 0.97},${height * 0.32} ${width},${height * 0.35}\n          L${width},${height * 0.45} L0,${height * 0.45} Z`}\n        fill={C.mountainFar}\n        opacity={0.5}\n      />\n\n      {/* Mountain snow caps */}\n      <path\n        d={`M${width * 0.18},${height * 0.28} L${width * 0.2},${height * 0.29} L${width * 0.16},${height * 0.295} Z`}\n        fill={C.mountainSnow}\n        opacity={0.4}\n      />\n      <path\n        d={`M${width * 0.5},${height * 0.22} L${width * 0.52},${height * 0.235} L${width * 0.48},${height * 0.24} Z`}\n        fill={C.mountainSnow}\n        opacity={0.5}\n      />\n      <path\n        d={`M${width * 0.88},${height * 0.23} L${width * 0.9},${height * 0.245} L${width * 0.86},${height * 0.25} Z`}\n        fill={C.mountainSnow}\n        opacity={0.45}\n      />\n\n      {/* Mid mountains */}\n      <path\n        d={`M0,${height * 0.4}\n          Q${width * 0.08},${height * 0.36} ${width * 0.15},${height * 0.37}\n          Q${width * 0.22},${height * 0.33} ${width * 0.3},${height * 0.35}\n          Q${width * 0.4},${height * 0.34} ${width * 0.48},${height * 0.36}\n          Q${width * 0.55},${height * 0.33} ${width * 0.62},${height * 0.35}\n          Q${width * 0.7},${height * 0.37} ${width * 0.78},${height * 0.34}\n          Q${width * 0.85},${height * 0.36} ${width * 0.92},${height * 0.38}\n          L${width},${height * 0.4}\n          L${width},${height * 0.45} L0,${height * 0.45} Z`}\n        fill={C.mountainMid}\n        opacity={0.5}\n      />\n\n      {/* Tenochtitlan skyline on the far shore */}\n      <g transform={`translate(${width * 0.55}, ${height * 0.36})`} opacity={0.55}>\n        {/* Temple pyramid - Templo Mayor silhouette */}\n        <path d=\"M-20,0 L-15,-35 L-5,-40 L5,-40 L15,-35 L20,0 Z\" fill={C.templePyramid} />\n        <path d=\"M-5,-40 L-3,-50 L3,-50 L5,-40 Z\" fill={C.templeRed} />\n        <rect x={-2} y={-53} width={4} height={5} fill={C.templeTop} />\n\n        {/* Secondary temples */}\n        <path d=\"M-60,0 L-55,-22 L-45,-25 L-40,-22 L-35,0 Z\" fill={C.cityStone} />\n        <rect x={-48} y={-28} width={6} height={5} fill={C.templeRed} opacity={0.7} />\n\n        <path d=\"M40,0 L45,-20 L50,-22 L55,-20 L60,0 Z\" fill={C.cityStone} />\n        <rect x={46} y={-25} width={5} height={4} fill={C.cityGold} opacity={0.6} />\n\n        {/* City buildings */}\n        {[-80, -70, -30, 25, 35, 70, 80, 95].map((bx, i) => {\n          const bh = 8 + (i % 3) * 5;\n          return (\n            <rect key={`bldg-${i}`} x={bx} y={-bh} width={8} height={bh} fill={C.cityWhite} opacity={0.5} />\n          );\n        })}\n\n        {/* Causeways extending into water */}\n        <rect x={-100} y={-2} width={80} height={3} fill={C.cityStone} opacity={0.3} />\n        <rect x={60} y={-1} width={70} height={3} fill={C.cityStone} opacity={0.3} />\n      </g>\n\n      {/* Atmospheric haze over mountains */}\n      <rect x={0} y={height * 0.25} width={width} height={height * 0.2}\n        fill={C.atmosphereHaze} opacity={0.5 + mistPulse * 0.1} />\n\n      {/* ============================================================= */}\n      {/* LAKE WATER BASE                                               */}\n      {/* ============================================================= */}\n      <rect x={0} y={height * 0.42} width={width} height={height * 0.58} fill=\"url(#chin-water)\" />\n\n      {/* Water surface reflection of sky */}\n      <rect x={0} y={height * 0.42} width={width} height={height * 0.15}\n        fill=\"url(#chin-water-gold)\" opacity={morningGlow} />\n\n      {/* Water ripple pattern overlay */}\n      <rect x={0} y={height * 0.42} width={width} height={height * 0.58}\n        fill=\"url(#chin-water-ripple)\" opacity={0.5} />\n\n      {/* Animated water waves - horizontal lines */}\n      {Array.from({ length: 18 }, (_, i) => {\n        const wy = height * 0.44 + i * (height * 0.56 / 18);\n        const waveOffset = sineWave(frame, 0.06 + i * 0.005, i * 0.4) * 8;\n        const waveAmp = sineWave(frame, 0.08, i * 0.7) * 3;\n        return (\n          <path\n            key={`wave-${i}`}\n            d={`M${-20 + waveOffset},${wy}\n              Q${width * 0.15 + waveOffset},${wy + waveAmp}\n              ${width * 0.3 + waveOffset},${wy}\n              Q${width * 0.45 + waveOffset},${wy - waveAmp}\n              ${width * 0.6 + waveOffset},${wy}\n              Q${width * 0.75 + waveOffset},${wy + waveAmp * 0.8}\n              ${width * 0.9 + waveOffset},${wy}\n              Q${width + waveOffset},${wy - waveAmp * 0.6}\n              ${width + 20},${wy}`}\n            fill=\"none\"\n            stroke={C.waterHighlight}\n            strokeWidth={0.5 + (i < 5 ? 0.3 : 0)}\n            opacity={0.15 + (i < 4 ? 0.1 : 0)}\n          />\n        );\n      })}\n\n      {/* Sun reflection pillar on water */}\n      <g opacity={0.15 + sineWave(frame, 0.05, 0) * 0.05} transform={`translate(${reflectionShift}, 0)`}>\n        {Array.from({ length: 12 }, (_, i) => {\n          const ry = height * 0.43 + i * 15;\n          const rx = width * 0.2 + sineWave(frame, 0.1, i * 0.3) * 8;\n          return (\n            <ellipse\n              key={`sunref-${i}`}\n              cx={rx}\n              cy={ry}\n              rx={15 - i * 0.5}\n              ry={2}\n              fill=\"#FFE0A0\"\n              opacity={0.3 - i * 0.02}\n            />\n          );\n        })}\n      </g>\n\n      {/* ============================================================= */}\n      {/* MIDGROUND: CHINAMPA GRID                                      */}\n      {/* ============================================================= */}\n\n      {/* Far chinampas (small, background) */}\n      <ChinampaPlot x={200} y={height * 0.44} plotWidth={140} plotHeight={40} cropType=\"corn\" seed={10} />\n      <ChinampaPlot x={380} y={height * 0.43} plotWidth={120} plotHeight={35} cropType=\"marigold\" seed={11} />\n      <ChinampaPlot x={550} y={height * 0.445} plotWidth={130} plotHeight={38} cropType=\"squash\" seed={12} />\n      <ChinampaPlot x={730} y={height * 0.44} plotWidth={110} plotHeight={35} cropType=\"tomato\" seed={13} />\n      <ChinampaPlot x={900} y={height * 0.445} plotWidth={140} plotHeight={40} cropType=\"mixed\" seed={14} />\n      <ChinampaPlot x={1100} y={height * 0.44} plotWidth={120} plotHeight={36} cropType=\"corn\" seed={15} />\n      <ChinampaPlot x={1280} y={height * 0.443} plotWidth={130} plotHeight={38} cropType=\"chili\" seed={16} />\n      <ChinampaPlot x={1460} y={height * 0.445} plotWidth={110} plotHeight={35} cropType=\"marigold\" seed={17} />\n      <ChinampaPlot x={1620} y={height * 0.44} plotWidth={140} plotHeight={38} cropType=\"squash\" seed={18} />\n\n      {/* Water channels between far chinampas - reflections */}\n      {[340, 510, 680, 840, 1040, 1220, 1410, 1570, 1760].map((cx, i) => (\n        <rect\n          key={`chan-far-${i}`}\n          x={cx}\n          y={height * 0.44}\n          width={40}\n          height={40}\n          fill={C.waterReflect}\n          opacity={0.15 + sineWave(frame, 0.08, i) * 0.05}\n        />\n      ))}\n\n      {/* Willow trees anchoring far chinampas */}\n      <WillowTree x={340} y={height * 0.44} scale={0.35} seed={20} trunkHeight={100} />\n      <WillowTree x={680} y={height * 0.445} scale={0.3} seed={21} trunkHeight={90} />\n      <WillowTree x={1040} y={height * 0.44} scale={0.35} seed={22} trunkHeight={95} />\n      <WillowTree x={1410} y={height * 0.445} scale={0.32} seed={23} trunkHeight={85} />\n\n      {/* Mid-distance chinampas (medium size) */}\n      <ChinampaPlot x={100} y={height * 0.52} plotWidth={180} plotHeight={55} cropType=\"corn\" seed={30} />\n      <ChinampaPlot x={340} y={height * 0.51} plotWidth={160} plotHeight={50} cropType=\"marigold\" seed={31} />\n      <ChinampaPlot x={560} y={height * 0.525} plotWidth={200} plotHeight={55} cropType=\"squash\" seed={32} />\n      <ChinampaPlot x={820} y={height * 0.52} plotWidth={170} plotHeight={50} cropType=\"chili\" seed={33} />\n      <ChinampaPlot x={1050} y={height * 0.515} plotWidth={190} plotHeight={55} cropType=\"mixed\" seed={34} />\n      <ChinampaPlot x={1300} y={height * 0.525} plotWidth={160} plotHeight={50} cropType=\"tomato\" seed={35} />\n      <ChinampaPlot x={1520} y={height * 0.52} plotWidth={180} plotHeight={52} cropType=\"corn\" seed={36} />\n      <ChinampaPlot x={1750} y={height * 0.515} plotWidth={150} plotHeight={48} cropType=\"marigold\" seed={37} />\n\n      {/* Water channels between mid chinampas */}\n      {[280, 500, 760, 990, 1240, 1460, 1700].map((cx, i) => {\n        const shimmer = sineWave(frame, 0.07, i * 0.8 + 5) * 2;\n        return (\n          <g key={`chan-mid-${i}`}>\n            <rect\n              x={cx}\n              y={height * 0.52}\n              width={60}\n              height={55}\n              fill={C.waterMid}\n              opacity={0.2}\n            />\n            {/* Channel reflections */}\n            <line\n              x1={cx + 10}\n              y1={height * 0.53 + shimmer}\n              x2={cx + 50}\n              y2={height * 0.53 + shimmer}\n              stroke={C.waterHighlight}\n              strokeWidth={0.8}\n              opacity={0.2}\n            />\n            <line\n              x1={cx + 15}\n              y1={height * 0.55 + shimmer * 0.7}\n              x2={cx + 45}\n              y2={height * 0.55 + shimmer * 0.7}\n              stroke={C.waterHighlight}\n              strokeWidth={0.5}\n              opacity={0.15}\n            />\n          </g>\n        );\n      })}\n\n      {/* Willow trees at mid chinampas */}\n      <WillowTree x={280} y={height * 0.52} scale={0.5} seed={40} trunkHeight={130} />\n      <WillowTree x={760} y={height * 0.525} scale={0.55} seed={41} trunkHeight={140} />\n      <WillowTree x={1240} y={height * 0.52} scale={0.5} seed={42} trunkHeight={125} />\n      <WillowTree x={1700} y={height * 0.515} scale={0.45} seed={43} trunkHeight={120} />\n\n      {/* ============================================================= */}\n      {/* CANOES IN WATER CHANNELS                                      */}\n      {/* ============================================================= */}\n\n      {/* Canoe navigating far channels */}\n      <Canoe x={510} y={height * 0.47} scale={0.5} seed={50} loaded={true} />\n      <Canoe x={1200} y={height * 0.48} scale={0.45} seed={51} flip={true} loaded={true} />\n\n      {/* Canoes in mid channels */}\n      <Canoe x={500} y={height * 0.56} scale={0.65} seed={52} loaded={true} />\n      <Canoe x={990} y={height * 0.555} scale={0.6} seed={53} flip={true} loaded={false} />\n      <Canoe x={1460} y={height * 0.56} scale={0.6} seed={54} loaded={true} />\n\n      {/* ============================================================= */}\n      {/* FOREGROUND: LARGE CHINAMPAS                                   */}\n      {/* ============================================================= */}\n\n      {/* Large foreground chinampa - left */}\n      <ChinampaPlot x={50} y={height * 0.65} plotWidth={280} plotHeight={80} cropType=\"corn\" seed={60} />\n\n      {/* Large foreground chinampa - center-left */}\n      <ChinampaPlot x={400} y={height * 0.64} plotWidth={250} plotHeight={75} cropType=\"marigold\" seed={61} />\n\n      {/* Large foreground chinampa - center */}\n      <ChinampaPlot x={720} y={height * 0.66} plotWidth={300} plotHeight={85} cropType=\"mixed\" seed={62} />\n\n      {/* Large foreground chinampa - center-right */}\n      <ChinampaPlot x={1100} y={height * 0.64} plotWidth={260} plotHeight={78} cropType=\"squash\" seed={63} />\n\n      {/* Large foreground chinampa - right */}\n      <ChinampaPlot x={1440} y={height * 0.65} plotWidth={280} plotHeight={80} cropType=\"chili\" seed={64} />\n\n      {/* Large foreground chinampa - far right */}\n      <ChinampaPlot x={1780} y={height * 0.66} plotWidth={120} plotHeight={70} cropType=\"tomato\" seed={65} />\n\n      {/* Extra crop rows on foreground chinampas for detail */}\n      <CropRow x={80} y={height * 0.65} length={240} cropType=\"corn\" seed={70} density={15} />\n      <CropRow x={430} y={height * 0.64} length={210} cropType=\"marigold\" seed={71} density={18} />\n      <CropRow x={750} y={height * 0.66} length={260} cropType=\"mixed\" seed={72} density={16} />\n\n      {/* Water channels between foreground chinampas */}\n      {[330, 650, 1020, 1360, 1720].map((cx, i) => {\n        const chanWidth = 70;\n        return (\n          <g key={`chan-fg-${i}`}>\n            {/* Water fill */}\n            <rect\n              x={cx}\n              y={height * 0.64}\n              width={chanWidth}\n              height={85}\n              fill={C.waterMid}\n              opacity={0.25}\n            />\n            {/* Reflections in channel */}\n            {[0, 1, 2, 3].map((j) => {\n              const lineY = height * 0.65 + j * 18 + sineWave(frame, 0.08, i + j) * 2;\n              return (\n                <line\n                  key={`ref-${i}-${j}`}\n                  x1={cx + 8}\n                  y1={lineY}\n                  x2={cx + chanWidth - 8}\n                  y2={lineY}\n                  stroke={C.waterHighlight}\n                  strokeWidth={0.8}\n                  opacity={0.18 - j * 0.03}\n                />\n              );\n            })}\n            {/* Dark water edge shadows */}\n            <line x1={cx} y1={height * 0.64} x2={cx} y2={height * 0.64 + 85}\n              stroke={C.waterShadow} strokeWidth={2} opacity={0.3} />\n            <line x1={cx + chanWidth} y1={height * 0.64} x2={cx + chanWidth} y2={height * 0.64 + 85}\n              stroke={C.waterShadow} strokeWidth={2} opacity={0.3} />\n          </g>\n        );\n      })}\n\n      {/* Foreground canoes in channels */}\n      <Canoe x={365} y={height * 0.7} scale={0.8} seed={80} loaded={true} />\n      <Canoe x={685} y={height * 0.72} scale={0.75} seed={81} flip={true} loaded={true} />\n      <Canoe x={1055} y={height * 0.7} scale={0.8} seed={82} loaded={false} />\n      <Canoe x={1395} y={height * 0.71} scale={0.7} seed={83} flip={true} loaded={true} />\n\n      {/* ============================================================= */}\n      {/* WILLOW TREES (AHUEJOTES) - FOREGROUND                         */}\n      {/* ============================================================= */}\n      <WillowTree x={50} y={height * 0.65} scale={0.75} seed={90} trunkHeight={180} />\n      <WillowTree x={330} y={height * 0.64} scale={0.7} seed={91} trunkHeight={170} />\n      <WillowTree x={650} y={height * 0.66} scale={0.8} seed={92} trunkHeight={190} />\n      <WillowTree x={1020} y={height * 0.64} scale={0.7} seed={93} trunkHeight={175} />\n      <WillowTree x={1360} y={height * 0.65} scale={0.75} seed={94} trunkHeight={185} />\n      <WillowTree x={1720} y={height * 0.66} scale={0.65} seed={95} trunkHeight={160} />\n\n      {/* ============================================================= */}\n      {/* REED CLUSTERS AND WATER LILIES                                */}\n      {/* ============================================================= */}\n\n      {/* Reed clusters at chinampa edges */}\n      <ReedCluster x={45} y={height * 0.73} count={8} maxHeight={50} seed={100} />\n      <ReedCluster x={330} y={height * 0.72} count={6} maxHeight={45} seed={101} />\n      <ReedCluster x={650} y={height * 0.74} count={7} maxHeight={55} seed={102} />\n      <ReedCluster x={1020} y={height * 0.72} count={6} maxHeight={48} seed={103} />\n      <ReedCluster x={1360} y={height * 0.73} count={8} maxHeight={52} seed={104} />\n      <ReedCluster x={1720} y={height * 0.74} count={5} maxHeight={42} seed={105} />\n      <ReedCluster x={1860} y={height * 0.75} count={9} maxHeight={58} seed={106} />\n\n      {/* Water lilies floating in channels */}\n      <WaterLily x={350} y={height * 0.69} scale={1.2} seed={110} hasFlower={true} />\n      <WaterLily x={375} y={height * 0.71} scale={0.9} seed={111} hasFlower={false} />\n      <WaterLily x={660} y={height * 0.73} scale={1.1} seed={112} hasFlower={true} />\n      <WaterLily x={685} y={height * 0.7} scale={0.8} seed={113} hasFlower={false} />\n      <WaterLily x={695} y={height * 0.72} scale={1.0} seed={114} hasFlower={true} />\n      <WaterLily x={1035} y={height * 0.69} scale={0.9} seed={115} hasFlower={false} />\n      <WaterLily x={1055} y={height * 0.72} scale={1.2} seed={116} hasFlower={true} />\n      <WaterLily x={1375} y={height * 0.7} scale={1.0} seed={117} hasFlower={true} />\n      <WaterLily x={1395} y={height * 0.72} scale={0.85} seed={118} hasFlower={false} />\n      <WaterLily x={1740} y={height * 0.73} scale={1.1} seed={119} hasFlower={true} />\n\n      {/* Additional lily pads in far channels */}\n      <WaterLily x={520} y={height * 0.49} scale={0.5} seed={120} hasFlower={false} />\n      <WaterLily x={860} y={height * 0.48} scale={0.45} seed={121} hasFlower={true} />\n      <WaterLily x={1210} y={height * 0.49} scale={0.5} seed={122} hasFlower={false} />\n\n      {/* ============================================================= */}\n      {/* BIRDS: HERONS AND DUCKS                                       */}\n      {/* ============================================================= */}\n\n      {/* Herons standing in shallow water near chinampas */}\n      <Heron x={110} y={height * 0.74} scale={0.8} seed={130} />\n      <Heron x={1550} y={height * 0.73} scale={0.7} seed={131} flip={true} />\n      <Heron x={850} y={height * 0.5} scale={0.4} seed={132} />\n\n      {/* Ducks swimming in channels */}\n      <Duck x={380} y={height * 0.685} scale={0.9} seed={140} />\n      <Duck x={400} y={height * 0.695} scale={0.7} seed={141} flip={true} />\n      <Duck x={1050} y={height * 0.695} scale={0.8} seed={142} />\n      <Duck x={1070} y={height * 0.685} scale={0.6} seed={143} flip={true} />\n      <Duck x={1740} y={height * 0.7} scale={0.75} seed={144} />\n\n      {/* Distant flying birds (V-shapes) */}\n      {[\n        { bx: 350, by: height * 0.15, bs: 0.6 },\n        { bx: 380, by: height * 0.14, bs: 0.5 },\n        { bx: 400, by: height * 0.16, bs: 0.45 },\n        { bx: 1300, by: height * 0.1, bs: 0.5 },\n        { bx: 1330, by: height * 0.09, bs: 0.4 },\n        { bx: 1280, by: height * 0.11, bs: 0.45 },\n      ].map((bird, i) => {\n        const wingFlap = sineWave(frame, 0.2 + i * 0.02, i * 0.5) * 3;\n        return (\n          <g key={`fbird-${i}`} transform={`translate(${bird.bx + cloudDrift * 0.3}, ${bird.by}) scale(${bird.bs})`}>\n            <path\n              d={`M-8,${wingFlap} L0,0 L8,${wingFlap}`}\n              fill=\"none\"\n              stroke={C.outline}\n              strokeWidth={1.5}\n              opacity={0.4}\n            />\n          </g>\n        );\n      })}\n\n      {/* ============================================================= */}\n      {/* ANIMATED CROWD WORKERS                                        */}\n      {/* ============================================================= */}\n      <AztecCrowdLayer config={AZTEC_CROWD_CONFIGS.chinampas} />\n\n      {/* ============================================================= */}\n      {/* FOREGROUND WATER & BOTTOM EDGE                                */}\n      {/* ============================================================= */}\n\n      {/* Bottom foreground water - darker, closer */}\n      <rect x={0} y={height * 0.82} width={width} height={height * 0.18} fill={C.waterDeep} opacity={0.3} />\n\n      {/* Foreground water ripples */}\n      {Array.from({ length: 8 }, (_, i) => {\n        const fy = height * 0.84 + i * 12;\n        const fWave = sineWave(frame, 0.1 + i * 0.008, i * 0.6) * 12;\n        return (\n          <path\n            key={`fgwave-${i}`}\n            d={`M${-10 + fWave},${fy}\n              Q${width * 0.2 + fWave},${fy + sineWave(frame, 0.09, i * 0.9) * 4}\n              ${width * 0.4 + fWave},${fy}\n              Q${width * 0.6 + fWave},${fy - sineWave(frame, 0.11, i * 0.7) * 3}\n              ${width * 0.8 + fWave},${fy}\n              Q${width + fWave},${fy + sineWave(frame, 0.08, i * 1.1) * 3}\n              ${width + 20},${fy}`}\n            fill=\"none\"\n            stroke={C.waterHighlight}\n            strokeWidth={0.7}\n            opacity={0.12}\n          />\n        );\n      })}\n\n      {/* Foreground reed clusters */}\n      <ReedCluster x={30} y={height * 0.88} count={10} maxHeight={70} seed={150} />\n      <ReedCluster x={180} y={height * 0.9} count={8} maxHeight={60} seed={151} />\n      <ReedCluster x={1750} y={height * 0.88} count={9} maxHeight={65} seed={152} />\n      <ReedCluster x={1880} y={height * 0.9} count={7} maxHeight={55} seed={153} />\n\n      {/* Foreground lily pads */}\n      <WaterLily x={250} y={height * 0.86} scale={1.4} seed={160} hasFlower={true} />\n      <WaterLily x={310} y={height * 0.88} scale={1.2} seed={161} hasFlower={false} />\n      <WaterLily x={1600} y={height * 0.87} scale={1.3} seed={162} hasFlower={true} />\n      <WaterLily x={1650} y={height * 0.89} scale={1.0} seed={163} hasFlower={false} />\n\n      {/* ============================================================= */}\n      {/* STONE TABLET FOR BOARD TEXT                                    */}\n      {/* ============================================================= */}\n      <g transform={`translate(${width / 2 - 210}, ${height * 0.78})`}>\n        {/* Tablet shadow */}\n        <rect x={-4} y={4} width={420} height={170} rx={6} fill={C.shadow} opacity={0.3} />\n\n        {/* Tablet frame - carved stone border */}\n        <rect x={-8} y={-8} width={436} height={186} rx={8} fill={C.stoneFrame} stroke={C.outline} strokeWidth={2} />\n\n        {/* Inner carved border */}\n        <rect x={-4} y={-4} width={428} height={178} rx={5} fill={C.stoneTabletDark} />\n\n        {/* Main tablet face */}\n        <rect x={0} y={0} width={420} height={170} rx={3} fill=\"url(#chin-stone-tab)\" />\n\n        {/* Stone texture */}\n        {[15, 45, 80, 115, 150].map((sy, i) => (\n          <line\n            key={`stone-line-${i}`}\n            x1={10}\n            y1={sy}\n            x2={410}\n            y2={sy + sineWave(frame, 0.01, i) * 0.5}\n            stroke={C.stoneTabletDark}\n            strokeWidth={0.5}\n            opacity={0.15}\n          />\n        ))}\n\n        {/* Aztec decorative border glyphs */}\n        <g opacity={0.3}>\n          {/* Top border pattern - step fret (xicalcoliuhqui) */}\n          {Array.from({ length: 14 }, (_, i) => {\n            const gx = 15 + i * 30;\n            return (\n              <path\n                key={`fret-top-${i}`}\n                d={`M${gx},12 L${gx + 8},12 L${gx + 8},18 L${gx + 16},18 L${gx + 16},12 L${gx + 24},12`}\n                fill=\"none\"\n                stroke={C.glyphColor}\n                strokeWidth={1.5}\n              />\n            );\n          })}\n          {/* Bottom border pattern */}\n          {Array.from({ length: 14 }, (_, i) => {\n            const gx = 15 + i * 30;\n            return (\n              <path\n                key={`fret-bot-${i}`}\n                d={`M${gx},155 L${gx + 8},155 L${gx + 8},149 L${gx + 16},149 L${gx + 16},155 L${gx + 24},155`}\n                fill=\"none\"\n                stroke={C.glyphColor}\n                strokeWidth={1.5}\n              />\n            );\n          })}\n          {/* Side glyphs - simplified Aztec calendar symbols */}\n          <circle cx={20} cy={85} r={8} fill=\"none\" stroke={C.glyphColor} strokeWidth={1} />\n          <circle cx={20} cy={85} r={4} fill=\"none\" stroke={C.glyphColor} strokeWidth={0.8} />\n          <circle cx={400} cy={85} r={8} fill=\"none\" stroke={C.glyphColor} strokeWidth={1} />\n          <circle cx={400} cy={85} r={4} fill=\"none\" stroke={C.glyphColor} strokeWidth={0.8} />\n          {/* Small decorative dots */}\n          {[30, 50, 70].map((dy, i) => (\n            <g key={`dot-l-${i}`}>\n              <circle cx={12} cy={dy} r={1.5} fill={C.glyphColor} />\n              <circle cx={408} cy={dy} r={1.5} fill={C.glyphColor} />\n              <circle cx={12} cy={dy + 70} r={1.5} fill={C.glyphColor} />\n              <circle cx={408} cy={dy + 70} r={1.5} fill={C.glyphColor} />\n            </g>\n          ))}\n        </g>\n\n        {/* Board text */}\n        {boardText && (\n          <text\n            x={210}\n            y={95}\n            textAnchor=\"middle\"\n            fill={C.chalkText}\n            fontSize={36}\n            fontFamily=\"'Courier New', monospace\"\n            fontWeight=\"bold\"\n            opacity={0.9}\n          >\n            {boardText}\n          </text>\n        )}\n      </g>\n\n      {/* ============================================================= */}\n      {/* MORNING MIST OVERLAYS                                         */}\n      {/* ============================================================= */}\n\n      {/* Low mist over water surface */}\n      <rect x={0} y={height * 0.42} width={width} height={height * 0.15}\n        fill=\"url(#chin-mist)\" opacity={0.6 + mistPulse * 0.15} />\n\n      {/* Mist wisps - animated */}\n      {[\n        { mx: 200, my: height * 0.5, mw: 250, mh: 25 },\n        { mx: 600, my: height * 0.48, mw: 200, mh: 20 },\n        { mx: 1000, my: height * 0.51, mw: 280, mh: 22 },\n        { mx: 1400, my: height * 0.49, mw: 220, mh: 18 },\n        { mx: 100, my: height * 0.53, mw: 180, mh: 15 },\n        { mx: 1650, my: height * 0.52, mw: 200, mh: 20 },\n      ].map((mist, i) => {\n        const mistDrift = sineWave(frame, 0.03 + i * 0.005, i * 1.5) * 20;\n        const mistFade = 0.08 + sineWave(frame, 0.04, i * 0.8) * 0.04;\n        return (\n          <ellipse\n            key={`mist-${i}`}\n            cx={mist.mx + mistDrift}\n            cy={mist.my}\n            rx={mist.mw}\n            ry={mist.mh}\n            fill={C.mistWhite}\n            opacity={mistFade}\n          />\n        );\n      })}\n\n      {/* Golden morning mist wisps */}\n      {[\n        { mx: 300, my: height * 0.46 },\n        { mx: 800, my: height * 0.47 },\n        { mx: 1200, my: height * 0.45 },\n      ].map((gm, i) => {\n        const gDrift = sineWave(frame, 0.025, i * 2) * 15;\n        return (\n          <ellipse\n            key={`gmist-${i}`}\n            cx={gm.mx + gDrift}\n            cy={gm.my}\n            rx={180}\n            ry={15}\n            fill={C.mistGold}\n            opacity={0.1 + sineWave(frame, 0.035, i) * 0.03}\n          />\n        );\n      })}\n\n      {/* ============================================================= */}\n      {/* ATMOSPHERIC OVERLAYS                                          */}\n      {/* ============================================================= */}\n\n      {/* Overall morning golden wash */}\n      <rect x={0} y={0} width={width} height={height}\n        fill={C.morningGlow} opacity={0.15 + sineWave(frame, 0.02, 0) * 0.03} />\n\n      {/* Soft vignette edges */}\n      <rect x={0} y={0} width={width * 0.1} height={height}\n        fill=\"rgba(30,30,50,0.08)\" />\n      <rect x={width * 0.9} y={0} width={width * 0.1} height={height}\n        fill=\"rgba(30,30,50,0.08)\" />\n      <rect x={0} y={height * 0.9} width={width} height={height * 0.1}\n        fill=\"rgba(20,30,40,0.12)\" />\n\n      {/* Canvas texture overlay */}\n      <rect x={0} y={0} width={width} height={height} fill=\"url(#chin-canvas)\" opacity={0.3} />\n\n      {/* Subtle warm color grade overlay */}\n      <rect x={0} y={0} width={width} height={height * 0.5}\n        fill=\"rgba(255,240,210,0.03)\" />\n      <rect x={0} y={height * 0.5} width={width} height={height * 0.5}\n        fill=\"rgba(180,210,230,0.03)\" />\n\n      {/* Water surface shimmer highlight at horizon */}\n      <rect\n        x={waterWave3 * 2}\n        y={height * 0.42}\n        width={width}\n        height={8}\n        fill={C.waterHighlight}\n        opacity={0.15 + waterShimmer * 0.05}\n      />\n    </svg>\n  );\n};\n\nexport default Chinampas;\n","import React from 'react';\nimport { useCurrentFrame } from 'remotion';\nimport { sineWave } from '../animations/easing';\nimport { AztecCrowdLayer, AZTEC_CROWD_CONFIGS } from '../crowds/AztecCrowd';\n\n// =============================================================================\n// AztecPlague - The Devastating Smallpox Epidemic (1520)\n// =============================================================================\n// A dark, somber scene depicting the catastrophic plague that destroyed the\n// Aztec Empire. Inspired by Goya's Black Paintings - heavy, oppressive\n// atmosphere with muted, desaturated colors. Funeral pyres provide the only\n// warm light in an otherwise cold, ash-covered world.\n// =============================================================================\n\n// ---- Color Constants (organized by category) ----\nconst C = {\n  // Sky & Atmosphere\n  skyTop: '#1A1C1E',\n  skyMid: '#2A2D2B',\n  skyBottom: '#3A3C38',\n  skyHaze: '#3E3F3A',\n  cloudDark: '#2E302C',\n  cloudMid: '#3A3D38',\n  cloudLight: '#4A4D47',\n  cloudGreen: '#3B3E35',\n  fogNear: 'rgba(58,60,54,0.45)',\n  fogFar: 'rgba(42,45,43,0.6)',\n  hazeGreen: 'rgba(70,75,60,0.25)',\n  ashHaze: 'rgba(90,88,82,0.15)',\n\n  // Ground & Earth\n  groundDark: '#2E2A24',\n  groundMid: '#3E382E',\n  groundLight: '#4E473A',\n  groundAsh: '#504A40',\n  mud: '#3A3428',\n  mudDark: '#2A2620',\n  dirt: '#4A4234',\n  dirtLight: '#5A5244',\n  pathStone: '#4E4840',\n  pathDark: '#3E3830',\n  dust: '#6A6458',\n\n  // Stone & Architecture\n  stoneLight: '#6A6458',\n  stoneMid: '#5A5448',\n  stoneDark: '#4A4438',\n  stoneVeryDark: '#3A3428',\n  stoneRed: '#6A4A3A',\n  stoneRedDark: '#5A3A2A',\n  stoneCarved: '#5E5648',\n  mortar: '#4E4A40',\n  plaster: '#6E685C',\n  plasterDamaged: '#5E584C',\n\n  // Fire & Pyres\n  fireCore: '#D4842A',\n  fireMid: '#B86A20',\n  fireOuter: '#8A4A18',\n  fireDim: '#6A3A14',\n  ember: '#C47020',\n  emberDim: '#8A4A14',\n  coalDark: '#2A1A10',\n  coalGlow: '#5A3018',\n  smokeBlack: '#1A1A18',\n  smokeDark: '#2E2C28',\n  smokeMid: '#4A4840',\n  smokeLight: '#6A6860',\n\n  // Sickness & Death\n  skinSick: '#7A7A5A',\n  skinSickDark: '#5A5A40',\n  skinPale: '#8A886A',\n  skinGray: '#6A685A',\n  spots: '#5A3A2A',\n  spotsDark: '#4A2A1A',\n  spotsLight: '#6A4A3A',\n  clothWhite: '#7A786E',\n  clothDirty: '#6A6858',\n  clothDark: '#4A4840',\n  wrapLinen: '#6E6A5E',\n  wrapDirty: '#5E5A4E',\n  wrapDark: '#4E4A3E',\n\n  // Aztec Colors (muted/desaturated)\n  aztecRed: '#6A3A2A',\n  aztecRedDark: '#4A2A1A',\n  aztecBlue: '#3A4A5A',\n  aztecBlueDark: '#2A3A4A',\n  aztecGold: '#7A6A3A',\n  aztecGoldDark: '#5A4A2A',\n  aztecGreen: '#3A5A3A',\n  aztecGreenDark: '#2A4A2A',\n  aztecTurquoise: '#3E5A5A',\n  aztecOrange: '#7A5A2A',\n  jade: '#4A6A4A',\n  jadeDark: '#3A5A3A',\n\n  // Wood & Organic\n  wood: '#4A3A28',\n  woodDark: '#3A2A18',\n  woodLight: '#5A4A38',\n  thatch: '#5A5040',\n  thatchDark: '#4A4030',\n  reed: '#5E5840',\n  reedDry: '#6E6850',\n\n  // Herbs & Medicine\n  herbGreen: '#4A5A3A',\n  herbDark: '#3A4A2A',\n  incense: '#8A7A5A',\n  incenseSmoke: 'rgba(120,110,90,0.3)',\n\n  // UI Elements\n  boardBg: '#3E382E',\n  boardFrame: '#2E2820',\n  boardStone: '#5A5448',\n  boardText: '#9A9488',\n  chalk: '#A09A8A',\n  glyphColor: '#6A6458',\n\n  // Outline\n  outline: '#1A1A18',\n  outlineSoft: '#2A2A28',\n};\n\n// ---- Interface ----\ninterface AztecPlagueProps {\n  boardText?: string;\n  width?: number;\n  height?: number;\n}\n\n// =============================================================================\n// Sub-component: AbandonedBuilding\n// =============================================================================\n// Aztec-style building with ornate carved stone, now abandoned and decaying.\n// Door marked with death symbol. Plaster crumbling, dark interior visible.\n// =============================================================================\nconst AbandonedBuilding: React.FC<{\n  x: number;\n  y: number;\n  scale?: number;\n  variant?: number;\n  hasDoorMark?: boolean;\n  frame: number;\n}> = ({ x, y, scale = 1, variant = 0, hasDoorMark = true, frame }) => {\n  const windSway = sineWave(frame, 0.06, variant * 2.1) * 1.5;\n  const clothFlutter = sineWave(frame, 0.25, variant * 3.7) * 3;\n  const bW = 120 + variant * 20;\n  const bH = 100 + variant * 15;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale})`}>\n      {/* Building shadow on ground */}\n      <ellipse cx={bW / 2} cy={5} rx={bW * 0.6} ry={8} fill=\"rgba(0,0,0,0.2)\" />\n\n      {/* Main building body */}\n      <rect x={0} y={-bH} width={bW} height={bH} fill={C.stoneMid} stroke={C.outline} strokeWidth={1.5} />\n\n      {/* Stone block texture */}\n      {Array.from({ length: Math.floor(bH / 18) }, (_, row) => (\n        <React.Fragment key={`row-${row}`}>\n          <line\n            x1={0} y1={-bH + row * 18}\n            x2={bW} y2={-bH + row * 18}\n            stroke={C.stoneVeryDark} strokeWidth={0.6} opacity={0.4}\n          />\n          {Array.from({ length: 3 + (row % 2) }, (_, col) => (\n            <line\n              key={`col-${col}`}\n              x1={bW * (col + (row % 2 === 0 ? 0.5 : 0)) / (3 + (row % 2))}\n              y1={-bH + row * 18}\n              x2={bW * (col + (row % 2 === 0 ? 0.5 : 0)) / (3 + (row % 2))}\n              y2={-bH + (row + 1) * 18}\n              stroke={C.stoneVeryDark} strokeWidth={0.4} opacity={0.3}\n            />\n          ))}\n        </React.Fragment>\n      ))}\n\n      {/* Aztec decorative band at top */}\n      <rect x={-3} y={-bH - 12} width={bW + 6} height={14} fill={C.stoneCarved} stroke={C.outline} strokeWidth={1} />\n      {/* Step-fret pattern (simplified) */}\n      {Array.from({ length: Math.floor(bW / 14) }, (_, i) => (\n        <path\n          key={`fret-${i}`}\n          d={`M${i * 14 + 2},${-bH - 3} l4,-4 l4,0 l0,4 l-4,0 l0,4`}\n          fill=\"none\" stroke={C.aztecRedDark} strokeWidth={1} opacity={0.5}\n        />\n      ))}\n\n      {/* Damaged plaster patches */}\n      <path\n        d={`M${bW * 0.6},${-bH * 0.7} q8,-5 15,2 q3,8 -5,12 q-10,2 -12,-6 z`}\n        fill={C.plasterDamaged} opacity={0.5}\n      />\n      <path\n        d={`M${bW * 0.15},${-bH * 0.3} q5,-8 12,-2 q4,6 -2,10 q-8,3 -12,-4 z`}\n        fill={C.plasterDamaged} opacity={0.4}\n      />\n\n      {/* Doorway */}\n      <rect x={bW * 0.3} y={-bH * 0.7} width={bW * 0.35} height={bH * 0.7}\n        fill={C.stoneVeryDark} stroke={C.outline} strokeWidth={1.2} />\n      {/* Doorway carved frame */}\n      <rect x={bW * 0.28} y={-bH * 0.72} width={bW * 0.39} height={bH * 0.04}\n        fill={C.stoneCarved} stroke={C.outline} strokeWidth={0.8} />\n\n      {/* Door mark (death symbol) */}\n      {hasDoorMark && (\n        <g transform={`translate(${bW * 0.47}, ${-bH * 0.55})`}>\n          {/* Skull-like death mark painted in red/brown */}\n          <circle cx={0} cy={0} r={8} fill=\"none\" stroke={C.aztecRed} strokeWidth={2} opacity={0.7} />\n          <line x1={-3} y1={-2} x2={-1} y2={-2} stroke={C.aztecRed} strokeWidth={1.5} opacity={0.7} />\n          <line x1={1} y1={-2} x2={3} y2={-2} stroke={C.aztecRed} strokeWidth={1.5} opacity={0.7} />\n          <line x1={-2} y1={3} x2={2} y2={3} stroke={C.aztecRed} strokeWidth={1} opacity={0.7} />\n          <line x1={-4} y1={8} x2={4} y2={8} stroke={C.aztecRed} strokeWidth={1.5} opacity={0.6} />\n          <line x1={0} y1={5} x2={0} y2={11} stroke={C.aztecRed} strokeWidth={1} opacity={0.6} />\n        </g>\n      )}\n\n      {/* Tattered cloth hanging from doorway */}\n      <path\n        d={`M${bW * 0.32},${-bH * 0.68} q${2 + clothFlutter},${bH * 0.15} ${1 + clothFlutter * 0.5},${bH * 0.35}\n           q${-1 + clothFlutter * 0.3},${bH * 0.1} ${clothFlutter * 0.5},${bH * 0.2}`}\n        fill=\"none\" stroke={C.clothDirty} strokeWidth={3} opacity={0.5}\n      />\n\n      {/* Window (dark, empty) */}\n      {variant % 2 === 0 && (\n        <g>\n          <rect x={bW * 0.75} y={-bH * 0.65} width={bW * 0.15} height={bH * 0.15}\n            fill={C.stoneVeryDark} stroke={C.outline} strokeWidth={0.8} />\n          <line x1={bW * 0.825} y1={-bH * 0.65} x2={bW * 0.825} y2={-bH * 0.5}\n            stroke={C.stoneDark} strokeWidth={0.8} />\n        </g>\n      )}\n\n      {/* Hanging thatch remnant on roof */}\n      <path\n        d={`M${bW * 0.1},${-bH - 10} q${windSway * 0.5},-8 ${windSway},-2\n           M${bW * 0.5},${-bH - 8} q${windSway * 0.3},-6 ${windSway * 0.8},-1\n           M${bW * 0.8},${-bH - 10} q${windSway * 0.6},-7 ${windSway * 0.4},-3`}\n        fill=\"none\" stroke={C.thatchDark} strokeWidth={2} opacity={0.5}\n      />\n\n      {/* Scattered debris at base */}\n      <circle cx={-8} cy={-3} r={2.5} fill={C.stoneDark} opacity={0.5} />\n      <circle cx={bW + 5} cy={-2} r={3} fill={C.stoneMid} opacity={0.4} />\n      <rect x={-12} y={-5} width={6} height={2} fill={C.wood}\n        transform={`rotate(${15 + variant * 10}, -9, -4)`} opacity={0.5} />\n    </g>\n  );\n};\n\n// =============================================================================\n// Sub-component: FuneralPyre\n// =============================================================================\n// Burning funeral pyre with animated flames, smoke, and embers. Provides the\n// only warm light source in the dark, cold scene.\n// =============================================================================\nconst FuneralPyre: React.FC<{\n  x: number;\n  y: number;\n  scale?: number;\n  intensity?: number;\n  seed?: number;\n  frame: number;\n}> = ({ x, y, scale = 1, intensity = 1, seed = 0, frame }) => {\n  const flicker1 = sineWave(frame, 0.35, seed);\n  const flicker2 = sineWave(frame, 0.55, seed + 1.3);\n  const flicker3 = sineWave(frame, 0.42, seed + 2.7);\n  const emberFloat = sineWave(frame, 0.12, seed + 0.5);\n  const smokeRise = (frame * 0.8 + seed * 50) % 200;\n  const fireH = 45 * intensity;\n  const fireW = 35 * intensity;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale})`}>\n      {/* Ground glow */}\n      <ellipse cx={0} cy={5} rx={50 * intensity} ry={10}\n        fill={C.fireOuter} opacity={0.15 + flicker1 * 0.05} />\n\n      {/* Wood pile base */}\n      <line x1={-20} y1={0} x2={20} y2={-3} stroke={C.coalDark} strokeWidth={5} strokeLinecap=\"round\" />\n      <line x1={-18} y1={-4} x2={22} y2={-1} stroke={C.coalDark} strokeWidth={4} strokeLinecap=\"round\" />\n      <line x1={-15} y1={-7} x2={18} y2={-6} stroke={C.coalGlow} strokeWidth={4} strokeLinecap=\"round\" />\n      <line x1={-22} y1={3} x2={24} y2={1} stroke={C.woodDark} strokeWidth={5} strokeLinecap=\"round\" />\n      <line x1={-8} y1={-2} x2={-5} y2={5} stroke={C.coalDark} strokeWidth={3} strokeLinecap=\"round\" />\n      <line x1={10} y1={-3} x2={12} y2={4} stroke={C.coalDark} strokeWidth={3} strokeLinecap=\"round\" />\n\n      {/* Wrapped form on pyre (suggesting a body) */}\n      <path\n        d={`M${-14},${-8} q${5},${-6} ${14},${-5} q${10},${1} ${14},${5}\n           q${-5},{3} ${-14},{4} q${-10},${0} ${-14},${-4} z`}\n        fill={C.wrapDirty} stroke={C.wrapDark} strokeWidth={0.8} opacity={0.6}\n      />\n\n      {/* Main fire body - outer flame */}\n      <path\n        d={`M${-fireW},0\n           Q${-fireW * 0.8 + flicker2 * 3},${-fireH * 0.4}\n            ${-fireW * 0.3 + flicker1 * 4},${-fireH * 0.7}\n           Q${flicker3 * 5},${-fireH - flicker1 * 8}\n            ${fireW * 0.3 + flicker2 * 3},${-fireH * 0.65}\n           Q${fireW * 0.8 + flicker3 * 4},${-fireH * 0.35}\n            ${fireW},0 Z`}\n        fill={C.fireOuter} opacity={0.7 + flicker1 * 0.1}\n      />\n\n      {/* Mid flame */}\n      <path\n        d={`M${-fireW * 0.7},${-2}\n           Q${-fireW * 0.5 + flicker3 * 2},${-fireH * 0.45}\n            ${flicker1 * 3},${-fireH * 0.8 - flicker2 * 6}\n           Q${fireW * 0.5 + flicker1 * 2},${-fireH * 0.4}\n            ${fireW * 0.7},${-2} Z`}\n        fill={C.fireMid} opacity={0.65 + flicker2 * 0.1}\n      />\n\n      {/* Core flame (brightest) */}\n      <path\n        d={`M${-fireW * 0.4},${-4}\n           Q${-fireW * 0.2 + flicker2 * 2},${-fireH * 0.5}\n            ${flicker3 * 2},${-fireH * 0.65 - flicker1 * 5}\n           Q${fireW * 0.3 + flicker3},${-fireH * 0.4}\n            ${fireW * 0.4},${-4} Z`}\n        fill={C.fireCore} opacity={0.6 + flicker3 * 0.15}\n      />\n\n      {/* Embers floating upward */}\n      {[0, 1, 2, 3, 4, 5].map((i) => {\n        const ePhase = (frame * 0.6 + i * 33 + seed * 17) % 120;\n        const eX = sineWave(frame, 0.18, i * 1.7 + seed) * 15;\n        const eY = -10 - ePhase * 0.8;\n        const eOp = Math.max(0, 1 - ePhase / 100) * 0.7;\n        return (\n          <circle\n            key={`ember-${i}`}\n            cx={eX} cy={eY}\n            r={1 + Math.random() * 0.5}\n            fill={i % 2 === 0 ? C.ember : C.emberDim}\n            opacity={eOp}\n          />\n        );\n      })}\n\n      {/* Glow on surrounding area */}\n      <circle cx={0} cy={-fireH * 0.3} r={fireW * 2}\n        fill={C.fireOuter} opacity={0.04 + flicker1 * 0.02} />\n    </g>\n  );\n};\n\n// =============================================================================\n// Sub-component: SickMat\n// =============================================================================\n// A sick person lying on a woven mat, covered in smallpox spots. Subtle\n// breathing animation. Conveys suffering through posture and detail.\n// =============================================================================\nconst SickMat: React.FC<{\n  x: number;\n  y: number;\n  scale?: number;\n  variant?: number;\n  frame: number;\n}> = ({ x, y, scale = 1, variant = 0, frame }) => {\n  const breathe = sineWave(frame, 0.08, variant * 1.4) * 1.2;\n  const shiver = sineWave(frame, 0.6, variant * 2.3) * 0.4;\n  const flip = variant % 2 === 0 ? 1 : -1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * flip}, ${scale})`}>\n      {/* Woven mat */}\n      <rect x={-30} y={-2} width={65} height={8} rx={1}\n        fill={C.reed} stroke={C.reedDry} strokeWidth={0.5} opacity={0.7} />\n      {/* Mat weave pattern */}\n      {Array.from({ length: 8 }, (_, i) => (\n        <line key={`weave-${i}`}\n          x1={-30 + i * 8} y1={-2} x2={-30 + i * 8} y2={6}\n          stroke={C.reedDry} strokeWidth={0.4} opacity={0.3} />\n      ))}\n\n      {/* Body lying down */}\n      <g transform={`translate(0, ${breathe})`}>\n        {/* Torso */}\n        <ellipse cx={5} cy={-8} rx={12} ry={6 + breathe * 0.3}\n          fill={C.skinSick} stroke={C.outlineSoft} strokeWidth={0.8} />\n\n        {/* Blanket/cloth over body */}\n        <path\n          d={`M${-10},${-12 + breathe * 0.2} q${15},${-4} ${30},${-1}\n             q${5},${3 + breathe * 0.2} ${2},${8} l${-34},${2} z`}\n          fill={C.clothDirty} stroke={C.clothDark} strokeWidth={0.6} opacity={0.7}\n        />\n\n        {/* Head */}\n        <g transform={`translate(${-18 + shiver}, ${-10})`}>\n          <ellipse cx={0} cy={0} rx={6} ry={5.5}\n            fill={C.skinSick} stroke={C.outlineSoft} strokeWidth={0.8} />\n          {/* Hair */}\n          <path d=\"M-5,-4 q-2,-3 0,-5 q3,-2 6,-1 q3,1 4,4\"\n            fill={C.stoneVeryDark} opacity={0.6} />\n          {/* Closed eyes (suffering) */}\n          <line x1={-3} y1={-1} x2={-1} y2={-0.5}\n            stroke={C.outline} strokeWidth={0.7} />\n          <line x1={1} y1={-0.5} x2={3} y2={-1}\n            stroke={C.outline} strokeWidth={0.7} />\n          {/* Open mouth (pain) */}\n          <ellipse cx={0} cy={2.5} rx={2} ry={1.2}\n            fill={C.stoneVeryDark} opacity={0.5} />\n\n          {/* Smallpox spots on face */}\n          <circle cx={-3} cy={1} r={0.8} fill={C.spots} opacity={0.6} />\n          <circle cx={2} cy={0} r={0.7} fill={C.spots} opacity={0.5} />\n          <circle cx={4} cy={2} r={0.6} fill={C.spotsDark} opacity={0.5} />\n          <circle cx={-1} cy={3} r={0.7} fill={C.spots} opacity={0.6} />\n          <circle cx={-4} cy={-1} r={0.5} fill={C.spotsLight} opacity={0.4} />\n        </g>\n\n        {/* Arm visible outside blanket */}\n        <path\n          d={`M${-8},${-6} q${-5},${3} ${-10},${8}`}\n          fill=\"none\" stroke={C.skinSickDark} strokeWidth={3} strokeLinecap=\"round\"\n        />\n        {/* Hand */}\n        <circle cx={-18} cy={2} r={2.5} fill={C.skinSick} opacity={0.7} />\n\n        {/* Spots on arm */}\n        <circle cx={-12} cy={-2} r={0.6} fill={C.spots} opacity={0.5} />\n        <circle cx={-14} cy={1} r={0.7} fill={C.spots} opacity={0.5} />\n        <circle cx={-10} cy={0} r={0.5} fill={C.spotsDark} opacity={0.4} />\n      </g>\n\n      {/* Water bowl nearby */}\n      <ellipse cx={30} cy={-2} rx={5} ry={2} fill={C.stoneDark} stroke={C.outline} strokeWidth={0.5} />\n      <ellipse cx={30} cy={-3} rx={4} ry={1.5} fill={C.aztecBlueDark} opacity={0.4} />\n\n      {/* Scattered herbs */}\n      <line x1={25} y1={-1} x2={27} y2={-4} stroke={C.herbDark} strokeWidth={0.8} opacity={0.4} />\n      <line x1={33} y1={0} x2={35} y2={-3} stroke={C.herbGreen} strokeWidth={0.6} opacity={0.3} />\n    </g>\n  );\n};\n\n// =============================================================================\n// Sub-component: HealerFigure\n// =============================================================================\n// A medicine man/healer performing traditional remedies. Burning incense,\n// applying herbs. Animated gestures show desperation.\n// =============================================================================\nconst HealerFigure: React.FC<{\n  x: number;\n  y: number;\n  scale?: number;\n  variant?: number;\n  frame: number;\n}> = ({ x, y, scale = 1, variant = 0, frame }) => {\n  const armMove = sineWave(frame, 0.12, variant * 1.8) * 8;\n  const bodyRock = sineWave(frame, 0.08, variant * 0.9) * 2;\n  const headTilt = sineWave(frame, 0.1, variant * 1.2) * 3;\n  const incenseWisp = sineWave(frame, 0.3, variant * 2.5);\n  const flip = variant % 2 === 0 ? 1 : -1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * flip}, ${scale})`}>\n      {/* Shadow */}\n      <ellipse cx={0} cy={2} rx={14} ry={4} fill=\"rgba(0,0,0,0.2)\" />\n\n      {/* Kneeling legs */}\n      <path d=\"M-4,0 q-2,-6 -6,-10 q-2,-4 0,-8\"\n        fill=\"none\" stroke={C.skinSickDark} strokeWidth={3.5} strokeLinecap=\"round\" />\n      <path d=\"M4,0 q-1,-8 2,-14\"\n        fill=\"none\" stroke={C.skinSick} strokeWidth={3.5} strokeLinecap=\"round\" />\n\n      {/* Torso with robe */}\n      <g transform={`translate(0, ${bodyRock})`}>\n        <path\n          d={`M${-6},${-18} q${-2},${-10} ${0},${-22}\n             q${3},${-4} ${8},${-3}\n             q${2},${10} ${0},${22} z`}\n          fill={C.clothDirty} stroke={C.outlineSoft} strokeWidth={0.8}\n        />\n\n        {/* Headdress/medicine man indicator */}\n        <g transform={`translate(1, ${-42 + headTilt * 0.3}) rotate(${headTilt})`}>\n          {/* Head */}\n          <circle cx={0} cy={0} r={6} fill={C.skinSick} stroke={C.outlineSoft} strokeWidth={0.8} />\n          {/* Face features */}\n          <circle cx={-2} cy={-1} r={0.8} fill={C.outline} opacity={0.7} />\n          <circle cx={2} cy={-1} r={0.8} fill={C.outline} opacity={0.7} />\n          <path d=\"M-1.5,2.5 q1.5,1 3,0\" fill=\"none\" stroke={C.outline} strokeWidth={0.6} />\n\n          {/* Feather headdress */}\n          <path d=\"M-4,-5 q-3,-8 -1,-14\" fill=\"none\" stroke={C.aztecGreenDark} strokeWidth={1.5} opacity={0.7} />\n          <path d=\"M0,-6 q0,-10 2,-15\" fill=\"none\" stroke={C.aztecRedDark} strokeWidth={1.5} opacity={0.6} />\n          <path d=\"M3,-5 q3,-9 5,-13\" fill=\"none\" stroke={C.aztecGreenDark} strokeWidth={1.2} opacity={0.5} />\n\n          {/* Face paint (healer markings) */}\n          <line x1={-5} y1={0} x2={-3} y2={1} stroke={C.aztecRed} strokeWidth={0.8} opacity={0.5} />\n          <line x1={3} y1={1} x2={5} y2={0} stroke={C.aztecRed} strokeWidth={0.8} opacity={0.5} />\n        </g>\n\n        {/* Arms - one holding incense, one gesturing */}\n        {/* Right arm with incense burner */}\n        <path\n          d={`M${6},${-28} q${8 + armMove * 0.5},${5} ${12 + armMove},${10}`}\n          fill=\"none\" stroke={C.skinSick} strokeWidth={3} strokeLinecap=\"round\"\n        />\n        {/* Incense bowl */}\n        <g transform={`translate(${18 + armMove}, ${-18})`}>\n          <ellipse cx={0} cy={0} rx={4} ry={2} fill={C.stoneDark} stroke={C.outline} strokeWidth={0.5} />\n          {/* Incense smoke wisps */}\n          <path\n            d={`M0,-2 q${incenseWisp * 2},-6 ${incenseWisp * 3},-12\n               q${-incenseWisp},-4 ${incenseWisp * 2},-18`}\n            fill=\"none\" stroke={C.incenseSmoke} strokeWidth={2} opacity={0.4}\n          />\n          <path\n            d={`M1,-3 q${-incenseWisp * 1.5},-5 ${-incenseWisp * 2},-10\n               q${incenseWisp * 0.8},-6 ${-incenseWisp},-14`}\n            fill=\"none\" stroke={C.incenseSmoke} strokeWidth={1.5} opacity={0.3}\n          />\n          {/* Glowing ember in bowl */}\n          <circle cx={0} cy={-1} r={1.5} fill={C.emberDim} opacity={0.6 + incenseWisp * 0.1} />\n        </g>\n\n        {/* Left arm with herb bundle */}\n        <path\n          d={`M${-6},${-28} q${-6 - armMove * 0.3},${4} ${-10 - armMove * 0.5},${12}`}\n          fill=\"none\" stroke={C.skinSickDark} strokeWidth={3} strokeLinecap=\"round\"\n        />\n        {/* Herb bundle */}\n        <g transform={`translate(${-16 - armMove * 0.5}, ${-16})`}>\n          <line x1={0} y1={0} x2={-3} y2={-6} stroke={C.herbDark} strokeWidth={1.5} />\n          <line x1={0} y1={0} x2={1} y2={-7} stroke={C.herbGreen} strokeWidth={1.2} />\n          <line x1={0} y1={0} x2={3} y2={-5} stroke={C.herbDark} strokeWidth={1} />\n          <circle cx={-3} cy={-7} r={1.5} fill={C.herbGreen} opacity={0.5} />\n          <circle cx={1} cy={-8} r={1.2} fill={C.herbDark} opacity={0.4} />\n        </g>\n      </g>\n\n      {/* Pouches and tools on ground */}\n      <rect x={10} y={-3} width={6} height={4} rx={1}\n        fill={C.clothDirty} stroke={C.outlineSoft} strokeWidth={0.4} opacity={0.5} />\n      <circle cx={-10} cy={-1} r={2} fill={C.stoneDark} opacity={0.4} />\n    </g>\n  );\n};\n\n// =============================================================================\n// Sub-component: MarkedDoor\n// =============================================================================\n// A standalone doorway/entrance with Aztec death markers painted on it.\n// Used to mark houses of the dead/infected.\n// =============================================================================\nconst MarkedDoor: React.FC<{\n  x: number;\n  y: number;\n  scale?: number;\n  variant?: number;\n  frame: number;\n}> = ({ x, y, scale = 1, variant = 0, frame }) => {\n  const clothSway = sineWave(frame, 0.15, variant * 3.1) * 2;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale})`}>\n      {/* Door frame - stone */}\n      <rect x={-18} y={-60} width={36} height={60}\n        fill={C.stoneMid} stroke={C.outline} strokeWidth={1.2} />\n\n      {/* Door opening (dark interior) */}\n      <rect x={-14} y={-55} width={28} height={55}\n        fill={C.stoneVeryDark} />\n\n      {/* Carved lintel */}\n      <rect x={-20} y={-63} width={40} height={6}\n        fill={C.stoneCarved} stroke={C.outline} strokeWidth={0.8} />\n      {/* Serpent motif on lintel */}\n      <path d=\"M-15,-61 q5,-2 10,0 q5,2 10,0 q5,-2 10,0\"\n        fill=\"none\" stroke={C.aztecRedDark} strokeWidth={1} opacity={0.5} />\n\n      {/* Death marker - red X */}\n      <line x1={-8} y1={-45} x2={8} y2={-25}\n        stroke={C.aztecRed} strokeWidth={3} strokeLinecap=\"round\" opacity={0.7} />\n      <line x1={8} y1={-45} x2={-8} y2={-25}\n        stroke={C.aztecRed} strokeWidth={3} strokeLinecap=\"round\" opacity={0.7} />\n\n      {/* Mictlantecuhtli symbol (death god - simplified skull) */}\n      <g transform=\"translate(0, -15)\" opacity={0.6}>\n        <circle cx={0} cy={0} r={5} fill=\"none\" stroke={C.aztecRed} strokeWidth={1.5} />\n        <circle cx={-2} cy={-1} r={1} fill={C.aztecRed} />\n        <circle cx={2} cy={-1} r={1} fill={C.aztecRed} />\n        <line x1={-2} y1={3} x2={2} y2={3} stroke={C.aztecRed} strokeWidth={0.8} />\n        {/* Teeth marks */}\n        <line x1={-1} y1={2.5} x2={-1} y2={3.5} stroke={C.aztecRed} strokeWidth={0.4} />\n        <line x1={0} y1={2.5} x2={0} y2={3.5} stroke={C.aztecRed} strokeWidth={0.4} />\n        <line x1={1} y1={2.5} x2={1} y2={3.5} stroke={C.aztecRed} strokeWidth={0.4} />\n      </g>\n\n      {/* Torn cloth draped over doorway */}\n      <path\n        d={`M-14,-53 q${clothSway},-3 ${2 + clothSway * 0.5},-20\n           q${1 + clothSway * 0.3},-8 ${3 + clothSway * 0.2},-25`}\n        fill=\"none\" stroke={C.clothDirty} strokeWidth={2.5} opacity={0.4}\n      />\n      <path\n        d={`M14,-55 q${-clothSway * 0.8},${-5} ${-1 - clothSway * 0.4},-15`}\n        fill=\"none\" stroke={C.clothDark} strokeWidth={2} opacity={0.35}\n      />\n\n      {/* Dried flowers/offerings at base (withered) */}\n      <circle cx={-8} cy={-2} r={1.5} fill={C.aztecRedDark} opacity={0.3} />\n      <circle cx={-5} cy={-1} r={1} fill={C.herbDark} opacity={0.3} />\n      <line x1={-7} y1={-1} x2={-9} y2={-5} stroke={C.reedDry} strokeWidth={0.6} opacity={0.3} />\n      <line x1={-4} y1={0} x2={-3} y2={-4} stroke={C.reedDry} strokeWidth={0.5} opacity={0.25} />\n    </g>\n  );\n};\n\n// =============================================================================\n// Sub-component: EmptyMarketStall\n// =============================================================================\n// Abandoned market stall with scattered goods, overturned pottery,\n// collapsed canopy. Signs of sudden abandonment.\n// =============================================================================\nconst EmptyMarketStall: React.FC<{\n  x: number;\n  y: number;\n  scale?: number;\n  variant?: number;\n  frame: number;\n}> = ({ x, y, scale = 1, variant = 0, frame }) => {\n  const canopyFlap = sineWave(frame, 0.18, variant * 2.4) * 3;\n  const windRattle = sineWave(frame, 0.4, variant * 1.6) * 1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale})`}>\n      {/* Ground shadow */}\n      <ellipse cx={20} cy={3} rx={30} ry={5} fill=\"rgba(0,0,0,0.15)\" />\n\n      {/* Stall posts (one broken/leaning) */}\n      <line x1={-15} y1={0} x2={-15} y2={-55}\n        stroke={C.wood} strokeWidth={4} strokeLinecap=\"round\" />\n      <line x1={40} y1={0} x2={38} y2={-50}\n        stroke={C.wood} strokeWidth={4} strokeLinecap=\"round\" />\n      {/* Broken crossbar */}\n      <line x1={-15} y1={-50} x2={25} y2={-48}\n        stroke={C.woodDark} strokeWidth={3} strokeLinecap=\"round\" />\n\n      {/* Torn canopy (flapping) */}\n      <path\n        d={`M${-18},${-52} q${10 + canopyFlap},${-5 + canopyFlap * 0.5} ${25},${-3}\n           q${10 + canopyFlap * 0.3},${2} ${15},${5 + canopyFlap}`}\n        fill={C.clothDirty} stroke={C.clothDark} strokeWidth={0.8} opacity={0.5}\n      />\n      {/* Canopy tattered edge */}\n      <path\n        d={`M${22 + canopyFlap * 0.5},${-50 + canopyFlap}\n           q${3},${4} ${2},${10} q${-2},${3} ${-1},${6}`}\n        fill=\"none\" stroke={C.clothDark} strokeWidth={1.5} opacity={0.4}\n      />\n\n      {/* Counter/table surface (tilted/broken) */}\n      <rect x={-12} y={-20} width={50} height={4} rx={1}\n        fill={C.woodLight} stroke={C.woodDark} strokeWidth={0.8}\n        transform={`rotate(${3 + variant}, 13, -18)`} />\n\n      {/* Overturned pottery */}\n      <g transform={`translate(${-8}, ${-3}) rotate(${75 + variant * 15})`}>\n        <ellipse cx={0} cy={0} rx={6} ry={4}\n          fill={C.stoneRed} stroke={C.stoneRedDark} strokeWidth={0.8} opacity={0.7} />\n        <ellipse cx={0} cy={-1} rx={4} ry={2.5}\n          fill={C.stoneRedDark} opacity={0.5} />\n      </g>\n      {/* Another pot, broken */}\n      <path d={`M${20},${-2} q${3},${-5} ${1},${-10} q${3},${0} ${6},${0}\n               q${-1},${5} ${1},${10} z`}\n        fill={C.stoneRed} stroke={C.stoneRedDark} strokeWidth={0.6} opacity={0.6} />\n      {/* Pottery shard */}\n      <path d={`M${28},${0} l${3},${-4} l${3},${2} z`}\n        fill={C.stoneRedDark} opacity={0.4} />\n\n      {/* Scattered goods */}\n      {/* Fallen corn/maize */}\n      <ellipse cx={35} cy={-1} rx={3} ry={1.5}\n        fill={C.aztecGold} stroke={C.aztecGoldDark} strokeWidth={0.4} opacity={0.4}\n        transform=\"rotate(30, 35, -1)\" />\n      <ellipse cx={38} cy={1} rx={2.5} ry={1.2}\n        fill={C.aztecGold} opacity={0.35}\n        transform=\"rotate(-20, 38, 1)\" />\n\n      {/* Dropped cloth/textile */}\n      <path d={`M${5},${-1} q${3 + windRattle},${-2} ${8},${-1} q${2},${2} ${0},${3} q${-5},${1} ${-9},${0} z`}\n        fill={C.aztecRedDark} opacity={0.35} />\n\n      {/* Abandoned tool */}\n      <line x1={42} y1={2} x2={48} y2={-15}\n        stroke={C.woodDark} strokeWidth={2} strokeLinecap=\"round\" opacity={0.4} />\n    </g>\n  );\n};\n\n// =============================================================================\n// Sub-component: WrappedBody\n// =============================================================================\n// A wrapped body in traditional burial cloth/petate mat. Somber detail showing\n// the scale of death. Subtle cloth movement from wind.\n// =============================================================================\nconst WrappedBody: React.FC<{\n  x: number;\n  y: number;\n  scale?: number;\n  variant?: number;\n  frame: number;\n}> = ({ x, y, scale = 1, variant = 0, frame }) => {\n  const clothRipple = sineWave(frame, 0.1, variant * 2.2) * 0.5;\n  const angle = variant % 3 === 0 ? -5 : variant % 3 === 1 ? 8 : 0;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale}) rotate(${angle})`}>\n      {/* Shadow beneath */}\n      <ellipse cx={0} cy={3} rx={22} ry={4} fill=\"rgba(0,0,0,0.15)\" />\n\n      {/* Petate mat underneath */}\n      <rect x={-24} y={-1} width={48} height={5} rx={1}\n        fill={C.reedDry} stroke={C.reed} strokeWidth={0.4} opacity={0.5} />\n\n      {/* Wrapped body form */}\n      <path\n        d={`M${-20},${-2 + clothRipple}\n           q${2},${-8} ${8},${-10}\n           q${8},${-3} ${16},${-2 + clothRipple * 0.5}\n           q${6},${1} ${12},${4}\n           q${2},${4} ${0},${8}\n           q${-6},${2} ${-16},${2}\n           q${-12},${0} ${-18},${-2} z`}\n        fill={C.wrapLinen} stroke={C.wrapDark} strokeWidth={0.8}\n      />\n\n      {/* Wrap binding lines */}\n      <line x1={-10} y1={-10 + clothRipple} x2={-10} y2={3}\n        stroke={C.wrapDark} strokeWidth={0.8} opacity={0.4} />\n      <line x1={0} y1={-12 + clothRipple * 0.5} x2={0} y2={4}\n        stroke={C.wrapDark} strokeWidth={0.8} opacity={0.4} />\n      <line x1={10} y1={-10 + clothRipple * 0.3} x2={10} y2={2}\n        stroke={C.wrapDark} strokeWidth={0.8} opacity={0.4} />\n\n      {/* Head area slightly visible through wrap */}\n      <ellipse cx={-15} cy={-5} rx={6} ry={5}\n        fill={C.wrapDirty} stroke={C.wrapDark} strokeWidth={0.5} opacity={0.7} />\n\n      {/* Flowers/offering placed on body */}\n      {variant % 2 === 0 && (\n        <g transform=\"translate(2, -12)\">\n          <circle cx={0} cy={0} r={2} fill={C.aztecRedDark} opacity={0.3} />\n          <circle cx={3} cy={1} r={1.5} fill={C.aztecRedDark} opacity={0.25} />\n          <line x1={1} y1={0} x2={0} y2={4} stroke={C.herbDark} strokeWidth={0.5} opacity={0.3} />\n        </g>\n      )}\n    </g>\n  );\n};\n\n// =============================================================================\n// Sub-component: SmokePlume\n// =============================================================================\n// Rising smoke column from funeral pyres. Animated billowing clouds that\n// rise and dissipate. Creates the oppressive atmospheric haze.\n// =============================================================================\nconst SmokePlume: React.FC<{\n  x: number;\n  y: number;\n  scale?: number;\n  seed?: number;\n  darkness?: number;\n  frame: number;\n}> = ({ x, y, scale = 1, seed = 0, darkness = 0.5, frame }) => {\n  const drift = sineWave(frame, 0.04, seed) * 20;\n  const drift2 = sineWave(frame, 0.06, seed + 1.5) * 15;\n  const expand = sineWave(frame, 0.03, seed + 3.0);\n  const billow1 = sineWave(frame, 0.08, seed + 0.7);\n  const billow2 = sineWave(frame, 0.11, seed + 2.1);\n  const billow3 = sineWave(frame, 0.07, seed + 4.3);\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale})`}>\n      {/* Base smoke - dense, dark */}\n      <ellipse\n        cx={drift * 0.2} cy={-20}\n        rx={18 + expand * 3} ry={12 + billow1 * 2}\n        fill={C.smokeBlack} opacity={darkness * 0.6}\n      />\n      <ellipse\n        cx={drift * 0.4 + 5} cy={-45}\n        rx={22 + expand * 4 + billow2 * 3} ry={15 + billow1 * 3}\n        fill={C.smokeDark} opacity={darkness * 0.5}\n      />\n\n      {/* Mid-level smoke */}\n      <ellipse\n        cx={drift * 0.6 + 3} cy={-75}\n        rx={28 + expand * 5 + billow3 * 4} ry={18 + billow2 * 3}\n        fill={C.smokeMid} opacity={darkness * 0.35}\n      />\n      <ellipse\n        cx={drift * 0.8 - 5} cy={-100}\n        rx={32 + expand * 6} ry={20 + billow3 * 4}\n        fill={C.smokeMid} opacity={darkness * 0.3}\n      />\n\n      {/* High-level smoke - spreading and thinning */}\n      <ellipse\n        cx={drift + drift2 * 0.5} cy={-135}\n        rx={40 + expand * 8 + billow1 * 5} ry={22 + billow2 * 5}\n        fill={C.smokeLight} opacity={darkness * 0.2}\n      />\n      <ellipse\n        cx={drift * 1.2 + drift2} cy={-170}\n        rx={50 + expand * 10} ry={25 + billow3 * 6}\n        fill={C.smokeLight} opacity={darkness * 0.12}\n      />\n\n      {/* Highest wisps */}\n      <ellipse\n        cx={drift * 1.5 + drift2 * 0.8} cy={-210}\n        rx={60 + expand * 12} ry={28}\n        fill={C.ashHaze} opacity={darkness * 0.08}\n      />\n    </g>\n  );\n};\n\n// =============================================================================\n// Helper: DistantTemple\n// =============================================================================\n// Silhouette of an Aztec pyramid temple visible through haze in the distance.\n// =============================================================================\nconst DistantTemple: React.FC<{\n  x: number;\n  y: number;\n  scale?: number;\n  opacity?: number;\n}> = ({ x, y, scale = 1, opacity = 0.3 }) => {\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale})`} opacity={opacity}>\n      {/* Stepped pyramid silhouette */}\n      <path\n        d={`M${-60},0 L${-55},${-15} L${-40},${-15} L${-38},${-30}\n           L${-25},${-30} L${-22},${-45} L${-10},${-45} L${-8},${-60}\n           L${8},${-60} L${10},${-45} L${22},${-45} L${25},${-30}\n           L${38},${-30} L${40},${-15} L${55},${-15} L${60},0 Z`}\n        fill={C.stoneVeryDark}\n      />\n      {/* Temple structure on top */}\n      <rect x={-6} y={-72} width={12} height={12} fill={C.stoneVeryDark} />\n      <path d=\"M-8,-72 L0,-80 L8,-72 Z\" fill={C.stoneVeryDark} />\n    </g>\n  );\n};\n\n// =============================================================================\n// Helper: ScatteredDebris\n// =============================================================================\n// Random debris, pottery, tools scattered on the ground.\n// =============================================================================\nconst ScatteredDebris: React.FC<{\n  x: number;\n  y: number;\n  variant?: number;\n}> = ({ x, y, variant = 0 }) => {\n  return (\n    <g transform={`translate(${x}, ${y})`}>\n      {/* Broken pottery */}\n      {variant % 3 === 0 && (\n        <>\n          <path d={`M0,0 l4,-6 l3,2 l-2,5 z`}\n            fill={C.stoneRed} opacity={0.4} />\n          <path d={`M6,-1 l3,-4 l2,3 z`}\n            fill={C.stoneRedDark} opacity={0.35} />\n        </>\n      )}\n      {/* Stone tools */}\n      {variant % 3 === 1 && (\n        <>\n          <line x1={0} y1={0} x2={8} y2={-3}\n            stroke={C.woodDark} strokeWidth={2} strokeLinecap=\"round\" opacity={0.4} />\n          <path d=\"M8,-3 l3,-2 l1,3 l-2,1 z\"\n            fill={C.stoneDark} opacity={0.5} />\n        </>\n      )}\n      {/* Cloth scraps */}\n      {variant % 3 === 2 && (\n        <path d={`M0,0 q3,-2 6,-1 q2,2 1,4 q-4,1 -7,0 z`}\n          fill={C.clothDirty} opacity={0.3} />\n      )}\n      {/* Scattered corn kernels */}\n      <circle cx={10} cy={1} r={1} fill={C.aztecGold} opacity={0.2} />\n      <circle cx={13} cy={-1} r={0.8} fill={C.aztecGoldDark} opacity={0.2} />\n    </g>\n  );\n};\n\n// =============================================================================\n// Helper: AshParticles\n// =============================================================================\n// Floating ash and embers in the air, adding to the oppressive atmosphere.\n// =============================================================================\nconst AshParticles: React.FC<{\n  width: number;\n  height: number;\n  frame: number;\n}> = ({ width, height, frame }) => {\n  const particles = Array.from({ length: 35 }, (_, i) => {\n    const seed = i * 7.3;\n    const baseX = ((seed * 137.5) % width);\n    const baseY = ((seed * 89.3) % (height * 0.8));\n    const driftX = sineWave(frame, 0.03 + i * 0.002, seed) * 30;\n    const driftY = -((frame * 0.3 + seed * 20) % (height * 0.5));\n    const size = 0.5 + (i % 5) * 0.3;\n    const opacity = 0.08 + (i % 4) * 0.03;\n    return { x: baseX + driftX, y: baseY + driftY, size, opacity, i };\n  });\n\n  return (\n    <g>\n      {particles.map(({ x, y, size, opacity, i }) => (\n        <circle\n          key={`ash-${i}`}\n          cx={x} cy={y + height * 0.2}\n          r={size}\n          fill={i % 3 === 0 ? C.ashHaze : i % 3 === 1 ? C.smokeMid : C.dust}\n          opacity={opacity}\n        />\n      ))}\n    </g>\n  );\n};\n\n// =============================================================================\n// Helper: GriefFigure\n// =============================================================================\n// Small silhouette figure in a grief pose - kneeling, head bowed, arms\n// clasped. Used in midground/background for emotional weight.\n// =============================================================================\nconst GriefFigure: React.FC<{\n  x: number;\n  y: number;\n  scale?: number;\n  variant?: number;\n  frame: number;\n}> = ({ x, y, scale = 1, variant = 0, frame }) => {\n  const rockMotion = sineWave(frame, 0.06, variant * 1.9) * 2;\n  const flip = variant % 2 === 0 ? 1 : -1;\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale * flip}, ${scale})`}>\n      {/* Shadow */}\n      <ellipse cx={0} cy={2} rx={8} ry={3} fill=\"rgba(0,0,0,0.15)\" />\n\n      {/* Kneeling body */}\n      <g transform={`translate(${rockMotion * 0.5}, 0)`}>\n        {/* Legs (kneeling) */}\n        <path d=\"M-3,0 q-1,-5 -3,-10\"\n          fill=\"none\" stroke={C.skinGray} strokeWidth={2.5} strokeLinecap=\"round\" />\n        <path d=\"M3,0 q1,-6 0,-12\"\n          fill=\"none\" stroke={C.skinGray} strokeWidth={2.5} strokeLinecap=\"round\" />\n\n        {/* Torso bent forward */}\n        <path d={`M0,-12 q${-2 + rockMotion * 0.3},-8 ${-4 + rockMotion},-16`}\n          fill=\"none\" stroke={C.clothDirty} strokeWidth={4} strokeLinecap=\"round\" />\n\n        {/* Head bowed down */}\n        <circle cx={-4 + rockMotion} cy={-30} r={4}\n          fill={C.skinGray} stroke={C.outlineSoft} strokeWidth={0.6} />\n\n        {/* Arms clasped to face/head */}\n        <path d={`M${-2},${-20} q${-3 + rockMotion * 0.2},${-4} ${-5 + rockMotion * 0.3},${-8}`}\n          fill=\"none\" stroke={C.skinSickDark} strokeWidth={2} strokeLinecap=\"round\" />\n        <path d={`M${2},${-20} q${-4 + rockMotion * 0.2},${-5} ${-3 + rockMotion * 0.3},${-9}`}\n          fill=\"none\" stroke={C.skinSick} strokeWidth={2} strokeLinecap=\"round\" />\n\n        {/* Cloth draped */}\n        <path\n          d={`M${-5},${-25} q${3},${8} ${8},${14} q${-5},${3} ${-10},${2}`}\n          fill={C.clothDark} opacity={0.4} />\n      </g>\n    </g>\n  );\n};\n\n// =============================================================================\n// Helper: CrumblingWall\n// =============================================================================\n// Partially collapsed Aztec wall with carved details still visible.\n// =============================================================================\nconst CrumblingWall: React.FC<{\n  x: number;\n  y: number;\n  wallWidth?: number;\n  wallHeight?: number;\n  collapseRight?: boolean;\n}> = ({ x, y, wallWidth = 80, wallHeight = 50, collapseRight = false }) => {\n  return (\n    <g transform={`translate(${x}, ${y})`}>\n      {/* Main wall section */}\n      <rect x={0} y={-wallHeight} width={wallWidth * 0.6} height={wallHeight}\n        fill={C.stoneMid} stroke={C.outline} strokeWidth={1} />\n\n      {/* Collapsed/broken edge */}\n      <path\n        d={`M${wallWidth * 0.6},${-wallHeight}\n           l${collapseRight ? 5 : -2},${wallHeight * 0.2}\n           l${collapseRight ? 8 : 3},${wallHeight * 0.15}\n           l${collapseRight ? -3 : 5},${wallHeight * 0.25}\n           l${collapseRight ? 10 : -4},${wallHeight * 0.4}\n           L${wallWidth * 0.6},0 Z`}\n        fill={C.stoneDark} stroke={C.outline} strokeWidth={0.8}\n      />\n\n      {/* Stone block lines */}\n      {Array.from({ length: Math.floor(wallHeight / 12) }, (_, i) => (\n        <line\n          key={`wl-${i}`}\n          x1={0} y1={-wallHeight + i * 12}\n          x2={wallWidth * 0.6} y2={-wallHeight + i * 12}\n          stroke={C.stoneVeryDark} strokeWidth={0.5} opacity={0.3}\n        />\n      ))}\n\n      {/* Carved Aztec motif (partially visible) */}\n      <g transform={`translate(${wallWidth * 0.15}, ${-wallHeight * 0.5})`} opacity={0.3}>\n        <circle cx={0} cy={0} r={8} fill=\"none\" stroke={C.stoneCarved} strokeWidth={1.5} />\n        <path d=\"M-5,-5 L5,5 M-5,5 L5,-5\" stroke={C.stoneCarved} strokeWidth={1} />\n        <circle cx={0} cy={0} r={3} fill=\"none\" stroke={C.stoneCarved} strokeWidth={0.8} />\n      </g>\n\n      {/* Rubble at base */}\n      <circle cx={wallWidth * 0.65} cy={-3} r={4} fill={C.stoneDark} opacity={0.5} />\n      <circle cx={wallWidth * 0.7} cy={-1} r={3} fill={C.stoneMid} opacity={0.4} />\n      <circle cx={wallWidth * 0.58} cy={-1} r={2.5} fill={C.stoneDark} opacity={0.45} />\n      <rect x={wallWidth * 0.62} y={-6} width={5} height={3} fill={C.stoneMid}\n        transform={`rotate(25, ${wallWidth * 0.64}, -4.5)`} opacity={0.4} />\n    </g>\n  );\n};\n\n// =============================================================================\n// Helper: CopalBurner\n// =============================================================================\n// Aztec copal incense burner (ritual purification). Stone bowl with smoking\n// resin, carved decorations.\n// =============================================================================\nconst CopalBurner: React.FC<{\n  x: number;\n  y: number;\n  scale?: number;\n  seed?: number;\n  frame: number;\n}> = ({ x, y, scale = 1, seed = 0, frame }) => {\n  const smokeWisp = sineWave(frame, 0.2, seed);\n  const glowPulse = sineWave(frame, 0.15, seed + 1.2);\n\n  return (\n    <g transform={`translate(${x}, ${y}) scale(${scale})`}>\n      {/* Burner base (tripod) */}\n      <line x1={-6} y1={0} x2={-3} y2={-8} stroke={C.stoneDark} strokeWidth={1.5} />\n      <line x1={6} y1={0} x2={3} y2={-8} stroke={C.stoneDark} strokeWidth={1.5} />\n      <line x1={0} y1={2} x2={0} y2={-8} stroke={C.stoneDark} strokeWidth={1.5} />\n\n      {/* Bowl */}\n      <ellipse cx={0} cy={-10} rx={8} ry={3}\n        fill={C.stoneDark} stroke={C.outline} strokeWidth={0.6} />\n      <ellipse cx={0} cy={-11} rx={6} ry={2}\n        fill={C.coalDark} />\n\n      {/* Glowing copal resin */}\n      <ellipse cx={0} cy={-11} rx={4} ry={1.5}\n        fill={C.emberDim} opacity={0.4 + glowPulse * 0.15} />\n\n      {/* Smoke from copal */}\n      <path\n        d={`M0,-13 q${smokeWisp * 3},-8 ${smokeWisp * 4},-18\n           q${-smokeWisp * 2},-6 ${smokeWisp * 5},-28`}\n        fill=\"none\" stroke={C.incenseSmoke} strokeWidth={2.5} opacity={0.3}\n      />\n      <path\n        d={`M1,-14 q${-smokeWisp * 2},-6 ${-smokeWisp * 3},-14\n           q${smokeWisp},-8 ${-smokeWisp * 2},-22`}\n        fill=\"none\" stroke={C.incenseSmoke} strokeWidth={1.8} opacity={0.2}\n      />\n\n      {/* Carved decoration on bowl */}\n      <path d=\"M-7,-10 q0,-1 1,-1 q1,0 1,1\"\n        fill=\"none\" stroke={C.stoneCarved} strokeWidth={0.5} opacity={0.4} />\n      <path d=\"M5,-10 q0,-1 1,-1 q1,0 1,1\"\n        fill=\"none\" stroke={C.stoneCarved} strokeWidth={0.5} opacity={0.4} />\n    </g>\n  );\n};\n\n// =============================================================================\n// Main Component: AztecPlague\n// =============================================================================\nexport const AztecPlague: React.FC<AztecPlagueProps> = ({\n  boardText = '',\n  width = 1920,\n  height = 1080,\n}) => {\n  const frame = useCurrentFrame();\n\n  // ---- Animation values ----\n  const windSlow = sineWave(frame, 0.03);\n  const windMed = sineWave(frame, 0.07, 1.2);\n  const cloudDrift1 = sineWave(frame, 0.015, 0);\n  const cloudDrift2 = sineWave(frame, 0.02, 2.5);\n  const cloudDrift3 = sineWave(frame, 0.018, 5.0);\n  const hazeFlicker = sineWave(frame, 0.04, 0.8);\n  const vignetteBreath = sineWave(frame, 0.025, 3.3);\n\n  return (\n    <svg viewBox={`0 0 ${width} ${height}`} width={width} height={height}>\n      <defs>\n        {/* Sky gradient - dark, overcast, greenish-gray */}\n        <linearGradient id=\"aztec-sky\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.skyTop} />\n          <stop offset=\"40%\" stopColor={C.skyMid} />\n          <stop offset=\"75%\" stopColor={C.skyBottom} />\n          <stop offset=\"100%\" stopColor={C.skyHaze} />\n        </linearGradient>\n\n        {/* Ground gradient */}\n        <linearGradient id=\"aztec-ground\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.groundMid} />\n          <stop offset=\"30%\" stopColor={C.groundDark} />\n          <stop offset=\"100%\" stopColor={C.mudDark} />\n        </linearGradient>\n\n        {/* Fire glow radial gradient */}\n        <radialGradient id=\"pyre-glow-1\" cx=\"50%\" cy=\"50%\" r=\"50%\">\n          <stop offset=\"0%\" stopColor={C.fireOuter} stopOpacity=\"0.12\" />\n          <stop offset=\"60%\" stopColor={C.fireDim} stopOpacity=\"0.05\" />\n          <stop offset=\"100%\" stopColor=\"transparent\" stopOpacity=\"0\" />\n        </radialGradient>\n        <radialGradient id=\"pyre-glow-2\" cx=\"50%\" cy=\"50%\" r=\"50%\">\n          <stop offset=\"0%\" stopColor={C.fireOuter} stopOpacity=\"0.08\" />\n          <stop offset=\"70%\" stopColor={C.fireDim} stopOpacity=\"0.03\" />\n          <stop offset=\"100%\" stopColor=\"transparent\" stopOpacity=\"0\" />\n        </radialGradient>\n\n        {/* Vignette gradient */}\n        <radialGradient id=\"vignette\" cx=\"50%\" cy=\"50%\" r=\"60%\">\n          <stop offset=\"0%\" stopColor=\"transparent\" stopOpacity=\"0\" />\n          <stop offset=\"70%\" stopColor={C.skyTop} stopOpacity=\"0.3\" />\n          <stop offset=\"100%\" stopColor={C.skyTop} stopOpacity=\"0.7\" />\n        </radialGradient>\n\n        {/* Fog/haze gradient */}\n        <linearGradient id=\"ground-fog\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.fogNear} />\n          <stop offset=\"100%\" stopColor=\"transparent\" />\n        </linearGradient>\n\n        {/* Sickly green atmospheric filter */}\n        <linearGradient id=\"sick-atmosphere\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={C.hazeGreen} />\n          <stop offset=\"50%\" stopColor=\"rgba(60,65,50,0.15)\" />\n          <stop offset=\"100%\" stopColor={C.hazeGreen} />\n        </linearGradient>\n\n        {/* Stone texture pattern */}\n        <pattern id=\"stone-texture\" x=\"0\" y=\"0\" width=\"20\" height=\"20\" patternUnits=\"userSpaceOnUse\">\n          <rect width=\"20\" height=\"20\" fill={C.stoneMid} />\n          <circle cx=\"5\" cy=\"5\" r=\"0.5\" fill={C.stoneVeryDark} opacity=\"0.2\" />\n          <circle cx=\"15\" cy=\"12\" r=\"0.4\" fill={C.stoneVeryDark} opacity=\"0.15\" />\n          <circle cx=\"8\" cy=\"18\" r=\"0.3\" fill={C.stoneDark} opacity=\"0.1\" />\n        </pattern>\n\n        {/* Smoke blur filter */}\n        <filter id=\"smoke-blur\">\n          <feGaussianBlur stdDeviation=\"3\" />\n        </filter>\n\n        {/* Distant haze filter */}\n        <filter id=\"distant-haze\">\n          <feGaussianBlur stdDeviation=\"2\" />\n        </filter>\n\n        {/* Fire glow filter */}\n        <filter id=\"fire-glow\">\n          <feGaussianBlur stdDeviation=\"6\" />\n        </filter>\n      </defs>\n\n      {/* ================================================================== */}\n      {/* LAYER 1: SKY                                                       */}\n      {/* ================================================================== */}\n\n      {/* Base sky - dark, ominous */}\n      <rect x={0} y={0} width={width} height={height * 0.55} fill=\"url(#aztec-sky)\" />\n\n      {/* Cloud layer 1 - heavy, oppressive dark clouds */}\n      <ellipse\n        cx={width * 0.2 + cloudDrift1 * 15} cy={height * 0.08}\n        rx={280} ry={50}\n        fill={C.cloudDark} opacity={0.7}\n      />\n      <ellipse\n        cx={width * 0.35 + cloudDrift1 * 10} cy={height * 0.12}\n        rx={200} ry={40}\n        fill={C.cloudMid} opacity={0.5}\n      />\n      <ellipse\n        cx={width * 0.6 + cloudDrift2 * 12} cy={height * 0.06}\n        rx={320} ry={55}\n        fill={C.cloudDark} opacity={0.65}\n      />\n      <ellipse\n        cx={width * 0.8 + cloudDrift2 * 8} cy={height * 0.1}\n        rx={250} ry={45}\n        fill={C.cloudGreen} opacity={0.55}\n      />\n      <ellipse\n        cx={width * 0.45 + cloudDrift3 * 10} cy={height * 0.16}\n        rx={350} ry={60}\n        fill={C.cloudMid} opacity={0.6}\n      />\n\n      {/* Cloud layer 2 - lower, thicker */}\n      <ellipse\n        cx={width * 0.15 + cloudDrift2 * 8} cy={height * 0.22}\n        rx={220} ry={35}\n        fill={C.cloudGreen} opacity={0.4}\n      />\n      <ellipse\n        cx={width * 0.5 + cloudDrift1 * 6} cy={height * 0.2}\n        rx={300} ry={45}\n        fill={C.cloudDark} opacity={0.5}\n      />\n      <ellipse\n        cx={width * 0.75 + cloudDrift3 * 10} cy={height * 0.18}\n        rx={260} ry={40}\n        fill={C.cloudMid} opacity={0.45}\n      />\n      <ellipse\n        cx={width * 0.9 + cloudDrift1 * 5} cy={height * 0.25}\n        rx={200} ry={50}\n        fill={C.cloudDark} opacity={0.55}\n      />\n\n      {/* Greenish sickly tint across sky */}\n      <rect x={0} y={0} width={width} height={height * 0.55}\n        fill=\"url(#sick-atmosphere)\" />\n\n      {/* ================================================================== */}\n      {/* LAYER 2: DISTANT BACKGROUND                                        */}\n      {/* ================================================================== */}\n\n      {/* Distant haze layer */}\n      <rect x={0} y={height * 0.28} width={width} height={height * 0.2}\n        fill={C.fogFar} />\n\n      {/* Distant temple silhouettes (barely visible through haze) */}\n      <g filter=\"url(#distant-haze)\">\n        <DistantTemple x={width * 0.12} y={height * 0.38} scale={0.8} opacity={0.15} />\n        <DistantTemple x={width * 0.35} y={height * 0.36} scale={1.2} opacity={0.2} />\n        <DistantTemple x={width * 0.7} y={height * 0.37} scale={1.0} opacity={0.18} />\n        <DistantTemple x={width * 0.88} y={height * 0.39} scale={0.7} opacity={0.12} />\n      </g>\n\n      {/* Distant fires (tiny orange glows through haze) */}\n      <g filter=\"url(#fire-glow)\">\n        <circle cx={width * 0.25} cy={height * 0.35}\n          r={8} fill={C.fireOuter} opacity={0.15 + hazeFlicker * 0.05} />\n        <circle cx={width * 0.55} cy={height * 0.33}\n          r={10} fill={C.fireMid} opacity={0.12 + hazeFlicker * 0.04} />\n        <circle cx={width * 0.78} cy={height * 0.36}\n          r={7} fill={C.fireOuter} opacity={0.1 + hazeFlicker * 0.03} />\n      </g>\n\n      {/* Distant smoke columns rising from burning city */}\n      <g filter=\"url(#smoke-blur)\" opacity={0.3}>\n        <SmokePlume x={width * 0.25} y={height * 0.35} scale={0.6} seed={0} darkness={0.25} frame={frame} />\n        <SmokePlume x={width * 0.55} y={height * 0.33} scale={0.7} seed={3.5} darkness={0.3} frame={frame} />\n        <SmokePlume x={width * 0.78} y={height * 0.36} scale={0.5} seed={7.1} darkness={0.2} frame={frame} />\n      </g>\n\n      {/* ================================================================== */}\n      {/* LAYER 3: MIDGROUND - VILLAGE/CITY STREETS                          */}\n      {/* ================================================================== */}\n\n      {/* Ground plane */}\n      <rect x={0} y={height * 0.45} width={width} height={height * 0.55}\n        fill=\"url(#aztec-ground)\" />\n\n      {/* Stone path/road surface */}\n      <path\n        d={`M0,${height * 0.55} Q${width * 0.25},${height * 0.52} ${width * 0.5},${height * 0.54}\n           Q${width * 0.75},${height * 0.56} ${width},${height * 0.53}\n           L${width},${height * 0.62} Q${width * 0.75},${height * 0.64} ${width * 0.5},${height * 0.62}\n           Q${width * 0.25},${height * 0.6} 0,${height * 0.63} Z`}\n        fill={C.pathStone} opacity={0.4}\n      />\n      {/* Path stone texture lines */}\n      {Array.from({ length: 15 }, (_, i) => (\n        <line\n          key={`path-${i}`}\n          x1={width * (i / 15)} y1={height * (0.54 + Math.sin(i * 0.8) * 0.02)}\n          x2={width * (i / 15)} y2={height * (0.62 + Math.sin(i * 0.8) * 0.02)}\n          stroke={C.pathDark} strokeWidth={0.5} opacity={0.2}\n        />\n      ))}\n\n      {/* Abandoned buildings - left side */}\n      <AbandonedBuilding x={width * 0.02} y={height * 0.52} scale={1.1} variant={0} hasDoorMark={true} frame={frame} />\n      <AbandonedBuilding x={width * 0.12} y={height * 0.50} scale={1.3} variant={1} hasDoorMark={true} frame={frame} />\n      <AbandonedBuilding x={width * 0.25} y={height * 0.51} scale={1.0} variant={2} hasDoorMark={false} frame={frame} />\n\n      {/* Abandoned buildings - right side */}\n      <AbandonedBuilding x={width * 0.68} y={height * 0.50} scale={1.2} variant={3} hasDoorMark={true} frame={frame} />\n      <AbandonedBuilding x={width * 0.82} y={height * 0.52} scale={1.0} variant={4} hasDoorMark={true} frame={frame} />\n      <AbandonedBuilding x={width * 0.92} y={height * 0.51} scale={0.9} variant={5} hasDoorMark={false} frame={frame} />\n\n      {/* Crumbling walls */}\n      <CrumblingWall x={width * 0.38} y={height * 0.53} wallWidth={90} wallHeight={45} collapseRight={true} />\n      <CrumblingWall x={width * 0.58} y={height * 0.54} wallWidth={70} wallHeight={35} collapseRight={false} />\n\n      {/* Marked doors (standalone) in midground */}\n      <MarkedDoor x={width * 0.45} y={height * 0.54} scale={0.9} variant={0} frame={frame} />\n      <MarkedDoor x={width * 0.54} y={height * 0.53} scale={0.8} variant={1} frame={frame} />\n\n      {/* Empty market stalls */}\n      <EmptyMarketStall x={width * 0.33} y={height * 0.58} scale={1.0} variant={0} frame={frame} />\n      <EmptyMarketStall x={width * 0.6} y={height * 0.57} scale={0.9} variant={1} frame={frame} />\n\n      {/* Midground funeral pyres */}\n      <FuneralPyre x={width * 0.2} y={height * 0.50} scale={0.7} intensity={0.8} seed={1.0} frame={frame} />\n      <FuneralPyre x={width * 0.75} y={height * 0.49} scale={0.6} intensity={0.7} seed={4.2} frame={frame} />\n\n      {/* Pyre glow on surrounding area */}\n      <circle cx={width * 0.2} cy={height * 0.50} r={80}\n        fill=\"url(#pyre-glow-2)\" opacity={0.5 + hazeFlicker * 0.1} />\n      <circle cx={width * 0.75} cy={height * 0.49} r={70}\n        fill=\"url(#pyre-glow-2)\" opacity={0.4 + hazeFlicker * 0.08} />\n\n      {/* Midground smoke plumes from pyres */}\n      <SmokePlume x={width * 0.2} y={height * 0.48} scale={0.9} seed={1.5} darkness={0.45} frame={frame} />\n      <SmokePlume x={width * 0.75} y={height * 0.47} scale={0.8} seed={5.0} darkness={0.4} frame={frame} />\n\n      {/* Grief figures in midground */}\n      <GriefFigure x={width * 0.18} y={height * 0.56} scale={0.8} variant={0} frame={frame} />\n      <GriefFigure x={width * 0.42} y={height * 0.55} scale={0.7} variant={1} frame={frame} />\n      <GriefFigure x={width * 0.72} y={height * 0.56} scale={0.75} variant={2} frame={frame} />\n\n      {/* Scattered debris throughout midground */}\n      <ScatteredDebris x={width * 0.15} y={height * 0.56} variant={0} />\n      <ScatteredDebris x={width * 0.3} y={height * 0.58} variant={1} />\n      <ScatteredDebris x={width * 0.48} y={height * 0.55} variant={2} />\n      <ScatteredDebris x={width * 0.63} y={height * 0.57} variant={0} />\n      <ScatteredDebris x={width * 0.85} y={height * 0.56} variant={1} />\n\n      {/* Copal burners (ritual purification attempts) */}\n      <CopalBurner x={width * 0.4} y={height * 0.56} scale={1.0} seed={2.0} frame={frame} />\n      <CopalBurner x={width * 0.65} y={height * 0.55} scale={0.8} seed={6.3} frame={frame} />\n\n      {/* ================================================================== */}\n      {/* LAYER 4: CROWD FIGURES                                             */}\n      {/* ================================================================== */}\n\n      <AztecCrowdLayer config={AZTEC_CROWD_CONFIGS.plague} />\n\n      {/* ================================================================== */}\n      {/* LAYER 5: FOREGROUND                                                */}\n      {/* ================================================================== */}\n\n      {/* Foreground funeral pyre (larger, more detail) */}\n      <FuneralPyre x={width * 0.35} y={height * 0.72} scale={1.3} intensity={1.2} seed={2.5} frame={frame} />\n      {/* Pyre glow */}\n      <circle cx={width * 0.35} cy={height * 0.72} r={150}\n        fill=\"url(#pyre-glow-1)\" opacity={0.6 + hazeFlicker * 0.15} />\n\n      {/* Foreground smoke from main pyre */}\n      <SmokePlume x={width * 0.35} y={height * 0.68} scale={1.2} seed={2.8} darkness={0.55} frame={frame} />\n\n      {/* Sick people on mats - foreground left */}\n      <SickMat x={width * 0.05} y={height * 0.82} scale={1.2} variant={0} frame={frame} />\n      <SickMat x={width * 0.15} y={height * 0.85} scale={1.1} variant={1} frame={frame} />\n      <SickMat x={width * 0.08} y={height * 0.90} scale={1.0} variant={2} frame={frame} />\n\n      {/* Sick people on mats - foreground right */}\n      <SickMat x={width * 0.72} y={height * 0.83} scale={1.15} variant={3} frame={frame} />\n      <SickMat x={width * 0.82} y={height * 0.86} scale={1.0} variant={4} frame={frame} />\n      <SickMat x={width * 0.90} y={height * 0.82} scale={0.95} variant={5} frame={frame} />\n\n      {/* Healers tending to the sick */}\n      <HealerFigure x={width * 0.12} y={height * 0.80} scale={1.1} variant={0} frame={frame} />\n      <HealerFigure x={width * 0.78} y={height * 0.81} scale={1.0} variant={1} frame={frame} />\n\n      {/* Wrapped bodies in foreground */}\n      <WrappedBody x={width * 0.50} y={height * 0.78} scale={1.2} variant={0} frame={frame} />\n      <WrappedBody x={width * 0.55} y={height * 0.82} scale={1.1} variant={1} frame={frame} />\n      <WrappedBody x={width * 0.60} y={height * 0.80} scale={1.0} variant={2} frame={frame} />\n      <WrappedBody x={width * 0.48} y={height * 0.84} scale={0.95} variant={3} frame={frame} />\n\n      {/* Grief figures in foreground */}\n      <GriefFigure x={width * 0.52} y={height * 0.76} scale={1.2} variant={3} frame={frame} />\n      <GriefFigure x={width * 0.62} y={height * 0.78} scale={1.1} variant={4} frame={frame} />\n\n      {/* Foreground debris and abandoned goods */}\n      <ScatteredDebris x={width * 0.02} y={height * 0.88} variant={2} />\n      <ScatteredDebris x={width * 0.25} y={height * 0.84} variant={0} />\n      <ScatteredDebris x={width * 0.68} y={height * 0.88} variant={1} />\n      <ScatteredDebris x={width * 0.88} y={height * 0.90} variant={2} />\n\n      {/* Abandoned large pottery in foreground */}\n      <g transform={`translate(${width * 0.03}, ${height * 0.92})`}>\n        <ellipse cx={0} cy={0} rx={14} ry={10}\n          fill={C.stoneRed} stroke={C.stoneRedDark} strokeWidth={1.2} opacity={0.6} />\n        <ellipse cx={0} cy={-3} rx={10} ry={6}\n          fill={C.stoneRedDark} opacity={0.4} />\n        {/* Aztec pattern on pot */}\n        <path d=\"M-8,2 q4,-2 8,-1 q4,1 8,0\"\n          fill=\"none\" stroke={C.aztecGold} strokeWidth={0.8} opacity={0.3} />\n        <path d=\"M-6,-4 q3,-1 6,0 q3,1 6,0\"\n          fill=\"none\" stroke={C.aztecRed} strokeWidth={0.6} opacity={0.3} />\n      </g>\n\n      {/* Overturned grinding stone (metate) */}\n      <g transform={`translate(${width * 0.93}, ${height * 0.88}) rotate(15)`}>\n        <rect x={-12} y={-4} width={24} height={8} rx={2}\n          fill={C.stoneDark} stroke={C.outlineSoft} strokeWidth={0.8} opacity={0.5} />\n        <ellipse cx={-14} cy={0} rx={3} ry={4}\n          fill={C.stoneMid} opacity={0.4} />\n      </g>\n\n      {/* Scattered maize/corn cobs */}\n      <g transform={`translate(${width * 0.28}, ${height * 0.87})`}>\n        <ellipse cx={0} cy={0} rx={4} ry={1.8}\n          fill={C.aztecGold} stroke={C.aztecGoldDark} strokeWidth={0.4} opacity={0.35}\n          transform=\"rotate(-25)\" />\n        <ellipse cx={6} cy={2} rx={3.5} ry={1.5}\n          fill={C.aztecGoldDark} opacity={0.3}\n          transform=\"rotate(40, 6, 2)\" />\n      </g>\n\n      {/* Abandoned obsidian blade */}\n      <g transform={`translate(${width * 0.7}, ${height * 0.90})`}>\n        <path d=\"M0,0 l2,-10 l2,0 l-1,10 z\"\n          fill={C.stoneVeryDark} opacity={0.5} />\n        <line x1={1} y1={0} x2={1} y2={6}\n          stroke={C.woodDark} strokeWidth={2} strokeLinecap=\"round\" opacity={0.4} />\n      </g>\n\n      {/* Copal burner in foreground */}\n      <CopalBurner x={width * 0.22} y={height * 0.83} scale={1.3} seed={8.7} frame={frame} />\n\n      {/* ================================================================== */}\n      {/* LAYER 6: STONE TABLET FOR BOARD TEXT                               */}\n      {/* ================================================================== */}\n\n      <g transform={`translate(${width / 2 - 210}, ${height * 0.68})`}>\n        {/* Tablet shadow */}\n        <rect x={4} y={4} width={420} height={170} rx={4}\n          fill=\"rgba(0,0,0,0.3)\" />\n\n        {/* Stone tablet frame */}\n        <rect x={-8} y={-8} width={436} height={186} rx={6}\n          fill={C.boardFrame} stroke={C.outline} strokeWidth={2} />\n\n        {/* Inner stone surface */}\n        <rect x={0} y={0} width={420} height={170} rx={2}\n          fill={C.boardBg} />\n        {/* Stone texture overlay */}\n        <rect x={0} y={0} width={420} height={170} rx={2}\n          fill=\"url(#stone-texture)\" opacity={0.3} />\n\n        {/* Aztec border carvings - top */}\n        <g opacity={0.4}>\n          {Array.from({ length: 14 }, (_, i) => (\n            <g key={`glyph-t-${i}`} transform={`translate(${10 + i * 30}, 8)`}>\n              <rect x={0} y={0} width={4} height={4} fill={C.glyphColor} />\n              <rect x={6} y={0} width={4} height={2} fill={C.glyphColor} />\n              <rect x={6} y={4} width={2} height={2} fill={C.glyphColor} />\n            </g>\n          ))}\n        </g>\n\n        {/* Aztec border carvings - bottom */}\n        <g opacity={0.4}>\n          {Array.from({ length: 14 }, (_, i) => (\n            <g key={`glyph-b-${i}`} transform={`translate(${10 + i * 30}, 155)`}>\n              <rect x={0} y={0} width={4} height={4} fill={C.glyphColor} />\n              <rect x={6} y={2} width={4} height={2} fill={C.glyphColor} />\n              <rect x={0} y={6} width={2} height={2} fill={C.glyphColor} />\n            </g>\n          ))}\n        </g>\n\n        {/* Side carvings - left */}\n        <g opacity={0.35}>\n          {Array.from({ length: 5 }, (_, i) => (\n            <g key={`glyph-l-${i}`} transform={`translate(5, ${25 + i * 28})`}>\n              <circle cx={3} cy={3} r={2} fill=\"none\" stroke={C.glyphColor} strokeWidth={0.8} />\n              <line x1={0} y1={8} x2={6} y2={8} stroke={C.glyphColor} strokeWidth={0.6} />\n            </g>\n          ))}\n        </g>\n\n        {/* Side carvings - right */}\n        <g opacity={0.35}>\n          {Array.from({ length: 5 }, (_, i) => (\n            <g key={`glyph-r-${i}`} transform={`translate(407, ${25 + i * 28})`}>\n              <circle cx={3} cy={3} r={2} fill=\"none\" stroke={C.glyphColor} strokeWidth={0.8} />\n              <line x1={0} y1={8} x2={6} y2={8} stroke={C.glyphColor} strokeWidth={0.6} />\n            </g>\n          ))}\n        </g>\n\n        {/* Death god skull carving - corners */}\n        {[\n          [15, 18],\n          [395, 18],\n          [15, 145],\n          [395, 145],\n        ].map(([cx, cy], i) => (\n          <g key={`skull-${i}`} transform={`translate(${cx}, ${cy})`} opacity={0.25}>\n            <circle cx={0} cy={0} r={6} fill=\"none\" stroke={C.glyphColor} strokeWidth={0.8} />\n            <circle cx={-2} cy={-1} r={1} fill={C.glyphColor} />\n            <circle cx={2} cy={-1} r={1} fill={C.glyphColor} />\n            <line x1={-2} y1={3} x2={2} y2={3} stroke={C.glyphColor} strokeWidth={0.5} />\n          </g>\n        ))}\n\n        {/* Board text */}\n        {boardText && (\n          <text\n            x={210} y={95}\n            textAnchor=\"middle\"\n            fill={C.chalk}\n            fontSize={34}\n            fontFamily=\"'Courier New', monospace\"\n            fontWeight=\"bold\"\n            opacity={0.85}\n          >\n            {boardText}\n          </text>\n        )}\n      </g>\n\n      {/* ================================================================== */}\n      {/* LAYER 7: ATMOSPHERIC OVERLAYS                                      */}\n      {/* ================================================================== */}\n\n      {/* Ground fog layer */}\n      <rect x={0} y={height * 0.7} width={width} height={height * 0.3}\n        fill=\"url(#ground-fog)\" opacity={0.4 + hazeFlicker * 0.1} />\n\n      {/* Low-lying smoke haze across entire scene */}\n      <ellipse\n        cx={width * 0.3 + windSlow * 30} cy={height * 0.65}\n        rx={400} ry={40}\n        fill={C.smokeMid} opacity={0.08 + windMed * 0.02}\n      />\n      <ellipse\n        cx={width * 0.7 + windSlow * 20} cy={height * 0.60}\n        rx={350} ry={35}\n        fill={C.smokeDark} opacity={0.06 + windMed * 0.02}\n      />\n      <ellipse\n        cx={width * 0.5 + windMed * 25} cy={height * 0.75}\n        rx={500} ry={50}\n        fill={C.smokeMid} opacity={0.1 + hazeFlicker * 0.03}\n      />\n\n      {/* Ash particles floating in air */}\n      <AshParticles width={width} height={height} frame={frame} />\n\n      {/* Additional midground haze wisps */}\n      <path\n        d={`M0,${height * 0.55} Q${width * 0.2 + windSlow * 15},${height * 0.52}\n           ${width * 0.4},${height * 0.54 + windMed * 3}\n           Q${width * 0.6 + windSlow * 10},${height * 0.51}\n           ${width * 0.8},${height * 0.53 + windMed * 2}\n           Q${width * 0.9},${height * 0.55} ${width},${height * 0.54}\n           L${width},${height * 0.58} L0,${height * 0.58} Z`}\n        fill={C.fogNear} opacity={0.25}\n      />\n\n      {/* Sickly green atmospheric wash */}\n      <rect x={0} y={0} width={width} height={height}\n        fill={C.hazeGreen} opacity={0.08} />\n\n      {/* Dark vignette overlay */}\n      <rect x={0} y={0} width={width} height={height}\n        fill=\"url(#vignette)\" opacity={0.85 + vignetteBreath * 0.05} />\n\n      {/* Top darkness (heavy clouds pressing down) */}\n      <rect x={0} y={0} width={width} height={height * 0.15}\n        fill={C.skyTop} opacity={0.4} />\n\n      {/* Bottom darkness */}\n      <rect x={0} y={height * 0.9} width={width} height={height * 0.1}\n        fill={C.skyTop} opacity={0.3} />\n\n      {/* Very subtle warm glow near foreground pyre */}\n      <g filter=\"url(#fire-glow)\">\n        <circle cx={width * 0.35} cy={height * 0.72} r={200}\n          fill={C.fireOuter} opacity={0.03 + hazeFlicker * 0.01} />\n      </g>\n\n      {/* Final desaturation/darkness layer */}\n      <rect x={0} y={0} width={width} height={height}\n        fill=\"rgba(20,22,18,0.15)\" />\n    </svg>\n  );\n};\n","import React from 'react';\nimport { Composition } from 'remotion';\nimport { DemoVideo } from './compositions/DemoVideo';\nimport { DialogueDemo } from './compositions/DialogueDemo';\nimport { PyramidsOfGiza } from './compositions/PyramidsOfGiza';\nimport {\n  CompoundInterestVideo,\n  InflationVideo,\n  ETFVideo,\n  BudgetingVideo,\n  DutchTaxVideo,\n} from './compositions/PipelineVideo';\nimport { ProfessorPint } from './characters/ProfessorPint';\nimport { AverageJoe } from './characters/AverageJoe';\nimport { Pharaoh } from './characters/Pharaoh';\nimport { Worker } from './characters/Worker';\nimport { WallStreetBroker } from './characters/WallStreetBroker';\nimport { CryptoBro } from './characters/CryptoBro';\nimport { Banker } from './characters/Banker';\nimport { MarketVendor } from './characters/MarketVendor';\nimport { TaxAdvisor } from './characters/TaxAdvisor';\nimport { Pub } from './backgrounds/Pub';\nimport { Classroom } from './backgrounds/Classroom';\nimport { Pyramids } from './backgrounds/Pyramids';\nimport { DesertConstruction } from './backgrounds/DesertConstruction';\nimport { InsidePyramid } from './backgrounds/InsidePyramid';\nimport { NileRiver } from './backgrounds/NileRiver';\nimport { WorkersVillage } from './backgrounds/WorkersVillage';\nimport { SphinxView } from './backgrounds/SphinxView';\nimport { BattleScene } from './backgrounds/BattleScene';\nimport { Tenochtitlan } from './backgrounds/Tenochtitlan';\nimport { AztecMarket } from './backgrounds/AztecMarket';\nimport { AztecSacrifice } from './backgrounds/AztecSacrifice';\nimport { Chinampas } from './backgrounds/Chinampas';\nimport { AztecPlague } from './backgrounds/AztecPlague';\n\n// ---- Character preview helper ----\nconst CharPreview: React.FC<{ children: React.ReactNode }> = ({ children }) => (\n  <div style={{\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '100%',\n    height: '100%',\n    backgroundColor: '#E8E8E0',\n  }}>\n    {children}\n  </div>\n);\n\n// Character preview wrappers\nconst ProfessorPintPreview: React.FC = () => (\n  <CharPreview><ProfessorPint emotion=\"happy\" talking={true} scale={2} /></CharPreview>\n);\nconst AverageJoePreview: React.FC = () => (\n  <CharPreview><AverageJoe emotion=\"happy\" talking={true} scale={2} /></CharPreview>\n);\nconst PharaohPreview: React.FC = () => (\n  <CharPreview><Pharaoh emotion=\"happy\" talking={true} scale={2} /></CharPreview>\n);\nconst WallStreetBrokerPreview: React.FC = () => (\n  <CharPreview><WallStreetBroker emotion=\"happy\" talking={true} scale={2} /></CharPreview>\n);\nconst CryptoBroPreview: React.FC = () => (\n  <CharPreview><CryptoBro emotion=\"happy\" talking={true} scale={2} /></CharPreview>\n);\nconst BankerPreview: React.FC = () => (\n  <CharPreview><Banker emotion=\"neutral\" talking={true} scale={2} /></CharPreview>\n);\nconst MarketVendorPreview: React.FC = () => (\n  <CharPreview><MarketVendor emotion=\"happy\" talking={true} scale={2} /></CharPreview>\n);\nconst TaxAdvisorPreview: React.FC = () => (\n  <CharPreview><TaxAdvisor emotion=\"thinking\" talking={true} scale={2} /></CharPreview>\n);\nconst WorkerPreview: React.FC = () => (\n  <CharPreview><Worker emotion=\"happy\" talking={true} scale={2} /></CharPreview>\n);\n\n// Background preview wrappers\nconst PubPreview: React.FC = () => (\n  <Pub boardText=\"WELCOME TO THE PUB\" width={1920} height={1080} />\n);\nconst ClassroomPreview: React.FC = () => (\n  <Classroom boardText=\"WELCOME TO CLASS\" width={1920} height={1080} />\n);\nconst PyramidsPreview: React.FC = () => (\n  <Pyramids boardText=\"ANCIENT ECONOMICS\" width={1920} height={1080} />\n);\nconst DesertConstructionPreview: React.FC = () => (\n  <DesertConstruction boardText=\"BUILDING A PYRAMID\" width={1920} height={1080} />\n);\nconst InsidePyramidPreview: React.FC = () => (\n  <InsidePyramid boardText=\"INSIDE THE TOMB\" width={1920} height={1080} />\n);\nconst NileRiverPreview: React.FC = () => (\n  <NileRiver boardText=\"THE GREAT NILE\" width={1920} height={1080} />\n);\nconst WorkersVillagePreview: React.FC = () => (\n  <WorkersVillage boardText=\"WORKERS VILLAGE\" width={1920} height={1080} />\n);\nconst SphinxViewPreview: React.FC = () => (\n  <SphinxView boardText=\"THE GREAT SPHINX\" width={1920} height={1080} />\n);\nconst BattleScenePreview: React.FC = () => (\n  <BattleScene boardText=\"DE SLAG OM TENOCHTITLAN\" width={1920} height={1080} />\n);\nconst TenochtitlanPreview: React.FC = () => (\n  <Tenochtitlan boardText=\"TENOCHTITLAN\" width={1920} height={1080} />\n);\nconst AztecMarketPreview: React.FC = () => (\n  <AztecMarket boardText=\"DE MARKT VAN TLATELOLCO\" width={1920} height={1080} />\n);\nconst AztecSacrificePreview: React.FC = () => (\n  <AztecSacrifice boardText=\"TEMPLO MAYOR CEREMONIE\" width={1920} height={1080} />\n);\nconst ChinampasPreview: React.FC = () => (\n  <Chinampas boardText=\"DRIJVENDE TUINEN\" width={1920} height={1080} />\n);\nconst AztecPlaguePreview: React.FC = () => (\n  <AztecPlague boardText=\"DE GROTE STERFTE\" width={1920} height={1080} />\n);\n\nexport const RemotionRoot: React.FC = () => {\n  return (\n    <>\n      {/* ===== MAIN VIDEOS ===== */}\n      <Composition\n        id=\"DemoVideo\"\n        component={DemoVideo}\n        durationInFrames={600}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n      <Composition\n        id=\"DialogueDemo\"\n        component={DialogueDemo}\n        durationInFrames={900}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n\n      {/* ===== PYRAMIDS OF GIZA (12 min) ===== */}\n      <Composition\n        id=\"Pyramids-of-Giza\"\n        component={PyramidsOfGiza}\n        durationInFrames={21600}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n\n      {/* ===== CHARACTER PREVIEWS ===== */}\n      <Composition\n        id=\"ProfessorPint-Preview\"\n        component={ProfessorPintPreview}\n        durationInFrames={300}\n        fps={30}\n        width={800}\n        height={600}\n      />\n      <Composition\n        id=\"AverageJoe-Preview\"\n        component={AverageJoePreview}\n        durationInFrames={300}\n        fps={30}\n        width={800}\n        height={600}\n      />\n      <Composition\n        id=\"Pharaoh-Preview\"\n        component={PharaohPreview}\n        durationInFrames={300}\n        fps={30}\n        width={800}\n        height={600}\n      />\n      <Composition\n        id=\"WallStreetBroker-Preview\"\n        component={WallStreetBrokerPreview}\n        durationInFrames={300}\n        fps={30}\n        width={800}\n        height={600}\n      />\n      <Composition\n        id=\"CryptoBro-Preview\"\n        component={CryptoBroPreview}\n        durationInFrames={300}\n        fps={30}\n        width={800}\n        height={600}\n      />\n      <Composition\n        id=\"Banker-Preview\"\n        component={BankerPreview}\n        durationInFrames={300}\n        fps={30}\n        width={800}\n        height={600}\n      />\n      <Composition\n        id=\"MarketVendor-Preview\"\n        component={MarketVendorPreview}\n        durationInFrames={300}\n        fps={30}\n        width={800}\n        height={600}\n      />\n      <Composition\n        id=\"TaxAdvisor-Preview\"\n        component={TaxAdvisorPreview}\n        durationInFrames={300}\n        fps={30}\n        width={800}\n        height={600}\n      />\n\n      <Composition\n        id=\"Worker-Preview\"\n        component={WorkerPreview}\n        durationInFrames={300}\n        fps={30}\n        width={800}\n        height={600}\n      />\n\n      {/* ===== BACKGROUND PREVIEWS ===== */}\n      <Composition\n        id=\"Pub-Preview\"\n        component={PubPreview}\n        durationInFrames={300}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n      <Composition\n        id=\"Classroom-Preview\"\n        component={ClassroomPreview}\n        durationInFrames={300}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n      <Composition\n        id=\"Pyramids-Preview\"\n        component={PyramidsPreview}\n        durationInFrames={300}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n\n      <Composition\n        id=\"DesertConstruction-Preview\"\n        component={DesertConstructionPreview}\n        durationInFrames={300}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n      <Composition\n        id=\"InsidePyramid-Preview\"\n        component={InsidePyramidPreview}\n        durationInFrames={300}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n      <Composition\n        id=\"NileRiver-Preview\"\n        component={NileRiverPreview}\n        durationInFrames={300}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n      <Composition\n        id=\"WorkersVillage-Preview\"\n        component={WorkersVillagePreview}\n        durationInFrames={300}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n      <Composition\n        id=\"SphinxView-Preview\"\n        component={SphinxViewPreview}\n        durationInFrames={300}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n\n      {/* ===== AZTEC BACKGROUND PREVIEWS ===== */}\n      <Composition\n        id=\"BattleScene-Preview\"\n        component={BattleScenePreview}\n        durationInFrames={300}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n      <Composition\n        id=\"Tenochtitlan-Preview\"\n        component={TenochtitlanPreview}\n        durationInFrames={300}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n      <Composition\n        id=\"AztecMarket-Preview\"\n        component={AztecMarketPreview}\n        durationInFrames={300}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n      <Composition\n        id=\"AztecSacrifice-Preview\"\n        component={AztecSacrificePreview}\n        durationInFrames={300}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n      <Composition\n        id=\"Chinampas-Preview\"\n        component={ChinampasPreview}\n        durationInFrames={300}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n      <Composition\n        id=\"AztecPlague-Preview\"\n        component={AztecPlaguePreview}\n        durationInFrames={300}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n\n      {/* ===== PIPELINE VIDEOS ===== */}\n      <Composition\n        id=\"Compound-Interest\"\n        component={CompoundInterestVideo}\n        durationInFrames={1800}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n      <Composition\n        id=\"Inflation\"\n        component={InflationVideo}\n        durationInFrames={1350}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n      <Composition\n        id=\"ETF-Investing\"\n        component={ETFVideo}\n        durationInFrames={1800}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n      <Composition\n        id=\"Budgeting\"\n        component={BudgetingVideo}\n        durationInFrames={1350}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n      <Composition\n        id=\"Box3-Belasting\"\n        component={DutchTaxVideo}\n        durationInFrames={1800}\n        fps={30}\n        width={1920}\n        height={1080}\n      />\n    </>\n  );\n};\n","import { registerRoot } from 'remotion';\nimport { RemotionRoot } from './Root';\n\nregisterRoot(RemotionRoot);\n","\"use strict\";\n// https://github.com/remotion-dev/remotion/issues/3412#issuecomment-1910120552\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.injectCSS = void 0;\nfunction getEnvVar() {\n    const parts = ['proc', 'ess', '.', 'en', 'v', '.', 'NOD', 'E_EN', 'V'];\n    return parts.join('');\n}\nconst getEnvVariables = () => {\n    if (window.remotion_isStudio) {\n        // For the Studio, we already set the environment variables in index-html.ts.\n        // We just add NODE_ENV here.\n        if (!process.env.NODE_ENV) {\n            throw new Error(`${getEnvVar()} is not set`);\n        }\n        return {\n            NODE_ENV: process.env.NODE_ENV,\n        };\n    }\n    const param = window.remotion_envVariables;\n    if (!param) {\n        return {};\n    }\n    return { ...JSON.parse(param), NODE_ENV: process.env.NODE_ENV };\n};\nconst setupEnvVariables = () => {\n    const env = getEnvVariables();\n    if (!window.process) {\n        window.process = {};\n    }\n    if (!window.process.env) {\n        window.process.env = {};\n    }\n    Object.keys(env).forEach((key) => {\n        window.process.env[key] = env[key];\n    });\n};\nsetupEnvVariables();\nconst injected = {};\nconst injectCSS = (css) => {\n    // Skip in node\n    if (typeof document === 'undefined') {\n        return;\n    }\n    if (injected[css]) {\n        return;\n    }\n    const head = document.head || document.getElementsByTagName('head')[0];\n    const style = document.createElement('style');\n    style.appendChild(document.createTextNode(css));\n    head.prepend(style);\n    injected[css] = true;\n};\nexports.injectCSS = injectCSS;\n(0, exports.injectCSS)(`\n  .css-reset, .css-reset * {\n    font-size: 16px;\n    line-height: 1.5;\n    color: white;\n    font-family: Arial, Helvetica, sans-serif;\n    background: transparent;\n    box-sizing: border-box;\n  }\n\n  .algolia-docsearch-suggestion--highlight {\n    font-size: 15px;\n    line-height: 1.25;\n  }\n\n  .__remotion-info-button-container code {\n    font-family: monospace;\n    font-size: 14px;\n    color: #0584f2\n  }\n\n  .__remotion-vertical-scrollbar::-webkit-scrollbar {\n      width: 6px;\n  }\n  .__remotion-vertical-scrollbar::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0.0);\n  }\n  .__remotion-vertical-scrollbar:hover::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0.6);\n  }\n  .__remotion-vertical-scrollbar:hover::-webkit-scrollbar-thumb:hover {\n    background-color: rgba(0, 0, 0, 1);\n  }\n\n\n  .__remotion-horizontal-scrollbar::-webkit-scrollbar {\n    height: 6px;\n  }\n  .__remotion-horizontal-scrollbar::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0.0);\n  }\n  .__remotion-horizontal-scrollbar:hover::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0.6);\n  }\n  .__remotion-horizontal-scrollbar:hover::-webkit-scrollbar-thumb:hover {\n    background-color: rgba(0, 0, 0, 1);\n  }\n\n\n  @-moz-document url-prefix() {\n    .__remotion-vertical-scrollbar {\n      scrollbar-width: thin;\n      scrollbar-color: rgba(0, 0, 0, 0.6) rgba(0, 0, 0, 0);\n    }\n\n    .__remotion-vertical-scrollbar:hover {\n      scrollbar-color: rgba(0, 0, 0, 1) rgba(0, 0, 0, 0);\n    }\n\n    .__remotion-horizontal-scrollbar {\n      scrollbar-width: thin;\n      scrollbar-color: rgba(0, 0, 0, 0.6) rgba(0, 0, 0, 0);\n    }\n\n    .__remotion-horizontal-scrollbar:hover {\n      scrollbar-width: thin;\n      scrollbar-color: rgba(0, 0, 0, 1) rgba(0, 0, 0, 0);\n    }\n  }\n\n\n  .__remotion-timeline-slider {\n    appearance: none;\n    width: 100px;\n    border-radius: 3px;\n    height: 6px;\n    background-color: rgba(255, 255, 255, 0.1);\n    accent-color: #ffffff;\n  }\n  \n  .__remotion-timeline-slider::-moz-range-thumb {\n    width: 14px;\n    height: 14px;\n    border-radius: 50%;\n    background-color: #ffffff;\n    appearance: none;\n  }\n`);\n","import * as React from 'react';\n\nif (typeof globalThis === 'undefined') {\n\twindow.React = React;\n} else {\n\tglobalThis.React = React;\n}\n","/**\n * @license React\n * react-dom-client.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n\"use strict\";\nvar Scheduler = require(\"scheduler\"),\n  React = require(\"react\"),\n  ReactDOM = require(\"react-dom\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction isValidContainer(node) {\n  return !(\n    !node ||\n    (1 !== node.nodeType && 9 !== node.nodeType && 11 !== node.nodeType)\n  );\n}\nfunction getNearestMountedFiber(fiber) {\n  var node = fiber,\n    nearestMounted = fiber;\n  if (fiber.alternate) for (; node.return; ) node = node.return;\n  else {\n    fiber = node;\n    do\n      (node = fiber),\n        0 !== (node.flags & 4098) && (nearestMounted = node.return),\n        (fiber = node.return);\n    while (fiber);\n  }\n  return 3 === node.tag ? nearestMounted : null;\n}\nfunction getSuspenseInstanceFromFiber(fiber) {\n  if (13 === fiber.tag) {\n    var suspenseState = fiber.memoizedState;\n    null === suspenseState &&\n      ((fiber = fiber.alternate),\n      null !== fiber && (suspenseState = fiber.memoizedState));\n    if (null !== suspenseState) return suspenseState.dehydrated;\n  }\n  return null;\n}\nfunction getActivityInstanceFromFiber(fiber) {\n  if (31 === fiber.tag) {\n    var activityState = fiber.memoizedState;\n    null === activityState &&\n      ((fiber = fiber.alternate),\n      null !== fiber && (activityState = fiber.memoizedState));\n    if (null !== activityState) return activityState.dehydrated;\n  }\n  return null;\n}\nfunction assertIsMounted(fiber) {\n  if (getNearestMountedFiber(fiber) !== fiber)\n    throw Error(formatProdErrorMessage(188));\n}\nfunction findCurrentFiberUsingSlowPath(fiber) {\n  var alternate = fiber.alternate;\n  if (!alternate) {\n    alternate = getNearestMountedFiber(fiber);\n    if (null === alternate) throw Error(formatProdErrorMessage(188));\n    return alternate !== fiber ? null : fiber;\n  }\n  for (var a = fiber, b = alternate; ; ) {\n    var parentA = a.return;\n    if (null === parentA) break;\n    var parentB = parentA.alternate;\n    if (null === parentB) {\n      b = parentA.return;\n      if (null !== b) {\n        a = b;\n        continue;\n      }\n      break;\n    }\n    if (parentA.child === parentB.child) {\n      for (parentB = parentA.child; parentB; ) {\n        if (parentB === a) return assertIsMounted(parentA), fiber;\n        if (parentB === b) return assertIsMounted(parentA), alternate;\n        parentB = parentB.sibling;\n      }\n      throw Error(formatProdErrorMessage(188));\n    }\n    if (a.return !== b.return) (a = parentA), (b = parentB);\n    else {\n      for (var didFindChild = !1, child$0 = parentA.child; child$0; ) {\n        if (child$0 === a) {\n          didFindChild = !0;\n          a = parentA;\n          b = parentB;\n          break;\n        }\n        if (child$0 === b) {\n          didFindChild = !0;\n          b = parentA;\n          a = parentB;\n          break;\n        }\n        child$0 = child$0.sibling;\n      }\n      if (!didFindChild) {\n        for (child$0 = parentB.child; child$0; ) {\n          if (child$0 === a) {\n            didFindChild = !0;\n            a = parentB;\n            b = parentA;\n            break;\n          }\n          if (child$0 === b) {\n            didFindChild = !0;\n            b = parentB;\n            a = parentA;\n            break;\n          }\n          child$0 = child$0.sibling;\n        }\n        if (!didFindChild) throw Error(formatProdErrorMessage(189));\n      }\n    }\n    if (a.alternate !== b) throw Error(formatProdErrorMessage(190));\n  }\n  if (3 !== a.tag) throw Error(formatProdErrorMessage(188));\n  return a.stateNode.current === a ? fiber : alternate;\n}\nfunction findCurrentHostFiberImpl(node) {\n  var tag = node.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return node;\n  for (node = node.child; null !== node; ) {\n    tag = findCurrentHostFiberImpl(node);\n    if (null !== tag) return tag;\n    node = node.sibling;\n  }\n  return null;\n}\nvar assign = Object.assign,\n  REACT_LEGACY_ELEMENT_TYPE = Symbol.for(\"react.element\"),\n  REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\nSymbol.for(\"react.scope\");\nvar REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\");\nSymbol.for(\"react.legacy_hidden\");\nSymbol.for(\"react.tracing_marker\");\nvar REACT_MEMO_CACHE_SENTINEL = Symbol.for(\"react.memo_cache_sentinel\");\nSymbol.for(\"react.view_transition\");\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\");\nfunction getComponentNameFromType(type) {\n  if (null == type) return null;\n  if (\"function\" === typeof type)\n    return type.$$typeof === REACT_CLIENT_REFERENCE\n      ? null\n      : type.displayName || type.name || null;\n  if (\"string\" === typeof type) return type;\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return \"Fragment\";\n    case REACT_PROFILER_TYPE:\n      return \"Profiler\";\n    case REACT_STRICT_MODE_TYPE:\n      return \"StrictMode\";\n    case REACT_SUSPENSE_TYPE:\n      return \"Suspense\";\n    case REACT_SUSPENSE_LIST_TYPE:\n      return \"SuspenseList\";\n    case REACT_ACTIVITY_TYPE:\n      return \"Activity\";\n  }\n  if (\"object\" === typeof type)\n    switch (type.$$typeof) {\n      case REACT_PORTAL_TYPE:\n        return \"Portal\";\n      case REACT_CONTEXT_TYPE:\n        return type.displayName || \"Context\";\n      case REACT_CONSUMER_TYPE:\n        return (type._context.displayName || \"Context\") + \".Consumer\";\n      case REACT_FORWARD_REF_TYPE:\n        var innerType = type.render;\n        type = type.displayName;\n        type ||\n          ((type = innerType.displayName || innerType.name || \"\"),\n          (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n        return type;\n      case REACT_MEMO_TYPE:\n        return (\n          (innerType = type.displayName || null),\n          null !== innerType\n            ? innerType\n            : getComponentNameFromType(type.type) || \"Memo\"\n        );\n      case REACT_LAZY_TYPE:\n        innerType = type._payload;\n        type = type._init;\n        try {\n          return getComponentNameFromType(type(innerType));\n        } catch (x) {}\n    }\n  return null;\n}\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals =\n    React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  ReactDOMSharedInternals =\n    ReactDOM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  sharedNotPendingObject = {\n    pending: !1,\n    data: null,\n    method: null,\n    action: null\n  },\n  valueStack = [],\n  index = -1;\nfunction createCursor(defaultValue) {\n  return { current: defaultValue };\n}\nfunction pop(cursor) {\n  0 > index ||\n    ((cursor.current = valueStack[index]), (valueStack[index] = null), index--);\n}\nfunction push(cursor, value) {\n  index++;\n  valueStack[index] = cursor.current;\n  cursor.current = value;\n}\nvar contextStackCursor = createCursor(null),\n  contextFiberStackCursor = createCursor(null),\n  rootInstanceStackCursor = createCursor(null),\n  hostTransitionProviderCursor = createCursor(null);\nfunction pushHostContainer(fiber, nextRootInstance) {\n  push(rootInstanceStackCursor, nextRootInstance);\n  push(contextFiberStackCursor, fiber);\n  push(contextStackCursor, null);\n  switch (nextRootInstance.nodeType) {\n    case 9:\n    case 11:\n      fiber = (fiber = nextRootInstance.documentElement)\n        ? (fiber = fiber.namespaceURI)\n          ? getOwnHostContext(fiber)\n          : 0\n        : 0;\n      break;\n    default:\n      if (\n        ((fiber = nextRootInstance.tagName),\n        (nextRootInstance = nextRootInstance.namespaceURI))\n      )\n        (nextRootInstance = getOwnHostContext(nextRootInstance)),\n          (fiber = getChildHostContextProd(nextRootInstance, fiber));\n      else\n        switch (fiber) {\n          case \"svg\":\n            fiber = 1;\n            break;\n          case \"math\":\n            fiber = 2;\n            break;\n          default:\n            fiber = 0;\n        }\n  }\n  pop(contextStackCursor);\n  push(contextStackCursor, fiber);\n}\nfunction popHostContainer() {\n  pop(contextStackCursor);\n  pop(contextFiberStackCursor);\n  pop(rootInstanceStackCursor);\n}\nfunction pushHostContext(fiber) {\n  null !== fiber.memoizedState && push(hostTransitionProviderCursor, fiber);\n  var context = contextStackCursor.current;\n  var JSCompiler_inline_result = getChildHostContextProd(context, fiber.type);\n  context !== JSCompiler_inline_result &&\n    (push(contextFiberStackCursor, fiber),\n    push(contextStackCursor, JSCompiler_inline_result));\n}\nfunction popHostContext(fiber) {\n  contextFiberStackCursor.current === fiber &&\n    (pop(contextStackCursor), pop(contextFiberStackCursor));\n  hostTransitionProviderCursor.current === fiber &&\n    (pop(hostTransitionProviderCursor),\n    (HostTransitionContext._currentValue = sharedNotPendingObject));\n}\nvar prefix, suffix;\nfunction describeBuiltInComponentFrame(name) {\n  if (void 0 === prefix)\n    try {\n      throw Error();\n    } catch (x) {\n      var match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || \"\";\n      suffix =\n        -1 < x.stack.indexOf(\"\\n    at\")\n          ? \" (<anonymous>)\"\n          : -1 < x.stack.indexOf(\"@\")\n            ? \"@unknown:0:0\"\n            : \"\";\n    }\n  return \"\\n\" + prefix + name + suffix;\n}\nvar reentry = !1;\nfunction describeNativeComponentFrame(fn, construct) {\n  if (!fn || reentry) return \"\";\n  reentry = !0;\n  var previousPrepareStackTrace = Error.prepareStackTrace;\n  Error.prepareStackTrace = void 0;\n  try {\n    var RunInRootFrame = {\n      DetermineComponentFrameRoot: function () {\n        try {\n          if (construct) {\n            var Fake = function () {\n              throw Error();\n            };\n            Object.defineProperty(Fake.prototype, \"props\", {\n              set: function () {\n                throw Error();\n              }\n            });\n            if (\"object\" === typeof Reflect && Reflect.construct) {\n              try {\n                Reflect.construct(Fake, []);\n              } catch (x) {\n                var control = x;\n              }\n              Reflect.construct(fn, [], Fake);\n            } else {\n              try {\n                Fake.call();\n              } catch (x$1) {\n                control = x$1;\n              }\n              fn.call(Fake.prototype);\n            }\n          } else {\n            try {\n              throw Error();\n            } catch (x$2) {\n              control = x$2;\n            }\n            (Fake = fn()) &&\n              \"function\" === typeof Fake.catch &&\n              Fake.catch(function () {});\n          }\n        } catch (sample) {\n          if (sample && control && \"string\" === typeof sample.stack)\n            return [sample.stack, control.stack];\n        }\n        return [null, null];\n      }\n    };\n    RunInRootFrame.DetermineComponentFrameRoot.displayName =\n      \"DetermineComponentFrameRoot\";\n    var namePropDescriptor = Object.getOwnPropertyDescriptor(\n      RunInRootFrame.DetermineComponentFrameRoot,\n      \"name\"\n    );\n    namePropDescriptor &&\n      namePropDescriptor.configurable &&\n      Object.defineProperty(\n        RunInRootFrame.DetermineComponentFrameRoot,\n        \"name\",\n        { value: \"DetermineComponentFrameRoot\" }\n      );\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n      sampleStack = _RunInRootFrame$Deter[0],\n      controlStack = _RunInRootFrame$Deter[1];\n    if (sampleStack && controlStack) {\n      var sampleLines = sampleStack.split(\"\\n\"),\n        controlLines = controlStack.split(\"\\n\");\n      for (\n        namePropDescriptor = RunInRootFrame = 0;\n        RunInRootFrame < sampleLines.length &&\n        !sampleLines[RunInRootFrame].includes(\"DetermineComponentFrameRoot\");\n\n      )\n        RunInRootFrame++;\n      for (\n        ;\n        namePropDescriptor < controlLines.length &&\n        !controlLines[namePropDescriptor].includes(\n          \"DetermineComponentFrameRoot\"\n        );\n\n      )\n        namePropDescriptor++;\n      if (\n        RunInRootFrame === sampleLines.length ||\n        namePropDescriptor === controlLines.length\n      )\n        for (\n          RunInRootFrame = sampleLines.length - 1,\n            namePropDescriptor = controlLines.length - 1;\n          1 <= RunInRootFrame &&\n          0 <= namePropDescriptor &&\n          sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor];\n\n        )\n          namePropDescriptor--;\n      for (\n        ;\n        1 <= RunInRootFrame && 0 <= namePropDescriptor;\n        RunInRootFrame--, namePropDescriptor--\n      )\n        if (sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor]) {\n          if (1 !== RunInRootFrame || 1 !== namePropDescriptor) {\n            do\n              if (\n                (RunInRootFrame--,\n                namePropDescriptor--,\n                0 > namePropDescriptor ||\n                  sampleLines[RunInRootFrame] !==\n                    controlLines[namePropDescriptor])\n              ) {\n                var frame =\n                  \"\\n\" +\n                  sampleLines[RunInRootFrame].replace(\" at new \", \" at \");\n                fn.displayName &&\n                  frame.includes(\"<anonymous>\") &&\n                  (frame = frame.replace(\"<anonymous>\", fn.displayName));\n                return frame;\n              }\n            while (1 <= RunInRootFrame && 0 <= namePropDescriptor);\n          }\n          break;\n        }\n    }\n  } finally {\n    (reentry = !1), (Error.prepareStackTrace = previousPrepareStackTrace);\n  }\n  return (previousPrepareStackTrace = fn ? fn.displayName || fn.name : \"\")\n    ? describeBuiltInComponentFrame(previousPrepareStackTrace)\n    : \"\";\n}\nfunction describeFiber(fiber, childFiber) {\n  switch (fiber.tag) {\n    case 26:\n    case 27:\n    case 5:\n      return describeBuiltInComponentFrame(fiber.type);\n    case 16:\n      return describeBuiltInComponentFrame(\"Lazy\");\n    case 13:\n      return fiber.child !== childFiber && null !== childFiber\n        ? describeBuiltInComponentFrame(\"Suspense Fallback\")\n        : describeBuiltInComponentFrame(\"Suspense\");\n    case 19:\n      return describeBuiltInComponentFrame(\"SuspenseList\");\n    case 0:\n    case 15:\n      return describeNativeComponentFrame(fiber.type, !1);\n    case 11:\n      return describeNativeComponentFrame(fiber.type.render, !1);\n    case 1:\n      return describeNativeComponentFrame(fiber.type, !0);\n    case 31:\n      return describeBuiltInComponentFrame(\"Activity\");\n    default:\n      return \"\";\n  }\n}\nfunction getStackByFiberInDevAndProd(workInProgress) {\n  try {\n    var info = \"\",\n      previous = null;\n    do\n      (info += describeFiber(workInProgress, previous)),\n        (previous = workInProgress),\n        (workInProgress = workInProgress.return);\n    while (workInProgress);\n    return info;\n  } catch (x) {\n    return \"\\nError generating stack: \" + x.message + \"\\n\" + x.stack;\n  }\n}\nvar hasOwnProperty = Object.prototype.hasOwnProperty,\n  scheduleCallback$3 = Scheduler.unstable_scheduleCallback,\n  cancelCallback$1 = Scheduler.unstable_cancelCallback,\n  shouldYield = Scheduler.unstable_shouldYield,\n  requestPaint = Scheduler.unstable_requestPaint,\n  now = Scheduler.unstable_now,\n  getCurrentPriorityLevel = Scheduler.unstable_getCurrentPriorityLevel,\n  ImmediatePriority = Scheduler.unstable_ImmediatePriority,\n  UserBlockingPriority = Scheduler.unstable_UserBlockingPriority,\n  NormalPriority$1 = Scheduler.unstable_NormalPriority,\n  LowPriority = Scheduler.unstable_LowPriority,\n  IdlePriority = Scheduler.unstable_IdlePriority,\n  log$1 = Scheduler.log,\n  unstable_setDisableYieldValue = Scheduler.unstable_setDisableYieldValue,\n  rendererID = null,\n  injectedHook = null;\nfunction setIsStrictModeForDevtools(newIsStrictMode) {\n  \"function\" === typeof log$1 && unstable_setDisableYieldValue(newIsStrictMode);\n  if (injectedHook && \"function\" === typeof injectedHook.setStrictMode)\n    try {\n      injectedHook.setStrictMode(rendererID, newIsStrictMode);\n    } catch (err) {}\n}\nvar clz32 = Math.clz32 ? Math.clz32 : clz32Fallback,\n  log = Math.log,\n  LN2 = Math.LN2;\nfunction clz32Fallback(x) {\n  x >>>= 0;\n  return 0 === x ? 32 : (31 - ((log(x) / LN2) | 0)) | 0;\n}\nvar nextTransitionUpdateLane = 256,\n  nextTransitionDeferredLane = 262144,\n  nextRetryLane = 4194304;\nfunction getHighestPriorityLanes(lanes) {\n  var pendingSyncLanes = lanes & 42;\n  if (0 !== pendingSyncLanes) return pendingSyncLanes;\n  switch (lanes & -lanes) {\n    case 1:\n      return 1;\n    case 2:\n      return 2;\n    case 4:\n      return 4;\n    case 8:\n      return 8;\n    case 16:\n      return 16;\n    case 32:\n      return 32;\n    case 64:\n      return 64;\n    case 128:\n      return 128;\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n      return lanes & 261888;\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return lanes & 3932160;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return lanes & 62914560;\n    case 67108864:\n      return 67108864;\n    case 134217728:\n      return 134217728;\n    case 268435456:\n      return 268435456;\n    case 536870912:\n      return 536870912;\n    case 1073741824:\n      return 0;\n    default:\n      return lanes;\n  }\n}\nfunction getNextLanes(root, wipLanes, rootHasPendingCommit) {\n  var pendingLanes = root.pendingLanes;\n  if (0 === pendingLanes) return 0;\n  var nextLanes = 0,\n    suspendedLanes = root.suspendedLanes,\n    pingedLanes = root.pingedLanes;\n  root = root.warmLanes;\n  var nonIdlePendingLanes = pendingLanes & 134217727;\n  0 !== nonIdlePendingLanes\n    ? ((pendingLanes = nonIdlePendingLanes & ~suspendedLanes),\n      0 !== pendingLanes\n        ? (nextLanes = getHighestPriorityLanes(pendingLanes))\n        : ((pingedLanes &= nonIdlePendingLanes),\n          0 !== pingedLanes\n            ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n            : rootHasPendingCommit ||\n              ((rootHasPendingCommit = nonIdlePendingLanes & ~root),\n              0 !== rootHasPendingCommit &&\n                (nextLanes = getHighestPriorityLanes(rootHasPendingCommit)))))\n    : ((nonIdlePendingLanes = pendingLanes & ~suspendedLanes),\n      0 !== nonIdlePendingLanes\n        ? (nextLanes = getHighestPriorityLanes(nonIdlePendingLanes))\n        : 0 !== pingedLanes\n          ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n          : rootHasPendingCommit ||\n            ((rootHasPendingCommit = pendingLanes & ~root),\n            0 !== rootHasPendingCommit &&\n              (nextLanes = getHighestPriorityLanes(rootHasPendingCommit))));\n  return 0 === nextLanes\n    ? 0\n    : 0 !== wipLanes &&\n        wipLanes !== nextLanes &&\n        0 === (wipLanes & suspendedLanes) &&\n        ((suspendedLanes = nextLanes & -nextLanes),\n        (rootHasPendingCommit = wipLanes & -wipLanes),\n        suspendedLanes >= rootHasPendingCommit ||\n          (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194048)))\n      ? wipLanes\n      : nextLanes;\n}\nfunction checkIfRootIsPrerendering(root, renderLanes) {\n  return (\n    0 ===\n    (root.pendingLanes &\n      ~(root.suspendedLanes & ~root.pingedLanes) &\n      renderLanes)\n  );\n}\nfunction computeExpirationTime(lane, currentTime) {\n  switch (lane) {\n    case 1:\n    case 2:\n    case 4:\n    case 8:\n    case 64:\n      return currentTime + 250;\n    case 16:\n    case 32:\n    case 128:\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return currentTime + 5e3;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return -1;\n    case 67108864:\n    case 134217728:\n    case 268435456:\n    case 536870912:\n    case 1073741824:\n      return -1;\n    default:\n      return -1;\n  }\n}\nfunction claimNextRetryLane() {\n  var lane = nextRetryLane;\n  nextRetryLane <<= 1;\n  0 === (nextRetryLane & 62914560) && (nextRetryLane = 4194304);\n  return lane;\n}\nfunction createLaneMap(initial) {\n  for (var laneMap = [], i = 0; 31 > i; i++) laneMap.push(initial);\n  return laneMap;\n}\nfunction markRootUpdated$1(root, updateLane) {\n  root.pendingLanes |= updateLane;\n  268435456 !== updateLane &&\n    ((root.suspendedLanes = 0), (root.pingedLanes = 0), (root.warmLanes = 0));\n}\nfunction markRootFinished(\n  root,\n  finishedLanes,\n  remainingLanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  var previouslyPendingLanes = root.pendingLanes;\n  root.pendingLanes = remainingLanes;\n  root.suspendedLanes = 0;\n  root.pingedLanes = 0;\n  root.warmLanes = 0;\n  root.expiredLanes &= remainingLanes;\n  root.entangledLanes &= remainingLanes;\n  root.errorRecoveryDisabledLanes &= remainingLanes;\n  root.shellSuspendCounter = 0;\n  var entanglements = root.entanglements,\n    expirationTimes = root.expirationTimes,\n    hiddenUpdates = root.hiddenUpdates;\n  for (\n    remainingLanes = previouslyPendingLanes & ~remainingLanes;\n    0 < remainingLanes;\n\n  ) {\n    var index$7 = 31 - clz32(remainingLanes),\n      lane = 1 << index$7;\n    entanglements[index$7] = 0;\n    expirationTimes[index$7] = -1;\n    var hiddenUpdatesForLane = hiddenUpdates[index$7];\n    if (null !== hiddenUpdatesForLane)\n      for (\n        hiddenUpdates[index$7] = null, index$7 = 0;\n        index$7 < hiddenUpdatesForLane.length;\n        index$7++\n      ) {\n        var update = hiddenUpdatesForLane[index$7];\n        null !== update && (update.lane &= -536870913);\n      }\n    remainingLanes &= ~lane;\n  }\n  0 !== spawnedLane && markSpawnedDeferredLane(root, spawnedLane, 0);\n  0 !== suspendedRetryLanes &&\n    0 === updatedLanes &&\n    0 !== root.tag &&\n    (root.suspendedLanes |=\n      suspendedRetryLanes & ~(previouslyPendingLanes & ~finishedLanes));\n}\nfunction markSpawnedDeferredLane(root, spawnedLane, entangledLanes) {\n  root.pendingLanes |= spawnedLane;\n  root.suspendedLanes &= ~spawnedLane;\n  var spawnedLaneIndex = 31 - clz32(spawnedLane);\n  root.entangledLanes |= spawnedLane;\n  root.entanglements[spawnedLaneIndex] =\n    root.entanglements[spawnedLaneIndex] |\n    1073741824 |\n    (entangledLanes & 261930);\n}\nfunction markRootEntangled(root, entangledLanes) {\n  var rootEntangledLanes = (root.entangledLanes |= entangledLanes);\n  for (root = root.entanglements; rootEntangledLanes; ) {\n    var index$8 = 31 - clz32(rootEntangledLanes),\n      lane = 1 << index$8;\n    (lane & entangledLanes) | (root[index$8] & entangledLanes) &&\n      (root[index$8] |= entangledLanes);\n    rootEntangledLanes &= ~lane;\n  }\n}\nfunction getBumpedLaneForHydration(root, renderLanes) {\n  var renderLane = renderLanes & -renderLanes;\n  renderLane =\n    0 !== (renderLane & 42) ? 1 : getBumpedLaneForHydrationByLane(renderLane);\n  return 0 !== (renderLane & (root.suspendedLanes | renderLanes))\n    ? 0\n    : renderLane;\n}\nfunction getBumpedLaneForHydrationByLane(lane) {\n  switch (lane) {\n    case 2:\n      lane = 1;\n      break;\n    case 8:\n      lane = 4;\n      break;\n    case 32:\n      lane = 16;\n      break;\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      lane = 128;\n      break;\n    case 268435456:\n      lane = 134217728;\n      break;\n    default:\n      lane = 0;\n  }\n  return lane;\n}\nfunction lanesToEventPriority(lanes) {\n  lanes &= -lanes;\n  return 2 < lanes\n    ? 8 < lanes\n      ? 0 !== (lanes & 134217727)\n        ? 32\n        : 268435456\n      : 8\n    : 2;\n}\nfunction resolveUpdatePriority() {\n  var updatePriority = ReactDOMSharedInternals.p;\n  if (0 !== updatePriority) return updatePriority;\n  updatePriority = window.event;\n  return void 0 === updatePriority ? 32 : getEventPriority(updatePriority.type);\n}\nfunction runWithPriority(priority, fn) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    return (ReactDOMSharedInternals.p = priority), fn();\n  } finally {\n    ReactDOMSharedInternals.p = previousPriority;\n  }\n}\nvar randomKey = Math.random().toString(36).slice(2),\n  internalInstanceKey = \"__reactFiber$\" + randomKey,\n  internalPropsKey = \"__reactProps$\" + randomKey,\n  internalContainerInstanceKey = \"__reactContainer$\" + randomKey,\n  internalEventHandlersKey = \"__reactEvents$\" + randomKey,\n  internalEventHandlerListenersKey = \"__reactListeners$\" + randomKey,\n  internalEventHandlesSetKey = \"__reactHandles$\" + randomKey,\n  internalRootNodeResourcesKey = \"__reactResources$\" + randomKey,\n  internalHoistableMarker = \"__reactMarker$\" + randomKey;\nfunction detachDeletedInstance(node) {\n  delete node[internalInstanceKey];\n  delete node[internalPropsKey];\n  delete node[internalEventHandlersKey];\n  delete node[internalEventHandlerListenersKey];\n  delete node[internalEventHandlesSetKey];\n}\nfunction getClosestInstanceFromNode(targetNode) {\n  var targetInst = targetNode[internalInstanceKey];\n  if (targetInst) return targetInst;\n  for (var parentNode = targetNode.parentNode; parentNode; ) {\n    if (\n      (targetInst =\n        parentNode[internalContainerInstanceKey] ||\n        parentNode[internalInstanceKey])\n    ) {\n      parentNode = targetInst.alternate;\n      if (\n        null !== targetInst.child ||\n        (null !== parentNode && null !== parentNode.child)\n      )\n        for (\n          targetNode = getParentHydrationBoundary(targetNode);\n          null !== targetNode;\n\n        ) {\n          if ((parentNode = targetNode[internalInstanceKey])) return parentNode;\n          targetNode = getParentHydrationBoundary(targetNode);\n        }\n      return targetInst;\n    }\n    targetNode = parentNode;\n    parentNode = targetNode.parentNode;\n  }\n  return null;\n}\nfunction getInstanceFromNode(node) {\n  if (\n    (node = node[internalInstanceKey] || node[internalContainerInstanceKey])\n  ) {\n    var tag = node.tag;\n    if (\n      5 === tag ||\n      6 === tag ||\n      13 === tag ||\n      31 === tag ||\n      26 === tag ||\n      27 === tag ||\n      3 === tag\n    )\n      return node;\n  }\n  return null;\n}\nfunction getNodeFromInstance(inst) {\n  var tag = inst.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return inst.stateNode;\n  throw Error(formatProdErrorMessage(33));\n}\nfunction getResourcesFromRoot(root) {\n  var resources = root[internalRootNodeResourcesKey];\n  resources ||\n    (resources = root[internalRootNodeResourcesKey] =\n      { hoistableStyles: new Map(), hoistableScripts: new Map() });\n  return resources;\n}\nfunction markNodeAsHoistable(node) {\n  node[internalHoistableMarker] = !0;\n}\nvar allNativeEvents = new Set(),\n  registrationNameDependencies = {};\nfunction registerTwoPhaseEvent(registrationName, dependencies) {\n  registerDirectEvent(registrationName, dependencies);\n  registerDirectEvent(registrationName + \"Capture\", dependencies);\n}\nfunction registerDirectEvent(registrationName, dependencies) {\n  registrationNameDependencies[registrationName] = dependencies;\n  for (\n    registrationName = 0;\n    registrationName < dependencies.length;\n    registrationName++\n  )\n    allNativeEvents.add(dependencies[registrationName]);\n}\nvar VALID_ATTRIBUTE_NAME_REGEX = RegExp(\n    \"^[:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD][:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\"\n  ),\n  illegalAttributeNameCache = {},\n  validatedAttributeNameCache = {};\nfunction isAttributeNameSafe(attributeName) {\n  if (hasOwnProperty.call(validatedAttributeNameCache, attributeName))\n    return !0;\n  if (hasOwnProperty.call(illegalAttributeNameCache, attributeName)) return !1;\n  if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName))\n    return (validatedAttributeNameCache[attributeName] = !0);\n  illegalAttributeNameCache[attributeName] = !0;\n  return !1;\n}\nfunction setValueForAttribute(node, name, value) {\n  if (isAttributeNameSafe(name))\n    if (null === value) node.removeAttribute(name);\n    else {\n      switch (typeof value) {\n        case \"undefined\":\n        case \"function\":\n        case \"symbol\":\n          node.removeAttribute(name);\n          return;\n        case \"boolean\":\n          var prefix$10 = name.toLowerCase().slice(0, 5);\n          if (\"data-\" !== prefix$10 && \"aria-\" !== prefix$10) {\n            node.removeAttribute(name);\n            return;\n          }\n      }\n      node.setAttribute(name, \"\" + value);\n    }\n}\nfunction setValueForKnownAttribute(node, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttribute(name, \"\" + value);\n  }\n}\nfunction setValueForNamespacedAttribute(node, namespace, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttributeNS(namespace, name, \"\" + value);\n  }\n}\nfunction getToStringValue(value) {\n  switch (typeof value) {\n    case \"bigint\":\n    case \"boolean\":\n    case \"number\":\n    case \"string\":\n    case \"undefined\":\n      return value;\n    case \"object\":\n      return value;\n    default:\n      return \"\";\n  }\n}\nfunction isCheckable(elem) {\n  var type = elem.type;\n  return (\n    (elem = elem.nodeName) &&\n    \"input\" === elem.toLowerCase() &&\n    (\"checkbox\" === type || \"radio\" === type)\n  );\n}\nfunction trackValueOnNode(node, valueField, currentValue) {\n  var descriptor = Object.getOwnPropertyDescriptor(\n    node.constructor.prototype,\n    valueField\n  );\n  if (\n    !node.hasOwnProperty(valueField) &&\n    \"undefined\" !== typeof descriptor &&\n    \"function\" === typeof descriptor.get &&\n    \"function\" === typeof descriptor.set\n  ) {\n    var get = descriptor.get,\n      set = descriptor.set;\n    Object.defineProperty(node, valueField, {\n      configurable: !0,\n      get: function () {\n        return get.call(this);\n      },\n      set: function (value) {\n        currentValue = \"\" + value;\n        set.call(this, value);\n      }\n    });\n    Object.defineProperty(node, valueField, {\n      enumerable: descriptor.enumerable\n    });\n    return {\n      getValue: function () {\n        return currentValue;\n      },\n      setValue: function (value) {\n        currentValue = \"\" + value;\n      },\n      stopTracking: function () {\n        node._valueTracker = null;\n        delete node[valueField];\n      }\n    };\n  }\n}\nfunction track(node) {\n  if (!node._valueTracker) {\n    var valueField = isCheckable(node) ? \"checked\" : \"value\";\n    node._valueTracker = trackValueOnNode(\n      node,\n      valueField,\n      \"\" + node[valueField]\n    );\n  }\n}\nfunction updateValueIfChanged(node) {\n  if (!node) return !1;\n  var tracker = node._valueTracker;\n  if (!tracker) return !0;\n  var lastValue = tracker.getValue();\n  var value = \"\";\n  node &&\n    (value = isCheckable(node)\n      ? node.checked\n        ? \"true\"\n        : \"false\"\n      : node.value);\n  node = value;\n  return node !== lastValue ? (tracker.setValue(node), !0) : !1;\n}\nfunction getActiveElement(doc) {\n  doc = doc || (\"undefined\" !== typeof document ? document : void 0);\n  if (\"undefined\" === typeof doc) return null;\n  try {\n    return doc.activeElement || doc.body;\n  } catch (e) {\n    return doc.body;\n  }\n}\nvar escapeSelectorAttributeValueInsideDoubleQuotesRegex = /[\\n\"\\\\]/g;\nfunction escapeSelectorAttributeValueInsideDoubleQuotes(value) {\n  return value.replace(\n    escapeSelectorAttributeValueInsideDoubleQuotesRegex,\n    function (ch) {\n      return \"\\\\\" + ch.charCodeAt(0).toString(16) + \" \";\n    }\n  );\n}\nfunction updateInput(\n  element,\n  value,\n  defaultValue,\n  lastDefaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name\n) {\n  element.name = \"\";\n  null != type &&\n  \"function\" !== typeof type &&\n  \"symbol\" !== typeof type &&\n  \"boolean\" !== typeof type\n    ? (element.type = type)\n    : element.removeAttribute(\"type\");\n  if (null != value)\n    if (\"number\" === type) {\n      if ((0 === value && \"\" === element.value) || element.value != value)\n        element.value = \"\" + getToStringValue(value);\n    } else\n      element.value !== \"\" + getToStringValue(value) &&\n        (element.value = \"\" + getToStringValue(value));\n  else\n    (\"submit\" !== type && \"reset\" !== type) || element.removeAttribute(\"value\");\n  null != value\n    ? setDefaultValue(element, type, getToStringValue(value))\n    : null != defaultValue\n      ? setDefaultValue(element, type, getToStringValue(defaultValue))\n      : null != lastDefaultValue && element.removeAttribute(\"value\");\n  null == checked &&\n    null != defaultChecked &&\n    (element.defaultChecked = !!defaultChecked);\n  null != checked &&\n    (element.checked =\n      checked && \"function\" !== typeof checked && \"symbol\" !== typeof checked);\n  null != name &&\n  \"function\" !== typeof name &&\n  \"symbol\" !== typeof name &&\n  \"boolean\" !== typeof name\n    ? (element.name = \"\" + getToStringValue(name))\n    : element.removeAttribute(\"name\");\n}\nfunction initInput(\n  element,\n  value,\n  defaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name,\n  isHydrating\n) {\n  null != type &&\n    \"function\" !== typeof type &&\n    \"symbol\" !== typeof type &&\n    \"boolean\" !== typeof type &&\n    (element.type = type);\n  if (null != value || null != defaultValue) {\n    if (\n      !(\n        (\"submit\" !== type && \"reset\" !== type) ||\n        (void 0 !== value && null !== value)\n      )\n    ) {\n      track(element);\n      return;\n    }\n    defaultValue =\n      null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n    value = null != value ? \"\" + getToStringValue(value) : defaultValue;\n    isHydrating || value === element.value || (element.value = value);\n    element.defaultValue = value;\n  }\n  checked = null != checked ? checked : defaultChecked;\n  checked =\n    \"function\" !== typeof checked && \"symbol\" !== typeof checked && !!checked;\n  element.checked = isHydrating ? element.checked : !!checked;\n  element.defaultChecked = !!checked;\n  null != name &&\n    \"function\" !== typeof name &&\n    \"symbol\" !== typeof name &&\n    \"boolean\" !== typeof name &&\n    (element.name = name);\n  track(element);\n}\nfunction setDefaultValue(node, type, value) {\n  (\"number\" === type && getActiveElement(node.ownerDocument) === node) ||\n    node.defaultValue === \"\" + value ||\n    (node.defaultValue = \"\" + value);\n}\nfunction updateOptions(node, multiple, propValue, setDefaultSelected) {\n  node = node.options;\n  if (multiple) {\n    multiple = {};\n    for (var i = 0; i < propValue.length; i++)\n      multiple[\"$\" + propValue[i]] = !0;\n    for (propValue = 0; propValue < node.length; propValue++)\n      (i = multiple.hasOwnProperty(\"$\" + node[propValue].value)),\n        node[propValue].selected !== i && (node[propValue].selected = i),\n        i && setDefaultSelected && (node[propValue].defaultSelected = !0);\n  } else {\n    propValue = \"\" + getToStringValue(propValue);\n    multiple = null;\n    for (i = 0; i < node.length; i++) {\n      if (node[i].value === propValue) {\n        node[i].selected = !0;\n        setDefaultSelected && (node[i].defaultSelected = !0);\n        return;\n      }\n      null !== multiple || node[i].disabled || (multiple = node[i]);\n    }\n    null !== multiple && (multiple.selected = !0);\n  }\n}\nfunction updateTextarea(element, value, defaultValue) {\n  if (\n    null != value &&\n    ((value = \"\" + getToStringValue(value)),\n    value !== element.value && (element.value = value),\n    null == defaultValue)\n  ) {\n    element.defaultValue !== value && (element.defaultValue = value);\n    return;\n  }\n  element.defaultValue =\n    null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n}\nfunction initTextarea(element, value, defaultValue, children) {\n  if (null == value) {\n    if (null != children) {\n      if (null != defaultValue) throw Error(formatProdErrorMessage(92));\n      if (isArrayImpl(children)) {\n        if (1 < children.length) throw Error(formatProdErrorMessage(93));\n        children = children[0];\n      }\n      defaultValue = children;\n    }\n    null == defaultValue && (defaultValue = \"\");\n    value = defaultValue;\n  }\n  defaultValue = getToStringValue(value);\n  element.defaultValue = defaultValue;\n  children = element.textContent;\n  children === defaultValue &&\n    \"\" !== children &&\n    null !== children &&\n    (element.value = children);\n  track(element);\n}\nfunction setTextContent(node, text) {\n  if (text) {\n    var firstChild = node.firstChild;\n    if (\n      firstChild &&\n      firstChild === node.lastChild &&\n      3 === firstChild.nodeType\n    ) {\n      firstChild.nodeValue = text;\n      return;\n    }\n  }\n  node.textContent = text;\n}\nvar unitlessNumbers = new Set(\n  \"animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp\".split(\n    \" \"\n  )\n);\nfunction setValueForStyle(style, styleName, value) {\n  var isCustomProperty = 0 === styleName.indexOf(\"--\");\n  null == value || \"boolean\" === typeof value || \"\" === value\n    ? isCustomProperty\n      ? style.setProperty(styleName, \"\")\n      : \"float\" === styleName\n        ? (style.cssFloat = \"\")\n        : (style[styleName] = \"\")\n    : isCustomProperty\n      ? style.setProperty(styleName, value)\n      : \"number\" !== typeof value ||\n          0 === value ||\n          unitlessNumbers.has(styleName)\n        ? \"float\" === styleName\n          ? (style.cssFloat = value)\n          : (style[styleName] = (\"\" + value).trim())\n        : (style[styleName] = value + \"px\");\n}\nfunction setValueForStyles(node, styles, prevStyles) {\n  if (null != styles && \"object\" !== typeof styles)\n    throw Error(formatProdErrorMessage(62));\n  node = node.style;\n  if (null != prevStyles) {\n    for (var styleName in prevStyles)\n      !prevStyles.hasOwnProperty(styleName) ||\n        (null != styles && styles.hasOwnProperty(styleName)) ||\n        (0 === styleName.indexOf(\"--\")\n          ? node.setProperty(styleName, \"\")\n          : \"float\" === styleName\n            ? (node.cssFloat = \"\")\n            : (node[styleName] = \"\"));\n    for (var styleName$16 in styles)\n      (styleName = styles[styleName$16]),\n        styles.hasOwnProperty(styleName$16) &&\n          prevStyles[styleName$16] !== styleName &&\n          setValueForStyle(node, styleName$16, styleName);\n  } else\n    for (var styleName$17 in styles)\n      styles.hasOwnProperty(styleName$17) &&\n        setValueForStyle(node, styleName$17, styles[styleName$17]);\n}\nfunction isCustomElement(tagName) {\n  if (-1 === tagName.indexOf(\"-\")) return !1;\n  switch (tagName) {\n    case \"annotation-xml\":\n    case \"color-profile\":\n    case \"font-face\":\n    case \"font-face-src\":\n    case \"font-face-uri\":\n    case \"font-face-format\":\n    case \"font-face-name\":\n    case \"missing-glyph\":\n      return !1;\n    default:\n      return !0;\n  }\n}\nvar aliases = new Map([\n    [\"acceptCharset\", \"accept-charset\"],\n    [\"htmlFor\", \"for\"],\n    [\"httpEquiv\", \"http-equiv\"],\n    [\"crossOrigin\", \"crossorigin\"],\n    [\"accentHeight\", \"accent-height\"],\n    [\"alignmentBaseline\", \"alignment-baseline\"],\n    [\"arabicForm\", \"arabic-form\"],\n    [\"baselineShift\", \"baseline-shift\"],\n    [\"capHeight\", \"cap-height\"],\n    [\"clipPath\", \"clip-path\"],\n    [\"clipRule\", \"clip-rule\"],\n    [\"colorInterpolation\", \"color-interpolation\"],\n    [\"colorInterpolationFilters\", \"color-interpolation-filters\"],\n    [\"colorProfile\", \"color-profile\"],\n    [\"colorRendering\", \"color-rendering\"],\n    [\"dominantBaseline\", \"dominant-baseline\"],\n    [\"enableBackground\", \"enable-background\"],\n    [\"fillOpacity\", \"fill-opacity\"],\n    [\"fillRule\", \"fill-rule\"],\n    [\"floodColor\", \"flood-color\"],\n    [\"floodOpacity\", \"flood-opacity\"],\n    [\"fontFamily\", \"font-family\"],\n    [\"fontSize\", \"font-size\"],\n    [\"fontSizeAdjust\", \"font-size-adjust\"],\n    [\"fontStretch\", \"font-stretch\"],\n    [\"fontStyle\", \"font-style\"],\n    [\"fontVariant\", \"font-variant\"],\n    [\"fontWeight\", \"font-weight\"],\n    [\"glyphName\", \"glyph-name\"],\n    [\"glyphOrientationHorizontal\", \"glyph-orientation-horizontal\"],\n    [\"glyphOrientationVertical\", \"glyph-orientation-vertical\"],\n    [\"horizAdvX\", \"horiz-adv-x\"],\n    [\"horizOriginX\", \"horiz-origin-x\"],\n    [\"imageRendering\", \"image-rendering\"],\n    [\"letterSpacing\", \"letter-spacing\"],\n    [\"lightingColor\", \"lighting-color\"],\n    [\"markerEnd\", \"marker-end\"],\n    [\"markerMid\", \"marker-mid\"],\n    [\"markerStart\", \"marker-start\"],\n    [\"overlinePosition\", \"overline-position\"],\n    [\"overlineThickness\", \"overline-thickness\"],\n    [\"paintOrder\", \"paint-order\"],\n    [\"panose-1\", \"panose-1\"],\n    [\"pointerEvents\", \"pointer-events\"],\n    [\"renderingIntent\", \"rendering-intent\"],\n    [\"shapeRendering\", \"shape-rendering\"],\n    [\"stopColor\", \"stop-color\"],\n    [\"stopOpacity\", \"stop-opacity\"],\n    [\"strikethroughPosition\", \"strikethrough-position\"],\n    [\"strikethroughThickness\", \"strikethrough-thickness\"],\n    [\"strokeDasharray\", \"stroke-dasharray\"],\n    [\"strokeDashoffset\", \"stroke-dashoffset\"],\n    [\"strokeLinecap\", \"stroke-linecap\"],\n    [\"strokeLinejoin\", \"stroke-linejoin\"],\n    [\"strokeMiterlimit\", \"stroke-miterlimit\"],\n    [\"strokeOpacity\", \"stroke-opacity\"],\n    [\"strokeWidth\", \"stroke-width\"],\n    [\"textAnchor\", \"text-anchor\"],\n    [\"textDecoration\", \"text-decoration\"],\n    [\"textRendering\", \"text-rendering\"],\n    [\"transformOrigin\", \"transform-origin\"],\n    [\"underlinePosition\", \"underline-position\"],\n    [\"underlineThickness\", \"underline-thickness\"],\n    [\"unicodeBidi\", \"unicode-bidi\"],\n    [\"unicodeRange\", \"unicode-range\"],\n    [\"unitsPerEm\", \"units-per-em\"],\n    [\"vAlphabetic\", \"v-alphabetic\"],\n    [\"vHanging\", \"v-hanging\"],\n    [\"vIdeographic\", \"v-ideographic\"],\n    [\"vMathematical\", \"v-mathematical\"],\n    [\"vectorEffect\", \"vector-effect\"],\n    [\"vertAdvY\", \"vert-adv-y\"],\n    [\"vertOriginX\", \"vert-origin-x\"],\n    [\"vertOriginY\", \"vert-origin-y\"],\n    [\"wordSpacing\", \"word-spacing\"],\n    [\"writingMode\", \"writing-mode\"],\n    [\"xmlnsXlink\", \"xmlns:xlink\"],\n    [\"xHeight\", \"x-height\"]\n  ]),\n  isJavaScriptProtocol =\n    /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*:/i;\nfunction sanitizeURL(url) {\n  return isJavaScriptProtocol.test(\"\" + url)\n    ? \"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')\"\n    : url;\n}\nfunction noop$1() {}\nvar currentReplayingEvent = null;\nfunction getEventTarget(nativeEvent) {\n  nativeEvent = nativeEvent.target || nativeEvent.srcElement || window;\n  nativeEvent.correspondingUseElement &&\n    (nativeEvent = nativeEvent.correspondingUseElement);\n  return 3 === nativeEvent.nodeType ? nativeEvent.parentNode : nativeEvent;\n}\nvar restoreTarget = null,\n  restoreQueue = null;\nfunction restoreStateOfTarget(target) {\n  var internalInstance = getInstanceFromNode(target);\n  if (internalInstance && (target = internalInstance.stateNode)) {\n    var props = target[internalPropsKey] || null;\n    a: switch (((target = internalInstance.stateNode), internalInstance.type)) {\n      case \"input\":\n        updateInput(\n          target,\n          props.value,\n          props.defaultValue,\n          props.defaultValue,\n          props.checked,\n          props.defaultChecked,\n          props.type,\n          props.name\n        );\n        internalInstance = props.name;\n        if (\"radio\" === props.type && null != internalInstance) {\n          for (props = target; props.parentNode; ) props = props.parentNode;\n          props = props.querySelectorAll(\n            'input[name=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                \"\" + internalInstance\n              ) +\n              '\"][type=\"radio\"]'\n          );\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          ) {\n            var otherNode = props[internalInstance];\n            if (otherNode !== target && otherNode.form === target.form) {\n              var otherProps = otherNode[internalPropsKey] || null;\n              if (!otherProps) throw Error(formatProdErrorMessage(90));\n              updateInput(\n                otherNode,\n                otherProps.value,\n                otherProps.defaultValue,\n                otherProps.defaultValue,\n                otherProps.checked,\n                otherProps.defaultChecked,\n                otherProps.type,\n                otherProps.name\n              );\n            }\n          }\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          )\n            (otherNode = props[internalInstance]),\n              otherNode.form === target.form && updateValueIfChanged(otherNode);\n        }\n        break a;\n      case \"textarea\":\n        updateTextarea(target, props.value, props.defaultValue);\n        break a;\n      case \"select\":\n        (internalInstance = props.value),\n          null != internalInstance &&\n            updateOptions(target, !!props.multiple, internalInstance, !1);\n    }\n  }\n}\nvar isInsideEventHandler = !1;\nfunction batchedUpdates$1(fn, a, b) {\n  if (isInsideEventHandler) return fn(a, b);\n  isInsideEventHandler = !0;\n  try {\n    var JSCompiler_inline_result = fn(a);\n    return JSCompiler_inline_result;\n  } finally {\n    if (\n      ((isInsideEventHandler = !1),\n      null !== restoreTarget || null !== restoreQueue)\n    )\n      if (\n        (flushSyncWork$1(),\n        restoreTarget &&\n          ((a = restoreTarget),\n          (fn = restoreQueue),\n          (restoreQueue = restoreTarget = null),\n          restoreStateOfTarget(a),\n          fn))\n      )\n        for (a = 0; a < fn.length; a++) restoreStateOfTarget(fn[a]);\n  }\n}\nfunction getListener(inst, registrationName) {\n  var stateNode = inst.stateNode;\n  if (null === stateNode) return null;\n  var props = stateNode[internalPropsKey] || null;\n  if (null === props) return null;\n  stateNode = props[registrationName];\n  a: switch (registrationName) {\n    case \"onClick\":\n    case \"onClickCapture\":\n    case \"onDoubleClick\":\n    case \"onDoubleClickCapture\":\n    case \"onMouseDown\":\n    case \"onMouseDownCapture\":\n    case \"onMouseMove\":\n    case \"onMouseMoveCapture\":\n    case \"onMouseUp\":\n    case \"onMouseUpCapture\":\n    case \"onMouseEnter\":\n      (props = !props.disabled) ||\n        ((inst = inst.type),\n        (props = !(\n          \"button\" === inst ||\n          \"input\" === inst ||\n          \"select\" === inst ||\n          \"textarea\" === inst\n        )));\n      inst = !props;\n      break a;\n    default:\n      inst = !1;\n  }\n  if (inst) return null;\n  if (stateNode && \"function\" !== typeof stateNode)\n    throw Error(\n      formatProdErrorMessage(231, registrationName, typeof stateNode)\n    );\n  return stateNode;\n}\nvar canUseDOM = !(\n    \"undefined\" === typeof window ||\n    \"undefined\" === typeof window.document ||\n    \"undefined\" === typeof window.document.createElement\n  ),\n  passiveBrowserEventsSupported = !1;\nif (canUseDOM)\n  try {\n    var options = {};\n    Object.defineProperty(options, \"passive\", {\n      get: function () {\n        passiveBrowserEventsSupported = !0;\n      }\n    });\n    window.addEventListener(\"test\", options, options);\n    window.removeEventListener(\"test\", options, options);\n  } catch (e) {\n    passiveBrowserEventsSupported = !1;\n  }\nvar root = null,\n  startText = null,\n  fallbackText = null;\nfunction getData() {\n  if (fallbackText) return fallbackText;\n  var start,\n    startValue = startText,\n    startLength = startValue.length,\n    end,\n    endValue = \"value\" in root ? root.value : root.textContent,\n    endLength = endValue.length;\n  for (\n    start = 0;\n    start < startLength && startValue[start] === endValue[start];\n    start++\n  );\n  var minEnd = startLength - start;\n  for (\n    end = 1;\n    end <= minEnd &&\n    startValue[startLength - end] === endValue[endLength - end];\n    end++\n  );\n  return (fallbackText = endValue.slice(start, 1 < end ? 1 - end : void 0));\n}\nfunction getEventCharCode(nativeEvent) {\n  var keyCode = nativeEvent.keyCode;\n  \"charCode\" in nativeEvent\n    ? ((nativeEvent = nativeEvent.charCode),\n      0 === nativeEvent && 13 === keyCode && (nativeEvent = 13))\n    : (nativeEvent = keyCode);\n  10 === nativeEvent && (nativeEvent = 13);\n  return 32 <= nativeEvent || 13 === nativeEvent ? nativeEvent : 0;\n}\nfunction functionThatReturnsTrue() {\n  return !0;\n}\nfunction functionThatReturnsFalse() {\n  return !1;\n}\nfunction createSyntheticEvent(Interface) {\n  function SyntheticBaseEvent(\n    reactName,\n    reactEventType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget\n  ) {\n    this._reactName = reactName;\n    this._targetInst = targetInst;\n    this.type = reactEventType;\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEventTarget;\n    this.currentTarget = null;\n    for (var propName in Interface)\n      Interface.hasOwnProperty(propName) &&\n        ((reactName = Interface[propName]),\n        (this[propName] = reactName\n          ? reactName(nativeEvent)\n          : nativeEvent[propName]));\n    this.isDefaultPrevented = (\n      null != nativeEvent.defaultPrevented\n        ? nativeEvent.defaultPrevented\n        : !1 === nativeEvent.returnValue\n    )\n      ? functionThatReturnsTrue\n      : functionThatReturnsFalse;\n    this.isPropagationStopped = functionThatReturnsFalse;\n    return this;\n  }\n  assign(SyntheticBaseEvent.prototype, {\n    preventDefault: function () {\n      this.defaultPrevented = !0;\n      var event = this.nativeEvent;\n      event &&\n        (event.preventDefault\n          ? event.preventDefault()\n          : \"unknown\" !== typeof event.returnValue && (event.returnValue = !1),\n        (this.isDefaultPrevented = functionThatReturnsTrue));\n    },\n    stopPropagation: function () {\n      var event = this.nativeEvent;\n      event &&\n        (event.stopPropagation\n          ? event.stopPropagation()\n          : \"unknown\" !== typeof event.cancelBubble &&\n            (event.cancelBubble = !0),\n        (this.isPropagationStopped = functionThatReturnsTrue));\n    },\n    persist: function () {},\n    isPersistent: functionThatReturnsTrue\n  });\n  return SyntheticBaseEvent;\n}\nvar EventInterface = {\n    eventPhase: 0,\n    bubbles: 0,\n    cancelable: 0,\n    timeStamp: function (event) {\n      return event.timeStamp || Date.now();\n    },\n    defaultPrevented: 0,\n    isTrusted: 0\n  },\n  SyntheticEvent = createSyntheticEvent(EventInterface),\n  UIEventInterface = assign({}, EventInterface, { view: 0, detail: 0 }),\n  SyntheticUIEvent = createSyntheticEvent(UIEventInterface),\n  lastMovementX,\n  lastMovementY,\n  lastMouseEvent,\n  MouseEventInterface = assign({}, UIEventInterface, {\n    screenX: 0,\n    screenY: 0,\n    clientX: 0,\n    clientY: 0,\n    pageX: 0,\n    pageY: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    getModifierState: getEventModifierState,\n    button: 0,\n    buttons: 0,\n    relatedTarget: function (event) {\n      return void 0 === event.relatedTarget\n        ? event.fromElement === event.srcElement\n          ? event.toElement\n          : event.fromElement\n        : event.relatedTarget;\n    },\n    movementX: function (event) {\n      if (\"movementX\" in event) return event.movementX;\n      event !== lastMouseEvent &&\n        (lastMouseEvent && \"mousemove\" === event.type\n          ? ((lastMovementX = event.screenX - lastMouseEvent.screenX),\n            (lastMovementY = event.screenY - lastMouseEvent.screenY))\n          : (lastMovementY = lastMovementX = 0),\n        (lastMouseEvent = event));\n      return lastMovementX;\n    },\n    movementY: function (event) {\n      return \"movementY\" in event ? event.movementY : lastMovementY;\n    }\n  }),\n  SyntheticMouseEvent = createSyntheticEvent(MouseEventInterface),\n  DragEventInterface = assign({}, MouseEventInterface, { dataTransfer: 0 }),\n  SyntheticDragEvent = createSyntheticEvent(DragEventInterface),\n  FocusEventInterface = assign({}, UIEventInterface, { relatedTarget: 0 }),\n  SyntheticFocusEvent = createSyntheticEvent(FocusEventInterface),\n  AnimationEventInterface = assign({}, EventInterface, {\n    animationName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticAnimationEvent = createSyntheticEvent(AnimationEventInterface),\n  ClipboardEventInterface = assign({}, EventInterface, {\n    clipboardData: function (event) {\n      return \"clipboardData\" in event\n        ? event.clipboardData\n        : window.clipboardData;\n    }\n  }),\n  SyntheticClipboardEvent = createSyntheticEvent(ClipboardEventInterface),\n  CompositionEventInterface = assign({}, EventInterface, { data: 0 }),\n  SyntheticCompositionEvent = createSyntheticEvent(CompositionEventInterface),\n  normalizeKey = {\n    Esc: \"Escape\",\n    Spacebar: \" \",\n    Left: \"ArrowLeft\",\n    Up: \"ArrowUp\",\n    Right: \"ArrowRight\",\n    Down: \"ArrowDown\",\n    Del: \"Delete\",\n    Win: \"OS\",\n    Menu: \"ContextMenu\",\n    Apps: \"ContextMenu\",\n    Scroll: \"ScrollLock\",\n    MozPrintableKey: \"Unidentified\"\n  },\n  translateToKey = {\n    8: \"Backspace\",\n    9: \"Tab\",\n    12: \"Clear\",\n    13: \"Enter\",\n    16: \"Shift\",\n    17: \"Control\",\n    18: \"Alt\",\n    19: \"Pause\",\n    20: \"CapsLock\",\n    27: \"Escape\",\n    32: \" \",\n    33: \"PageUp\",\n    34: \"PageDown\",\n    35: \"End\",\n    36: \"Home\",\n    37: \"ArrowLeft\",\n    38: \"ArrowUp\",\n    39: \"ArrowRight\",\n    40: \"ArrowDown\",\n    45: \"Insert\",\n    46: \"Delete\",\n    112: \"F1\",\n    113: \"F2\",\n    114: \"F3\",\n    115: \"F4\",\n    116: \"F5\",\n    117: \"F6\",\n    118: \"F7\",\n    119: \"F8\",\n    120: \"F9\",\n    121: \"F10\",\n    122: \"F11\",\n    123: \"F12\",\n    144: \"NumLock\",\n    145: \"ScrollLock\",\n    224: \"Meta\"\n  },\n  modifierKeyToProp = {\n    Alt: \"altKey\",\n    Control: \"ctrlKey\",\n    Meta: \"metaKey\",\n    Shift: \"shiftKey\"\n  };\nfunction modifierStateGetter(keyArg) {\n  var nativeEvent = this.nativeEvent;\n  return nativeEvent.getModifierState\n    ? nativeEvent.getModifierState(keyArg)\n    : (keyArg = modifierKeyToProp[keyArg])\n      ? !!nativeEvent[keyArg]\n      : !1;\n}\nfunction getEventModifierState() {\n  return modifierStateGetter;\n}\nvar KeyboardEventInterface = assign({}, UIEventInterface, {\n    key: function (nativeEvent) {\n      if (nativeEvent.key) {\n        var key = normalizeKey[nativeEvent.key] || nativeEvent.key;\n        if (\"Unidentified\" !== key) return key;\n      }\n      return \"keypress\" === nativeEvent.type\n        ? ((nativeEvent = getEventCharCode(nativeEvent)),\n          13 === nativeEvent ? \"Enter\" : String.fromCharCode(nativeEvent))\n        : \"keydown\" === nativeEvent.type || \"keyup\" === nativeEvent.type\n          ? translateToKey[nativeEvent.keyCode] || \"Unidentified\"\n          : \"\";\n    },\n    code: 0,\n    location: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    repeat: 0,\n    locale: 0,\n    getModifierState: getEventModifierState,\n    charCode: function (event) {\n      return \"keypress\" === event.type ? getEventCharCode(event) : 0;\n    },\n    keyCode: function (event) {\n      return \"keydown\" === event.type || \"keyup\" === event.type\n        ? event.keyCode\n        : 0;\n    },\n    which: function (event) {\n      return \"keypress\" === event.type\n        ? getEventCharCode(event)\n        : \"keydown\" === event.type || \"keyup\" === event.type\n          ? event.keyCode\n          : 0;\n    }\n  }),\n  SyntheticKeyboardEvent = createSyntheticEvent(KeyboardEventInterface),\n  PointerEventInterface = assign({}, MouseEventInterface, {\n    pointerId: 0,\n    width: 0,\n    height: 0,\n    pressure: 0,\n    tangentialPressure: 0,\n    tiltX: 0,\n    tiltY: 0,\n    twist: 0,\n    pointerType: 0,\n    isPrimary: 0\n  }),\n  SyntheticPointerEvent = createSyntheticEvent(PointerEventInterface),\n  TouchEventInterface = assign({}, UIEventInterface, {\n    touches: 0,\n    targetTouches: 0,\n    changedTouches: 0,\n    altKey: 0,\n    metaKey: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    getModifierState: getEventModifierState\n  }),\n  SyntheticTouchEvent = createSyntheticEvent(TouchEventInterface),\n  TransitionEventInterface = assign({}, EventInterface, {\n    propertyName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticTransitionEvent = createSyntheticEvent(TransitionEventInterface),\n  WheelEventInterface = assign({}, MouseEventInterface, {\n    deltaX: function (event) {\n      return \"deltaX\" in event\n        ? event.deltaX\n        : \"wheelDeltaX\" in event\n          ? -event.wheelDeltaX\n          : 0;\n    },\n    deltaY: function (event) {\n      return \"deltaY\" in event\n        ? event.deltaY\n        : \"wheelDeltaY\" in event\n          ? -event.wheelDeltaY\n          : \"wheelDelta\" in event\n            ? -event.wheelDelta\n            : 0;\n    },\n    deltaZ: 0,\n    deltaMode: 0\n  }),\n  SyntheticWheelEvent = createSyntheticEvent(WheelEventInterface),\n  ToggleEventInterface = assign({}, EventInterface, {\n    newState: 0,\n    oldState: 0\n  }),\n  SyntheticToggleEvent = createSyntheticEvent(ToggleEventInterface),\n  END_KEYCODES = [9, 13, 27, 32],\n  canUseCompositionEvent = canUseDOM && \"CompositionEvent\" in window,\n  documentMode = null;\ncanUseDOM &&\n  \"documentMode\" in document &&\n  (documentMode = document.documentMode);\nvar canUseTextInputEvent = canUseDOM && \"TextEvent\" in window && !documentMode,\n  useFallbackCompositionData =\n    canUseDOM &&\n    (!canUseCompositionEvent ||\n      (documentMode && 8 < documentMode && 11 >= documentMode)),\n  SPACEBAR_CHAR = String.fromCharCode(32),\n  hasSpaceKeypress = !1;\nfunction isFallbackCompositionEnd(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"keyup\":\n      return -1 !== END_KEYCODES.indexOf(nativeEvent.keyCode);\n    case \"keydown\":\n      return 229 !== nativeEvent.keyCode;\n    case \"keypress\":\n    case \"mousedown\":\n    case \"focusout\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction getDataFromCustomEvent(nativeEvent) {\n  nativeEvent = nativeEvent.detail;\n  return \"object\" === typeof nativeEvent && \"data\" in nativeEvent\n    ? nativeEvent.data\n    : null;\n}\nvar isComposing = !1;\nfunction getNativeBeforeInputChars(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"compositionend\":\n      return getDataFromCustomEvent(nativeEvent);\n    case \"keypress\":\n      if (32 !== nativeEvent.which) return null;\n      hasSpaceKeypress = !0;\n      return SPACEBAR_CHAR;\n    case \"textInput\":\n      return (\n        (domEventName = nativeEvent.data),\n        domEventName === SPACEBAR_CHAR && hasSpaceKeypress ? null : domEventName\n      );\n    default:\n      return null;\n  }\n}\nfunction getFallbackBeforeInputChars(domEventName, nativeEvent) {\n  if (isComposing)\n    return \"compositionend\" === domEventName ||\n      (!canUseCompositionEvent &&\n        isFallbackCompositionEnd(domEventName, nativeEvent))\n      ? ((domEventName = getData()),\n        (fallbackText = startText = root = null),\n        (isComposing = !1),\n        domEventName)\n      : null;\n  switch (domEventName) {\n    case \"paste\":\n      return null;\n    case \"keypress\":\n      if (\n        !(nativeEvent.ctrlKey || nativeEvent.altKey || nativeEvent.metaKey) ||\n        (nativeEvent.ctrlKey && nativeEvent.altKey)\n      ) {\n        if (nativeEvent.char && 1 < nativeEvent.char.length)\n          return nativeEvent.char;\n        if (nativeEvent.which) return String.fromCharCode(nativeEvent.which);\n      }\n      return null;\n    case \"compositionend\":\n      return useFallbackCompositionData && \"ko\" !== nativeEvent.locale\n        ? null\n        : nativeEvent.data;\n    default:\n      return null;\n  }\n}\nvar supportedInputTypes = {\n  color: !0,\n  date: !0,\n  datetime: !0,\n  \"datetime-local\": !0,\n  email: !0,\n  month: !0,\n  number: !0,\n  password: !0,\n  range: !0,\n  search: !0,\n  tel: !0,\n  text: !0,\n  time: !0,\n  url: !0,\n  week: !0\n};\nfunction isTextInputElement(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return \"input\" === nodeName\n    ? !!supportedInputTypes[elem.type]\n    : \"textarea\" === nodeName\n      ? !0\n      : !1;\n}\nfunction createAndAccumulateChangeEvent(\n  dispatchQueue,\n  inst,\n  nativeEvent,\n  target\n) {\n  restoreTarget\n    ? restoreQueue\n      ? restoreQueue.push(target)\n      : (restoreQueue = [target])\n    : (restoreTarget = target);\n  inst = accumulateTwoPhaseListeners(inst, \"onChange\");\n  0 < inst.length &&\n    ((nativeEvent = new SyntheticEvent(\n      \"onChange\",\n      \"change\",\n      null,\n      nativeEvent,\n      target\n    )),\n    dispatchQueue.push({ event: nativeEvent, listeners: inst }));\n}\nvar activeElement$1 = null,\n  activeElementInst$1 = null;\nfunction runEventInBatch(dispatchQueue) {\n  processDispatchQueue(dispatchQueue, 0);\n}\nfunction getInstIfValueChanged(targetInst) {\n  var targetNode = getNodeFromInstance(targetInst);\n  if (updateValueIfChanged(targetNode)) return targetInst;\n}\nfunction getTargetInstForChangeEvent(domEventName, targetInst) {\n  if (\"change\" === domEventName) return targetInst;\n}\nvar isInputEventSupported = !1;\nif (canUseDOM) {\n  var JSCompiler_inline_result$jscomp$286;\n  if (canUseDOM) {\n    var isSupported$jscomp$inline_427 = \"oninput\" in document;\n    if (!isSupported$jscomp$inline_427) {\n      var element$jscomp$inline_428 = document.createElement(\"div\");\n      element$jscomp$inline_428.setAttribute(\"oninput\", \"return;\");\n      isSupported$jscomp$inline_427 =\n        \"function\" === typeof element$jscomp$inline_428.oninput;\n    }\n    JSCompiler_inline_result$jscomp$286 = isSupported$jscomp$inline_427;\n  } else JSCompiler_inline_result$jscomp$286 = !1;\n  isInputEventSupported =\n    JSCompiler_inline_result$jscomp$286 &&\n    (!document.documentMode || 9 < document.documentMode);\n}\nfunction stopWatchingForValueChange() {\n  activeElement$1 &&\n    (activeElement$1.detachEvent(\"onpropertychange\", handlePropertyChange),\n    (activeElementInst$1 = activeElement$1 = null));\n}\nfunction handlePropertyChange(nativeEvent) {\n  if (\n    \"value\" === nativeEvent.propertyName &&\n    getInstIfValueChanged(activeElementInst$1)\n  ) {\n    var dispatchQueue = [];\n    createAndAccumulateChangeEvent(\n      dispatchQueue,\n      activeElementInst$1,\n      nativeEvent,\n      getEventTarget(nativeEvent)\n    );\n    batchedUpdates$1(runEventInBatch, dispatchQueue);\n  }\n}\nfunction handleEventsForInputEventPolyfill(domEventName, target, targetInst) {\n  \"focusin\" === domEventName\n    ? (stopWatchingForValueChange(),\n      (activeElement$1 = target),\n      (activeElementInst$1 = targetInst),\n      activeElement$1.attachEvent(\"onpropertychange\", handlePropertyChange))\n    : \"focusout\" === domEventName && stopWatchingForValueChange();\n}\nfunction getTargetInstForInputEventPolyfill(domEventName) {\n  if (\n    \"selectionchange\" === domEventName ||\n    \"keyup\" === domEventName ||\n    \"keydown\" === domEventName\n  )\n    return getInstIfValueChanged(activeElementInst$1);\n}\nfunction getTargetInstForClickEvent(domEventName, targetInst) {\n  if (\"click\" === domEventName) return getInstIfValueChanged(targetInst);\n}\nfunction getTargetInstForInputOrChangeEvent(domEventName, targetInst) {\n  if (\"input\" === domEventName || \"change\" === domEventName)\n    return getInstIfValueChanged(targetInst);\n}\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is;\nfunction shallowEqual(objA, objB) {\n  if (objectIs(objA, objB)) return !0;\n  if (\n    \"object\" !== typeof objA ||\n    null === objA ||\n    \"object\" !== typeof objB ||\n    null === objB\n  )\n    return !1;\n  var keysA = Object.keys(objA),\n    keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return !1;\n  for (keysB = 0; keysB < keysA.length; keysB++) {\n    var currentKey = keysA[keysB];\n    if (\n      !hasOwnProperty.call(objB, currentKey) ||\n      !objectIs(objA[currentKey], objB[currentKey])\n    )\n      return !1;\n  }\n  return !0;\n}\nfunction getLeafNode(node) {\n  for (; node && node.firstChild; ) node = node.firstChild;\n  return node;\n}\nfunction getNodeForCharacterOffset(root, offset) {\n  var node = getLeafNode(root);\n  root = 0;\n  for (var nodeEnd; node; ) {\n    if (3 === node.nodeType) {\n      nodeEnd = root + node.textContent.length;\n      if (root <= offset && nodeEnd >= offset)\n        return { node: node, offset: offset - root };\n      root = nodeEnd;\n    }\n    a: {\n      for (; node; ) {\n        if (node.nextSibling) {\n          node = node.nextSibling;\n          break a;\n        }\n        node = node.parentNode;\n      }\n      node = void 0;\n    }\n    node = getLeafNode(node);\n  }\n}\nfunction containsNode(outerNode, innerNode) {\n  return outerNode && innerNode\n    ? outerNode === innerNode\n      ? !0\n      : outerNode && 3 === outerNode.nodeType\n        ? !1\n        : innerNode && 3 === innerNode.nodeType\n          ? containsNode(outerNode, innerNode.parentNode)\n          : \"contains\" in outerNode\n            ? outerNode.contains(innerNode)\n            : outerNode.compareDocumentPosition\n              ? !!(outerNode.compareDocumentPosition(innerNode) & 16)\n              : !1\n    : !1;\n}\nfunction getActiveElementDeep(containerInfo) {\n  containerInfo =\n    null != containerInfo &&\n    null != containerInfo.ownerDocument &&\n    null != containerInfo.ownerDocument.defaultView\n      ? containerInfo.ownerDocument.defaultView\n      : window;\n  for (\n    var element = getActiveElement(containerInfo.document);\n    element instanceof containerInfo.HTMLIFrameElement;\n\n  ) {\n    try {\n      var JSCompiler_inline_result =\n        \"string\" === typeof element.contentWindow.location.href;\n    } catch (err) {\n      JSCompiler_inline_result = !1;\n    }\n    if (JSCompiler_inline_result) containerInfo = element.contentWindow;\n    else break;\n    element = getActiveElement(containerInfo.document);\n  }\n  return element;\n}\nfunction hasSelectionCapabilities(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return (\n    nodeName &&\n    ((\"input\" === nodeName &&\n      (\"text\" === elem.type ||\n        \"search\" === elem.type ||\n        \"tel\" === elem.type ||\n        \"url\" === elem.type ||\n        \"password\" === elem.type)) ||\n      \"textarea\" === nodeName ||\n      \"true\" === elem.contentEditable)\n  );\n}\nvar skipSelectionChangeEvent =\n    canUseDOM && \"documentMode\" in document && 11 >= document.documentMode,\n  activeElement = null,\n  activeElementInst = null,\n  lastSelection = null,\n  mouseDown = !1;\nfunction constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget) {\n  var doc =\n    nativeEventTarget.window === nativeEventTarget\n      ? nativeEventTarget.document\n      : 9 === nativeEventTarget.nodeType\n        ? nativeEventTarget\n        : nativeEventTarget.ownerDocument;\n  mouseDown ||\n    null == activeElement ||\n    activeElement !== getActiveElement(doc) ||\n    ((doc = activeElement),\n    \"selectionStart\" in doc && hasSelectionCapabilities(doc)\n      ? (doc = { start: doc.selectionStart, end: doc.selectionEnd })\n      : ((doc = (\n          (doc.ownerDocument && doc.ownerDocument.defaultView) ||\n          window\n        ).getSelection()),\n        (doc = {\n          anchorNode: doc.anchorNode,\n          anchorOffset: doc.anchorOffset,\n          focusNode: doc.focusNode,\n          focusOffset: doc.focusOffset\n        })),\n    (lastSelection && shallowEqual(lastSelection, doc)) ||\n      ((lastSelection = doc),\n      (doc = accumulateTwoPhaseListeners(activeElementInst, \"onSelect\")),\n      0 < doc.length &&\n        ((nativeEvent = new SyntheticEvent(\n          \"onSelect\",\n          \"select\",\n          null,\n          nativeEvent,\n          nativeEventTarget\n        )),\n        dispatchQueue.push({ event: nativeEvent, listeners: doc }),\n        (nativeEvent.target = activeElement))));\n}\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes[\"Webkit\" + styleProp] = \"webkit\" + eventName;\n  prefixes[\"Moz\" + styleProp] = \"moz\" + eventName;\n  return prefixes;\n}\nvar vendorPrefixes = {\n    animationend: makePrefixMap(\"Animation\", \"AnimationEnd\"),\n    animationiteration: makePrefixMap(\"Animation\", \"AnimationIteration\"),\n    animationstart: makePrefixMap(\"Animation\", \"AnimationStart\"),\n    transitionrun: makePrefixMap(\"Transition\", \"TransitionRun\"),\n    transitionstart: makePrefixMap(\"Transition\", \"TransitionStart\"),\n    transitioncancel: makePrefixMap(\"Transition\", \"TransitionCancel\"),\n    transitionend: makePrefixMap(\"Transition\", \"TransitionEnd\")\n  },\n  prefixedEventNames = {},\n  style = {};\ncanUseDOM &&\n  ((style = document.createElement(\"div\").style),\n  \"AnimationEvent\" in window ||\n    (delete vendorPrefixes.animationend.animation,\n    delete vendorPrefixes.animationiteration.animation,\n    delete vendorPrefixes.animationstart.animation),\n  \"TransitionEvent\" in window ||\n    delete vendorPrefixes.transitionend.transition);\nfunction getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) return prefixedEventNames[eventName];\n  if (!vendorPrefixes[eventName]) return eventName;\n  var prefixMap = vendorPrefixes[eventName],\n    styleProp;\n  for (styleProp in prefixMap)\n    if (prefixMap.hasOwnProperty(styleProp) && styleProp in style)\n      return (prefixedEventNames[eventName] = prefixMap[styleProp]);\n  return eventName;\n}\nvar ANIMATION_END = getVendorPrefixedEventName(\"animationend\"),\n  ANIMATION_ITERATION = getVendorPrefixedEventName(\"animationiteration\"),\n  ANIMATION_START = getVendorPrefixedEventName(\"animationstart\"),\n  TRANSITION_RUN = getVendorPrefixedEventName(\"transitionrun\"),\n  TRANSITION_START = getVendorPrefixedEventName(\"transitionstart\"),\n  TRANSITION_CANCEL = getVendorPrefixedEventName(\"transitioncancel\"),\n  TRANSITION_END = getVendorPrefixedEventName(\"transitionend\"),\n  topLevelEventsToReactNames = new Map(),\n  simpleEventPluginEvents =\n    \"abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\n      \" \"\n    );\nsimpleEventPluginEvents.push(\"scrollEnd\");\nfunction registerSimpleEvent(domEventName, reactName) {\n  topLevelEventsToReactNames.set(domEventName, reactName);\n  registerTwoPhaseEvent(reactName, [domEventName]);\n}\nvar reportGlobalError =\n    \"function\" === typeof reportError\n      ? reportError\n      : function (error) {\n          if (\n            \"object\" === typeof window &&\n            \"function\" === typeof window.ErrorEvent\n          ) {\n            var event = new window.ErrorEvent(\"error\", {\n              bubbles: !0,\n              cancelable: !0,\n              message:\n                \"object\" === typeof error &&\n                null !== error &&\n                \"string\" === typeof error.message\n                  ? String(error.message)\n                  : String(error),\n              error: error\n            });\n            if (!window.dispatchEvent(event)) return;\n          } else if (\n            \"object\" === typeof process &&\n            \"function\" === typeof process.emit\n          ) {\n            process.emit(\"uncaughtException\", error);\n            return;\n          }\n          console.error(error);\n        },\n  concurrentQueues = [],\n  concurrentQueuesIndex = 0,\n  concurrentlyUpdatedLanes = 0;\nfunction finishQueueingConcurrentUpdates() {\n  for (\n    var endIndex = concurrentQueuesIndex,\n      i = (concurrentlyUpdatedLanes = concurrentQueuesIndex = 0);\n    i < endIndex;\n\n  ) {\n    var fiber = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var queue = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var update = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var lane = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    if (null !== queue && null !== update) {\n      var pending = queue.pending;\n      null === pending\n        ? (update.next = update)\n        : ((update.next = pending.next), (pending.next = update));\n      queue.pending = update;\n    }\n    0 !== lane && markUpdateLaneFromFiberToRoot(fiber, update, lane);\n  }\n}\nfunction enqueueUpdate$1(fiber, queue, update, lane) {\n  concurrentQueues[concurrentQueuesIndex++] = fiber;\n  concurrentQueues[concurrentQueuesIndex++] = queue;\n  concurrentQueues[concurrentQueuesIndex++] = update;\n  concurrentQueues[concurrentQueuesIndex++] = lane;\n  concurrentlyUpdatedLanes |= lane;\n  fiber.lanes |= lane;\n  fiber = fiber.alternate;\n  null !== fiber && (fiber.lanes |= lane);\n}\nfunction enqueueConcurrentHookUpdate(fiber, queue, update, lane) {\n  enqueueUpdate$1(fiber, queue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction enqueueConcurrentRenderForLane(fiber, lane) {\n  enqueueUpdate$1(fiber, null, null, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {\n  sourceFiber.lanes |= lane;\n  var alternate = sourceFiber.alternate;\n  null !== alternate && (alternate.lanes |= lane);\n  for (var isHidden = !1, parent = sourceFiber.return; null !== parent; )\n    (parent.childLanes |= lane),\n      (alternate = parent.alternate),\n      null !== alternate && (alternate.childLanes |= lane),\n      22 === parent.tag &&\n        ((sourceFiber = parent.stateNode),\n        null === sourceFiber || sourceFiber._visibility & 1 || (isHidden = !0)),\n      (sourceFiber = parent),\n      (parent = parent.return);\n  return 3 === sourceFiber.tag\n    ? ((parent = sourceFiber.stateNode),\n      isHidden &&\n        null !== update &&\n        ((isHidden = 31 - clz32(lane)),\n        (sourceFiber = parent.hiddenUpdates),\n        (alternate = sourceFiber[isHidden]),\n        null === alternate\n          ? (sourceFiber[isHidden] = [update])\n          : alternate.push(update),\n        (update.lane = lane | 536870912)),\n      parent)\n    : null;\n}\nfunction getRootForUpdatedFiber(sourceFiber) {\n  if (50 < nestedUpdateCount)\n    throw (\n      ((nestedUpdateCount = 0),\n      (rootWithNestedUpdates = null),\n      Error(formatProdErrorMessage(185)))\n    );\n  for (var parent = sourceFiber.return; null !== parent; )\n    (sourceFiber = parent), (parent = sourceFiber.return);\n  return 3 === sourceFiber.tag ? sourceFiber.stateNode : null;\n}\nvar emptyContextObject = {};\nfunction FiberNode(tag, pendingProps, key, mode) {\n  this.tag = tag;\n  this.key = key;\n  this.sibling =\n    this.child =\n    this.return =\n    this.stateNode =\n    this.type =\n    this.elementType =\n      null;\n  this.index = 0;\n  this.refCleanup = this.ref = null;\n  this.pendingProps = pendingProps;\n  this.dependencies =\n    this.memoizedState =\n    this.updateQueue =\n    this.memoizedProps =\n      null;\n  this.mode = mode;\n  this.subtreeFlags = this.flags = 0;\n  this.deletions = null;\n  this.childLanes = this.lanes = 0;\n  this.alternate = null;\n}\nfunction createFiberImplClass(tag, pendingProps, key, mode) {\n  return new FiberNode(tag, pendingProps, key, mode);\n}\nfunction shouldConstruct(Component) {\n  Component = Component.prototype;\n  return !(!Component || !Component.isReactComponent);\n}\nfunction createWorkInProgress(current, pendingProps) {\n  var workInProgress = current.alternate;\n  null === workInProgress\n    ? ((workInProgress = createFiberImplClass(\n        current.tag,\n        pendingProps,\n        current.key,\n        current.mode\n      )),\n      (workInProgress.elementType = current.elementType),\n      (workInProgress.type = current.type),\n      (workInProgress.stateNode = current.stateNode),\n      (workInProgress.alternate = current),\n      (current.alternate = workInProgress))\n    : ((workInProgress.pendingProps = pendingProps),\n      (workInProgress.type = current.type),\n      (workInProgress.flags = 0),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null));\n  workInProgress.flags = current.flags & 65011712;\n  workInProgress.childLanes = current.childLanes;\n  workInProgress.lanes = current.lanes;\n  workInProgress.child = current.child;\n  workInProgress.memoizedProps = current.memoizedProps;\n  workInProgress.memoizedState = current.memoizedState;\n  workInProgress.updateQueue = current.updateQueue;\n  pendingProps = current.dependencies;\n  workInProgress.dependencies =\n    null === pendingProps\n      ? null\n      : { lanes: pendingProps.lanes, firstContext: pendingProps.firstContext };\n  workInProgress.sibling = current.sibling;\n  workInProgress.index = current.index;\n  workInProgress.ref = current.ref;\n  workInProgress.refCleanup = current.refCleanup;\n  return workInProgress;\n}\nfunction resetWorkInProgress(workInProgress, renderLanes) {\n  workInProgress.flags &= 65011714;\n  var current = workInProgress.alternate;\n  null === current\n    ? ((workInProgress.childLanes = 0),\n      (workInProgress.lanes = renderLanes),\n      (workInProgress.child = null),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.memoizedProps = null),\n      (workInProgress.memoizedState = null),\n      (workInProgress.updateQueue = null),\n      (workInProgress.dependencies = null),\n      (workInProgress.stateNode = null))\n    : ((workInProgress.childLanes = current.childLanes),\n      (workInProgress.lanes = current.lanes),\n      (workInProgress.child = current.child),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null),\n      (workInProgress.memoizedProps = current.memoizedProps),\n      (workInProgress.memoizedState = current.memoizedState),\n      (workInProgress.updateQueue = current.updateQueue),\n      (workInProgress.type = current.type),\n      (renderLanes = current.dependencies),\n      (workInProgress.dependencies =\n        null === renderLanes\n          ? null\n          : {\n              lanes: renderLanes.lanes,\n              firstContext: renderLanes.firstContext\n            }));\n  return workInProgress;\n}\nfunction createFiberFromTypeAndProps(\n  type,\n  key,\n  pendingProps,\n  owner,\n  mode,\n  lanes\n) {\n  var fiberTag = 0;\n  owner = type;\n  if (\"function\" === typeof type) shouldConstruct(type) && (fiberTag = 1);\n  else if (\"string\" === typeof type)\n    fiberTag = isHostHoistableType(\n      type,\n      pendingProps,\n      contextStackCursor.current\n    )\n      ? 26\n      : \"html\" === type || \"head\" === type || \"body\" === type\n        ? 27\n        : 5;\n  else\n    a: switch (type) {\n      case REACT_ACTIVITY_TYPE:\n        return (\n          (type = createFiberImplClass(31, pendingProps, key, mode)),\n          (type.elementType = REACT_ACTIVITY_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_FRAGMENT_TYPE:\n        return createFiberFromFragment(pendingProps.children, mode, lanes, key);\n      case REACT_STRICT_MODE_TYPE:\n        fiberTag = 8;\n        mode |= 24;\n        break;\n      case REACT_PROFILER_TYPE:\n        return (\n          (type = createFiberImplClass(12, pendingProps, key, mode | 2)),\n          (type.elementType = REACT_PROFILER_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_TYPE:\n        return (\n          (type = createFiberImplClass(13, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_LIST_TYPE:\n        return (\n          (type = createFiberImplClass(19, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_LIST_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      default:\n        if (\"object\" === typeof type && null !== type)\n          switch (type.$$typeof) {\n            case REACT_CONTEXT_TYPE:\n              fiberTag = 10;\n              break a;\n            case REACT_CONSUMER_TYPE:\n              fiberTag = 9;\n              break a;\n            case REACT_FORWARD_REF_TYPE:\n              fiberTag = 11;\n              break a;\n            case REACT_MEMO_TYPE:\n              fiberTag = 14;\n              break a;\n            case REACT_LAZY_TYPE:\n              fiberTag = 16;\n              owner = null;\n              break a;\n          }\n        fiberTag = 29;\n        pendingProps = Error(\n          formatProdErrorMessage(130, null === type ? \"null\" : typeof type, \"\")\n        );\n        owner = null;\n    }\n  key = createFiberImplClass(fiberTag, pendingProps, key, mode);\n  key.elementType = type;\n  key.type = owner;\n  key.lanes = lanes;\n  return key;\n}\nfunction createFiberFromFragment(elements, mode, lanes, key) {\n  elements = createFiberImplClass(7, elements, key, mode);\n  elements.lanes = lanes;\n  return elements;\n}\nfunction createFiberFromText(content, mode, lanes) {\n  content = createFiberImplClass(6, content, null, mode);\n  content.lanes = lanes;\n  return content;\n}\nfunction createFiberFromDehydratedFragment(dehydratedNode) {\n  var fiber = createFiberImplClass(18, null, null, 0);\n  fiber.stateNode = dehydratedNode;\n  return fiber;\n}\nfunction createFiberFromPortal(portal, mode, lanes) {\n  mode = createFiberImplClass(\n    4,\n    null !== portal.children ? portal.children : [],\n    portal.key,\n    mode\n  );\n  mode.lanes = lanes;\n  mode.stateNode = {\n    containerInfo: portal.containerInfo,\n    pendingChildren: null,\n    implementation: portal.implementation\n  };\n  return mode;\n}\nvar CapturedStacks = new WeakMap();\nfunction createCapturedValueAtFiber(value, source) {\n  if (\"object\" === typeof value && null !== value) {\n    var existing = CapturedStacks.get(value);\n    if (void 0 !== existing) return existing;\n    source = {\n      value: value,\n      source: source,\n      stack: getStackByFiberInDevAndProd(source)\n    };\n    CapturedStacks.set(value, source);\n    return source;\n  }\n  return {\n    value: value,\n    source: source,\n    stack: getStackByFiberInDevAndProd(source)\n  };\n}\nvar forkStack = [],\n  forkStackIndex = 0,\n  treeForkProvider = null,\n  treeForkCount = 0,\n  idStack = [],\n  idStackIndex = 0,\n  treeContextProvider = null,\n  treeContextId = 1,\n  treeContextOverflow = \"\";\nfunction pushTreeFork(workInProgress, totalChildren) {\n  forkStack[forkStackIndex++] = treeForkCount;\n  forkStack[forkStackIndex++] = treeForkProvider;\n  treeForkProvider = workInProgress;\n  treeForkCount = totalChildren;\n}\nfunction pushTreeId(workInProgress, totalChildren, index) {\n  idStack[idStackIndex++] = treeContextId;\n  idStack[idStackIndex++] = treeContextOverflow;\n  idStack[idStackIndex++] = treeContextProvider;\n  treeContextProvider = workInProgress;\n  var baseIdWithLeadingBit = treeContextId;\n  workInProgress = treeContextOverflow;\n  var baseLength = 32 - clz32(baseIdWithLeadingBit) - 1;\n  baseIdWithLeadingBit &= ~(1 << baseLength);\n  index += 1;\n  var length = 32 - clz32(totalChildren) + baseLength;\n  if (30 < length) {\n    var numberOfOverflowBits = baseLength - (baseLength % 5);\n    length = (\n      baseIdWithLeadingBit &\n      ((1 << numberOfOverflowBits) - 1)\n    ).toString(32);\n    baseIdWithLeadingBit >>= numberOfOverflowBits;\n    baseLength -= numberOfOverflowBits;\n    treeContextId =\n      (1 << (32 - clz32(totalChildren) + baseLength)) |\n      (index << baseLength) |\n      baseIdWithLeadingBit;\n    treeContextOverflow = length + workInProgress;\n  } else\n    (treeContextId =\n      (1 << length) | (index << baseLength) | baseIdWithLeadingBit),\n      (treeContextOverflow = workInProgress);\n}\nfunction pushMaterializedTreeId(workInProgress) {\n  null !== workInProgress.return &&\n    (pushTreeFork(workInProgress, 1), pushTreeId(workInProgress, 1, 0));\n}\nfunction popTreeContext(workInProgress) {\n  for (; workInProgress === treeForkProvider; )\n    (treeForkProvider = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null),\n      (treeForkCount = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null);\n  for (; workInProgress === treeContextProvider; )\n    (treeContextProvider = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextOverflow = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextId = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null);\n}\nfunction restoreSuspendedTreeContext(workInProgress, suspendedContext) {\n  idStack[idStackIndex++] = treeContextId;\n  idStack[idStackIndex++] = treeContextOverflow;\n  idStack[idStackIndex++] = treeContextProvider;\n  treeContextId = suspendedContext.id;\n  treeContextOverflow = suspendedContext.overflow;\n  treeContextProvider = workInProgress;\n}\nvar hydrationParentFiber = null,\n  nextHydratableInstance = null,\n  isHydrating = !1,\n  hydrationErrors = null,\n  rootOrSingletonContext = !1,\n  HydrationMismatchException = Error(formatProdErrorMessage(519));\nfunction throwOnHydrationMismatch(fiber) {\n  var error = Error(\n    formatProdErrorMessage(\n      418,\n      1 < arguments.length && void 0 !== arguments[1] && arguments[1]\n        ? \"text\"\n        : \"HTML\",\n      \"\"\n    )\n  );\n  queueHydrationError(createCapturedValueAtFiber(error, fiber));\n  throw HydrationMismatchException;\n}\nfunction prepareToHydrateHostInstance(fiber) {\n  var instance = fiber.stateNode,\n    type = fiber.type,\n    props = fiber.memoizedProps;\n  instance[internalInstanceKey] = fiber;\n  instance[internalPropsKey] = props;\n  switch (type) {\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"cancel\", instance);\n      listenToNonDelegatedEvent(\"close\", instance);\n      break;\n    case \"iframe\":\n    case \"object\":\n    case \"embed\":\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (type = 0; type < mediaEventTypes.length; type++)\n        listenToNonDelegatedEvent(mediaEventTypes[type], instance);\n      break;\n    case \"source\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      break;\n    case \"img\":\n    case \"image\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", instance);\n      break;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      initInput(\n        instance,\n        props.value,\n        props.defaultValue,\n        props.checked,\n        props.defaultChecked,\n        props.type,\n        props.name,\n        !0\n      );\n      break;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      break;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", instance),\n        initTextarea(instance, props.value, props.defaultValue, props.children);\n  }\n  type = props.children;\n  (\"string\" !== typeof type &&\n    \"number\" !== typeof type &&\n    \"bigint\" !== typeof type) ||\n  instance.textContent === \"\" + type ||\n  !0 === props.suppressHydrationWarning ||\n  checkForUnmatchedText(instance.textContent, type)\n    ? (null != props.popover &&\n        (listenToNonDelegatedEvent(\"beforetoggle\", instance),\n        listenToNonDelegatedEvent(\"toggle\", instance)),\n      null != props.onScroll && listenToNonDelegatedEvent(\"scroll\", instance),\n      null != props.onScrollEnd &&\n        listenToNonDelegatedEvent(\"scrollend\", instance),\n      null != props.onClick && (instance.onclick = noop$1),\n      (instance = !0))\n    : (instance = !1);\n  instance || throwOnHydrationMismatch(fiber, !0);\n}\nfunction popToNextHostParent(fiber) {\n  for (hydrationParentFiber = fiber.return; hydrationParentFiber; )\n    switch (hydrationParentFiber.tag) {\n      case 5:\n      case 31:\n      case 13:\n        rootOrSingletonContext = !1;\n        return;\n      case 27:\n      case 3:\n        rootOrSingletonContext = !0;\n        return;\n      default:\n        hydrationParentFiber = hydrationParentFiber.return;\n    }\n}\nfunction popHydrationState(fiber) {\n  if (fiber !== hydrationParentFiber) return !1;\n  if (!isHydrating) return popToNextHostParent(fiber), (isHydrating = !0), !1;\n  var tag = fiber.tag,\n    JSCompiler_temp;\n  if ((JSCompiler_temp = 3 !== tag && 27 !== tag)) {\n    if ((JSCompiler_temp = 5 === tag))\n      (JSCompiler_temp = fiber.type),\n        (JSCompiler_temp =\n          !(\"form\" !== JSCompiler_temp && \"button\" !== JSCompiler_temp) ||\n          shouldSetTextContent(fiber.type, fiber.memoizedProps));\n    JSCompiler_temp = !JSCompiler_temp;\n  }\n  JSCompiler_temp && nextHydratableInstance && throwOnHydrationMismatch(fiber);\n  popToNextHostParent(fiber);\n  if (13 === tag) {\n    fiber = fiber.memoizedState;\n    fiber = null !== fiber ? fiber.dehydrated : null;\n    if (!fiber) throw Error(formatProdErrorMessage(317));\n    nextHydratableInstance =\n      getNextHydratableInstanceAfterHydrationBoundary(fiber);\n  } else if (31 === tag) {\n    fiber = fiber.memoizedState;\n    fiber = null !== fiber ? fiber.dehydrated : null;\n    if (!fiber) throw Error(formatProdErrorMessage(317));\n    nextHydratableInstance =\n      getNextHydratableInstanceAfterHydrationBoundary(fiber);\n  } else\n    27 === tag\n      ? ((tag = nextHydratableInstance),\n        isSingletonScope(fiber.type)\n          ? ((fiber = previousHydratableOnEnteringScopedSingleton),\n            (previousHydratableOnEnteringScopedSingleton = null),\n            (nextHydratableInstance = fiber))\n          : (nextHydratableInstance = tag))\n      : (nextHydratableInstance = hydrationParentFiber\n          ? getNextHydratable(fiber.stateNode.nextSibling)\n          : null);\n  return !0;\n}\nfunction resetHydrationState() {\n  nextHydratableInstance = hydrationParentFiber = null;\n  isHydrating = !1;\n}\nfunction upgradeHydrationErrorsToRecoverable() {\n  var queuedErrors = hydrationErrors;\n  null !== queuedErrors &&\n    (null === workInProgressRootRecoverableErrors\n      ? (workInProgressRootRecoverableErrors = queuedErrors)\n      : workInProgressRootRecoverableErrors.push.apply(\n          workInProgressRootRecoverableErrors,\n          queuedErrors\n        ),\n    (hydrationErrors = null));\n  return queuedErrors;\n}\nfunction queueHydrationError(error) {\n  null === hydrationErrors\n    ? (hydrationErrors = [error])\n    : hydrationErrors.push(error);\n}\nvar valueCursor = createCursor(null),\n  currentlyRenderingFiber$1 = null,\n  lastContextDependency = null;\nfunction pushProvider(providerFiber, context, nextValue) {\n  push(valueCursor, context._currentValue);\n  context._currentValue = nextValue;\n}\nfunction popProvider(context) {\n  context._currentValue = valueCursor.current;\n  pop(valueCursor);\n}\nfunction scheduleContextWorkOnParentPath(parent, renderLanes, propagationRoot) {\n  for (; null !== parent; ) {\n    var alternate = parent.alternate;\n    (parent.childLanes & renderLanes) !== renderLanes\n      ? ((parent.childLanes |= renderLanes),\n        null !== alternate && (alternate.childLanes |= renderLanes))\n      : null !== alternate &&\n        (alternate.childLanes & renderLanes) !== renderLanes &&\n        (alternate.childLanes |= renderLanes);\n    if (parent === propagationRoot) break;\n    parent = parent.return;\n  }\n}\nfunction propagateContextChanges(\n  workInProgress,\n  contexts,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  var fiber = workInProgress.child;\n  null !== fiber && (fiber.return = workInProgress);\n  for (; null !== fiber; ) {\n    var list = fiber.dependencies;\n    if (null !== list) {\n      var nextFiber = fiber.child;\n      list = list.firstContext;\n      a: for (; null !== list; ) {\n        var dependency = list;\n        list = fiber;\n        for (var i = 0; i < contexts.length; i++)\n          if (dependency.context === contexts[i]) {\n            list.lanes |= renderLanes;\n            dependency = list.alternate;\n            null !== dependency && (dependency.lanes |= renderLanes);\n            scheduleContextWorkOnParentPath(\n              list.return,\n              renderLanes,\n              workInProgress\n            );\n            forcePropagateEntireTree || (nextFiber = null);\n            break a;\n          }\n        list = dependency.next;\n      }\n    } else if (18 === fiber.tag) {\n      nextFiber = fiber.return;\n      if (null === nextFiber) throw Error(formatProdErrorMessage(341));\n      nextFiber.lanes |= renderLanes;\n      list = nextFiber.alternate;\n      null !== list && (list.lanes |= renderLanes);\n      scheduleContextWorkOnParentPath(nextFiber, renderLanes, workInProgress);\n      nextFiber = null;\n    } else nextFiber = fiber.child;\n    if (null !== nextFiber) nextFiber.return = fiber;\n    else\n      for (nextFiber = fiber; null !== nextFiber; ) {\n        if (nextFiber === workInProgress) {\n          nextFiber = null;\n          break;\n        }\n        fiber = nextFiber.sibling;\n        if (null !== fiber) {\n          fiber.return = nextFiber.return;\n          nextFiber = fiber;\n          break;\n        }\n        nextFiber = nextFiber.return;\n      }\n    fiber = nextFiber;\n  }\n}\nfunction propagateParentContextChanges(\n  current,\n  workInProgress,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  current = null;\n  for (\n    var parent = workInProgress, isInsidePropagationBailout = !1;\n    null !== parent;\n\n  ) {\n    if (!isInsidePropagationBailout)\n      if (0 !== (parent.flags & 524288)) isInsidePropagationBailout = !0;\n      else if (0 !== (parent.flags & 262144)) break;\n    if (10 === parent.tag) {\n      var currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent = currentParent.memoizedProps;\n      if (null !== currentParent) {\n        var context = parent.type;\n        objectIs(parent.pendingProps.value, currentParent.value) ||\n          (null !== current ? current.push(context) : (current = [context]));\n      }\n    } else if (parent === hostTransitionProviderCursor.current) {\n      currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent.memoizedState.memoizedState !==\n        parent.memoizedState.memoizedState &&\n        (null !== current\n          ? current.push(HostTransitionContext)\n          : (current = [HostTransitionContext]));\n    }\n    parent = parent.return;\n  }\n  null !== current &&\n    propagateContextChanges(\n      workInProgress,\n      current,\n      renderLanes,\n      forcePropagateEntireTree\n    );\n  workInProgress.flags |= 262144;\n}\nfunction checkIfContextChanged(currentDependencies) {\n  for (\n    currentDependencies = currentDependencies.firstContext;\n    null !== currentDependencies;\n\n  ) {\n    if (\n      !objectIs(\n        currentDependencies.context._currentValue,\n        currentDependencies.memoizedValue\n      )\n    )\n      return !0;\n    currentDependencies = currentDependencies.next;\n  }\n  return !1;\n}\nfunction prepareToReadContext(workInProgress) {\n  currentlyRenderingFiber$1 = workInProgress;\n  lastContextDependency = null;\n  workInProgress = workInProgress.dependencies;\n  null !== workInProgress && (workInProgress.firstContext = null);\n}\nfunction readContext(context) {\n  return readContextForConsumer(currentlyRenderingFiber$1, context);\n}\nfunction readContextDuringReconciliation(consumer, context) {\n  null === currentlyRenderingFiber$1 && prepareToReadContext(consumer);\n  return readContextForConsumer(consumer, context);\n}\nfunction readContextForConsumer(consumer, context) {\n  var value = context._currentValue;\n  context = { context: context, memoizedValue: value, next: null };\n  if (null === lastContextDependency) {\n    if (null === consumer) throw Error(formatProdErrorMessage(308));\n    lastContextDependency = context;\n    consumer.dependencies = { lanes: 0, firstContext: context };\n    consumer.flags |= 524288;\n  } else lastContextDependency = lastContextDependency.next = context;\n  return value;\n}\nvar AbortControllerLocal =\n    \"undefined\" !== typeof AbortController\n      ? AbortController\n      : function () {\n          var listeners = [],\n            signal = (this.signal = {\n              aborted: !1,\n              addEventListener: function (type, listener) {\n                listeners.push(listener);\n              }\n            });\n          this.abort = function () {\n            signal.aborted = !0;\n            listeners.forEach(function (listener) {\n              return listener();\n            });\n          };\n        },\n  scheduleCallback$2 = Scheduler.unstable_scheduleCallback,\n  NormalPriority = Scheduler.unstable_NormalPriority,\n  CacheContext = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    Consumer: null,\n    Provider: null,\n    _currentValue: null,\n    _currentValue2: null,\n    _threadCount: 0\n  };\nfunction createCache() {\n  return {\n    controller: new AbortControllerLocal(),\n    data: new Map(),\n    refCount: 0\n  };\n}\nfunction releaseCache(cache) {\n  cache.refCount--;\n  0 === cache.refCount &&\n    scheduleCallback$2(NormalPriority, function () {\n      cache.controller.abort();\n    });\n}\nvar currentEntangledListeners = null,\n  currentEntangledPendingCount = 0,\n  currentEntangledLane = 0,\n  currentEntangledActionThenable = null;\nfunction entangleAsyncAction(transition, thenable) {\n  if (null === currentEntangledListeners) {\n    var entangledListeners = (currentEntangledListeners = []);\n    currentEntangledPendingCount = 0;\n    currentEntangledLane = requestTransitionLane();\n    currentEntangledActionThenable = {\n      status: \"pending\",\n      value: void 0,\n      then: function (resolve) {\n        entangledListeners.push(resolve);\n      }\n    };\n  }\n  currentEntangledPendingCount++;\n  thenable.then(pingEngtangledActionScope, pingEngtangledActionScope);\n  return thenable;\n}\nfunction pingEngtangledActionScope() {\n  if (\n    0 === --currentEntangledPendingCount &&\n    null !== currentEntangledListeners\n  ) {\n    null !== currentEntangledActionThenable &&\n      (currentEntangledActionThenable.status = \"fulfilled\");\n    var listeners = currentEntangledListeners;\n    currentEntangledListeners = null;\n    currentEntangledLane = 0;\n    currentEntangledActionThenable = null;\n    for (var i = 0; i < listeners.length; i++) (0, listeners[i])();\n  }\n}\nfunction chainThenableValue(thenable, result) {\n  var listeners = [],\n    thenableWithOverride = {\n      status: \"pending\",\n      value: null,\n      reason: null,\n      then: function (resolve) {\n        listeners.push(resolve);\n      }\n    };\n  thenable.then(\n    function () {\n      thenableWithOverride.status = \"fulfilled\";\n      thenableWithOverride.value = result;\n      for (var i = 0; i < listeners.length; i++) (0, listeners[i])(result);\n    },\n    function (error) {\n      thenableWithOverride.status = \"rejected\";\n      thenableWithOverride.reason = error;\n      for (error = 0; error < listeners.length; error++)\n        (0, listeners[error])(void 0);\n    }\n  );\n  return thenableWithOverride;\n}\nvar prevOnStartTransitionFinish = ReactSharedInternals.S;\nReactSharedInternals.S = function (transition, returnValue) {\n  globalMostRecentTransitionTime = now();\n  \"object\" === typeof returnValue &&\n    null !== returnValue &&\n    \"function\" === typeof returnValue.then &&\n    entangleAsyncAction(transition, returnValue);\n  null !== prevOnStartTransitionFinish &&\n    prevOnStartTransitionFinish(transition, returnValue);\n};\nvar resumedCache = createCursor(null);\nfunction peekCacheFromPool() {\n  var cacheResumedFromPreviousRender = resumedCache.current;\n  return null !== cacheResumedFromPreviousRender\n    ? cacheResumedFromPreviousRender\n    : workInProgressRoot.pooledCache;\n}\nfunction pushTransition(offscreenWorkInProgress, prevCachePool) {\n  null === prevCachePool\n    ? push(resumedCache, resumedCache.current)\n    : push(resumedCache, prevCachePool.pool);\n}\nfunction getSuspendedCache() {\n  var cacheFromPool = peekCacheFromPool();\n  return null === cacheFromPool\n    ? null\n    : { parent: CacheContext._currentValue, pool: cacheFromPool };\n}\nvar SuspenseException = Error(formatProdErrorMessage(460)),\n  SuspenseyCommitException = Error(formatProdErrorMessage(474)),\n  SuspenseActionException = Error(formatProdErrorMessage(542)),\n  noopSuspenseyCommitThenable = { then: function () {} };\nfunction isThenableResolved(thenable) {\n  thenable = thenable.status;\n  return \"fulfilled\" === thenable || \"rejected\" === thenable;\n}\nfunction trackUsedThenable(thenableState, thenable, index) {\n  index = thenableState[index];\n  void 0 === index\n    ? thenableState.push(thenable)\n    : index !== thenable && (thenable.then(noop$1, noop$1), (thenable = index));\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw (\n        ((thenableState = thenable.reason),\n        checkIfUseWrappedInAsyncCatch(thenableState),\n        thenableState)\n      );\n    default:\n      if (\"string\" === typeof thenable.status) thenable.then(noop$1, noop$1);\n      else {\n        thenableState = workInProgressRoot;\n        if (null !== thenableState && 100 < thenableState.shellSuspendCounter)\n          throw Error(formatProdErrorMessage(482));\n        thenableState = thenable;\n        thenableState.status = \"pending\";\n        thenableState.then(\n          function (fulfilledValue) {\n            if (\"pending\" === thenable.status) {\n              var fulfilledThenable = thenable;\n              fulfilledThenable.status = \"fulfilled\";\n              fulfilledThenable.value = fulfilledValue;\n            }\n          },\n          function (error) {\n            if (\"pending\" === thenable.status) {\n              var rejectedThenable = thenable;\n              rejectedThenable.status = \"rejected\";\n              rejectedThenable.reason = error;\n            }\n          }\n        );\n      }\n      switch (thenable.status) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw (\n            ((thenableState = thenable.reason),\n            checkIfUseWrappedInAsyncCatch(thenableState),\n            thenableState)\n          );\n      }\n      suspendedThenable = thenable;\n      throw SuspenseException;\n  }\n}\nfunction resolveLazy(lazyType) {\n  try {\n    var init = lazyType._init;\n    return init(lazyType._payload);\n  } catch (x) {\n    if (null !== x && \"object\" === typeof x && \"function\" === typeof x.then)\n      throw ((suspendedThenable = x), SuspenseException);\n    throw x;\n  }\n}\nvar suspendedThenable = null;\nfunction getSuspendedThenable() {\n  if (null === suspendedThenable) throw Error(formatProdErrorMessage(459));\n  var thenable = suspendedThenable;\n  suspendedThenable = null;\n  return thenable;\n}\nfunction checkIfUseWrappedInAsyncCatch(rejectedReason) {\n  if (\n    rejectedReason === SuspenseException ||\n    rejectedReason === SuspenseActionException\n  )\n    throw Error(formatProdErrorMessage(483));\n}\nvar thenableState$1 = null,\n  thenableIndexCounter$1 = 0;\nfunction unwrapThenable(thenable) {\n  var index = thenableIndexCounter$1;\n  thenableIndexCounter$1 += 1;\n  null === thenableState$1 && (thenableState$1 = []);\n  return trackUsedThenable(thenableState$1, thenable, index);\n}\nfunction coerceRef(workInProgress, element) {\n  element = element.props.ref;\n  workInProgress.ref = void 0 !== element ? element : null;\n}\nfunction throwOnInvalidObjectTypeImpl(returnFiber, newChild) {\n  if (newChild.$$typeof === REACT_LEGACY_ELEMENT_TYPE)\n    throw Error(formatProdErrorMessage(525));\n  returnFiber = Object.prototype.toString.call(newChild);\n  throw Error(\n    formatProdErrorMessage(\n      31,\n      \"[object Object]\" === returnFiber\n        ? \"object with keys {\" + Object.keys(newChild).join(\", \") + \"}\"\n        : returnFiber\n    )\n  );\n}\nfunction createChildReconciler(shouldTrackSideEffects) {\n  function deleteChild(returnFiber, childToDelete) {\n    if (shouldTrackSideEffects) {\n      var deletions = returnFiber.deletions;\n      null === deletions\n        ? ((returnFiber.deletions = [childToDelete]), (returnFiber.flags |= 16))\n        : deletions.push(childToDelete);\n    }\n  }\n  function deleteRemainingChildren(returnFiber, currentFirstChild) {\n    if (!shouldTrackSideEffects) return null;\n    for (; null !== currentFirstChild; )\n      deleteChild(returnFiber, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return null;\n  }\n  function mapRemainingChildren(currentFirstChild) {\n    for (var existingChildren = new Map(); null !== currentFirstChild; )\n      null !== currentFirstChild.key\n        ? existingChildren.set(currentFirstChild.key, currentFirstChild)\n        : existingChildren.set(currentFirstChild.index, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return existingChildren;\n  }\n  function useFiber(fiber, pendingProps) {\n    fiber = createWorkInProgress(fiber, pendingProps);\n    fiber.index = 0;\n    fiber.sibling = null;\n    return fiber;\n  }\n  function placeChild(newFiber, lastPlacedIndex, newIndex) {\n    newFiber.index = newIndex;\n    if (!shouldTrackSideEffects)\n      return (newFiber.flags |= 1048576), lastPlacedIndex;\n    newIndex = newFiber.alternate;\n    if (null !== newIndex)\n      return (\n        (newIndex = newIndex.index),\n        newIndex < lastPlacedIndex\n          ? ((newFiber.flags |= 67108866), lastPlacedIndex)\n          : newIndex\n      );\n    newFiber.flags |= 67108866;\n    return lastPlacedIndex;\n  }\n  function placeSingleChild(newFiber) {\n    shouldTrackSideEffects &&\n      null === newFiber.alternate &&\n      (newFiber.flags |= 67108866);\n    return newFiber;\n  }\n  function updateTextNode(returnFiber, current, textContent, lanes) {\n    if (null === current || 6 !== current.tag)\n      return (\n        (current = createFiberFromText(textContent, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, textContent);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateElement(returnFiber, current, element, lanes) {\n    var elementType = element.type;\n    if (elementType === REACT_FRAGMENT_TYPE)\n      return updateFragment(\n        returnFiber,\n        current,\n        element.props.children,\n        lanes,\n        element.key\n      );\n    if (\n      null !== current &&\n      (current.elementType === elementType ||\n        (\"object\" === typeof elementType &&\n          null !== elementType &&\n          elementType.$$typeof === REACT_LAZY_TYPE &&\n          resolveLazy(elementType) === current.type))\n    )\n      return (\n        (current = useFiber(current, element.props)),\n        coerceRef(current, element),\n        (current.return = returnFiber),\n        current\n      );\n    current = createFiberFromTypeAndProps(\n      element.type,\n      element.key,\n      element.props,\n      null,\n      returnFiber.mode,\n      lanes\n    );\n    coerceRef(current, element);\n    current.return = returnFiber;\n    return current;\n  }\n  function updatePortal(returnFiber, current, portal, lanes) {\n    if (\n      null === current ||\n      4 !== current.tag ||\n      current.stateNode.containerInfo !== portal.containerInfo ||\n      current.stateNode.implementation !== portal.implementation\n    )\n      return (\n        (current = createFiberFromPortal(portal, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, portal.children || []);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateFragment(returnFiber, current, fragment, lanes, key) {\n    if (null === current || 7 !== current.tag)\n      return (\n        (current = createFiberFromFragment(\n          fragment,\n          returnFiber.mode,\n          lanes,\n          key\n        )),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, fragment);\n    current.return = returnFiber;\n    return current;\n  }\n  function createChild(returnFiber, newChild, lanes) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (newChild = createFiberFromText(\n          \"\" + newChild,\n          returnFiber.mode,\n          lanes\n        )),\n        (newChild.return = returnFiber),\n        newChild\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (lanes = createFiberFromTypeAndProps(\n              newChild.type,\n              newChild.key,\n              newChild.props,\n              null,\n              returnFiber.mode,\n              lanes\n            )),\n            coerceRef(lanes, newChild),\n            (lanes.return = returnFiber),\n            lanes\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (newChild = createFiberFromPortal(\n              newChild,\n              returnFiber.mode,\n              lanes\n            )),\n            (newChild.return = returnFiber),\n            newChild\n          );\n        case REACT_LAZY_TYPE:\n          return (\n            (newChild = resolveLazy(newChild)),\n            createChild(returnFiber, newChild, lanes)\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (newChild = createFiberFromFragment(\n            newChild,\n            returnFiber.mode,\n            lanes,\n            null\n          )),\n          (newChild.return = returnFiber),\n          newChild\n        );\n      if (\"function\" === typeof newChild.then)\n        return createChild(returnFiber, unwrapThenable(newChild), lanes);\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return createChild(\n          returnFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectTypeImpl(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateSlot(returnFiber, oldFiber, newChild, lanes) {\n    var key = null !== oldFiber ? oldFiber.key : null;\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return null !== key\n        ? null\n        : updateTextNode(returnFiber, oldFiber, \"\" + newChild, lanes);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return newChild.key === key\n            ? updateElement(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_PORTAL_TYPE:\n          return newChild.key === key\n            ? updatePortal(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_LAZY_TYPE:\n          return (\n            (newChild = resolveLazy(newChild)),\n            updateSlot(returnFiber, oldFiber, newChild, lanes)\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return null !== key\n          ? null\n          : updateFragment(returnFiber, oldFiber, newChild, lanes, null);\n      if (\"function\" === typeof newChild.then)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectTypeImpl(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateFromMap(\n    existingChildren,\n    returnFiber,\n    newIdx,\n    newChild,\n    lanes\n  ) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (existingChildren = existingChildren.get(newIdx) || null),\n        updateTextNode(returnFiber, existingChildren, \"\" + newChild, lanes)\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updateElement(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updatePortal(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_LAZY_TYPE:\n          return (\n            (newChild = resolveLazy(newChild)),\n            updateFromMap(\n              existingChildren,\n              returnFiber,\n              newIdx,\n              newChild,\n              lanes\n            )\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (existingChildren = existingChildren.get(newIdx) || null),\n          updateFragment(returnFiber, existingChildren, newChild, lanes, null)\n        );\n      if (\"function\" === typeof newChild.then)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectTypeImpl(returnFiber, newChild);\n    }\n    return null;\n  }\n  function reconcileChildrenArray(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null;\n      null !== oldFiber && newIdx < newChildren.length;\n      newIdx++\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(\n        returnFiber,\n        oldFiber,\n        newChildren[newIdx],\n        lanes\n      );\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (newIdx === newChildren.length)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; newIdx < newChildren.length; newIdx++)\n        (oldFiber = createChild(returnFiber, newChildren[newIdx], lanes)),\n          null !== oldFiber &&\n            ((currentFirstChild = placeChild(\n              oldFiber,\n              currentFirstChild,\n              newIdx\n            )),\n            null === previousNewFiber\n              ? (resultingFirstChild = oldFiber)\n              : (previousNewFiber.sibling = oldFiber),\n            (previousNewFiber = oldFiber));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      newIdx < newChildren.length;\n      newIdx++\n    )\n      (nextOldFiber = updateFromMap(\n        oldFiber,\n        returnFiber,\n        newIdx,\n        newChildren[newIdx],\n        lanes\n      )),\n        null !== nextOldFiber &&\n          (shouldTrackSideEffects &&\n            null !== nextOldFiber.alternate &&\n            oldFiber.delete(\n              null === nextOldFiber.key ? newIdx : nextOldFiber.key\n            ),\n          (currentFirstChild = placeChild(\n            nextOldFiber,\n            currentFirstChild,\n            newIdx\n          )),\n          null === previousNewFiber\n            ? (resultingFirstChild = nextOldFiber)\n            : (previousNewFiber.sibling = nextOldFiber),\n          (previousNewFiber = nextOldFiber));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildrenIterator(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    if (null == newChildren) throw Error(formatProdErrorMessage(151));\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null,\n        step = newChildren.next();\n      null !== oldFiber && !step.done;\n      newIdx++, step = newChildren.next()\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(returnFiber, oldFiber, step.value, lanes);\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (step.done)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; !step.done; newIdx++, step = newChildren.next())\n        (step = createChild(returnFiber, step.value, lanes)),\n          null !== step &&\n            ((currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n            null === previousNewFiber\n              ? (resultingFirstChild = step)\n              : (previousNewFiber.sibling = step),\n            (previousNewFiber = step));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      !step.done;\n      newIdx++, step = newChildren.next()\n    )\n      (step = updateFromMap(oldFiber, returnFiber, newIdx, step.value, lanes)),\n        null !== step &&\n          (shouldTrackSideEffects &&\n            null !== step.alternate &&\n            oldFiber.delete(null === step.key ? newIdx : step.key),\n          (currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n          null === previousNewFiber\n            ? (resultingFirstChild = step)\n            : (previousNewFiber.sibling = step),\n          (previousNewFiber = step));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildFibersImpl(\n    returnFiber,\n    currentFirstChild,\n    newChild,\n    lanes\n  ) {\n    \"object\" === typeof newChild &&\n      null !== newChild &&\n      newChild.type === REACT_FRAGMENT_TYPE &&\n      null === newChild.key &&\n      (newChild = newChild.props.children);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          a: {\n            for (var key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key) {\n                key = newChild.type;\n                if (key === REACT_FRAGMENT_TYPE) {\n                  if (7 === currentFirstChild.tag) {\n                    deleteRemainingChildren(\n                      returnFiber,\n                      currentFirstChild.sibling\n                    );\n                    lanes = useFiber(\n                      currentFirstChild,\n                      newChild.props.children\n                    );\n                    lanes.return = returnFiber;\n                    returnFiber = lanes;\n                    break a;\n                  }\n                } else if (\n                  currentFirstChild.elementType === key ||\n                  (\"object\" === typeof key &&\n                    null !== key &&\n                    key.$$typeof === REACT_LAZY_TYPE &&\n                    resolveLazy(key) === currentFirstChild.type)\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.props);\n                  coerceRef(lanes, newChild);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                }\n                deleteRemainingChildren(returnFiber, currentFirstChild);\n                break;\n              } else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            newChild.type === REACT_FRAGMENT_TYPE\n              ? ((lanes = createFiberFromFragment(\n                  newChild.props.children,\n                  returnFiber.mode,\n                  lanes,\n                  newChild.key\n                )),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes))\n              : ((lanes = createFiberFromTypeAndProps(\n                  newChild.type,\n                  newChild.key,\n                  newChild.props,\n                  null,\n                  returnFiber.mode,\n                  lanes\n                )),\n                coerceRef(lanes, newChild),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes));\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_PORTAL_TYPE:\n          a: {\n            for (key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key)\n                if (\n                  4 === currentFirstChild.tag &&\n                  currentFirstChild.stateNode.containerInfo ===\n                    newChild.containerInfo &&\n                  currentFirstChild.stateNode.implementation ===\n                    newChild.implementation\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.children || []);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                } else {\n                  deleteRemainingChildren(returnFiber, currentFirstChild);\n                  break;\n                }\n              else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            lanes = createFiberFromPortal(newChild, returnFiber.mode, lanes);\n            lanes.return = returnFiber;\n            returnFiber = lanes;\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_LAZY_TYPE:\n          return (\n            (newChild = resolveLazy(newChild)),\n            reconcileChildFibersImpl(\n              returnFiber,\n              currentFirstChild,\n              newChild,\n              lanes\n            )\n          );\n      }\n      if (isArrayImpl(newChild))\n        return reconcileChildrenArray(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      if (getIteratorFn(newChild)) {\n        key = getIteratorFn(newChild);\n        if (\"function\" !== typeof key) throw Error(formatProdErrorMessage(150));\n        newChild = key.call(newChild);\n        return reconcileChildrenIterator(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      }\n      if (\"function\" === typeof newChild.then)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectTypeImpl(returnFiber, newChild);\n    }\n    return (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n      ? ((newChild = \"\" + newChild),\n        null !== currentFirstChild && 6 === currentFirstChild.tag\n          ? (deleteRemainingChildren(returnFiber, currentFirstChild.sibling),\n            (lanes = useFiber(currentFirstChild, newChild)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes))\n          : (deleteRemainingChildren(returnFiber, currentFirstChild),\n            (lanes = createFiberFromText(newChild, returnFiber.mode, lanes)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes)),\n        placeSingleChild(returnFiber))\n      : deleteRemainingChildren(returnFiber, currentFirstChild);\n  }\n  return function (returnFiber, currentFirstChild, newChild, lanes) {\n    try {\n      thenableIndexCounter$1 = 0;\n      var firstChildFiber = reconcileChildFibersImpl(\n        returnFiber,\n        currentFirstChild,\n        newChild,\n        lanes\n      );\n      thenableState$1 = null;\n      return firstChildFiber;\n    } catch (x) {\n      if (x === SuspenseException || x === SuspenseActionException) throw x;\n      var fiber = createFiberImplClass(29, x, null, returnFiber.mode);\n      fiber.lanes = lanes;\n      fiber.return = returnFiber;\n      return fiber;\n    } finally {\n    }\n  };\n}\nvar reconcileChildFibers = createChildReconciler(!0),\n  mountChildFibers = createChildReconciler(!1),\n  hasForceUpdate = !1;\nfunction initializeUpdateQueue(fiber) {\n  fiber.updateQueue = {\n    baseState: fiber.memoizedState,\n    firstBaseUpdate: null,\n    lastBaseUpdate: null,\n    shared: { pending: null, lanes: 0, hiddenCallbacks: null },\n    callbacks: null\n  };\n}\nfunction cloneUpdateQueue(current, workInProgress) {\n  current = current.updateQueue;\n  workInProgress.updateQueue === current &&\n    (workInProgress.updateQueue = {\n      baseState: current.baseState,\n      firstBaseUpdate: current.firstBaseUpdate,\n      lastBaseUpdate: current.lastBaseUpdate,\n      shared: current.shared,\n      callbacks: null\n    });\n}\nfunction createUpdate(lane) {\n  return { lane: lane, tag: 0, payload: null, callback: null, next: null };\n}\nfunction enqueueUpdate(fiber, update, lane) {\n  var updateQueue = fiber.updateQueue;\n  if (null === updateQueue) return null;\n  updateQueue = updateQueue.shared;\n  if (0 !== (executionContext & 2)) {\n    var pending = updateQueue.pending;\n    null === pending\n      ? (update.next = update)\n      : ((update.next = pending.next), (pending.next = update));\n    updateQueue.pending = update;\n    update = getRootForUpdatedFiber(fiber);\n    markUpdateLaneFromFiberToRoot(fiber, null, lane);\n    return update;\n  }\n  enqueueUpdate$1(fiber, updateQueue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction entangleTransitions(root, fiber, lane) {\n  fiber = fiber.updateQueue;\n  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194048))) {\n    var queueLanes = fiber.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    fiber.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nfunction enqueueCapturedUpdate(workInProgress, capturedUpdate) {\n  var queue = workInProgress.updateQueue,\n    current = workInProgress.alternate;\n  if (\n    null !== current &&\n    ((current = current.updateQueue), queue === current)\n  ) {\n    var newFirst = null,\n      newLast = null;\n    queue = queue.firstBaseUpdate;\n    if (null !== queue) {\n      do {\n        var clone = {\n          lane: queue.lane,\n          tag: queue.tag,\n          payload: queue.payload,\n          callback: null,\n          next: null\n        };\n        null === newLast\n          ? (newFirst = newLast = clone)\n          : (newLast = newLast.next = clone);\n        queue = queue.next;\n      } while (null !== queue);\n      null === newLast\n        ? (newFirst = newLast = capturedUpdate)\n        : (newLast = newLast.next = capturedUpdate);\n    } else newFirst = newLast = capturedUpdate;\n    queue = {\n      baseState: current.baseState,\n      firstBaseUpdate: newFirst,\n      lastBaseUpdate: newLast,\n      shared: current.shared,\n      callbacks: current.callbacks\n    };\n    workInProgress.updateQueue = queue;\n    return;\n  }\n  workInProgress = queue.lastBaseUpdate;\n  null === workInProgress\n    ? (queue.firstBaseUpdate = capturedUpdate)\n    : (workInProgress.next = capturedUpdate);\n  queue.lastBaseUpdate = capturedUpdate;\n}\nvar didReadFromEntangledAsyncAction = !1;\nfunction suspendIfUpdateReadFromEntangledAsyncAction() {\n  if (didReadFromEntangledAsyncAction) {\n    var entangledActionThenable = currentEntangledActionThenable;\n    if (null !== entangledActionThenable) throw entangledActionThenable;\n  }\n}\nfunction processUpdateQueue(\n  workInProgress$jscomp$0,\n  props,\n  instance$jscomp$0,\n  renderLanes\n) {\n  didReadFromEntangledAsyncAction = !1;\n  var queue = workInProgress$jscomp$0.updateQueue;\n  hasForceUpdate = !1;\n  var firstBaseUpdate = queue.firstBaseUpdate,\n    lastBaseUpdate = queue.lastBaseUpdate,\n    pendingQueue = queue.shared.pending;\n  if (null !== pendingQueue) {\n    queue.shared.pending = null;\n    var lastPendingUpdate = pendingQueue,\n      firstPendingUpdate = lastPendingUpdate.next;\n    lastPendingUpdate.next = null;\n    null === lastBaseUpdate\n      ? (firstBaseUpdate = firstPendingUpdate)\n      : (lastBaseUpdate.next = firstPendingUpdate);\n    lastBaseUpdate = lastPendingUpdate;\n    var current = workInProgress$jscomp$0.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      (pendingQueue = current.lastBaseUpdate),\n      pendingQueue !== lastBaseUpdate &&\n        (null === pendingQueue\n          ? (current.firstBaseUpdate = firstPendingUpdate)\n          : (pendingQueue.next = firstPendingUpdate),\n        (current.lastBaseUpdate = lastPendingUpdate)));\n  }\n  if (null !== firstBaseUpdate) {\n    var newState = queue.baseState;\n    lastBaseUpdate = 0;\n    current = firstPendingUpdate = lastPendingUpdate = null;\n    pendingQueue = firstBaseUpdate;\n    do {\n      var updateLane = pendingQueue.lane & -536870913,\n        isHiddenUpdate = updateLane !== pendingQueue.lane;\n      if (\n        isHiddenUpdate\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        0 !== updateLane &&\n          updateLane === currentEntangledLane &&\n          (didReadFromEntangledAsyncAction = !0);\n        null !== current &&\n          (current = current.next =\n            {\n              lane: 0,\n              tag: pendingQueue.tag,\n              payload: pendingQueue.payload,\n              callback: null,\n              next: null\n            });\n        a: {\n          var workInProgress = workInProgress$jscomp$0,\n            update = pendingQueue;\n          updateLane = props;\n          var instance = instance$jscomp$0;\n          switch (update.tag) {\n            case 1:\n              workInProgress = update.payload;\n              if (\"function\" === typeof workInProgress) {\n                newState = workInProgress.call(instance, newState, updateLane);\n                break a;\n              }\n              newState = workInProgress;\n              break a;\n            case 3:\n              workInProgress.flags = (workInProgress.flags & -65537) | 128;\n            case 0:\n              workInProgress = update.payload;\n              updateLane =\n                \"function\" === typeof workInProgress\n                  ? workInProgress.call(instance, newState, updateLane)\n                  : workInProgress;\n              if (null === updateLane || void 0 === updateLane) break a;\n              newState = assign({}, newState, updateLane);\n              break a;\n            case 2:\n              hasForceUpdate = !0;\n          }\n        }\n        updateLane = pendingQueue.callback;\n        null !== updateLane &&\n          ((workInProgress$jscomp$0.flags |= 64),\n          isHiddenUpdate && (workInProgress$jscomp$0.flags |= 8192),\n          (isHiddenUpdate = queue.callbacks),\n          null === isHiddenUpdate\n            ? (queue.callbacks = [updateLane])\n            : isHiddenUpdate.push(updateLane));\n      } else\n        (isHiddenUpdate = {\n          lane: updateLane,\n          tag: pendingQueue.tag,\n          payload: pendingQueue.payload,\n          callback: pendingQueue.callback,\n          next: null\n        }),\n          null === current\n            ? ((firstPendingUpdate = current = isHiddenUpdate),\n              (lastPendingUpdate = newState))\n            : (current = current.next = isHiddenUpdate),\n          (lastBaseUpdate |= updateLane);\n      pendingQueue = pendingQueue.next;\n      if (null === pendingQueue)\n        if (((pendingQueue = queue.shared.pending), null === pendingQueue))\n          break;\n        else\n          (isHiddenUpdate = pendingQueue),\n            (pendingQueue = isHiddenUpdate.next),\n            (isHiddenUpdate.next = null),\n            (queue.lastBaseUpdate = isHiddenUpdate),\n            (queue.shared.pending = null);\n    } while (1);\n    null === current && (lastPendingUpdate = newState);\n    queue.baseState = lastPendingUpdate;\n    queue.firstBaseUpdate = firstPendingUpdate;\n    queue.lastBaseUpdate = current;\n    null === firstBaseUpdate && (queue.shared.lanes = 0);\n    workInProgressRootSkippedLanes |= lastBaseUpdate;\n    workInProgress$jscomp$0.lanes = lastBaseUpdate;\n    workInProgress$jscomp$0.memoizedState = newState;\n  }\n}\nfunction callCallback(callback, context) {\n  if (\"function\" !== typeof callback)\n    throw Error(formatProdErrorMessage(191, callback));\n  callback.call(context);\n}\nfunction commitCallbacks(updateQueue, context) {\n  var callbacks = updateQueue.callbacks;\n  if (null !== callbacks)\n    for (\n      updateQueue.callbacks = null, updateQueue = 0;\n      updateQueue < callbacks.length;\n      updateQueue++\n    )\n      callCallback(callbacks[updateQueue], context);\n}\nvar currentTreeHiddenStackCursor = createCursor(null),\n  prevEntangledRenderLanesCursor = createCursor(0);\nfunction pushHiddenContext(fiber, context) {\n  fiber = entangledRenderLanes;\n  push(prevEntangledRenderLanesCursor, fiber);\n  push(currentTreeHiddenStackCursor, context);\n  entangledRenderLanes = fiber | context.baseLanes;\n}\nfunction reuseHiddenContextOnStack() {\n  push(prevEntangledRenderLanesCursor, entangledRenderLanes);\n  push(currentTreeHiddenStackCursor, currentTreeHiddenStackCursor.current);\n}\nfunction popHiddenContext() {\n  entangledRenderLanes = prevEntangledRenderLanesCursor.current;\n  pop(currentTreeHiddenStackCursor);\n  pop(prevEntangledRenderLanesCursor);\n}\nvar suspenseHandlerStackCursor = createCursor(null),\n  shellBoundary = null;\nfunction pushPrimaryTreeSuspenseHandler(handler) {\n  var current = handler.alternate;\n  push(suspenseStackCursor, suspenseStackCursor.current & 1);\n  push(suspenseHandlerStackCursor, handler);\n  null === shellBoundary &&\n    (null === current || null !== currentTreeHiddenStackCursor.current\n      ? (shellBoundary = handler)\n      : null !== current.memoizedState && (shellBoundary = handler));\n}\nfunction pushDehydratedActivitySuspenseHandler(fiber) {\n  push(suspenseStackCursor, suspenseStackCursor.current);\n  push(suspenseHandlerStackCursor, fiber);\n  null === shellBoundary && (shellBoundary = fiber);\n}\nfunction pushOffscreenSuspenseHandler(fiber) {\n  22 === fiber.tag\n    ? (push(suspenseStackCursor, suspenseStackCursor.current),\n      push(suspenseHandlerStackCursor, fiber),\n      null === shellBoundary && (shellBoundary = fiber))\n    : reuseSuspenseHandlerOnStack(fiber);\n}\nfunction reuseSuspenseHandlerOnStack() {\n  push(suspenseStackCursor, suspenseStackCursor.current);\n  push(suspenseHandlerStackCursor, suspenseHandlerStackCursor.current);\n}\nfunction popSuspenseHandler(fiber) {\n  pop(suspenseHandlerStackCursor);\n  shellBoundary === fiber && (shellBoundary = null);\n  pop(suspenseStackCursor);\n}\nvar suspenseStackCursor = createCursor(0);\nfunction findFirstSuspended(row) {\n  for (var node = row; null !== node; ) {\n    if (13 === node.tag) {\n      var state = node.memoizedState;\n      if (\n        null !== state &&\n        ((state = state.dehydrated),\n        null === state ||\n          isSuspenseInstancePending(state) ||\n          isSuspenseInstanceFallback(state))\n      )\n        return node;\n    } else if (\n      19 === node.tag &&\n      (\"forwards\" === node.memoizedProps.revealOrder ||\n        \"backwards\" === node.memoizedProps.revealOrder ||\n        \"unstable_legacy-backwards\" === node.memoizedProps.revealOrder ||\n        \"together\" === node.memoizedProps.revealOrder)\n    ) {\n      if (0 !== (node.flags & 128)) return node;\n    } else if (null !== node.child) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === row) break;\n    for (; null === node.sibling; ) {\n      if (null === node.return || node.return === row) return null;\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n  return null;\n}\nvar renderLanes = 0,\n  currentlyRenderingFiber = null,\n  currentHook = null,\n  workInProgressHook = null,\n  didScheduleRenderPhaseUpdate = !1,\n  didScheduleRenderPhaseUpdateDuringThisPass = !1,\n  shouldDoubleInvokeUserFnsInHooksDEV = !1,\n  localIdCounter = 0,\n  thenableIndexCounter = 0,\n  thenableState = null,\n  globalClientIdCounter = 0;\nfunction throwInvalidHookError() {\n  throw Error(formatProdErrorMessage(321));\n}\nfunction areHookInputsEqual(nextDeps, prevDeps) {\n  if (null === prevDeps) return !1;\n  for (var i = 0; i < prevDeps.length && i < nextDeps.length; i++)\n    if (!objectIs(nextDeps[i], prevDeps[i])) return !1;\n  return !0;\n}\nfunction renderWithHooks(\n  current,\n  workInProgress,\n  Component,\n  props,\n  secondArg,\n  nextRenderLanes\n) {\n  renderLanes = nextRenderLanes;\n  currentlyRenderingFiber = workInProgress;\n  workInProgress.memoizedState = null;\n  workInProgress.updateQueue = null;\n  workInProgress.lanes = 0;\n  ReactSharedInternals.H =\n    null === current || null === current.memoizedState\n      ? HooksDispatcherOnMount\n      : HooksDispatcherOnUpdate;\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  nextRenderLanes = Component(props, secondArg);\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  didScheduleRenderPhaseUpdateDuringThisPass &&\n    (nextRenderLanes = renderWithHooksAgain(\n      workInProgress,\n      Component,\n      props,\n      secondArg\n    ));\n  finishRenderingHooks(current);\n  return nextRenderLanes;\n}\nfunction finishRenderingHooks(current) {\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  var didRenderTooFewHooks = null !== currentHook && null !== currentHook.next;\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber = null;\n  didScheduleRenderPhaseUpdate = !1;\n  thenableIndexCounter = 0;\n  thenableState = null;\n  if (didRenderTooFewHooks) throw Error(formatProdErrorMessage(300));\n  null === current ||\n    didReceiveUpdate ||\n    ((current = current.dependencies),\n    null !== current &&\n      checkIfContextChanged(current) &&\n      (didReceiveUpdate = !0));\n}\nfunction renderWithHooksAgain(workInProgress, Component, props, secondArg) {\n  currentlyRenderingFiber = workInProgress;\n  var numberOfReRenders = 0;\n  do {\n    didScheduleRenderPhaseUpdateDuringThisPass && (thenableState = null);\n    thenableIndexCounter = 0;\n    didScheduleRenderPhaseUpdateDuringThisPass = !1;\n    if (25 <= numberOfReRenders) throw Error(formatProdErrorMessage(301));\n    numberOfReRenders += 1;\n    workInProgressHook = currentHook = null;\n    if (null != workInProgress.updateQueue) {\n      var children = workInProgress.updateQueue;\n      children.lastEffect = null;\n      children.events = null;\n      children.stores = null;\n      null != children.memoCache && (children.memoCache.index = 0);\n    }\n    ReactSharedInternals.H = HooksDispatcherOnRerender;\n    children = Component(props, secondArg);\n  } while (didScheduleRenderPhaseUpdateDuringThisPass);\n  return children;\n}\nfunction TransitionAwareHostComponent() {\n  var dispatcher = ReactSharedInternals.H,\n    maybeThenable = dispatcher.useState()[0];\n  maybeThenable =\n    \"function\" === typeof maybeThenable.then\n      ? useThenable(maybeThenable)\n      : maybeThenable;\n  dispatcher = dispatcher.useState()[0];\n  (null !== currentHook ? currentHook.memoizedState : null) !== dispatcher &&\n    (currentlyRenderingFiber.flags |= 1024);\n  return maybeThenable;\n}\nfunction checkDidRenderIdHook() {\n  var didRenderIdHook = 0 !== localIdCounter;\n  localIdCounter = 0;\n  return didRenderIdHook;\n}\nfunction bailoutHooks(current, workInProgress, lanes) {\n  workInProgress.updateQueue = current.updateQueue;\n  workInProgress.flags &= -2053;\n  current.lanes &= ~lanes;\n}\nfunction resetHooksOnUnwind(workInProgress) {\n  if (didScheduleRenderPhaseUpdate) {\n    for (\n      workInProgress = workInProgress.memoizedState;\n      null !== workInProgress;\n\n    ) {\n      var queue = workInProgress.queue;\n      null !== queue && (queue.pending = null);\n      workInProgress = workInProgress.next;\n    }\n    didScheduleRenderPhaseUpdate = !1;\n  }\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber = null;\n  didScheduleRenderPhaseUpdateDuringThisPass = !1;\n  thenableIndexCounter = localIdCounter = 0;\n  thenableState = null;\n}\nfunction mountWorkInProgressHook() {\n  var hook = {\n    memoizedState: null,\n    baseState: null,\n    baseQueue: null,\n    queue: null,\n    next: null\n  };\n  null === workInProgressHook\n    ? (currentlyRenderingFiber.memoizedState = workInProgressHook = hook)\n    : (workInProgressHook = workInProgressHook.next = hook);\n  return workInProgressHook;\n}\nfunction updateWorkInProgressHook() {\n  if (null === currentHook) {\n    var nextCurrentHook = currentlyRenderingFiber.alternate;\n    nextCurrentHook =\n      null !== nextCurrentHook ? nextCurrentHook.memoizedState : null;\n  } else nextCurrentHook = currentHook.next;\n  var nextWorkInProgressHook =\n    null === workInProgressHook\n      ? currentlyRenderingFiber.memoizedState\n      : workInProgressHook.next;\n  if (null !== nextWorkInProgressHook)\n    (workInProgressHook = nextWorkInProgressHook),\n      (currentHook = nextCurrentHook);\n  else {\n    if (null === nextCurrentHook) {\n      if (null === currentlyRenderingFiber.alternate)\n        throw Error(formatProdErrorMessage(467));\n      throw Error(formatProdErrorMessage(310));\n    }\n    currentHook = nextCurrentHook;\n    nextCurrentHook = {\n      memoizedState: currentHook.memoizedState,\n      baseState: currentHook.baseState,\n      baseQueue: currentHook.baseQueue,\n      queue: currentHook.queue,\n      next: null\n    };\n    null === workInProgressHook\n      ? (currentlyRenderingFiber.memoizedState = workInProgressHook =\n          nextCurrentHook)\n      : (workInProgressHook = workInProgressHook.next = nextCurrentHook);\n  }\n  return workInProgressHook;\n}\nfunction createFunctionComponentUpdateQueue() {\n  return { lastEffect: null, events: null, stores: null, memoCache: null };\n}\nfunction useThenable(thenable) {\n  var index = thenableIndexCounter;\n  thenableIndexCounter += 1;\n  null === thenableState && (thenableState = []);\n  thenable = trackUsedThenable(thenableState, thenable, index);\n  index = currentlyRenderingFiber;\n  null ===\n    (null === workInProgressHook\n      ? index.memoizedState\n      : workInProgressHook.next) &&\n    ((index = index.alternate),\n    (ReactSharedInternals.H =\n      null === index || null === index.memoizedState\n        ? HooksDispatcherOnMount\n        : HooksDispatcherOnUpdate));\n  return thenable;\n}\nfunction use(usable) {\n  if (null !== usable && \"object\" === typeof usable) {\n    if (\"function\" === typeof usable.then) return useThenable(usable);\n    if (usable.$$typeof === REACT_CONTEXT_TYPE) return readContext(usable);\n  }\n  throw Error(formatProdErrorMessage(438, String(usable)));\n}\nfunction useMemoCache(size) {\n  var memoCache = null,\n    updateQueue = currentlyRenderingFiber.updateQueue;\n  null !== updateQueue && (memoCache = updateQueue.memoCache);\n  if (null == memoCache) {\n    var current = currentlyRenderingFiber.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      null !== current &&\n        ((current = current.memoCache),\n        null != current &&\n          (memoCache = {\n            data: current.data.map(function (array) {\n              return array.slice();\n            }),\n            index: 0\n          })));\n  }\n  null == memoCache && (memoCache = { data: [], index: 0 });\n  null === updateQueue &&\n    ((updateQueue = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber.updateQueue = updateQueue));\n  updateQueue.memoCache = memoCache;\n  updateQueue = memoCache.data[memoCache.index];\n  if (void 0 === updateQueue)\n    for (\n      updateQueue = memoCache.data[memoCache.index] = Array(size), current = 0;\n      current < size;\n      current++\n    )\n      updateQueue[current] = REACT_MEMO_CACHE_SENTINEL;\n  memoCache.index++;\n  return updateQueue;\n}\nfunction basicStateReducer(state, action) {\n  return \"function\" === typeof action ? action(state) : action;\n}\nfunction updateReducer(reducer) {\n  var hook = updateWorkInProgressHook();\n  return updateReducerImpl(hook, currentHook, reducer);\n}\nfunction updateReducerImpl(hook, current, reducer) {\n  var queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var baseQueue = hook.baseQueue,\n    pendingQueue = queue.pending;\n  if (null !== pendingQueue) {\n    if (null !== baseQueue) {\n      var baseFirst = baseQueue.next;\n      baseQueue.next = pendingQueue.next;\n      pendingQueue.next = baseFirst;\n    }\n    current.baseQueue = baseQueue = pendingQueue;\n    queue.pending = null;\n  }\n  pendingQueue = hook.baseState;\n  if (null === baseQueue) hook.memoizedState = pendingQueue;\n  else {\n    current = baseQueue.next;\n    var newBaseQueueFirst = (baseFirst = null),\n      newBaseQueueLast = null,\n      update = current,\n      didReadFromEntangledAsyncAction$60 = !1;\n    do {\n      var updateLane = update.lane & -536870913;\n      if (\n        updateLane !== update.lane\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        var revertLane = update.revertLane;\n        if (0 === revertLane)\n          null !== newBaseQueueLast &&\n            (newBaseQueueLast = newBaseQueueLast.next =\n              {\n                lane: 0,\n                revertLane: 0,\n                gesture: null,\n                action: update.action,\n                hasEagerState: update.hasEagerState,\n                eagerState: update.eagerState,\n                next: null\n              }),\n            updateLane === currentEntangledLane &&\n              (didReadFromEntangledAsyncAction$60 = !0);\n        else if ((renderLanes & revertLane) === revertLane) {\n          update = update.next;\n          revertLane === currentEntangledLane &&\n            (didReadFromEntangledAsyncAction$60 = !0);\n          continue;\n        } else\n          (updateLane = {\n            lane: 0,\n            revertLane: update.revertLane,\n            gesture: null,\n            action: update.action,\n            hasEagerState: update.hasEagerState,\n            eagerState: update.eagerState,\n            next: null\n          }),\n            null === newBaseQueueLast\n              ? ((newBaseQueueFirst = newBaseQueueLast = updateLane),\n                (baseFirst = pendingQueue))\n              : (newBaseQueueLast = newBaseQueueLast.next = updateLane),\n            (currentlyRenderingFiber.lanes |= revertLane),\n            (workInProgressRootSkippedLanes |= revertLane);\n        updateLane = update.action;\n        shouldDoubleInvokeUserFnsInHooksDEV &&\n          reducer(pendingQueue, updateLane);\n        pendingQueue = update.hasEagerState\n          ? update.eagerState\n          : reducer(pendingQueue, updateLane);\n      } else\n        (revertLane = {\n          lane: updateLane,\n          revertLane: update.revertLane,\n          gesture: update.gesture,\n          action: update.action,\n          hasEagerState: update.hasEagerState,\n          eagerState: update.eagerState,\n          next: null\n        }),\n          null === newBaseQueueLast\n            ? ((newBaseQueueFirst = newBaseQueueLast = revertLane),\n              (baseFirst = pendingQueue))\n            : (newBaseQueueLast = newBaseQueueLast.next = revertLane),\n          (currentlyRenderingFiber.lanes |= updateLane),\n          (workInProgressRootSkippedLanes |= updateLane);\n      update = update.next;\n    } while (null !== update && update !== current);\n    null === newBaseQueueLast\n      ? (baseFirst = pendingQueue)\n      : (newBaseQueueLast.next = newBaseQueueFirst);\n    if (\n      !objectIs(pendingQueue, hook.memoizedState) &&\n      ((didReceiveUpdate = !0),\n      didReadFromEntangledAsyncAction$60 &&\n        ((reducer = currentEntangledActionThenable), null !== reducer))\n    )\n      throw reducer;\n    hook.memoizedState = pendingQueue;\n    hook.baseState = baseFirst;\n    hook.baseQueue = newBaseQueueLast;\n    queue.lastRenderedState = pendingQueue;\n  }\n  null === baseQueue && (queue.lanes = 0);\n  return [hook.memoizedState, queue.dispatch];\n}\nfunction rerenderReducer(reducer) {\n  var hook = updateWorkInProgressHook(),\n    queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var dispatch = queue.dispatch,\n    lastRenderPhaseUpdate = queue.pending,\n    newState = hook.memoizedState;\n  if (null !== lastRenderPhaseUpdate) {\n    queue.pending = null;\n    var update = (lastRenderPhaseUpdate = lastRenderPhaseUpdate.next);\n    do (newState = reducer(newState, update.action)), (update = update.next);\n    while (update !== lastRenderPhaseUpdate);\n    objectIs(newState, hook.memoizedState) || (didReceiveUpdate = !0);\n    hook.memoizedState = newState;\n    null === hook.baseQueue && (hook.baseState = newState);\n    queue.lastRenderedState = newState;\n  }\n  return [newState, dispatch];\n}\nfunction updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {\n  var fiber = currentlyRenderingFiber,\n    hook = updateWorkInProgressHook(),\n    isHydrating$jscomp$0 = isHydrating;\n  if (isHydrating$jscomp$0) {\n    if (void 0 === getServerSnapshot) throw Error(formatProdErrorMessage(407));\n    getServerSnapshot = getServerSnapshot();\n  } else getServerSnapshot = getSnapshot();\n  var snapshotChanged = !objectIs(\n    (currentHook || hook).memoizedState,\n    getServerSnapshot\n  );\n  snapshotChanged &&\n    ((hook.memoizedState = getServerSnapshot), (didReceiveUpdate = !0));\n  hook = hook.queue;\n  updateEffect(subscribeToStore.bind(null, fiber, hook, subscribe), [\n    subscribe\n  ]);\n  if (\n    hook.getSnapshot !== getSnapshot ||\n    snapshotChanged ||\n    (null !== workInProgressHook && workInProgressHook.memoizedState.tag & 1)\n  ) {\n    fiber.flags |= 2048;\n    pushSimpleEffect(\n      9,\n      { destroy: void 0 },\n      updateStoreInstance.bind(\n        null,\n        fiber,\n        hook,\n        getServerSnapshot,\n        getSnapshot\n      ),\n      null\n    );\n    if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));\n    isHydrating$jscomp$0 ||\n      0 !== (renderLanes & 127) ||\n      pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n  }\n  return getServerSnapshot;\n}\nfunction pushStoreConsistencyCheck(fiber, getSnapshot, renderedSnapshot) {\n  fiber.flags |= 16384;\n  fiber = { getSnapshot: getSnapshot, value: renderedSnapshot };\n  getSnapshot = currentlyRenderingFiber.updateQueue;\n  null === getSnapshot\n    ? ((getSnapshot = createFunctionComponentUpdateQueue()),\n      (currentlyRenderingFiber.updateQueue = getSnapshot),\n      (getSnapshot.stores = [fiber]))\n    : ((renderedSnapshot = getSnapshot.stores),\n      null === renderedSnapshot\n        ? (getSnapshot.stores = [fiber])\n        : renderedSnapshot.push(fiber));\n}\nfunction updateStoreInstance(fiber, inst, nextSnapshot, getSnapshot) {\n  inst.value = nextSnapshot;\n  inst.getSnapshot = getSnapshot;\n  checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n}\nfunction subscribeToStore(fiber, inst, subscribe) {\n  return subscribe(function () {\n    checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n  });\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction forceStoreRerender(fiber) {\n  var root = enqueueConcurrentRenderForLane(fiber, 2);\n  null !== root && scheduleUpdateOnFiber(root, fiber, 2);\n}\nfunction mountStateImpl(initialState) {\n  var hook = mountWorkInProgressHook();\n  if (\"function\" === typeof initialState) {\n    var initialStateInitializer = initialState;\n    initialState = initialStateInitializer();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        initialStateInitializer();\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n  }\n  hook.memoizedState = hook.baseState = initialState;\n  hook.queue = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: basicStateReducer,\n    lastRenderedState: initialState\n  };\n  return hook;\n}\nfunction updateOptimisticImpl(hook, current, passthrough, reducer) {\n  hook.baseState = passthrough;\n  return updateReducerImpl(\n    hook,\n    currentHook,\n    \"function\" === typeof reducer ? reducer : basicStateReducer\n  );\n}\nfunction dispatchActionState(\n  fiber,\n  actionQueue,\n  setPendingState,\n  setState,\n  payload\n) {\n  if (isRenderPhaseUpdate(fiber)) throw Error(formatProdErrorMessage(485));\n  fiber = actionQueue.action;\n  if (null !== fiber) {\n    var actionNode = {\n      payload: payload,\n      action: fiber,\n      next: null,\n      isTransition: !0,\n      status: \"pending\",\n      value: null,\n      reason: null,\n      listeners: [],\n      then: function (listener) {\n        actionNode.listeners.push(listener);\n      }\n    };\n    null !== ReactSharedInternals.T\n      ? setPendingState(!0)\n      : (actionNode.isTransition = !1);\n    setState(actionNode);\n    setPendingState = actionQueue.pending;\n    null === setPendingState\n      ? ((actionNode.next = actionQueue.pending = actionNode),\n        runActionStateAction(actionQueue, actionNode))\n      : ((actionNode.next = setPendingState.next),\n        (actionQueue.pending = setPendingState.next = actionNode));\n  }\n}\nfunction runActionStateAction(actionQueue, node) {\n  var action = node.action,\n    payload = node.payload,\n    prevState = actionQueue.state;\n  if (node.isTransition) {\n    var prevTransition = ReactSharedInternals.T,\n      currentTransition = {};\n    ReactSharedInternals.T = currentTransition;\n    try {\n      var returnValue = action(prevState, payload),\n        onStartTransitionFinish = ReactSharedInternals.S;\n      null !== onStartTransitionFinish &&\n        onStartTransitionFinish(currentTransition, returnValue);\n      handleActionReturnValue(actionQueue, node, returnValue);\n    } catch (error) {\n      onActionError(actionQueue, node, error);\n    } finally {\n      null !== prevTransition &&\n        null !== currentTransition.types &&\n        (prevTransition.types = currentTransition.types),\n        (ReactSharedInternals.T = prevTransition);\n    }\n  } else\n    try {\n      (prevTransition = action(prevState, payload)),\n        handleActionReturnValue(actionQueue, node, prevTransition);\n    } catch (error$66) {\n      onActionError(actionQueue, node, error$66);\n    }\n}\nfunction handleActionReturnValue(actionQueue, node, returnValue) {\n  null !== returnValue &&\n  \"object\" === typeof returnValue &&\n  \"function\" === typeof returnValue.then\n    ? returnValue.then(\n        function (nextState) {\n          onActionSuccess(actionQueue, node, nextState);\n        },\n        function (error) {\n          return onActionError(actionQueue, node, error);\n        }\n      )\n    : onActionSuccess(actionQueue, node, returnValue);\n}\nfunction onActionSuccess(actionQueue, actionNode, nextState) {\n  actionNode.status = \"fulfilled\";\n  actionNode.value = nextState;\n  notifyActionListeners(actionNode);\n  actionQueue.state = nextState;\n  actionNode = actionQueue.pending;\n  null !== actionNode &&\n    ((nextState = actionNode.next),\n    nextState === actionNode\n      ? (actionQueue.pending = null)\n      : ((nextState = nextState.next),\n        (actionNode.next = nextState),\n        runActionStateAction(actionQueue, nextState)));\n}\nfunction onActionError(actionQueue, actionNode, error) {\n  var last = actionQueue.pending;\n  actionQueue.pending = null;\n  if (null !== last) {\n    last = last.next;\n    do\n      (actionNode.status = \"rejected\"),\n        (actionNode.reason = error),\n        notifyActionListeners(actionNode),\n        (actionNode = actionNode.next);\n    while (actionNode !== last);\n  }\n  actionQueue.action = null;\n}\nfunction notifyActionListeners(actionNode) {\n  actionNode = actionNode.listeners;\n  for (var i = 0; i < actionNode.length; i++) (0, actionNode[i])();\n}\nfunction actionStateReducer(oldState, newState) {\n  return newState;\n}\nfunction mountActionState(action, initialStateProp) {\n  if (isHydrating) {\n    var ssrFormState = workInProgressRoot.formState;\n    if (null !== ssrFormState) {\n      a: {\n        var JSCompiler_inline_result = currentlyRenderingFiber;\n        if (isHydrating) {\n          if (nextHydratableInstance) {\n            b: {\n              var JSCompiler_inline_result$jscomp$0 = nextHydratableInstance;\n              for (\n                var inRootOrSingleton = rootOrSingletonContext;\n                8 !== JSCompiler_inline_result$jscomp$0.nodeType;\n\n              ) {\n                if (!inRootOrSingleton) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n                JSCompiler_inline_result$jscomp$0 = getNextHydratable(\n                  JSCompiler_inline_result$jscomp$0.nextSibling\n                );\n                if (null === JSCompiler_inline_result$jscomp$0) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n              }\n              inRootOrSingleton = JSCompiler_inline_result$jscomp$0.data;\n              JSCompiler_inline_result$jscomp$0 =\n                \"F!\" === inRootOrSingleton || \"F\" === inRootOrSingleton\n                  ? JSCompiler_inline_result$jscomp$0\n                  : null;\n            }\n            if (JSCompiler_inline_result$jscomp$0) {\n              nextHydratableInstance = getNextHydratable(\n                JSCompiler_inline_result$jscomp$0.nextSibling\n              );\n              JSCompiler_inline_result =\n                \"F!\" === JSCompiler_inline_result$jscomp$0.data;\n              break a;\n            }\n          }\n          throwOnHydrationMismatch(JSCompiler_inline_result);\n        }\n        JSCompiler_inline_result = !1;\n      }\n      JSCompiler_inline_result && (initialStateProp = ssrFormState[0]);\n    }\n  }\n  ssrFormState = mountWorkInProgressHook();\n  ssrFormState.memoizedState = ssrFormState.baseState = initialStateProp;\n  JSCompiler_inline_result = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: actionStateReducer,\n    lastRenderedState: initialStateProp\n  };\n  ssrFormState.queue = JSCompiler_inline_result;\n  ssrFormState = dispatchSetState.bind(\n    null,\n    currentlyRenderingFiber,\n    JSCompiler_inline_result\n  );\n  JSCompiler_inline_result.dispatch = ssrFormState;\n  JSCompiler_inline_result = mountStateImpl(!1);\n  inRootOrSingleton = dispatchOptimisticSetState.bind(\n    null,\n    currentlyRenderingFiber,\n    !1,\n    JSCompiler_inline_result.queue\n  );\n  JSCompiler_inline_result = mountWorkInProgressHook();\n  JSCompiler_inline_result$jscomp$0 = {\n    state: initialStateProp,\n    dispatch: null,\n    action: action,\n    pending: null\n  };\n  JSCompiler_inline_result.queue = JSCompiler_inline_result$jscomp$0;\n  ssrFormState = dispatchActionState.bind(\n    null,\n    currentlyRenderingFiber,\n    JSCompiler_inline_result$jscomp$0,\n    inRootOrSingleton,\n    ssrFormState\n  );\n  JSCompiler_inline_result$jscomp$0.dispatch = ssrFormState;\n  JSCompiler_inline_result.memoizedState = action;\n  return [initialStateProp, ssrFormState, !1];\n}\nfunction updateActionState(action) {\n  var stateHook = updateWorkInProgressHook();\n  return updateActionStateImpl(stateHook, currentHook, action);\n}\nfunction updateActionStateImpl(stateHook, currentStateHook, action) {\n  currentStateHook = updateReducerImpl(\n    stateHook,\n    currentStateHook,\n    actionStateReducer\n  )[0];\n  stateHook = updateReducer(basicStateReducer)[0];\n  if (\n    \"object\" === typeof currentStateHook &&\n    null !== currentStateHook &&\n    \"function\" === typeof currentStateHook.then\n  )\n    try {\n      var state = useThenable(currentStateHook);\n    } catch (x) {\n      if (x === SuspenseException) throw SuspenseActionException;\n      throw x;\n    }\n  else state = currentStateHook;\n  currentStateHook = updateWorkInProgressHook();\n  var actionQueue = currentStateHook.queue,\n    dispatch = actionQueue.dispatch;\n  action !== currentStateHook.memoizedState &&\n    ((currentlyRenderingFiber.flags |= 2048),\n    pushSimpleEffect(\n      9,\n      { destroy: void 0 },\n      actionStateActionEffect.bind(null, actionQueue, action),\n      null\n    ));\n  return [state, dispatch, stateHook];\n}\nfunction actionStateActionEffect(actionQueue, action) {\n  actionQueue.action = action;\n}\nfunction rerenderActionState(action) {\n  var stateHook = updateWorkInProgressHook(),\n    currentStateHook = currentHook;\n  if (null !== currentStateHook)\n    return updateActionStateImpl(stateHook, currentStateHook, action);\n  updateWorkInProgressHook();\n  stateHook = stateHook.memoizedState;\n  currentStateHook = updateWorkInProgressHook();\n  var dispatch = currentStateHook.queue.dispatch;\n  currentStateHook.memoizedState = action;\n  return [stateHook, dispatch, !1];\n}\nfunction pushSimpleEffect(tag, inst, create, deps) {\n  tag = { tag: tag, create: create, deps: deps, inst: inst, next: null };\n  inst = currentlyRenderingFiber.updateQueue;\n  null === inst &&\n    ((inst = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber.updateQueue = inst));\n  create = inst.lastEffect;\n  null === create\n    ? (inst.lastEffect = tag.next = tag)\n    : ((deps = create.next),\n      (create.next = tag),\n      (tag.next = deps),\n      (inst.lastEffect = tag));\n  return tag;\n}\nfunction updateRef() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction mountEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = mountWorkInProgressHook();\n  currentlyRenderingFiber.flags |= fiberFlags;\n  hook.memoizedState = pushSimpleEffect(\n    1 | hookFlags,\n    { destroy: void 0 },\n    create,\n    void 0 === deps ? null : deps\n  );\n}\nfunction updateEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var inst = hook.memoizedState.inst;\n  null !== currentHook &&\n  null !== deps &&\n  areHookInputsEqual(deps, currentHook.memoizedState.deps)\n    ? (hook.memoizedState = pushSimpleEffect(hookFlags, inst, create, deps))\n    : ((currentlyRenderingFiber.flags |= fiberFlags),\n      (hook.memoizedState = pushSimpleEffect(\n        1 | hookFlags,\n        inst,\n        create,\n        deps\n      )));\n}\nfunction mountEffect(create, deps) {\n  mountEffectImpl(8390656, 8, create, deps);\n}\nfunction updateEffect(create, deps) {\n  updateEffectImpl(2048, 8, create, deps);\n}\nfunction useEffectEventImpl(payload) {\n  currentlyRenderingFiber.flags |= 4;\n  var componentUpdateQueue = currentlyRenderingFiber.updateQueue;\n  if (null === componentUpdateQueue)\n    (componentUpdateQueue = createFunctionComponentUpdateQueue()),\n      (currentlyRenderingFiber.updateQueue = componentUpdateQueue),\n      (componentUpdateQueue.events = [payload]);\n  else {\n    var events = componentUpdateQueue.events;\n    null === events\n      ? (componentUpdateQueue.events = [payload])\n      : events.push(payload);\n  }\n}\nfunction updateEvent(callback) {\n  var ref = updateWorkInProgressHook().memoizedState;\n  useEffectEventImpl({ ref: ref, nextImpl: callback });\n  return function () {\n    if (0 !== (executionContext & 2)) throw Error(formatProdErrorMessage(440));\n    return ref.impl.apply(void 0, arguments);\n  };\n}\nfunction updateInsertionEffect(create, deps) {\n  return updateEffectImpl(4, 2, create, deps);\n}\nfunction updateLayoutEffect(create, deps) {\n  return updateEffectImpl(4, 4, create, deps);\n}\nfunction imperativeHandleEffect(create, ref) {\n  if (\"function\" === typeof ref) {\n    create = create();\n    var refCleanup = ref(create);\n    return function () {\n      \"function\" === typeof refCleanup ? refCleanup() : ref(null);\n    };\n  }\n  if (null !== ref && void 0 !== ref)\n    return (\n      (create = create()),\n      (ref.current = create),\n      function () {\n        ref.current = null;\n      }\n    );\n}\nfunction updateImperativeHandle(ref, create, deps) {\n  deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n  updateEffectImpl(4, 4, imperativeHandleEffect.bind(null, create, ref), deps);\n}\nfunction mountDebugValue() {}\nfunction updateCallback(callback, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  hook.memoizedState = [callback, deps];\n  return callback;\n}\nfunction updateMemo(nextCreate, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  prevState = nextCreate();\n  if (shouldDoubleInvokeUserFnsInHooksDEV) {\n    setIsStrictModeForDevtools(!0);\n    try {\n      nextCreate();\n    } finally {\n      setIsStrictModeForDevtools(!1);\n    }\n  }\n  hook.memoizedState = [prevState, deps];\n  return prevState;\n}\nfunction mountDeferredValueImpl(hook, value, initialValue) {\n  if (\n    void 0 === initialValue ||\n    (0 !== (renderLanes & 1073741824) &&\n      0 === (workInProgressRootRenderLanes & 261930))\n  )\n    return (hook.memoizedState = value);\n  hook.memoizedState = initialValue;\n  hook = requestDeferredLane();\n  currentlyRenderingFiber.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return initialValue;\n}\nfunction updateDeferredValueImpl(hook, prevValue, value, initialValue) {\n  if (objectIs(value, prevValue)) return value;\n  if (null !== currentTreeHiddenStackCursor.current)\n    return (\n      (hook = mountDeferredValueImpl(hook, value, initialValue)),\n      objectIs(hook, prevValue) || (didReceiveUpdate = !0),\n      hook\n    );\n  if (\n    0 === (renderLanes & 42) ||\n    (0 !== (renderLanes & 1073741824) &&\n      0 === (workInProgressRootRenderLanes & 261930))\n  )\n    return (didReceiveUpdate = !0), (hook.memoizedState = value);\n  hook = requestDeferredLane();\n  currentlyRenderingFiber.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return prevValue;\n}\nfunction startTransition(fiber, queue, pendingState, finishedState, callback) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  ReactDOMSharedInternals.p =\n    0 !== previousPriority && 8 > previousPriority ? previousPriority : 8;\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  dispatchOptimisticSetState(fiber, !1, queue, pendingState);\n  try {\n    var returnValue = callback(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    if (\n      null !== returnValue &&\n      \"object\" === typeof returnValue &&\n      \"function\" === typeof returnValue.then\n    ) {\n      var thenableForFinishedState = chainThenableValue(\n        returnValue,\n        finishedState\n      );\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        thenableForFinishedState,\n        requestUpdateLane(fiber)\n      );\n    } else\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        finishedState,\n        requestUpdateLane(fiber)\n      );\n  } catch (error) {\n    dispatchSetStateInternal(\n      fiber,\n      queue,\n      { then: function () {}, status: \"rejected\", reason: error },\n      requestUpdateLane()\n    );\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      null !== prevTransition &&\n        null !== currentTransition.types &&\n        (prevTransition.types = currentTransition.types),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction noop() {}\nfunction startHostTransition(formFiber, pendingState, action, formData) {\n  if (5 !== formFiber.tag) throw Error(formatProdErrorMessage(476));\n  var queue = ensureFormComponentIsStateful(formFiber).queue;\n  startTransition(\n    formFiber,\n    queue,\n    pendingState,\n    sharedNotPendingObject,\n    null === action\n      ? noop\n      : function () {\n          requestFormReset$1(formFiber);\n          return action(formData);\n        }\n  );\n}\nfunction ensureFormComponentIsStateful(formFiber) {\n  var existingStateHook = formFiber.memoizedState;\n  if (null !== existingStateHook) return existingStateHook;\n  existingStateHook = {\n    memoizedState: sharedNotPendingObject,\n    baseState: sharedNotPendingObject,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: sharedNotPendingObject\n    },\n    next: null\n  };\n  var initialResetState = {};\n  existingStateHook.next = {\n    memoizedState: initialResetState,\n    baseState: initialResetState,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: initialResetState\n    },\n    next: null\n  };\n  formFiber.memoizedState = existingStateHook;\n  formFiber = formFiber.alternate;\n  null !== formFiber && (formFiber.memoizedState = existingStateHook);\n  return existingStateHook;\n}\nfunction requestFormReset$1(formFiber) {\n  var stateHook = ensureFormComponentIsStateful(formFiber);\n  null === stateHook.next && (stateHook = formFiber.alternate.memoizedState);\n  dispatchSetStateInternal(\n    formFiber,\n    stateHook.next.queue,\n    {},\n    requestUpdateLane()\n  );\n}\nfunction useHostTransitionStatus() {\n  return readContext(HostTransitionContext);\n}\nfunction updateId() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction updateRefresh() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction refreshCache(fiber) {\n  for (var provider = fiber.return; null !== provider; ) {\n    switch (provider.tag) {\n      case 24:\n      case 3:\n        var lane = requestUpdateLane();\n        fiber = createUpdate(lane);\n        var root$69 = enqueueUpdate(provider, fiber, lane);\n        null !== root$69 &&\n          (scheduleUpdateOnFiber(root$69, provider, lane),\n          entangleTransitions(root$69, provider, lane));\n        provider = { cache: createCache() };\n        fiber.payload = provider;\n        return;\n    }\n    provider = provider.return;\n  }\n}\nfunction dispatchReducerAction(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  action = {\n    lane: lane,\n    revertLane: 0,\n    gesture: null,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  isRenderPhaseUpdate(fiber)\n    ? enqueueRenderPhaseUpdate(queue, action)\n    : ((action = enqueueConcurrentHookUpdate(fiber, queue, action, lane)),\n      null !== action &&\n        (scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane)));\n}\nfunction dispatchSetState(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  dispatchSetStateInternal(fiber, queue, action, lane);\n}\nfunction dispatchSetStateInternal(fiber, queue, action, lane) {\n  var update = {\n    lane: lane,\n    revertLane: 0,\n    gesture: null,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) enqueueRenderPhaseUpdate(queue, update);\n  else {\n    var alternate = fiber.alternate;\n    if (\n      0 === fiber.lanes &&\n      (null === alternate || 0 === alternate.lanes) &&\n      ((alternate = queue.lastRenderedReducer), null !== alternate)\n    )\n      try {\n        var currentState = queue.lastRenderedState,\n          eagerState = alternate(currentState, action);\n        update.hasEagerState = !0;\n        update.eagerState = eagerState;\n        if (objectIs(eagerState, currentState))\n          return (\n            enqueueUpdate$1(fiber, queue, update, 0),\n            null === workInProgressRoot && finishQueueingConcurrentUpdates(),\n            !1\n          );\n      } catch (error) {\n      } finally {\n      }\n    action = enqueueConcurrentHookUpdate(fiber, queue, update, lane);\n    if (null !== action)\n      return (\n        scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane),\n        !0\n      );\n  }\n  return !1;\n}\nfunction dispatchOptimisticSetState(fiber, throwIfDuringRender, queue, action) {\n  action = {\n    lane: 2,\n    revertLane: requestTransitionLane(),\n    gesture: null,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) {\n    if (throwIfDuringRender) throw Error(formatProdErrorMessage(479));\n  } else\n    (throwIfDuringRender = enqueueConcurrentHookUpdate(\n      fiber,\n      queue,\n      action,\n      2\n    )),\n      null !== throwIfDuringRender &&\n        scheduleUpdateOnFiber(throwIfDuringRender, fiber, 2);\n}\nfunction isRenderPhaseUpdate(fiber) {\n  var alternate = fiber.alternate;\n  return (\n    fiber === currentlyRenderingFiber ||\n    (null !== alternate && alternate === currentlyRenderingFiber)\n  );\n}\nfunction enqueueRenderPhaseUpdate(queue, update) {\n  didScheduleRenderPhaseUpdateDuringThisPass = didScheduleRenderPhaseUpdate =\n    !0;\n  var pending = queue.pending;\n  null === pending\n    ? (update.next = update)\n    : ((update.next = pending.next), (pending.next = update));\n  queue.pending = update;\n}\nfunction entangleTransitionUpdate(root, queue, lane) {\n  if (0 !== (lane & 4194048)) {\n    var queueLanes = queue.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    queue.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nvar ContextOnlyDispatcher = {\n  readContext: readContext,\n  use: use,\n  useCallback: throwInvalidHookError,\n  useContext: throwInvalidHookError,\n  useEffect: throwInvalidHookError,\n  useImperativeHandle: throwInvalidHookError,\n  useLayoutEffect: throwInvalidHookError,\n  useInsertionEffect: throwInvalidHookError,\n  useMemo: throwInvalidHookError,\n  useReducer: throwInvalidHookError,\n  useRef: throwInvalidHookError,\n  useState: throwInvalidHookError,\n  useDebugValue: throwInvalidHookError,\n  useDeferredValue: throwInvalidHookError,\n  useTransition: throwInvalidHookError,\n  useSyncExternalStore: throwInvalidHookError,\n  useId: throwInvalidHookError,\n  useHostTransitionStatus: throwInvalidHookError,\n  useFormState: throwInvalidHookError,\n  useActionState: throwInvalidHookError,\n  useOptimistic: throwInvalidHookError,\n  useMemoCache: throwInvalidHookError,\n  useCacheRefresh: throwInvalidHookError\n};\nContextOnlyDispatcher.useEffectEvent = throwInvalidHookError;\nvar HooksDispatcherOnMount = {\n    readContext: readContext,\n    use: use,\n    useCallback: function (callback, deps) {\n      mountWorkInProgressHook().memoizedState = [\n        callback,\n        void 0 === deps ? null : deps\n      ];\n      return callback;\n    },\n    useContext: readContext,\n    useEffect: mountEffect,\n    useImperativeHandle: function (ref, create, deps) {\n      deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n      mountEffectImpl(\n        4194308,\n        4,\n        imperativeHandleEffect.bind(null, create, ref),\n        deps\n      );\n    },\n    useLayoutEffect: function (create, deps) {\n      return mountEffectImpl(4194308, 4, create, deps);\n    },\n    useInsertionEffect: function (create, deps) {\n      mountEffectImpl(4, 2, create, deps);\n    },\n    useMemo: function (nextCreate, deps) {\n      var hook = mountWorkInProgressHook();\n      deps = void 0 === deps ? null : deps;\n      var nextValue = nextCreate();\n      if (shouldDoubleInvokeUserFnsInHooksDEV) {\n        setIsStrictModeForDevtools(!0);\n        try {\n          nextCreate();\n        } finally {\n          setIsStrictModeForDevtools(!1);\n        }\n      }\n      hook.memoizedState = [nextValue, deps];\n      return nextValue;\n    },\n    useReducer: function (reducer, initialArg, init) {\n      var hook = mountWorkInProgressHook();\n      if (void 0 !== init) {\n        var initialState = init(initialArg);\n        if (shouldDoubleInvokeUserFnsInHooksDEV) {\n          setIsStrictModeForDevtools(!0);\n          try {\n            init(initialArg);\n          } finally {\n            setIsStrictModeForDevtools(!1);\n          }\n        }\n      } else initialState = initialArg;\n      hook.memoizedState = hook.baseState = initialState;\n      reducer = {\n        pending: null,\n        lanes: 0,\n        dispatch: null,\n        lastRenderedReducer: reducer,\n        lastRenderedState: initialState\n      };\n      hook.queue = reducer;\n      reducer = reducer.dispatch = dispatchReducerAction.bind(\n        null,\n        currentlyRenderingFiber,\n        reducer\n      );\n      return [hook.memoizedState, reducer];\n    },\n    useRef: function (initialValue) {\n      var hook = mountWorkInProgressHook();\n      initialValue = { current: initialValue };\n      return (hook.memoizedState = initialValue);\n    },\n    useState: function (initialState) {\n      initialState = mountStateImpl(initialState);\n      var queue = initialState.queue,\n        dispatch = dispatchSetState.bind(null, currentlyRenderingFiber, queue);\n      queue.dispatch = dispatch;\n      return [initialState.memoizedState, dispatch];\n    },\n    useDebugValue: mountDebugValue,\n    useDeferredValue: function (value, initialValue) {\n      var hook = mountWorkInProgressHook();\n      return mountDeferredValueImpl(hook, value, initialValue);\n    },\n    useTransition: function () {\n      var stateHook = mountStateImpl(!1);\n      stateHook = startTransition.bind(\n        null,\n        currentlyRenderingFiber,\n        stateHook.queue,\n        !0,\n        !1\n      );\n      mountWorkInProgressHook().memoizedState = stateHook;\n      return [!1, stateHook];\n    },\n    useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {\n      var fiber = currentlyRenderingFiber,\n        hook = mountWorkInProgressHook();\n      if (isHydrating) {\n        if (void 0 === getServerSnapshot)\n          throw Error(formatProdErrorMessage(407));\n        getServerSnapshot = getServerSnapshot();\n      } else {\n        getServerSnapshot = getSnapshot();\n        if (null === workInProgressRoot)\n          throw Error(formatProdErrorMessage(349));\n        0 !== (workInProgressRootRenderLanes & 127) ||\n          pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n      }\n      hook.memoizedState = getServerSnapshot;\n      var inst = { value: getServerSnapshot, getSnapshot: getSnapshot };\n      hook.queue = inst;\n      mountEffect(subscribeToStore.bind(null, fiber, inst, subscribe), [\n        subscribe\n      ]);\n      fiber.flags |= 2048;\n      pushSimpleEffect(\n        9,\n        { destroy: void 0 },\n        updateStoreInstance.bind(\n          null,\n          fiber,\n          inst,\n          getServerSnapshot,\n          getSnapshot\n        ),\n        null\n      );\n      return getServerSnapshot;\n    },\n    useId: function () {\n      var hook = mountWorkInProgressHook(),\n        identifierPrefix = workInProgressRoot.identifierPrefix;\n      if (isHydrating) {\n        var JSCompiler_inline_result = treeContextOverflow;\n        var idWithLeadingBit = treeContextId;\n        JSCompiler_inline_result =\n          (\n            idWithLeadingBit & ~(1 << (32 - clz32(idWithLeadingBit) - 1))\n          ).toString(32) + JSCompiler_inline_result;\n        identifierPrefix =\n          \"_\" + identifierPrefix + \"R_\" + JSCompiler_inline_result;\n        JSCompiler_inline_result = localIdCounter++;\n        0 < JSCompiler_inline_result &&\n          (identifierPrefix += \"H\" + JSCompiler_inline_result.toString(32));\n        identifierPrefix += \"_\";\n      } else\n        (JSCompiler_inline_result = globalClientIdCounter++),\n          (identifierPrefix =\n            \"_\" +\n            identifierPrefix +\n            \"r_\" +\n            JSCompiler_inline_result.toString(32) +\n            \"_\");\n      return (hook.memoizedState = identifierPrefix);\n    },\n    useHostTransitionStatus: useHostTransitionStatus,\n    useFormState: mountActionState,\n    useActionState: mountActionState,\n    useOptimistic: function (passthrough) {\n      var hook = mountWorkInProgressHook();\n      hook.memoizedState = hook.baseState = passthrough;\n      var queue = {\n        pending: null,\n        lanes: 0,\n        dispatch: null,\n        lastRenderedReducer: null,\n        lastRenderedState: null\n      };\n      hook.queue = queue;\n      hook = dispatchOptimisticSetState.bind(\n        null,\n        currentlyRenderingFiber,\n        !0,\n        queue\n      );\n      queue.dispatch = hook;\n      return [passthrough, hook];\n    },\n    useMemoCache: useMemoCache,\n    useCacheRefresh: function () {\n      return (mountWorkInProgressHook().memoizedState = refreshCache.bind(\n        null,\n        currentlyRenderingFiber\n      ));\n    },\n    useEffectEvent: function (callback) {\n      var hook = mountWorkInProgressHook(),\n        ref = { impl: callback };\n      hook.memoizedState = ref;\n      return function () {\n        if (0 !== (executionContext & 2))\n          throw Error(formatProdErrorMessage(440));\n        return ref.impl.apply(void 0, arguments);\n      };\n    }\n  },\n  HooksDispatcherOnUpdate = {\n    readContext: readContext,\n    use: use,\n    useCallback: updateCallback,\n    useContext: readContext,\n    useEffect: updateEffect,\n    useImperativeHandle: updateImperativeHandle,\n    useInsertionEffect: updateInsertionEffect,\n    useLayoutEffect: updateLayoutEffect,\n    useMemo: updateMemo,\n    useReducer: updateReducer,\n    useRef: updateRef,\n    useState: function () {\n      return updateReducer(basicStateReducer);\n    },\n    useDebugValue: mountDebugValue,\n    useDeferredValue: function (value, initialValue) {\n      var hook = updateWorkInProgressHook();\n      return updateDeferredValueImpl(\n        hook,\n        currentHook.memoizedState,\n        value,\n        initialValue\n      );\n    },\n    useTransition: function () {\n      var booleanOrThenable = updateReducer(basicStateReducer)[0],\n        start = updateWorkInProgressHook().memoizedState;\n      return [\n        \"boolean\" === typeof booleanOrThenable\n          ? booleanOrThenable\n          : useThenable(booleanOrThenable),\n        start\n      ];\n    },\n    useSyncExternalStore: updateSyncExternalStore,\n    useId: updateId,\n    useHostTransitionStatus: useHostTransitionStatus,\n    useFormState: updateActionState,\n    useActionState: updateActionState,\n    useOptimistic: function (passthrough, reducer) {\n      var hook = updateWorkInProgressHook();\n      return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n    },\n    useMemoCache: useMemoCache,\n    useCacheRefresh: updateRefresh\n  };\nHooksDispatcherOnUpdate.useEffectEvent = updateEvent;\nvar HooksDispatcherOnRerender = {\n  readContext: readContext,\n  use: use,\n  useCallback: updateCallback,\n  useContext: readContext,\n  useEffect: updateEffect,\n  useImperativeHandle: updateImperativeHandle,\n  useInsertionEffect: updateInsertionEffect,\n  useLayoutEffect: updateLayoutEffect,\n  useMemo: updateMemo,\n  useReducer: rerenderReducer,\n  useRef: updateRef,\n  useState: function () {\n    return rerenderReducer(basicStateReducer);\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = updateWorkInProgressHook();\n    return null === currentHook\n      ? mountDeferredValueImpl(hook, value, initialValue)\n      : updateDeferredValueImpl(\n          hook,\n          currentHook.memoizedState,\n          value,\n          initialValue\n        );\n  },\n  useTransition: function () {\n    var booleanOrThenable = rerenderReducer(basicStateReducer)[0],\n      start = updateWorkInProgressHook().memoizedState;\n    return [\n      \"boolean\" === typeof booleanOrThenable\n        ? booleanOrThenable\n        : useThenable(booleanOrThenable),\n      start\n    ];\n  },\n  useSyncExternalStore: updateSyncExternalStore,\n  useId: updateId,\n  useHostTransitionStatus: useHostTransitionStatus,\n  useFormState: rerenderActionState,\n  useActionState: rerenderActionState,\n  useOptimistic: function (passthrough, reducer) {\n    var hook = updateWorkInProgressHook();\n    if (null !== currentHook)\n      return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n    hook.baseState = passthrough;\n    return [passthrough, hook.queue.dispatch];\n  },\n  useMemoCache: useMemoCache,\n  useCacheRefresh: updateRefresh\n};\nHooksDispatcherOnRerender.useEffectEvent = updateEvent;\nfunction applyDerivedStateFromProps(\n  workInProgress,\n  ctor,\n  getDerivedStateFromProps,\n  nextProps\n) {\n  ctor = workInProgress.memoizedState;\n  getDerivedStateFromProps = getDerivedStateFromProps(nextProps, ctor);\n  getDerivedStateFromProps =\n    null === getDerivedStateFromProps || void 0 === getDerivedStateFromProps\n      ? ctor\n      : assign({}, ctor, getDerivedStateFromProps);\n  workInProgress.memoizedState = getDerivedStateFromProps;\n  0 === workInProgress.lanes &&\n    (workInProgress.updateQueue.baseState = getDerivedStateFromProps);\n}\nvar classComponentUpdater = {\n  enqueueSetState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueReplaceState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 1;\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueForceUpdate: function (inst, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 2;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    callback = enqueueUpdate(inst, update, lane);\n    null !== callback &&\n      (scheduleUpdateOnFiber(callback, inst, lane),\n      entangleTransitions(callback, inst, lane));\n  }\n};\nfunction checkShouldComponentUpdate(\n  workInProgress,\n  ctor,\n  oldProps,\n  newProps,\n  oldState,\n  newState,\n  nextContext\n) {\n  workInProgress = workInProgress.stateNode;\n  return \"function\" === typeof workInProgress.shouldComponentUpdate\n    ? workInProgress.shouldComponentUpdate(newProps, newState, nextContext)\n    : ctor.prototype && ctor.prototype.isPureReactComponent\n      ? !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n      : !0;\n}\nfunction callComponentWillReceiveProps(\n  workInProgress,\n  instance,\n  newProps,\n  nextContext\n) {\n  workInProgress = instance.state;\n  \"function\" === typeof instance.componentWillReceiveProps &&\n    instance.componentWillReceiveProps(newProps, nextContext);\n  \"function\" === typeof instance.UNSAFE_componentWillReceiveProps &&\n    instance.UNSAFE_componentWillReceiveProps(newProps, nextContext);\n  instance.state !== workInProgress &&\n    classComponentUpdater.enqueueReplaceState(instance, instance.state, null);\n}\nfunction resolveClassComponentProps(Component, baseProps) {\n  var newProps = baseProps;\n  if (\"ref\" in baseProps) {\n    newProps = {};\n    for (var propName in baseProps)\n      \"ref\" !== propName && (newProps[propName] = baseProps[propName]);\n  }\n  if ((Component = Component.defaultProps)) {\n    newProps === baseProps && (newProps = assign({}, newProps));\n    for (var propName$73 in Component)\n      void 0 === newProps[propName$73] &&\n        (newProps[propName$73] = Component[propName$73]);\n  }\n  return newProps;\n}\nfunction defaultOnUncaughtError(error) {\n  reportGlobalError(error);\n}\nfunction defaultOnCaughtError(error) {\n  console.error(error);\n}\nfunction defaultOnRecoverableError(error) {\n  reportGlobalError(error);\n}\nfunction logUncaughtError(root, errorInfo) {\n  try {\n    var onUncaughtError = root.onUncaughtError;\n    onUncaughtError(errorInfo.value, { componentStack: errorInfo.stack });\n  } catch (e$74) {\n    setTimeout(function () {\n      throw e$74;\n    });\n  }\n}\nfunction logCaughtError(root, boundary, errorInfo) {\n  try {\n    var onCaughtError = root.onCaughtError;\n    onCaughtError(errorInfo.value, {\n      componentStack: errorInfo.stack,\n      errorBoundary: 1 === boundary.tag ? boundary.stateNode : null\n    });\n  } catch (e$75) {\n    setTimeout(function () {\n      throw e$75;\n    });\n  }\n}\nfunction createRootErrorUpdate(root, errorInfo, lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  lane.payload = { element: null };\n  lane.callback = function () {\n    logUncaughtError(root, errorInfo);\n  };\n  return lane;\n}\nfunction createClassErrorUpdate(lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  return lane;\n}\nfunction initializeClassErrorUpdate(update, root, fiber, errorInfo) {\n  var getDerivedStateFromError = fiber.type.getDerivedStateFromError;\n  if (\"function\" === typeof getDerivedStateFromError) {\n    var error = errorInfo.value;\n    update.payload = function () {\n      return getDerivedStateFromError(error);\n    };\n    update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n    };\n  }\n  var inst = fiber.stateNode;\n  null !== inst &&\n    \"function\" === typeof inst.componentDidCatch &&\n    (update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n      \"function\" !== typeof getDerivedStateFromError &&\n        (null === legacyErrorBoundariesThatAlreadyFailed\n          ? (legacyErrorBoundariesThatAlreadyFailed = new Set([this]))\n          : legacyErrorBoundariesThatAlreadyFailed.add(this));\n      var stack = errorInfo.stack;\n      this.componentDidCatch(errorInfo.value, {\n        componentStack: null !== stack ? stack : \"\"\n      });\n    });\n}\nfunction throwException(\n  root,\n  returnFiber,\n  sourceFiber,\n  value,\n  rootRenderLanes\n) {\n  sourceFiber.flags |= 32768;\n  if (\n    null !== value &&\n    \"object\" === typeof value &&\n    \"function\" === typeof value.then\n  ) {\n    returnFiber = sourceFiber.alternate;\n    null !== returnFiber &&\n      propagateParentContextChanges(\n        returnFiber,\n        sourceFiber,\n        rootRenderLanes,\n        !0\n      );\n    sourceFiber = suspenseHandlerStackCursor.current;\n    if (null !== sourceFiber) {\n      switch (sourceFiber.tag) {\n        case 31:\n        case 13:\n          return (\n            null === shellBoundary\n              ? renderDidSuspendDelayIfPossible()\n              : null === sourceFiber.alternate &&\n                0 === workInProgressRootExitStatus &&\n                (workInProgressRootExitStatus = 3),\n            (sourceFiber.flags &= -257),\n            (sourceFiber.flags |= 65536),\n            (sourceFiber.lanes = rootRenderLanes),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? (sourceFiber.updateQueue = new Set([value]))\n                  : returnFiber.add(value),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n        case 22:\n          return (\n            (sourceFiber.flags |= 65536),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? ((returnFiber = {\n                      transitions: null,\n                      markerInstances: null,\n                      retryQueue: new Set([value])\n                    }),\n                    (sourceFiber.updateQueue = returnFiber))\n                  : ((sourceFiber = returnFiber.retryQueue),\n                    null === sourceFiber\n                      ? (returnFiber.retryQueue = new Set([value]))\n                      : sourceFiber.add(value)),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n      }\n      throw Error(formatProdErrorMessage(435, sourceFiber.tag));\n    }\n    attachPingListener(root, value, rootRenderLanes);\n    renderDidSuspendDelayIfPossible();\n    return !1;\n  }\n  if (isHydrating)\n    return (\n      (returnFiber = suspenseHandlerStackCursor.current),\n      null !== returnFiber\n        ? (0 === (returnFiber.flags & 65536) && (returnFiber.flags |= 256),\n          (returnFiber.flags |= 65536),\n          (returnFiber.lanes = rootRenderLanes),\n          value !== HydrationMismatchException &&\n            ((root = Error(formatProdErrorMessage(422), { cause: value })),\n            queueHydrationError(createCapturedValueAtFiber(root, sourceFiber))))\n        : (value !== HydrationMismatchException &&\n            ((returnFiber = Error(formatProdErrorMessage(423), {\n              cause: value\n            })),\n            queueHydrationError(\n              createCapturedValueAtFiber(returnFiber, sourceFiber)\n            )),\n          (root = root.current.alternate),\n          (root.flags |= 65536),\n          (rootRenderLanes &= -rootRenderLanes),\n          (root.lanes |= rootRenderLanes),\n          (value = createCapturedValueAtFiber(value, sourceFiber)),\n          (rootRenderLanes = createRootErrorUpdate(\n            root.stateNode,\n            value,\n            rootRenderLanes\n          )),\n          enqueueCapturedUpdate(root, rootRenderLanes),\n          4 !== workInProgressRootExitStatus &&\n            (workInProgressRootExitStatus = 2)),\n      !1\n    );\n  var wrapperError = Error(formatProdErrorMessage(520), { cause: value });\n  wrapperError = createCapturedValueAtFiber(wrapperError, sourceFiber);\n  null === workInProgressRootConcurrentErrors\n    ? (workInProgressRootConcurrentErrors = [wrapperError])\n    : workInProgressRootConcurrentErrors.push(wrapperError);\n  4 !== workInProgressRootExitStatus && (workInProgressRootExitStatus = 2);\n  if (null === returnFiber) return !0;\n  value = createCapturedValueAtFiber(value, sourceFiber);\n  sourceFiber = returnFiber;\n  do {\n    switch (sourceFiber.tag) {\n      case 3:\n        return (\n          (sourceFiber.flags |= 65536),\n          (root = rootRenderLanes & -rootRenderLanes),\n          (sourceFiber.lanes |= root),\n          (root = createRootErrorUpdate(sourceFiber.stateNode, value, root)),\n          enqueueCapturedUpdate(sourceFiber, root),\n          !1\n        );\n      case 1:\n        if (\n          ((returnFiber = sourceFiber.type),\n          (wrapperError = sourceFiber.stateNode),\n          0 === (sourceFiber.flags & 128) &&\n            (\"function\" === typeof returnFiber.getDerivedStateFromError ||\n              (null !== wrapperError &&\n                \"function\" === typeof wrapperError.componentDidCatch &&\n                (null === legacyErrorBoundariesThatAlreadyFailed ||\n                  !legacyErrorBoundariesThatAlreadyFailed.has(wrapperError)))))\n        )\n          return (\n            (sourceFiber.flags |= 65536),\n            (rootRenderLanes &= -rootRenderLanes),\n            (sourceFiber.lanes |= rootRenderLanes),\n            (rootRenderLanes = createClassErrorUpdate(rootRenderLanes)),\n            initializeClassErrorUpdate(\n              rootRenderLanes,\n              root,\n              sourceFiber,\n              value\n            ),\n            enqueueCapturedUpdate(sourceFiber, rootRenderLanes),\n            !1\n          );\n    }\n    sourceFiber = sourceFiber.return;\n  } while (null !== sourceFiber);\n  return !1;\n}\nvar SelectiveHydrationException = Error(formatProdErrorMessage(461)),\n  didReceiveUpdate = !1;\nfunction reconcileChildren(current, workInProgress, nextChildren, renderLanes) {\n  workInProgress.child =\n    null === current\n      ? mountChildFibers(workInProgress, null, nextChildren, renderLanes)\n      : reconcileChildFibers(\n          workInProgress,\n          current.child,\n          nextChildren,\n          renderLanes\n        );\n}\nfunction updateForwardRef(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  Component = Component.render;\n  var ref = workInProgress.ref;\n  if (\"ref\" in nextProps) {\n    var propsWithoutRef = {};\n    for (var key in nextProps)\n      \"ref\" !== key && (propsWithoutRef[key] = nextProps[key]);\n  } else propsWithoutRef = nextProps;\n  prepareToReadContext(workInProgress);\n  nextProps = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    propsWithoutRef,\n    ref,\n    renderLanes\n  );\n  key = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && key && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null === current) {\n    var type = Component.type;\n    if (\n      \"function\" === typeof type &&\n      !shouldConstruct(type) &&\n      void 0 === type.defaultProps &&\n      null === Component.compare\n    )\n      return (\n        (workInProgress.tag = 15),\n        (workInProgress.type = type),\n        updateSimpleMemoComponent(\n          current,\n          workInProgress,\n          type,\n          nextProps,\n          renderLanes\n        )\n      );\n    current = createFiberFromTypeAndProps(\n      Component.type,\n      null,\n      nextProps,\n      workInProgress,\n      workInProgress.mode,\n      renderLanes\n    );\n    current.ref = workInProgress.ref;\n    current.return = workInProgress;\n    return (workInProgress.child = current);\n  }\n  type = current.child;\n  if (!checkScheduledUpdateOrContext(current, renderLanes)) {\n    var prevProps = type.memoizedProps;\n    Component = Component.compare;\n    Component = null !== Component ? Component : shallowEqual;\n    if (Component(prevProps, nextProps) && current.ref === workInProgress.ref)\n      return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n  }\n  workInProgress.flags |= 1;\n  current = createWorkInProgress(type, nextProps);\n  current.ref = workInProgress.ref;\n  current.return = workInProgress;\n  return (workInProgress.child = current);\n}\nfunction updateSimpleMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null !== current) {\n    var prevProps = current.memoizedProps;\n    if (\n      shallowEqual(prevProps, nextProps) &&\n      current.ref === workInProgress.ref\n    )\n      if (\n        ((didReceiveUpdate = !1),\n        (workInProgress.pendingProps = nextProps = prevProps),\n        checkScheduledUpdateOrContext(current, renderLanes))\n      )\n        0 !== (current.flags & 131072) && (didReceiveUpdate = !0);\n      else\n        return (\n          (workInProgress.lanes = current.lanes),\n          bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n        );\n  }\n  return updateFunctionComponent(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    renderLanes\n  );\n}\nfunction updateOffscreenComponent(\n  current,\n  workInProgress,\n  renderLanes,\n  nextProps\n) {\n  var nextChildren = nextProps.children,\n    prevState = null !== current ? current.memoizedState : null;\n  null === current &&\n    null === workInProgress.stateNode &&\n    (workInProgress.stateNode = {\n      _visibility: 1,\n      _pendingMarkers: null,\n      _retryCache: null,\n      _transitions: null\n    });\n  if (\"hidden\" === nextProps.mode) {\n    if (0 !== (workInProgress.flags & 128)) {\n      prevState =\n        null !== prevState ? prevState.baseLanes | renderLanes : renderLanes;\n      if (null !== current) {\n        nextProps = workInProgress.child = current.child;\n        for (nextChildren = 0; null !== nextProps; )\n          (nextChildren =\n            nextChildren | nextProps.lanes | nextProps.childLanes),\n            (nextProps = nextProps.sibling);\n        nextProps = nextChildren & ~prevState;\n      } else (nextProps = 0), (workInProgress.child = null);\n      return deferHiddenOffscreenComponent(\n        current,\n        workInProgress,\n        prevState,\n        renderLanes,\n        nextProps\n      );\n    }\n    if (0 !== (renderLanes & 536870912))\n      (workInProgress.memoizedState = { baseLanes: 0, cachePool: null }),\n        null !== current &&\n          pushTransition(\n            workInProgress,\n            null !== prevState ? prevState.cachePool : null\n          ),\n        null !== prevState\n          ? pushHiddenContext(workInProgress, prevState)\n          : reuseHiddenContextOnStack(),\n        pushOffscreenSuspenseHandler(workInProgress);\n    else\n      return (\n        (nextProps = workInProgress.lanes = 536870912),\n        deferHiddenOffscreenComponent(\n          current,\n          workInProgress,\n          null !== prevState ? prevState.baseLanes | renderLanes : renderLanes,\n          renderLanes,\n          nextProps\n        )\n      );\n  } else\n    null !== prevState\n      ? (pushTransition(workInProgress, prevState.cachePool),\n        pushHiddenContext(workInProgress, prevState),\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (workInProgress.memoizedState = null))\n      : (null !== current && pushTransition(workInProgress, null),\n        reuseHiddenContextOnStack(),\n        reuseSuspenseHandlerOnStack(workInProgress));\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nfunction bailoutOffscreenComponent(current, workInProgress) {\n  (null !== current && 22 === current.tag) ||\n    null !== workInProgress.stateNode ||\n    (workInProgress.stateNode = {\n      _visibility: 1,\n      _pendingMarkers: null,\n      _retryCache: null,\n      _transitions: null\n    });\n  return workInProgress.sibling;\n}\nfunction deferHiddenOffscreenComponent(\n  current,\n  workInProgress,\n  nextBaseLanes,\n  renderLanes,\n  remainingChildLanes\n) {\n  var JSCompiler_inline_result = peekCacheFromPool();\n  JSCompiler_inline_result =\n    null === JSCompiler_inline_result\n      ? null\n      : { parent: CacheContext._currentValue, pool: JSCompiler_inline_result };\n  workInProgress.memoizedState = {\n    baseLanes: nextBaseLanes,\n    cachePool: JSCompiler_inline_result\n  };\n  null !== current && pushTransition(workInProgress, null);\n  reuseHiddenContextOnStack();\n  pushOffscreenSuspenseHandler(workInProgress);\n  null !== current &&\n    propagateParentContextChanges(current, workInProgress, renderLanes, !0);\n  workInProgress.childLanes = remainingChildLanes;\n  return null;\n}\nfunction mountActivityChildren(workInProgress, nextProps) {\n  nextProps = mountWorkInProgressOffscreenFiber(\n    { mode: nextProps.mode, children: nextProps.children },\n    workInProgress.mode\n  );\n  nextProps.ref = workInProgress.ref;\n  workInProgress.child = nextProps;\n  nextProps.return = workInProgress;\n  return nextProps;\n}\nfunction retryActivityComponentWithoutHydrating(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  reconcileChildFibers(workInProgress, current.child, null, renderLanes);\n  current = mountActivityChildren(workInProgress, workInProgress.pendingProps);\n  current.flags |= 2;\n  popSuspenseHandler(workInProgress);\n  workInProgress.memoizedState = null;\n  return current;\n}\nfunction updateActivityComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    didSuspend = 0 !== (workInProgress.flags & 128);\n  workInProgress.flags &= -129;\n  if (null === current) {\n    if (isHydrating) {\n      if (\"hidden\" === nextProps.mode)\n        return (\n          (current = mountActivityChildren(workInProgress, nextProps)),\n          (workInProgress.lanes = 536870912),\n          bailoutOffscreenComponent(null, current)\n        );\n      pushDehydratedActivitySuspenseHandler(workInProgress);\n      (current = nextHydratableInstance)\n        ? ((current = canHydrateHydrationBoundary(\n            current,\n            rootOrSingletonContext\n          )),\n          (current = null !== current && \"&\" === current.data ? current : null),\n          null !== current &&\n            ((workInProgress.memoizedState = {\n              dehydrated: current,\n              treeContext:\n                null !== treeContextProvider\n                  ? { id: treeContextId, overflow: treeContextOverflow }\n                  : null,\n              retryLane: 536870912,\n              hydrationErrors: null\n            }),\n            (renderLanes = createFiberFromDehydratedFragment(current)),\n            (renderLanes.return = workInProgress),\n            (workInProgress.child = renderLanes),\n            (hydrationParentFiber = workInProgress),\n            (nextHydratableInstance = null)))\n        : (current = null);\n      if (null === current) throw throwOnHydrationMismatch(workInProgress);\n      workInProgress.lanes = 536870912;\n      return null;\n    }\n    return mountActivityChildren(workInProgress, nextProps);\n  }\n  var prevState = current.memoizedState;\n  if (null !== prevState) {\n    var dehydrated = prevState.dehydrated;\n    pushDehydratedActivitySuspenseHandler(workInProgress);\n    if (didSuspend)\n      if (workInProgress.flags & 256)\n        (workInProgress.flags &= -257),\n          (workInProgress = retryActivityComponentWithoutHydrating(\n            current,\n            workInProgress,\n            renderLanes\n          ));\n      else if (null !== workInProgress.memoizedState)\n        (workInProgress.child = current.child),\n          (workInProgress.flags |= 128),\n          (workInProgress = null);\n      else throw Error(formatProdErrorMessage(558));\n    else if (\n      (didReceiveUpdate ||\n        propagateParentContextChanges(current, workInProgress, renderLanes, !1),\n      (didSuspend = 0 !== (renderLanes & current.childLanes)),\n      didReceiveUpdate || didSuspend)\n    ) {\n      nextProps = workInProgressRoot;\n      if (\n        null !== nextProps &&\n        ((dehydrated = getBumpedLaneForHydration(nextProps, renderLanes)),\n        0 !== dehydrated && dehydrated !== prevState.retryLane)\n      )\n        throw (\n          ((prevState.retryLane = dehydrated),\n          enqueueConcurrentRenderForLane(current, dehydrated),\n          scheduleUpdateOnFiber(nextProps, current, dehydrated),\n          SelectiveHydrationException)\n        );\n      renderDidSuspendDelayIfPossible();\n      workInProgress = retryActivityComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else\n      (current = prevState.treeContext),\n        (nextHydratableInstance = getNextHydratable(dehydrated.nextSibling)),\n        (hydrationParentFiber = workInProgress),\n        (isHydrating = !0),\n        (hydrationErrors = null),\n        (rootOrSingletonContext = !1),\n        null !== current &&\n          restoreSuspendedTreeContext(workInProgress, current),\n        (workInProgress = mountActivityChildren(workInProgress, nextProps)),\n        (workInProgress.flags |= 4096);\n    return workInProgress;\n  }\n  current = createWorkInProgress(current.child, {\n    mode: nextProps.mode,\n    children: nextProps.children\n  });\n  current.ref = workInProgress.ref;\n  workInProgress.child = current;\n  current.return = workInProgress;\n  return current;\n}\nfunction markRef(current, workInProgress) {\n  var ref = workInProgress.ref;\n  if (null === ref)\n    null !== current &&\n      null !== current.ref &&\n      (workInProgress.flags |= 4194816);\n  else {\n    if (\"function\" !== typeof ref && \"object\" !== typeof ref)\n      throw Error(formatProdErrorMessage(284));\n    if (null === current || current.ref !== ref)\n      workInProgress.flags |= 4194816;\n  }\n}\nfunction updateFunctionComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  Component = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    void 0,\n    renderLanes\n  );\n  nextProps = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && nextProps && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, Component, renderLanes);\n  return workInProgress.child;\n}\nfunction replayFunctionComponent(\n  current,\n  workInProgress,\n  nextProps,\n  Component,\n  secondArg,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  workInProgress.updateQueue = null;\n  nextProps = renderWithHooksAgain(\n    workInProgress,\n    Component,\n    nextProps,\n    secondArg\n  );\n  finishRenderingHooks(current);\n  Component = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && Component && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateClassComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  if (null === workInProgress.stateNode) {\n    var context = emptyContextObject,\n      contextType = Component.contextType;\n    \"object\" === typeof contextType &&\n      null !== contextType &&\n      (context = readContext(contextType));\n    context = new Component(nextProps, context);\n    workInProgress.memoizedState =\n      null !== context.state && void 0 !== context.state ? context.state : null;\n    context.updater = classComponentUpdater;\n    workInProgress.stateNode = context;\n    context._reactInternals = workInProgress;\n    context = workInProgress.stateNode;\n    context.props = nextProps;\n    context.state = workInProgress.memoizedState;\n    context.refs = {};\n    initializeUpdateQueue(workInProgress);\n    contextType = Component.contextType;\n    context.context =\n      \"object\" === typeof contextType && null !== contextType\n        ? readContext(contextType)\n        : emptyContextObject;\n    context.state = workInProgress.memoizedState;\n    contextType = Component.getDerivedStateFromProps;\n    \"function\" === typeof contextType &&\n      (applyDerivedStateFromProps(\n        workInProgress,\n        Component,\n        contextType,\n        nextProps\n      ),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof Component.getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate ||\n      (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n        \"function\" !== typeof context.componentWillMount) ||\n      ((contextType = context.state),\n      \"function\" === typeof context.componentWillMount &&\n        context.componentWillMount(),\n      \"function\" === typeof context.UNSAFE_componentWillMount &&\n        context.UNSAFE_componentWillMount(),\n      contextType !== context.state &&\n        classComponentUpdater.enqueueReplaceState(context, context.state, null),\n      processUpdateQueue(workInProgress, nextProps, context, renderLanes),\n      suspendIfUpdateReadFromEntangledAsyncAction(),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof context.componentDidMount &&\n      (workInProgress.flags |= 4194308);\n    nextProps = !0;\n  } else if (null === current) {\n    context = workInProgress.stateNode;\n    var unresolvedOldProps = workInProgress.memoizedProps,\n      oldProps = resolveClassComponentProps(Component, unresolvedOldProps);\n    context.props = oldProps;\n    var oldContext = context.context,\n      contextType$jscomp$0 = Component.contextType;\n    contextType = emptyContextObject;\n    \"object\" === typeof contextType$jscomp$0 &&\n      null !== contextType$jscomp$0 &&\n      (contextType = readContext(contextType$jscomp$0));\n    var getDerivedStateFromProps = Component.getDerivedStateFromProps;\n    contextType$jscomp$0 =\n      \"function\" === typeof getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate;\n    unresolvedOldProps = workInProgress.pendingProps !== unresolvedOldProps;\n    contextType$jscomp$0 ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((unresolvedOldProps || oldContext !== contextType) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          contextType\n        ));\n    hasForceUpdate = !1;\n    var oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    oldContext = workInProgress.memoizedState;\n    unresolvedOldProps || oldState !== oldContext || hasForceUpdate\n      ? (\"function\" === typeof getDerivedStateFromProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            getDerivedStateFromProps,\n            nextProps\n          ),\n          (oldContext = workInProgress.memoizedState)),\n        (oldProps =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            oldProps,\n            nextProps,\n            oldState,\n            oldContext,\n            contextType\n          ))\n          ? (contextType$jscomp$0 ||\n              (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n                \"function\" !== typeof context.componentWillMount) ||\n              (\"function\" === typeof context.componentWillMount &&\n                context.componentWillMount(),\n              \"function\" === typeof context.UNSAFE_componentWillMount &&\n                context.UNSAFE_componentWillMount()),\n            \"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308))\n          : (\"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = oldContext)),\n        (context.props = nextProps),\n        (context.state = oldContext),\n        (context.context = contextType),\n        (nextProps = oldProps))\n      : (\"function\" === typeof context.componentDidMount &&\n          (workInProgress.flags |= 4194308),\n        (nextProps = !1));\n  } else {\n    context = workInProgress.stateNode;\n    cloneUpdateQueue(current, workInProgress);\n    contextType = workInProgress.memoizedProps;\n    contextType$jscomp$0 = resolveClassComponentProps(Component, contextType);\n    context.props = contextType$jscomp$0;\n    getDerivedStateFromProps = workInProgress.pendingProps;\n    oldState = context.context;\n    oldContext = Component.contextType;\n    oldProps = emptyContextObject;\n    \"object\" === typeof oldContext &&\n      null !== oldContext &&\n      (oldProps = readContext(oldContext));\n    unresolvedOldProps = Component.getDerivedStateFromProps;\n    (oldContext =\n      \"function\" === typeof unresolvedOldProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate) ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((contextType !== getDerivedStateFromProps || oldState !== oldProps) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          oldProps\n        ));\n    hasForceUpdate = !1;\n    oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    var newState = workInProgress.memoizedState;\n    contextType !== getDerivedStateFromProps ||\n    oldState !== newState ||\n    hasForceUpdate ||\n    (null !== current &&\n      null !== current.dependencies &&\n      checkIfContextChanged(current.dependencies))\n      ? (\"function\" === typeof unresolvedOldProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            unresolvedOldProps,\n            nextProps\n          ),\n          (newState = workInProgress.memoizedState)),\n        (contextType$jscomp$0 =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            contextType$jscomp$0,\n            nextProps,\n            oldState,\n            newState,\n            oldProps\n          ) ||\n          (null !== current &&\n            null !== current.dependencies &&\n            checkIfContextChanged(current.dependencies)))\n          ? (oldContext ||\n              (\"function\" !== typeof context.UNSAFE_componentWillUpdate &&\n                \"function\" !== typeof context.componentWillUpdate) ||\n              (\"function\" === typeof context.componentWillUpdate &&\n                context.componentWillUpdate(nextProps, newState, oldProps),\n              \"function\" === typeof context.UNSAFE_componentWillUpdate &&\n                context.UNSAFE_componentWillUpdate(\n                  nextProps,\n                  newState,\n                  oldProps\n                )),\n            \"function\" === typeof context.componentDidUpdate &&\n              (workInProgress.flags |= 4),\n            \"function\" === typeof context.getSnapshotBeforeUpdate &&\n              (workInProgress.flags |= 1024))\n          : (\"function\" !== typeof context.componentDidUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 4),\n            \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 1024),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = newState)),\n        (context.props = nextProps),\n        (context.state = newState),\n        (context.context = oldProps),\n        (nextProps = contextType$jscomp$0))\n      : (\"function\" !== typeof context.componentDidUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 4),\n        \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 1024),\n        (nextProps = !1));\n  }\n  context = nextProps;\n  markRef(current, workInProgress);\n  nextProps = 0 !== (workInProgress.flags & 128);\n  context || nextProps\n    ? ((context = workInProgress.stateNode),\n      (Component =\n        nextProps && \"function\" !== typeof Component.getDerivedStateFromError\n          ? null\n          : context.render()),\n      (workInProgress.flags |= 1),\n      null !== current && nextProps\n        ? ((workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            current.child,\n            null,\n            renderLanes\n          )),\n          (workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            null,\n            Component,\n            renderLanes\n          )))\n        : reconcileChildren(current, workInProgress, Component, renderLanes),\n      (workInProgress.memoizedState = context.state),\n      (current = workInProgress.child))\n    : (current = bailoutOnAlreadyFinishedWork(\n        current,\n        workInProgress,\n        renderLanes\n      ));\n  return current;\n}\nfunction mountHostRootWithoutHydrating(\n  current,\n  workInProgress,\n  nextChildren,\n  renderLanes\n) {\n  resetHydrationState();\n  workInProgress.flags |= 256;\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nvar SUSPENDED_MARKER = {\n  dehydrated: null,\n  treeContext: null,\n  retryLane: 0,\n  hydrationErrors: null\n};\nfunction mountSuspenseOffscreenState(renderLanes) {\n  return { baseLanes: renderLanes, cachePool: getSuspendedCache() };\n}\nfunction getRemainingWorkInPrimaryTree(\n  current,\n  primaryTreeDidDefer,\n  renderLanes\n) {\n  current = null !== current ? current.childLanes & ~renderLanes : 0;\n  primaryTreeDidDefer && (current |= workInProgressDeferredLane);\n  return current;\n}\nfunction updateSuspenseComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    showFallback = !1,\n    didSuspend = 0 !== (workInProgress.flags & 128),\n    JSCompiler_temp;\n  (JSCompiler_temp = didSuspend) ||\n    (JSCompiler_temp =\n      null !== current && null === current.memoizedState\n        ? !1\n        : 0 !== (suspenseStackCursor.current & 2));\n  JSCompiler_temp && ((showFallback = !0), (workInProgress.flags &= -129));\n  JSCompiler_temp = 0 !== (workInProgress.flags & 32);\n  workInProgress.flags &= -33;\n  if (null === current) {\n    if (isHydrating) {\n      showFallback\n        ? pushPrimaryTreeSuspenseHandler(workInProgress)\n        : reuseSuspenseHandlerOnStack(workInProgress);\n      (current = nextHydratableInstance)\n        ? ((current = canHydrateHydrationBoundary(\n            current,\n            rootOrSingletonContext\n          )),\n          (current = null !== current && \"&\" !== current.data ? current : null),\n          null !== current &&\n            ((workInProgress.memoizedState = {\n              dehydrated: current,\n              treeContext:\n                null !== treeContextProvider\n                  ? { id: treeContextId, overflow: treeContextOverflow }\n                  : null,\n              retryLane: 536870912,\n              hydrationErrors: null\n            }),\n            (renderLanes = createFiberFromDehydratedFragment(current)),\n            (renderLanes.return = workInProgress),\n            (workInProgress.child = renderLanes),\n            (hydrationParentFiber = workInProgress),\n            (nextHydratableInstance = null)))\n        : (current = null);\n      if (null === current) throw throwOnHydrationMismatch(workInProgress);\n      isSuspenseInstanceFallback(current)\n        ? (workInProgress.lanes = 32)\n        : (workInProgress.lanes = 536870912);\n      return null;\n    }\n    var nextPrimaryChildren = nextProps.children;\n    nextProps = nextProps.fallback;\n    if (showFallback)\n      return (\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (showFallback = workInProgress.mode),\n        (nextPrimaryChildren = mountWorkInProgressOffscreenFiber(\n          { mode: \"hidden\", children: nextPrimaryChildren },\n          showFallback\n        )),\n        (nextProps = createFiberFromFragment(\n          nextProps,\n          showFallback,\n          renderLanes,\n          null\n        )),\n        (nextPrimaryChildren.return = workInProgress),\n        (nextProps.return = workInProgress),\n        (nextPrimaryChildren.sibling = nextProps),\n        (workInProgress.child = nextPrimaryChildren),\n        (nextProps = workInProgress.child),\n        (nextProps.memoizedState = mountSuspenseOffscreenState(renderLanes)),\n        (nextProps.childLanes = getRemainingWorkInPrimaryTree(\n          current,\n          JSCompiler_temp,\n          renderLanes\n        )),\n        (workInProgress.memoizedState = SUSPENDED_MARKER),\n        bailoutOffscreenComponent(null, nextProps)\n      );\n    pushPrimaryTreeSuspenseHandler(workInProgress);\n    return mountSuspensePrimaryChildren(workInProgress, nextPrimaryChildren);\n  }\n  var prevState = current.memoizedState;\n  if (\n    null !== prevState &&\n    ((nextPrimaryChildren = prevState.dehydrated), null !== nextPrimaryChildren)\n  ) {\n    if (didSuspend)\n      workInProgress.flags & 256\n        ? (pushPrimaryTreeSuspenseHandler(workInProgress),\n          (workInProgress.flags &= -257),\n          (workInProgress = retrySuspenseComponentWithoutHydrating(\n            current,\n            workInProgress,\n            renderLanes\n          )))\n        : null !== workInProgress.memoizedState\n          ? (reuseSuspenseHandlerOnStack(workInProgress),\n            (workInProgress.child = current.child),\n            (workInProgress.flags |= 128),\n            (workInProgress = null))\n          : (reuseSuspenseHandlerOnStack(workInProgress),\n            (nextPrimaryChildren = nextProps.fallback),\n            (showFallback = workInProgress.mode),\n            (nextProps = mountWorkInProgressOffscreenFiber(\n              { mode: \"visible\", children: nextProps.children },\n              showFallback\n            )),\n            (nextPrimaryChildren = createFiberFromFragment(\n              nextPrimaryChildren,\n              showFallback,\n              renderLanes,\n              null\n            )),\n            (nextPrimaryChildren.flags |= 2),\n            (nextProps.return = workInProgress),\n            (nextPrimaryChildren.return = workInProgress),\n            (nextProps.sibling = nextPrimaryChildren),\n            (workInProgress.child = nextProps),\n            reconcileChildFibers(\n              workInProgress,\n              current.child,\n              null,\n              renderLanes\n            ),\n            (nextProps = workInProgress.child),\n            (nextProps.memoizedState =\n              mountSuspenseOffscreenState(renderLanes)),\n            (nextProps.childLanes = getRemainingWorkInPrimaryTree(\n              current,\n              JSCompiler_temp,\n              renderLanes\n            )),\n            (workInProgress.memoizedState = SUSPENDED_MARKER),\n            (workInProgress = bailoutOffscreenComponent(null, nextProps)));\n    else if (\n      (pushPrimaryTreeSuspenseHandler(workInProgress),\n      isSuspenseInstanceFallback(nextPrimaryChildren))\n    ) {\n      JSCompiler_temp =\n        nextPrimaryChildren.nextSibling &&\n        nextPrimaryChildren.nextSibling.dataset;\n      if (JSCompiler_temp) var digest = JSCompiler_temp.dgst;\n      JSCompiler_temp = digest;\n      nextProps = Error(formatProdErrorMessage(419));\n      nextProps.stack = \"\";\n      nextProps.digest = JSCompiler_temp;\n      queueHydrationError({ value: nextProps, source: null, stack: null });\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else if (\n      (didReceiveUpdate ||\n        propagateParentContextChanges(current, workInProgress, renderLanes, !1),\n      (JSCompiler_temp = 0 !== (renderLanes & current.childLanes)),\n      didReceiveUpdate || JSCompiler_temp)\n    ) {\n      JSCompiler_temp = workInProgressRoot;\n      if (\n        null !== JSCompiler_temp &&\n        ((nextProps = getBumpedLaneForHydration(JSCompiler_temp, renderLanes)),\n        0 !== nextProps && nextProps !== prevState.retryLane)\n      )\n        throw (\n          ((prevState.retryLane = nextProps),\n          enqueueConcurrentRenderForLane(current, nextProps),\n          scheduleUpdateOnFiber(JSCompiler_temp, current, nextProps),\n          SelectiveHydrationException)\n        );\n      isSuspenseInstancePending(nextPrimaryChildren) ||\n        renderDidSuspendDelayIfPossible();\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else\n      isSuspenseInstancePending(nextPrimaryChildren)\n        ? ((workInProgress.flags |= 192),\n          (workInProgress.child = current.child),\n          (workInProgress = null))\n        : ((current = prevState.treeContext),\n          (nextHydratableInstance = getNextHydratable(\n            nextPrimaryChildren.nextSibling\n          )),\n          (hydrationParentFiber = workInProgress),\n          (isHydrating = !0),\n          (hydrationErrors = null),\n          (rootOrSingletonContext = !1),\n          null !== current &&\n            restoreSuspendedTreeContext(workInProgress, current),\n          (workInProgress = mountSuspensePrimaryChildren(\n            workInProgress,\n            nextProps.children\n          )),\n          (workInProgress.flags |= 4096));\n    return workInProgress;\n  }\n  if (showFallback)\n    return (\n      reuseSuspenseHandlerOnStack(workInProgress),\n      (nextPrimaryChildren = nextProps.fallback),\n      (showFallback = workInProgress.mode),\n      (prevState = current.child),\n      (digest = prevState.sibling),\n      (nextProps = createWorkInProgress(prevState, {\n        mode: \"hidden\",\n        children: nextProps.children\n      })),\n      (nextProps.subtreeFlags = prevState.subtreeFlags & 65011712),\n      null !== digest\n        ? (nextPrimaryChildren = createWorkInProgress(\n            digest,\n            nextPrimaryChildren\n          ))\n        : ((nextPrimaryChildren = createFiberFromFragment(\n            nextPrimaryChildren,\n            showFallback,\n            renderLanes,\n            null\n          )),\n          (nextPrimaryChildren.flags |= 2)),\n      (nextPrimaryChildren.return = workInProgress),\n      (nextProps.return = workInProgress),\n      (nextProps.sibling = nextPrimaryChildren),\n      (workInProgress.child = nextProps),\n      bailoutOffscreenComponent(null, nextProps),\n      (nextProps = workInProgress.child),\n      (nextPrimaryChildren = current.child.memoizedState),\n      null === nextPrimaryChildren\n        ? (nextPrimaryChildren = mountSuspenseOffscreenState(renderLanes))\n        : ((showFallback = nextPrimaryChildren.cachePool),\n          null !== showFallback\n            ? ((prevState = CacheContext._currentValue),\n              (showFallback =\n                showFallback.parent !== prevState\n                  ? { parent: prevState, pool: prevState }\n                  : showFallback))\n            : (showFallback = getSuspendedCache()),\n          (nextPrimaryChildren = {\n            baseLanes: nextPrimaryChildren.baseLanes | renderLanes,\n            cachePool: showFallback\n          })),\n      (nextProps.memoizedState = nextPrimaryChildren),\n      (nextProps.childLanes = getRemainingWorkInPrimaryTree(\n        current,\n        JSCompiler_temp,\n        renderLanes\n      )),\n      (workInProgress.memoizedState = SUSPENDED_MARKER),\n      bailoutOffscreenComponent(current.child, nextProps)\n    );\n  pushPrimaryTreeSuspenseHandler(workInProgress);\n  renderLanes = current.child;\n  current = renderLanes.sibling;\n  renderLanes = createWorkInProgress(renderLanes, {\n    mode: \"visible\",\n    children: nextProps.children\n  });\n  renderLanes.return = workInProgress;\n  renderLanes.sibling = null;\n  null !== current &&\n    ((JSCompiler_temp = workInProgress.deletions),\n    null === JSCompiler_temp\n      ? ((workInProgress.deletions = [current]), (workInProgress.flags |= 16))\n      : JSCompiler_temp.push(current));\n  workInProgress.child = renderLanes;\n  workInProgress.memoizedState = null;\n  return renderLanes;\n}\nfunction mountSuspensePrimaryChildren(workInProgress, primaryChildren) {\n  primaryChildren = mountWorkInProgressOffscreenFiber(\n    { mode: \"visible\", children: primaryChildren },\n    workInProgress.mode\n  );\n  primaryChildren.return = workInProgress;\n  return (workInProgress.child = primaryChildren);\n}\nfunction mountWorkInProgressOffscreenFiber(offscreenProps, mode) {\n  offscreenProps = createFiberImplClass(22, offscreenProps, null, mode);\n  offscreenProps.lanes = 0;\n  return offscreenProps;\n}\nfunction retrySuspenseComponentWithoutHydrating(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  reconcileChildFibers(workInProgress, current.child, null, renderLanes);\n  current = mountSuspensePrimaryChildren(\n    workInProgress,\n    workInProgress.pendingProps.children\n  );\n  current.flags |= 2;\n  workInProgress.memoizedState = null;\n  return current;\n}\nfunction scheduleSuspenseWorkOnFiber(fiber, renderLanes, propagationRoot) {\n  fiber.lanes |= renderLanes;\n  var alternate = fiber.alternate;\n  null !== alternate && (alternate.lanes |= renderLanes);\n  scheduleContextWorkOnParentPath(fiber.return, renderLanes, propagationRoot);\n}\nfunction initSuspenseListRenderState(\n  workInProgress,\n  isBackwards,\n  tail,\n  lastContentRow,\n  tailMode,\n  treeForkCount\n) {\n  var renderState = workInProgress.memoizedState;\n  null === renderState\n    ? (workInProgress.memoizedState = {\n        isBackwards: isBackwards,\n        rendering: null,\n        renderingStartTime: 0,\n        last: lastContentRow,\n        tail: tail,\n        tailMode: tailMode,\n        treeForkCount: treeForkCount\n      })\n    : ((renderState.isBackwards = isBackwards),\n      (renderState.rendering = null),\n      (renderState.renderingStartTime = 0),\n      (renderState.last = lastContentRow),\n      (renderState.tail = tail),\n      (renderState.tailMode = tailMode),\n      (renderState.treeForkCount = treeForkCount));\n}\nfunction updateSuspenseListComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    revealOrder = nextProps.revealOrder,\n    tailMode = nextProps.tail;\n  nextProps = nextProps.children;\n  var suspenseContext = suspenseStackCursor.current,\n    shouldForceFallback = 0 !== (suspenseContext & 2);\n  shouldForceFallback\n    ? ((suspenseContext = (suspenseContext & 1) | 2),\n      (workInProgress.flags |= 128))\n    : (suspenseContext &= 1);\n  push(suspenseStackCursor, suspenseContext);\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  nextProps = isHydrating ? treeForkCount : 0;\n  if (!shouldForceFallback && null !== current && 0 !== (current.flags & 128))\n    a: for (current = workInProgress.child; null !== current; ) {\n      if (13 === current.tag)\n        null !== current.memoizedState &&\n          scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n      else if (19 === current.tag)\n        scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n      else if (null !== current.child) {\n        current.child.return = current;\n        current = current.child;\n        continue;\n      }\n      if (current === workInProgress) break a;\n      for (; null === current.sibling; ) {\n        if (null === current.return || current.return === workInProgress)\n          break a;\n        current = current.return;\n      }\n      current.sibling.return = current.return;\n      current = current.sibling;\n    }\n  switch (revealOrder) {\n    case \"forwards\":\n      renderLanes = workInProgress.child;\n      for (revealOrder = null; null !== renderLanes; )\n        (current = renderLanes.alternate),\n          null !== current &&\n            null === findFirstSuspended(current) &&\n            (revealOrder = renderLanes),\n          (renderLanes = renderLanes.sibling);\n      renderLanes = revealOrder;\n      null === renderLanes\n        ? ((revealOrder = workInProgress.child), (workInProgress.child = null))\n        : ((revealOrder = renderLanes.sibling), (renderLanes.sibling = null));\n      initSuspenseListRenderState(\n        workInProgress,\n        !1,\n        revealOrder,\n        renderLanes,\n        tailMode,\n        nextProps\n      );\n      break;\n    case \"backwards\":\n    case \"unstable_legacy-backwards\":\n      renderLanes = null;\n      revealOrder = workInProgress.child;\n      for (workInProgress.child = null; null !== revealOrder; ) {\n        current = revealOrder.alternate;\n        if (null !== current && null === findFirstSuspended(current)) {\n          workInProgress.child = revealOrder;\n          break;\n        }\n        current = revealOrder.sibling;\n        revealOrder.sibling = renderLanes;\n        renderLanes = revealOrder;\n        revealOrder = current;\n      }\n      initSuspenseListRenderState(\n        workInProgress,\n        !0,\n        renderLanes,\n        null,\n        tailMode,\n        nextProps\n      );\n      break;\n    case \"together\":\n      initSuspenseListRenderState(\n        workInProgress,\n        !1,\n        null,\n        null,\n        void 0,\n        nextProps\n      );\n      break;\n    default:\n      workInProgress.memoizedState = null;\n  }\n  return workInProgress.child;\n}\nfunction bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes) {\n  null !== current && (workInProgress.dependencies = current.dependencies);\n  workInProgressRootSkippedLanes |= workInProgress.lanes;\n  if (0 === (renderLanes & workInProgress.childLanes))\n    if (null !== current) {\n      if (\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        0 === (renderLanes & workInProgress.childLanes))\n      )\n        return null;\n    } else return null;\n  if (null !== current && workInProgress.child !== current.child)\n    throw Error(formatProdErrorMessage(153));\n  if (null !== workInProgress.child) {\n    current = workInProgress.child;\n    renderLanes = createWorkInProgress(current, current.pendingProps);\n    workInProgress.child = renderLanes;\n    for (renderLanes.return = workInProgress; null !== current.sibling; )\n      (current = current.sibling),\n        (renderLanes = renderLanes.sibling =\n          createWorkInProgress(current, current.pendingProps)),\n        (renderLanes.return = workInProgress);\n    renderLanes.sibling = null;\n  }\n  return workInProgress.child;\n}\nfunction checkScheduledUpdateOrContext(current, renderLanes) {\n  if (0 !== (current.lanes & renderLanes)) return !0;\n  current = current.dependencies;\n  return null !== current && checkIfContextChanged(current) ? !0 : !1;\n}\nfunction attemptEarlyBailoutIfNoScheduledUpdate(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  switch (workInProgress.tag) {\n    case 3:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n      resetHydrationState();\n      break;\n    case 27:\n    case 5:\n      pushHostContext(workInProgress);\n      break;\n    case 4:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      break;\n    case 10:\n      pushProvider(\n        workInProgress,\n        workInProgress.type,\n        workInProgress.memoizedProps.value\n      );\n      break;\n    case 31:\n      if (null !== workInProgress.memoizedState)\n        return (\n          (workInProgress.flags |= 128),\n          pushDehydratedActivitySuspenseHandler(workInProgress),\n          null\n        );\n      break;\n    case 13:\n      var state$102 = workInProgress.memoizedState;\n      if (null !== state$102) {\n        if (null !== state$102.dehydrated)\n          return (\n            pushPrimaryTreeSuspenseHandler(workInProgress),\n            (workInProgress.flags |= 128),\n            null\n          );\n        if (0 !== (renderLanes & workInProgress.child.childLanes))\n          return updateSuspenseComponent(current, workInProgress, renderLanes);\n        pushPrimaryTreeSuspenseHandler(workInProgress);\n        current = bailoutOnAlreadyFinishedWork(\n          current,\n          workInProgress,\n          renderLanes\n        );\n        return null !== current ? current.sibling : null;\n      }\n      pushPrimaryTreeSuspenseHandler(workInProgress);\n      break;\n    case 19:\n      var didSuspendBefore = 0 !== (current.flags & 128);\n      state$102 = 0 !== (renderLanes & workInProgress.childLanes);\n      state$102 ||\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        (state$102 = 0 !== (renderLanes & workInProgress.childLanes)));\n      if (didSuspendBefore) {\n        if (state$102)\n          return updateSuspenseListComponent(\n            current,\n            workInProgress,\n            renderLanes\n          );\n        workInProgress.flags |= 128;\n      }\n      didSuspendBefore = workInProgress.memoizedState;\n      null !== didSuspendBefore &&\n        ((didSuspendBefore.rendering = null),\n        (didSuspendBefore.tail = null),\n        (didSuspendBefore.lastEffect = null));\n      push(suspenseStackCursor, suspenseStackCursor.current);\n      if (state$102) break;\n      else return null;\n    case 22:\n      return (\n        (workInProgress.lanes = 0),\n        updateOffscreenComponent(\n          current,\n          workInProgress,\n          renderLanes,\n          workInProgress.pendingProps\n        )\n      );\n    case 24:\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n  }\n  return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n}\nfunction beginWork(current, workInProgress, renderLanes) {\n  if (null !== current)\n    if (current.memoizedProps !== workInProgress.pendingProps)\n      didReceiveUpdate = !0;\n    else {\n      if (\n        !checkScheduledUpdateOrContext(current, renderLanes) &&\n        0 === (workInProgress.flags & 128)\n      )\n        return (\n          (didReceiveUpdate = !1),\n          attemptEarlyBailoutIfNoScheduledUpdate(\n            current,\n            workInProgress,\n            renderLanes\n          )\n        );\n      didReceiveUpdate = 0 !== (current.flags & 131072) ? !0 : !1;\n    }\n  else\n    (didReceiveUpdate = !1),\n      isHydrating &&\n        0 !== (workInProgress.flags & 1048576) &&\n        pushTreeId(workInProgress, treeForkCount, workInProgress.index);\n  workInProgress.lanes = 0;\n  switch (workInProgress.tag) {\n    case 16:\n      a: {\n        var props = workInProgress.pendingProps;\n        current = resolveLazy(workInProgress.elementType);\n        workInProgress.type = current;\n        if (\"function\" === typeof current)\n          shouldConstruct(current)\n            ? ((props = resolveClassComponentProps(current, props)),\n              (workInProgress.tag = 1),\n              (workInProgress = updateClassComponent(\n                null,\n                workInProgress,\n                current,\n                props,\n                renderLanes\n              )))\n            : ((workInProgress.tag = 0),\n              (workInProgress = updateFunctionComponent(\n                null,\n                workInProgress,\n                current,\n                props,\n                renderLanes\n              )));\n        else {\n          if (void 0 !== current && null !== current) {\n            var $$typeof = current.$$typeof;\n            if ($$typeof === REACT_FORWARD_REF_TYPE) {\n              workInProgress.tag = 11;\n              workInProgress = updateForwardRef(\n                null,\n                workInProgress,\n                current,\n                props,\n                renderLanes\n              );\n              break a;\n            } else if ($$typeof === REACT_MEMO_TYPE) {\n              workInProgress.tag = 14;\n              workInProgress = updateMemoComponent(\n                null,\n                workInProgress,\n                current,\n                props,\n                renderLanes\n              );\n              break a;\n            }\n          }\n          workInProgress = getComponentNameFromType(current) || current;\n          throw Error(formatProdErrorMessage(306, workInProgress, \"\"));\n        }\n      }\n      return workInProgress;\n    case 0:\n      return updateFunctionComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 1:\n      return (\n        (props = workInProgress.type),\n        ($$typeof = resolveClassComponentProps(\n          props,\n          workInProgress.pendingProps\n        )),\n        updateClassComponent(\n          current,\n          workInProgress,\n          props,\n          $$typeof,\n          renderLanes\n        )\n      );\n    case 3:\n      a: {\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        );\n        if (null === current) throw Error(formatProdErrorMessage(387));\n        props = workInProgress.pendingProps;\n        var prevState = workInProgress.memoizedState;\n        $$typeof = prevState.element;\n        cloneUpdateQueue(current, workInProgress);\n        processUpdateQueue(workInProgress, props, null, renderLanes);\n        var nextState = workInProgress.memoizedState;\n        props = nextState.cache;\n        pushProvider(workInProgress, CacheContext, props);\n        props !== prevState.cache &&\n          propagateContextChanges(\n            workInProgress,\n            [CacheContext],\n            renderLanes,\n            !0\n          );\n        suspendIfUpdateReadFromEntangledAsyncAction();\n        props = nextState.element;\n        if (prevState.isDehydrated)\n          if (\n            ((prevState = {\n              element: props,\n              isDehydrated: !1,\n              cache: nextState.cache\n            }),\n            (workInProgress.updateQueue.baseState = prevState),\n            (workInProgress.memoizedState = prevState),\n            workInProgress.flags & 256)\n          ) {\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              props,\n              renderLanes\n            );\n            break a;\n          } else if (props !== $$typeof) {\n            $$typeof = createCapturedValueAtFiber(\n              Error(formatProdErrorMessage(424)),\n              workInProgress\n            );\n            queueHydrationError($$typeof);\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              props,\n              renderLanes\n            );\n            break a;\n          } else {\n            current = workInProgress.stateNode.containerInfo;\n            switch (current.nodeType) {\n              case 9:\n                current = current.body;\n                break;\n              default:\n                current =\n                  \"HTML\" === current.nodeName\n                    ? current.ownerDocument.body\n                    : current;\n            }\n            nextHydratableInstance = getNextHydratable(current.firstChild);\n            hydrationParentFiber = workInProgress;\n            isHydrating = !0;\n            hydrationErrors = null;\n            rootOrSingletonContext = !0;\n            renderLanes = mountChildFibers(\n              workInProgress,\n              null,\n              props,\n              renderLanes\n            );\n            for (workInProgress.child = renderLanes; renderLanes; )\n              (renderLanes.flags = (renderLanes.flags & -3) | 4096),\n                (renderLanes = renderLanes.sibling);\n          }\n        else {\n          resetHydrationState();\n          if (props === $$typeof) {\n            workInProgress = bailoutOnAlreadyFinishedWork(\n              current,\n              workInProgress,\n              renderLanes\n            );\n            break a;\n          }\n          reconcileChildren(current, workInProgress, props, renderLanes);\n        }\n        workInProgress = workInProgress.child;\n      }\n      return workInProgress;\n    case 26:\n      return (\n        markRef(current, workInProgress),\n        null === current\n          ? (renderLanes = getResource(\n              workInProgress.type,\n              null,\n              workInProgress.pendingProps,\n              null\n            ))\n            ? (workInProgress.memoizedState = renderLanes)\n            : isHydrating ||\n              ((renderLanes = workInProgress.type),\n              (current = workInProgress.pendingProps),\n              (props = getOwnerDocumentFromRootContainer(\n                rootInstanceStackCursor.current\n              ).createElement(renderLanes)),\n              (props[internalInstanceKey] = workInProgress),\n              (props[internalPropsKey] = current),\n              setInitialProperties(props, renderLanes, current),\n              markNodeAsHoistable(props),\n              (workInProgress.stateNode = props))\n          : (workInProgress.memoizedState = getResource(\n              workInProgress.type,\n              current.memoizedProps,\n              workInProgress.pendingProps,\n              current.memoizedState\n            )),\n        null\n      );\n    case 27:\n      return (\n        pushHostContext(workInProgress),\n        null === current &&\n          isHydrating &&\n          ((props = workInProgress.stateNode =\n            resolveSingletonInstance(\n              workInProgress.type,\n              workInProgress.pendingProps,\n              rootInstanceStackCursor.current\n            )),\n          (hydrationParentFiber = workInProgress),\n          (rootOrSingletonContext = !0),\n          ($$typeof = nextHydratableInstance),\n          isSingletonScope(workInProgress.type)\n            ? ((previousHydratableOnEnteringScopedSingleton = $$typeof),\n              (nextHydratableInstance = getNextHydratable(props.firstChild)))\n            : (nextHydratableInstance = $$typeof)),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        markRef(current, workInProgress),\n        null === current && (workInProgress.flags |= 4194304),\n        workInProgress.child\n      );\n    case 5:\n      if (null === current && isHydrating) {\n        if (($$typeof = props = nextHydratableInstance))\n          (props = canHydrateInstance(\n            props,\n            workInProgress.type,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== props\n              ? ((workInProgress.stateNode = props),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = getNextHydratable(props.firstChild)),\n                (rootOrSingletonContext = !1),\n                ($$typeof = !0))\n              : ($$typeof = !1);\n        $$typeof || throwOnHydrationMismatch(workInProgress);\n      }\n      pushHostContext(workInProgress);\n      $$typeof = workInProgress.type;\n      prevState = workInProgress.pendingProps;\n      nextState = null !== current ? current.memoizedProps : null;\n      props = prevState.children;\n      shouldSetTextContent($$typeof, prevState)\n        ? (props = null)\n        : null !== nextState &&\n          shouldSetTextContent($$typeof, nextState) &&\n          (workInProgress.flags |= 32);\n      null !== workInProgress.memoizedState &&\n        (($$typeof = renderWithHooks(\n          current,\n          workInProgress,\n          TransitionAwareHostComponent,\n          null,\n          null,\n          renderLanes\n        )),\n        (HostTransitionContext._currentValue = $$typeof));\n      markRef(current, workInProgress);\n      reconcileChildren(current, workInProgress, props, renderLanes);\n      return workInProgress.child;\n    case 6:\n      if (null === current && isHydrating) {\n        if ((current = renderLanes = nextHydratableInstance))\n          (renderLanes = canHydrateTextInstance(\n            renderLanes,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== renderLanes\n              ? ((workInProgress.stateNode = renderLanes),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = null),\n                (current = !0))\n              : (current = !1);\n        current || throwOnHydrationMismatch(workInProgress);\n      }\n      return null;\n    case 13:\n      return updateSuspenseComponent(current, workInProgress, renderLanes);\n    case 4:\n      return (\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        ),\n        (props = workInProgress.pendingProps),\n        null === current\n          ? (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              props,\n              renderLanes\n            ))\n          : reconcileChildren(current, workInProgress, props, renderLanes),\n        workInProgress.child\n      );\n    case 11:\n      return updateForwardRef(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 7:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 8:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 12:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 10:\n      return (\n        (props = workInProgress.pendingProps),\n        pushProvider(workInProgress, workInProgress.type, props.value),\n        reconcileChildren(current, workInProgress, props.children, renderLanes),\n        workInProgress.child\n      );\n    case 9:\n      return (\n        ($$typeof = workInProgress.type._context),\n        (props = workInProgress.pendingProps.children),\n        prepareToReadContext(workInProgress),\n        ($$typeof = readContext($$typeof)),\n        (props = props($$typeof)),\n        (workInProgress.flags |= 1),\n        reconcileChildren(current, workInProgress, props, renderLanes),\n        workInProgress.child\n      );\n    case 14:\n      return updateMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 15:\n      return updateSimpleMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 19:\n      return updateSuspenseListComponent(current, workInProgress, renderLanes);\n    case 31:\n      return updateActivityComponent(current, workInProgress, renderLanes);\n    case 22:\n      return updateOffscreenComponent(\n        current,\n        workInProgress,\n        renderLanes,\n        workInProgress.pendingProps\n      );\n    case 24:\n      return (\n        prepareToReadContext(workInProgress),\n        (props = readContext(CacheContext)),\n        null === current\n          ? (($$typeof = peekCacheFromPool()),\n            null === $$typeof &&\n              (($$typeof = workInProgressRoot),\n              (prevState = createCache()),\n              ($$typeof.pooledCache = prevState),\n              prevState.refCount++,\n              null !== prevState && ($$typeof.pooledCacheLanes |= renderLanes),\n              ($$typeof = prevState)),\n            (workInProgress.memoizedState = { parent: props, cache: $$typeof }),\n            initializeUpdateQueue(workInProgress),\n            pushProvider(workInProgress, CacheContext, $$typeof))\n          : (0 !== (current.lanes & renderLanes) &&\n              (cloneUpdateQueue(current, workInProgress),\n              processUpdateQueue(workInProgress, null, null, renderLanes),\n              suspendIfUpdateReadFromEntangledAsyncAction()),\n            ($$typeof = current.memoizedState),\n            (prevState = workInProgress.memoizedState),\n            $$typeof.parent !== props\n              ? (($$typeof = { parent: props, cache: props }),\n                (workInProgress.memoizedState = $$typeof),\n                0 === workInProgress.lanes &&\n                  (workInProgress.memoizedState =\n                    workInProgress.updateQueue.baseState =\n                      $$typeof),\n                pushProvider(workInProgress, CacheContext, props))\n              : ((props = prevState.cache),\n                pushProvider(workInProgress, CacheContext, props),\n                props !== $$typeof.cache &&\n                  propagateContextChanges(\n                    workInProgress,\n                    [CacheContext],\n                    renderLanes,\n                    !0\n                  ))),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 29:\n      throw workInProgress.pendingProps;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction markUpdate(workInProgress) {\n  workInProgress.flags |= 4;\n}\nfunction preloadInstanceAndSuspendIfNeeded(\n  workInProgress,\n  type,\n  oldProps,\n  newProps,\n  renderLanes\n) {\n  if ((type = 0 !== (workInProgress.mode & 32))) type = !1;\n  if (type) {\n    if (\n      ((workInProgress.flags |= 16777216),\n      (renderLanes & 335544128) === renderLanes)\n    )\n      if (workInProgress.stateNode.complete) workInProgress.flags |= 8192;\n      else if (shouldRemainOnPreviousScreen()) workInProgress.flags |= 8192;\n      else\n        throw (\n          ((suspendedThenable = noopSuspenseyCommitThenable),\n          SuspenseyCommitException)\n        );\n  } else workInProgress.flags &= -16777217;\n}\nfunction preloadResourceAndSuspendIfNeeded(workInProgress, resource) {\n  if (\"stylesheet\" !== resource.type || 0 !== (resource.state.loading & 4))\n    workInProgress.flags &= -16777217;\n  else if (((workInProgress.flags |= 16777216), !preloadResource(resource)))\n    if (shouldRemainOnPreviousScreen()) workInProgress.flags |= 8192;\n    else\n      throw (\n        ((suspendedThenable = noopSuspenseyCommitThenable),\n        SuspenseyCommitException)\n      );\n}\nfunction scheduleRetryEffect(workInProgress, retryQueue) {\n  null !== retryQueue && (workInProgress.flags |= 4);\n  workInProgress.flags & 16384 &&\n    ((retryQueue =\n      22 !== workInProgress.tag ? claimNextRetryLane() : 536870912),\n    (workInProgress.lanes |= retryQueue),\n    (workInProgressSuspendedRetryLanes |= retryQueue));\n}\nfunction cutOffTailIfNeeded(renderState, hasRenderedATailFallback) {\n  if (!isHydrating)\n    switch (renderState.tailMode) {\n      case \"hidden\":\n        hasRenderedATailFallback = renderState.tail;\n        for (var lastTailNode = null; null !== hasRenderedATailFallback; )\n          null !== hasRenderedATailFallback.alternate &&\n            (lastTailNode = hasRenderedATailFallback),\n            (hasRenderedATailFallback = hasRenderedATailFallback.sibling);\n        null === lastTailNode\n          ? (renderState.tail = null)\n          : (lastTailNode.sibling = null);\n        break;\n      case \"collapsed\":\n        lastTailNode = renderState.tail;\n        for (var lastTailNode$106 = null; null !== lastTailNode; )\n          null !== lastTailNode.alternate && (lastTailNode$106 = lastTailNode),\n            (lastTailNode = lastTailNode.sibling);\n        null === lastTailNode$106\n          ? hasRenderedATailFallback || null === renderState.tail\n            ? (renderState.tail = null)\n            : (renderState.tail.sibling = null)\n          : (lastTailNode$106.sibling = null);\n    }\n}\nfunction bubbleProperties(completedWork) {\n  var didBailout =\n      null !== completedWork.alternate &&\n      completedWork.alternate.child === completedWork.child,\n    newChildLanes = 0,\n    subtreeFlags = 0;\n  if (didBailout)\n    for (var child$107 = completedWork.child; null !== child$107; )\n      (newChildLanes |= child$107.lanes | child$107.childLanes),\n        (subtreeFlags |= child$107.subtreeFlags & 65011712),\n        (subtreeFlags |= child$107.flags & 65011712),\n        (child$107.return = completedWork),\n        (child$107 = child$107.sibling);\n  else\n    for (child$107 = completedWork.child; null !== child$107; )\n      (newChildLanes |= child$107.lanes | child$107.childLanes),\n        (subtreeFlags |= child$107.subtreeFlags),\n        (subtreeFlags |= child$107.flags),\n        (child$107.return = completedWork),\n        (child$107 = child$107.sibling);\n  completedWork.subtreeFlags |= subtreeFlags;\n  completedWork.childLanes = newChildLanes;\n  return didBailout;\n}\nfunction completeWork(current, workInProgress, renderLanes) {\n  var newProps = workInProgress.pendingProps;\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 16:\n    case 15:\n    case 0:\n    case 11:\n    case 7:\n    case 8:\n    case 12:\n    case 9:\n    case 14:\n      return bubbleProperties(workInProgress), null;\n    case 1:\n      return bubbleProperties(workInProgress), null;\n    case 3:\n      renderLanes = workInProgress.stateNode;\n      newProps = null;\n      null !== current && (newProps = current.memoizedState.cache);\n      workInProgress.memoizedState.cache !== newProps &&\n        (workInProgress.flags |= 2048);\n      popProvider(CacheContext);\n      popHostContainer();\n      renderLanes.pendingContext &&\n        ((renderLanes.context = renderLanes.pendingContext),\n        (renderLanes.pendingContext = null));\n      if (null === current || null === current.child)\n        popHydrationState(workInProgress)\n          ? markUpdate(workInProgress)\n          : null === current ||\n            (current.memoizedState.isDehydrated &&\n              0 === (workInProgress.flags & 256)) ||\n            ((workInProgress.flags |= 1024),\n            upgradeHydrationErrorsToRecoverable());\n      bubbleProperties(workInProgress);\n      return null;\n    case 26:\n      var type = workInProgress.type,\n        nextResource = workInProgress.memoizedState;\n      null === current\n        ? (markUpdate(workInProgress),\n          null !== nextResource\n            ? (bubbleProperties(workInProgress),\n              preloadResourceAndSuspendIfNeeded(workInProgress, nextResource))\n            : (bubbleProperties(workInProgress),\n              preloadInstanceAndSuspendIfNeeded(\n                workInProgress,\n                type,\n                null,\n                newProps,\n                renderLanes\n              )))\n        : nextResource\n          ? nextResource !== current.memoizedState\n            ? (markUpdate(workInProgress),\n              bubbleProperties(workInProgress),\n              preloadResourceAndSuspendIfNeeded(workInProgress, nextResource))\n            : (bubbleProperties(workInProgress),\n              (workInProgress.flags &= -16777217))\n          : ((current = current.memoizedProps),\n            current !== newProps && markUpdate(workInProgress),\n            bubbleProperties(workInProgress),\n            preloadInstanceAndSuspendIfNeeded(\n              workInProgress,\n              type,\n              current,\n              newProps,\n              renderLanes\n            ));\n      return null;\n    case 27:\n      popHostContext(workInProgress);\n      renderLanes = rootInstanceStackCursor.current;\n      type = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        popHydrationState(workInProgress)\n          ? prepareToHydrateHostInstance(workInProgress, current)\n          : ((current = resolveSingletonInstance(type, newProps, renderLanes)),\n            (workInProgress.stateNode = current),\n            markUpdate(workInProgress));\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 5:\n      popHostContext(workInProgress);\n      type = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        nextResource = contextStackCursor.current;\n        if (popHydrationState(workInProgress))\n          prepareToHydrateHostInstance(workInProgress, nextResource);\n        else {\n          var ownerDocument = getOwnerDocumentFromRootContainer(\n            rootInstanceStackCursor.current\n          );\n          switch (nextResource) {\n            case 1:\n              nextResource = ownerDocument.createElementNS(\n                \"http://www.w3.org/2000/svg\",\n                type\n              );\n              break;\n            case 2:\n              nextResource = ownerDocument.createElementNS(\n                \"http://www.w3.org/1998/Math/MathML\",\n                type\n              );\n              break;\n            default:\n              switch (type) {\n                case \"svg\":\n                  nextResource = ownerDocument.createElementNS(\n                    \"http://www.w3.org/2000/svg\",\n                    type\n                  );\n                  break;\n                case \"math\":\n                  nextResource = ownerDocument.createElementNS(\n                    \"http://www.w3.org/1998/Math/MathML\",\n                    type\n                  );\n                  break;\n                case \"script\":\n                  nextResource = ownerDocument.createElement(\"div\");\n                  nextResource.innerHTML = \"<script>\\x3c/script>\";\n                  nextResource = nextResource.removeChild(\n                    nextResource.firstChild\n                  );\n                  break;\n                case \"select\":\n                  nextResource =\n                    \"string\" === typeof newProps.is\n                      ? ownerDocument.createElement(\"select\", {\n                          is: newProps.is\n                        })\n                      : ownerDocument.createElement(\"select\");\n                  newProps.multiple\n                    ? (nextResource.multiple = !0)\n                    : newProps.size && (nextResource.size = newProps.size);\n                  break;\n                default:\n                  nextResource =\n                    \"string\" === typeof newProps.is\n                      ? ownerDocument.createElement(type, { is: newProps.is })\n                      : ownerDocument.createElement(type);\n              }\n          }\n          nextResource[internalInstanceKey] = workInProgress;\n          nextResource[internalPropsKey] = newProps;\n          a: for (\n            ownerDocument = workInProgress.child;\n            null !== ownerDocument;\n\n          ) {\n            if (5 === ownerDocument.tag || 6 === ownerDocument.tag)\n              nextResource.appendChild(ownerDocument.stateNode);\n            else if (\n              4 !== ownerDocument.tag &&\n              27 !== ownerDocument.tag &&\n              null !== ownerDocument.child\n            ) {\n              ownerDocument.child.return = ownerDocument;\n              ownerDocument = ownerDocument.child;\n              continue;\n            }\n            if (ownerDocument === workInProgress) break a;\n            for (; null === ownerDocument.sibling; ) {\n              if (\n                null === ownerDocument.return ||\n                ownerDocument.return === workInProgress\n              )\n                break a;\n              ownerDocument = ownerDocument.return;\n            }\n            ownerDocument.sibling.return = ownerDocument.return;\n            ownerDocument = ownerDocument.sibling;\n          }\n          workInProgress.stateNode = nextResource;\n          a: switch (\n            (setInitialProperties(nextResource, type, newProps), type)\n          ) {\n            case \"button\":\n            case \"input\":\n            case \"select\":\n            case \"textarea\":\n              newProps = !!newProps.autoFocus;\n              break a;\n            case \"img\":\n              newProps = !0;\n              break a;\n            default:\n              newProps = !1;\n          }\n          newProps && markUpdate(workInProgress);\n        }\n      }\n      bubbleProperties(workInProgress);\n      preloadInstanceAndSuspendIfNeeded(\n        workInProgress,\n        workInProgress.type,\n        null === current ? null : current.memoizedProps,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n      return null;\n    case 6:\n      if (current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (\"string\" !== typeof newProps && null === workInProgress.stateNode)\n          throw Error(formatProdErrorMessage(166));\n        current = rootInstanceStackCursor.current;\n        if (popHydrationState(workInProgress)) {\n          current = workInProgress.stateNode;\n          renderLanes = workInProgress.memoizedProps;\n          newProps = null;\n          type = hydrationParentFiber;\n          if (null !== type)\n            switch (type.tag) {\n              case 27:\n              case 5:\n                newProps = type.memoizedProps;\n            }\n          current[internalInstanceKey] = workInProgress;\n          current =\n            current.nodeValue === renderLanes ||\n            (null !== newProps && !0 === newProps.suppressHydrationWarning) ||\n            checkForUnmatchedText(current.nodeValue, renderLanes)\n              ? !0\n              : !1;\n          current || throwOnHydrationMismatch(workInProgress, !0);\n        } else\n          (current =\n            getOwnerDocumentFromRootContainer(current).createTextNode(\n              newProps\n            )),\n            (current[internalInstanceKey] = workInProgress),\n            (workInProgress.stateNode = current);\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 31:\n      renderLanes = workInProgress.memoizedState;\n      if (null === current || null !== current.memoizedState) {\n        newProps = popHydrationState(workInProgress);\n        if (null !== renderLanes) {\n          if (null === current) {\n            if (!newProps) throw Error(formatProdErrorMessage(318));\n            current = workInProgress.memoizedState;\n            current = null !== current ? current.dehydrated : null;\n            if (!current) throw Error(formatProdErrorMessage(557));\n            current[internalInstanceKey] = workInProgress;\n          } else\n            resetHydrationState(),\n              0 === (workInProgress.flags & 128) &&\n                (workInProgress.memoizedState = null),\n              (workInProgress.flags |= 4);\n          bubbleProperties(workInProgress);\n          current = !1;\n        } else\n          (renderLanes = upgradeHydrationErrorsToRecoverable()),\n            null !== current &&\n              null !== current.memoizedState &&\n              (current.memoizedState.hydrationErrors = renderLanes),\n            (current = !0);\n        if (!current) {\n          if (workInProgress.flags & 256)\n            return popSuspenseHandler(workInProgress), workInProgress;\n          popSuspenseHandler(workInProgress);\n          return null;\n        }\n        if (0 !== (workInProgress.flags & 128))\n          throw Error(formatProdErrorMessage(558));\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 13:\n      newProps = workInProgress.memoizedState;\n      if (\n        null === current ||\n        (null !== current.memoizedState &&\n          null !== current.memoizedState.dehydrated)\n      ) {\n        type = popHydrationState(workInProgress);\n        if (null !== newProps && null !== newProps.dehydrated) {\n          if (null === current) {\n            if (!type) throw Error(formatProdErrorMessage(318));\n            type = workInProgress.memoizedState;\n            type = null !== type ? type.dehydrated : null;\n            if (!type) throw Error(formatProdErrorMessage(317));\n            type[internalInstanceKey] = workInProgress;\n          } else\n            resetHydrationState(),\n              0 === (workInProgress.flags & 128) &&\n                (workInProgress.memoizedState = null),\n              (workInProgress.flags |= 4);\n          bubbleProperties(workInProgress);\n          type = !1;\n        } else\n          (type = upgradeHydrationErrorsToRecoverable()),\n            null !== current &&\n              null !== current.memoizedState &&\n              (current.memoizedState.hydrationErrors = type),\n            (type = !0);\n        if (!type) {\n          if (workInProgress.flags & 256)\n            return popSuspenseHandler(workInProgress), workInProgress;\n          popSuspenseHandler(workInProgress);\n          return null;\n        }\n      }\n      popSuspenseHandler(workInProgress);\n      if (0 !== (workInProgress.flags & 128))\n        return (workInProgress.lanes = renderLanes), workInProgress;\n      renderLanes = null !== newProps;\n      current = null !== current && null !== current.memoizedState;\n      renderLanes &&\n        ((newProps = workInProgress.child),\n        (type = null),\n        null !== newProps.alternate &&\n          null !== newProps.alternate.memoizedState &&\n          null !== newProps.alternate.memoizedState.cachePool &&\n          (type = newProps.alternate.memoizedState.cachePool.pool),\n        (nextResource = null),\n        null !== newProps.memoizedState &&\n          null !== newProps.memoizedState.cachePool &&\n          (nextResource = newProps.memoizedState.cachePool.pool),\n        nextResource !== type && (newProps.flags |= 2048));\n      renderLanes !== current &&\n        renderLanes &&\n        (workInProgress.child.flags |= 8192);\n      scheduleRetryEffect(workInProgress, workInProgress.updateQueue);\n      bubbleProperties(workInProgress);\n      return null;\n    case 4:\n      return (\n        popHostContainer(),\n        null === current &&\n          listenToAllSupportedEvents(workInProgress.stateNode.containerInfo),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 10:\n      return (\n        popProvider(workInProgress.type), bubbleProperties(workInProgress), null\n      );\n    case 19:\n      pop(suspenseStackCursor);\n      newProps = workInProgress.memoizedState;\n      if (null === newProps) return bubbleProperties(workInProgress), null;\n      type = 0 !== (workInProgress.flags & 128);\n      nextResource = newProps.rendering;\n      if (null === nextResource)\n        if (type) cutOffTailIfNeeded(newProps, !1);\n        else {\n          if (\n            0 !== workInProgressRootExitStatus ||\n            (null !== current && 0 !== (current.flags & 128))\n          )\n            for (current = workInProgress.child; null !== current; ) {\n              nextResource = findFirstSuspended(current);\n              if (null !== nextResource) {\n                workInProgress.flags |= 128;\n                cutOffTailIfNeeded(newProps, !1);\n                current = nextResource.updateQueue;\n                workInProgress.updateQueue = current;\n                scheduleRetryEffect(workInProgress, current);\n                workInProgress.subtreeFlags = 0;\n                current = renderLanes;\n                for (renderLanes = workInProgress.child; null !== renderLanes; )\n                  resetWorkInProgress(renderLanes, current),\n                    (renderLanes = renderLanes.sibling);\n                push(\n                  suspenseStackCursor,\n                  (suspenseStackCursor.current & 1) | 2\n                );\n                isHydrating &&\n                  pushTreeFork(workInProgress, newProps.treeForkCount);\n                return workInProgress.child;\n              }\n              current = current.sibling;\n            }\n          null !== newProps.tail &&\n            now() > workInProgressRootRenderTargetTime &&\n            ((workInProgress.flags |= 128),\n            (type = !0),\n            cutOffTailIfNeeded(newProps, !1),\n            (workInProgress.lanes = 4194304));\n        }\n      else {\n        if (!type)\n          if (\n            ((current = findFirstSuspended(nextResource)), null !== current)\n          ) {\n            if (\n              ((workInProgress.flags |= 128),\n              (type = !0),\n              (current = current.updateQueue),\n              (workInProgress.updateQueue = current),\n              scheduleRetryEffect(workInProgress, current),\n              cutOffTailIfNeeded(newProps, !0),\n              null === newProps.tail &&\n                \"hidden\" === newProps.tailMode &&\n                !nextResource.alternate &&\n                !isHydrating)\n            )\n              return bubbleProperties(workInProgress), null;\n          } else\n            2 * now() - newProps.renderingStartTime >\n              workInProgressRootRenderTargetTime &&\n              536870912 !== renderLanes &&\n              ((workInProgress.flags |= 128),\n              (type = !0),\n              cutOffTailIfNeeded(newProps, !1),\n              (workInProgress.lanes = 4194304));\n        newProps.isBackwards\n          ? ((nextResource.sibling = workInProgress.child),\n            (workInProgress.child = nextResource))\n          : ((current = newProps.last),\n            null !== current\n              ? (current.sibling = nextResource)\n              : (workInProgress.child = nextResource),\n            (newProps.last = nextResource));\n      }\n      if (null !== newProps.tail)\n        return (\n          (current = newProps.tail),\n          (newProps.rendering = current),\n          (newProps.tail = current.sibling),\n          (newProps.renderingStartTime = now()),\n          (current.sibling = null),\n          (renderLanes = suspenseStackCursor.current),\n          push(\n            suspenseStackCursor,\n            type ? (renderLanes & 1) | 2 : renderLanes & 1\n          ),\n          isHydrating && pushTreeFork(workInProgress, newProps.treeForkCount),\n          current\n        );\n      bubbleProperties(workInProgress);\n      return null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        (newProps = null !== workInProgress.memoizedState),\n        null !== current\n          ? (null !== current.memoizedState) !== newProps &&\n            (workInProgress.flags |= 8192)\n          : newProps && (workInProgress.flags |= 8192),\n        newProps\n          ? 0 !== (renderLanes & 536870912) &&\n            0 === (workInProgress.flags & 128) &&\n            (bubbleProperties(workInProgress),\n            workInProgress.subtreeFlags & 6 && (workInProgress.flags |= 8192))\n          : bubbleProperties(workInProgress),\n        (renderLanes = workInProgress.updateQueue),\n        null !== renderLanes &&\n          scheduleRetryEffect(workInProgress, renderLanes.retryQueue),\n        (renderLanes = null),\n        null !== current &&\n          null !== current.memoizedState &&\n          null !== current.memoizedState.cachePool &&\n          (renderLanes = current.memoizedState.cachePool.pool),\n        (newProps = null),\n        null !== workInProgress.memoizedState &&\n          null !== workInProgress.memoizedState.cachePool &&\n          (newProps = workInProgress.memoizedState.cachePool.pool),\n        newProps !== renderLanes && (workInProgress.flags |= 2048),\n        null !== current && pop(resumedCache),\n        null\n      );\n    case 24:\n      return (\n        (renderLanes = null),\n        null !== current && (renderLanes = current.memoizedState.cache),\n        workInProgress.memoizedState.cache !== renderLanes &&\n          (workInProgress.flags |= 2048),\n        popProvider(CacheContext),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 25:\n      return null;\n    case 30:\n      return null;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction unwindWork(current, workInProgress) {\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 1:\n      return (\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 3:\n      return (\n        popProvider(CacheContext),\n        popHostContainer(),\n        (current = workInProgress.flags),\n        0 !== (current & 65536) && 0 === (current & 128)\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 26:\n    case 27:\n    case 5:\n      return popHostContext(workInProgress), null;\n    case 31:\n      if (null !== workInProgress.memoizedState) {\n        popSuspenseHandler(workInProgress);\n        if (null === workInProgress.alternate)\n          throw Error(formatProdErrorMessage(340));\n        resetHydrationState();\n      }\n      current = workInProgress.flags;\n      return current & 65536\n        ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n        : null;\n    case 13:\n      popSuspenseHandler(workInProgress);\n      current = workInProgress.memoizedState;\n      if (null !== current && null !== current.dehydrated) {\n        if (null === workInProgress.alternate)\n          throw Error(formatProdErrorMessage(340));\n        resetHydrationState();\n      }\n      current = workInProgress.flags;\n      return current & 65536\n        ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n        : null;\n    case 19:\n      return pop(suspenseStackCursor), null;\n    case 4:\n      return popHostContainer(), null;\n    case 10:\n      return popProvider(workInProgress.type), null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        null !== current && pop(resumedCache),\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 24:\n      return popProvider(CacheContext), null;\n    case 25:\n      return null;\n    default:\n      return null;\n  }\n}\nfunction unwindInterruptedWork(current, interruptedWork) {\n  popTreeContext(interruptedWork);\n  switch (interruptedWork.tag) {\n    case 3:\n      popProvider(CacheContext);\n      popHostContainer();\n      break;\n    case 26:\n    case 27:\n    case 5:\n      popHostContext(interruptedWork);\n      break;\n    case 4:\n      popHostContainer();\n      break;\n    case 31:\n      null !== interruptedWork.memoizedState &&\n        popSuspenseHandler(interruptedWork);\n      break;\n    case 13:\n      popSuspenseHandler(interruptedWork);\n      break;\n    case 19:\n      pop(suspenseStackCursor);\n      break;\n    case 10:\n      popProvider(interruptedWork.type);\n      break;\n    case 22:\n    case 23:\n      popSuspenseHandler(interruptedWork);\n      popHiddenContext();\n      null !== current && pop(resumedCache);\n      break;\n    case 24:\n      popProvider(CacheContext);\n  }\n}\nfunction commitHookEffectListMount(flags, finishedWork) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          lastEffect = void 0;\n          var create = updateQueue.create,\n            inst = updateQueue.inst;\n          lastEffect = create();\n          inst.destroy = lastEffect;\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHookEffectListUnmount(\n  flags,\n  finishedWork,\n  nearestMountedAncestor$jscomp$0\n) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          var inst = updateQueue.inst,\n            destroy = inst.destroy;\n          if (void 0 !== destroy) {\n            inst.destroy = void 0;\n            lastEffect = finishedWork;\n            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0,\n              destroy_ = destroy;\n            try {\n              destroy_();\n            } catch (error) {\n              captureCommitPhaseError(\n                lastEffect,\n                nearestMountedAncestor,\n                error\n              );\n            }\n          }\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitClassCallbacks(finishedWork) {\n  var updateQueue = finishedWork.updateQueue;\n  if (null !== updateQueue) {\n    var instance = finishedWork.stateNode;\n    try {\n      commitCallbacks(updateQueue, instance);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n  }\n}\nfunction safelyCallComponentWillUnmount(\n  current,\n  nearestMountedAncestor,\n  instance\n) {\n  instance.props = resolveClassComponentProps(\n    current.type,\n    current.memoizedProps\n  );\n  instance.state = current.memoizedState;\n  try {\n    instance.componentWillUnmount();\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyAttachRef(current, nearestMountedAncestor) {\n  try {\n    var ref = current.ref;\n    if (null !== ref) {\n      switch (current.tag) {\n        case 26:\n        case 27:\n        case 5:\n          var instanceToUse = current.stateNode;\n          break;\n        case 30:\n          instanceToUse = current.stateNode;\n          break;\n        default:\n          instanceToUse = current.stateNode;\n      }\n      \"function\" === typeof ref\n        ? (current.refCleanup = ref(instanceToUse))\n        : (ref.current = instanceToUse);\n    }\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyDetachRef(current, nearestMountedAncestor) {\n  var ref = current.ref,\n    refCleanup = current.refCleanup;\n  if (null !== ref)\n    if (\"function\" === typeof refCleanup)\n      try {\n        refCleanup();\n      } catch (error) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error);\n      } finally {\n        (current.refCleanup = null),\n          (current = current.alternate),\n          null != current && (current.refCleanup = null);\n      }\n    else if (\"function\" === typeof ref)\n      try {\n        ref(null);\n      } catch (error$140) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error$140);\n      }\n    else ref.current = null;\n}\nfunction commitHostMount(finishedWork) {\n  var type = finishedWork.type,\n    props = finishedWork.memoizedProps,\n    instance = finishedWork.stateNode;\n  try {\n    a: switch (type) {\n      case \"button\":\n      case \"input\":\n      case \"select\":\n      case \"textarea\":\n        props.autoFocus && instance.focus();\n        break a;\n      case \"img\":\n        props.src\n          ? (instance.src = props.src)\n          : props.srcSet && (instance.srcset = props.srcSet);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHostUpdate(finishedWork, newProps, oldProps) {\n  try {\n    var domElement = finishedWork.stateNode;\n    updateProperties(domElement, finishedWork.type, oldProps, newProps);\n    domElement[internalPropsKey] = newProps;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction isHostParent(fiber) {\n  return (\n    5 === fiber.tag ||\n    3 === fiber.tag ||\n    26 === fiber.tag ||\n    (27 === fiber.tag && isSingletonScope(fiber.type)) ||\n    4 === fiber.tag\n  );\n}\nfunction getHostSibling(fiber) {\n  a: for (;;) {\n    for (; null === fiber.sibling; ) {\n      if (null === fiber.return || isHostParent(fiber.return)) return null;\n      fiber = fiber.return;\n    }\n    fiber.sibling.return = fiber.return;\n    for (\n      fiber = fiber.sibling;\n      5 !== fiber.tag && 6 !== fiber.tag && 18 !== fiber.tag;\n\n    ) {\n      if (27 === fiber.tag && isSingletonScope(fiber.type)) continue a;\n      if (fiber.flags & 2) continue a;\n      if (null === fiber.child || 4 === fiber.tag) continue a;\n      else (fiber.child.return = fiber), (fiber = fiber.child);\n    }\n    if (!(fiber.flags & 2)) return fiber.stateNode;\n  }\n}\nfunction insertOrAppendPlacementNodeIntoContainer(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before\n        ? (9 === parent.nodeType\n            ? parent.body\n            : \"HTML\" === parent.nodeName\n              ? parent.ownerDocument.body\n              : parent\n          ).insertBefore(node, before)\n        : ((before =\n            9 === parent.nodeType\n              ? parent.body\n              : \"HTML\" === parent.nodeName\n                ? parent.ownerDocument.body\n                : parent),\n          before.appendChild(node),\n          (parent = parent._reactRootContainer),\n          (null !== parent && void 0 !== parent) ||\n            null !== before.onclick ||\n            (before.onclick = noop$1));\n  else if (\n    4 !== tag &&\n    (27 === tag &&\n      isSingletonScope(node.type) &&\n      ((parent = node.stateNode), (before = null)),\n    (node = node.child),\n    null !== node)\n  )\n    for (\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        (node = node.sibling);\n}\nfunction insertOrAppendPlacementNode(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before ? parent.insertBefore(node, before) : parent.appendChild(node);\n  else if (\n    4 !== tag &&\n    (27 === tag && isSingletonScope(node.type) && (parent = node.stateNode),\n    (node = node.child),\n    null !== node)\n  )\n    for (\n      insertOrAppendPlacementNode(node, before, parent), node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNode(node, before, parent), (node = node.sibling);\n}\nfunction commitHostSingletonAcquisition(finishedWork) {\n  var singleton = finishedWork.stateNode,\n    props = finishedWork.memoizedProps;\n  try {\n    for (\n      var type = finishedWork.type, attributes = singleton.attributes;\n      attributes.length;\n\n    )\n      singleton.removeAttributeNode(attributes[0]);\n    setInitialProperties(singleton, type, props);\n    singleton[internalInstanceKey] = finishedWork;\n    singleton[internalPropsKey] = props;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nvar offscreenSubtreeIsHidden = !1,\n  offscreenSubtreeWasHidden = !1,\n  needsFormReset = !1,\n  PossiblyWeakSet = \"function\" === typeof WeakSet ? WeakSet : Set,\n  nextEffect = null;\nfunction commitBeforeMutationEffects(root, firstChild) {\n  root = root.containerInfo;\n  eventsEnabled = _enabled;\n  root = getActiveElementDeep(root);\n  if (hasSelectionCapabilities(root)) {\n    if (\"selectionStart\" in root)\n      var JSCompiler_temp = {\n        start: root.selectionStart,\n        end: root.selectionEnd\n      };\n    else\n      a: {\n        JSCompiler_temp =\n          ((JSCompiler_temp = root.ownerDocument) &&\n            JSCompiler_temp.defaultView) ||\n          window;\n        var selection =\n          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();\n        if (selection && 0 !== selection.rangeCount) {\n          JSCompiler_temp = selection.anchorNode;\n          var anchorOffset = selection.anchorOffset,\n            focusNode = selection.focusNode;\n          selection = selection.focusOffset;\n          try {\n            JSCompiler_temp.nodeType, focusNode.nodeType;\n          } catch (e$20) {\n            JSCompiler_temp = null;\n            break a;\n          }\n          var length = 0,\n            start = -1,\n            end = -1,\n            indexWithinAnchor = 0,\n            indexWithinFocus = 0,\n            node = root,\n            parentNode = null;\n          b: for (;;) {\n            for (var next; ; ) {\n              node !== JSCompiler_temp ||\n                (0 !== anchorOffset && 3 !== node.nodeType) ||\n                (start = length + anchorOffset);\n              node !== focusNode ||\n                (0 !== selection && 3 !== node.nodeType) ||\n                (end = length + selection);\n              3 === node.nodeType && (length += node.nodeValue.length);\n              if (null === (next = node.firstChild)) break;\n              parentNode = node;\n              node = next;\n            }\n            for (;;) {\n              if (node === root) break b;\n              parentNode === JSCompiler_temp &&\n                ++indexWithinAnchor === anchorOffset &&\n                (start = length);\n              parentNode === focusNode &&\n                ++indexWithinFocus === selection &&\n                (end = length);\n              if (null !== (next = node.nextSibling)) break;\n              node = parentNode;\n              parentNode = node.parentNode;\n            }\n            node = next;\n          }\n          JSCompiler_temp =\n            -1 === start || -1 === end ? null : { start: start, end: end };\n        } else JSCompiler_temp = null;\n      }\n    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };\n  } else JSCompiler_temp = null;\n  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };\n  _enabled = !1;\n  for (nextEffect = firstChild; null !== nextEffect; )\n    if (\n      ((firstChild = nextEffect),\n      (root = firstChild.child),\n      0 !== (firstChild.subtreeFlags & 1028) && null !== root)\n    )\n      (root.return = firstChild), (nextEffect = root);\n    else\n      for (; null !== nextEffect; ) {\n        firstChild = nextEffect;\n        focusNode = firstChild.alternate;\n        root = firstChild.flags;\n        switch (firstChild.tag) {\n          case 0:\n            if (\n              0 !== (root & 4) &&\n              ((root = firstChild.updateQueue),\n              (root = null !== root ? root.events : null),\n              null !== root)\n            )\n              for (\n                JSCompiler_temp = 0;\n                JSCompiler_temp < root.length;\n                JSCompiler_temp++\n              )\n                (anchorOffset = root[JSCompiler_temp]),\n                  (anchorOffset.ref.impl = anchorOffset.nextImpl);\n            break;\n          case 11:\n          case 15:\n            break;\n          case 1:\n            if (0 !== (root & 1024) && null !== focusNode) {\n              root = void 0;\n              JSCompiler_temp = firstChild;\n              anchorOffset = focusNode.memoizedProps;\n              focusNode = focusNode.memoizedState;\n              selection = JSCompiler_temp.stateNode;\n              try {\n                var resolvedPrevProps = resolveClassComponentProps(\n                  JSCompiler_temp.type,\n                  anchorOffset\n                );\n                root = selection.getSnapshotBeforeUpdate(\n                  resolvedPrevProps,\n                  focusNode\n                );\n                selection.__reactInternalSnapshotBeforeUpdate = root;\n              } catch (error) {\n                captureCommitPhaseError(\n                  JSCompiler_temp,\n                  JSCompiler_temp.return,\n                  error\n                );\n              }\n            }\n            break;\n          case 3:\n            if (0 !== (root & 1024))\n              if (\n                ((root = firstChild.stateNode.containerInfo),\n                (JSCompiler_temp = root.nodeType),\n                9 === JSCompiler_temp)\n              )\n                clearContainerSparingly(root);\n              else if (1 === JSCompiler_temp)\n                switch (root.nodeName) {\n                  case \"HEAD\":\n                  case \"HTML\":\n                  case \"BODY\":\n                    clearContainerSparingly(root);\n                    break;\n                  default:\n                    root.textContent = \"\";\n                }\n            break;\n          case 5:\n          case 26:\n          case 27:\n          case 6:\n          case 4:\n          case 17:\n            break;\n          default:\n            if (0 !== (root & 1024)) throw Error(formatProdErrorMessage(163));\n        }\n        root = firstChild.sibling;\n        if (null !== root) {\n          root.return = firstChild.return;\n          nextEffect = root;\n          break;\n        }\n        nextEffect = firstChild.return;\n      }\n}\nfunction commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitHookEffectListMount(5, finishedWork);\n      break;\n    case 1:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (flags & 4)\n        if (((finishedRoot = finishedWork.stateNode), null === current))\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(finishedWork, finishedWork.return, error);\n          }\n        else {\n          var prevProps = resolveClassComponentProps(\n            finishedWork.type,\n            current.memoizedProps\n          );\n          current = current.memoizedState;\n          try {\n            finishedRoot.componentDidUpdate(\n              prevProps,\n              current,\n              finishedRoot.__reactInternalSnapshotBeforeUpdate\n            );\n          } catch (error$139) {\n            captureCommitPhaseError(\n              finishedWork,\n              finishedWork.return,\n              error$139\n            );\n          }\n        }\n      flags & 64 && commitClassCallbacks(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (\n        flags & 64 &&\n        ((finishedRoot = finishedWork.updateQueue), null !== finishedRoot)\n      ) {\n        current = null;\n        if (null !== finishedWork.child)\n          switch (finishedWork.child.tag) {\n            case 27:\n            case 5:\n              current = finishedWork.child.stateNode;\n              break;\n            case 1:\n              current = finishedWork.child.stateNode;\n          }\n        try {\n          commitCallbacks(finishedRoot, current);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 27:\n      null === current &&\n        flags & 4 &&\n        commitHostSingletonAcquisition(finishedWork);\n    case 26:\n    case 5:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      null === current && flags & 4 && commitHostMount(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 12:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      break;\n    case 31:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitActivityHydrationCallbacks(finishedRoot, finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n      flags & 64 &&\n        ((finishedRoot = finishedWork.memoizedState),\n        null !== finishedRoot &&\n          ((finishedRoot = finishedRoot.dehydrated),\n          null !== finishedRoot &&\n            ((finishedWork = retryDehydratedSuspenseBoundary.bind(\n              null,\n              finishedWork\n            )),\n            registerSuspenseInstanceRetry(finishedRoot, finishedWork))));\n      break;\n    case 22:\n      flags = null !== finishedWork.memoizedState || offscreenSubtreeIsHidden;\n      if (!flags) {\n        current =\n          (null !== current && null !== current.memoizedState) ||\n          offscreenSubtreeWasHidden;\n        prevProps = offscreenSubtreeIsHidden;\n        var prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n        offscreenSubtreeIsHidden = flags;\n        (offscreenSubtreeWasHidden = current) && !prevOffscreenSubtreeWasHidden\n          ? recursivelyTraverseReappearLayoutEffects(\n              finishedRoot,\n              finishedWork,\n              0 !== (finishedWork.subtreeFlags & 8772)\n            )\n          : recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n        offscreenSubtreeIsHidden = prevProps;\n        offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      }\n      break;\n    case 30:\n      break;\n    default:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n  }\n}\nfunction detachFiberAfterEffects(fiber) {\n  var alternate = fiber.alternate;\n  null !== alternate &&\n    ((fiber.alternate = null), detachFiberAfterEffects(alternate));\n  fiber.child = null;\n  fiber.deletions = null;\n  fiber.sibling = null;\n  5 === fiber.tag &&\n    ((alternate = fiber.stateNode),\n    null !== alternate && detachDeletedInstance(alternate));\n  fiber.stateNode = null;\n  fiber.return = null;\n  fiber.dependencies = null;\n  fiber.memoizedProps = null;\n  fiber.memoizedState = null;\n  fiber.pendingProps = null;\n  fiber.stateNode = null;\n  fiber.updateQueue = null;\n}\nvar hostParent = null,\n  hostParentIsContainer = !1;\nfunction recursivelyTraverseDeletionEffects(\n  finishedRoot,\n  nearestMountedAncestor,\n  parent\n) {\n  for (parent = parent.child; null !== parent; )\n    commitDeletionEffectsOnFiber(finishedRoot, nearestMountedAncestor, parent),\n      (parent = parent.sibling);\n}\nfunction commitDeletionEffectsOnFiber(\n  finishedRoot,\n  nearestMountedAncestor,\n  deletedFiber\n) {\n  if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberUnmount)\n    try {\n      injectedHook.onCommitFiberUnmount(rendererID, deletedFiber);\n    } catch (err) {}\n  switch (deletedFiber.tag) {\n    case 26:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      deletedFiber.memoizedState\n        ? deletedFiber.memoizedState.count--\n        : deletedFiber.stateNode &&\n          ((deletedFiber = deletedFiber.stateNode),\n          deletedFiber.parentNode.removeChild(deletedFiber));\n      break;\n    case 27:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      var prevHostParent = hostParent,\n        prevHostParentIsContainer = hostParentIsContainer;\n      isSingletonScope(deletedFiber.type) &&\n        ((hostParent = deletedFiber.stateNode), (hostParentIsContainer = !1));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      releaseSingletonInstance(deletedFiber.stateNode);\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 5:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n    case 6:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = null;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      if (null !== hostParent)\n        if (hostParentIsContainer)\n          try {\n            (9 === hostParent.nodeType\n              ? hostParent.body\n              : \"HTML\" === hostParent.nodeName\n                ? hostParent.ownerDocument.body\n                : hostParent\n            ).removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n        else\n          try {\n            hostParent.removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n      break;\n    case 18:\n      null !== hostParent &&\n        (hostParentIsContainer\n          ? ((finishedRoot = hostParent),\n            clearHydrationBoundary(\n              9 === finishedRoot.nodeType\n                ? finishedRoot.body\n                : \"HTML\" === finishedRoot.nodeName\n                  ? finishedRoot.ownerDocument.body\n                  : finishedRoot,\n              deletedFiber.stateNode\n            ),\n            retryIfBlockedOn(finishedRoot))\n          : clearHydrationBoundary(hostParent, deletedFiber.stateNode));\n      break;\n    case 4:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = deletedFiber.stateNode.containerInfo;\n      hostParentIsContainer = !0;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      commitHookEffectListUnmount(2, deletedFiber, nearestMountedAncestor);\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(4, deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 1:\n      offscreenSubtreeWasHidden ||\n        (safelyDetachRef(deletedFiber, nearestMountedAncestor),\n        (prevHostParent = deletedFiber.stateNode),\n        \"function\" === typeof prevHostParent.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            deletedFiber,\n            nearestMountedAncestor,\n            prevHostParent\n          ));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 21:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 22:\n      offscreenSubtreeWasHidden =\n        (prevHostParent = offscreenSubtreeWasHidden) ||\n        null !== deletedFiber.memoizedState;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      offscreenSubtreeWasHidden = prevHostParent;\n      break;\n    default:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n  }\n}\nfunction commitActivityHydrationCallbacks(finishedRoot, finishedWork) {\n  if (\n    null === finishedWork.memoizedState &&\n    ((finishedRoot = finishedWork.alternate),\n    null !== finishedRoot &&\n      ((finishedRoot = finishedRoot.memoizedState), null !== finishedRoot))\n  ) {\n    finishedRoot = finishedRoot.dehydrated;\n    try {\n      retryIfBlockedOn(finishedRoot);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n  }\n}\nfunction commitSuspenseHydrationCallbacks(finishedRoot, finishedWork) {\n  if (\n    null === finishedWork.memoizedState &&\n    ((finishedRoot = finishedWork.alternate),\n    null !== finishedRoot &&\n      ((finishedRoot = finishedRoot.memoizedState),\n      null !== finishedRoot &&\n        ((finishedRoot = finishedRoot.dehydrated), null !== finishedRoot)))\n  )\n    try {\n      retryIfBlockedOn(finishedRoot);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n}\nfunction getRetryCache(finishedWork) {\n  switch (finishedWork.tag) {\n    case 31:\n    case 13:\n    case 19:\n      var retryCache = finishedWork.stateNode;\n      null === retryCache &&\n        (retryCache = finishedWork.stateNode = new PossiblyWeakSet());\n      return retryCache;\n    case 22:\n      return (\n        (finishedWork = finishedWork.stateNode),\n        (retryCache = finishedWork._retryCache),\n        null === retryCache &&\n          (retryCache = finishedWork._retryCache = new PossiblyWeakSet()),\n        retryCache\n      );\n    default:\n      throw Error(formatProdErrorMessage(435, finishedWork.tag));\n  }\n}\nfunction attachSuspenseRetryListeners(finishedWork, wakeables) {\n  var retryCache = getRetryCache(finishedWork);\n  wakeables.forEach(function (wakeable) {\n    if (!retryCache.has(wakeable)) {\n      retryCache.add(wakeable);\n      var retry = resolveRetryWakeable.bind(null, finishedWork, wakeable);\n      wakeable.then(retry, retry);\n    }\n  });\n}\nfunction recursivelyTraverseMutationEffects(root$jscomp$0, parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (null !== deletions)\n    for (var i = 0; i < deletions.length; i++) {\n      var childToDelete = deletions[i],\n        root = root$jscomp$0,\n        returnFiber = parentFiber,\n        parent = returnFiber;\n      a: for (; null !== parent; ) {\n        switch (parent.tag) {\n          case 27:\n            if (isSingletonScope(parent.type)) {\n              hostParent = parent.stateNode;\n              hostParentIsContainer = !1;\n              break a;\n            }\n            break;\n          case 5:\n            hostParent = parent.stateNode;\n            hostParentIsContainer = !1;\n            break a;\n          case 3:\n          case 4:\n            hostParent = parent.stateNode.containerInfo;\n            hostParentIsContainer = !0;\n            break a;\n        }\n        parent = parent.return;\n      }\n      if (null === hostParent) throw Error(formatProdErrorMessage(160));\n      commitDeletionEffectsOnFiber(root, returnFiber, childToDelete);\n      hostParent = null;\n      hostParentIsContainer = !1;\n      root = childToDelete.alternate;\n      null !== root && (root.return = null);\n      childToDelete.return = null;\n    }\n  if (parentFiber.subtreeFlags & 13886)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitMutationEffectsOnFiber(parentFiber, root$jscomp$0),\n        (parentFiber = parentFiber.sibling);\n}\nvar currentHoistableRoot = null;\nfunction commitMutationEffectsOnFiber(finishedWork, root) {\n  var current = finishedWork.alternate,\n    flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        (commitHookEffectListUnmount(3, finishedWork, finishedWork.return),\n        commitHookEffectListMount(3, finishedWork),\n        commitHookEffectListUnmount(5, finishedWork, finishedWork.return));\n      break;\n    case 1:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      flags & 64 &&\n        offscreenSubtreeIsHidden &&\n        ((finishedWork = finishedWork.updateQueue),\n        null !== finishedWork &&\n          ((flags = finishedWork.callbacks),\n          null !== flags &&\n            ((current = finishedWork.shared.hiddenCallbacks),\n            (finishedWork.shared.hiddenCallbacks =\n              null === current ? flags : current.concat(flags)))));\n      break;\n    case 26:\n      var hoistableRoot = currentHoistableRoot;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (flags & 4) {\n        var currentResource = null !== current ? current.memoizedState : null;\n        flags = finishedWork.memoizedState;\n        if (null === current)\n          if (null === flags)\n            if (null === finishedWork.stateNode) {\n              a: {\n                flags = finishedWork.type;\n                current = finishedWork.memoizedProps;\n                hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n                b: switch (flags) {\n                  case \"title\":\n                    currentResource =\n                      hoistableRoot.getElementsByTagName(\"title\")[0];\n                    if (\n                      !currentResource ||\n                      currentResource[internalHoistableMarker] ||\n                      currentResource[internalInstanceKey] ||\n                      \"http://www.w3.org/2000/svg\" ===\n                        currentResource.namespaceURI ||\n                      currentResource.hasAttribute(\"itemprop\")\n                    )\n                      (currentResource = hoistableRoot.createElement(flags)),\n                        hoistableRoot.head.insertBefore(\n                          currentResource,\n                          hoistableRoot.querySelector(\"head > title\")\n                        );\n                    setInitialProperties(currentResource, flags, current);\n                    currentResource[internalInstanceKey] = finishedWork;\n                    markNodeAsHoistable(currentResource);\n                    flags = currentResource;\n                    break a;\n                  case \"link\":\n                    var maybeNodes = getHydratableHoistableCache(\n                      \"link\",\n                      \"href\",\n                      hoistableRoot\n                    ).get(flags + (current.href || \"\"));\n                    if (maybeNodes)\n                      for (var i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"href\") ===\n                            (null == current.href || \"\" === current.href\n                              ? null\n                              : current.href) &&\n                            currentResource.getAttribute(\"rel\") ===\n                              (null == current.rel ? null : current.rel) &&\n                            currentResource.getAttribute(\"title\") ===\n                              (null == current.title ? null : current.title) &&\n                            currentResource.getAttribute(\"crossorigin\") ===\n                              (null == current.crossOrigin\n                                ? null\n                                : current.crossOrigin))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  case \"meta\":\n                    if (\n                      (maybeNodes = getHydratableHoistableCache(\n                        \"meta\",\n                        \"content\",\n                        hoistableRoot\n                      ).get(flags + (current.content || \"\")))\n                    )\n                      for (i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"content\") ===\n                            (null == current.content\n                              ? null\n                              : \"\" + current.content) &&\n                            currentResource.getAttribute(\"name\") ===\n                              (null == current.name ? null : current.name) &&\n                            currentResource.getAttribute(\"property\") ===\n                              (null == current.property\n                                ? null\n                                : current.property) &&\n                            currentResource.getAttribute(\"http-equiv\") ===\n                              (null == current.httpEquiv\n                                ? null\n                                : current.httpEquiv) &&\n                            currentResource.getAttribute(\"charset\") ===\n                              (null == current.charSet\n                                ? null\n                                : current.charSet))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  default:\n                    throw Error(formatProdErrorMessage(468, flags));\n                }\n                currentResource[internalInstanceKey] = finishedWork;\n                markNodeAsHoistable(currentResource);\n                flags = currentResource;\n              }\n              finishedWork.stateNode = flags;\n            } else\n              mountHoistable(\n                hoistableRoot,\n                finishedWork.type,\n                finishedWork.stateNode\n              );\n          else\n            finishedWork.stateNode = acquireResource(\n              hoistableRoot,\n              flags,\n              finishedWork.memoizedProps\n            );\n        else\n          currentResource !== flags\n            ? (null === currentResource\n                ? null !== current.stateNode &&\n                  ((current = current.stateNode),\n                  current.parentNode.removeChild(current))\n                : currentResource.count--,\n              null === flags\n                ? mountHoistable(\n                    hoistableRoot,\n                    finishedWork.type,\n                    finishedWork.stateNode\n                  )\n                : acquireResource(\n                    hoistableRoot,\n                    flags,\n                    finishedWork.memoizedProps\n                  ))\n            : null === flags &&\n              null !== finishedWork.stateNode &&\n              commitHostUpdate(\n                finishedWork,\n                finishedWork.memoizedProps,\n                current.memoizedProps\n              );\n      }\n      break;\n    case 27:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      null !== current &&\n        flags & 4 &&\n        commitHostUpdate(\n          finishedWork,\n          finishedWork.memoizedProps,\n          current.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (finishedWork.flags & 32) {\n        hoistableRoot = finishedWork.stateNode;\n        try {\n          setTextContent(hoistableRoot, \"\");\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      flags & 4 &&\n        null != finishedWork.stateNode &&\n        ((hoistableRoot = finishedWork.memoizedProps),\n        commitHostUpdate(\n          finishedWork,\n          hoistableRoot,\n          null !== current ? current.memoizedProps : hoistableRoot\n        ));\n      flags & 1024 && (needsFormReset = !0);\n      break;\n    case 6:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4) {\n        if (null === finishedWork.stateNode)\n          throw Error(formatProdErrorMessage(162));\n        flags = finishedWork.memoizedProps;\n        current = finishedWork.stateNode;\n        try {\n          current.nodeValue = flags;\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 3:\n      tagCaches = null;\n      hoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(root.containerInfo);\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      currentHoistableRoot = hoistableRoot;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4 && null !== current && current.memoizedState.isDehydrated)\n        try {\n          retryIfBlockedOn(root.containerInfo);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      needsFormReset &&\n        ((needsFormReset = !1), recursivelyResetForms(finishedWork));\n      break;\n    case 4:\n      flags = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(\n        finishedWork.stateNode.containerInfo\n      );\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      currentHoistableRoot = flags;\n      break;\n    case 12:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      break;\n    case 31:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 13:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      finishedWork.child.flags & 8192 &&\n        (null !== finishedWork.memoizedState) !==\n          (null !== current && null !== current.memoizedState) &&\n        (globalMostRecentFallbackTime = now());\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 22:\n      hoistableRoot = null !== finishedWork.memoizedState;\n      var wasHidden = null !== current && null !== current.memoizedState,\n        prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,\n        prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden || hoistableRoot;\n      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden || wasHidden;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 8192)\n        a: for (\n          root = finishedWork.stateNode,\n            root._visibility = hoistableRoot\n              ? root._visibility & -2\n              : root._visibility | 1,\n            hoistableRoot &&\n              (null === current ||\n                wasHidden ||\n                offscreenSubtreeIsHidden ||\n                offscreenSubtreeWasHidden ||\n                recursivelyTraverseDisappearLayoutEffects(finishedWork)),\n            current = null,\n            root = finishedWork;\n          ;\n\n        ) {\n          if (5 === root.tag || 26 === root.tag) {\n            if (null === current) {\n              wasHidden = current = root;\n              try {\n                if (((currentResource = wasHidden.stateNode), hoistableRoot))\n                  (maybeNodes = currentResource.style),\n                    \"function\" === typeof maybeNodes.setProperty\n                      ? maybeNodes.setProperty(\"display\", \"none\", \"important\")\n                      : (maybeNodes.display = \"none\");\n                else {\n                  i = wasHidden.stateNode;\n                  var styleProp = wasHidden.memoizedProps.style,\n                    display =\n                      void 0 !== styleProp &&\n                      null !== styleProp &&\n                      styleProp.hasOwnProperty(\"display\")\n                        ? styleProp.display\n                        : null;\n                  i.style.display =\n                    null == display || \"boolean\" === typeof display\n                      ? \"\"\n                      : (\"\" + display).trim();\n                }\n              } catch (error) {\n                captureCommitPhaseError(wasHidden, wasHidden.return, error);\n              }\n            }\n          } else if (6 === root.tag) {\n            if (null === current) {\n              wasHidden = root;\n              try {\n                wasHidden.stateNode.nodeValue = hoistableRoot\n                  ? \"\"\n                  : wasHidden.memoizedProps;\n              } catch (error) {\n                captureCommitPhaseError(wasHidden, wasHidden.return, error);\n              }\n            }\n          } else if (18 === root.tag) {\n            if (null === current) {\n              wasHidden = root;\n              try {\n                var instance = wasHidden.stateNode;\n                hoistableRoot\n                  ? hideOrUnhideDehydratedBoundary(instance, !0)\n                  : hideOrUnhideDehydratedBoundary(wasHidden.stateNode, !1);\n              } catch (error) {\n                captureCommitPhaseError(wasHidden, wasHidden.return, error);\n              }\n            }\n          } else if (\n            ((22 !== root.tag && 23 !== root.tag) ||\n              null === root.memoizedState ||\n              root === finishedWork) &&\n            null !== root.child\n          ) {\n            root.child.return = root;\n            root = root.child;\n            continue;\n          }\n          if (root === finishedWork) break a;\n          for (; null === root.sibling; ) {\n            if (null === root.return || root.return === finishedWork) break a;\n            current === root && (current = null);\n            root = root.return;\n          }\n          current === root && (current = null);\n          root.sibling.return = root.return;\n          root = root.sibling;\n        }\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((current = flags.retryQueue),\n          null !== current &&\n            ((flags.retryQueue = null),\n            attachSuspenseRetryListeners(finishedWork, current))));\n      break;\n    case 19:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 30:\n      break;\n    case 21:\n      break;\n    default:\n      recursivelyTraverseMutationEffects(root, finishedWork),\n        commitReconciliationEffects(finishedWork);\n  }\n}\nfunction commitReconciliationEffects(finishedWork) {\n  var flags = finishedWork.flags;\n  if (flags & 2) {\n    try {\n      for (\n        var hostParentFiber, parentFiber = finishedWork.return;\n        null !== parentFiber;\n\n      ) {\n        if (isHostParent(parentFiber)) {\n          hostParentFiber = parentFiber;\n          break;\n        }\n        parentFiber = parentFiber.return;\n      }\n      if (null == hostParentFiber) throw Error(formatProdErrorMessage(160));\n      switch (hostParentFiber.tag) {\n        case 27:\n          var parent = hostParentFiber.stateNode,\n            before = getHostSibling(finishedWork);\n          insertOrAppendPlacementNode(finishedWork, before, parent);\n          break;\n        case 5:\n          var parent$141 = hostParentFiber.stateNode;\n          hostParentFiber.flags & 32 &&\n            (setTextContent(parent$141, \"\"), (hostParentFiber.flags &= -33));\n          var before$142 = getHostSibling(finishedWork);\n          insertOrAppendPlacementNode(finishedWork, before$142, parent$141);\n          break;\n        case 3:\n        case 4:\n          var parent$143 = hostParentFiber.stateNode.containerInfo,\n            before$144 = getHostSibling(finishedWork);\n          insertOrAppendPlacementNodeIntoContainer(\n            finishedWork,\n            before$144,\n            parent$143\n          );\n          break;\n        default:\n          throw Error(formatProdErrorMessage(161));\n      }\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n    finishedWork.flags &= -3;\n  }\n  flags & 4096 && (finishedWork.flags &= -4097);\n}\nfunction recursivelyResetForms(parentFiber) {\n  if (parentFiber.subtreeFlags & 1024)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var fiber = parentFiber;\n      recursivelyResetForms(fiber);\n      5 === fiber.tag && fiber.flags & 1024 && fiber.stateNode.reset();\n      parentFiber = parentFiber.sibling;\n    }\n}\nfunction recursivelyTraverseLayoutEffects(root, parentFiber) {\n  if (parentFiber.subtreeFlags & 8772)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitLayoutEffectOnFiber(root, parentFiber.alternate, parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction recursivelyTraverseDisappearLayoutEffects(parentFiber) {\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedWork = parentFiber;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 14:\n      case 15:\n        commitHookEffectListUnmount(4, finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 1:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        var instance = finishedWork.stateNode;\n        \"function\" === typeof instance.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            finishedWork,\n            finishedWork.return,\n            instance\n          );\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 27:\n        releaseSingletonInstance(finishedWork.stateNode);\n      case 26:\n      case 5:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 30:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      default:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseReappearLayoutEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 8772);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var current = parentFiber.alternate,\n      finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(4, finishedWork);\n        break;\n      case 1:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        current = finishedWork;\n        finishedRoot = current.stateNode;\n        if (\"function\" === typeof finishedRoot.componentDidMount)\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        current = finishedWork;\n        finishedRoot = current.updateQueue;\n        if (null !== finishedRoot) {\n          var instance = current.stateNode;\n          try {\n            var hiddenCallbacks = finishedRoot.shared.hiddenCallbacks;\n            if (null !== hiddenCallbacks)\n              for (\n                finishedRoot.shared.hiddenCallbacks = null, finishedRoot = 0;\n                finishedRoot < hiddenCallbacks.length;\n                finishedRoot++\n              )\n                callCallback(hiddenCallbacks[finishedRoot], instance);\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        }\n        includeWorkInProgressEffects &&\n          flags & 64 &&\n          commitClassCallbacks(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 27:\n        commitHostSingletonAcquisition(finishedWork);\n      case 26:\n      case 5:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          null === current &&\n          flags & 4 &&\n          commitHostMount(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 12:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        break;\n      case 31:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 4 &&\n          commitActivityHydrationCallbacks(finishedRoot, finishedWork);\n        break;\n      case 13:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 4 &&\n          commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseReappearLayoutEffects(\n            finishedRoot,\n            finishedWork,\n            includeWorkInProgressEffects\n          );\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 30:\n        break;\n      default:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitOffscreenPassiveMountEffects(current, finishedWork) {\n  var previousCache = null;\n  null !== current &&\n    null !== current.memoizedState &&\n    null !== current.memoizedState.cachePool &&\n    (previousCache = current.memoizedState.cachePool.pool);\n  current = null;\n  null !== finishedWork.memoizedState &&\n    null !== finishedWork.memoizedState.cachePool &&\n    (current = finishedWork.memoizedState.cachePool.pool);\n  current !== previousCache &&\n    (null != current && current.refCount++,\n    null != previousCache && releaseCache(previousCache));\n}\nfunction commitCachePassiveMountEffect(current, finishedWork) {\n  current = null;\n  null !== finishedWork.alternate &&\n    (current = finishedWork.alternate.memoizedState.cache);\n  finishedWork = finishedWork.memoizedState.cache;\n  finishedWork !== current &&\n    (finishedWork.refCount++, null != current && releaseCache(current));\n}\nfunction recursivelyTraversePassiveMountEffects(\n  root,\n  parentFiber,\n  committedLanes,\n  committedTransitions\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveMountOnFiber(\n        root,\n        parentFiber,\n        committedLanes,\n        committedTransitions\n      ),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveMountOnFiber(\n  finishedRoot,\n  finishedWork,\n  committedLanes,\n  committedTransitions\n) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 && commitHookEffectListMount(9, finishedWork);\n      break;\n    case 1:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      break;\n    case 3:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        ((finishedRoot = null),\n        null !== finishedWork.alternate &&\n          (finishedRoot = finishedWork.alternate.memoizedState.cache),\n        (finishedWork = finishedWork.memoizedState.cache),\n        finishedWork !== finishedRoot &&\n          (finishedWork.refCount++,\n          null != finishedRoot && releaseCache(finishedRoot)));\n      break;\n    case 12:\n      if (flags & 2048) {\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n        finishedRoot = finishedWork.stateNode;\n        try {\n          var _finishedWork$memoize2 = finishedWork.memoizedProps,\n            id = _finishedWork$memoize2.id,\n            onPostCommit = _finishedWork$memoize2.onPostCommit;\n          \"function\" === typeof onPostCommit &&\n            onPostCommit(\n              id,\n              null === finishedWork.alternate ? \"mount\" : \"update\",\n              finishedRoot.passiveEffectDuration,\n              -0\n            );\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      } else\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n      break;\n    case 31:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      break;\n    case 13:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      break;\n    case 23:\n      break;\n    case 22:\n      _finishedWork$memoize2 = finishedWork.stateNode;\n      id = finishedWork.alternate;\n      null !== finishedWork.memoizedState\n        ? _finishedWork$memoize2._visibility & 2\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork)\n        : _finishedWork$memoize2._visibility & 2\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : ((_finishedWork$memoize2._visibility |= 2),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              0 !== (finishedWork.subtreeFlags & 10256) || !1\n            ));\n      flags & 2048 && commitOffscreenPassiveMountEffects(id, finishedWork);\n      break;\n    case 24:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n  }\n}\nfunction recursivelyTraverseReconnectPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  committedLanes$jscomp$0,\n  committedTransitions$jscomp$0,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects &&\n    (0 !== (parentFiber.subtreeFlags & 10256) || !1);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      committedLanes = committedLanes$jscomp$0,\n      committedTransitions = committedTransitions$jscomp$0,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(8, finishedWork);\n        break;\n      case 23:\n        break;\n      case 22:\n        var instance = finishedWork.stateNode;\n        null !== finishedWork.memoizedState\n          ? instance._visibility & 2\n            ? recursivelyTraverseReconnectPassiveEffects(\n                finishedRoot,\n                finishedWork,\n                committedLanes,\n                committedTransitions,\n                includeWorkInProgressEffects\n              )\n            : recursivelyTraverseAtomicPassiveEffects(\n                finishedRoot,\n                finishedWork\n              )\n          : ((instance._visibility |= 2),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              includeWorkInProgressEffects\n            ));\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitOffscreenPassiveMountEffects(\n            finishedWork.alternate,\n            finishedWork\n          );\n        break;\n      case 24:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n        break;\n      default:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseAtomicPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var finishedRoot = finishedRoot$jscomp$0,\n        finishedWork = parentFiber,\n        flags = finishedWork.flags;\n      switch (finishedWork.tag) {\n        case 22:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitOffscreenPassiveMountEffects(\n              finishedWork.alternate,\n              finishedWork\n            );\n          break;\n        case 24:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n          break;\n        default:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n      }\n      parentFiber = parentFiber.sibling;\n    }\n}\nvar suspenseyCommitFlag = 8192;\nfunction recursivelyAccumulateSuspenseyCommit(\n  parentFiber,\n  committedLanes,\n  suspendedState\n) {\n  if (parentFiber.subtreeFlags & suspenseyCommitFlag)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      accumulateSuspenseyCommitOnFiber(\n        parentFiber,\n        committedLanes,\n        suspendedState\n      ),\n        (parentFiber = parentFiber.sibling);\n}\nfunction accumulateSuspenseyCommitOnFiber(\n  fiber,\n  committedLanes,\n  suspendedState\n) {\n  switch (fiber.tag) {\n    case 26:\n      recursivelyAccumulateSuspenseyCommit(\n        fiber,\n        committedLanes,\n        suspendedState\n      );\n      fiber.flags & suspenseyCommitFlag &&\n        null !== fiber.memoizedState &&\n        suspendResource(\n          suspendedState,\n          currentHoistableRoot,\n          fiber.memoizedState,\n          fiber.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyAccumulateSuspenseyCommit(\n        fiber,\n        committedLanes,\n        suspendedState\n      );\n      break;\n    case 3:\n    case 4:\n      var previousHoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(fiber.stateNode.containerInfo);\n      recursivelyAccumulateSuspenseyCommit(\n        fiber,\n        committedLanes,\n        suspendedState\n      );\n      currentHoistableRoot = previousHoistableRoot;\n      break;\n    case 22:\n      null === fiber.memoizedState &&\n        ((previousHoistableRoot = fiber.alternate),\n        null !== previousHoistableRoot &&\n        null !== previousHoistableRoot.memoizedState\n          ? ((previousHoistableRoot = suspenseyCommitFlag),\n            (suspenseyCommitFlag = 16777216),\n            recursivelyAccumulateSuspenseyCommit(\n              fiber,\n              committedLanes,\n              suspendedState\n            ),\n            (suspenseyCommitFlag = previousHoistableRoot))\n          : recursivelyAccumulateSuspenseyCommit(\n              fiber,\n              committedLanes,\n              suspendedState\n            ));\n      break;\n    default:\n      recursivelyAccumulateSuspenseyCommit(\n        fiber,\n        committedLanes,\n        suspendedState\n      );\n  }\n}\nfunction detachAlternateSiblings(parentFiber) {\n  var previousFiber = parentFiber.alternate;\n  if (\n    null !== previousFiber &&\n    ((parentFiber = previousFiber.child), null !== parentFiber)\n  ) {\n    previousFiber.child = null;\n    do\n      (previousFiber = parentFiber.sibling),\n        (parentFiber.sibling = null),\n        (parentFiber = previousFiber);\n    while (null !== parentFiber);\n  }\n}\nfunction recursivelyTraversePassiveUnmountEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveUnmountOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveUnmountOnFiber(finishedWork) {\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      finishedWork.flags & 2048 &&\n        commitHookEffectListUnmount(9, finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 12:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 22:\n      var instance = finishedWork.stateNode;\n      null !== finishedWork.memoizedState &&\n      instance._visibility & 2 &&\n      (null === finishedWork.return || 13 !== finishedWork.return.tag)\n        ? ((instance._visibility &= -3),\n          recursivelyTraverseDisconnectPassiveEffects(finishedWork))\n        : recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n  }\n}\nfunction recursivelyTraverseDisconnectPassiveEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    deletions = parentFiber;\n    switch (deletions.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, deletions, deletions.return);\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n        break;\n      case 22:\n        i = deletions.stateNode;\n        i._visibility & 2 &&\n          ((i._visibility &= -3),\n          recursivelyTraverseDisconnectPassiveEffects(deletions));\n        break;\n      default:\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n  deletedSubtreeRoot,\n  nearestMountedAncestor\n) {\n  for (; null !== nextEffect; ) {\n    var fiber = nextEffect;\n    switch (fiber.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, fiber, nearestMountedAncestor);\n        break;\n      case 23:\n      case 22:\n        if (\n          null !== fiber.memoizedState &&\n          null !== fiber.memoizedState.cachePool\n        ) {\n          var cache = fiber.memoizedState.cachePool.pool;\n          null != cache && cache.refCount++;\n        }\n        break;\n      case 24:\n        releaseCache(fiber.memoizedState.cache);\n    }\n    cache = fiber.child;\n    if (null !== cache) (cache.return = fiber), (nextEffect = cache);\n    else\n      a: for (fiber = deletedSubtreeRoot; null !== nextEffect; ) {\n        cache = nextEffect;\n        var sibling = cache.sibling,\n          returnFiber = cache.return;\n        detachFiberAfterEffects(cache);\n        if (cache === fiber) {\n          nextEffect = null;\n          break a;\n        }\n        if (null !== sibling) {\n          sibling.return = returnFiber;\n          nextEffect = sibling;\n          break a;\n        }\n        nextEffect = returnFiber;\n      }\n  }\n}\nvar DefaultAsyncDispatcher = {\n    getCacheForType: function (resourceType) {\n      var cache = readContext(CacheContext),\n        cacheForType = cache.data.get(resourceType);\n      void 0 === cacheForType &&\n        ((cacheForType = resourceType()),\n        cache.data.set(resourceType, cacheForType));\n      return cacheForType;\n    },\n    cacheSignal: function () {\n      return readContext(CacheContext).controller.signal;\n    }\n  },\n  PossiblyWeakMap = \"function\" === typeof WeakMap ? WeakMap : Map,\n  executionContext = 0,\n  workInProgressRoot = null,\n  workInProgress = null,\n  workInProgressRootRenderLanes = 0,\n  workInProgressSuspendedReason = 0,\n  workInProgressThrownValue = null,\n  workInProgressRootDidSkipSuspendedSiblings = !1,\n  workInProgressRootIsPrerendering = !1,\n  workInProgressRootDidAttachPingListener = !1,\n  entangledRenderLanes = 0,\n  workInProgressRootExitStatus = 0,\n  workInProgressRootSkippedLanes = 0,\n  workInProgressRootInterleavedUpdatedLanes = 0,\n  workInProgressRootPingedLanes = 0,\n  workInProgressDeferredLane = 0,\n  workInProgressSuspendedRetryLanes = 0,\n  workInProgressRootConcurrentErrors = null,\n  workInProgressRootRecoverableErrors = null,\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1,\n  globalMostRecentFallbackTime = 0,\n  globalMostRecentTransitionTime = 0,\n  workInProgressRootRenderTargetTime = Infinity,\n  workInProgressTransitions = null,\n  legacyErrorBoundariesThatAlreadyFailed = null,\n  pendingEffectsStatus = 0,\n  pendingEffectsRoot = null,\n  pendingFinishedWork = null,\n  pendingEffectsLanes = 0,\n  pendingEffectsRemainingLanes = 0,\n  pendingPassiveTransitions = null,\n  pendingRecoverableErrors = null,\n  nestedUpdateCount = 0,\n  rootWithNestedUpdates = null;\nfunction requestUpdateLane() {\n  return 0 !== (executionContext & 2) && 0 !== workInProgressRootRenderLanes\n    ? workInProgressRootRenderLanes & -workInProgressRootRenderLanes\n    : null !== ReactSharedInternals.T\n      ? requestTransitionLane()\n      : resolveUpdatePriority();\n}\nfunction requestDeferredLane() {\n  if (0 === workInProgressDeferredLane)\n    if (0 === (workInProgressRootRenderLanes & 536870912) || isHydrating) {\n      var lane = nextTransitionDeferredLane;\n      nextTransitionDeferredLane <<= 1;\n      0 === (nextTransitionDeferredLane & 3932160) &&\n        (nextTransitionDeferredLane = 262144);\n      workInProgressDeferredLane = lane;\n    } else workInProgressDeferredLane = 536870912;\n  lane = suspenseHandlerStackCursor.current;\n  null !== lane && (lane.flags |= 32);\n  return workInProgressDeferredLane;\n}\nfunction scheduleUpdateOnFiber(root, fiber, lane) {\n  if (\n    (root === workInProgressRoot &&\n      (2 === workInProgressSuspendedReason ||\n        9 === workInProgressSuspendedReason)) ||\n    null !== root.cancelPendingCommit\n  )\n    prepareFreshStack(root, 0),\n      markRootSuspended(\n        root,\n        workInProgressRootRenderLanes,\n        workInProgressDeferredLane,\n        !1\n      );\n  markRootUpdated$1(root, lane);\n  if (0 === (executionContext & 2) || root !== workInProgressRoot)\n    root === workInProgressRoot &&\n      (0 === (executionContext & 2) &&\n        (workInProgressRootInterleavedUpdatedLanes |= lane),\n      4 === workInProgressRootExitStatus &&\n        markRootSuspended(\n          root,\n          workInProgressRootRenderLanes,\n          workInProgressDeferredLane,\n          !1\n        )),\n      ensureRootIsScheduled(root);\n}\nfunction performWorkOnRoot(root$jscomp$0, lanes, forceSync) {\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  var shouldTimeSlice =\n      (!forceSync &&\n        0 === (lanes & 127) &&\n        0 === (lanes & root$jscomp$0.expiredLanes)) ||\n      checkIfRootIsPrerendering(root$jscomp$0, lanes),\n    exitStatus = shouldTimeSlice\n      ? renderRootConcurrent(root$jscomp$0, lanes)\n      : renderRootSync(root$jscomp$0, lanes, !0),\n    renderWasConcurrent = shouldTimeSlice;\n  do {\n    if (0 === exitStatus) {\n      workInProgressRootIsPrerendering &&\n        !shouldTimeSlice &&\n        markRootSuspended(root$jscomp$0, lanes, 0, !1);\n      break;\n    } else {\n      forceSync = root$jscomp$0.current.alternate;\n      if (\n        renderWasConcurrent &&\n        !isRenderConsistentWithExternalStores(forceSync)\n      ) {\n        exitStatus = renderRootSync(root$jscomp$0, lanes, !1);\n        renderWasConcurrent = !1;\n        continue;\n      }\n      if (2 === exitStatus) {\n        renderWasConcurrent = lanes;\n        if (root$jscomp$0.errorRecoveryDisabledLanes & renderWasConcurrent)\n          var JSCompiler_inline_result = 0;\n        else\n          (JSCompiler_inline_result = root$jscomp$0.pendingLanes & -536870913),\n            (JSCompiler_inline_result =\n              0 !== JSCompiler_inline_result\n                ? JSCompiler_inline_result\n                : JSCompiler_inline_result & 536870912\n                  ? 536870912\n                  : 0);\n        if (0 !== JSCompiler_inline_result) {\n          lanes = JSCompiler_inline_result;\n          a: {\n            var root = root$jscomp$0;\n            exitStatus = workInProgressRootConcurrentErrors;\n            var wasRootDehydrated = root.current.memoizedState.isDehydrated;\n            wasRootDehydrated &&\n              (prepareFreshStack(root, JSCompiler_inline_result).flags |= 256);\n            JSCompiler_inline_result = renderRootSync(\n              root,\n              JSCompiler_inline_result,\n              !1\n            );\n            if (2 !== JSCompiler_inline_result) {\n              if (\n                workInProgressRootDidAttachPingListener &&\n                !wasRootDehydrated\n              ) {\n                root.errorRecoveryDisabledLanes |= renderWasConcurrent;\n                workInProgressRootInterleavedUpdatedLanes |=\n                  renderWasConcurrent;\n                exitStatus = 4;\n                break a;\n              }\n              renderWasConcurrent = workInProgressRootRecoverableErrors;\n              workInProgressRootRecoverableErrors = exitStatus;\n              null !== renderWasConcurrent &&\n                (null === workInProgressRootRecoverableErrors\n                  ? (workInProgressRootRecoverableErrors = renderWasConcurrent)\n                  : workInProgressRootRecoverableErrors.push.apply(\n                      workInProgressRootRecoverableErrors,\n                      renderWasConcurrent\n                    ));\n            }\n            exitStatus = JSCompiler_inline_result;\n          }\n          renderWasConcurrent = !1;\n          if (2 !== exitStatus) continue;\n        }\n      }\n      if (1 === exitStatus) {\n        prepareFreshStack(root$jscomp$0, 0);\n        markRootSuspended(root$jscomp$0, lanes, 0, !0);\n        break;\n      }\n      a: {\n        shouldTimeSlice = root$jscomp$0;\n        renderWasConcurrent = exitStatus;\n        switch (renderWasConcurrent) {\n          case 0:\n          case 1:\n            throw Error(formatProdErrorMessage(345));\n          case 4:\n            if ((lanes & 4194048) !== lanes) break;\n          case 6:\n            markRootSuspended(\n              shouldTimeSlice,\n              lanes,\n              workInProgressDeferredLane,\n              !workInProgressRootDidSkipSuspendedSiblings\n            );\n            break a;\n          case 2:\n            workInProgressRootRecoverableErrors = null;\n            break;\n          case 3:\n          case 5:\n            break;\n          default:\n            throw Error(formatProdErrorMessage(329));\n        }\n        if (\n          (lanes & 62914560) === lanes &&\n          ((exitStatus = globalMostRecentFallbackTime + 300 - now()),\n          10 < exitStatus)\n        ) {\n          markRootSuspended(\n            shouldTimeSlice,\n            lanes,\n            workInProgressDeferredLane,\n            !workInProgressRootDidSkipSuspendedSiblings\n          );\n          if (0 !== getNextLanes(shouldTimeSlice, 0, !0)) break a;\n          pendingEffectsLanes = lanes;\n          shouldTimeSlice.timeoutHandle = scheduleTimeout(\n            commitRootWhenReady.bind(\n              null,\n              shouldTimeSlice,\n              forceSync,\n              workInProgressRootRecoverableErrors,\n              workInProgressTransitions,\n              workInProgressRootDidIncludeRecursiveRenderUpdate,\n              lanes,\n              workInProgressDeferredLane,\n              workInProgressRootInterleavedUpdatedLanes,\n              workInProgressSuspendedRetryLanes,\n              workInProgressRootDidSkipSuspendedSiblings,\n              renderWasConcurrent,\n              \"Throttled\",\n              -0,\n              0\n            ),\n            exitStatus\n          );\n          break a;\n        }\n        commitRootWhenReady(\n          shouldTimeSlice,\n          forceSync,\n          workInProgressRootRecoverableErrors,\n          workInProgressTransitions,\n          workInProgressRootDidIncludeRecursiveRenderUpdate,\n          lanes,\n          workInProgressDeferredLane,\n          workInProgressRootInterleavedUpdatedLanes,\n          workInProgressSuspendedRetryLanes,\n          workInProgressRootDidSkipSuspendedSiblings,\n          renderWasConcurrent,\n          null,\n          -0,\n          0\n        );\n      }\n    }\n    break;\n  } while (1);\n  ensureRootIsScheduled(root$jscomp$0);\n}\nfunction commitRootWhenReady(\n  root,\n  finishedWork,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  lanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes,\n  didSkipSuspendedSiblings,\n  exitStatus,\n  suspendedCommitReason,\n  completedRenderStartTime,\n  completedRenderEndTime\n) {\n  root.timeoutHandle = -1;\n  suspendedCommitReason = finishedWork.subtreeFlags;\n  if (\n    suspendedCommitReason & 8192 ||\n    16785408 === (suspendedCommitReason & 16785408)\n  ) {\n    suspendedCommitReason = {\n      stylesheets: null,\n      count: 0,\n      imgCount: 0,\n      imgBytes: 0,\n      suspenseyImages: [],\n      waitingForImages: !0,\n      waitingForViewTransition: !1,\n      unsuspend: noop$1\n    };\n    accumulateSuspenseyCommitOnFiber(\n      finishedWork,\n      lanes,\n      suspendedCommitReason\n    );\n    var timeoutOffset =\n      (lanes & 62914560) === lanes\n        ? globalMostRecentFallbackTime - now()\n        : (lanes & 4194048) === lanes\n          ? globalMostRecentTransitionTime - now()\n          : 0;\n    timeoutOffset = waitForCommitToBeReady(\n      suspendedCommitReason,\n      timeoutOffset\n    );\n    if (null !== timeoutOffset) {\n      pendingEffectsLanes = lanes;\n      root.cancelPendingCommit = timeoutOffset(\n        commitRoot.bind(\n          null,\n          root,\n          finishedWork,\n          lanes,\n          recoverableErrors,\n          transitions,\n          didIncludeRenderPhaseUpdate,\n          spawnedLane,\n          updatedLanes,\n          suspendedRetryLanes,\n          exitStatus,\n          suspendedCommitReason,\n          null,\n          completedRenderStartTime,\n          completedRenderEndTime\n        )\n      );\n      markRootSuspended(root, lanes, spawnedLane, !didSkipSuspendedSiblings);\n      return;\n    }\n  }\n  commitRoot(\n    root,\n    finishedWork,\n    lanes,\n    recoverableErrors,\n    transitions,\n    didIncludeRenderPhaseUpdate,\n    spawnedLane,\n    updatedLanes,\n    suspendedRetryLanes\n  );\n}\nfunction isRenderConsistentWithExternalStores(finishedWork) {\n  for (var node = finishedWork; ; ) {\n    var tag = node.tag;\n    if (\n      (0 === tag || 11 === tag || 15 === tag) &&\n      node.flags & 16384 &&\n      ((tag = node.updateQueue),\n      null !== tag && ((tag = tag.stores), null !== tag))\n    )\n      for (var i = 0; i < tag.length; i++) {\n        var check = tag[i],\n          getSnapshot = check.getSnapshot;\n        check = check.value;\n        try {\n          if (!objectIs(getSnapshot(), check)) return !1;\n        } catch (error) {\n          return !1;\n        }\n      }\n    tag = node.child;\n    if (node.subtreeFlags & 16384 && null !== tag)\n      (tag.return = node), (node = tag);\n    else {\n      if (node === finishedWork) break;\n      for (; null === node.sibling; ) {\n        if (null === node.return || node.return === finishedWork) return !0;\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  }\n  return !0;\n}\nfunction markRootSuspended(\n  root,\n  suspendedLanes,\n  spawnedLane,\n  didAttemptEntireTree\n) {\n  suspendedLanes &= ~workInProgressRootPingedLanes;\n  suspendedLanes &= ~workInProgressRootInterleavedUpdatedLanes;\n  root.suspendedLanes |= suspendedLanes;\n  root.pingedLanes &= ~suspendedLanes;\n  didAttemptEntireTree && (root.warmLanes |= suspendedLanes);\n  didAttemptEntireTree = root.expirationTimes;\n  for (var lanes = suspendedLanes; 0 < lanes; ) {\n    var index$6 = 31 - clz32(lanes),\n      lane = 1 << index$6;\n    didAttemptEntireTree[index$6] = -1;\n    lanes &= ~lane;\n  }\n  0 !== spawnedLane &&\n    markSpawnedDeferredLane(root, spawnedLane, suspendedLanes);\n}\nfunction flushSyncWork$1() {\n  return 0 === (executionContext & 6)\n    ? (flushSyncWorkAcrossRoots_impl(0, !1), !1)\n    : !0;\n}\nfunction resetWorkInProgressStack() {\n  if (null !== workInProgress) {\n    if (0 === workInProgressSuspendedReason)\n      var interruptedWork = workInProgress.return;\n    else\n      (interruptedWork = workInProgress),\n        (lastContextDependency = currentlyRenderingFiber$1 = null),\n        resetHooksOnUnwind(interruptedWork),\n        (thenableState$1 = null),\n        (thenableIndexCounter$1 = 0),\n        (interruptedWork = workInProgress);\n    for (; null !== interruptedWork; )\n      unwindInterruptedWork(interruptedWork.alternate, interruptedWork),\n        (interruptedWork = interruptedWork.return);\n    workInProgress = null;\n  }\n}\nfunction prepareFreshStack(root, lanes) {\n  var timeoutHandle = root.timeoutHandle;\n  -1 !== timeoutHandle &&\n    ((root.timeoutHandle = -1), cancelTimeout(timeoutHandle));\n  timeoutHandle = root.cancelPendingCommit;\n  null !== timeoutHandle &&\n    ((root.cancelPendingCommit = null), timeoutHandle());\n  pendingEffectsLanes = 0;\n  resetWorkInProgressStack();\n  workInProgressRoot = root;\n  workInProgress = timeoutHandle = createWorkInProgress(root.current, null);\n  workInProgressRootRenderLanes = lanes;\n  workInProgressSuspendedReason = 0;\n  workInProgressThrownValue = null;\n  workInProgressRootDidSkipSuspendedSiblings = !1;\n  workInProgressRootIsPrerendering = checkIfRootIsPrerendering(root, lanes);\n  workInProgressRootDidAttachPingListener = !1;\n  workInProgressSuspendedRetryLanes =\n    workInProgressDeferredLane =\n    workInProgressRootPingedLanes =\n    workInProgressRootInterleavedUpdatedLanes =\n    workInProgressRootSkippedLanes =\n    workInProgressRootExitStatus =\n      0;\n  workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =\n    null;\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1;\n  0 !== (lanes & 8) && (lanes |= lanes & 32);\n  var allEntangledLanes = root.entangledLanes;\n  if (0 !== allEntangledLanes)\n    for (\n      root = root.entanglements, allEntangledLanes &= lanes;\n      0 < allEntangledLanes;\n\n    ) {\n      var index$4 = 31 - clz32(allEntangledLanes),\n        lane = 1 << index$4;\n      lanes |= root[index$4];\n      allEntangledLanes &= ~lane;\n    }\n  entangledRenderLanes = lanes;\n  finishQueueingConcurrentUpdates();\n  return timeoutHandle;\n}\nfunction handleThrow(root, thrownValue) {\n  currentlyRenderingFiber = null;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  thrownValue === SuspenseException || thrownValue === SuspenseActionException\n    ? ((thrownValue = getSuspendedThenable()),\n      (workInProgressSuspendedReason = 3))\n    : thrownValue === SuspenseyCommitException\n      ? ((thrownValue = getSuspendedThenable()),\n        (workInProgressSuspendedReason = 4))\n      : (workInProgressSuspendedReason =\n          thrownValue === SelectiveHydrationException\n            ? 8\n            : null !== thrownValue &&\n                \"object\" === typeof thrownValue &&\n                \"function\" === typeof thrownValue.then\n              ? 6\n              : 1);\n  workInProgressThrownValue = thrownValue;\n  null === workInProgress &&\n    ((workInProgressRootExitStatus = 1),\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    ));\n}\nfunction shouldRemainOnPreviousScreen() {\n  var handler = suspenseHandlerStackCursor.current;\n  return null === handler\n    ? !0\n    : (workInProgressRootRenderLanes & 4194048) ===\n        workInProgressRootRenderLanes\n      ? null === shellBoundary\n        ? !0\n        : !1\n      : (workInProgressRootRenderLanes & 62914560) ===\n            workInProgressRootRenderLanes ||\n          0 !== (workInProgressRootRenderLanes & 536870912)\n        ? handler === shellBoundary\n        : !1;\n}\nfunction pushDispatcher() {\n  var prevDispatcher = ReactSharedInternals.H;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  return null === prevDispatcher ? ContextOnlyDispatcher : prevDispatcher;\n}\nfunction pushAsyncDispatcher() {\n  var prevAsyncDispatcher = ReactSharedInternals.A;\n  ReactSharedInternals.A = DefaultAsyncDispatcher;\n  return prevAsyncDispatcher;\n}\nfunction renderDidSuspendDelayIfPossible() {\n  workInProgressRootExitStatus = 4;\n  workInProgressRootDidSkipSuspendedSiblings ||\n    ((workInProgressRootRenderLanes & 4194048) !==\n      workInProgressRootRenderLanes &&\n      null !== suspenseHandlerStackCursor.current) ||\n    (workInProgressRootIsPrerendering = !0);\n  (0 === (workInProgressRootSkippedLanes & 134217727) &&\n    0 === (workInProgressRootInterleavedUpdatedLanes & 134217727)) ||\n    null === workInProgressRoot ||\n    markRootSuspended(\n      workInProgressRoot,\n      workInProgressRootRenderLanes,\n      workInProgressDeferredLane,\n      !1\n    );\n}\nfunction renderRootSync(root, lanes, shouldYieldForPrerendering) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  if (workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes)\n    (workInProgressTransitions = null), prepareFreshStack(root, lanes);\n  lanes = !1;\n  var exitStatus = workInProgressRootExitStatus;\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        var unitOfWork = workInProgress,\n          thrownValue = workInProgressThrownValue;\n        switch (workInProgressSuspendedReason) {\n          case 8:\n            resetWorkInProgressStack();\n            exitStatus = 6;\n            break a;\n          case 3:\n          case 2:\n          case 9:\n          case 6:\n            null === suspenseHandlerStackCursor.current && (lanes = !0);\n            var reason = workInProgressSuspendedReason;\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n            if (\n              shouldYieldForPrerendering &&\n              workInProgressRootIsPrerendering\n            ) {\n              exitStatus = 0;\n              break a;\n            }\n            break;\n          default:\n            (reason = workInProgressSuspendedReason),\n              (workInProgressSuspendedReason = 0),\n              (workInProgressThrownValue = null),\n              throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n        }\n      }\n      workLoopSync();\n      exitStatus = workInProgressRootExitStatus;\n      break;\n    } catch (thrownValue$165) {\n      handleThrow(root, thrownValue$165);\n    }\n  while (1);\n  lanes && root.shellSuspendCounter++;\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  executionContext = prevExecutionContext;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  null === workInProgress &&\n    ((workInProgressRoot = null),\n    (workInProgressRootRenderLanes = 0),\n    finishQueueingConcurrentUpdates());\n  return exitStatus;\n}\nfunction workLoopSync() {\n  for (; null !== workInProgress; ) performUnitOfWork(workInProgress);\n}\nfunction renderRootConcurrent(root, lanes) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes\n    ? ((workInProgressTransitions = null),\n      (workInProgressRootRenderTargetTime = now() + 500),\n      prepareFreshStack(root, lanes))\n    : (workInProgressRootIsPrerendering = checkIfRootIsPrerendering(\n        root,\n        lanes\n      ));\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        lanes = workInProgress;\n        var thrownValue = workInProgressThrownValue;\n        b: switch (workInProgressSuspendedReason) {\n          case 1:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 1);\n            break;\n          case 2:\n          case 9:\n            if (isThenableResolved(thrownValue)) {\n              workInProgressSuspendedReason = 0;\n              workInProgressThrownValue = null;\n              replaySuspendedUnitOfWork(lanes);\n              break;\n            }\n            lanes = function () {\n              (2 !== workInProgressSuspendedReason &&\n                9 !== workInProgressSuspendedReason) ||\n                workInProgressRoot !== root ||\n                (workInProgressSuspendedReason = 7);\n              ensureRootIsScheduled(root);\n            };\n            thrownValue.then(lanes, lanes);\n            break a;\n          case 3:\n            workInProgressSuspendedReason = 7;\n            break a;\n          case 4:\n            workInProgressSuspendedReason = 5;\n            break a;\n          case 7:\n            isThenableResolved(thrownValue)\n              ? ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                replaySuspendedUnitOfWork(lanes))\n              : ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                throwAndUnwindWorkLoop(root, lanes, thrownValue, 7));\n            break;\n          case 5:\n            var resource = null;\n            switch (workInProgress.tag) {\n              case 26:\n                resource = workInProgress.memoizedState;\n              case 5:\n              case 27:\n                var hostFiber = workInProgress;\n                if (\n                  resource\n                    ? preloadResource(resource)\n                    : hostFiber.stateNode.complete\n                ) {\n                  workInProgressSuspendedReason = 0;\n                  workInProgressThrownValue = null;\n                  var sibling = hostFiber.sibling;\n                  if (null !== sibling) workInProgress = sibling;\n                  else {\n                    var returnFiber = hostFiber.return;\n                    null !== returnFiber\n                      ? ((workInProgress = returnFiber),\n                        completeUnitOfWork(returnFiber))\n                      : (workInProgress = null);\n                  }\n                  break b;\n                }\n            }\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 5);\n            break;\n          case 6:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 6);\n            break;\n          case 8:\n            resetWorkInProgressStack();\n            workInProgressRootExitStatus = 6;\n            break a;\n          default:\n            throw Error(formatProdErrorMessage(462));\n        }\n      }\n      workLoopConcurrentByScheduler();\n      break;\n    } catch (thrownValue$167) {\n      handleThrow(root, thrownValue$167);\n    }\n  while (1);\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  executionContext = prevExecutionContext;\n  if (null !== workInProgress) return 0;\n  workInProgressRoot = null;\n  workInProgressRootRenderLanes = 0;\n  finishQueueingConcurrentUpdates();\n  return workInProgressRootExitStatus;\n}\nfunction workLoopConcurrentByScheduler() {\n  for (; null !== workInProgress && !shouldYield(); )\n    performUnitOfWork(workInProgress);\n}\nfunction performUnitOfWork(unitOfWork) {\n  var next = beginWork(unitOfWork.alternate, unitOfWork, entangledRenderLanes);\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction replaySuspendedUnitOfWork(unitOfWork) {\n  var next = unitOfWork;\n  var current = next.alternate;\n  switch (next.tag) {\n    case 15:\n    case 0:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type,\n        void 0,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 11:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type.render,\n        next.ref,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 5:\n      resetHooksOnUnwind(next);\n    default:\n      unwindInterruptedWork(current, next),\n        (next = workInProgress =\n          resetWorkInProgress(next, entangledRenderLanes)),\n        (next = beginWork(current, next, entangledRenderLanes));\n  }\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction throwAndUnwindWorkLoop(\n  root,\n  unitOfWork,\n  thrownValue,\n  suspendedReason\n) {\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  resetHooksOnUnwind(unitOfWork);\n  thenableState$1 = null;\n  thenableIndexCounter$1 = 0;\n  var returnFiber = unitOfWork.return;\n  try {\n    if (\n      throwException(\n        root,\n        returnFiber,\n        unitOfWork,\n        thrownValue,\n        workInProgressRootRenderLanes\n      )\n    ) {\n      workInProgressRootExitStatus = 1;\n      logUncaughtError(\n        root,\n        createCapturedValueAtFiber(thrownValue, root.current)\n      );\n      workInProgress = null;\n      return;\n    }\n  } catch (error) {\n    if (null !== returnFiber) throw ((workInProgress = returnFiber), error);\n    workInProgressRootExitStatus = 1;\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    );\n    workInProgress = null;\n    return;\n  }\n  if (unitOfWork.flags & 32768) {\n    if (isHydrating || 1 === suspendedReason) root = !0;\n    else if (\n      workInProgressRootIsPrerendering ||\n      0 !== (workInProgressRootRenderLanes & 536870912)\n    )\n      root = !1;\n    else if (\n      ((workInProgressRootDidSkipSuspendedSiblings = root = !0),\n      2 === suspendedReason ||\n        9 === suspendedReason ||\n        3 === suspendedReason ||\n        6 === suspendedReason)\n    )\n      (suspendedReason = suspenseHandlerStackCursor.current),\n        null !== suspendedReason &&\n          13 === suspendedReason.tag &&\n          (suspendedReason.flags |= 16384);\n    unwindUnitOfWork(unitOfWork, root);\n  } else completeUnitOfWork(unitOfWork);\n}\nfunction completeUnitOfWork(unitOfWork) {\n  var completedWork = unitOfWork;\n  do {\n    if (0 !== (completedWork.flags & 32768)) {\n      unwindUnitOfWork(\n        completedWork,\n        workInProgressRootDidSkipSuspendedSiblings\n      );\n      return;\n    }\n    unitOfWork = completedWork.return;\n    var next = completeWork(\n      completedWork.alternate,\n      completedWork,\n      entangledRenderLanes\n    );\n    if (null !== next) {\n      workInProgress = next;\n      return;\n    }\n    completedWork = completedWork.sibling;\n    if (null !== completedWork) {\n      workInProgress = completedWork;\n      return;\n    }\n    workInProgress = completedWork = unitOfWork;\n  } while (null !== completedWork);\n  0 === workInProgressRootExitStatus && (workInProgressRootExitStatus = 5);\n}\nfunction unwindUnitOfWork(unitOfWork, skipSiblings) {\n  do {\n    var next = unwindWork(unitOfWork.alternate, unitOfWork);\n    if (null !== next) {\n      next.flags &= 32767;\n      workInProgress = next;\n      return;\n    }\n    next = unitOfWork.return;\n    null !== next &&\n      ((next.flags |= 32768), (next.subtreeFlags = 0), (next.deletions = null));\n    if (\n      !skipSiblings &&\n      ((unitOfWork = unitOfWork.sibling), null !== unitOfWork)\n    ) {\n      workInProgress = unitOfWork;\n      return;\n    }\n    workInProgress = unitOfWork = next;\n  } while (null !== unitOfWork);\n  workInProgressRootExitStatus = 6;\n  workInProgress = null;\n}\nfunction commitRoot(\n  root,\n  finishedWork,\n  lanes,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  root.cancelPendingCommit = null;\n  do flushPendingEffects();\n  while (0 !== pendingEffectsStatus);\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  if (null !== finishedWork) {\n    if (finishedWork === root.current) throw Error(formatProdErrorMessage(177));\n    didIncludeRenderPhaseUpdate = finishedWork.lanes | finishedWork.childLanes;\n    didIncludeRenderPhaseUpdate |= concurrentlyUpdatedLanes;\n    markRootFinished(\n      root,\n      lanes,\n      didIncludeRenderPhaseUpdate,\n      spawnedLane,\n      updatedLanes,\n      suspendedRetryLanes\n    );\n    root === workInProgressRoot &&\n      ((workInProgress = workInProgressRoot = null),\n      (workInProgressRootRenderLanes = 0));\n    pendingFinishedWork = finishedWork;\n    pendingEffectsRoot = root;\n    pendingEffectsLanes = lanes;\n    pendingEffectsRemainingLanes = didIncludeRenderPhaseUpdate;\n    pendingPassiveTransitions = transitions;\n    pendingRecoverableErrors = recoverableErrors;\n    0 !== (finishedWork.subtreeFlags & 10256) ||\n    0 !== (finishedWork.flags & 10256)\n      ? ((root.callbackNode = null),\n        (root.callbackPriority = 0),\n        scheduleCallback$1(NormalPriority$1, function () {\n          flushPassiveEffects();\n          return null;\n        }))\n      : ((root.callbackNode = null), (root.callbackPriority = 0));\n    recoverableErrors = 0 !== (finishedWork.flags & 13878);\n    if (0 !== (finishedWork.subtreeFlags & 13878) || recoverableErrors) {\n      recoverableErrors = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      transitions = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      spawnedLane = executionContext;\n      executionContext |= 4;\n      try {\n        commitBeforeMutationEffects(root, finishedWork, lanes);\n      } finally {\n        (executionContext = spawnedLane),\n          (ReactDOMSharedInternals.p = transitions),\n          (ReactSharedInternals.T = recoverableErrors);\n      }\n    }\n    pendingEffectsStatus = 1;\n    flushMutationEffects();\n    flushLayoutEffects();\n    flushSpawnedWork();\n  }\n}\nfunction flushMutationEffects() {\n  if (1 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      rootMutationHasEffect = 0 !== (finishedWork.flags & 13878);\n    if (0 !== (finishedWork.subtreeFlags & 13878) || rootMutationHasEffect) {\n      rootMutationHasEffect = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      var previousPriority = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      var prevExecutionContext = executionContext;\n      executionContext |= 4;\n      try {\n        commitMutationEffectsOnFiber(finishedWork, root);\n        var priorSelectionInformation = selectionInformation,\n          curFocusedElem = getActiveElementDeep(root.containerInfo),\n          priorFocusedElem = priorSelectionInformation.focusedElem,\n          priorSelectionRange = priorSelectionInformation.selectionRange;\n        if (\n          curFocusedElem !== priorFocusedElem &&\n          priorFocusedElem &&\n          priorFocusedElem.ownerDocument &&\n          containsNode(\n            priorFocusedElem.ownerDocument.documentElement,\n            priorFocusedElem\n          )\n        ) {\n          if (\n            null !== priorSelectionRange &&\n            hasSelectionCapabilities(priorFocusedElem)\n          ) {\n            var start = priorSelectionRange.start,\n              end = priorSelectionRange.end;\n            void 0 === end && (end = start);\n            if (\"selectionStart\" in priorFocusedElem)\n              (priorFocusedElem.selectionStart = start),\n                (priorFocusedElem.selectionEnd = Math.min(\n                  end,\n                  priorFocusedElem.value.length\n                ));\n            else {\n              var doc = priorFocusedElem.ownerDocument || document,\n                win = (doc && doc.defaultView) || window;\n              if (win.getSelection) {\n                var selection = win.getSelection(),\n                  length = priorFocusedElem.textContent.length,\n                  start$jscomp$0 = Math.min(priorSelectionRange.start, length),\n                  end$jscomp$0 =\n                    void 0 === priorSelectionRange.end\n                      ? start$jscomp$0\n                      : Math.min(priorSelectionRange.end, length);\n                !selection.extend &&\n                  start$jscomp$0 > end$jscomp$0 &&\n                  ((curFocusedElem = end$jscomp$0),\n                  (end$jscomp$0 = start$jscomp$0),\n                  (start$jscomp$0 = curFocusedElem));\n                var startMarker = getNodeForCharacterOffset(\n                    priorFocusedElem,\n                    start$jscomp$0\n                  ),\n                  endMarker = getNodeForCharacterOffset(\n                    priorFocusedElem,\n                    end$jscomp$0\n                  );\n                if (\n                  startMarker &&\n                  endMarker &&\n                  (1 !== selection.rangeCount ||\n                    selection.anchorNode !== startMarker.node ||\n                    selection.anchorOffset !== startMarker.offset ||\n                    selection.focusNode !== endMarker.node ||\n                    selection.focusOffset !== endMarker.offset)\n                ) {\n                  var range = doc.createRange();\n                  range.setStart(startMarker.node, startMarker.offset);\n                  selection.removeAllRanges();\n                  start$jscomp$0 > end$jscomp$0\n                    ? (selection.addRange(range),\n                      selection.extend(endMarker.node, endMarker.offset))\n                    : (range.setEnd(endMarker.node, endMarker.offset),\n                      selection.addRange(range));\n                }\n              }\n            }\n          }\n          doc = [];\n          for (\n            selection = priorFocusedElem;\n            (selection = selection.parentNode);\n\n          )\n            1 === selection.nodeType &&\n              doc.push({\n                element: selection,\n                left: selection.scrollLeft,\n                top: selection.scrollTop\n              });\n          \"function\" === typeof priorFocusedElem.focus &&\n            priorFocusedElem.focus();\n          for (\n            priorFocusedElem = 0;\n            priorFocusedElem < doc.length;\n            priorFocusedElem++\n          ) {\n            var info = doc[priorFocusedElem];\n            info.element.scrollLeft = info.left;\n            info.element.scrollTop = info.top;\n          }\n        }\n        _enabled = !!eventsEnabled;\n        selectionInformation = eventsEnabled = null;\n      } finally {\n        (executionContext = prevExecutionContext),\n          (ReactDOMSharedInternals.p = previousPriority),\n          (ReactSharedInternals.T = rootMutationHasEffect);\n      }\n    }\n    root.current = finishedWork;\n    pendingEffectsStatus = 2;\n  }\n}\nfunction flushLayoutEffects() {\n  if (2 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      rootHasLayoutEffect = 0 !== (finishedWork.flags & 8772);\n    if (0 !== (finishedWork.subtreeFlags & 8772) || rootHasLayoutEffect) {\n      rootHasLayoutEffect = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      var previousPriority = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      var prevExecutionContext = executionContext;\n      executionContext |= 4;\n      try {\n        commitLayoutEffectOnFiber(root, finishedWork.alternate, finishedWork);\n      } finally {\n        (executionContext = prevExecutionContext),\n          (ReactDOMSharedInternals.p = previousPriority),\n          (ReactSharedInternals.T = rootHasLayoutEffect);\n      }\n    }\n    pendingEffectsStatus = 3;\n  }\n}\nfunction flushSpawnedWork() {\n  if (4 === pendingEffectsStatus || 3 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    requestPaint();\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      lanes = pendingEffectsLanes,\n      recoverableErrors = pendingRecoverableErrors;\n    0 !== (finishedWork.subtreeFlags & 10256) ||\n    0 !== (finishedWork.flags & 10256)\n      ? (pendingEffectsStatus = 5)\n      : ((pendingEffectsStatus = 0),\n        (pendingFinishedWork = pendingEffectsRoot = null),\n        releaseRootPooledCache(root, root.pendingLanes));\n    var remainingLanes = root.pendingLanes;\n    0 === remainingLanes && (legacyErrorBoundariesThatAlreadyFailed = null);\n    lanesToEventPriority(lanes);\n    finishedWork = finishedWork.stateNode;\n    if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberRoot)\n      try {\n        injectedHook.onCommitFiberRoot(\n          rendererID,\n          finishedWork,\n          void 0,\n          128 === (finishedWork.current.flags & 128)\n        );\n      } catch (err) {}\n    if (null !== recoverableErrors) {\n      finishedWork = ReactSharedInternals.T;\n      remainingLanes = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      ReactSharedInternals.T = null;\n      try {\n        for (\n          var onRecoverableError = root.onRecoverableError, i = 0;\n          i < recoverableErrors.length;\n          i++\n        ) {\n          var recoverableError = recoverableErrors[i];\n          onRecoverableError(recoverableError.value, {\n            componentStack: recoverableError.stack\n          });\n        }\n      } finally {\n        (ReactSharedInternals.T = finishedWork),\n          (ReactDOMSharedInternals.p = remainingLanes);\n      }\n    }\n    0 !== (pendingEffectsLanes & 3) && flushPendingEffects();\n    ensureRootIsScheduled(root);\n    remainingLanes = root.pendingLanes;\n    0 !== (lanes & 261930) && 0 !== (remainingLanes & 42)\n      ? root === rootWithNestedUpdates\n        ? nestedUpdateCount++\n        : ((nestedUpdateCount = 0), (rootWithNestedUpdates = root))\n      : (nestedUpdateCount = 0);\n    flushSyncWorkAcrossRoots_impl(0, !1);\n  }\n}\nfunction releaseRootPooledCache(root, remainingLanes) {\n  0 === (root.pooledCacheLanes &= remainingLanes) &&\n    ((remainingLanes = root.pooledCache),\n    null != remainingLanes &&\n      ((root.pooledCache = null), releaseCache(remainingLanes)));\n}\nfunction flushPendingEffects() {\n  flushMutationEffects();\n  flushLayoutEffects();\n  flushSpawnedWork();\n  return flushPassiveEffects();\n}\nfunction flushPassiveEffects() {\n  if (5 !== pendingEffectsStatus) return !1;\n  var root = pendingEffectsRoot,\n    remainingLanes = pendingEffectsRemainingLanes;\n  pendingEffectsRemainingLanes = 0;\n  var renderPriority = lanesToEventPriority(pendingEffectsLanes),\n    prevTransition = ReactSharedInternals.T,\n    previousPriority = ReactDOMSharedInternals.p;\n  try {\n    ReactDOMSharedInternals.p = 32 > renderPriority ? 32 : renderPriority;\n    ReactSharedInternals.T = null;\n    renderPriority = pendingPassiveTransitions;\n    pendingPassiveTransitions = null;\n    var root$jscomp$0 = pendingEffectsRoot,\n      lanes = pendingEffectsLanes;\n    pendingEffectsStatus = 0;\n    pendingFinishedWork = pendingEffectsRoot = null;\n    pendingEffectsLanes = 0;\n    if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(331));\n    var prevExecutionContext = executionContext;\n    executionContext |= 4;\n    commitPassiveUnmountOnFiber(root$jscomp$0.current);\n    commitPassiveMountOnFiber(\n      root$jscomp$0,\n      root$jscomp$0.current,\n      lanes,\n      renderPriority\n    );\n    executionContext = prevExecutionContext;\n    flushSyncWorkAcrossRoots_impl(0, !1);\n    if (\n      injectedHook &&\n      \"function\" === typeof injectedHook.onPostCommitFiberRoot\n    )\n      try {\n        injectedHook.onPostCommitFiberRoot(rendererID, root$jscomp$0);\n      } catch (err) {}\n    return !0;\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition),\n      releaseRootPooledCache(root, remainingLanes);\n  }\n}\nfunction captureCommitPhaseErrorOnRoot(rootFiber, sourceFiber, error) {\n  sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n  sourceFiber = createRootErrorUpdate(rootFiber.stateNode, sourceFiber, 2);\n  rootFiber = enqueueUpdate(rootFiber, sourceFiber, 2);\n  null !== rootFiber &&\n    (markRootUpdated$1(rootFiber, 2), ensureRootIsScheduled(rootFiber));\n}\nfunction captureCommitPhaseError(sourceFiber, nearestMountedAncestor, error) {\n  if (3 === sourceFiber.tag)\n    captureCommitPhaseErrorOnRoot(sourceFiber, sourceFiber, error);\n  else\n    for (; null !== nearestMountedAncestor; ) {\n      if (3 === nearestMountedAncestor.tag) {\n        captureCommitPhaseErrorOnRoot(\n          nearestMountedAncestor,\n          sourceFiber,\n          error\n        );\n        break;\n      } else if (1 === nearestMountedAncestor.tag) {\n        var instance = nearestMountedAncestor.stateNode;\n        if (\n          \"function\" ===\n            typeof nearestMountedAncestor.type.getDerivedStateFromError ||\n          (\"function\" === typeof instance.componentDidCatch &&\n            (null === legacyErrorBoundariesThatAlreadyFailed ||\n              !legacyErrorBoundariesThatAlreadyFailed.has(instance)))\n        ) {\n          sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n          error = createClassErrorUpdate(2);\n          instance = enqueueUpdate(nearestMountedAncestor, error, 2);\n          null !== instance &&\n            (initializeClassErrorUpdate(\n              error,\n              instance,\n              nearestMountedAncestor,\n              sourceFiber\n            ),\n            markRootUpdated$1(instance, 2),\n            ensureRootIsScheduled(instance));\n          break;\n        }\n      }\n      nearestMountedAncestor = nearestMountedAncestor.return;\n    }\n}\nfunction attachPingListener(root, wakeable, lanes) {\n  var pingCache = root.pingCache;\n  if (null === pingCache) {\n    pingCache = root.pingCache = new PossiblyWeakMap();\n    var threadIDs = new Set();\n    pingCache.set(wakeable, threadIDs);\n  } else\n    (threadIDs = pingCache.get(wakeable)),\n      void 0 === threadIDs &&\n        ((threadIDs = new Set()), pingCache.set(wakeable, threadIDs));\n  threadIDs.has(lanes) ||\n    ((workInProgressRootDidAttachPingListener = !0),\n    threadIDs.add(lanes),\n    (root = pingSuspendedRoot.bind(null, root, wakeable, lanes)),\n    wakeable.then(root, root));\n}\nfunction pingSuspendedRoot(root, wakeable, pingedLanes) {\n  var pingCache = root.pingCache;\n  null !== pingCache && pingCache.delete(wakeable);\n  root.pingedLanes |= root.suspendedLanes & pingedLanes;\n  root.warmLanes &= ~pingedLanes;\n  workInProgressRoot === root &&\n    (workInProgressRootRenderLanes & pingedLanes) === pingedLanes &&\n    (4 === workInProgressRootExitStatus ||\n    (3 === workInProgressRootExitStatus &&\n      (workInProgressRootRenderLanes & 62914560) ===\n        workInProgressRootRenderLanes &&\n      300 > now() - globalMostRecentFallbackTime)\n      ? 0 === (executionContext & 2) && prepareFreshStack(root, 0)\n      : (workInProgressRootPingedLanes |= pingedLanes),\n    workInProgressSuspendedRetryLanes === workInProgressRootRenderLanes &&\n      (workInProgressSuspendedRetryLanes = 0));\n  ensureRootIsScheduled(root);\n}\nfunction retryTimedOutBoundary(boundaryFiber, retryLane) {\n  0 === retryLane && (retryLane = claimNextRetryLane());\n  boundaryFiber = enqueueConcurrentRenderForLane(boundaryFiber, retryLane);\n  null !== boundaryFiber &&\n    (markRootUpdated$1(boundaryFiber, retryLane),\n    ensureRootIsScheduled(boundaryFiber));\n}\nfunction retryDehydratedSuspenseBoundary(boundaryFiber) {\n  var suspenseState = boundaryFiber.memoizedState,\n    retryLane = 0;\n  null !== suspenseState && (retryLane = suspenseState.retryLane);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction resolveRetryWakeable(boundaryFiber, wakeable) {\n  var retryLane = 0;\n  switch (boundaryFiber.tag) {\n    case 31:\n    case 13:\n      var retryCache = boundaryFiber.stateNode;\n      var suspenseState = boundaryFiber.memoizedState;\n      null !== suspenseState && (retryLane = suspenseState.retryLane);\n      break;\n    case 19:\n      retryCache = boundaryFiber.stateNode;\n      break;\n    case 22:\n      retryCache = boundaryFiber.stateNode._retryCache;\n      break;\n    default:\n      throw Error(formatProdErrorMessage(314));\n  }\n  null !== retryCache && retryCache.delete(wakeable);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction scheduleCallback$1(priorityLevel, callback) {\n  return scheduleCallback$3(priorityLevel, callback);\n}\nvar firstScheduledRoot = null,\n  lastScheduledRoot = null,\n  didScheduleMicrotask = !1,\n  mightHavePendingSyncWork = !1,\n  isFlushingWork = !1,\n  currentEventTransitionLane = 0;\nfunction ensureRootIsScheduled(root) {\n  root !== lastScheduledRoot &&\n    null === root.next &&\n    (null === lastScheduledRoot\n      ? (firstScheduledRoot = lastScheduledRoot = root)\n      : (lastScheduledRoot = lastScheduledRoot.next = root));\n  mightHavePendingSyncWork = !0;\n  didScheduleMicrotask ||\n    ((didScheduleMicrotask = !0), scheduleImmediateRootScheduleTask());\n}\nfunction flushSyncWorkAcrossRoots_impl(syncTransitionLanes, onlyLegacy) {\n  if (!isFlushingWork && mightHavePendingSyncWork) {\n    isFlushingWork = !0;\n    do {\n      var didPerformSomeWork = !1;\n      for (var root$170 = firstScheduledRoot; null !== root$170; ) {\n        if (!onlyLegacy)\n          if (0 !== syncTransitionLanes) {\n            var pendingLanes = root$170.pendingLanes;\n            if (0 === pendingLanes) var JSCompiler_inline_result = 0;\n            else {\n              var suspendedLanes = root$170.suspendedLanes,\n                pingedLanes = root$170.pingedLanes;\n              JSCompiler_inline_result =\n                (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;\n              JSCompiler_inline_result &=\n                pendingLanes & ~(suspendedLanes & ~pingedLanes);\n              JSCompiler_inline_result =\n                JSCompiler_inline_result & 201326741\n                  ? (JSCompiler_inline_result & 201326741) | 1\n                  : JSCompiler_inline_result\n                    ? JSCompiler_inline_result | 2\n                    : 0;\n            }\n            0 !== JSCompiler_inline_result &&\n              ((didPerformSomeWork = !0),\n              performSyncWorkOnRoot(root$170, JSCompiler_inline_result));\n          } else\n            (JSCompiler_inline_result = workInProgressRootRenderLanes),\n              (JSCompiler_inline_result = getNextLanes(\n                root$170,\n                root$170 === workInProgressRoot ? JSCompiler_inline_result : 0,\n                null !== root$170.cancelPendingCommit ||\n                  -1 !== root$170.timeoutHandle\n              )),\n              0 === (JSCompiler_inline_result & 3) ||\n                checkIfRootIsPrerendering(root$170, JSCompiler_inline_result) ||\n                ((didPerformSomeWork = !0),\n                performSyncWorkOnRoot(root$170, JSCompiler_inline_result));\n        root$170 = root$170.next;\n      }\n    } while (didPerformSomeWork);\n    isFlushingWork = !1;\n  }\n}\nfunction processRootScheduleInImmediateTask() {\n  processRootScheduleInMicrotask();\n}\nfunction processRootScheduleInMicrotask() {\n  mightHavePendingSyncWork = didScheduleMicrotask = !1;\n  var syncTransitionLanes = 0;\n  0 !== currentEventTransitionLane &&\n    shouldAttemptEagerTransition() &&\n    (syncTransitionLanes = currentEventTransitionLane);\n  for (\n    var currentTime = now(), prev = null, root = firstScheduledRoot;\n    null !== root;\n\n  ) {\n    var next = root.next,\n      nextLanes = scheduleTaskForRootDuringMicrotask(root, currentTime);\n    if (0 === nextLanes)\n      (root.next = null),\n        null === prev ? (firstScheduledRoot = next) : (prev.next = next),\n        null === next && (lastScheduledRoot = prev);\n    else if (\n      ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))\n    )\n      mightHavePendingSyncWork = !0;\n    root = next;\n  }\n  (0 !== pendingEffectsStatus && 5 !== pendingEffectsStatus) ||\n    flushSyncWorkAcrossRoots_impl(syncTransitionLanes, !1);\n  0 !== currentEventTransitionLane && (currentEventTransitionLane = 0);\n}\nfunction scheduleTaskForRootDuringMicrotask(root, currentTime) {\n  for (\n    var suspendedLanes = root.suspendedLanes,\n      pingedLanes = root.pingedLanes,\n      expirationTimes = root.expirationTimes,\n      lanes = root.pendingLanes & -62914561;\n    0 < lanes;\n\n  ) {\n    var index$5 = 31 - clz32(lanes),\n      lane = 1 << index$5,\n      expirationTime = expirationTimes[index$5];\n    if (-1 === expirationTime) {\n      if (0 === (lane & suspendedLanes) || 0 !== (lane & pingedLanes))\n        expirationTimes[index$5] = computeExpirationTime(lane, currentTime);\n    } else expirationTime <= currentTime && (root.expiredLanes |= lane);\n    lanes &= ~lane;\n  }\n  currentTime = workInProgressRoot;\n  suspendedLanes = workInProgressRootRenderLanes;\n  suspendedLanes = getNextLanes(\n    root,\n    root === currentTime ? suspendedLanes : 0,\n    null !== root.cancelPendingCommit || -1 !== root.timeoutHandle\n  );\n  pingedLanes = root.callbackNode;\n  if (\n    0 === suspendedLanes ||\n    (root === currentTime &&\n      (2 === workInProgressSuspendedReason ||\n        9 === workInProgressSuspendedReason)) ||\n    null !== root.cancelPendingCommit\n  )\n    return (\n      null !== pingedLanes &&\n        null !== pingedLanes &&\n        cancelCallback$1(pingedLanes),\n      (root.callbackNode = null),\n      (root.callbackPriority = 0)\n    );\n  if (\n    0 === (suspendedLanes & 3) ||\n    checkIfRootIsPrerendering(root, suspendedLanes)\n  ) {\n    currentTime = suspendedLanes & -suspendedLanes;\n    if (currentTime === root.callbackPriority) return currentTime;\n    null !== pingedLanes && cancelCallback$1(pingedLanes);\n    switch (lanesToEventPriority(suspendedLanes)) {\n      case 2:\n      case 8:\n        suspendedLanes = UserBlockingPriority;\n        break;\n      case 32:\n        suspendedLanes = NormalPriority$1;\n        break;\n      case 268435456:\n        suspendedLanes = IdlePriority;\n        break;\n      default:\n        suspendedLanes = NormalPriority$1;\n    }\n    pingedLanes = performWorkOnRootViaSchedulerTask.bind(null, root);\n    suspendedLanes = scheduleCallback$3(suspendedLanes, pingedLanes);\n    root.callbackPriority = currentTime;\n    root.callbackNode = suspendedLanes;\n    return currentTime;\n  }\n  null !== pingedLanes && null !== pingedLanes && cancelCallback$1(pingedLanes);\n  root.callbackPriority = 2;\n  root.callbackNode = null;\n  return 2;\n}\nfunction performWorkOnRootViaSchedulerTask(root, didTimeout) {\n  if (0 !== pendingEffectsStatus && 5 !== pendingEffectsStatus)\n    return (root.callbackNode = null), (root.callbackPriority = 0), null;\n  var originalCallbackNode = root.callbackNode;\n  if (flushPendingEffects() && root.callbackNode !== originalCallbackNode)\n    return null;\n  var workInProgressRootRenderLanes$jscomp$0 = workInProgressRootRenderLanes;\n  workInProgressRootRenderLanes$jscomp$0 = getNextLanes(\n    root,\n    root === workInProgressRoot ? workInProgressRootRenderLanes$jscomp$0 : 0,\n    null !== root.cancelPendingCommit || -1 !== root.timeoutHandle\n  );\n  if (0 === workInProgressRootRenderLanes$jscomp$0) return null;\n  performWorkOnRoot(root, workInProgressRootRenderLanes$jscomp$0, didTimeout);\n  scheduleTaskForRootDuringMicrotask(root, now());\n  return null != root.callbackNode && root.callbackNode === originalCallbackNode\n    ? performWorkOnRootViaSchedulerTask.bind(null, root)\n    : null;\n}\nfunction performSyncWorkOnRoot(root, lanes) {\n  if (flushPendingEffects()) return null;\n  performWorkOnRoot(root, lanes, !0);\n}\nfunction scheduleImmediateRootScheduleTask() {\n  scheduleMicrotask(function () {\n    0 !== (executionContext & 6)\n      ? scheduleCallback$3(\n          ImmediatePriority,\n          processRootScheduleInImmediateTask\n        )\n      : processRootScheduleInMicrotask();\n  });\n}\nfunction requestTransitionLane() {\n  if (0 === currentEventTransitionLane) {\n    var actionScopeLane = currentEntangledLane;\n    0 === actionScopeLane &&\n      ((actionScopeLane = nextTransitionUpdateLane),\n      (nextTransitionUpdateLane <<= 1),\n      0 === (nextTransitionUpdateLane & 261888) &&\n        (nextTransitionUpdateLane = 256));\n    currentEventTransitionLane = actionScopeLane;\n  }\n  return currentEventTransitionLane;\n}\nfunction coerceFormActionProp(actionProp) {\n  return null == actionProp ||\n    \"symbol\" === typeof actionProp ||\n    \"boolean\" === typeof actionProp\n    ? null\n    : \"function\" === typeof actionProp\n      ? actionProp\n      : sanitizeURL(\"\" + actionProp);\n}\nfunction createFormDataWithSubmitter(form, submitter) {\n  var temp = submitter.ownerDocument.createElement(\"input\");\n  temp.name = submitter.name;\n  temp.value = submitter.value;\n  form.id && temp.setAttribute(\"form\", form.id);\n  submitter.parentNode.insertBefore(temp, submitter);\n  form = new FormData(form);\n  temp.parentNode.removeChild(temp);\n  return form;\n}\nfunction extractEvents$1(\n  dispatchQueue,\n  domEventName,\n  maybeTargetInst,\n  nativeEvent,\n  nativeEventTarget\n) {\n  if (\n    \"submit\" === domEventName &&\n    maybeTargetInst &&\n    maybeTargetInst.stateNode === nativeEventTarget\n  ) {\n    var action = coerceFormActionProp(\n        (nativeEventTarget[internalPropsKey] || null).action\n      ),\n      submitter = nativeEvent.submitter;\n    submitter &&\n      ((domEventName = (domEventName = submitter[internalPropsKey] || null)\n        ? coerceFormActionProp(domEventName.formAction)\n        : submitter.getAttribute(\"formAction\")),\n      null !== domEventName && ((action = domEventName), (submitter = null)));\n    var event = new SyntheticEvent(\n      \"action\",\n      \"action\",\n      null,\n      nativeEvent,\n      nativeEventTarget\n    );\n    dispatchQueue.push({\n      event: event,\n      listeners: [\n        {\n          instance: null,\n          listener: function () {\n            if (nativeEvent.defaultPrevented) {\n              if (0 !== currentEventTransitionLane) {\n                var formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget);\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  null,\n                  formData\n                );\n              }\n            } else\n              \"function\" === typeof action &&\n                (event.preventDefault(),\n                (formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget)),\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  action,\n                  formData\n                ));\n          },\n          currentTarget: nativeEventTarget\n        }\n      ]\n    });\n  }\n}\nfor (\n  var i$jscomp$inline_1577 = 0;\n  i$jscomp$inline_1577 < simpleEventPluginEvents.length;\n  i$jscomp$inline_1577++\n) {\n  var eventName$jscomp$inline_1578 =\n      simpleEventPluginEvents[i$jscomp$inline_1577],\n    domEventName$jscomp$inline_1579 =\n      eventName$jscomp$inline_1578.toLowerCase(),\n    capitalizedEvent$jscomp$inline_1580 =\n      eventName$jscomp$inline_1578[0].toUpperCase() +\n      eventName$jscomp$inline_1578.slice(1);\n  registerSimpleEvent(\n    domEventName$jscomp$inline_1579,\n    \"on\" + capitalizedEvent$jscomp$inline_1580\n  );\n}\nregisterSimpleEvent(ANIMATION_END, \"onAnimationEnd\");\nregisterSimpleEvent(ANIMATION_ITERATION, \"onAnimationIteration\");\nregisterSimpleEvent(ANIMATION_START, \"onAnimationStart\");\nregisterSimpleEvent(\"dblclick\", \"onDoubleClick\");\nregisterSimpleEvent(\"focusin\", \"onFocus\");\nregisterSimpleEvent(\"focusout\", \"onBlur\");\nregisterSimpleEvent(TRANSITION_RUN, \"onTransitionRun\");\nregisterSimpleEvent(TRANSITION_START, \"onTransitionStart\");\nregisterSimpleEvent(TRANSITION_CANCEL, \"onTransitionCancel\");\nregisterSimpleEvent(TRANSITION_END, \"onTransitionEnd\");\nregisterDirectEvent(\"onMouseEnter\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onMouseLeave\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onPointerEnter\", [\"pointerout\", \"pointerover\"]);\nregisterDirectEvent(\"onPointerLeave\", [\"pointerout\", \"pointerover\"]);\nregisterTwoPhaseEvent(\n  \"onChange\",\n  \"change click focusin focusout input keydown keyup selectionchange\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onSelect\",\n  \"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\n    \" \"\n  )\n);\nregisterTwoPhaseEvent(\"onBeforeInput\", [\n  \"compositionend\",\n  \"keypress\",\n  \"textInput\",\n  \"paste\"\n]);\nregisterTwoPhaseEvent(\n  \"onCompositionEnd\",\n  \"compositionend focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionStart\",\n  \"compositionstart focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionUpdate\",\n  \"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \")\n);\nvar mediaEventTypes =\n    \"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\n      \" \"\n    ),\n  nonDelegatedEvents = new Set(\n    \"beforetoggle cancel close invalid load scroll scrollend toggle\"\n      .split(\" \")\n      .concat(mediaEventTypes)\n  );\nfunction processDispatchQueue(dispatchQueue, eventSystemFlags) {\n  eventSystemFlags = 0 !== (eventSystemFlags & 4);\n  for (var i = 0; i < dispatchQueue.length; i++) {\n    var _dispatchQueue$i = dispatchQueue[i],\n      event = _dispatchQueue$i.event;\n    _dispatchQueue$i = _dispatchQueue$i.listeners;\n    a: {\n      var previousInstance = void 0;\n      if (eventSystemFlags)\n        for (\n          var i$jscomp$0 = _dispatchQueue$i.length - 1;\n          0 <= i$jscomp$0;\n          i$jscomp$0--\n        ) {\n          var _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0],\n            instance = _dispatchListeners$i.instance,\n            currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n      else\n        for (\n          i$jscomp$0 = 0;\n          i$jscomp$0 < _dispatchQueue$i.length;\n          i$jscomp$0++\n        ) {\n          _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0];\n          instance = _dispatchListeners$i.instance;\n          currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n    }\n  }\n}\nfunction listenToNonDelegatedEvent(domEventName, targetElement) {\n  var JSCompiler_inline_result = targetElement[internalEventHandlersKey];\n  void 0 === JSCompiler_inline_result &&\n    (JSCompiler_inline_result = targetElement[internalEventHandlersKey] =\n      new Set());\n  var listenerSetKey = domEventName + \"__bubble\";\n  JSCompiler_inline_result.has(listenerSetKey) ||\n    (addTrappedEventListener(targetElement, domEventName, 2, !1),\n    JSCompiler_inline_result.add(listenerSetKey));\n}\nfunction listenToNativeEvent(domEventName, isCapturePhaseListener, target) {\n  var eventSystemFlags = 0;\n  isCapturePhaseListener && (eventSystemFlags |= 4);\n  addTrappedEventListener(\n    target,\n    domEventName,\n    eventSystemFlags,\n    isCapturePhaseListener\n  );\n}\nvar listeningMarker = \"_reactListening\" + Math.random().toString(36).slice(2);\nfunction listenToAllSupportedEvents(rootContainerElement) {\n  if (!rootContainerElement[listeningMarker]) {\n    rootContainerElement[listeningMarker] = !0;\n    allNativeEvents.forEach(function (domEventName) {\n      \"selectionchange\" !== domEventName &&\n        (nonDelegatedEvents.has(domEventName) ||\n          listenToNativeEvent(domEventName, !1, rootContainerElement),\n        listenToNativeEvent(domEventName, !0, rootContainerElement));\n    });\n    var ownerDocument =\n      9 === rootContainerElement.nodeType\n        ? rootContainerElement\n        : rootContainerElement.ownerDocument;\n    null === ownerDocument ||\n      ownerDocument[listeningMarker] ||\n      ((ownerDocument[listeningMarker] = !0),\n      listenToNativeEvent(\"selectionchange\", !1, ownerDocument));\n  }\n}\nfunction addTrappedEventListener(\n  targetContainer,\n  domEventName,\n  eventSystemFlags,\n  isCapturePhaseListener\n) {\n  switch (getEventPriority(domEventName)) {\n    case 2:\n      var listenerWrapper = dispatchDiscreteEvent;\n      break;\n    case 8:\n      listenerWrapper = dispatchContinuousEvent;\n      break;\n    default:\n      listenerWrapper = dispatchEvent;\n  }\n  eventSystemFlags = listenerWrapper.bind(\n    null,\n    domEventName,\n    eventSystemFlags,\n    targetContainer\n  );\n  listenerWrapper = void 0;\n  !passiveBrowserEventsSupported ||\n    (\"touchstart\" !== domEventName &&\n      \"touchmove\" !== domEventName &&\n      \"wheel\" !== domEventName) ||\n    (listenerWrapper = !0);\n  isCapturePhaseListener\n    ? void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          capture: !0,\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !0)\n    : void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !1);\n}\nfunction dispatchEventForPluginEventSystem(\n  domEventName,\n  eventSystemFlags,\n  nativeEvent,\n  targetInst$jscomp$0,\n  targetContainer\n) {\n  var ancestorInst = targetInst$jscomp$0;\n  if (\n    0 === (eventSystemFlags & 1) &&\n    0 === (eventSystemFlags & 2) &&\n    null !== targetInst$jscomp$0\n  )\n    a: for (;;) {\n      if (null === targetInst$jscomp$0) return;\n      var nodeTag = targetInst$jscomp$0.tag;\n      if (3 === nodeTag || 4 === nodeTag) {\n        var container = targetInst$jscomp$0.stateNode.containerInfo;\n        if (container === targetContainer) break;\n        if (4 === nodeTag)\n          for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {\n            var grandTag = nodeTag.tag;\n            if (\n              (3 === grandTag || 4 === grandTag) &&\n              nodeTag.stateNode.containerInfo === targetContainer\n            )\n              return;\n            nodeTag = nodeTag.return;\n          }\n        for (; null !== container; ) {\n          nodeTag = getClosestInstanceFromNode(container);\n          if (null === nodeTag) return;\n          grandTag = nodeTag.tag;\n          if (\n            5 === grandTag ||\n            6 === grandTag ||\n            26 === grandTag ||\n            27 === grandTag\n          ) {\n            targetInst$jscomp$0 = ancestorInst = nodeTag;\n            continue a;\n          }\n          container = container.parentNode;\n        }\n      }\n      targetInst$jscomp$0 = targetInst$jscomp$0.return;\n    }\n  batchedUpdates$1(function () {\n    var targetInst = ancestorInst,\n      nativeEventTarget = getEventTarget(nativeEvent),\n      dispatchQueue = [];\n    a: {\n      var reactName = topLevelEventsToReactNames.get(domEventName);\n      if (void 0 !== reactName) {\n        var SyntheticEventCtor = SyntheticEvent,\n          reactEventType = domEventName;\n        switch (domEventName) {\n          case \"keypress\":\n            if (0 === getEventCharCode(nativeEvent)) break a;\n          case \"keydown\":\n          case \"keyup\":\n            SyntheticEventCtor = SyntheticKeyboardEvent;\n            break;\n          case \"focusin\":\n            reactEventType = \"focus\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"focusout\":\n            reactEventType = \"blur\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"beforeblur\":\n          case \"afterblur\":\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"click\":\n            if (2 === nativeEvent.button) break a;\n          case \"auxclick\":\n          case \"dblclick\":\n          case \"mousedown\":\n          case \"mousemove\":\n          case \"mouseup\":\n          case \"mouseout\":\n          case \"mouseover\":\n          case \"contextmenu\":\n            SyntheticEventCtor = SyntheticMouseEvent;\n            break;\n          case \"drag\":\n          case \"dragend\":\n          case \"dragenter\":\n          case \"dragexit\":\n          case \"dragleave\":\n          case \"dragover\":\n          case \"dragstart\":\n          case \"drop\":\n            SyntheticEventCtor = SyntheticDragEvent;\n            break;\n          case \"touchcancel\":\n          case \"touchend\":\n          case \"touchmove\":\n          case \"touchstart\":\n            SyntheticEventCtor = SyntheticTouchEvent;\n            break;\n          case ANIMATION_END:\n          case ANIMATION_ITERATION:\n          case ANIMATION_START:\n            SyntheticEventCtor = SyntheticAnimationEvent;\n            break;\n          case TRANSITION_END:\n            SyntheticEventCtor = SyntheticTransitionEvent;\n            break;\n          case \"scroll\":\n          case \"scrollend\":\n            SyntheticEventCtor = SyntheticUIEvent;\n            break;\n          case \"wheel\":\n            SyntheticEventCtor = SyntheticWheelEvent;\n            break;\n          case \"copy\":\n          case \"cut\":\n          case \"paste\":\n            SyntheticEventCtor = SyntheticClipboardEvent;\n            break;\n          case \"gotpointercapture\":\n          case \"lostpointercapture\":\n          case \"pointercancel\":\n          case \"pointerdown\":\n          case \"pointermove\":\n          case \"pointerout\":\n          case \"pointerover\":\n          case \"pointerup\":\n            SyntheticEventCtor = SyntheticPointerEvent;\n            break;\n          case \"toggle\":\n          case \"beforetoggle\":\n            SyntheticEventCtor = SyntheticToggleEvent;\n        }\n        var inCapturePhase = 0 !== (eventSystemFlags & 4),\n          accumulateTargetOnly =\n            !inCapturePhase &&\n            (\"scroll\" === domEventName || \"scrollend\" === domEventName),\n          reactEventName = inCapturePhase\n            ? null !== reactName\n              ? reactName + \"Capture\"\n              : null\n            : reactName;\n        inCapturePhase = [];\n        for (\n          var instance = targetInst, lastHostComponent;\n          null !== instance;\n\n        ) {\n          var _instance = instance;\n          lastHostComponent = _instance.stateNode;\n          _instance = _instance.tag;\n          (5 !== _instance && 26 !== _instance && 27 !== _instance) ||\n            null === lastHostComponent ||\n            null === reactEventName ||\n            ((_instance = getListener(instance, reactEventName)),\n            null != _instance &&\n              inCapturePhase.push(\n                createDispatchListener(instance, _instance, lastHostComponent)\n              ));\n          if (accumulateTargetOnly) break;\n          instance = instance.return;\n        }\n        0 < inCapturePhase.length &&\n          ((reactName = new SyntheticEventCtor(\n            reactName,\n            reactEventType,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: reactName, listeners: inCapturePhase }));\n      }\n    }\n    if (0 === (eventSystemFlags & 7)) {\n      a: {\n        reactName =\n          \"mouseover\" === domEventName || \"pointerover\" === domEventName;\n        SyntheticEventCtor =\n          \"mouseout\" === domEventName || \"pointerout\" === domEventName;\n        if (\n          reactName &&\n          nativeEvent !== currentReplayingEvent &&\n          (reactEventType =\n            nativeEvent.relatedTarget || nativeEvent.fromElement) &&\n          (getClosestInstanceFromNode(reactEventType) ||\n            reactEventType[internalContainerInstanceKey])\n        )\n          break a;\n        if (SyntheticEventCtor || reactName) {\n          reactName =\n            nativeEventTarget.window === nativeEventTarget\n              ? nativeEventTarget\n              : (reactName = nativeEventTarget.ownerDocument)\n                ? reactName.defaultView || reactName.parentWindow\n                : window;\n          if (SyntheticEventCtor) {\n            if (\n              ((reactEventType =\n                nativeEvent.relatedTarget || nativeEvent.toElement),\n              (SyntheticEventCtor = targetInst),\n              (reactEventType = reactEventType\n                ? getClosestInstanceFromNode(reactEventType)\n                : null),\n              null !== reactEventType &&\n                ((accumulateTargetOnly =\n                  getNearestMountedFiber(reactEventType)),\n                (inCapturePhase = reactEventType.tag),\n                reactEventType !== accumulateTargetOnly ||\n                  (5 !== inCapturePhase &&\n                    27 !== inCapturePhase &&\n                    6 !== inCapturePhase)))\n            )\n              reactEventType = null;\n          } else (SyntheticEventCtor = null), (reactEventType = targetInst);\n          if (SyntheticEventCtor !== reactEventType) {\n            inCapturePhase = SyntheticMouseEvent;\n            _instance = \"onMouseLeave\";\n            reactEventName = \"onMouseEnter\";\n            instance = \"mouse\";\n            if (\"pointerout\" === domEventName || \"pointerover\" === domEventName)\n              (inCapturePhase = SyntheticPointerEvent),\n                (_instance = \"onPointerLeave\"),\n                (reactEventName = \"onPointerEnter\"),\n                (instance = \"pointer\");\n            accumulateTargetOnly =\n              null == SyntheticEventCtor\n                ? reactName\n                : getNodeFromInstance(SyntheticEventCtor);\n            lastHostComponent =\n              null == reactEventType\n                ? reactName\n                : getNodeFromInstance(reactEventType);\n            reactName = new inCapturePhase(\n              _instance,\n              instance + \"leave\",\n              SyntheticEventCtor,\n              nativeEvent,\n              nativeEventTarget\n            );\n            reactName.target = accumulateTargetOnly;\n            reactName.relatedTarget = lastHostComponent;\n            _instance = null;\n            getClosestInstanceFromNode(nativeEventTarget) === targetInst &&\n              ((inCapturePhase = new inCapturePhase(\n                reactEventName,\n                instance + \"enter\",\n                reactEventType,\n                nativeEvent,\n                nativeEventTarget\n              )),\n              (inCapturePhase.target = lastHostComponent),\n              (inCapturePhase.relatedTarget = accumulateTargetOnly),\n              (_instance = inCapturePhase));\n            accumulateTargetOnly = _instance;\n            if (SyntheticEventCtor && reactEventType)\n              b: {\n                inCapturePhase = getParent;\n                reactEventName = SyntheticEventCtor;\n                instance = reactEventType;\n                lastHostComponent = 0;\n                for (\n                  _instance = reactEventName;\n                  _instance;\n                  _instance = inCapturePhase(_instance)\n                )\n                  lastHostComponent++;\n                _instance = 0;\n                for (var tempB = instance; tempB; tempB = inCapturePhase(tempB))\n                  _instance++;\n                for (; 0 < lastHostComponent - _instance; )\n                  (reactEventName = inCapturePhase(reactEventName)),\n                    lastHostComponent--;\n                for (; 0 < _instance - lastHostComponent; )\n                  (instance = inCapturePhase(instance)), _instance--;\n                for (; lastHostComponent--; ) {\n                  if (\n                    reactEventName === instance ||\n                    (null !== instance && reactEventName === instance.alternate)\n                  ) {\n                    inCapturePhase = reactEventName;\n                    break b;\n                  }\n                  reactEventName = inCapturePhase(reactEventName);\n                  instance = inCapturePhase(instance);\n                }\n                inCapturePhase = null;\n              }\n            else inCapturePhase = null;\n            null !== SyntheticEventCtor &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                reactName,\n                SyntheticEventCtor,\n                inCapturePhase,\n                !1\n              );\n            null !== reactEventType &&\n              null !== accumulateTargetOnly &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                accumulateTargetOnly,\n                reactEventType,\n                inCapturePhase,\n                !0\n              );\n          }\n        }\n      }\n      a: {\n        reactName = targetInst ? getNodeFromInstance(targetInst) : window;\n        SyntheticEventCtor =\n          reactName.nodeName && reactName.nodeName.toLowerCase();\n        if (\n          \"select\" === SyntheticEventCtor ||\n          (\"input\" === SyntheticEventCtor && \"file\" === reactName.type)\n        )\n          var getTargetInstFunc = getTargetInstForChangeEvent;\n        else if (isTextInputElement(reactName))\n          if (isInputEventSupported)\n            getTargetInstFunc = getTargetInstForInputOrChangeEvent;\n          else {\n            getTargetInstFunc = getTargetInstForInputEventPolyfill;\n            var handleEventFunc = handleEventsForInputEventPolyfill;\n          }\n        else\n          (SyntheticEventCtor = reactName.nodeName),\n            !SyntheticEventCtor ||\n            \"input\" !== SyntheticEventCtor.toLowerCase() ||\n            (\"checkbox\" !== reactName.type && \"radio\" !== reactName.type)\n              ? targetInst &&\n                isCustomElement(targetInst.elementType) &&\n                (getTargetInstFunc = getTargetInstForChangeEvent)\n              : (getTargetInstFunc = getTargetInstForClickEvent);\n        if (\n          getTargetInstFunc &&\n          (getTargetInstFunc = getTargetInstFunc(domEventName, targetInst))\n        ) {\n          createAndAccumulateChangeEvent(\n            dispatchQueue,\n            getTargetInstFunc,\n            nativeEvent,\n            nativeEventTarget\n          );\n          break a;\n        }\n        handleEventFunc && handleEventFunc(domEventName, reactName, targetInst);\n        \"focusout\" === domEventName &&\n          targetInst &&\n          \"number\" === reactName.type &&\n          null != targetInst.memoizedProps.value &&\n          setDefaultValue(reactName, \"number\", reactName.value);\n      }\n      handleEventFunc = targetInst ? getNodeFromInstance(targetInst) : window;\n      switch (domEventName) {\n        case \"focusin\":\n          if (\n            isTextInputElement(handleEventFunc) ||\n            \"true\" === handleEventFunc.contentEditable\n          )\n            (activeElement = handleEventFunc),\n              (activeElementInst = targetInst),\n              (lastSelection = null);\n          break;\n        case \"focusout\":\n          lastSelection = activeElementInst = activeElement = null;\n          break;\n        case \"mousedown\":\n          mouseDown = !0;\n          break;\n        case \"contextmenu\":\n        case \"mouseup\":\n        case \"dragend\":\n          mouseDown = !1;\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n          break;\n        case \"selectionchange\":\n          if (skipSelectionChangeEvent) break;\n        case \"keydown\":\n        case \"keyup\":\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n      }\n      var fallbackData;\n      if (canUseCompositionEvent)\n        b: {\n          switch (domEventName) {\n            case \"compositionstart\":\n              var eventType = \"onCompositionStart\";\n              break b;\n            case \"compositionend\":\n              eventType = \"onCompositionEnd\";\n              break b;\n            case \"compositionupdate\":\n              eventType = \"onCompositionUpdate\";\n              break b;\n          }\n          eventType = void 0;\n        }\n      else\n        isComposing\n          ? isFallbackCompositionEnd(domEventName, nativeEvent) &&\n            (eventType = \"onCompositionEnd\")\n          : \"keydown\" === domEventName &&\n            229 === nativeEvent.keyCode &&\n            (eventType = \"onCompositionStart\");\n      eventType &&\n        (useFallbackCompositionData &&\n          \"ko\" !== nativeEvent.locale &&\n          (isComposing || \"onCompositionStart\" !== eventType\n            ? \"onCompositionEnd\" === eventType &&\n              isComposing &&\n              (fallbackData = getData())\n            : ((root = nativeEventTarget),\n              (startText = \"value\" in root ? root.value : root.textContent),\n              (isComposing = !0))),\n        (handleEventFunc = accumulateTwoPhaseListeners(targetInst, eventType)),\n        0 < handleEventFunc.length &&\n          ((eventType = new SyntheticCompositionEvent(\n            eventType,\n            domEventName,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: eventType, listeners: handleEventFunc }),\n          fallbackData\n            ? (eventType.data = fallbackData)\n            : ((fallbackData = getDataFromCustomEvent(nativeEvent)),\n              null !== fallbackData && (eventType.data = fallbackData))));\n      if (\n        (fallbackData = canUseTextInputEvent\n          ? getNativeBeforeInputChars(domEventName, nativeEvent)\n          : getFallbackBeforeInputChars(domEventName, nativeEvent))\n      )\n        (eventType = accumulateTwoPhaseListeners(targetInst, \"onBeforeInput\")),\n          0 < eventType.length &&\n            ((handleEventFunc = new SyntheticCompositionEvent(\n              \"onBeforeInput\",\n              \"beforeinput\",\n              null,\n              nativeEvent,\n              nativeEventTarget\n            )),\n            dispatchQueue.push({\n              event: handleEventFunc,\n              listeners: eventType\n            }),\n            (handleEventFunc.data = fallbackData));\n      extractEvents$1(\n        dispatchQueue,\n        domEventName,\n        targetInst,\n        nativeEvent,\n        nativeEventTarget\n      );\n    }\n    processDispatchQueue(dispatchQueue, eventSystemFlags);\n  });\n}\nfunction createDispatchListener(instance, listener, currentTarget) {\n  return {\n    instance: instance,\n    listener: listener,\n    currentTarget: currentTarget\n  };\n}\nfunction accumulateTwoPhaseListeners(targetFiber, reactName) {\n  for (\n    var captureName = reactName + \"Capture\", listeners = [];\n    null !== targetFiber;\n\n  ) {\n    var _instance2 = targetFiber,\n      stateNode = _instance2.stateNode;\n    _instance2 = _instance2.tag;\n    (5 !== _instance2 && 26 !== _instance2 && 27 !== _instance2) ||\n      null === stateNode ||\n      ((_instance2 = getListener(targetFiber, captureName)),\n      null != _instance2 &&\n        listeners.unshift(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ),\n      (_instance2 = getListener(targetFiber, reactName)),\n      null != _instance2 &&\n        listeners.push(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ));\n    if (3 === targetFiber.tag) return listeners;\n    targetFiber = targetFiber.return;\n  }\n  return [];\n}\nfunction getParent(inst) {\n  if (null === inst) return null;\n  do inst = inst.return;\n  while (inst && 5 !== inst.tag && 27 !== inst.tag);\n  return inst ? inst : null;\n}\nfunction accumulateEnterLeaveListenersForEvent(\n  dispatchQueue,\n  event,\n  target,\n  common,\n  inCapturePhase\n) {\n  for (\n    var registrationName = event._reactName, listeners = [];\n    null !== target && target !== common;\n\n  ) {\n    var _instance3 = target,\n      alternate = _instance3.alternate,\n      stateNode = _instance3.stateNode;\n    _instance3 = _instance3.tag;\n    if (null !== alternate && alternate === common) break;\n    (5 !== _instance3 && 26 !== _instance3 && 27 !== _instance3) ||\n      null === stateNode ||\n      ((alternate = stateNode),\n      inCapturePhase\n        ? ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.unshift(\n              createDispatchListener(target, stateNode, alternate)\n            ))\n        : inCapturePhase ||\n          ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.push(\n              createDispatchListener(target, stateNode, alternate)\n            )));\n    target = target.return;\n  }\n  0 !== listeners.length &&\n    dispatchQueue.push({ event: event, listeners: listeners });\n}\nvar NORMALIZE_NEWLINES_REGEX = /\\r\\n?/g,\n  NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\\u0000|\\uFFFD/g;\nfunction normalizeMarkupForTextOrAttribute(markup) {\n  return (\"string\" === typeof markup ? markup : \"\" + markup)\n    .replace(NORMALIZE_NEWLINES_REGEX, \"\\n\")\n    .replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, \"\");\n}\nfunction checkForUnmatchedText(serverText, clientText) {\n  clientText = normalizeMarkupForTextOrAttribute(clientText);\n  return normalizeMarkupForTextOrAttribute(serverText) === clientText ? !0 : !1;\n}\nfunction setProp(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"children\":\n      \"string\" === typeof value\n        ? \"body\" === tag ||\n          (\"textarea\" === tag && \"\" === value) ||\n          setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          \"body\" !== tag &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"className\":\n      setValueForKnownAttribute(domElement, \"class\", value);\n      break;\n    case \"tabIndex\":\n      setValueForKnownAttribute(domElement, \"tabindex\", value);\n      break;\n    case \"dir\":\n    case \"role\":\n    case \"viewBox\":\n    case \"width\":\n    case \"height\":\n      setValueForKnownAttribute(domElement, key, value);\n      break;\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"data\":\n      if (\"object\" !== tag) {\n        setValueForKnownAttribute(domElement, \"data\", value);\n        break;\n      }\n    case \"src\":\n    case \"href\":\n      if (\"\" === value && (\"a\" !== tag || \"href\" !== key)) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"action\":\n    case \"formAction\":\n      if (\"function\" === typeof value) {\n        domElement.setAttribute(\n          key,\n          \"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')\"\n        );\n        break;\n      } else\n        \"function\" === typeof prevValue &&\n          (\"formAction\" === key\n            ? (\"input\" !== tag &&\n                setProp(domElement, tag, \"name\", props.name, props, null),\n              setProp(\n                domElement,\n                tag,\n                \"formEncType\",\n                props.formEncType,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formMethod\",\n                props.formMethod,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formTarget\",\n                props.formTarget,\n                props,\n                null\n              ))\n            : (setProp(domElement, tag, \"encType\", props.encType, props, null),\n              setProp(domElement, tag, \"method\", props.method, props, null),\n              setProp(domElement, tag, \"target\", props.target, props, null)));\n      if (\n        null == value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"multiple\":\n      domElement.multiple =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"muted\":\n      domElement.muted =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"defaultValue\":\n    case \"defaultChecked\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"autoFocus\":\n      break;\n    case \"xlinkHref\":\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"boolean\" === typeof value ||\n        \"symbol\" === typeof value\n      ) {\n        domElement.removeAttribute(\"xlink:href\");\n        break;\n      }\n      key = sanitizeURL(\"\" + value);\n      domElement.setAttributeNS(\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:href\",\n        key\n      );\n      break;\n    case \"contentEditable\":\n    case \"spellCheck\":\n    case \"draggable\":\n    case \"value\":\n    case \"autoReverse\":\n    case \"externalResourcesRequired\":\n    case \"focusable\":\n    case \"preserveAlpha\":\n      null != value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\" + value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"inert\":\n    case \"allowFullScreen\":\n    case \"async\":\n    case \"autoPlay\":\n    case \"controls\":\n    case \"default\":\n    case \"defer\":\n    case \"disabled\":\n    case \"disablePictureInPicture\":\n    case \"disableRemotePlayback\":\n    case \"formNoValidate\":\n    case \"hidden\":\n    case \"loop\":\n    case \"noModule\":\n    case \"noValidate\":\n    case \"open\":\n    case \"playsInline\":\n    case \"readOnly\":\n    case \"required\":\n    case \"reversed\":\n    case \"scoped\":\n    case \"seamless\":\n    case \"itemScope\":\n      value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\")\n        : domElement.removeAttribute(key);\n      break;\n    case \"capture\":\n    case \"download\":\n      !0 === value\n        ? domElement.setAttribute(key, \"\")\n        : !1 !== value &&\n            null != value &&\n            \"function\" !== typeof value &&\n            \"symbol\" !== typeof value\n          ? domElement.setAttribute(key, value)\n          : domElement.removeAttribute(key);\n      break;\n    case \"cols\":\n    case \"rows\":\n    case \"size\":\n    case \"span\":\n      null != value &&\n      \"function\" !== typeof value &&\n      \"symbol\" !== typeof value &&\n      !isNaN(value) &&\n      1 <= value\n        ? domElement.setAttribute(key, value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"rowSpan\":\n    case \"start\":\n      null == value ||\n      \"function\" === typeof value ||\n      \"symbol\" === typeof value ||\n      isNaN(value)\n        ? domElement.removeAttribute(key)\n        : domElement.setAttribute(key, value);\n      break;\n    case \"popover\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      setValueForAttribute(domElement, \"popover\", value);\n      break;\n    case \"xlinkActuate\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:actuate\",\n        value\n      );\n      break;\n    case \"xlinkArcrole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:arcrole\",\n        value\n      );\n      break;\n    case \"xlinkRole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:role\",\n        value\n      );\n      break;\n    case \"xlinkShow\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:show\",\n        value\n      );\n      break;\n    case \"xlinkTitle\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:title\",\n        value\n      );\n      break;\n    case \"xlinkType\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:type\",\n        value\n      );\n      break;\n    case \"xmlBase\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:base\",\n        value\n      );\n      break;\n    case \"xmlLang\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:lang\",\n        value\n      );\n      break;\n    case \"xmlSpace\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:space\",\n        value\n      );\n      break;\n    case \"is\":\n      setValueForAttribute(domElement, \"is\", value);\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (\n        !(2 < key.length) ||\n        (\"o\" !== key[0] && \"O\" !== key[0]) ||\n        (\"n\" !== key[1] && \"N\" !== key[1])\n      )\n        (key = aliases.get(key) || key),\n          setValueForAttribute(domElement, key, value);\n  }\n}\nfunction setPropOnCustomElement(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"children\":\n      \"string\" === typeof value\n        ? setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (!registrationNameDependencies.hasOwnProperty(key))\n        a: {\n          if (\n            \"o\" === key[0] &&\n            \"n\" === key[1] &&\n            ((props = key.endsWith(\"Capture\")),\n            (tag = key.slice(2, props ? key.length - 7 : void 0)),\n            (prevValue = domElement[internalPropsKey] || null),\n            (prevValue = null != prevValue ? prevValue[key] : null),\n            \"function\" === typeof prevValue &&\n              domElement.removeEventListener(tag, prevValue, props),\n            \"function\" === typeof value)\n          ) {\n            \"function\" !== typeof prevValue &&\n              null !== prevValue &&\n              (key in domElement\n                ? (domElement[key] = null)\n                : domElement.hasAttribute(key) &&\n                  domElement.removeAttribute(key));\n            domElement.addEventListener(tag, value, props);\n            break a;\n          }\n          key in domElement\n            ? (domElement[key] = value)\n            : !0 === value\n              ? domElement.setAttribute(key, \"\")\n              : setValueForAttribute(domElement, key, value);\n        }\n  }\n}\nfunction setInitialProperties(domElement, tag, props) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"img\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      var hasSrc = !1,\n        hasSrcSet = !1,\n        propKey;\n      for (propKey in props)\n        if (props.hasOwnProperty(propKey)) {\n          var propValue = props[propKey];\n          if (null != propValue)\n            switch (propKey) {\n              case \"src\":\n                hasSrc = !0;\n                break;\n              case \"srcSet\":\n                hasSrcSet = !0;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                throw Error(formatProdErrorMessage(137, tag));\n              default:\n                setProp(domElement, tag, propKey, propValue, props, null);\n            }\n        }\n      hasSrcSet &&\n        setProp(domElement, tag, \"srcSet\", props.srcSet, props, null);\n      hasSrc && setProp(domElement, tag, \"src\", props.src, props, null);\n      return;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      var defaultValue = (propKey = propValue = hasSrcSet = null),\n        checked = null,\n        defaultChecked = null;\n      for (hasSrc in props)\n        if (props.hasOwnProperty(hasSrc)) {\n          var propValue$184 = props[hasSrc];\n          if (null != propValue$184)\n            switch (hasSrc) {\n              case \"name\":\n                hasSrcSet = propValue$184;\n                break;\n              case \"type\":\n                propValue = propValue$184;\n                break;\n              case \"checked\":\n                checked = propValue$184;\n                break;\n              case \"defaultChecked\":\n                defaultChecked = propValue$184;\n                break;\n              case \"value\":\n                propKey = propValue$184;\n                break;\n              case \"defaultValue\":\n                defaultValue = propValue$184;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                if (null != propValue$184)\n                  throw Error(formatProdErrorMessage(137, tag));\n                break;\n              default:\n                setProp(domElement, tag, hasSrc, propValue$184, props, null);\n            }\n        }\n      initInput(\n        domElement,\n        propKey,\n        defaultValue,\n        checked,\n        defaultChecked,\n        propValue,\n        hasSrcSet,\n        !1\n      );\n      return;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      hasSrc = propValue = propKey = null;\n      for (hasSrcSet in props)\n        if (\n          props.hasOwnProperty(hasSrcSet) &&\n          ((defaultValue = props[hasSrcSet]), null != defaultValue)\n        )\n          switch (hasSrcSet) {\n            case \"value\":\n              propKey = defaultValue;\n              break;\n            case \"defaultValue\":\n              propValue = defaultValue;\n              break;\n            case \"multiple\":\n              hasSrc = defaultValue;\n            default:\n              setProp(domElement, tag, hasSrcSet, defaultValue, props, null);\n          }\n      tag = propKey;\n      props = propValue;\n      domElement.multiple = !!hasSrc;\n      null != tag\n        ? updateOptions(domElement, !!hasSrc, tag, !1)\n        : null != props && updateOptions(domElement, !!hasSrc, props, !0);\n      return;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      propKey = hasSrcSet = hasSrc = null;\n      for (propValue in props)\n        if (\n          props.hasOwnProperty(propValue) &&\n          ((defaultValue = props[propValue]), null != defaultValue)\n        )\n          switch (propValue) {\n            case \"value\":\n              hasSrc = defaultValue;\n              break;\n            case \"defaultValue\":\n              hasSrcSet = defaultValue;\n              break;\n            case \"children\":\n              propKey = defaultValue;\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != defaultValue) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              setProp(domElement, tag, propValue, defaultValue, props, null);\n          }\n      initTextarea(domElement, hasSrc, hasSrcSet, propKey);\n      return;\n    case \"option\":\n      for (checked in props)\n        if (\n          props.hasOwnProperty(checked) &&\n          ((hasSrc = props[checked]), null != hasSrc)\n        )\n          switch (checked) {\n            case \"selected\":\n              domElement.selected =\n                hasSrc &&\n                \"function\" !== typeof hasSrc &&\n                \"symbol\" !== typeof hasSrc;\n              break;\n            default:\n              setProp(domElement, tag, checked, hasSrc, props, null);\n          }\n      return;\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      listenToNonDelegatedEvent(\"cancel\", domElement);\n      listenToNonDelegatedEvent(\"close\", domElement);\n      break;\n    case \"iframe\":\n    case \"object\":\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (hasSrc = 0; hasSrc < mediaEventTypes.length; hasSrc++)\n        listenToNonDelegatedEvent(mediaEventTypes[hasSrc], domElement);\n      break;\n    case \"image\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      break;\n    case \"embed\":\n    case \"source\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", domElement),\n        listenToNonDelegatedEvent(\"load\", domElement);\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (defaultChecked in props)\n        if (\n          props.hasOwnProperty(defaultChecked) &&\n          ((hasSrc = props[defaultChecked]), null != hasSrc)\n        )\n          switch (defaultChecked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              throw Error(formatProdErrorMessage(137, tag));\n            default:\n              setProp(domElement, tag, defaultChecked, hasSrc, props, null);\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (propValue$184 in props)\n          props.hasOwnProperty(propValue$184) &&\n            ((hasSrc = props[propValue$184]),\n            void 0 !== hasSrc &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propValue$184,\n                hasSrc,\n                props,\n                void 0\n              ));\n        return;\n      }\n  }\n  for (defaultValue in props)\n    props.hasOwnProperty(defaultValue) &&\n      ((hasSrc = props[defaultValue]),\n      null != hasSrc &&\n        setProp(domElement, tag, defaultValue, hasSrc, props, null));\n}\nfunction updateProperties(domElement, tag, lastProps, nextProps) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"input\":\n      var name = null,\n        type = null,\n        value = null,\n        defaultValue = null,\n        lastDefaultValue = null,\n        checked = null,\n        defaultChecked = null;\n      for (propKey in lastProps) {\n        var lastProp = lastProps[propKey];\n        if (lastProps.hasOwnProperty(propKey) && null != lastProp)\n          switch (propKey) {\n            case \"checked\":\n              break;\n            case \"value\":\n              break;\n            case \"defaultValue\":\n              lastDefaultValue = lastProp;\n            default:\n              nextProps.hasOwnProperty(propKey) ||\n                setProp(domElement, tag, propKey, null, nextProps, lastProp);\n          }\n      }\n      for (var propKey$201 in nextProps) {\n        var propKey = nextProps[propKey$201];\n        lastProp = lastProps[propKey$201];\n        if (\n          nextProps.hasOwnProperty(propKey$201) &&\n          (null != propKey || null != lastProp)\n        )\n          switch (propKey$201) {\n            case \"type\":\n              type = propKey;\n              break;\n            case \"name\":\n              name = propKey;\n              break;\n            case \"checked\":\n              checked = propKey;\n              break;\n            case \"defaultChecked\":\n              defaultChecked = propKey;\n              break;\n            case \"value\":\n              value = propKey;\n              break;\n            case \"defaultValue\":\n              defaultValue = propKey;\n              break;\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              propKey !== lastProp &&\n                setProp(\n                  domElement,\n                  tag,\n                  propKey$201,\n                  propKey,\n                  nextProps,\n                  lastProp\n                );\n          }\n      }\n      updateInput(\n        domElement,\n        value,\n        defaultValue,\n        lastDefaultValue,\n        checked,\n        defaultChecked,\n        type,\n        name\n      );\n      return;\n    case \"select\":\n      propKey = value = defaultValue = propKey$201 = null;\n      for (type in lastProps)\n        if (\n          ((lastDefaultValue = lastProps[type]),\n          lastProps.hasOwnProperty(type) && null != lastDefaultValue)\n        )\n          switch (type) {\n            case \"value\":\n              break;\n            case \"multiple\":\n              propKey = lastDefaultValue;\n            default:\n              nextProps.hasOwnProperty(type) ||\n                setProp(\n                  domElement,\n                  tag,\n                  type,\n                  null,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      for (name in nextProps)\n        if (\n          ((type = nextProps[name]),\n          (lastDefaultValue = lastProps[name]),\n          nextProps.hasOwnProperty(name) &&\n            (null != type || null != lastDefaultValue))\n        )\n          switch (name) {\n            case \"value\":\n              propKey$201 = type;\n              break;\n            case \"defaultValue\":\n              defaultValue = type;\n              break;\n            case \"multiple\":\n              value = type;\n            default:\n              type !== lastDefaultValue &&\n                setProp(\n                  domElement,\n                  tag,\n                  name,\n                  type,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      tag = defaultValue;\n      lastProps = value;\n      nextProps = propKey;\n      null != propKey$201\n        ? updateOptions(domElement, !!lastProps, propKey$201, !1)\n        : !!nextProps !== !!lastProps &&\n          (null != tag\n            ? updateOptions(domElement, !!lastProps, tag, !0)\n            : updateOptions(domElement, !!lastProps, lastProps ? [] : \"\", !1));\n      return;\n    case \"textarea\":\n      propKey = propKey$201 = null;\n      for (defaultValue in lastProps)\n        if (\n          ((name = lastProps[defaultValue]),\n          lastProps.hasOwnProperty(defaultValue) &&\n            null != name &&\n            !nextProps.hasOwnProperty(defaultValue))\n        )\n          switch (defaultValue) {\n            case \"value\":\n              break;\n            case \"children\":\n              break;\n            default:\n              setProp(domElement, tag, defaultValue, null, nextProps, name);\n          }\n      for (value in nextProps)\n        if (\n          ((name = nextProps[value]),\n          (type = lastProps[value]),\n          nextProps.hasOwnProperty(value) && (null != name || null != type))\n        )\n          switch (value) {\n            case \"value\":\n              propKey$201 = name;\n              break;\n            case \"defaultValue\":\n              propKey = name;\n              break;\n            case \"children\":\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != name) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              name !== type &&\n                setProp(domElement, tag, value, name, nextProps, type);\n          }\n      updateTextarea(domElement, propKey$201, propKey);\n      return;\n    case \"option\":\n      for (var propKey$217 in lastProps)\n        if (\n          ((propKey$201 = lastProps[propKey$217]),\n          lastProps.hasOwnProperty(propKey$217) &&\n            null != propKey$201 &&\n            !nextProps.hasOwnProperty(propKey$217))\n        )\n          switch (propKey$217) {\n            case \"selected\":\n              domElement.selected = !1;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                propKey$217,\n                null,\n                nextProps,\n                propKey$201\n              );\n          }\n      for (lastDefaultValue in nextProps)\n        if (\n          ((propKey$201 = nextProps[lastDefaultValue]),\n          (propKey = lastProps[lastDefaultValue]),\n          nextProps.hasOwnProperty(lastDefaultValue) &&\n            propKey$201 !== propKey &&\n            (null != propKey$201 || null != propKey))\n        )\n          switch (lastDefaultValue) {\n            case \"selected\":\n              domElement.selected =\n                propKey$201 &&\n                \"function\" !== typeof propKey$201 &&\n                \"symbol\" !== typeof propKey$201;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                lastDefaultValue,\n                propKey$201,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    case \"img\":\n    case \"link\":\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"embed\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"source\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (var propKey$222 in lastProps)\n        (propKey$201 = lastProps[propKey$222]),\n          lastProps.hasOwnProperty(propKey$222) &&\n            null != propKey$201 &&\n            !nextProps.hasOwnProperty(propKey$222) &&\n            setProp(domElement, tag, propKey$222, null, nextProps, propKey$201);\n      for (checked in nextProps)\n        if (\n          ((propKey$201 = nextProps[checked]),\n          (propKey = lastProps[checked]),\n          nextProps.hasOwnProperty(checked) &&\n            propKey$201 !== propKey &&\n            (null != propKey$201 || null != propKey))\n        )\n          switch (checked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey$201)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                checked,\n                propKey$201,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (var propKey$227 in lastProps)\n          (propKey$201 = lastProps[propKey$227]),\n            lastProps.hasOwnProperty(propKey$227) &&\n              void 0 !== propKey$201 &&\n              !nextProps.hasOwnProperty(propKey$227) &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propKey$227,\n                void 0,\n                nextProps,\n                propKey$201\n              );\n        for (defaultChecked in nextProps)\n          (propKey$201 = nextProps[defaultChecked]),\n            (propKey = lastProps[defaultChecked]),\n            !nextProps.hasOwnProperty(defaultChecked) ||\n              propKey$201 === propKey ||\n              (void 0 === propKey$201 && void 0 === propKey) ||\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                defaultChecked,\n                propKey$201,\n                nextProps,\n                propKey\n              );\n        return;\n      }\n  }\n  for (var propKey$232 in lastProps)\n    (propKey$201 = lastProps[propKey$232]),\n      lastProps.hasOwnProperty(propKey$232) &&\n        null != propKey$201 &&\n        !nextProps.hasOwnProperty(propKey$232) &&\n        setProp(domElement, tag, propKey$232, null, nextProps, propKey$201);\n  for (lastProp in nextProps)\n    (propKey$201 = nextProps[lastProp]),\n      (propKey = lastProps[lastProp]),\n      !nextProps.hasOwnProperty(lastProp) ||\n        propKey$201 === propKey ||\n        (null == propKey$201 && null == propKey) ||\n        setProp(domElement, tag, lastProp, propKey$201, nextProps, propKey);\n}\nfunction isLikelyStaticResource(initiatorType) {\n  switch (initiatorType) {\n    case \"css\":\n    case \"script\":\n    case \"font\":\n    case \"img\":\n    case \"image\":\n    case \"input\":\n    case \"link\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction estimateBandwidth() {\n  if (\"function\" === typeof performance.getEntriesByType) {\n    for (\n      var count = 0,\n        bits = 0,\n        resourceEntries = performance.getEntriesByType(\"resource\"),\n        i = 0;\n      i < resourceEntries.length;\n      i++\n    ) {\n      var entry = resourceEntries[i],\n        transferSize = entry.transferSize,\n        initiatorType = entry.initiatorType,\n        duration = entry.duration;\n      if (transferSize && duration && isLikelyStaticResource(initiatorType)) {\n        initiatorType = 0;\n        duration = entry.responseEnd;\n        for (i += 1; i < resourceEntries.length; i++) {\n          var overlapEntry = resourceEntries[i],\n            overlapStartTime = overlapEntry.startTime;\n          if (overlapStartTime > duration) break;\n          var overlapTransferSize = overlapEntry.transferSize,\n            overlapInitiatorType = overlapEntry.initiatorType;\n          overlapTransferSize &&\n            isLikelyStaticResource(overlapInitiatorType) &&\n            ((overlapEntry = overlapEntry.responseEnd),\n            (initiatorType +=\n              overlapTransferSize *\n              (overlapEntry < duration\n                ? 1\n                : (duration - overlapStartTime) /\n                  (overlapEntry - overlapStartTime))));\n        }\n        --i;\n        bits += (8 * (transferSize + initiatorType)) / (entry.duration / 1e3);\n        count++;\n        if (10 < count) break;\n      }\n    }\n    if (0 < count) return bits / count / 1e6;\n  }\n  return navigator.connection &&\n    ((count = navigator.connection.downlink), \"number\" === typeof count)\n    ? count\n    : 5;\n}\nvar eventsEnabled = null,\n  selectionInformation = null;\nfunction getOwnerDocumentFromRootContainer(rootContainerElement) {\n  return 9 === rootContainerElement.nodeType\n    ? rootContainerElement\n    : rootContainerElement.ownerDocument;\n}\nfunction getOwnHostContext(namespaceURI) {\n  switch (namespaceURI) {\n    case \"http://www.w3.org/2000/svg\":\n      return 1;\n    case \"http://www.w3.org/1998/Math/MathML\":\n      return 2;\n    default:\n      return 0;\n  }\n}\nfunction getChildHostContextProd(parentNamespace, type) {\n  if (0 === parentNamespace)\n    switch (type) {\n      case \"svg\":\n        return 1;\n      case \"math\":\n        return 2;\n      default:\n        return 0;\n    }\n  return 1 === parentNamespace && \"foreignObject\" === type\n    ? 0\n    : parentNamespace;\n}\nfunction shouldSetTextContent(type, props) {\n  return (\n    \"textarea\" === type ||\n    \"noscript\" === type ||\n    \"string\" === typeof props.children ||\n    \"number\" === typeof props.children ||\n    \"bigint\" === typeof props.children ||\n    (\"object\" === typeof props.dangerouslySetInnerHTML &&\n      null !== props.dangerouslySetInnerHTML &&\n      null != props.dangerouslySetInnerHTML.__html)\n  );\n}\nvar currentPopstateTransitionEvent = null;\nfunction shouldAttemptEagerTransition() {\n  var event = window.event;\n  if (event && \"popstate\" === event.type) {\n    if (event === currentPopstateTransitionEvent) return !1;\n    currentPopstateTransitionEvent = event;\n    return !0;\n  }\n  currentPopstateTransitionEvent = null;\n  return !1;\n}\nvar scheduleTimeout = \"function\" === typeof setTimeout ? setTimeout : void 0,\n  cancelTimeout = \"function\" === typeof clearTimeout ? clearTimeout : void 0,\n  localPromise = \"function\" === typeof Promise ? Promise : void 0,\n  scheduleMicrotask =\n    \"function\" === typeof queueMicrotask\n      ? queueMicrotask\n      : \"undefined\" !== typeof localPromise\n        ? function (callback) {\n            return localPromise\n              .resolve(null)\n              .then(callback)\n              .catch(handleErrorInNextTick);\n          }\n        : scheduleTimeout;\nfunction handleErrorInNextTick(error) {\n  setTimeout(function () {\n    throw error;\n  });\n}\nfunction isSingletonScope(type) {\n  return \"head\" === type;\n}\nfunction clearHydrationBoundary(parentInstance, hydrationInstance) {\n  var node = hydrationInstance,\n    depth = 0;\n  do {\n    var nextNode = node.nextSibling;\n    parentInstance.removeChild(node);\n    if (nextNode && 8 === nextNode.nodeType)\n      if (((node = nextNode.data), \"/$\" === node || \"/&\" === node)) {\n        if (0 === depth) {\n          parentInstance.removeChild(nextNode);\n          retryIfBlockedOn(hydrationInstance);\n          return;\n        }\n        depth--;\n      } else if (\n        \"$\" === node ||\n        \"$?\" === node ||\n        \"$~\" === node ||\n        \"$!\" === node ||\n        \"&\" === node\n      )\n        depth++;\n      else if (\"html\" === node)\n        releaseSingletonInstance(parentInstance.ownerDocument.documentElement);\n      else if (\"head\" === node) {\n        node = parentInstance.ownerDocument.head;\n        releaseSingletonInstance(node);\n        for (var node$jscomp$0 = node.firstChild; node$jscomp$0; ) {\n          var nextNode$jscomp$0 = node$jscomp$0.nextSibling,\n            nodeName = node$jscomp$0.nodeName;\n          node$jscomp$0[internalHoistableMarker] ||\n            \"SCRIPT\" === nodeName ||\n            \"STYLE\" === nodeName ||\n            (\"LINK\" === nodeName &&\n              \"stylesheet\" === node$jscomp$0.rel.toLowerCase()) ||\n            node.removeChild(node$jscomp$0);\n          node$jscomp$0 = nextNode$jscomp$0;\n        }\n      } else\n        \"body\" === node &&\n          releaseSingletonInstance(parentInstance.ownerDocument.body);\n    node = nextNode;\n  } while (node);\n  retryIfBlockedOn(hydrationInstance);\n}\nfunction hideOrUnhideDehydratedBoundary(suspenseInstance, isHidden) {\n  var node = suspenseInstance;\n  suspenseInstance = 0;\n  do {\n    var nextNode = node.nextSibling;\n    1 === node.nodeType\n      ? isHidden\n        ? ((node._stashedDisplay = node.style.display),\n          (node.style.display = \"none\"))\n        : ((node.style.display = node._stashedDisplay || \"\"),\n          \"\" === node.getAttribute(\"style\") && node.removeAttribute(\"style\"))\n      : 3 === node.nodeType &&\n        (isHidden\n          ? ((node._stashedText = node.nodeValue), (node.nodeValue = \"\"))\n          : (node.nodeValue = node._stashedText || \"\"));\n    if (nextNode && 8 === nextNode.nodeType)\n      if (((node = nextNode.data), \"/$\" === node))\n        if (0 === suspenseInstance) break;\n        else suspenseInstance--;\n      else\n        (\"$\" !== node && \"$?\" !== node && \"$~\" !== node && \"$!\" !== node) ||\n          suspenseInstance++;\n    node = nextNode;\n  } while (node);\n}\nfunction clearContainerSparingly(container) {\n  var nextNode = container.firstChild;\n  nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);\n  for (; nextNode; ) {\n    var node = nextNode;\n    nextNode = nextNode.nextSibling;\n    switch (node.nodeName) {\n      case \"HTML\":\n      case \"HEAD\":\n      case \"BODY\":\n        clearContainerSparingly(node);\n        detachDeletedInstance(node);\n        continue;\n      case \"SCRIPT\":\n      case \"STYLE\":\n        continue;\n      case \"LINK\":\n        if (\"stylesheet\" === node.rel.toLowerCase()) continue;\n    }\n    container.removeChild(node);\n  }\n}\nfunction canHydrateInstance(instance, type, props, inRootOrSingleton) {\n  for (; 1 === instance.nodeType; ) {\n    var anyProps = props;\n    if (instance.nodeName.toLowerCase() !== type.toLowerCase()) {\n      if (\n        !inRootOrSingleton &&\n        (\"INPUT\" !== instance.nodeName || \"hidden\" !== instance.type)\n      )\n        break;\n    } else if (!inRootOrSingleton)\n      if (\"input\" === type && \"hidden\" === instance.type) {\n        var name = null == anyProps.name ? null : \"\" + anyProps.name;\n        if (\n          \"hidden\" === anyProps.type &&\n          instance.getAttribute(\"name\") === name\n        )\n          return instance;\n      } else return instance;\n    else if (!instance[internalHoistableMarker])\n      switch (type) {\n        case \"meta\":\n          if (!instance.hasAttribute(\"itemprop\")) break;\n          return instance;\n        case \"link\":\n          name = instance.getAttribute(\"rel\");\n          if (\"stylesheet\" === name && instance.hasAttribute(\"data-precedence\"))\n            break;\n          else if (\n            name !== anyProps.rel ||\n            instance.getAttribute(\"href\") !==\n              (null == anyProps.href || \"\" === anyProps.href\n                ? null\n                : anyProps.href) ||\n            instance.getAttribute(\"crossorigin\") !==\n              (null == anyProps.crossOrigin ? null : anyProps.crossOrigin) ||\n            instance.getAttribute(\"title\") !==\n              (null == anyProps.title ? null : anyProps.title)\n          )\n            break;\n          return instance;\n        case \"style\":\n          if (instance.hasAttribute(\"data-precedence\")) break;\n          return instance;\n        case \"script\":\n          name = instance.getAttribute(\"src\");\n          if (\n            (name !== (null == anyProps.src ? null : anyProps.src) ||\n              instance.getAttribute(\"type\") !==\n                (null == anyProps.type ? null : anyProps.type) ||\n              instance.getAttribute(\"crossorigin\") !==\n                (null == anyProps.crossOrigin ? null : anyProps.crossOrigin)) &&\n            name &&\n            instance.hasAttribute(\"async\") &&\n            !instance.hasAttribute(\"itemprop\")\n          )\n            break;\n          return instance;\n        default:\n          return instance;\n      }\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) break;\n  }\n  return null;\n}\nfunction canHydrateTextInstance(instance, text, inRootOrSingleton) {\n  if (\"\" === text) return null;\n  for (; 3 !== instance.nodeType; ) {\n    if (\n      (1 !== instance.nodeType ||\n        \"INPUT\" !== instance.nodeName ||\n        \"hidden\" !== instance.type) &&\n      !inRootOrSingleton\n    )\n      return null;\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) return null;\n  }\n  return instance;\n}\nfunction canHydrateHydrationBoundary(instance, inRootOrSingleton) {\n  for (; 8 !== instance.nodeType; ) {\n    if (\n      (1 !== instance.nodeType ||\n        \"INPUT\" !== instance.nodeName ||\n        \"hidden\" !== instance.type) &&\n      !inRootOrSingleton\n    )\n      return null;\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) return null;\n  }\n  return instance;\n}\nfunction isSuspenseInstancePending(instance) {\n  return \"$?\" === instance.data || \"$~\" === instance.data;\n}\nfunction isSuspenseInstanceFallback(instance) {\n  return (\n    \"$!\" === instance.data ||\n    (\"$?\" === instance.data && \"loading\" !== instance.ownerDocument.readyState)\n  );\n}\nfunction registerSuspenseInstanceRetry(instance, callback) {\n  var ownerDocument = instance.ownerDocument;\n  if (\"$~\" === instance.data) instance._reactRetry = callback;\n  else if (\"$?\" !== instance.data || \"loading\" !== ownerDocument.readyState)\n    callback();\n  else {\n    var listener = function () {\n      callback();\n      ownerDocument.removeEventListener(\"DOMContentLoaded\", listener);\n    };\n    ownerDocument.addEventListener(\"DOMContentLoaded\", listener);\n    instance._reactRetry = listener;\n  }\n}\nfunction getNextHydratable(node) {\n  for (; null != node; node = node.nextSibling) {\n    var nodeType = node.nodeType;\n    if (1 === nodeType || 3 === nodeType) break;\n    if (8 === nodeType) {\n      nodeType = node.data;\n      if (\n        \"$\" === nodeType ||\n        \"$!\" === nodeType ||\n        \"$?\" === nodeType ||\n        \"$~\" === nodeType ||\n        \"&\" === nodeType ||\n        \"F!\" === nodeType ||\n        \"F\" === nodeType\n      )\n        break;\n      if (\"/$\" === nodeType || \"/&\" === nodeType) return null;\n    }\n  }\n  return node;\n}\nvar previousHydratableOnEnteringScopedSingleton = null;\nfunction getNextHydratableInstanceAfterHydrationBoundary(hydrationInstance) {\n  hydrationInstance = hydrationInstance.nextSibling;\n  for (var depth = 0; hydrationInstance; ) {\n    if (8 === hydrationInstance.nodeType) {\n      var data = hydrationInstance.data;\n      if (\"/$\" === data || \"/&\" === data) {\n        if (0 === depth)\n          return getNextHydratable(hydrationInstance.nextSibling);\n        depth--;\n      } else\n        (\"$\" !== data &&\n          \"$!\" !== data &&\n          \"$?\" !== data &&\n          \"$~\" !== data &&\n          \"&\" !== data) ||\n          depth++;\n    }\n    hydrationInstance = hydrationInstance.nextSibling;\n  }\n  return null;\n}\nfunction getParentHydrationBoundary(targetInstance) {\n  targetInstance = targetInstance.previousSibling;\n  for (var depth = 0; targetInstance; ) {\n    if (8 === targetInstance.nodeType) {\n      var data = targetInstance.data;\n      if (\n        \"$\" === data ||\n        \"$!\" === data ||\n        \"$?\" === data ||\n        \"$~\" === data ||\n        \"&\" === data\n      ) {\n        if (0 === depth) return targetInstance;\n        depth--;\n      } else (\"/$\" !== data && \"/&\" !== data) || depth++;\n    }\n    targetInstance = targetInstance.previousSibling;\n  }\n  return null;\n}\nfunction resolveSingletonInstance(type, props, rootContainerInstance) {\n  props = getOwnerDocumentFromRootContainer(rootContainerInstance);\n  switch (type) {\n    case \"html\":\n      type = props.documentElement;\n      if (!type) throw Error(formatProdErrorMessage(452));\n      return type;\n    case \"head\":\n      type = props.head;\n      if (!type) throw Error(formatProdErrorMessage(453));\n      return type;\n    case \"body\":\n      type = props.body;\n      if (!type) throw Error(formatProdErrorMessage(454));\n      return type;\n    default:\n      throw Error(formatProdErrorMessage(451));\n  }\n}\nfunction releaseSingletonInstance(instance) {\n  for (var attributes = instance.attributes; attributes.length; )\n    instance.removeAttributeNode(attributes[0]);\n  detachDeletedInstance(instance);\n}\nvar preloadPropsMap = new Map(),\n  preconnectsSet = new Set();\nfunction getHoistableRoot(container) {\n  return \"function\" === typeof container.getRootNode\n    ? container.getRootNode()\n    : 9 === container.nodeType\n      ? container\n      : container.ownerDocument;\n}\nvar previousDispatcher = ReactDOMSharedInternals.d;\nReactDOMSharedInternals.d = {\n  f: flushSyncWork,\n  r: requestFormReset,\n  D: prefetchDNS,\n  C: preconnect,\n  L: preload,\n  m: preloadModule,\n  X: preinitScript,\n  S: preinitStyle,\n  M: preinitModuleScript\n};\nfunction flushSyncWork() {\n  var previousWasRendering = previousDispatcher.f(),\n    wasRendering = flushSyncWork$1();\n  return previousWasRendering || wasRendering;\n}\nfunction requestFormReset(form) {\n  var formInst = getInstanceFromNode(form);\n  null !== formInst && 5 === formInst.tag && \"form\" === formInst.type\n    ? requestFormReset$1(formInst)\n    : previousDispatcher.r(form);\n}\nvar globalDocument = \"undefined\" === typeof document ? null : document;\nfunction preconnectAs(rel, href, crossOrigin) {\n  var ownerDocument = globalDocument;\n  if (ownerDocument && \"string\" === typeof href && href) {\n    var limitedEscapedHref =\n      escapeSelectorAttributeValueInsideDoubleQuotes(href);\n    limitedEscapedHref =\n      'link[rel=\"' + rel + '\"][href=\"' + limitedEscapedHref + '\"]';\n    \"string\" === typeof crossOrigin &&\n      (limitedEscapedHref += '[crossorigin=\"' + crossOrigin + '\"]');\n    preconnectsSet.has(limitedEscapedHref) ||\n      (preconnectsSet.add(limitedEscapedHref),\n      (rel = { rel: rel, crossOrigin: crossOrigin, href: href }),\n      null === ownerDocument.querySelector(limitedEscapedHref) &&\n        ((href = ownerDocument.createElement(\"link\")),\n        setInitialProperties(href, \"link\", rel),\n        markNodeAsHoistable(href),\n        ownerDocument.head.appendChild(href)));\n  }\n}\nfunction prefetchDNS(href) {\n  previousDispatcher.D(href);\n  preconnectAs(\"dns-prefetch\", href, null);\n}\nfunction preconnect(href, crossOrigin) {\n  previousDispatcher.C(href, crossOrigin);\n  preconnectAs(\"preconnect\", href, crossOrigin);\n}\nfunction preload(href, as, options) {\n  previousDispatcher.L(href, as, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href && as) {\n    var preloadSelector =\n      'link[rel=\"preload\"][as=\"' +\n      escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n      '\"]';\n    \"image\" === as\n      ? options && options.imageSrcSet\n        ? ((preloadSelector +=\n            '[imagesrcset=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(\n              options.imageSrcSet\n            ) +\n            '\"]'),\n          \"string\" === typeof options.imageSizes &&\n            (preloadSelector +=\n              '[imagesizes=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                options.imageSizes\n              ) +\n              '\"]'))\n        : (preloadSelector +=\n            '[href=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n            '\"]')\n      : (preloadSelector +=\n          '[href=\"' +\n          escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n          '\"]');\n    var key = preloadSelector;\n    switch (as) {\n      case \"style\":\n        key = getStyleKey(href);\n        break;\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    preloadPropsMap.has(key) ||\n      ((href = assign(\n        {\n          rel: \"preload\",\n          href:\n            \"image\" === as && options && options.imageSrcSet ? void 0 : href,\n          as: as\n        },\n        options\n      )),\n      preloadPropsMap.set(key, href),\n      null !== ownerDocument.querySelector(preloadSelector) ||\n        (\"style\" === as &&\n          ownerDocument.querySelector(getStylesheetSelectorFromKey(key))) ||\n        (\"script\" === as &&\n          ownerDocument.querySelector(getScriptSelectorFromKey(key))) ||\n        ((as = ownerDocument.createElement(\"link\")),\n        setInitialProperties(as, \"link\", href),\n        markNodeAsHoistable(as),\n        ownerDocument.head.appendChild(as)));\n  }\n}\nfunction preloadModule(href, options) {\n  previousDispatcher.m(href, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var as = options && \"string\" === typeof options.as ? options.as : \"script\",\n      preloadSelector =\n        'link[rel=\"modulepreload\"][as=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n        '\"][href=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n        '\"]',\n      key = preloadSelector;\n    switch (as) {\n      case \"audioworklet\":\n      case \"paintworklet\":\n      case \"serviceworker\":\n      case \"sharedworker\":\n      case \"worker\":\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    if (\n      !preloadPropsMap.has(key) &&\n      ((href = assign({ rel: \"modulepreload\", href: href }, options)),\n      preloadPropsMap.set(key, href),\n      null === ownerDocument.querySelector(preloadSelector))\n    ) {\n      switch (as) {\n        case \"audioworklet\":\n        case \"paintworklet\":\n        case \"serviceworker\":\n        case \"sharedworker\":\n        case \"worker\":\n        case \"script\":\n          if (ownerDocument.querySelector(getScriptSelectorFromKey(key)))\n            return;\n      }\n      as = ownerDocument.createElement(\"link\");\n      setInitialProperties(as, \"link\", href);\n      markNodeAsHoistable(as);\n      ownerDocument.head.appendChild(as);\n    }\n  }\n}\nfunction preinitStyle(href, precedence, options) {\n  previousDispatcher.S(href, precedence, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var styles = getResourcesFromRoot(ownerDocument).hoistableStyles,\n      key = getStyleKey(href);\n    precedence = precedence || \"default\";\n    var resource = styles.get(key);\n    if (!resource) {\n      var state = { loading: 0, preload: null };\n      if (\n        (resource = ownerDocument.querySelector(\n          getStylesheetSelectorFromKey(key)\n        ))\n      )\n        state.loading = 5;\n      else {\n        href = assign(\n          { rel: \"stylesheet\", href: href, \"data-precedence\": precedence },\n          options\n        );\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForStylesheet(href, options);\n        var link = (resource = ownerDocument.createElement(\"link\"));\n        markNodeAsHoistable(link);\n        setInitialProperties(link, \"link\", href);\n        link._p = new Promise(function (resolve, reject) {\n          link.onload = resolve;\n          link.onerror = reject;\n        });\n        link.addEventListener(\"load\", function () {\n          state.loading |= 1;\n        });\n        link.addEventListener(\"error\", function () {\n          state.loading |= 2;\n        });\n        state.loading |= 4;\n        insertStylesheet(resource, precedence, ownerDocument);\n      }\n      resource = {\n        type: \"stylesheet\",\n        instance: resource,\n        count: 1,\n        state: state\n      };\n      styles.set(key, resource);\n    }\n  }\n}\nfunction preinitScript(src, options) {\n  previousDispatcher.X(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0 }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction preinitModuleScript(src, options) {\n  previousDispatcher.M(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0, type: \"module\" }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction getResource(type, currentProps, pendingProps, currentResource) {\n  var JSCompiler_inline_result = (JSCompiler_inline_result =\n    rootInstanceStackCursor.current)\n    ? getHoistableRoot(JSCompiler_inline_result)\n    : null;\n  if (!JSCompiler_inline_result) throw Error(formatProdErrorMessage(446));\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return null;\n    case \"style\":\n      return \"string\" === typeof pendingProps.precedence &&\n        \"string\" === typeof pendingProps.href\n        ? ((currentProps = getStyleKey(pendingProps.href)),\n          (pendingProps = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles),\n          (currentResource = pendingProps.get(currentProps)),\n          currentResource ||\n            ((currentResource = {\n              type: \"style\",\n              instance: null,\n              count: 0,\n              state: null\n            }),\n            pendingProps.set(currentProps, currentResource)),\n          currentResource)\n        : { type: \"void\", instance: null, count: 0, state: null };\n    case \"link\":\n      if (\n        \"stylesheet\" === pendingProps.rel &&\n        \"string\" === typeof pendingProps.href &&\n        \"string\" === typeof pendingProps.precedence\n      ) {\n        type = getStyleKey(pendingProps.href);\n        var styles$243 = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles,\n          resource$244 = styles$243.get(type);\n        resource$244 ||\n          ((JSCompiler_inline_result =\n            JSCompiler_inline_result.ownerDocument || JSCompiler_inline_result),\n          (resource$244 = {\n            type: \"stylesheet\",\n            instance: null,\n            count: 0,\n            state: { loading: 0, preload: null }\n          }),\n          styles$243.set(type, resource$244),\n          (styles$243 = JSCompiler_inline_result.querySelector(\n            getStylesheetSelectorFromKey(type)\n          )) &&\n            !styles$243._p &&\n            ((resource$244.instance = styles$243),\n            (resource$244.state.loading = 5)),\n          preloadPropsMap.has(type) ||\n            ((pendingProps = {\n              rel: \"preload\",\n              as: \"style\",\n              href: pendingProps.href,\n              crossOrigin: pendingProps.crossOrigin,\n              integrity: pendingProps.integrity,\n              media: pendingProps.media,\n              hrefLang: pendingProps.hrefLang,\n              referrerPolicy: pendingProps.referrerPolicy\n            }),\n            preloadPropsMap.set(type, pendingProps),\n            styles$243 ||\n              preloadStylesheet(\n                JSCompiler_inline_result,\n                type,\n                pendingProps,\n                resource$244.state\n              )));\n        if (currentProps && null === currentResource)\n          throw Error(formatProdErrorMessage(528, \"\"));\n        return resource$244;\n      }\n      if (currentProps && null !== currentResource)\n        throw Error(formatProdErrorMessage(529, \"\"));\n      return null;\n    case \"script\":\n      return (\n        (currentProps = pendingProps.async),\n        (pendingProps = pendingProps.src),\n        \"string\" === typeof pendingProps &&\n        currentProps &&\n        \"function\" !== typeof currentProps &&\n        \"symbol\" !== typeof currentProps\n          ? ((currentProps = getScriptKey(pendingProps)),\n            (pendingProps = getResourcesFromRoot(\n              JSCompiler_inline_result\n            ).hoistableScripts),\n            (currentResource = pendingProps.get(currentProps)),\n            currentResource ||\n              ((currentResource = {\n                type: \"script\",\n                instance: null,\n                count: 0,\n                state: null\n              }),\n              pendingProps.set(currentProps, currentResource)),\n            currentResource)\n          : { type: \"void\", instance: null, count: 0, state: null }\n      );\n    default:\n      throw Error(formatProdErrorMessage(444, type));\n  }\n}\nfunction getStyleKey(href) {\n  return 'href=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(href) + '\"';\n}\nfunction getStylesheetSelectorFromKey(key) {\n  return 'link[rel=\"stylesheet\"][' + key + \"]\";\n}\nfunction stylesheetPropsFromRawProps(rawProps) {\n  return assign({}, rawProps, {\n    \"data-precedence\": rawProps.precedence,\n    precedence: null\n  });\n}\nfunction preloadStylesheet(ownerDocument, key, preloadProps, state) {\n  ownerDocument.querySelector('link[rel=\"preload\"][as=\"style\"][' + key + \"]\")\n    ? (state.loading = 1)\n    : ((key = ownerDocument.createElement(\"link\")),\n      (state.preload = key),\n      key.addEventListener(\"load\", function () {\n        return (state.loading |= 1);\n      }),\n      key.addEventListener(\"error\", function () {\n        return (state.loading |= 2);\n      }),\n      setInitialProperties(key, \"link\", preloadProps),\n      markNodeAsHoistable(key),\n      ownerDocument.head.appendChild(key));\n}\nfunction getScriptKey(src) {\n  return '[src=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(src) + '\"]';\n}\nfunction getScriptSelectorFromKey(key) {\n  return \"script[async]\" + key;\n}\nfunction acquireResource(hoistableRoot, resource, props) {\n  resource.count++;\n  if (null === resource.instance)\n    switch (resource.type) {\n      case \"style\":\n        var instance = hoistableRoot.querySelector(\n          'style[data-href~=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(props.href) +\n            '\"]'\n        );\n        if (instance)\n          return (\n            (resource.instance = instance),\n            markNodeAsHoistable(instance),\n            instance\n          );\n        var styleProps = assign({}, props, {\n          \"data-href\": props.href,\n          \"data-precedence\": props.precedence,\n          href: null,\n          precedence: null\n        });\n        instance = (hoistableRoot.ownerDocument || hoistableRoot).createElement(\n          \"style\"\n        );\n        markNodeAsHoistable(instance);\n        setInitialProperties(instance, \"style\", styleProps);\n        insertStylesheet(instance, props.precedence, hoistableRoot);\n        return (resource.instance = instance);\n      case \"stylesheet\":\n        styleProps = getStyleKey(props.href);\n        var instance$249 = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(styleProps)\n        );\n        if (instance$249)\n          return (\n            (resource.state.loading |= 4),\n            (resource.instance = instance$249),\n            markNodeAsHoistable(instance$249),\n            instance$249\n          );\n        instance = stylesheetPropsFromRawProps(props);\n        (styleProps = preloadPropsMap.get(styleProps)) &&\n          adoptPreloadPropsForStylesheet(instance, styleProps);\n        instance$249 = (\n          hoistableRoot.ownerDocument || hoistableRoot\n        ).createElement(\"link\");\n        markNodeAsHoistable(instance$249);\n        var linkInstance = instance$249;\n        linkInstance._p = new Promise(function (resolve, reject) {\n          linkInstance.onload = resolve;\n          linkInstance.onerror = reject;\n        });\n        setInitialProperties(instance$249, \"link\", instance);\n        resource.state.loading |= 4;\n        insertStylesheet(instance$249, props.precedence, hoistableRoot);\n        return (resource.instance = instance$249);\n      case \"script\":\n        instance$249 = getScriptKey(props.src);\n        if (\n          (styleProps = hoistableRoot.querySelector(\n            getScriptSelectorFromKey(instance$249)\n          ))\n        )\n          return (\n            (resource.instance = styleProps),\n            markNodeAsHoistable(styleProps),\n            styleProps\n          );\n        instance = props;\n        if ((styleProps = preloadPropsMap.get(instance$249)))\n          (instance = assign({}, props)),\n            adoptPreloadPropsForScript(instance, styleProps);\n        hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n        styleProps = hoistableRoot.createElement(\"script\");\n        markNodeAsHoistable(styleProps);\n        setInitialProperties(styleProps, \"link\", instance);\n        hoistableRoot.head.appendChild(styleProps);\n        return (resource.instance = styleProps);\n      case \"void\":\n        return null;\n      default:\n        throw Error(formatProdErrorMessage(443, resource.type));\n    }\n  else\n    \"stylesheet\" === resource.type &&\n      0 === (resource.state.loading & 4) &&\n      ((instance = resource.instance),\n      (resource.state.loading |= 4),\n      insertStylesheet(instance, props.precedence, hoistableRoot));\n  return resource.instance;\n}\nfunction insertStylesheet(instance, precedence, root) {\n  for (\n    var nodes = root.querySelectorAll(\n        'link[rel=\"stylesheet\"][data-precedence],style[data-precedence]'\n      ),\n      last = nodes.length ? nodes[nodes.length - 1] : null,\n      prior = last,\n      i = 0;\n    i < nodes.length;\n    i++\n  ) {\n    var node = nodes[i];\n    if (node.dataset.precedence === precedence) prior = node;\n    else if (prior !== last) break;\n  }\n  prior\n    ? prior.parentNode.insertBefore(instance, prior.nextSibling)\n    : ((precedence = 9 === root.nodeType ? root.head : root),\n      precedence.insertBefore(instance, precedence.firstChild));\n}\nfunction adoptPreloadPropsForStylesheet(stylesheetProps, preloadProps) {\n  null == stylesheetProps.crossOrigin &&\n    (stylesheetProps.crossOrigin = preloadProps.crossOrigin);\n  null == stylesheetProps.referrerPolicy &&\n    (stylesheetProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == stylesheetProps.title && (stylesheetProps.title = preloadProps.title);\n}\nfunction adoptPreloadPropsForScript(scriptProps, preloadProps) {\n  null == scriptProps.crossOrigin &&\n    (scriptProps.crossOrigin = preloadProps.crossOrigin);\n  null == scriptProps.referrerPolicy &&\n    (scriptProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == scriptProps.integrity &&\n    (scriptProps.integrity = preloadProps.integrity);\n}\nvar tagCaches = null;\nfunction getHydratableHoistableCache(type, keyAttribute, ownerDocument) {\n  if (null === tagCaches) {\n    var cache = new Map();\n    var caches = (tagCaches = new Map());\n    caches.set(ownerDocument, cache);\n  } else\n    (caches = tagCaches),\n      (cache = caches.get(ownerDocument)),\n      cache || ((cache = new Map()), caches.set(ownerDocument, cache));\n  if (cache.has(type)) return cache;\n  cache.set(type, null);\n  ownerDocument = ownerDocument.getElementsByTagName(type);\n  for (caches = 0; caches < ownerDocument.length; caches++) {\n    var node = ownerDocument[caches];\n    if (\n      !(\n        node[internalHoistableMarker] ||\n        node[internalInstanceKey] ||\n        (\"link\" === type && \"stylesheet\" === node.getAttribute(\"rel\"))\n      ) &&\n      \"http://www.w3.org/2000/svg\" !== node.namespaceURI\n    ) {\n      var nodeKey = node.getAttribute(keyAttribute) || \"\";\n      nodeKey = type + nodeKey;\n      var existing = cache.get(nodeKey);\n      existing ? existing.push(node) : cache.set(nodeKey, [node]);\n    }\n  }\n  return cache;\n}\nfunction mountHoistable(hoistableRoot, type, instance) {\n  hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n  hoistableRoot.head.insertBefore(\n    instance,\n    \"title\" === type ? hoistableRoot.querySelector(\"head > title\") : null\n  );\n}\nfunction isHostHoistableType(type, props, hostContext) {\n  if (1 === hostContext || null != props.itemProp) return !1;\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return !0;\n    case \"style\":\n      if (\n        \"string\" !== typeof props.precedence ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href\n      )\n        break;\n      return !0;\n    case \"link\":\n      if (\n        \"string\" !== typeof props.rel ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href ||\n        props.onLoad ||\n        props.onError\n      )\n        break;\n      switch (props.rel) {\n        case \"stylesheet\":\n          return (\n            (type = props.disabled),\n            \"string\" === typeof props.precedence && null == type\n          );\n        default:\n          return !0;\n      }\n    case \"script\":\n      if (\n        props.async &&\n        \"function\" !== typeof props.async &&\n        \"symbol\" !== typeof props.async &&\n        !props.onLoad &&\n        !props.onError &&\n        props.src &&\n        \"string\" === typeof props.src\n      )\n        return !0;\n  }\n  return !1;\n}\nfunction preloadResource(resource) {\n  return \"stylesheet\" === resource.type && 0 === (resource.state.loading & 3)\n    ? !1\n    : !0;\n}\nfunction suspendResource(state, hoistableRoot, resource, props) {\n  if (\n    \"stylesheet\" === resource.type &&\n    (\"string\" !== typeof props.media ||\n      !1 !== matchMedia(props.media).matches) &&\n    0 === (resource.state.loading & 4)\n  ) {\n    if (null === resource.instance) {\n      var key = getStyleKey(props.href),\n        instance = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(key)\n        );\n      if (instance) {\n        hoistableRoot = instance._p;\n        null !== hoistableRoot &&\n          \"object\" === typeof hoistableRoot &&\n          \"function\" === typeof hoistableRoot.then &&\n          (state.count++,\n          (state = onUnsuspend.bind(state)),\n          hoistableRoot.then(state, state));\n        resource.state.loading |= 4;\n        resource.instance = instance;\n        markNodeAsHoistable(instance);\n        return;\n      }\n      instance = hoistableRoot.ownerDocument || hoistableRoot;\n      props = stylesheetPropsFromRawProps(props);\n      (key = preloadPropsMap.get(key)) &&\n        adoptPreloadPropsForStylesheet(props, key);\n      instance = instance.createElement(\"link\");\n      markNodeAsHoistable(instance);\n      var linkInstance = instance;\n      linkInstance._p = new Promise(function (resolve, reject) {\n        linkInstance.onload = resolve;\n        linkInstance.onerror = reject;\n      });\n      setInitialProperties(instance, \"link\", props);\n      resource.instance = instance;\n    }\n    null === state.stylesheets && (state.stylesheets = new Map());\n    state.stylesheets.set(resource, hoistableRoot);\n    (hoistableRoot = resource.state.preload) &&\n      0 === (resource.state.loading & 3) &&\n      (state.count++,\n      (resource = onUnsuspend.bind(state)),\n      hoistableRoot.addEventListener(\"load\", resource),\n      hoistableRoot.addEventListener(\"error\", resource));\n  }\n}\nvar estimatedBytesWithinLimit = 0;\nfunction waitForCommitToBeReady(state, timeoutOffset) {\n  state.stylesheets &&\n    0 === state.count &&\n    insertSuspendedStylesheets(state, state.stylesheets);\n  return 0 < state.count || 0 < state.imgCount\n    ? function (commit) {\n        var stylesheetTimer = setTimeout(function () {\n          state.stylesheets &&\n            insertSuspendedStylesheets(state, state.stylesheets);\n          if (state.unsuspend) {\n            var unsuspend = state.unsuspend;\n            state.unsuspend = null;\n            unsuspend();\n          }\n        }, 6e4 + timeoutOffset);\n        0 < state.imgBytes &&\n          0 === estimatedBytesWithinLimit &&\n          (estimatedBytesWithinLimit = 62500 * estimateBandwidth());\n        var imgTimer = setTimeout(\n          function () {\n            state.waitingForImages = !1;\n            if (\n              0 === state.count &&\n              (state.stylesheets &&\n                insertSuspendedStylesheets(state, state.stylesheets),\n              state.unsuspend)\n            ) {\n              var unsuspend = state.unsuspend;\n              state.unsuspend = null;\n              unsuspend();\n            }\n          },\n          (state.imgBytes > estimatedBytesWithinLimit ? 50 : 800) +\n            timeoutOffset\n        );\n        state.unsuspend = commit;\n        return function () {\n          state.unsuspend = null;\n          clearTimeout(stylesheetTimer);\n          clearTimeout(imgTimer);\n        };\n      }\n    : null;\n}\nfunction onUnsuspend() {\n  this.count--;\n  if (0 === this.count && (0 === this.imgCount || !this.waitingForImages))\n    if (this.stylesheets) insertSuspendedStylesheets(this, this.stylesheets);\n    else if (this.unsuspend) {\n      var unsuspend = this.unsuspend;\n      this.unsuspend = null;\n      unsuspend();\n    }\n}\nvar precedencesByRoot = null;\nfunction insertSuspendedStylesheets(state, resources) {\n  state.stylesheets = null;\n  null !== state.unsuspend &&\n    (state.count++,\n    (precedencesByRoot = new Map()),\n    resources.forEach(insertStylesheetIntoRoot, state),\n    (precedencesByRoot = null),\n    onUnsuspend.call(state));\n}\nfunction insertStylesheetIntoRoot(root, resource) {\n  if (!(resource.state.loading & 4)) {\n    var precedences = precedencesByRoot.get(root);\n    if (precedences) var last = precedences.get(null);\n    else {\n      precedences = new Map();\n      precedencesByRoot.set(root, precedences);\n      for (\n        var nodes = root.querySelectorAll(\n            \"link[data-precedence],style[data-precedence]\"\n          ),\n          i = 0;\n        i < nodes.length;\n        i++\n      ) {\n        var node = nodes[i];\n        if (\n          \"LINK\" === node.nodeName ||\n          \"not all\" !== node.getAttribute(\"media\")\n        )\n          precedences.set(node.dataset.precedence, node), (last = node);\n      }\n      last && precedences.set(null, last);\n    }\n    nodes = resource.instance;\n    node = nodes.getAttribute(\"data-precedence\");\n    i = precedences.get(node) || last;\n    i === last && precedences.set(null, nodes);\n    precedences.set(node, nodes);\n    this.count++;\n    last = onUnsuspend.bind(this);\n    nodes.addEventListener(\"load\", last);\n    nodes.addEventListener(\"error\", last);\n    i\n      ? i.parentNode.insertBefore(nodes, i.nextSibling)\n      : ((root = 9 === root.nodeType ? root.head : root),\n        root.insertBefore(nodes, root.firstChild));\n    resource.state.loading |= 4;\n  }\n}\nvar HostTransitionContext = {\n  $$typeof: REACT_CONTEXT_TYPE,\n  Provider: null,\n  Consumer: null,\n  _currentValue: sharedNotPendingObject,\n  _currentValue2: sharedNotPendingObject,\n  _threadCount: 0\n};\nfunction FiberRootNode(\n  containerInfo,\n  tag,\n  hydrate,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  onDefaultTransitionIndicator,\n  formState\n) {\n  this.tag = 1;\n  this.containerInfo = containerInfo;\n  this.pingCache = this.current = this.pendingChildren = null;\n  this.timeoutHandle = -1;\n  this.callbackNode =\n    this.next =\n    this.pendingContext =\n    this.context =\n    this.cancelPendingCommit =\n      null;\n  this.callbackPriority = 0;\n  this.expirationTimes = createLaneMap(-1);\n  this.entangledLanes =\n    this.shellSuspendCounter =\n    this.errorRecoveryDisabledLanes =\n    this.expiredLanes =\n    this.warmLanes =\n    this.pingedLanes =\n    this.suspendedLanes =\n    this.pendingLanes =\n      0;\n  this.entanglements = createLaneMap(0);\n  this.hiddenUpdates = createLaneMap(null);\n  this.identifierPrefix = identifierPrefix;\n  this.onUncaughtError = onUncaughtError;\n  this.onCaughtError = onCaughtError;\n  this.onRecoverableError = onRecoverableError;\n  this.pooledCache = null;\n  this.pooledCacheLanes = 0;\n  this.formState = formState;\n  this.incompleteTransitions = new Map();\n}\nfunction createFiberRoot(\n  containerInfo,\n  tag,\n  hydrate,\n  initialChildren,\n  hydrationCallbacks,\n  isStrictMode,\n  identifierPrefix,\n  formState,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  onDefaultTransitionIndicator\n) {\n  containerInfo = new FiberRootNode(\n    containerInfo,\n    tag,\n    hydrate,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    onDefaultTransitionIndicator,\n    formState\n  );\n  tag = 1;\n  !0 === isStrictMode && (tag |= 24);\n  isStrictMode = createFiberImplClass(3, null, null, tag);\n  containerInfo.current = isStrictMode;\n  isStrictMode.stateNode = containerInfo;\n  tag = createCache();\n  tag.refCount++;\n  containerInfo.pooledCache = tag;\n  tag.refCount++;\n  isStrictMode.memoizedState = {\n    element: initialChildren,\n    isDehydrated: hydrate,\n    cache: tag\n  };\n  initializeUpdateQueue(isStrictMode);\n  return containerInfo;\n}\nfunction getContextForSubtree(parentComponent) {\n  if (!parentComponent) return emptyContextObject;\n  parentComponent = emptyContextObject;\n  return parentComponent;\n}\nfunction updateContainerImpl(\n  rootFiber,\n  lane,\n  element,\n  container,\n  parentComponent,\n  callback\n) {\n  parentComponent = getContextForSubtree(parentComponent);\n  null === container.context\n    ? (container.context = parentComponent)\n    : (container.pendingContext = parentComponent);\n  container = createUpdate(lane);\n  container.payload = { element: element };\n  callback = void 0 === callback ? null : callback;\n  null !== callback && (container.callback = callback);\n  element = enqueueUpdate(rootFiber, container, lane);\n  null !== element &&\n    (scheduleUpdateOnFiber(element, rootFiber, lane),\n    entangleTransitions(element, rootFiber, lane));\n}\nfunction markRetryLaneImpl(fiber, retryLane) {\n  fiber = fiber.memoizedState;\n  if (null !== fiber && null !== fiber.dehydrated) {\n    var a = fiber.retryLane;\n    fiber.retryLane = 0 !== a && a < retryLane ? a : retryLane;\n  }\n}\nfunction markRetryLaneIfNotHydrated(fiber, retryLane) {\n  markRetryLaneImpl(fiber, retryLane);\n  (fiber = fiber.alternate) && markRetryLaneImpl(fiber, retryLane);\n}\nfunction attemptContinuousHydration(fiber) {\n  if (13 === fiber.tag || 31 === fiber.tag) {\n    var root = enqueueConcurrentRenderForLane(fiber, 67108864);\n    null !== root && scheduleUpdateOnFiber(root, fiber, 67108864);\n    markRetryLaneIfNotHydrated(fiber, 67108864);\n  }\n}\nfunction attemptHydrationAtCurrentPriority(fiber) {\n  if (13 === fiber.tag || 31 === fiber.tag) {\n    var lane = requestUpdateLane();\n    lane = getBumpedLaneForHydrationByLane(lane);\n    var root = enqueueConcurrentRenderForLane(fiber, lane);\n    null !== root && scheduleUpdateOnFiber(root, fiber, lane);\n    markRetryLaneIfNotHydrated(fiber, lane);\n  }\n}\nvar _enabled = !0;\nfunction dispatchDiscreteEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 2),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchContinuousEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 8),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchEvent(\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (_enabled) {\n    var blockedOn = findInstanceBlockingEvent(nativeEvent);\n    if (null === blockedOn)\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        return_targetInst,\n        targetContainer\n      ),\n        clearIfContinuousEvent(domEventName, nativeEvent);\n    else if (\n      queueIfContinuousEvent(\n        blockedOn,\n        domEventName,\n        eventSystemFlags,\n        targetContainer,\n        nativeEvent\n      )\n    )\n      nativeEvent.stopPropagation();\n    else if (\n      (clearIfContinuousEvent(domEventName, nativeEvent),\n      eventSystemFlags & 4 &&\n        -1 < discreteReplayableEvents.indexOf(domEventName))\n    ) {\n      for (; null !== blockedOn; ) {\n        var fiber = getInstanceFromNode(blockedOn);\n        if (null !== fiber)\n          switch (fiber.tag) {\n            case 3:\n              fiber = fiber.stateNode;\n              if (fiber.current.memoizedState.isDehydrated) {\n                var lanes = getHighestPriorityLanes(fiber.pendingLanes);\n                if (0 !== lanes) {\n                  var root = fiber;\n                  root.pendingLanes |= 2;\n                  for (root.entangledLanes |= 2; lanes; ) {\n                    var lane = 1 << (31 - clz32(lanes));\n                    root.entanglements[1] |= lane;\n                    lanes &= ~lane;\n                  }\n                  ensureRootIsScheduled(fiber);\n                  0 === (executionContext & 6) &&\n                    ((workInProgressRootRenderTargetTime = now() + 500),\n                    flushSyncWorkAcrossRoots_impl(0, !1));\n                }\n              }\n              break;\n            case 31:\n            case 13:\n              (root = enqueueConcurrentRenderForLane(fiber, 2)),\n                null !== root && scheduleUpdateOnFiber(root, fiber, 2),\n                flushSyncWork$1(),\n                markRetryLaneIfNotHydrated(fiber, 2);\n          }\n        fiber = findInstanceBlockingEvent(nativeEvent);\n        null === fiber &&\n          dispatchEventForPluginEventSystem(\n            domEventName,\n            eventSystemFlags,\n            nativeEvent,\n            return_targetInst,\n            targetContainer\n          );\n        if (fiber === blockedOn) break;\n        blockedOn = fiber;\n      }\n      null !== blockedOn && nativeEvent.stopPropagation();\n    } else\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        null,\n        targetContainer\n      );\n  }\n}\nfunction findInstanceBlockingEvent(nativeEvent) {\n  nativeEvent = getEventTarget(nativeEvent);\n  return findInstanceBlockingTarget(nativeEvent);\n}\nvar return_targetInst = null;\nfunction findInstanceBlockingTarget(targetNode) {\n  return_targetInst = null;\n  targetNode = getClosestInstanceFromNode(targetNode);\n  if (null !== targetNode) {\n    var nearestMounted = getNearestMountedFiber(targetNode);\n    if (null === nearestMounted) targetNode = null;\n    else {\n      var tag = nearestMounted.tag;\n      if (13 === tag) {\n        targetNode = getSuspenseInstanceFromFiber(nearestMounted);\n        if (null !== targetNode) return targetNode;\n        targetNode = null;\n      } else if (31 === tag) {\n        targetNode = getActivityInstanceFromFiber(nearestMounted);\n        if (null !== targetNode) return targetNode;\n        targetNode = null;\n      } else if (3 === tag) {\n        if (nearestMounted.stateNode.current.memoizedState.isDehydrated)\n          return 3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        targetNode = null;\n      } else nearestMounted !== targetNode && (targetNode = null);\n    }\n  }\n  return_targetInst = targetNode;\n  return null;\n}\nfunction getEventPriority(domEventName) {\n  switch (domEventName) {\n    case \"beforetoggle\":\n    case \"cancel\":\n    case \"click\":\n    case \"close\":\n    case \"contextmenu\":\n    case \"copy\":\n    case \"cut\":\n    case \"auxclick\":\n    case \"dblclick\":\n    case \"dragend\":\n    case \"dragstart\":\n    case \"drop\":\n    case \"focusin\":\n    case \"focusout\":\n    case \"input\":\n    case \"invalid\":\n    case \"keydown\":\n    case \"keypress\":\n    case \"keyup\":\n    case \"mousedown\":\n    case \"mouseup\":\n    case \"paste\":\n    case \"pause\":\n    case \"play\":\n    case \"pointercancel\":\n    case \"pointerdown\":\n    case \"pointerup\":\n    case \"ratechange\":\n    case \"reset\":\n    case \"resize\":\n    case \"seeked\":\n    case \"submit\":\n    case \"toggle\":\n    case \"touchcancel\":\n    case \"touchend\":\n    case \"touchstart\":\n    case \"volumechange\":\n    case \"change\":\n    case \"selectionchange\":\n    case \"textInput\":\n    case \"compositionstart\":\n    case \"compositionend\":\n    case \"compositionupdate\":\n    case \"beforeblur\":\n    case \"afterblur\":\n    case \"beforeinput\":\n    case \"blur\":\n    case \"fullscreenchange\":\n    case \"focus\":\n    case \"hashchange\":\n    case \"popstate\":\n    case \"select\":\n    case \"selectstart\":\n      return 2;\n    case \"drag\":\n    case \"dragenter\":\n    case \"dragexit\":\n    case \"dragleave\":\n    case \"dragover\":\n    case \"mousemove\":\n    case \"mouseout\":\n    case \"mouseover\":\n    case \"pointermove\":\n    case \"pointerout\":\n    case \"pointerover\":\n    case \"scroll\":\n    case \"touchmove\":\n    case \"wheel\":\n    case \"mouseenter\":\n    case \"mouseleave\":\n    case \"pointerenter\":\n    case \"pointerleave\":\n      return 8;\n    case \"message\":\n      switch (getCurrentPriorityLevel()) {\n        case ImmediatePriority:\n          return 2;\n        case UserBlockingPriority:\n          return 8;\n        case NormalPriority$1:\n        case LowPriority:\n          return 32;\n        case IdlePriority:\n          return 268435456;\n        default:\n          return 32;\n      }\n    default:\n      return 32;\n  }\n}\nvar hasScheduledReplayAttempt = !1,\n  queuedFocus = null,\n  queuedDrag = null,\n  queuedMouse = null,\n  queuedPointers = new Map(),\n  queuedPointerCaptures = new Map(),\n  queuedExplicitHydrationTargets = [],\n  discreteReplayableEvents =\n    \"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset\".split(\n      \" \"\n    );\nfunction clearIfContinuousEvent(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"focusin\":\n    case \"focusout\":\n      queuedFocus = null;\n      break;\n    case \"dragenter\":\n    case \"dragleave\":\n      queuedDrag = null;\n      break;\n    case \"mouseover\":\n    case \"mouseout\":\n      queuedMouse = null;\n      break;\n    case \"pointerover\":\n    case \"pointerout\":\n      queuedPointers.delete(nativeEvent.pointerId);\n      break;\n    case \"gotpointercapture\":\n    case \"lostpointercapture\":\n      queuedPointerCaptures.delete(nativeEvent.pointerId);\n  }\n}\nfunction accumulateOrCreateContinuousQueuedReplayableEvent(\n  existingQueuedEvent,\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (\n    null === existingQueuedEvent ||\n    existingQueuedEvent.nativeEvent !== nativeEvent\n  )\n    return (\n      (existingQueuedEvent = {\n        blockedOn: blockedOn,\n        domEventName: domEventName,\n        eventSystemFlags: eventSystemFlags,\n        nativeEvent: nativeEvent,\n        targetContainers: [targetContainer]\n      }),\n      null !== blockedOn &&\n        ((blockedOn = getInstanceFromNode(blockedOn)),\n        null !== blockedOn && attemptContinuousHydration(blockedOn)),\n      existingQueuedEvent\n    );\n  existingQueuedEvent.eventSystemFlags |= eventSystemFlags;\n  blockedOn = existingQueuedEvent.targetContainers;\n  null !== targetContainer &&\n    -1 === blockedOn.indexOf(targetContainer) &&\n    blockedOn.push(targetContainer);\n  return existingQueuedEvent;\n}\nfunction queueIfContinuousEvent(\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  switch (domEventName) {\n    case \"focusin\":\n      return (\n        (queuedFocus = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedFocus,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"dragenter\":\n      return (\n        (queuedDrag = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedDrag,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"mouseover\":\n      return (\n        (queuedMouse = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedMouse,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"pointerover\":\n      var pointerId = nativeEvent.pointerId;\n      queuedPointers.set(\n        pointerId,\n        accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedPointers.get(pointerId) || null,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )\n      );\n      return !0;\n    case \"gotpointercapture\":\n      return (\n        (pointerId = nativeEvent.pointerId),\n        queuedPointerCaptures.set(\n          pointerId,\n          accumulateOrCreateContinuousQueuedReplayableEvent(\n            queuedPointerCaptures.get(pointerId) || null,\n            blockedOn,\n            domEventName,\n            eventSystemFlags,\n            targetContainer,\n            nativeEvent\n          )\n        ),\n        !0\n      );\n  }\n  return !1;\n}\nfunction attemptExplicitHydrationTarget(queuedTarget) {\n  var targetInst = getClosestInstanceFromNode(queuedTarget.target);\n  if (null !== targetInst) {\n    var nearestMounted = getNearestMountedFiber(targetInst);\n    if (null !== nearestMounted)\n      if (((targetInst = nearestMounted.tag), 13 === targetInst)) {\n        if (\n          ((targetInst = getSuspenseInstanceFromFiber(nearestMounted)),\n          null !== targetInst)\n        ) {\n          queuedTarget.blockedOn = targetInst;\n          runWithPriority(queuedTarget.priority, function () {\n            attemptHydrationAtCurrentPriority(nearestMounted);\n          });\n          return;\n        }\n      } else if (31 === targetInst) {\n        if (\n          ((targetInst = getActivityInstanceFromFiber(nearestMounted)),\n          null !== targetInst)\n        ) {\n          queuedTarget.blockedOn = targetInst;\n          runWithPriority(queuedTarget.priority, function () {\n            attemptHydrationAtCurrentPriority(nearestMounted);\n          });\n          return;\n        }\n      } else if (\n        3 === targetInst &&\n        nearestMounted.stateNode.current.memoizedState.isDehydrated\n      ) {\n        queuedTarget.blockedOn =\n          3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        return;\n      }\n  }\n  queuedTarget.blockedOn = null;\n}\nfunction attemptReplayContinuousQueuedEvent(queuedEvent) {\n  if (null !== queuedEvent.blockedOn) return !1;\n  for (\n    var targetContainers = queuedEvent.targetContainers;\n    0 < targetContainers.length;\n\n  ) {\n    var nextBlockedOn = findInstanceBlockingEvent(queuedEvent.nativeEvent);\n    if (null === nextBlockedOn) {\n      nextBlockedOn = queuedEvent.nativeEvent;\n      var nativeEventClone = new nextBlockedOn.constructor(\n        nextBlockedOn.type,\n        nextBlockedOn\n      );\n      currentReplayingEvent = nativeEventClone;\n      nextBlockedOn.target.dispatchEvent(nativeEventClone);\n      currentReplayingEvent = null;\n    } else\n      return (\n        (targetContainers = getInstanceFromNode(nextBlockedOn)),\n        null !== targetContainers &&\n          attemptContinuousHydration(targetContainers),\n        (queuedEvent.blockedOn = nextBlockedOn),\n        !1\n      );\n    targetContainers.shift();\n  }\n  return !0;\n}\nfunction attemptReplayContinuousQueuedEventInMap(queuedEvent, key, map) {\n  attemptReplayContinuousQueuedEvent(queuedEvent) && map.delete(key);\n}\nfunction replayUnblockedEvents() {\n  hasScheduledReplayAttempt = !1;\n  null !== queuedFocus &&\n    attemptReplayContinuousQueuedEvent(queuedFocus) &&\n    (queuedFocus = null);\n  null !== queuedDrag &&\n    attemptReplayContinuousQueuedEvent(queuedDrag) &&\n    (queuedDrag = null);\n  null !== queuedMouse &&\n    attemptReplayContinuousQueuedEvent(queuedMouse) &&\n    (queuedMouse = null);\n  queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap);\n  queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap);\n}\nfunction scheduleCallbackIfUnblocked(queuedEvent, unblocked) {\n  queuedEvent.blockedOn === unblocked &&\n    ((queuedEvent.blockedOn = null),\n    hasScheduledReplayAttempt ||\n      ((hasScheduledReplayAttempt = !0),\n      Scheduler.unstable_scheduleCallback(\n        Scheduler.unstable_NormalPriority,\n        replayUnblockedEvents\n      )));\n}\nvar lastScheduledReplayQueue = null;\nfunction scheduleReplayQueueIfNeeded(formReplayingQueue) {\n  lastScheduledReplayQueue !== formReplayingQueue &&\n    ((lastScheduledReplayQueue = formReplayingQueue),\n    Scheduler.unstable_scheduleCallback(\n      Scheduler.unstable_NormalPriority,\n      function () {\n        lastScheduledReplayQueue === formReplayingQueue &&\n          (lastScheduledReplayQueue = null);\n        for (var i = 0; i < formReplayingQueue.length; i += 3) {\n          var form = formReplayingQueue[i],\n            submitterOrAction = formReplayingQueue[i + 1],\n            formData = formReplayingQueue[i + 2];\n          if (\"function\" !== typeof submitterOrAction)\n            if (null === findInstanceBlockingTarget(submitterOrAction || form))\n              continue;\n            else break;\n          var formInst = getInstanceFromNode(form);\n          null !== formInst &&\n            (formReplayingQueue.splice(i, 3),\n            (i -= 3),\n            startHostTransition(\n              formInst,\n              {\n                pending: !0,\n                data: formData,\n                method: form.method,\n                action: submitterOrAction\n              },\n              submitterOrAction,\n              formData\n            ));\n        }\n      }\n    ));\n}\nfunction retryIfBlockedOn(unblocked) {\n  function unblock(queuedEvent) {\n    return scheduleCallbackIfUnblocked(queuedEvent, unblocked);\n  }\n  null !== queuedFocus && scheduleCallbackIfUnblocked(queuedFocus, unblocked);\n  null !== queuedDrag && scheduleCallbackIfUnblocked(queuedDrag, unblocked);\n  null !== queuedMouse && scheduleCallbackIfUnblocked(queuedMouse, unblocked);\n  queuedPointers.forEach(unblock);\n  queuedPointerCaptures.forEach(unblock);\n  for (var i = 0; i < queuedExplicitHydrationTargets.length; i++) {\n    var queuedTarget = queuedExplicitHydrationTargets[i];\n    queuedTarget.blockedOn === unblocked && (queuedTarget.blockedOn = null);\n  }\n  for (\n    ;\n    0 < queuedExplicitHydrationTargets.length &&\n    ((i = queuedExplicitHydrationTargets[0]), null === i.blockedOn);\n\n  )\n    attemptExplicitHydrationTarget(i),\n      null === i.blockedOn && queuedExplicitHydrationTargets.shift();\n  i = (unblocked.ownerDocument || unblocked).$$reactFormReplay;\n  if (null != i)\n    for (queuedTarget = 0; queuedTarget < i.length; queuedTarget += 3) {\n      var form = i[queuedTarget],\n        submitterOrAction = i[queuedTarget + 1],\n        formProps = form[internalPropsKey] || null;\n      if (\"function\" === typeof submitterOrAction)\n        formProps || scheduleReplayQueueIfNeeded(i);\n      else if (formProps) {\n        var action = null;\n        if (submitterOrAction && submitterOrAction.hasAttribute(\"formAction\"))\n          if (\n            ((form = submitterOrAction),\n            (formProps = submitterOrAction[internalPropsKey] || null))\n          )\n            action = formProps.formAction;\n          else {\n            if (null !== findInstanceBlockingTarget(form)) continue;\n          }\n        else action = formProps.action;\n        \"function\" === typeof action\n          ? (i[queuedTarget + 1] = action)\n          : (i.splice(queuedTarget, 3), (queuedTarget -= 3));\n        scheduleReplayQueueIfNeeded(i);\n      }\n    }\n}\nfunction defaultOnDefaultTransitionIndicator() {\n  function handleNavigate(event) {\n    event.canIntercept &&\n      \"react-transition\" === event.info &&\n      event.intercept({\n        handler: function () {\n          return new Promise(function (resolve) {\n            return (pendingResolve = resolve);\n          });\n        },\n        focusReset: \"manual\",\n        scroll: \"manual\"\n      });\n  }\n  function handleNavigateComplete() {\n    null !== pendingResolve && (pendingResolve(), (pendingResolve = null));\n    isCancelled || setTimeout(startFakeNavigation, 20);\n  }\n  function startFakeNavigation() {\n    if (!isCancelled && !navigation.transition) {\n      var currentEntry = navigation.currentEntry;\n      currentEntry &&\n        null != currentEntry.url &&\n        navigation.navigate(currentEntry.url, {\n          state: currentEntry.getState(),\n          info: \"react-transition\",\n          history: \"replace\"\n        });\n    }\n  }\n  if (\"object\" === typeof navigation) {\n    var isCancelled = !1,\n      pendingResolve = null;\n    navigation.addEventListener(\"navigate\", handleNavigate);\n    navigation.addEventListener(\"navigatesuccess\", handleNavigateComplete);\n    navigation.addEventListener(\"navigateerror\", handleNavigateComplete);\n    setTimeout(startFakeNavigation, 100);\n    return function () {\n      isCancelled = !0;\n      navigation.removeEventListener(\"navigate\", handleNavigate);\n      navigation.removeEventListener(\"navigatesuccess\", handleNavigateComplete);\n      navigation.removeEventListener(\"navigateerror\", handleNavigateComplete);\n      null !== pendingResolve && (pendingResolve(), (pendingResolve = null));\n    };\n  }\n}\nfunction ReactDOMRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.render = ReactDOMRoot.prototype.render =\n  function (children) {\n    var root = this._internalRoot;\n    if (null === root) throw Error(formatProdErrorMessage(409));\n    var current = root.current,\n      lane = requestUpdateLane();\n    updateContainerImpl(current, lane, children, root, null, null);\n  };\nReactDOMHydrationRoot.prototype.unmount = ReactDOMRoot.prototype.unmount =\n  function () {\n    var root = this._internalRoot;\n    if (null !== root) {\n      this._internalRoot = null;\n      var container = root.containerInfo;\n      updateContainerImpl(root.current, 2, null, root, null, null);\n      flushSyncWork$1();\n      container[internalContainerInstanceKey] = null;\n    }\n  };\nfunction ReactDOMHydrationRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n  if (target) {\n    var updatePriority = resolveUpdatePriority();\n    target = { blockedOn: null, target: target, priority: updatePriority };\n    for (\n      var i = 0;\n      i < queuedExplicitHydrationTargets.length &&\n      0 !== updatePriority &&\n      updatePriority < queuedExplicitHydrationTargets[i].priority;\n      i++\n    );\n    queuedExplicitHydrationTargets.splice(i, 0, target);\n    0 === i && attemptExplicitHydrationTarget(target);\n  }\n};\nvar isomorphicReactPackageVersion$jscomp$inline_1840 = React.version;\nif (\n  \"19.2.3\" !==\n  isomorphicReactPackageVersion$jscomp$inline_1840\n)\n  throw Error(\n    formatProdErrorMessage(\n      527,\n      isomorphicReactPackageVersion$jscomp$inline_1840,\n      \"19.2.3\"\n    )\n  );\nReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n  var fiber = componentOrElement._reactInternals;\n  if (void 0 === fiber) {\n    if (\"function\" === typeof componentOrElement.render)\n      throw Error(formatProdErrorMessage(188));\n    componentOrElement = Object.keys(componentOrElement).join(\",\");\n    throw Error(formatProdErrorMessage(268, componentOrElement));\n  }\n  componentOrElement = findCurrentFiberUsingSlowPath(fiber);\n  componentOrElement =\n    null !== componentOrElement\n      ? findCurrentHostFiberImpl(componentOrElement)\n      : null;\n  componentOrElement =\n    null === componentOrElement ? null : componentOrElement.stateNode;\n  return componentOrElement;\n};\nvar internals$jscomp$inline_2347 = {\n  bundleType: 0,\n  version: \"19.2.3\",\n  rendererPackageName: \"react-dom\",\n  currentDispatcherRef: ReactSharedInternals,\n  reconcilerVersion: \"19.2.3\"\n};\nif (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n  var hook$jscomp$inline_2348 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (\n    !hook$jscomp$inline_2348.isDisabled &&\n    hook$jscomp$inline_2348.supportsFiber\n  )\n    try {\n      (rendererID = hook$jscomp$inline_2348.inject(\n        internals$jscomp$inline_2347\n      )),\n        (injectedHook = hook$jscomp$inline_2348);\n    } catch (err) {}\n}\nexports.createRoot = function (container, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError));\n  options = createFiberRoot(\n    container,\n    1,\n    !1,\n    null,\n    null,\n    isStrictMode,\n    identifierPrefix,\n    null,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    defaultOnDefaultTransitionIndicator\n  );\n  container[internalContainerInstanceKey] = options.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMRoot(options);\n};\nexports.hydrateRoot = function (container, initialChildren, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    formState = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.formState && (formState = options.formState));\n  initialChildren = createFiberRoot(\n    container,\n    1,\n    !0,\n    initialChildren,\n    null != options ? options : null,\n    isStrictMode,\n    identifierPrefix,\n    formState,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    defaultOnDefaultTransitionIndicator\n  );\n  initialChildren.context = getContextForSubtree(null);\n  options = initialChildren.current;\n  isStrictMode = requestUpdateLane();\n  isStrictMode = getBumpedLaneForHydrationByLane(isStrictMode);\n  identifierPrefix = createUpdate(isStrictMode);\n  identifierPrefix.callback = null;\n  enqueueUpdate(options, identifierPrefix, isStrictMode);\n  options = isStrictMode;\n  initialChildren.current.lanes = options;\n  markRootUpdated$1(initialChildren, options);\n  ensureRootIsScheduled(initialChildren);\n  container[internalContainerInstanceKey] = initialChildren.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMHydrationRoot(initialChildren);\n};\nexports.version = \"19.2.3\";\n","/**\n * @license React\n * react-dom.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction noop() {}\nvar Internals = {\n    d: {\n      f: noop,\n      r: function () {\n        throw Error(formatProdErrorMessage(522));\n      },\n      D: noop,\n      C: noop,\n      L: noop,\n      m: noop,\n      X: noop,\n      S: noop,\n      M: noop\n    },\n    p: 0,\n    findDOMNode: null\n  },\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\");\nfunction createPortal$1(children, containerInfo, implementation) {\n  var key =\n    3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;\n  return {\n    $$typeof: REACT_PORTAL_TYPE,\n    key: null == key ? null : \"\" + key,\n    children: children,\n    containerInfo: containerInfo,\n    implementation: implementation\n  };\n}\nvar ReactSharedInternals =\n  React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;\nfunction getCrossOriginStringAs(as, input) {\n  if (\"font\" === as) return \"\";\n  if (\"string\" === typeof input)\n    return \"use-credentials\" === input ? input : \"\";\n}\nexports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  Internals;\nexports.createPortal = function (children, container) {\n  var key =\n    2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;\n  if (\n    !container ||\n    (1 !== container.nodeType &&\n      9 !== container.nodeType &&\n      11 !== container.nodeType)\n  )\n    throw Error(formatProdErrorMessage(299));\n  return createPortal$1(children, container, null, key);\n};\nexports.flushSync = function (fn) {\n  var previousTransition = ReactSharedInternals.T,\n    previousUpdatePriority = Internals.p;\n  try {\n    if (((ReactSharedInternals.T = null), (Internals.p = 2), fn)) return fn();\n  } finally {\n    (ReactSharedInternals.T = previousTransition),\n      (Internals.p = previousUpdatePriority),\n      Internals.d.f();\n  }\n};\nexports.preconnect = function (href, options) {\n  \"string\" === typeof href &&\n    (options\n      ? ((options = options.crossOrigin),\n        (options =\n          \"string\" === typeof options\n            ? \"use-credentials\" === options\n              ? options\n              : \"\"\n            : void 0))\n      : (options = null),\n    Internals.d.C(href, options));\n};\nexports.prefetchDNS = function (href) {\n  \"string\" === typeof href && Internals.d.D(href);\n};\nexports.preinit = function (href, options) {\n  if (\"string\" === typeof href && options && \"string\" === typeof options.as) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin),\n      integrity =\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      fetchPriority =\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0;\n    \"style\" === as\n      ? Internals.d.S(\n          href,\n          \"string\" === typeof options.precedence ? options.precedence : void 0,\n          {\n            crossOrigin: crossOrigin,\n            integrity: integrity,\n            fetchPriority: fetchPriority\n          }\n        )\n      : \"script\" === as &&\n        Internals.d.X(href, {\n          crossOrigin: crossOrigin,\n          integrity: integrity,\n          fetchPriority: fetchPriority,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n  }\n};\nexports.preinitModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (\"object\" === typeof options && null !== options) {\n      if (null == options.as || \"script\" === options.as) {\n        var crossOrigin = getCrossOriginStringAs(\n          options.as,\n          options.crossOrigin\n        );\n        Internals.d.M(href, {\n          crossOrigin: crossOrigin,\n          integrity:\n            \"string\" === typeof options.integrity ? options.integrity : void 0,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n      }\n    } else null == options && Internals.d.M(href);\n};\nexports.preload = function (href, options) {\n  if (\n    \"string\" === typeof href &&\n    \"object\" === typeof options &&\n    null !== options &&\n    \"string\" === typeof options.as\n  ) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin);\n    Internals.d.L(href, as, {\n      crossOrigin: crossOrigin,\n      integrity:\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      nonce: \"string\" === typeof options.nonce ? options.nonce : void 0,\n      type: \"string\" === typeof options.type ? options.type : void 0,\n      fetchPriority:\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0,\n      referrerPolicy:\n        \"string\" === typeof options.referrerPolicy\n          ? options.referrerPolicy\n          : void 0,\n      imageSrcSet:\n        \"string\" === typeof options.imageSrcSet ? options.imageSrcSet : void 0,\n      imageSizes:\n        \"string\" === typeof options.imageSizes ? options.imageSizes : void 0,\n      media: \"string\" === typeof options.media ? options.media : void 0\n    });\n  }\n};\nexports.preloadModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (options) {\n      var crossOrigin = getCrossOriginStringAs(options.as, options.crossOrigin);\n      Internals.d.m(href, {\n        as:\n          \"string\" === typeof options.as && \"script\" !== options.as\n            ? options.as\n            : void 0,\n        crossOrigin: crossOrigin,\n        integrity:\n          \"string\" === typeof options.integrity ? options.integrity : void 0\n      });\n    } else Internals.d.m(href);\n};\nexports.requestFormReset = function (form) {\n  Internals.d.r(form);\n};\nexports.unstable_batchedUpdates = function (fn, a) {\n  return fn(a);\n};\nexports.useFormState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useFormState(action, initialState, permalink);\n};\nexports.useFormStatus = function () {\n  return ReactSharedInternals.H.useHostTransitionStatus();\n};\nexports.version = \"19.2.3\";\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom-client.production.js');\n} else {\n  module.exports = require('./cjs/react-dom-client.development.js');\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray;\nfunction noop() {}\nvar ReactSharedInternals = { H: null, A: null, T: null, S: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, props) {\n  var refProp = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== refProp ? refProp : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(oldElement.type, newKey, oldElement.props);\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop, noop)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nvar reportGlobalError =\n    \"function\" === typeof reportError\n      ? reportError\n      : function (error) {\n          if (\n            \"object\" === typeof window &&\n            \"function\" === typeof window.ErrorEvent\n          ) {\n            var event = new window.ErrorEvent(\"error\", {\n              bubbles: !0,\n              cancelable: !0,\n              message:\n                \"object\" === typeof error &&\n                null !== error &&\n                \"string\" === typeof error.message\n                  ? String(error.message)\n                  : String(error),\n              error: error\n            });\n            if (!window.dispatchEvent(event)) return;\n          } else if (\n            \"object\" === typeof process &&\n            \"function\" === typeof process.emit\n          ) {\n            process.emit(\"uncaughtException\", error);\n            return;\n          }\n          console.error(error);\n        },\n  Children = {\n    map: mapChildren,\n    forEach: function (children, forEachFunc, forEachContext) {\n      mapChildren(\n        children,\n        function () {\n          forEachFunc.apply(this, arguments);\n        },\n        forEachContext\n      );\n    },\n    count: function (children) {\n      var n = 0;\n      mapChildren(children, function () {\n        n++;\n      });\n      return n;\n    },\n    toArray: function (children) {\n      return (\n        mapChildren(children, function (child) {\n          return child;\n        }) || []\n      );\n    },\n    only: function (children) {\n      if (!isValidElement(children))\n        throw Error(\n          \"React.Children.only expected to receive a single React element child.\"\n        );\n      return children;\n    }\n  };\nexports.Activity = REACT_ACTIVITY_TYPE;\nexports.Children = Children;\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.__COMPILER_RUNTIME = {\n  __proto__: null,\n  c: function (size) {\n    return ReactSharedInternals.H.useMemoCache(size);\n  }\n};\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.cacheSignal = function () {\n  return null;\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = function (scope) {\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    null !== prevTransition &&\n      null !== currentTransition.types &&\n      (prevTransition.types = currentTransition.types),\n      (ReactSharedInternals.T = prevTransition);\n  }\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, deps) {\n  return ReactSharedInternals.H.useEffect(create, deps);\n};\nexports.useEffectEvent = function (callback) {\n  return ReactSharedInternals.H.useEffectEvent(callback);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = function (passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n};\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.2.3\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * scheduler.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nfunction push(heap, node) {\n  var index = heap.length;\n  heap.push(node);\n  a: for (; 0 < index; ) {\n    var parentIndex = (index - 1) >>> 1,\n      parent = heap[parentIndex];\n    if (0 < compare(parent, node))\n      (heap[parentIndex] = node), (heap[index] = parent), (index = parentIndex);\n    else break a;\n  }\n}\nfunction peek(heap) {\n  return 0 === heap.length ? null : heap[0];\n}\nfunction pop(heap) {\n  if (0 === heap.length) return null;\n  var first = heap[0],\n    last = heap.pop();\n  if (last !== first) {\n    heap[0] = last;\n    a: for (\n      var index = 0, length = heap.length, halfLength = length >>> 1;\n      index < halfLength;\n\n    ) {\n      var leftIndex = 2 * (index + 1) - 1,\n        left = heap[leftIndex],\n        rightIndex = leftIndex + 1,\n        right = heap[rightIndex];\n      if (0 > compare(left, last))\n        rightIndex < length && 0 > compare(right, left)\n          ? ((heap[index] = right),\n            (heap[rightIndex] = last),\n            (index = rightIndex))\n          : ((heap[index] = left),\n            (heap[leftIndex] = last),\n            (index = leftIndex));\n      else if (rightIndex < length && 0 > compare(right, last))\n        (heap[index] = right), (heap[rightIndex] = last), (index = rightIndex);\n      else break a;\n    }\n  }\n  return first;\n}\nfunction compare(a, b) {\n  var diff = a.sortIndex - b.sortIndex;\n  return 0 !== diff ? diff : a.id - b.id;\n}\nexports.unstable_now = void 0;\nif (\"object\" === typeof performance && \"function\" === typeof performance.now) {\n  var localPerformance = performance;\n  exports.unstable_now = function () {\n    return localPerformance.now();\n  };\n} else {\n  var localDate = Date,\n    initialTime = localDate.now();\n  exports.unstable_now = function () {\n    return localDate.now() - initialTime;\n  };\n}\nvar taskQueue = [],\n  timerQueue = [],\n  taskIdCounter = 1,\n  currentTask = null,\n  currentPriorityLevel = 3,\n  isPerformingWork = !1,\n  isHostCallbackScheduled = !1,\n  isHostTimeoutScheduled = !1,\n  needsPaint = !1,\n  localSetTimeout = \"function\" === typeof setTimeout ? setTimeout : null,\n  localClearTimeout = \"function\" === typeof clearTimeout ? clearTimeout : null,\n  localSetImmediate = \"undefined\" !== typeof setImmediate ? setImmediate : null;\nfunction advanceTimers(currentTime) {\n  for (var timer = peek(timerQueue); null !== timer; ) {\n    if (null === timer.callback) pop(timerQueue);\n    else if (timer.startTime <= currentTime)\n      pop(timerQueue),\n        (timer.sortIndex = timer.expirationTime),\n        push(taskQueue, timer);\n    else break;\n    timer = peek(timerQueue);\n  }\n}\nfunction handleTimeout(currentTime) {\n  isHostTimeoutScheduled = !1;\n  advanceTimers(currentTime);\n  if (!isHostCallbackScheduled)\n    if (null !== peek(taskQueue))\n      (isHostCallbackScheduled = !0),\n        isMessageLoopRunning ||\n          ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline());\n    else {\n      var firstTimer = peek(timerQueue);\n      null !== firstTimer &&\n        requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);\n    }\n}\nvar isMessageLoopRunning = !1,\n  taskTimeoutID = -1,\n  frameInterval = 5,\n  startTime = -1;\nfunction shouldYieldToHost() {\n  return needsPaint\n    ? !0\n    : exports.unstable_now() - startTime < frameInterval\n      ? !1\n      : !0;\n}\nfunction performWorkUntilDeadline() {\n  needsPaint = !1;\n  if (isMessageLoopRunning) {\n    var currentTime = exports.unstable_now();\n    startTime = currentTime;\n    var hasMoreWork = !0;\n    try {\n      a: {\n        isHostCallbackScheduled = !1;\n        isHostTimeoutScheduled &&\n          ((isHostTimeoutScheduled = !1),\n          localClearTimeout(taskTimeoutID),\n          (taskTimeoutID = -1));\n        isPerformingWork = !0;\n        var previousPriorityLevel = currentPriorityLevel;\n        try {\n          b: {\n            advanceTimers(currentTime);\n            for (\n              currentTask = peek(taskQueue);\n              null !== currentTask &&\n              !(\n                currentTask.expirationTime > currentTime && shouldYieldToHost()\n              );\n\n            ) {\n              var callback = currentTask.callback;\n              if (\"function\" === typeof callback) {\n                currentTask.callback = null;\n                currentPriorityLevel = currentTask.priorityLevel;\n                var continuationCallback = callback(\n                  currentTask.expirationTime <= currentTime\n                );\n                currentTime = exports.unstable_now();\n                if (\"function\" === typeof continuationCallback) {\n                  currentTask.callback = continuationCallback;\n                  advanceTimers(currentTime);\n                  hasMoreWork = !0;\n                  break b;\n                }\n                currentTask === peek(taskQueue) && pop(taskQueue);\n                advanceTimers(currentTime);\n              } else pop(taskQueue);\n              currentTask = peek(taskQueue);\n            }\n            if (null !== currentTask) hasMoreWork = !0;\n            else {\n              var firstTimer = peek(timerQueue);\n              null !== firstTimer &&\n                requestHostTimeout(\n                  handleTimeout,\n                  firstTimer.startTime - currentTime\n                );\n              hasMoreWork = !1;\n            }\n          }\n          break a;\n        } finally {\n          (currentTask = null),\n            (currentPriorityLevel = previousPriorityLevel),\n            (isPerformingWork = !1);\n        }\n        hasMoreWork = void 0;\n      }\n    } finally {\n      hasMoreWork\n        ? schedulePerformWorkUntilDeadline()\n        : (isMessageLoopRunning = !1);\n    }\n  }\n}\nvar schedulePerformWorkUntilDeadline;\nif (\"function\" === typeof localSetImmediate)\n  schedulePerformWorkUntilDeadline = function () {\n    localSetImmediate(performWorkUntilDeadline);\n  };\nelse if (\"undefined\" !== typeof MessageChannel) {\n  var channel = new MessageChannel(),\n    port = channel.port2;\n  channel.port1.onmessage = performWorkUntilDeadline;\n  schedulePerformWorkUntilDeadline = function () {\n    port.postMessage(null);\n  };\n} else\n  schedulePerformWorkUntilDeadline = function () {\n    localSetTimeout(performWorkUntilDeadline, 0);\n  };\nfunction requestHostTimeout(callback, ms) {\n  taskTimeoutID = localSetTimeout(function () {\n    callback(exports.unstable_now());\n  }, ms);\n}\nexports.unstable_IdlePriority = 5;\nexports.unstable_ImmediatePriority = 1;\nexports.unstable_LowPriority = 4;\nexports.unstable_NormalPriority = 3;\nexports.unstable_Profiling = null;\nexports.unstable_UserBlockingPriority = 2;\nexports.unstable_cancelCallback = function (task) {\n  task.callback = null;\n};\nexports.unstable_forceFrameRate = function (fps) {\n  0 > fps || 125 < fps\n    ? console.error(\n        \"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"\n      )\n    : (frameInterval = 0 < fps ? Math.floor(1e3 / fps) : 5);\n};\nexports.unstable_getCurrentPriorityLevel = function () {\n  return currentPriorityLevel;\n};\nexports.unstable_next = function (eventHandler) {\n  switch (currentPriorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n      var priorityLevel = 3;\n      break;\n    default:\n      priorityLevel = currentPriorityLevel;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_requestPaint = function () {\n  needsPaint = !0;\n};\nexports.unstable_runWithPriority = function (priorityLevel, eventHandler) {\n  switch (priorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n    case 5:\n      break;\n    default:\n      priorityLevel = 3;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_scheduleCallback = function (\n  priorityLevel,\n  callback,\n  options\n) {\n  var currentTime = exports.unstable_now();\n  \"object\" === typeof options && null !== options\n    ? ((options = options.delay),\n      (options =\n        \"number\" === typeof options && 0 < options\n          ? currentTime + options\n          : currentTime))\n    : (options = currentTime);\n  switch (priorityLevel) {\n    case 1:\n      var timeout = -1;\n      break;\n    case 2:\n      timeout = 250;\n      break;\n    case 5:\n      timeout = 1073741823;\n      break;\n    case 4:\n      timeout = 1e4;\n      break;\n    default:\n      timeout = 5e3;\n  }\n  timeout = options + timeout;\n  priorityLevel = {\n    id: taskIdCounter++,\n    callback: callback,\n    priorityLevel: priorityLevel,\n    startTime: options,\n    expirationTime: timeout,\n    sortIndex: -1\n  };\n  options > currentTime\n    ? ((priorityLevel.sortIndex = options),\n      push(timerQueue, priorityLevel),\n      null === peek(taskQueue) &&\n        priorityLevel === peek(timerQueue) &&\n        (isHostTimeoutScheduled\n          ? (localClearTimeout(taskTimeoutID), (taskTimeoutID = -1))\n          : (isHostTimeoutScheduled = !0),\n        requestHostTimeout(handleTimeout, options - currentTime)))\n    : ((priorityLevel.sortIndex = timeout),\n      push(taskQueue, priorityLevel),\n      isHostCallbackScheduled ||\n        isPerformingWork ||\n        ((isHostCallbackScheduled = !0),\n        isMessageLoopRunning ||\n          ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline())));\n  return priorityLevel;\n};\nexports.unstable_shouldYield = shouldYieldToHost;\nexports.unstable_wrapCallback = function (callback) {\n  var parentPriorityLevel = currentPriorityLevel;\n  return function () {\n    var previousPriorityLevel = currentPriorityLevel;\n    currentPriorityLevel = parentPriorityLevel;\n    try {\n      return callback.apply(this, arguments);\n    } finally {\n      currentPriorityLevel = previousPriorityLevel;\n    }\n  };\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","import {\n  __require,\n  __toESM\n} from \"./chunk-6jf1natv.js\";\n\n// src/renderEntry.tsx\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport {\n  AbsoluteFill,\n  getInputProps,\n  getRemotionEnvironment,\n  continueRender as globalContinueRender,\n  delayRender as globalDelayRender,\n  Internals,\n  useDelayRender\n} from \"remotion\";\nimport { NoReactInternals } from \"remotion/no-react\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar currentBundleMode = {\n  type: \"index\"\n};\nvar setBundleMode = (state) => {\n  currentBundleMode = state;\n};\nvar getBundleMode = () => {\n  return currentBundleMode;\n};\nInternals.CSSUtils.injectCSS(Internals.CSSUtils.makeDefaultPreviewCSS(null, \"#1f2428\"));\nvar getCanSerializeDefaultProps = (object) => {\n  try {\n    const str = JSON.stringify(object);\n    return str.length < 256 * 1024 * 1024 * 0.9;\n  } catch (err) {\n    if (err.message.includes(\"Invalid string length\")) {\n      return false;\n    }\n    throw err;\n  }\n};\nvar isInHeadlessBrowser = () => {\n  return typeof window.remotion_puppeteerTimeout !== \"undefined\";\n};\nvar DelayedSpinner = () => {\n  const [show, setShow] = useState(false);\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setShow(true);\n    }, 2000);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, []);\n  if (!show) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(AbsoluteFill, {\n    style: {\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      fontSize: 13,\n      opacity: 0.6,\n      color: \"white\",\n      fontFamily: \"Helvetica, Arial, sans-serif\"\n    },\n    children: \"Loading Studio\"\n  });\n};\nvar GetVideoComposition = ({ state }) => {\n  const { compositions, currentCompositionMetadata, canvasContent } = useContext(Internals.CompositionManager);\n  const { setCanvasContent } = useContext(Internals.CompositionSetters);\n  const portalContainer = useRef(null);\n  const { delayRender, continueRender } = useDelayRender();\n  const [handle] = useState(() => delayRender(`Waiting for Composition \"${state.compositionName}\"`));\n  useEffect(() => {\n    return () => continueRender(handle);\n  }, [handle, continueRender]);\n  useEffect(() => {\n    if (compositions.length === 0) {\n      return;\n    }\n    const foundComposition = compositions.find((c) => c.id === state.compositionName);\n    if (!foundComposition) {\n      throw new Error(`Found no composition with the name ${state.compositionName}. The following compositions were found instead: ${compositions.map((c) => c.id).join(\", \")}. All compositions must have their ID calculated deterministically and must be mounted at the same time.`);\n    }\n    setCanvasContent({\n      type: \"composition\",\n      compositionId: foundComposition.id\n    });\n  }, [compositions, state, currentCompositionMetadata, setCanvasContent]);\n  useEffect(() => {\n    if (!canvasContent) {\n      return;\n    }\n    const { current } = portalContainer;\n    if (!current) {\n      throw new Error(\"portal did not render\");\n    }\n    current.appendChild(Internals.portalNode());\n    continueRender(handle);\n    return () => {\n      current.removeChild(Internals.portalNode());\n    };\n  }, [canvasContent, handle, continueRender]);\n  if (!currentCompositionMetadata) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(\"div\", {\n    ref: portalContainer,\n    id: \"remotion-canvas\",\n    style: {\n      width: currentCompositionMetadata.width,\n      height: currentCompositionMetadata.height,\n      display: \"flex\",\n      backgroundColor: \"transparent\"\n    }\n  });\n};\nvar DEFAULT_ROOT_COMPONENT_TIMEOUT = 1e4;\nvar waitForRootHandle = globalDelayRender(\"Loading root component - See https://remotion.dev/docs/troubleshooting/loading-root-component if you experience a timeout\", {\n  timeoutInMilliseconds: typeof window === \"undefined\" ? DEFAULT_ROOT_COMPONENT_TIMEOUT : window.remotion_puppeteerTimeout ?? DEFAULT_ROOT_COMPONENT_TIMEOUT\n});\nvar videoContainer = document.getElementById(\"video-container\");\nvar root = null;\nvar getRootForElement = () => {\n  if (root) {\n    return root;\n  }\n  root = ReactDOM.createRoot(videoContainer);\n  return root;\n};\nvar renderToDOM = (content) => {\n  if (!ReactDOM.createRoot) {\n    if (NoReactInternals.ENABLE_V5_BREAKING_CHANGES) {\n      throw new Error(\"Remotion 5.0 does only support React 18+. However, ReactDOM.createRoot() is undefined.\");\n    }\n    ReactDOM.render(content, videoContainer);\n    return;\n  }\n  getRootForElement().render(content);\n};\nvar renderContent = (Root) => {\n  const bundleMode = getBundleMode();\n  if (bundleMode.type === \"composition\") {\n    const markup = /* @__PURE__ */ jsx(Internals.CompositionManagerProvider, {\n      initialCanvasContent: null,\n      onlyRenderComposition: bundleMode.compositionName,\n      currentCompositionMetadata: {\n        props: NoReactInternals.deserializeJSONWithSpecialTypes(bundleMode.serializedResolvedPropsWithSchema),\n        durationInFrames: bundleMode.compositionDurationInFrames,\n        fps: bundleMode.compositionFps,\n        height: bundleMode.compositionHeight,\n        width: bundleMode.compositionWidth,\n        defaultCodec: bundleMode.compositionDefaultCodec,\n        defaultOutName: bundleMode.compositionDefaultOutName,\n        defaultVideoImageFormat: bundleMode.compositionDefaultVideoImageFormat,\n        defaultPixelFormat: bundleMode.compositionDefaultPixelFormat,\n        defaultProResProfile: bundleMode.compositionDefaultProResProfile\n      },\n      initialCompositions: [],\n      children: /* @__PURE__ */ jsx(Internals.RemotionRootContexts, {\n        frameState: null,\n        audioEnabled: window.remotion_audioEnabled,\n        videoEnabled: window.remotion_videoEnabled,\n        logLevel: window.remotion_logLevel,\n        numberOfAudioTags: 0,\n        nonceContextSeed: 0,\n        audioLatencyHint: window.remotion_audioLatencyHint ?? \"interactive\",\n        children: /* @__PURE__ */ jsxs(Internals.RenderAssetManagerProvider, {\n          collectAssets: null,\n          children: [\n            /* @__PURE__ */ jsx(Root, {}),\n            /* @__PURE__ */ jsx(GetVideoComposition, {\n              state: bundleMode\n            })\n          ]\n        })\n      })\n    });\n    renderToDOM(markup);\n  }\n  if (bundleMode.type === \"evaluation\") {\n    const markup = /* @__PURE__ */ jsx(Internals.CompositionManagerProvider, {\n      initialCanvasContent: null,\n      onlyRenderComposition: null,\n      currentCompositionMetadata: null,\n      initialCompositions: [],\n      children: /* @__PURE__ */ jsx(Internals.RemotionRootContexts, {\n        frameState: null,\n        audioEnabled: window.remotion_audioEnabled,\n        videoEnabled: window.remotion_videoEnabled,\n        logLevel: window.remotion_logLevel,\n        numberOfAudioTags: 0,\n        audioLatencyHint: window.remotion_audioLatencyHint ?? \"interactive\",\n        nonceContextSeed: 0,\n        children: /* @__PURE__ */ jsx(Internals.RenderAssetManagerProvider, {\n          collectAssets: null,\n          children: /* @__PURE__ */ jsx(Root, {})\n        })\n      })\n    });\n    renderToDOM(markup);\n  }\n  if (bundleMode.type === \"index\") {\n    if (isInHeadlessBrowser()) {\n      return;\n    }\n    renderToDOM(/* @__PURE__ */ jsx(\"div\", {\n      children: /* @__PURE__ */ jsx(DelayedSpinner, {})\n    }));\n    import(\"./chunk-wg48cezw.js\").then(({ StudioInternals }) => {\n      window.remotion_isStudio = true;\n      window.remotion_isReadOnlyStudio = true;\n      window.remotion_inputProps = \"{}\";\n      Internals.enableSequenceStackTraces();\n      renderToDOM(/* @__PURE__ */ jsx(StudioInternals.Studio, {\n        readOnly: true,\n        rootComponent: Root\n      }));\n    }).catch((err) => {\n      renderToDOM(/* @__PURE__ */ jsxs(\"div\", {\n        children: [\n          \"Failed to load Remotion Studio: \",\n          err.message\n        ]\n      }));\n    });\n  }\n};\nInternals.waitForRoot((Root) => {\n  renderContent(Root);\n  globalContinueRender(waitForRootHandle);\n});\nvar setBundleModeAndUpdate = (state) => {\n  setBundleMode(state);\n  const delay = globalDelayRender(\"Waiting for root component to load - See https://remotion.dev/docs/troubleshooting/loading-root-component if you experience a timeout\");\n  Internals.waitForRoot((Root) => {\n    renderContent(Root);\n    requestAnimationFrame(() => {\n      globalContinueRender(delay);\n    });\n  });\n};\nif (typeof window !== \"undefined\") {\n  const getUnevaluatedComps = () => {\n    if (!Internals.getRoot()) {\n      throw new Error(\"registerRoot() was never called. 1. Make sure you specified the correct entrypoint for your bundle. 2. If your registerRoot() call is deferred, use the delayRender/continueRender pattern to tell Remotion to wait.\");\n    }\n    if (!Internals.compositionsRef.current) {\n      throw new Error(\"Unexpectedly did not have a CompositionManager\");\n    }\n    const compositions = Internals.compositionsRef.current.getCompositions();\n    const canSerializeDefaultProps = getCanSerializeDefaultProps(compositions);\n    if (!canSerializeDefaultProps) {\n      Internals.Log.warn({ logLevel: window.remotion_logLevel, tag: null }, \"defaultProps are too big to serialize - trying to find the problematic composition...\");\n      Internals.Log.warn({ logLevel: window.remotion_logLevel, tag: null }, \"Serialization:\", compositions);\n      for (const comp of compositions) {\n        if (!getCanSerializeDefaultProps(comp)) {\n          throw new Error(`defaultProps too big - could not serialize - the defaultProps of composition with ID ${comp.id} - the object that was passed to defaultProps was too big. Learn how to mitigate this error by visiting https://remotion.dev/docs/troubleshooting/serialize-defaultprops`);\n        }\n      }\n      Internals.Log.warn({ logLevel: window.remotion_logLevel, tag: null }, \"Could not single out a problematic composition -  The composition list as a whole is too big to serialize.\");\n      throw new Error(\"defaultProps too big - Could not serialize - an object that was passed to defaultProps was too big. Learn how to mitigate this error by visiting https://remotion.dev/docs/troubleshooting/serialize-defaultprops\");\n    }\n    return compositions;\n  };\n  window.getStaticCompositions = () => {\n    const compositions = getUnevaluatedComps();\n    const inputProps = typeof window === \"undefined\" || getRemotionEnvironment().isPlayer ? {} : getInputProps() ?? {};\n    return Promise.all(compositions.map(async (c) => {\n      const handle = globalDelayRender(`Running calculateMetadata() for composition ${c.id}. If you didn't want to evaluate this composition, use \"selectComposition()\" instead of \"getCompositions()\"`);\n      const originalProps = {\n        ...c.defaultProps ?? {},\n        ...inputProps ?? {}\n      };\n      const comp = Internals.resolveVideoConfig({\n        calculateMetadata: c.calculateMetadata,\n        compositionDurationInFrames: c.durationInFrames ?? null,\n        compositionFps: c.fps ?? null,\n        compositionHeight: c.height ?? null,\n        compositionWidth: c.width ?? null,\n        signal: new AbortController().signal,\n        inputProps: originalProps,\n        defaultProps: c.defaultProps ?? {},\n        compositionId: c.id\n      });\n      const resolved = await Promise.resolve(comp);\n      globalContinueRender(handle);\n      const { props, defaultProps, ...data } = resolved;\n      return {\n        ...data,\n        serializedResolvedPropsWithCustomSchema: NoReactInternals.serializeJSONWithSpecialTypes({\n          data: props,\n          indent: undefined,\n          staticBase: null\n        }).serializedString,\n        serializedDefaultPropsWithCustomSchema: NoReactInternals.serializeJSONWithSpecialTypes({\n          data: defaultProps,\n          indent: undefined,\n          staticBase: null\n        }).serializedString\n      };\n    }));\n  };\n  window.remotion_getCompositionNames = () => {\n    return getUnevaluatedComps().map((c) => c.id);\n  };\n  window.remotion_calculateComposition = async (compId) => {\n    const compositions = getUnevaluatedComps();\n    const selectedComp = compositions.find((c) => c.id === compId);\n    if (!selectedComp) {\n      throw new Error(`Could not find composition with ID ${compId}. Available compositions: ${compositions.map((c) => c.id).join(\", \")}`);\n    }\n    const abortController = new AbortController;\n    const handle = globalDelayRender(`Running the calculateMetadata() function for composition ${compId}`);\n    const inputProps = typeof window === \"undefined\" || getRemotionEnvironment().isPlayer ? {} : getInputProps() ?? {};\n    const originalProps = {\n      ...selectedComp.defaultProps ?? {},\n      ...inputProps ?? {}\n    };\n    const prom = await Promise.resolve(Internals.resolveVideoConfig({\n      calculateMetadata: selectedComp.calculateMetadata,\n      compositionDurationInFrames: selectedComp.durationInFrames ?? null,\n      compositionFps: selectedComp.fps ?? null,\n      compositionHeight: selectedComp.height ?? null,\n      compositionWidth: selectedComp.width ?? null,\n      inputProps: originalProps,\n      signal: abortController.signal,\n      defaultProps: selectedComp.defaultProps ?? {},\n      compositionId: selectedComp.id\n    }));\n    globalContinueRender(handle);\n    const { props, defaultProps, ...data } = prom;\n    return {\n      ...data,\n      serializedResolvedPropsWithCustomSchema: NoReactInternals.serializeJSONWithSpecialTypes({\n        data: props,\n        indent: undefined,\n        staticBase: null\n      }).serializedString,\n      serializedDefaultPropsWithCustomSchema: NoReactInternals.serializeJSONWithSpecialTypes({\n        data: defaultProps,\n        indent: undefined,\n        staticBase: null\n      }).serializedString\n    };\n  };\n  window.remotion_setBundleMode = setBundleModeAndUpdate;\n}\nexport {\n  setBundleModeAndUpdate\n};\n","var __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, {\n      get: all[name],\n      enumerable: true,\n      configurable: true,\n      set: (newValue) => all[name] = () => newValue\n    });\n};\n\n// src/_check-rsc.ts\nimport { createContext } from \"react\";\nif (typeof createContext !== \"function\") {\n  const err = [\n    'Remotion requires React.createContext, but it is \"undefined\".',\n    'If you are in a React Server Component, turn it into a client component by adding \"use client\" at the top of the file.',\n    \"\",\n    \"Before:\",\n    '  import {useCurrentFrame} from \"remotion\";',\n    \"\",\n    \"After:\",\n    '  \"use client\";',\n    '  import {useCurrentFrame} from \"remotion\";'\n  ];\n  throw new Error(err.join(`\n`));\n}\n\n// src/Clipper.tsx\nvar Clipper = () => {\n  throw new Error(\"<Clipper> has been removed as of Remotion v4.0.228. The native clipping APIs were experimental and subject to removal at any time. We removed them because they were sparingly used and made rendering often slower rather than faster.\");\n};\n\n// src/enable-sequence-stack-traces.ts\nimport React from \"react\";\nimport JsxRuntime from \"react/jsx-runtime\";\n\n// src/get-remotion-environment.ts\nfunction getNodeEnvString() {\n  return [\"NOD\", \"E_EN\", \"V\"].join(\"\");\n}\nvar getEnvString = () => {\n  return [\"e\", \"nv\"].join(\"\");\n};\nvar getRemotionEnvironment = () => {\n  const isPlayer = typeof window !== \"undefined\" && window.remotion_isPlayer;\n  const isRendering = typeof window !== \"undefined\" && typeof window.process !== \"undefined\" && typeof window.process.env !== \"undefined\" && (window.process[getEnvString()][getNodeEnvString()] === \"test\" || window.process[getEnvString()][getNodeEnvString()] === \"production\" && typeof window !== \"undefined\" && typeof window.remotion_puppeteerTimeout !== \"undefined\");\n  const isStudio = typeof window !== \"undefined\" && window.remotion_isStudio;\n  const isReadOnlyStudio = typeof window !== \"undefined\" && window.remotion_isReadOnlyStudio;\n  return {\n    isStudio,\n    isRendering,\n    isPlayer,\n    isReadOnlyStudio,\n    isClientSideRendering: false\n  };\n};\n\n// src/enable-sequence-stack-traces.ts\nvar originalCreateElement = React.createElement;\nvar originalJsx = JsxRuntime.jsx;\nvar componentsToAddStacksTo = [];\nvar enableProxy = (api) => {\n  return new Proxy(api, {\n    apply(target, thisArg, argArray) {\n      if (componentsToAddStacksTo.includes(argArray[0])) {\n        const [first, props, ...rest] = argArray;\n        const newProps = {\n          ...props ?? {},\n          stack: new Error().stack\n        };\n        return Reflect.apply(target, thisArg, [first, newProps, ...rest]);\n      }\n      return Reflect.apply(target, thisArg, argArray);\n    }\n  });\n};\nvar enableSequenceStackTraces = () => {\n  if (!getRemotionEnvironment().isStudio) {\n    return;\n  }\n  React.createElement = enableProxy(originalCreateElement);\n  JsxRuntime.jsx = enableProxy(originalJsx);\n};\nvar addSequenceStackTraces = (component) => {\n  componentsToAddStacksTo.push(component);\n  enableSequenceStackTraces();\n};\n\n// src/is-player.tsx\nimport { createContext as createContext2, useContext } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar IsPlayerContext = createContext2(false);\nvar IsPlayerContextProvider = ({\n  children\n}) => {\n  return /* @__PURE__ */ jsx(IsPlayerContext.Provider, {\n    value: true,\n    children\n  });\n};\nvar useIsPlayer = () => {\n  return useContext(IsPlayerContext);\n};\n\n// src/truthy.ts\nfunction truthy(value) {\n  return Boolean(value);\n}\n\n// src/version.ts\nvar VERSION = \"4.0.420\";\n\n// src/multiple-versions-warning.ts\nvar checkMultipleRemotionVersions = () => {\n  if (typeof globalThis === \"undefined\") {\n    return;\n  }\n  const set = () => {\n    globalThis.remotion_imported = VERSION;\n    if (typeof window !== \"undefined\") {\n      window.remotion_imported = VERSION;\n    }\n  };\n  const alreadyImported = globalThis.remotion_imported || typeof window !== \"undefined\" && window.remotion_imported;\n  if (alreadyImported) {\n    if (alreadyImported === VERSION) {\n      return;\n    }\n    if (typeof alreadyImported === \"string\" && alreadyImported.includes(\"webcodecs\")) {\n      set();\n      return;\n    }\n    throw new TypeError(`\\uD83D\\uDEA8 Multiple versions of Remotion detected: ${[\n      VERSION,\n      typeof alreadyImported === \"string\" ? alreadyImported : \"an older version\"\n    ].filter(truthy).join(\" and \")}. This will cause things to break in an unexpected way.\nCheck that all your Remotion packages are on the same version. If your dependencies depend on Remotion, make them peer dependencies. You can also run \\`npx remotion versions\\` from your terminal to see which versions are mismatching.`);\n  }\n  set();\n};\n\n// src/Null.tsx\nvar Null = () => {\n  throw new Error(\"<Null> has been removed as of Remotion v4.0.228. The native clipping APIs were experimental and subject to removal at any time. We removed them because they were sparingly used and made rendering often slower rather than faster.\");\n};\n\n// src/Sequence.tsx\nimport {\n  forwardRef as forwardRef2,\n  useContext as useContext13,\n  useEffect as useEffect2,\n  useMemo as useMemo10,\n  useState as useState5\n} from \"react\";\n\n// src/AbsoluteFill.tsx\nimport { forwardRef, useMemo } from \"react\";\nimport { jsx as jsx2 } from \"react/jsx-runtime\";\nvar hasTailwindClassName = ({\n  className,\n  classPrefix,\n  type\n}) => {\n  if (!className) {\n    return false;\n  }\n  if (type === \"exact\") {\n    const split = className.split(\" \");\n    return classPrefix.some((token) => {\n      return split.some((part) => {\n        return part.trim() === token || part.trim().endsWith(`:${token}`) || part.trim().endsWith(`!${token}`);\n      });\n    });\n  }\n  return classPrefix.some((prefix) => {\n    return className.startsWith(prefix) || className.includes(` ${prefix}`) || className.includes(`!${prefix}`) || className.includes(`:${prefix}`);\n  });\n};\nvar AbsoluteFillRefForwarding = (props, ref) => {\n  const { style, ...other } = props;\n  const actualStyle = useMemo(() => {\n    return {\n      position: \"absolute\",\n      top: hasTailwindClassName({\n        className: other.className,\n        classPrefix: [\"top-\", \"inset-\"],\n        type: \"prefix\"\n      }) ? undefined : 0,\n      left: hasTailwindClassName({\n        className: other.className,\n        classPrefix: [\"left-\", \"inset-\"],\n        type: \"prefix\"\n      }) ? undefined : 0,\n      right: hasTailwindClassName({\n        className: other.className,\n        classPrefix: [\"right-\", \"inset-\"],\n        type: \"prefix\"\n      }) ? undefined : 0,\n      bottom: hasTailwindClassName({\n        className: other.className,\n        classPrefix: [\"bottom-\", \"inset-\"],\n        type: \"prefix\"\n      }) ? undefined : 0,\n      width: hasTailwindClassName({\n        className: other.className,\n        classPrefix: [\"w-\"],\n        type: \"prefix\"\n      }) ? undefined : \"100%\",\n      height: hasTailwindClassName({\n        className: other.className,\n        classPrefix: [\"h-\"],\n        type: \"prefix\"\n      }) ? undefined : \"100%\",\n      display: hasTailwindClassName({\n        className: other.className,\n        classPrefix: [\n          \"block\",\n          \"inline-block\",\n          \"inline\",\n          \"flex\",\n          \"inline-flex\",\n          \"flow-root\",\n          \"grid\",\n          \"inline-grid\",\n          \"contents\",\n          \"list-item\",\n          \"hidden\"\n        ],\n        type: \"exact\"\n      }) ? undefined : \"flex\",\n      flexDirection: hasTailwindClassName({\n        className: other.className,\n        classPrefix: [\n          \"flex-row\",\n          \"flex-col\",\n          \"flex-row-reverse\",\n          \"flex-col-reverse\"\n        ],\n        type: \"exact\"\n      }) ? undefined : \"column\",\n      ...style\n    };\n  }, [other.className, style]);\n  return /* @__PURE__ */ jsx2(\"div\", {\n    ref,\n    style: actualStyle,\n    ...other\n  });\n};\nvar AbsoluteFill = forwardRef(AbsoluteFillRefForwarding);\n\n// src/SequenceContext.tsx\nimport { createContext as createContext3 } from \"react\";\nvar SequenceContext = createContext3(null);\n\n// src/SequenceManager.tsx\nimport React3, { useCallback, useMemo as useMemo2, useState } from \"react\";\nimport { jsx as jsx3 } from \"react/jsx-runtime\";\nvar SequenceManager = React3.createContext({\n  registerSequence: () => {\n    throw new Error(\"SequenceManagerContext not initialized\");\n  },\n  unregisterSequence: () => {\n    throw new Error(\"SequenceManagerContext not initialized\");\n  },\n  sequences: []\n});\nvar SequenceVisibilityToggleContext = React3.createContext({\n  hidden: {},\n  setHidden: () => {\n    throw new Error(\"SequenceVisibilityToggle not initialized\");\n  }\n});\nvar SequenceManagerProvider = ({ children }) => {\n  const [sequences, setSequences] = useState([]);\n  const [hidden, setHidden] = useState({});\n  const registerSequence = useCallback((seq) => {\n    setSequences((seqs) => {\n      return [...seqs, seq];\n    });\n  }, []);\n  const unregisterSequence = useCallback((seq) => {\n    setSequences((seqs) => seqs.filter((s) => s.id !== seq));\n  }, []);\n  const sequenceContext = useMemo2(() => {\n    return {\n      registerSequence,\n      sequences,\n      unregisterSequence\n    };\n  }, [registerSequence, sequences, unregisterSequence]);\n  const hiddenContext = useMemo2(() => {\n    return {\n      hidden,\n      setHidden\n    };\n  }, [hidden]);\n  return /* @__PURE__ */ jsx3(SequenceManager.Provider, {\n    value: sequenceContext,\n    children: /* @__PURE__ */ jsx3(SequenceVisibilityToggleContext.Provider, {\n      value: hiddenContext,\n      children\n    })\n  });\n};\n\n// src/TimelineContext.tsx\nimport {\n  createContext as createContext9,\n  useLayoutEffect,\n  useMemo as useMemo7,\n  useRef,\n  useState as useState3\n} from \"react\";\n\n// src/random.ts\nfunction mulberry32(a) {\n  let t = a + 1831565813;\n  t = Math.imul(t ^ t >>> 15, t | 1);\n  t ^= t + Math.imul(t ^ t >>> 7, t | 61);\n  return ((t ^ t >>> 14) >>> 0) / 4294967296;\n}\nfunction hashCode(str) {\n  let i = 0;\n  let chr = 0;\n  let hash = 0;\n  for (i = 0;i < str.length; i++) {\n    chr = str.charCodeAt(i);\n    hash = (hash << 5) - hash + chr;\n    hash |= 0;\n  }\n  return hash;\n}\nvar random = (seed, dummy) => {\n  if (dummy !== undefined) {\n    throw new TypeError(\"random() takes only one argument\");\n  }\n  if (seed === null) {\n    return Math.random();\n  }\n  if (typeof seed === \"string\") {\n    return mulberry32(hashCode(seed));\n  }\n  if (typeof seed === \"number\") {\n    return mulberry32(seed * 10000000000);\n  }\n  throw new Error(\"random() argument must be a number or a string\");\n};\n\n// src/timeline-position-state.ts\nvar exports_timeline_position_state = {};\n__export(exports_timeline_position_state, {\n  useTimelineSetFrame: () => useTimelineSetFrame,\n  useTimelinePosition: () => useTimelinePosition,\n  usePlayingState: () => usePlayingState,\n  persistCurrentFrame: () => persistCurrentFrame,\n  getInitialFrameState: () => getInitialFrameState,\n  getFrameForComposition: () => getFrameForComposition\n});\nimport { useContext as useContext5, useMemo as useMemo6 } from \"react\";\n\n// src/use-remotion-environment.ts\nimport { useContext as useContext2, useState as useState2 } from \"react\";\n\n// src/remotion-environment-context.ts\nimport React4 from \"react\";\nvar RemotionEnvironmentContext = React4.createContext(null);\n\n// src/use-remotion-environment.ts\nvar useRemotionEnvironment = () => {\n  const context = useContext2(RemotionEnvironmentContext);\n  const [env] = useState2(() => getRemotionEnvironment());\n  return context ?? env;\n};\n\n// src/use-video.ts\nimport { useContext as useContext4, useMemo as useMemo5 } from \"react\";\n\n// src/CompositionManagerContext.tsx\nimport { createContext as createContext4 } from \"react\";\nvar CompositionManager = createContext4({\n  compositions: [],\n  folders: [],\n  currentCompositionMetadata: null,\n  canvasContent: null\n});\nvar CompositionSetters = createContext4({\n  registerComposition: () => {\n    return;\n  },\n  unregisterComposition: () => {\n    return;\n  },\n  registerFolder: () => {\n    return;\n  },\n  unregisterFolder: () => {\n    return;\n  },\n  setCanvasContent: () => {\n    return;\n  },\n  updateCompositionDefaultProps: () => {\n    return;\n  },\n  onlyRenderComposition: null\n});\n\n// src/ResolveCompositionConfig.tsx\nimport { createContext as createContext6, createRef, useContext as useContext3, useMemo as useMemo4 } from \"react\";\n\n// src/EditorProps.tsx\nimport React5, {\n  createContext as createContext5,\n  useCallback as useCallback2,\n  useImperativeHandle,\n  useMemo as useMemo3\n} from \"react\";\nimport { jsx as jsx4 } from \"react/jsx-runtime\";\nvar EditorPropsContext = createContext5({\n  props: {},\n  updateProps: () => {\n    throw new Error(\"Not implemented\");\n  },\n  resetUnsaved: () => {\n    throw new Error(\"Not implemented\");\n  }\n});\nvar editorPropsProviderRef = React5.createRef();\nvar timeValueRef = React5.createRef();\nvar EditorPropsProvider = ({ children }) => {\n  const [props, setProps] = React5.useState({});\n  const updateProps = useCallback2(({\n    defaultProps,\n    id,\n    newProps\n  }) => {\n    setProps((prev) => {\n      return {\n        ...prev,\n        [id]: typeof newProps === \"function\" ? newProps(prev[id] ?? defaultProps) : newProps\n      };\n    });\n  }, []);\n  const resetUnsaved = useCallback2((compositionId) => {\n    setProps((prev) => {\n      if (prev[compositionId]) {\n        const newProps = { ...prev };\n        delete newProps[compositionId];\n        return newProps;\n      }\n      return prev;\n    });\n  }, []);\n  useImperativeHandle(editorPropsProviderRef, () => {\n    return {\n      getProps: () => props,\n      setProps\n    };\n  }, [props]);\n  const ctx = useMemo3(() => {\n    return { props, updateProps, resetUnsaved };\n  }, [props, resetUnsaved, updateProps]);\n  return /* @__PURE__ */ jsx4(EditorPropsContext.Provider, {\n    value: ctx,\n    children\n  });\n};\n\n// src/input-props-override.ts\nvar getKey = () => {\n  return `remotion_inputPropsOverride` + window.location.origin;\n};\nvar getInputPropsOverride = () => {\n  if (typeof localStorage === \"undefined\")\n    return null;\n  const override = localStorage.getItem(getKey());\n  if (!override)\n    return null;\n  return JSON.parse(override);\n};\nvar setInputPropsOverride = (override) => {\n  if (typeof localStorage === \"undefined\")\n    return;\n  if (override === null) {\n    localStorage.removeItem(getKey());\n    return;\n  }\n  localStorage.setItem(getKey(), JSON.stringify(override));\n};\n\n// src/input-props-serialization.ts\nvar DATE_TOKEN = \"remotion-date:\";\nvar FILE_TOKEN = \"remotion-file:\";\nvar serializeJSONWithSpecialTypes = ({\n  data,\n  indent,\n  staticBase\n}) => {\n  let customDateUsed = false;\n  let customFileUsed = false;\n  let mapUsed = false;\n  let setUsed = false;\n  try {\n    const serializedString = JSON.stringify(data, function(key, value) {\n      const item = this[key];\n      if (item instanceof Date) {\n        customDateUsed = true;\n        return `${DATE_TOKEN}${item.toISOString()}`;\n      }\n      if (item instanceof Map) {\n        mapUsed = true;\n        return value;\n      }\n      if (item instanceof Set) {\n        setUsed = true;\n        return value;\n      }\n      if (typeof item === \"string\" && staticBase !== null && item.startsWith(staticBase)) {\n        customFileUsed = true;\n        return `${FILE_TOKEN}${item.replace(staticBase + \"/\", \"\")}`;\n      }\n      return value;\n    }, indent);\n    return { serializedString, customDateUsed, customFileUsed, mapUsed, setUsed };\n  } catch (err) {\n    throw new Error(\"Could not serialize the passed input props to JSON: \" + err.message);\n  }\n};\nvar deserializeJSONWithSpecialTypes = (data) => {\n  return JSON.parse(data, (_, value) => {\n    if (typeof value === \"string\" && value.startsWith(DATE_TOKEN)) {\n      return new Date(value.replace(DATE_TOKEN, \"\"));\n    }\n    if (typeof value === \"string\" && value.startsWith(FILE_TOKEN)) {\n      return `${window.remotion_staticBase}/${value.replace(FILE_TOKEN, \"\")}`;\n    }\n    return value;\n  });\n};\nvar serializeThenDeserialize = (props) => {\n  return deserializeJSONWithSpecialTypes(serializeJSONWithSpecialTypes({\n    data: props,\n    indent: 2,\n    staticBase: window.remotion_staticBase\n  }).serializedString);\n};\nvar serializeThenDeserializeInStudio = (props) => {\n  if (getRemotionEnvironment().isStudio) {\n    return serializeThenDeserialize(props);\n  }\n  return props;\n};\n\n// src/config/input-props.ts\nvar didWarnSSRImport = false;\nvar warnOnceSSRImport = () => {\n  if (didWarnSSRImport) {\n    return;\n  }\n  didWarnSSRImport = true;\n  console.warn(\"Called `getInputProps()` on the server. This function is not available server-side and has returned an empty object.\");\n  console.warn(\"To hide this warning, don't call this function on the server:\");\n  console.warn(\"  typeof window === 'undefined' ? {} : getInputProps()\");\n};\nvar getInputProps = () => {\n  if (typeof window === \"undefined\") {\n    warnOnceSSRImport();\n    return {};\n  }\n  if (getRemotionEnvironment().isPlayer) {\n    throw new Error(\"You cannot call `getInputProps()` from a <Player>. Instead, the props are available as React props from component that you passed as `component` prop.\");\n  }\n  const override = getInputPropsOverride();\n  if (override) {\n    return override;\n  }\n  if (typeof window === \"undefined\" || typeof window.remotion_inputProps === \"undefined\") {\n    throw new Error(\"Cannot call `getInputProps()` - window.remotion_inputProps is not set. This API is only available if you are in the Studio, or while you are rendering server-side.\");\n  }\n  const param = window.remotion_inputProps;\n  if (!param) {\n    return {};\n  }\n  const parsed = deserializeJSONWithSpecialTypes(param);\n  return parsed;\n};\n\n// src/validation/validate-dimensions.ts\nfunction validateDimension(amount, nameOfProp, location) {\n  if (typeof amount !== \"number\") {\n    throw new Error(`The \"${nameOfProp}\" prop ${location} must be a number, but you passed a value of type ${typeof amount}`);\n  }\n  if (isNaN(amount)) {\n    throw new TypeError(`The \"${nameOfProp}\" prop ${location} must not be NaN, but is NaN.`);\n  }\n  if (!Number.isFinite(amount)) {\n    throw new TypeError(`The \"${nameOfProp}\" prop ${location} must be finite, but is ${amount}.`);\n  }\n  if (amount % 1 !== 0) {\n    throw new TypeError(`The \"${nameOfProp}\" prop ${location} must be an integer, but is ${amount}.`);\n  }\n  if (amount <= 0) {\n    throw new TypeError(`The \"${nameOfProp}\" prop ${location} must be positive, but got ${amount}.`);\n  }\n}\n\n// src/validation/validate-duration-in-frames.ts\nfunction validateDurationInFrames(durationInFrames, options) {\n  const { allowFloats, component } = options;\n  if (typeof durationInFrames === \"undefined\") {\n    throw new Error(`The \"durationInFrames\" prop ${component} is missing.`);\n  }\n  if (typeof durationInFrames !== \"number\") {\n    throw new Error(`The \"durationInFrames\" prop ${component} must be a number, but you passed a value of type ${typeof durationInFrames}`);\n  }\n  if (durationInFrames <= 0) {\n    throw new TypeError(`The \"durationInFrames\" prop ${component} must be positive, but got ${durationInFrames}.`);\n  }\n  if (!allowFloats && durationInFrames % 1 !== 0) {\n    throw new TypeError(`The \"durationInFrames\" prop ${component} must be an integer, but got ${durationInFrames}.`);\n  }\n  if (!Number.isFinite(durationInFrames)) {\n    throw new TypeError(`The \"durationInFrames\" prop ${component} must be finite, but got ${durationInFrames}.`);\n  }\n}\n\n// src/validation/validate-fps.ts\nfunction validateFps(fps, location, isGif) {\n  if (typeof fps !== \"number\") {\n    throw new Error(`\"fps\" must be a number, but you passed a value of type ${typeof fps} ${location}`);\n  }\n  if (!Number.isFinite(fps)) {\n    throw new Error(`\"fps\" must be a finite, but you passed ${fps} ${location}`);\n  }\n  if (isNaN(fps)) {\n    throw new Error(`\"fps\" must not be NaN, but got ${fps} ${location}`);\n  }\n  if (fps <= 0) {\n    throw new TypeError(`\"fps\" must be positive, but got ${fps} ${location}`);\n  }\n  if (isGif && fps > 50) {\n    throw new TypeError(`The FPS for a GIF cannot be higher than 50. Use the --every-nth-frame option to lower the FPS: https://remotion.dev/docs/render-as-gif`);\n  }\n}\n\n// src/ResolveCompositionConfig.tsx\nvar ResolveCompositionContext = createContext6(null);\nvar resolveCompositionsRef = createRef();\nvar needsResolution = (composition) => {\n  return Boolean(composition.calculateMetadata);\n};\nvar PROPS_UPDATED_EXTERNALLY = \"remotion.propsUpdatedExternally\";\nvar useResolvedVideoConfig = (preferredCompositionId) => {\n  const context = useContext3(ResolveCompositionContext);\n  const { props: allEditorProps } = useContext3(EditorPropsContext);\n  const { compositions, canvasContent, currentCompositionMetadata } = useContext3(CompositionManager);\n  const currentComposition = canvasContent?.type === \"composition\" ? canvasContent.compositionId : null;\n  const compositionId = preferredCompositionId ?? currentComposition;\n  const composition = compositions.find((c) => c.id === compositionId);\n  const selectedEditorProps = useMemo4(() => {\n    return composition ? allEditorProps[composition.id] ?? {} : {};\n  }, [allEditorProps, composition]);\n  const env = useRemotionEnvironment();\n  return useMemo4(() => {\n    if (!composition) {\n      return null;\n    }\n    if (currentCompositionMetadata) {\n      return {\n        type: \"success\",\n        result: {\n          ...currentCompositionMetadata,\n          id: composition.id,\n          defaultProps: composition.defaultProps ?? {}\n        }\n      };\n    }\n    if (!needsResolution(composition)) {\n      validateDurationInFrames(composition.durationInFrames, {\n        allowFloats: false,\n        component: `in <Composition id=\"${composition.id}\">`\n      });\n      validateFps(composition.fps, `in <Composition id=\"${composition.id}\">`, false);\n      validateDimension(composition.width, \"width\", `in <Composition id=\"${composition.id}\">`);\n      validateDimension(composition.height, \"height\", `in <Composition id=\"${composition.id}\">`);\n      return {\n        type: \"success\",\n        result: {\n          width: composition.width,\n          height: composition.height,\n          fps: composition.fps,\n          id: composition.id,\n          durationInFrames: composition.durationInFrames,\n          defaultProps: composition.defaultProps ?? {},\n          props: {\n            ...composition.defaultProps ?? {},\n            ...selectedEditorProps ?? {},\n            ...typeof window === \"undefined\" || env.isPlayer || !window.remotion_inputProps ? {} : getInputProps() ?? {}\n          },\n          defaultCodec: null,\n          defaultOutName: null,\n          defaultVideoImageFormat: null,\n          defaultPixelFormat: null,\n          defaultProResProfile: null\n        }\n      };\n    }\n    if (!context) {\n      return null;\n    }\n    if (!context[composition.id]) {\n      return null;\n    }\n    return context[composition.id];\n  }, [\n    composition,\n    context,\n    currentCompositionMetadata,\n    selectedEditorProps,\n    env.isPlayer\n  ]);\n};\n\n// src/use-video.ts\nvar useVideo = () => {\n  const { canvasContent, compositions, currentCompositionMetadata } = useContext4(CompositionManager);\n  const selected = compositions.find((c) => {\n    return canvasContent?.type === \"composition\" && c.id === canvasContent.compositionId;\n  });\n  const resolved = useResolvedVideoConfig(selected?.id ?? null);\n  return useMemo5(() => {\n    if (!resolved) {\n      return null;\n    }\n    if (resolved.type === \"error\") {\n      return null;\n    }\n    if (resolved.type === \"loading\") {\n      return null;\n    }\n    if (!selected) {\n      return null;\n    }\n    return {\n      ...resolved.result,\n      defaultProps: selected.defaultProps ?? {},\n      id: selected.id,\n      ...currentCompositionMetadata ?? {},\n      component: selected.component\n    };\n  }, [currentCompositionMetadata, resolved, selected]);\n};\n\n// src/timeline-position-state.ts\nvar makeKey = () => {\n  return `remotion.time-all`;\n};\nvar persistCurrentFrame = (time) => {\n  localStorage.setItem(makeKey(), JSON.stringify(time));\n};\nvar getInitialFrameState = () => {\n  const item = localStorage.getItem(makeKey()) ?? \"{}\";\n  const obj = JSON.parse(item);\n  return obj;\n};\nvar getFrameForComposition = (composition) => {\n  const item = localStorage.getItem(makeKey()) ?? \"{}\";\n  const obj = JSON.parse(item);\n  if (obj[composition] !== undefined) {\n    return Number(obj[composition]);\n  }\n  if (typeof window === \"undefined\") {\n    return 0;\n  }\n  return window.remotion_initialFrame ?? 0;\n};\nvar useTimelinePosition = () => {\n  const videoConfig = useVideo();\n  const state = useContext5(TimelineContext);\n  const env = useRemotionEnvironment();\n  if (!videoConfig) {\n    return typeof window === \"undefined\" ? 0 : window.remotion_initialFrame ?? 0;\n  }\n  const unclamped = state.frame[videoConfig.id] ?? (env.isPlayer ? 0 : getFrameForComposition(videoConfig.id));\n  return Math.min(videoConfig.durationInFrames - 1, unclamped);\n};\nvar useTimelineSetFrame = () => {\n  const { setFrame } = useContext5(SetTimelineContext);\n  return setFrame;\n};\nvar usePlayingState = () => {\n  const { playing, imperativePlaying } = useContext5(TimelineContext);\n  const { setPlaying } = useContext5(SetTimelineContext);\n  return useMemo6(() => [playing, setPlaying, imperativePlaying], [imperativePlaying, playing, setPlaying]);\n};\n\n// src/use-delay-render.tsx\nimport { createContext as createContext8, useCallback as useCallback3, useContext as useContext7 } from \"react\";\n\n// src/cancel-render.ts\nvar getErrorStackWithMessage = (error) => {\n  const stack = error.stack ?? \"\";\n  return stack.startsWith(\"Error:\") ? stack : `${error.message}\n${stack}`;\n};\nvar isErrorLike = (err) => {\n  if (err instanceof Error) {\n    return true;\n  }\n  if (err === null) {\n    return false;\n  }\n  if (typeof err !== \"object\") {\n    return false;\n  }\n  if (!(\"stack\" in err)) {\n    return false;\n  }\n  if (typeof err.stack !== \"string\") {\n    return false;\n  }\n  if (!(\"message\" in err)) {\n    return false;\n  }\n  if (typeof err.message !== \"string\") {\n    return false;\n  }\n  return true;\n};\nfunction cancelRenderInternal(scope, err) {\n  let error;\n  if (isErrorLike(err)) {\n    error = err;\n    if (!error.stack) {\n      error.stack = new Error(error.message).stack;\n    }\n  } else if (typeof err === \"string\") {\n    error = Error(err);\n  } else {\n    error = Error(\"Rendering was cancelled\");\n  }\n  if (scope) {\n    scope.remotion_cancelledError = getErrorStackWithMessage(error);\n  }\n  throw error;\n}\nfunction cancelRender(err) {\n  return cancelRenderInternal(typeof window !== \"undefined\" ? window : undefined, err);\n}\n\n// src/log.ts\nvar logLevels = [\"trace\", \"verbose\", \"info\", \"warn\", \"error\"];\nvar getNumberForLogLevel = (level) => {\n  return logLevels.indexOf(level);\n};\nvar isEqualOrBelowLogLevel = (currentLevel, level) => {\n  return getNumberForLogLevel(currentLevel) <= getNumberForLogLevel(level);\n};\nvar transformArgs = ({\n  args,\n  logLevel,\n  tag\n}) => {\n  const arr = [...args];\n  if (getRemotionEnvironment().isRendering && !getRemotionEnvironment().isClientSideRendering) {\n    arr.unshift(Symbol.for(`__remotion_level_${logLevel}`));\n  }\n  if (tag && getRemotionEnvironment().isRendering && !getRemotionEnvironment().isClientSideRendering) {\n    arr.unshift(Symbol.for(`__remotion_tag_${tag}`));\n  }\n  return arr;\n};\nvar verbose = (options, ...args) => {\n  if (isEqualOrBelowLogLevel(options.logLevel, \"verbose\")) {\n    return console.debug(...transformArgs({ args, logLevel: \"verbose\", tag: options.tag }));\n  }\n};\nvar trace = (options, ...args) => {\n  if (isEqualOrBelowLogLevel(options.logLevel, \"trace\")) {\n    return console.debug(...transformArgs({ args, logLevel: \"trace\", tag: options.tag }));\n  }\n};\nvar info = (options, ...args) => {\n  if (isEqualOrBelowLogLevel(options.logLevel, \"info\")) {\n    return console.log(...transformArgs({ args, logLevel: \"info\", tag: options.tag }));\n  }\n};\nvar warn = (options, ...args) => {\n  if (isEqualOrBelowLogLevel(options.logLevel, \"warn\")) {\n    return console.warn(...transformArgs({ args, logLevel: \"warn\", tag: options.tag }));\n  }\n};\nvar error = (options, ...args) => {\n  return console.error(...transformArgs({ args, logLevel: \"error\", tag: options.tag }));\n};\nvar Log = {\n  trace,\n  verbose,\n  info,\n  warn,\n  error\n};\n\n// src/delay-render.ts\nif (typeof window !== \"undefined\") {\n  window.remotion_renderReady = false;\n  if (!window.remotion_delayRenderTimeouts) {\n    window.remotion_delayRenderTimeouts = {};\n  }\n  window.remotion_delayRenderHandles = [];\n}\nvar DELAY_RENDER_CALLSTACK_TOKEN = \"The delayRender was called:\";\nvar DELAY_RENDER_RETRIES_LEFT = \"Retries left: \";\nvar DELAY_RENDER_RETRY_TOKEN = \"- Rendering the frame will be retried.\";\nvar DELAY_RENDER_CLEAR_TOKEN = \"handle was cleared after\";\nvar defaultTimeout = 30000;\nvar delayRenderInternal = ({\n  scope,\n  environment,\n  label,\n  options\n}) => {\n  if (typeof label !== \"string\" && label !== null) {\n    throw new Error(\"The label parameter of delayRender() must be a string or undefined, got: \" + JSON.stringify(label));\n  }\n  const handle = Math.random();\n  scope.remotion_delayRenderHandles.push(handle);\n  const called = Error().stack?.replace(/^Error/g, \"\") ?? \"\";\n  if (environment.isRendering) {\n    const timeoutToUse = (options?.timeoutInMilliseconds ?? scope.remotion_puppeteerTimeout ?? defaultTimeout) - 2000;\n    const retriesLeft = (options?.retries ?? 0) - (scope.remotion_attempt - 1);\n    scope.remotion_delayRenderTimeouts[handle] = {\n      label: label ?? null,\n      startTime: Date.now(),\n      timeout: setTimeout(() => {\n        const message = [\n          `A delayRender()`,\n          label ? `\"${label}\"` : null,\n          `was called but not cleared after ${timeoutToUse}ms. See https://remotion.dev/docs/timeout for help.`,\n          retriesLeft > 0 ? DELAY_RENDER_RETRIES_LEFT + retriesLeft : null,\n          retriesLeft > 0 ? DELAY_RENDER_RETRY_TOKEN : null,\n          DELAY_RENDER_CALLSTACK_TOKEN,\n          called\n        ].filter(truthy).join(\" \");\n        if (environment.isClientSideRendering) {\n          scope.remotion_cancelledError = getErrorStackWithMessage(Error(message));\n        } else {\n          cancelRenderInternal(scope, Error(message));\n        }\n      }, timeoutToUse)\n    };\n  }\n  scope.remotion_renderReady = false;\n  return handle;\n};\nvar delayRender = (label, options) => {\n  if (typeof window === \"undefined\") {\n    return Math.random();\n  }\n  return delayRenderInternal({\n    scope: window,\n    environment: getRemotionEnvironment(),\n    label: label ?? null,\n    options: options ?? {}\n  });\n};\nvar continueRenderInternal = ({\n  scope,\n  handle,\n  environment,\n  logLevel\n}) => {\n  if (typeof handle === \"undefined\") {\n    throw new TypeError(\"The continueRender() method must be called with a parameter that is the return value of delayRender(). No value was passed.\");\n  }\n  if (typeof handle !== \"number\") {\n    throw new TypeError(\"The parameter passed into continueRender() must be the return value of delayRender() which is a number. Got: \" + JSON.stringify(handle));\n  }\n  scope.remotion_delayRenderHandles = scope.remotion_delayRenderHandles.filter((h) => {\n    if (h === handle) {\n      if (environment.isRendering && scope !== undefined) {\n        if (!scope.remotion_delayRenderTimeouts[handle]) {\n          return false;\n        }\n        const { label, startTime, timeout } = scope.remotion_delayRenderTimeouts[handle];\n        clearTimeout(timeout);\n        const message = [\n          label ? `\"${label}\"` : \"A handle\",\n          DELAY_RENDER_CLEAR_TOKEN,\n          `${Date.now() - startTime}ms`\n        ].filter(truthy).join(\" \");\n        Log.verbose({ logLevel, tag: \"delayRender()\" }, message);\n        delete scope.remotion_delayRenderTimeouts[handle];\n      }\n      return false;\n    }\n    return true;\n  });\n  if (scope.remotion_delayRenderHandles.length === 0) {\n    scope.remotion_renderReady = true;\n  }\n};\nvar continueRender = (handle) => {\n  if (typeof window === \"undefined\") {\n    return;\n  }\n  continueRenderInternal({\n    scope: window,\n    handle,\n    environment: getRemotionEnvironment(),\n    logLevel: window.remotion_logLevel ?? \"info\"\n  });\n};\n\n// src/log-level-context.tsx\nimport { createContext as createContext7 } from \"react\";\nimport * as React6 from \"react\";\nvar LogLevelContext = createContext7({\n  logLevel: \"info\",\n  mountTime: 0\n});\nvar useLogLevel = () => {\n  const { logLevel } = React6.useContext(LogLevelContext);\n  if (logLevel === null) {\n    throw new Error(\"useLogLevel must be used within a LogLevelProvider\");\n  }\n  return logLevel;\n};\nvar useMountTime = () => {\n  const { mountTime } = React6.useContext(LogLevelContext);\n  if (mountTime === null) {\n    throw new Error(\"useMountTime must be used within a LogLevelProvider\");\n  }\n  return mountTime;\n};\n\n// src/use-delay-render.tsx\nvar DelayRenderContextType = createContext8(null);\nvar useDelayRender = () => {\n  const environment = useRemotionEnvironment();\n  const scope = useContext7(DelayRenderContextType) ?? (typeof window !== \"undefined\" ? window : undefined);\n  const logLevel = useLogLevel();\n  const delayRender2 = useCallback3((label, options) => {\n    if (!scope) {\n      return Math.random();\n    }\n    return delayRenderInternal({\n      scope,\n      environment,\n      label: label ?? null,\n      options: options ?? {}\n    });\n  }, [environment, scope]);\n  const continueRender2 = useCallback3((handle) => {\n    if (!scope) {\n      return;\n    }\n    continueRenderInternal({\n      scope,\n      handle,\n      environment,\n      logLevel\n    });\n  }, [environment, logLevel, scope]);\n  const cancelRender2 = useCallback3((err) => {\n    return cancelRenderInternal(scope ?? (typeof window !== \"undefined\" ? window : undefined), err);\n  }, [scope]);\n  return { delayRender: delayRender2, continueRender: continueRender2, cancelRender: cancelRender2 };\n};\n\n// src/TimelineContext.tsx\nimport { jsx as jsx5 } from \"react/jsx-runtime\";\nvar SetTimelineContext = createContext9({\n  setFrame: () => {\n    throw new Error(\"default\");\n  },\n  setPlaying: () => {\n    throw new Error(\"default\");\n  }\n});\nvar TimelineContext = createContext9({\n  frame: {},\n  playing: false,\n  playbackRate: 1,\n  rootId: \"\",\n  imperativePlaying: {\n    current: false\n  },\n  setPlaybackRate: () => {\n    throw new Error(\"default\");\n  },\n  audioAndVideoTags: { current: [] }\n});\nvar TimelineContextProvider = ({ children, frameState }) => {\n  const [playing, setPlaying] = useState3(false);\n  const imperativePlaying = useRef(false);\n  const [playbackRate, setPlaybackRate] = useState3(1);\n  const audioAndVideoTags = useRef([]);\n  const [remotionRootId] = useState3(() => String(random(null)));\n  const [_frame, setFrame] = useState3(() => getInitialFrameState());\n  const frame = frameState ?? _frame;\n  const { delayRender: delayRender2, continueRender: continueRender2 } = useDelayRender();\n  if (typeof window !== \"undefined\") {\n    useLayoutEffect(() => {\n      window.remotion_setFrame = (f, composition, attempt) => {\n        window.remotion_attempt = attempt;\n        const id = delayRender2(`Setting the current frame to ${f}`);\n        let asyncUpdate = true;\n        setFrame((s) => {\n          const currentFrame = s[composition] ?? window.remotion_initialFrame;\n          if (currentFrame === f) {\n            asyncUpdate = false;\n            return s;\n          }\n          return {\n            ...s,\n            [composition]: f\n          };\n        });\n        if (asyncUpdate) {\n          requestAnimationFrame(() => continueRender2(id));\n        } else {\n          continueRender2(id);\n        }\n      };\n      window.remotion_isPlayer = false;\n    }, [continueRender2, delayRender2]);\n  }\n  const timelineContextValue = useMemo7(() => {\n    return {\n      frame,\n      playing,\n      imperativePlaying,\n      rootId: remotionRootId,\n      playbackRate,\n      setPlaybackRate,\n      audioAndVideoTags\n    };\n  }, [frame, playbackRate, playing, remotionRootId]);\n  const setTimelineContextValue = useMemo7(() => {\n    return {\n      setFrame,\n      setPlaying\n    };\n  }, []);\n  return /* @__PURE__ */ jsx5(TimelineContext.Provider, {\n    value: timelineContextValue,\n    children: /* @__PURE__ */ jsx5(SetTimelineContext.Provider, {\n      value: setTimelineContextValue,\n      children\n    })\n  });\n};\n\n// src/nonce.ts\nimport { createContext as createContext10, useContext as useContext8, useEffect, useRef as useRef2, useState as useState4 } from \"react\";\nvar NonceContext = createContext10({\n  getNonce: () => 0\n});\nvar useNonce = () => {\n  const context = useContext8(NonceContext);\n  const [nonce, setNonce] = useState4(() => context.getNonce());\n  const lastContext = useRef2(context);\n  useEffect(() => {\n    if (lastContext.current === context) {\n      return;\n    }\n    lastContext.current = context;\n    setNonce(context.getNonce);\n  }, [context]);\n  return nonce;\n};\n\n// src/use-video-config.ts\nimport { useContext as useContext10 } from \"react\";\n\n// src/CanUseRemotionHooks.tsx\nimport { createContext as createContext11 } from \"react\";\nimport { jsx as jsx6 } from \"react/jsx-runtime\";\nvar CanUseRemotionHooks = createContext11(false);\nvar CanUseRemotionHooksProvider = ({ children }) => {\n  return /* @__PURE__ */ jsx6(CanUseRemotionHooks.Provider, {\n    value: true,\n    children\n  });\n};\n\n// src/use-unsafe-video-config.ts\nimport { useContext as useContext9, useMemo as useMemo8 } from \"react\";\nvar useUnsafeVideoConfig = () => {\n  const context = useContext9(SequenceContext);\n  const ctxWidth = context?.width ?? null;\n  const ctxHeight = context?.height ?? null;\n  const ctxDuration = context?.durationInFrames ?? null;\n  const video = useVideo();\n  return useMemo8(() => {\n    if (!video) {\n      return null;\n    }\n    const {\n      id,\n      durationInFrames,\n      fps,\n      height,\n      width,\n      defaultProps,\n      props,\n      defaultCodec,\n      defaultOutName,\n      defaultVideoImageFormat,\n      defaultPixelFormat,\n      defaultProResProfile\n    } = video;\n    return {\n      id,\n      width: ctxWidth ?? width,\n      height: ctxHeight ?? height,\n      fps,\n      durationInFrames: ctxDuration ?? durationInFrames,\n      defaultProps,\n      props,\n      defaultCodec,\n      defaultOutName,\n      defaultVideoImageFormat,\n      defaultPixelFormat,\n      defaultProResProfile\n    };\n  }, [ctxDuration, ctxHeight, ctxWidth, video]);\n};\n\n// src/use-video-config.ts\nvar useVideoConfig = () => {\n  const videoConfig = useUnsafeVideoConfig();\n  const context = useContext10(CanUseRemotionHooks);\n  const isPlayer = useIsPlayer();\n  if (!videoConfig) {\n    if (typeof window !== \"undefined\" && window.remotion_isPlayer || isPlayer) {\n      throw new Error([\n        \"No video config found. Likely reasons:\",\n        \"- You are probably calling useVideoConfig() from outside the component passed to <Player />. See https://www.remotion.dev/docs/player/examples for how to set up the Player correctly.\",\n        \"- You have multiple versions of Remotion installed which causes the React context to get lost.\"\n      ].join(\"-\"));\n    }\n    throw new Error(\"No video config found. You are probably calling useVideoConfig() from a component which has not been registered as a <Composition />. See https://www.remotion.dev/docs/the-fundamentals#defining-compositions for more information.\");\n  }\n  if (!context) {\n    throw new Error(\"Called useVideoConfig() outside a Remotion composition.\");\n  }\n  return videoConfig;\n};\n\n// src/freeze.tsx\nimport { useContext as useContext12, useMemo as useMemo9 } from \"react\";\n\n// src/use-current-frame.ts\nimport { useContext as useContext11 } from \"react\";\nvar useCurrentFrame = () => {\n  const canUseRemotionHooks = useContext11(CanUseRemotionHooks);\n  const env = useRemotionEnvironment();\n  if (!canUseRemotionHooks) {\n    if (env.isPlayer) {\n      throw new Error(`useCurrentFrame can only be called inside a component that was passed to <Player>. See: https://www.remotion.dev/docs/player/examples`);\n    }\n    throw new Error(`useCurrentFrame() can only be called inside a component that was registered as a composition. See https://www.remotion.dev/docs/the-fundamentals#defining-compositions`);\n  }\n  const frame = useTimelinePosition();\n  const context = useContext11(SequenceContext);\n  const contextOffset = context ? context.cumulatedFrom + context.relativeFrom : 0;\n  return frame - contextOffset;\n};\n\n// src/freeze.tsx\nimport { jsx as jsx7 } from \"react/jsx-runtime\";\nvar Freeze = ({\n  frame: frameToFreeze,\n  children,\n  active = true\n}) => {\n  const frame = useCurrentFrame();\n  const videoConfig = useVideoConfig();\n  if (typeof frameToFreeze === \"undefined\") {\n    throw new Error(`The <Freeze /> component requires a 'frame' prop, but none was passed.`);\n  }\n  if (typeof frameToFreeze !== \"number\") {\n    throw new Error(`The 'frame' prop of <Freeze /> must be a number, but is of type ${typeof frameToFreeze}`);\n  }\n  if (Number.isNaN(frameToFreeze)) {\n    throw new Error(`The 'frame' prop of <Freeze /> must be a real number, but it is NaN.`);\n  }\n  if (!Number.isFinite(frameToFreeze)) {\n    throw new Error(`The 'frame' prop of <Freeze /> must be a finite number, but it is ${frameToFreeze}.`);\n  }\n  const isActive = useMemo9(() => {\n    if (typeof active === \"boolean\") {\n      return active;\n    }\n    if (typeof active === \"function\") {\n      return active(frame);\n    }\n  }, [active, frame]);\n  const timelineContext = useContext12(TimelineContext);\n  const sequenceContext = useContext12(SequenceContext);\n  const relativeFrom = sequenceContext?.relativeFrom ?? 0;\n  const timelineValue = useMemo9(() => {\n    if (!isActive) {\n      return timelineContext;\n    }\n    return {\n      ...timelineContext,\n      playing: false,\n      imperativePlaying: {\n        current: false\n      },\n      frame: {\n        [videoConfig.id]: frameToFreeze + relativeFrom\n      }\n    };\n  }, [isActive, timelineContext, videoConfig.id, frameToFreeze, relativeFrom]);\n  const newSequenceContext = useMemo9(() => {\n    if (!sequenceContext) {\n      return null;\n    }\n    if (!isActive) {\n      return sequenceContext;\n    }\n    return {\n      ...sequenceContext,\n      cumulatedFrom: 0\n    };\n  }, [sequenceContext, isActive]);\n  return /* @__PURE__ */ jsx7(TimelineContext.Provider, {\n    value: timelineValue,\n    children: /* @__PURE__ */ jsx7(SequenceContext.Provider, {\n      value: newSequenceContext,\n      children\n    })\n  });\n};\n\n// src/Sequence.tsx\nimport { jsx as jsx8 } from \"react/jsx-runtime\";\nvar RegularSequenceRefForwardingFunction = ({\n  from = 0,\n  durationInFrames = Infinity,\n  children,\n  name,\n  height,\n  width,\n  showInTimeline = true,\n  _remotionInternalLoopDisplay: loopDisplay,\n  _remotionInternalStack: stack,\n  _remotionInternalPremountDisplay: premountDisplay,\n  _remotionInternalPostmountDisplay: postmountDisplay,\n  ...other\n}, ref) => {\n  const { layout = \"absolute-fill\" } = other;\n  const [id] = useState5(() => String(Math.random()));\n  const parentSequence = useContext13(SequenceContext);\n  const { rootId } = useContext13(TimelineContext);\n  const cumulatedFrom = parentSequence ? parentSequence.cumulatedFrom + parentSequence.relativeFrom : 0;\n  const nonce = useNonce();\n  if (layout !== \"absolute-fill\" && layout !== \"none\") {\n    throw new TypeError(`The layout prop of <Sequence /> expects either \"absolute-fill\" or \"none\", but you passed: ${layout}`);\n  }\n  if (layout === \"none\" && typeof other.style !== \"undefined\") {\n    throw new TypeError('If layout=\"none\", you may not pass a style.');\n  }\n  if (typeof durationInFrames !== \"number\") {\n    throw new TypeError(`You passed to durationInFrames an argument of type ${typeof durationInFrames}, but it must be a number.`);\n  }\n  if (durationInFrames <= 0) {\n    throw new TypeError(`durationInFrames must be positive, but got ${durationInFrames}`);\n  }\n  if (typeof from !== \"number\") {\n    throw new TypeError(`You passed to the \"from\" props of your <Sequence> an argument of type ${typeof from}, but it must be a number.`);\n  }\n  if (!Number.isFinite(from)) {\n    throw new TypeError(`The \"from\" prop of a sequence must be finite, but got ${from}.`);\n  }\n  const absoluteFrame = useTimelinePosition();\n  const videoConfig = useVideoConfig();\n  const parentSequenceDuration = parentSequence ? Math.min(parentSequence.durationInFrames - from, durationInFrames) : durationInFrames;\n  const actualDurationInFrames = Math.max(0, Math.min(videoConfig.durationInFrames - from, parentSequenceDuration));\n  const { registerSequence, unregisterSequence } = useContext13(SequenceManager);\n  const { hidden } = useContext13(SequenceVisibilityToggleContext);\n  const premounting = useMemo10(() => {\n    return parentSequence?.premounting || Boolean(other._remotionInternalIsPremounting);\n  }, [other._remotionInternalIsPremounting, parentSequence?.premounting]);\n  const postmounting = useMemo10(() => {\n    return parentSequence?.postmounting || Boolean(other._remotionInternalIsPostmounting);\n  }, [other._remotionInternalIsPostmounting, parentSequence?.postmounting]);\n  const contextValue = useMemo10(() => {\n    return {\n      cumulatedFrom,\n      relativeFrom: from,\n      durationInFrames: actualDurationInFrames,\n      parentFrom: parentSequence?.relativeFrom ?? 0,\n      id,\n      height: height ?? parentSequence?.height ?? null,\n      width: width ?? parentSequence?.width ?? null,\n      premounting,\n      postmounting,\n      premountDisplay: premountDisplay ?? null,\n      postmountDisplay: postmountDisplay ?? null\n    };\n  }, [\n    cumulatedFrom,\n    from,\n    actualDurationInFrames,\n    parentSequence,\n    id,\n    height,\n    width,\n    premounting,\n    postmounting,\n    premountDisplay,\n    postmountDisplay\n  ]);\n  const timelineClipName = useMemo10(() => {\n    return name ?? \"\";\n  }, [name]);\n  const env = useRemotionEnvironment();\n  useEffect2(() => {\n    if (!env.isStudio) {\n      return;\n    }\n    registerSequence({\n      from,\n      duration: actualDurationInFrames,\n      id,\n      displayName: timelineClipName,\n      parent: parentSequence?.id ?? null,\n      type: \"sequence\",\n      rootId,\n      showInTimeline,\n      nonce,\n      loopDisplay,\n      stack: stack ?? null,\n      premountDisplay: premountDisplay ?? null,\n      postmountDisplay: postmountDisplay ?? null\n    });\n    return () => {\n      unregisterSequence(id);\n    };\n  }, [\n    durationInFrames,\n    id,\n    name,\n    registerSequence,\n    timelineClipName,\n    unregisterSequence,\n    parentSequence?.id,\n    actualDurationInFrames,\n    rootId,\n    from,\n    showInTimeline,\n    nonce,\n    loopDisplay,\n    stack,\n    premountDisplay,\n    postmountDisplay,\n    env.isStudio\n  ]);\n  const endThreshold = Math.ceil(cumulatedFrom + from + durationInFrames - 1);\n  const content = absoluteFrame < cumulatedFrom + from ? null : absoluteFrame > endThreshold ? null : children;\n  const styleIfThere = other.layout === \"none\" ? undefined : other.style;\n  const defaultStyle = useMemo10(() => {\n    return {\n      flexDirection: undefined,\n      ...width ? { width } : {},\n      ...height ? { height } : {},\n      ...styleIfThere ?? {}\n    };\n  }, [height, styleIfThere, width]);\n  if (ref !== null && layout === \"none\") {\n    throw new TypeError('It is not supported to pass both a `ref` and `layout=\"none\"` to <Sequence />.');\n  }\n  const isSequenceHidden = hidden[id] ?? false;\n  if (isSequenceHidden) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx8(SequenceContext.Provider, {\n    value: contextValue,\n    children: content === null ? null : other.layout === \"none\" ? content : /* @__PURE__ */ jsx8(AbsoluteFill, {\n      ref,\n      style: defaultStyle,\n      className: other.className,\n      children: content\n    })\n  });\n};\nvar RegularSequence = forwardRef2(RegularSequenceRefForwardingFunction);\nvar PremountedPostmountedSequenceRefForwardingFunction = (props, ref) => {\n  const frame = useCurrentFrame();\n  if (props.layout === \"none\") {\n    throw new Error('`<Sequence>` with `premountFor` and `postmountFor` props does not support layout=\"none\"');\n  }\n  const {\n    style: passedStyle,\n    from = 0,\n    durationInFrames = Infinity,\n    premountFor = 0,\n    postmountFor = 0,\n    styleWhilePremounted,\n    styleWhilePostmounted,\n    ...otherProps\n  } = props;\n  const endThreshold = Math.ceil(from + durationInFrames - 1);\n  const premountingActive = frame < from && frame >= from - premountFor;\n  const postmountingActive = frame > endThreshold && frame <= endThreshold + postmountFor;\n  const freezeFrame = premountingActive ? from : postmountingActive ? from + durationInFrames - 1 : 0;\n  const isFreezingActive = premountingActive || postmountingActive;\n  const style = useMemo10(() => {\n    return {\n      ...passedStyle,\n      opacity: premountingActive || postmountingActive ? 0 : 1,\n      pointerEvents: premountingActive || postmountingActive ? \"none\" : passedStyle?.pointerEvents ?? undefined,\n      ...premountingActive ? styleWhilePremounted : {},\n      ...postmountingActive ? styleWhilePostmounted : {}\n    };\n  }, [\n    passedStyle,\n    premountingActive,\n    postmountingActive,\n    styleWhilePremounted,\n    styleWhilePostmounted\n  ]);\n  return /* @__PURE__ */ jsx8(Freeze, {\n    frame: freezeFrame,\n    active: isFreezingActive,\n    children: /* @__PURE__ */ jsx8(Sequence, {\n      ref,\n      from,\n      durationInFrames,\n      style,\n      _remotionInternalPremountDisplay: premountFor,\n      _remotionInternalPostmountDisplay: postmountFor,\n      _remotionInternalIsPremounting: premountingActive,\n      _remotionInternalIsPostmounting: postmountingActive,\n      ...otherProps\n    })\n  });\n};\nvar PremountedPostmountedSequence = forwardRef2(PremountedPostmountedSequenceRefForwardingFunction);\nvar SequenceRefForwardingFunction = (props, ref) => {\n  const env = useRemotionEnvironment();\n  if (props.layout !== \"none\" && !env.isRendering) {\n    if (props.premountFor || props.postmountFor) {\n      return /* @__PURE__ */ jsx8(PremountedPostmountedSequence, {\n        ...props,\n        ref\n      });\n    }\n  }\n  return /* @__PURE__ */ jsx8(RegularSequence, {\n    ...props,\n    ref\n  });\n};\nvar Sequence = forwardRef2(SequenceRefForwardingFunction);\n// src/animated-image/AnimatedImage.tsx\nimport {\n  forwardRef as forwardRef3,\n  useEffect as useEffect3,\n  useImperativeHandle as useImperativeHandle3,\n  useLayoutEffect as useLayoutEffect2,\n  useRef as useRef4,\n  useState as useState6\n} from \"react\";\n\n// src/animated-image/canvas.tsx\nimport React11, { useCallback as useCallback4, useImperativeHandle as useImperativeHandle2, useRef as useRef3 } from \"react\";\nimport { jsx as jsx9 } from \"react/jsx-runtime\";\nvar calcArgs = (fit, frameSize, canvasSize) => {\n  switch (fit) {\n    case \"fill\": {\n      return [\n        0,\n        0,\n        frameSize.width,\n        frameSize.height,\n        0,\n        0,\n        canvasSize.width,\n        canvasSize.height\n      ];\n    }\n    case \"contain\": {\n      const ratio = Math.min(canvasSize.width / frameSize.width, canvasSize.height / frameSize.height);\n      const centerX = (canvasSize.width - frameSize.width * ratio) / 2;\n      const centerY = (canvasSize.height - frameSize.height * ratio) / 2;\n      return [\n        0,\n        0,\n        frameSize.width,\n        frameSize.height,\n        centerX,\n        centerY,\n        frameSize.width * ratio,\n        frameSize.height * ratio\n      ];\n    }\n    case \"cover\": {\n      const ratio = Math.max(canvasSize.width / frameSize.width, canvasSize.height / frameSize.height);\n      const centerX = (canvasSize.width - frameSize.width * ratio) / 2;\n      const centerY = (canvasSize.height - frameSize.height * ratio) / 2;\n      return [\n        0,\n        0,\n        frameSize.width,\n        frameSize.height,\n        centerX,\n        centerY,\n        frameSize.width * ratio,\n        frameSize.height * ratio\n      ];\n    }\n    default:\n      throw new Error(\"Unknown fit: \" + fit);\n  }\n};\nvar CanvasRefForwardingFunction = ({ width, height, fit, className, style }, ref) => {\n  const canvasRef = useRef3(null);\n  const draw = useCallback4((imageData) => {\n    const canvas = canvasRef.current;\n    const canvasWidth = width ?? imageData.displayWidth;\n    const canvasHeight = height ?? imageData.displayHeight;\n    if (!canvas) {\n      throw new Error(\"Canvas ref is not set\");\n    }\n    const ctx = canvasRef.current?.getContext(\"2d\");\n    if (!ctx) {\n      throw new Error(\"Could not get 2d context\");\n    }\n    canvas.width = canvasWidth;\n    canvas.height = canvasHeight;\n    ctx.drawImage(imageData, ...calcArgs(fit, {\n      height: imageData.displayHeight,\n      width: imageData.displayWidth\n    }, {\n      width: canvasWidth,\n      height: canvasHeight\n    }));\n  }, [fit, height, width]);\n  useImperativeHandle2(ref, () => {\n    return {\n      draw,\n      getCanvas: () => {\n        if (!canvasRef.current) {\n          throw new Error(\"Canvas ref is not set\");\n        }\n        return canvasRef.current;\n      },\n      clear: () => {\n        const ctx = canvasRef.current?.getContext(\"2d\");\n        if (!ctx) {\n          throw new Error(\"Could not get 2d context\");\n        }\n        ctx.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\n      }\n    };\n  }, [draw]);\n  return /* @__PURE__ */ jsx9(\"canvas\", {\n    ref: canvasRef,\n    className,\n    style\n  });\n};\nvar Canvas = React11.forwardRef(CanvasRefForwardingFunction);\n\n// src/animated-image/decode-image.ts\nvar CACHE_SIZE = 5;\nvar getActualTime = ({\n  loopBehavior,\n  durationFound,\n  timeInSec\n}) => {\n  return loopBehavior === \"loop\" ? durationFound ? timeInSec % durationFound : timeInSec : Math.min(timeInSec, durationFound || Infinity);\n};\nvar decodeImage = async ({\n  resolvedSrc,\n  signal,\n  currentTime,\n  initialLoopBehavior\n}) => {\n  if (typeof ImageDecoder === \"undefined\") {\n    throw new Error(\"Your browser does not support the WebCodecs ImageDecoder API.\");\n  }\n  const res = await fetch(resolvedSrc, { signal });\n  const { body } = res;\n  if (!body) {\n    throw new Error(\"Got no body\");\n  }\n  const decoder = new ImageDecoder({\n    data: body,\n    type: res.headers.get(\"Content-Type\") || \"image/gif\"\n  });\n  await decoder.completed;\n  const { selectedTrack } = decoder.tracks;\n  if (!selectedTrack) {\n    throw new Error(\"No selected track\");\n  }\n  const cache = [];\n  let durationFound = null;\n  const getFrameByIndex = async (frameIndex) => {\n    const foundInCache = cache.find((c) => c.frameIndex === frameIndex);\n    if (foundInCache && foundInCache.frame) {\n      return foundInCache;\n    }\n    const frame = await decoder.decode({\n      frameIndex,\n      completeFramesOnly: true\n    });\n    if (foundInCache) {\n      foundInCache.frame = frame.image;\n    } else {\n      cache.push({\n        frame: frame.image,\n        frameIndex,\n        timeInSeconds: frame.image.timestamp / 1e6\n      });\n    }\n    return {\n      frame: frame.image,\n      frameIndex,\n      timeInSeconds: frame.image.timestamp / 1e6\n    };\n  };\n  const clearCache = (closeToTimeInSec) => {\n    const itemsInCache = cache.filter((c) => c.frame);\n    const sortByClosestToCurrentTime = itemsInCache.sort((a, b) => {\n      const aDiff = Math.abs(a.timeInSeconds - closeToTimeInSec);\n      const bDiff = Math.abs(b.timeInSeconds - closeToTimeInSec);\n      return aDiff - bDiff;\n    });\n    for (let i = 0;i < sortByClosestToCurrentTime.length; i++) {\n      if (i < CACHE_SIZE) {\n        continue;\n      }\n      const item = sortByClosestToCurrentTime[i];\n      item.frame = null;\n    }\n  };\n  const ensureFrameBeforeAndAfter = async ({\n    timeInSec,\n    loopBehavior\n  }) => {\n    const actualTimeInSec = getActualTime({\n      durationFound,\n      loopBehavior,\n      timeInSec\n    });\n    const framesBefore = cache.filter((c) => c.timeInSeconds <= actualTimeInSec);\n    const biggestIndex = framesBefore.map((c) => c.frameIndex).reduce((a, b) => Math.max(a, b), 0);\n    let i = biggestIndex;\n    while (true) {\n      const f = await getFrameByIndex(i);\n      i++;\n      if (!f.frame) {\n        throw new Error(\"No frame found\");\n      }\n      if (!f.frame.duration) {\n        break;\n      }\n      if (i === selectedTrack.frameCount && durationFound === null) {\n        const duration = (f.frame.timestamp + f.frame.duration) / 1e6;\n        durationFound = duration;\n      }\n      if (f.timeInSeconds > actualTimeInSec || i === selectedTrack.frameCount) {\n        break;\n      }\n    }\n    if (selectedTrack.frameCount - biggestIndex < 3 && loopBehavior === \"loop\") {\n      await getFrameByIndex(0);\n    }\n    clearCache(actualTimeInSec);\n  };\n  await ensureFrameBeforeAndAfter({\n    timeInSec: currentTime,\n    loopBehavior: initialLoopBehavior\n  });\n  await ensureFrameBeforeAndAfter({\n    timeInSec: currentTime,\n    loopBehavior: initialLoopBehavior\n  });\n  const getFrame = async (timeInSec, loopBehavior) => {\n    if (durationFound !== null && timeInSec > durationFound && loopBehavior === \"clear-after-finish\") {\n      return null;\n    }\n    const actualTimeInSec = getActualTime({\n      loopBehavior,\n      durationFound,\n      timeInSec\n    });\n    await ensureFrameBeforeAndAfter({ timeInSec: actualTimeInSec, loopBehavior });\n    const itemsInCache = cache.filter((c) => c.frame);\n    const closest = itemsInCache.reduce((a, b) => {\n      const aDiff = Math.abs(a.timeInSeconds - actualTimeInSec);\n      const bDiff = Math.abs(b.timeInSeconds - actualTimeInSec);\n      return aDiff < bDiff ? a : b;\n    });\n    if (!closest.frame) {\n      throw new Error(\"No frame found\");\n    }\n    return closest;\n  };\n  return {\n    getFrame,\n    frameCount: selectedTrack.frameCount\n  };\n};\n\n// src/animated-image/resolve-image-source.tsx\nvar resolveAnimatedImageSource = (src) => {\n  if (typeof window === \"undefined\") {\n    return src;\n  }\n  return new URL(src, window.origin).href;\n};\n\n// src/animated-image/AnimatedImage.tsx\nimport { jsx as jsx10 } from \"react/jsx-runtime\";\nvar AnimatedImage = forwardRef3(({\n  src,\n  width,\n  height,\n  onError,\n  loopBehavior = \"loop\",\n  playbackRate = 1,\n  fit = \"fill\",\n  ...props\n}, canvasRef) => {\n  const mountState = useRef4({ isMounted: true });\n  useEffect3(() => {\n    const { current } = mountState;\n    current.isMounted = true;\n    return () => {\n      current.isMounted = false;\n    };\n  }, []);\n  const resolvedSrc = resolveAnimatedImageSource(src);\n  const [imageDecoder, setImageDecoder] = useState6(null);\n  const { delayRender: delayRender2, continueRender: continueRender2 } = useDelayRender();\n  const [decodeHandle] = useState6(() => delayRender2(`Rendering <AnimatedImage/> with src=\"${resolvedSrc}\"`));\n  const frame = useCurrentFrame();\n  const { fps } = useVideoConfig();\n  const currentTime = frame / playbackRate / fps;\n  const currentTimeRef = useRef4(currentTime);\n  currentTimeRef.current = currentTime;\n  const ref = useRef4(null);\n  useImperativeHandle3(canvasRef, () => {\n    const c = ref.current?.getCanvas();\n    if (!c) {\n      throw new Error(\"Canvas ref is not set\");\n    }\n    return c;\n  }, []);\n  const [initialLoopBehavior] = useState6(() => loopBehavior);\n  useEffect3(() => {\n    const controller = new AbortController;\n    decodeImage({\n      resolvedSrc,\n      signal: controller.signal,\n      currentTime: currentTimeRef.current,\n      initialLoopBehavior\n    }).then((d) => {\n      setImageDecoder(d);\n      continueRender2(decodeHandle);\n    }).catch((err) => {\n      if (err.name === \"AbortError\") {\n        continueRender2(decodeHandle);\n        return;\n      }\n      if (onError) {\n        onError?.(err);\n        continueRender2(decodeHandle);\n      } else {\n        cancelRender(err);\n      }\n    });\n    return () => {\n      controller.abort();\n    };\n  }, [\n    resolvedSrc,\n    decodeHandle,\n    onError,\n    initialLoopBehavior,\n    continueRender2\n  ]);\n  useLayoutEffect2(() => {\n    if (!imageDecoder) {\n      return;\n    }\n    const delay = delayRender2(`Rendering frame at ${currentTime} of <AnimatedImage src=\"${src}\"/>`);\n    imageDecoder.getFrame(currentTime, loopBehavior).then((videoFrame) => {\n      if (mountState.current.isMounted) {\n        if (videoFrame === null) {\n          ref.current?.clear();\n        } else {\n          ref.current?.draw(videoFrame.frame);\n        }\n      }\n      continueRender2(delay);\n    }).catch((err) => {\n      if (onError) {\n        onError(err);\n        continueRender2(delay);\n      } else {\n        cancelRender(err);\n      }\n    });\n  }, [\n    currentTime,\n    imageDecoder,\n    loopBehavior,\n    onError,\n    src,\n    continueRender2,\n    delayRender2\n  ]);\n  return /* @__PURE__ */ jsx10(Canvas, {\n    ref,\n    width,\n    height,\n    fit,\n    ...props\n  });\n});\n// src/Artifact.tsx\nimport { useContext as useContext14, useLayoutEffect as useLayoutEffect4, useState as useState8 } from \"react\";\n\n// src/RenderAssetManager.tsx\nimport {\n  createContext as createContext12,\n  useCallback as useCallback5,\n  useImperativeHandle as useImperativeHandle4,\n  useLayoutEffect as useLayoutEffect3,\n  useMemo as useMemo11,\n  useRef as useRef5,\n  useState as useState7\n} from \"react\";\n\n// src/validation/validate-artifact.ts\nvar validateArtifactFilename = (filename) => {\n  if (typeof filename !== \"string\") {\n    throw new TypeError(`The \"filename\" must be a string, but you passed a value of type ${typeof filename}`);\n  }\n  if (filename.trim() === \"\") {\n    throw new Error(\"The `filename` must not be empty\");\n  }\n  if (!filename.match(/^([0-9a-zA-Z-!_.*'()/:&$@=;+,?]+)/g)) {\n    throw new Error('The `filename` must match \"/^([0-9a-zA-Z-!_.*\\'()/:&$@=;+,?]+)/g\". Use forward slashes only, even on Windows.');\n  }\n};\nvar validateContent = (content) => {\n  if (typeof content !== \"string\" && !(content instanceof Uint8Array)) {\n    throw new TypeError(`The \"content\" must be a string or Uint8Array, but you passed a value of type ${typeof content}`);\n  }\n  if (typeof content === \"string\" && content.trim() === \"\") {\n    throw new Error(\"The `content` must not be empty\");\n  }\n};\nvar validateRenderAsset = (artifact) => {\n  if (artifact.type !== \"artifact\") {\n    return;\n  }\n  validateArtifactFilename(artifact.filename);\n  if (artifact.contentType === \"thumbnail\") {\n    return;\n  }\n  validateContent(artifact.content);\n};\n\n// src/RenderAssetManager.tsx\nimport { jsx as jsx11 } from \"react/jsx-runtime\";\nvar RenderAssetManager = createContext12({\n  registerRenderAsset: () => {\n    return;\n  },\n  unregisterRenderAsset: () => {\n    return;\n  },\n  renderAssets: []\n});\nvar RenderAssetManagerProvider = ({ children, collectAssets }) => {\n  const [renderAssets, setRenderAssets] = useState7([]);\n  const renderAssetsRef = useRef5([]);\n  const registerRenderAsset = useCallback5((renderAsset) => {\n    validateRenderAsset(renderAsset);\n    renderAssetsRef.current = [...renderAssetsRef.current, renderAsset];\n    setRenderAssets(renderAssetsRef.current);\n  }, []);\n  if (collectAssets) {\n    useImperativeHandle4(collectAssets, () => {\n      return {\n        collectAssets: () => {\n          const assets = renderAssetsRef.current;\n          renderAssetsRef.current = [];\n          setRenderAssets([]);\n          return assets;\n        }\n      };\n    }, []);\n  }\n  const unregisterRenderAsset = useCallback5((id) => {\n    renderAssetsRef.current = renderAssetsRef.current.filter((a) => a.id !== id);\n    setRenderAssets(renderAssetsRef.current);\n  }, []);\n  useLayoutEffect3(() => {\n    if (typeof window !== \"undefined\") {\n      window.remotion_collectAssets = () => {\n        const assets = renderAssetsRef.current;\n        renderAssetsRef.current = [];\n        setRenderAssets([]);\n        return assets;\n      };\n    }\n  }, []);\n  const contextValue = useMemo11(() => {\n    return {\n      registerRenderAsset,\n      unregisterRenderAsset,\n      renderAssets\n    };\n  }, [renderAssets, registerRenderAsset, unregisterRenderAsset]);\n  return /* @__PURE__ */ jsx11(RenderAssetManager.Provider, {\n    value: contextValue,\n    children\n  });\n};\n\n// src/Artifact.tsx\nvar ArtifactThumbnail = Symbol(\"Thumbnail\");\nvar Artifact = ({ filename, content, downloadBehavior }) => {\n  const { registerRenderAsset, unregisterRenderAsset } = useContext14(RenderAssetManager);\n  const env = useRemotionEnvironment();\n  const frame = useCurrentFrame();\n  const [id] = useState8(() => {\n    return String(Math.random());\n  });\n  useLayoutEffect4(() => {\n    if (!env.isRendering) {\n      return;\n    }\n    if (content instanceof Uint8Array) {\n      registerRenderAsset({\n        type: \"artifact\",\n        id,\n        content: btoa(new TextDecoder(\"utf8\").decode(content)),\n        filename,\n        frame,\n        contentType: \"binary\",\n        downloadBehavior: downloadBehavior ?? null\n      });\n    } else if (content === ArtifactThumbnail) {\n      registerRenderAsset({\n        type: \"artifact\",\n        id,\n        filename,\n        frame,\n        contentType: \"thumbnail\",\n        downloadBehavior: downloadBehavior ?? null\n      });\n    } else {\n      registerRenderAsset({\n        type: \"artifact\",\n        id,\n        content,\n        filename,\n        frame,\n        contentType: \"text\",\n        downloadBehavior: downloadBehavior ?? null\n      });\n    }\n    return () => {\n      return unregisterRenderAsset(id);\n    };\n  }, [\n    content,\n    env.isRendering,\n    filename,\n    frame,\n    id,\n    registerRenderAsset,\n    unregisterRenderAsset,\n    downloadBehavior\n  ]);\n  return null;\n};\nArtifact.Thumbnail = ArtifactThumbnail;\n// src/audio/Audio.tsx\nimport { forwardRef as forwardRef6, useCallback as useCallback10, useContext as useContext27 } from \"react\";\n\n// src/absolute-src.ts\nvar getAbsoluteSrc = (relativeSrc) => {\n  if (typeof window === \"undefined\") {\n    return relativeSrc;\n  }\n  if (relativeSrc.startsWith(\"http://\") || relativeSrc.startsWith(\"https://\") || relativeSrc.startsWith(\"file://\") || relativeSrc.startsWith(\"blob:\") || relativeSrc.startsWith(\"data:\")) {\n    return relativeSrc;\n  }\n  return new URL(relativeSrc, window.origin).href;\n};\n\n// src/calculate-media-duration.ts\nvar calculateMediaDuration = ({\n  trimAfter,\n  mediaDurationInFrames,\n  playbackRate,\n  trimBefore\n}) => {\n  let duration = mediaDurationInFrames;\n  if (typeof trimAfter !== \"undefined\") {\n    duration = trimAfter;\n  }\n  if (typeof trimBefore !== \"undefined\") {\n    duration -= trimBefore;\n  }\n  const actualDuration = duration / playbackRate;\n  return Math.floor(actualDuration);\n};\n\n// src/loop/index.tsx\nimport React12, { createContext as createContext13, useMemo as useMemo12 } from \"react\";\nimport { jsx as jsx12 } from \"react/jsx-runtime\";\nvar LoopContext = createContext13(null);\nvar useLoop = () => {\n  return React12.useContext(LoopContext);\n};\nvar Loop = ({ durationInFrames, times = Infinity, children, name, ...props }) => {\n  const currentFrame = useCurrentFrame();\n  const { durationInFrames: compDuration } = useVideoConfig();\n  validateDurationInFrames(durationInFrames, {\n    component: \"of the <Loop /> component\",\n    allowFloats: true\n  });\n  if (typeof times !== \"number\") {\n    throw new TypeError(`You passed to \"times\" an argument of type ${typeof times}, but it must be a number.`);\n  }\n  if (times !== Infinity && times % 1 !== 0) {\n    throw new TypeError(`The \"times\" prop of a loop must be an integer, but got ${times}.`);\n  }\n  if (times < 0) {\n    throw new TypeError(`The \"times\" prop of a loop must be at least 0, but got ${times}`);\n  }\n  const maxTimes = Math.ceil(compDuration / durationInFrames);\n  const actualTimes = Math.min(maxTimes, times);\n  const style = props.layout === \"none\" ? undefined : props.style;\n  const maxFrame = durationInFrames * (actualTimes - 1);\n  const iteration = Math.floor(currentFrame / durationInFrames);\n  const start = iteration * durationInFrames;\n  const from = Math.min(start, maxFrame);\n  const loopDisplay = useMemo12(() => {\n    return {\n      numberOfTimes: actualTimes,\n      startOffset: -from,\n      durationInFrames\n    };\n  }, [actualTimes, durationInFrames, from]);\n  const loopContext = useMemo12(() => {\n    return {\n      iteration: Math.floor(currentFrame / durationInFrames),\n      durationInFrames\n    };\n  }, [currentFrame, durationInFrames]);\n  return /* @__PURE__ */ jsx12(LoopContext.Provider, {\n    value: loopContext,\n    children: /* @__PURE__ */ jsx12(Sequence, {\n      durationInFrames,\n      from,\n      name: name ?? \"<Loop>\",\n      _remotionInternalLoopDisplay: loopDisplay,\n      layout: props.layout,\n      style,\n      children\n    })\n  });\n};\nLoop.useLoop = useLoop;\n\n// src/prefetch.ts\nimport { useContext as useContext15 } from \"react\";\n\n// src/playback-logging.ts\nvar playbackLogging = ({\n  logLevel,\n  tag,\n  message,\n  mountTime\n}) => {\n  const tags = [mountTime ? Date.now() - mountTime + \"ms \" : null, tag].filter(Boolean).join(\" \");\n  Log.trace({ logLevel, tag: null }, `[${tags}]`, message);\n};\n\n// src/prefetch-state.tsx\nimport { createContext as createContext14, useEffect as useEffect4, useState as useState9 } from \"react\";\nimport { jsx as jsx13 } from \"react/jsx-runtime\";\nvar PreloadContext = createContext14({});\nvar preloads = {};\nvar updaters = [];\nvar setPreloads = (updater) => {\n  preloads = updater(preloads);\n  updaters.forEach((u) => u());\n};\nvar PrefetchProvider = ({ children }) => {\n  const [_preloads, _setPreloads] = useState9(() => preloads);\n  useEffect4(() => {\n    const updaterFunction = () => {\n      _setPreloads(preloads);\n    };\n    updaters.push(updaterFunction);\n    return () => {\n      updaters = updaters.filter((u) => u !== updaterFunction);\n    };\n  }, []);\n  return /* @__PURE__ */ jsx13(PreloadContext.Provider, {\n    value: _preloads,\n    children\n  });\n};\n\n// src/prefetch.ts\nvar removeAndGetHashFragment = (src) => {\n  const hashIndex = src.indexOf(\"#\");\n  if (hashIndex === -1) {\n    return null;\n  }\n  return hashIndex;\n};\nvar getSrcWithoutHash = (src) => {\n  const hashIndex = removeAndGetHashFragment(src);\n  if (hashIndex === null) {\n    return src;\n  }\n  return src.slice(0, hashIndex);\n};\nvar usePreload = (src) => {\n  const preloads2 = useContext15(PreloadContext);\n  const hashFragmentIndex = removeAndGetHashFragment(src);\n  const withoutHashFragment = getSrcWithoutHash(src);\n  if (!preloads2[withoutHashFragment]) {\n    return src;\n  }\n  if (hashFragmentIndex !== null) {\n    return preloads2[withoutHashFragment] + src.slice(hashFragmentIndex);\n  }\n  return preloads2[withoutHashFragment];\n};\nvar blobToBase64 = function(blob) {\n  const reader = new FileReader;\n  return new Promise((resolve, reject) => {\n    reader.onload = function() {\n      const dataUrl = reader.result;\n      resolve(dataUrl);\n    };\n    reader.onerror = (err) => {\n      return reject(err);\n    };\n    reader.readAsDataURL(blob);\n  });\n};\nvar getBlobFromReader = async ({\n  reader,\n  contentType,\n  contentLength,\n  onProgress\n}) => {\n  let receivedLength = 0;\n  const chunks = [];\n  while (true) {\n    const { done, value } = await reader.read();\n    if (done) {\n      break;\n    }\n    chunks.push(value);\n    receivedLength += value.length;\n    if (onProgress) {\n      onProgress({ loadedBytes: receivedLength, totalBytes: contentLength });\n    }\n  }\n  const chunksAll = new Uint8Array(receivedLength);\n  let position = 0;\n  for (const chunk of chunks) {\n    chunksAll.set(chunk, position);\n    position += chunk.length;\n  }\n  return new Blob([chunksAll], {\n    type: contentType ?? undefined\n  });\n};\nvar prefetch = (src, options) => {\n  const method = options?.method ?? \"blob-url\";\n  const logLevel = options?.logLevel ?? \"info\";\n  const srcWithoutHash = getSrcWithoutHash(src);\n  if (getRemotionEnvironment().isRendering) {\n    return {\n      free: () => {\n        return;\n      },\n      waitUntilDone: () => Promise.resolve(srcWithoutHash)\n    };\n  }\n  Log.verbose({ logLevel, tag: \"prefetch\" }, `Starting prefetch ${srcWithoutHash}`);\n  let canceled = false;\n  let objectUrl = null;\n  let resolve = () => {\n    return;\n  };\n  let reject = () => {\n    return;\n  };\n  const waitUntilDone = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  const controller = new AbortController;\n  let canBeAborted = true;\n  fetch(srcWithoutHash, {\n    signal: controller.signal,\n    credentials: options?.credentials ?? undefined\n  }).then((res) => {\n    canBeAborted = false;\n    if (canceled) {\n      return null;\n    }\n    if (!res.ok) {\n      throw new Error(`HTTP error, status = ${res.status}`);\n    }\n    const headerContentType = res.headers.get(\"Content-Type\");\n    const contentType = options?.contentType ?? headerContentType;\n    const hasProperContentType = contentType && (contentType.startsWith(\"video/\") || contentType.startsWith(\"audio/\") || contentType.startsWith(\"image/\"));\n    if (!hasProperContentType) {\n      console.warn(`Called prefetch() on ${srcWithoutHash} which returned a \"Content-Type\" of ${headerContentType}. Prefetched content should have a proper content type (video/... or audio/...) or a contentType passed the options of prefetch(). Otherwise, prefetching will not work properly in all browsers.`);\n    }\n    if (!res.body) {\n      throw new Error(`HTTP response of ${srcWithoutHash} has no body`);\n    }\n    const reader = res.body.getReader();\n    return getBlobFromReader({\n      reader,\n      contentType: options?.contentType ?? headerContentType ?? null,\n      contentLength: res.headers.get(\"Content-Length\") ? parseInt(res.headers.get(\"Content-Length\"), 10) : null,\n      onProgress: options?.onProgress\n    });\n  }).then((buf) => {\n    if (!buf) {\n      return;\n    }\n    const actualBlob = options?.contentType ? new Blob([buf], { type: options.contentType }) : buf;\n    if (method === \"base64\") {\n      return blobToBase64(actualBlob);\n    }\n    return URL.createObjectURL(actualBlob);\n  }).then((url) => {\n    if (canceled) {\n      return;\n    }\n    playbackLogging({\n      logLevel,\n      tag: \"prefetch\",\n      message: `Finished prefetch ${srcWithoutHash} with method ${method}`,\n      mountTime: null\n    });\n    objectUrl = url;\n    setPreloads((p) => ({\n      ...p,\n      [srcWithoutHash]: objectUrl\n    }));\n    resolve(objectUrl);\n  }).catch((err) => {\n    if (err?.message.includes(\"free() called\")) {\n      return;\n    }\n    reject(err);\n  });\n  return {\n    free: () => {\n      playbackLogging({\n        logLevel,\n        tag: \"prefetch\",\n        message: `Freeing ${srcWithoutHash}`,\n        mountTime: null\n      });\n      if (objectUrl) {\n        if (method === \"blob-url\") {\n          URL.revokeObjectURL(objectUrl);\n        }\n        setPreloads((p) => {\n          const copy = { ...p };\n          delete copy[srcWithoutHash];\n          return copy;\n        });\n      } else {\n        canceled = true;\n        if (canBeAborted) {\n          try {\n            controller.abort(new Error(\"free() called\"));\n          } catch {}\n        }\n      }\n    },\n    waitUntilDone: () => {\n      return waitUntilDone;\n    }\n  };\n};\n\n// src/validate-media-props.ts\nvar validateMediaProps = (props, component) => {\n  if (typeof props.volume !== \"number\" && typeof props.volume !== \"function\" && typeof props.volume !== \"undefined\") {\n    throw new TypeError(`You have passed a volume of type ${typeof props.volume} to your <${component} /> component. Volume must be a number or a function with the signature '(frame: number) => number' undefined.`);\n  }\n  if (typeof props.volume === \"number\" && props.volume < 0) {\n    throw new TypeError(`You have passed a volume below 0 to your <${component} /> component. Volume must be between 0 and 1`);\n  }\n  if (typeof props.playbackRate !== \"number\" && typeof props.playbackRate !== \"undefined\") {\n    throw new TypeError(`You have passed a playbackRate of type ${typeof props.playbackRate} to your <${component} /> component. Playback rate must a real number or undefined.`);\n  }\n  if (typeof props.playbackRate === \"number\" && (isNaN(props.playbackRate) || !Number.isFinite(props.playbackRate) || props.playbackRate <= 0)) {\n    throw new TypeError(`You have passed a playbackRate of ${props.playbackRate} to your <${component} /> component. Playback rate must be a real number above 0.`);\n  }\n};\n\n// src/validate-start-from-props.ts\nvar validateStartFromProps = (startFrom, endAt) => {\n  if (typeof startFrom !== \"undefined\") {\n    if (typeof startFrom !== \"number\") {\n      throw new TypeError(`type of startFrom prop must be a number, instead got type ${typeof startFrom}.`);\n    }\n    if (isNaN(startFrom) || startFrom === Infinity) {\n      throw new TypeError(\"startFrom prop can not be NaN or Infinity.\");\n    }\n    if (startFrom < 0) {\n      throw new TypeError(`startFrom must be greater than equal to 0 instead got ${startFrom}.`);\n    }\n  }\n  if (typeof endAt !== \"undefined\") {\n    if (typeof endAt !== \"number\") {\n      throw new TypeError(`type of endAt prop must be a number, instead got type ${typeof endAt}.`);\n    }\n    if (isNaN(endAt)) {\n      throw new TypeError(\"endAt prop can not be NaN.\");\n    }\n    if (endAt <= 0) {\n      throw new TypeError(`endAt must be a positive number, instead got ${endAt}.`);\n    }\n  }\n  if (endAt < startFrom) {\n    throw new TypeError(\"endAt prop must be greater than startFrom prop.\");\n  }\n};\nvar validateTrimProps = (trimBefore, trimAfter) => {\n  if (typeof trimBefore !== \"undefined\") {\n    if (typeof trimBefore !== \"number\") {\n      throw new TypeError(`type of trimBefore prop must be a number, instead got type ${typeof trimBefore}.`);\n    }\n    if (isNaN(trimBefore) || trimBefore === Infinity) {\n      throw new TypeError(\"trimBefore prop can not be NaN or Infinity.\");\n    }\n    if (trimBefore < 0) {\n      throw new TypeError(`trimBefore must be greater than equal to 0 instead got ${trimBefore}.`);\n    }\n  }\n  if (typeof trimAfter !== \"undefined\") {\n    if (typeof trimAfter !== \"number\") {\n      throw new TypeError(`type of trimAfter prop must be a number, instead got type ${typeof trimAfter}.`);\n    }\n    if (isNaN(trimAfter)) {\n      throw new TypeError(\"trimAfter prop can not be NaN.\");\n    }\n    if (trimAfter <= 0) {\n      throw new TypeError(`trimAfter must be a positive number, instead got ${trimAfter}.`);\n    }\n  }\n  if (trimAfter <= trimBefore) {\n    throw new TypeError(\"trimAfter prop must be greater than trimBefore prop.\");\n  }\n};\nvar validateMediaTrimProps = ({\n  startFrom,\n  endAt,\n  trimBefore,\n  trimAfter\n}) => {\n  if (typeof startFrom !== \"undefined\" && typeof trimBefore !== \"undefined\") {\n    throw new TypeError(\"Cannot use both startFrom and trimBefore props. Use trimBefore instead as startFrom is deprecated.\");\n  }\n  if (typeof endAt !== \"undefined\" && typeof trimAfter !== \"undefined\") {\n    throw new TypeError(\"Cannot use both endAt and trimAfter props. Use trimAfter instead as endAt is deprecated.\");\n  }\n  const hasNewProps = typeof trimBefore !== \"undefined\" || typeof trimAfter !== \"undefined\";\n  const hasOldProps = typeof startFrom !== \"undefined\" || typeof endAt !== \"undefined\";\n  if (hasNewProps) {\n    validateTrimProps(trimBefore, trimAfter);\n  } else if (hasOldProps) {\n    validateStartFromProps(startFrom, endAt);\n  }\n};\nvar resolveTrimProps = ({\n  startFrom,\n  endAt,\n  trimBefore,\n  trimAfter\n}) => {\n  const trimBeforeValue = trimBefore ?? startFrom ?? undefined;\n  const trimAfterValue = trimAfter ?? endAt ?? undefined;\n  return { trimBeforeValue, trimAfterValue };\n};\n\n// src/video/duration-state.tsx\nimport { createContext as createContext15, useMemo as useMemo13, useReducer } from \"react\";\nimport { jsx as jsx14 } from \"react/jsx-runtime\";\nvar durationReducer = (state, action) => {\n  switch (action.type) {\n    case \"got-duration\": {\n      const absoluteSrc = getAbsoluteSrc(action.src);\n      if (state[absoluteSrc] === action.durationInSeconds) {\n        return state;\n      }\n      return {\n        ...state,\n        [absoluteSrc]: action.durationInSeconds\n      };\n    }\n    default:\n      return state;\n  }\n};\nvar DurationsContext = createContext15({\n  durations: {},\n  setDurations: () => {\n    throw new Error(\"context missing\");\n  }\n});\nvar DurationsContextProvider = ({ children }) => {\n  const [durations, setDurations] = useReducer(durationReducer, {});\n  const value = useMemo13(() => {\n    return {\n      durations,\n      setDurations\n    };\n  }, [durations]);\n  return /* @__PURE__ */ jsx14(DurationsContext.Provider, {\n    value,\n    children\n  });\n};\n\n// src/audio/AudioForPreview.tsx\nimport React18, {\n  forwardRef as forwardRef4,\n  useContext as useContext25,\n  useEffect as useEffect11,\n  useImperativeHandle as useImperativeHandle5,\n  useMemo as useMemo21,\n  useRef as useRef13,\n  useState as useState14\n} from \"react\";\n\n// src/get-cross-origin-value.ts\nvar getCrossOriginValue = ({\n  crossOrigin,\n  requestsVideoFrame,\n  isClientSideRendering\n}) => {\n  if (crossOrigin !== undefined && crossOrigin !== null) {\n    return crossOrigin;\n  }\n  if (isClientSideRendering) {\n    return \"anonymous\";\n  }\n  if (requestsVideoFrame) {\n    return \"anonymous\";\n  }\n  return;\n};\n\n// src/use-amplification.ts\nimport { useContext as useContext17, useLayoutEffect as useLayoutEffect5, useRef as useRef8 } from \"react\";\n\n// src/audio/shared-audio-tags.tsx\nimport React15, {\n  createContext as createContext16,\n  createRef as createRef2,\n  useCallback as useCallback6,\n  useContext as useContext16,\n  useMemo as useMemo15,\n  useRef as useRef6,\n  useState as useState10\n} from \"react\";\n\n// src/play-and-handle-not-allowed-error.ts\nvar playAndHandleNotAllowedError = ({\n  mediaRef,\n  mediaType,\n  onAutoPlayError,\n  logLevel,\n  mountTime,\n  reason,\n  isPlayer\n}) => {\n  const { current } = mediaRef;\n  if (!current) {\n    return;\n  }\n  playbackLogging({\n    logLevel,\n    tag: \"play\",\n    message: `Attempting to play ${current.src}. Reason: ${reason}`,\n    mountTime\n  });\n  const prom = current.play();\n  if (!prom.catch) {\n    return;\n  }\n  prom.catch((err) => {\n    if (!current) {\n      return;\n    }\n    if (err.message.includes(\"request was interrupted by a call to pause\")) {\n      return;\n    }\n    if (err.message.includes(\"The operation was aborted.\")) {\n      return;\n    }\n    if (err.message.includes(\"The fetching process for the media resource was aborted by the user agent\")) {\n      return;\n    }\n    if (err.message.includes(\"request was interrupted by a new load request\")) {\n      return;\n    }\n    if (err.message.includes(\"because the media was removed from the document\")) {\n      return;\n    }\n    if (err.message.includes(\"user didn't interact with the document\") && current.muted) {\n      return;\n    }\n    console.log(`Could not play ${mediaType} due to following error: `, err);\n    if (!current.muted) {\n      if (onAutoPlayError) {\n        onAutoPlayError();\n        return;\n      }\n      if (mediaType === \"video\" && isPlayer) {\n        Log.info({ logLevel, tag: \"<\" + mediaType + \">\" }, `The video will be muted and we'll retry playing it.`);\n        Log.info({ logLevel, tag: \"<\" + mediaType + \">\" }, \"Use onAutoPlayError() to handle this error yourself.\");\n        current.muted = true;\n        current.play();\n      }\n    }\n  });\n};\n\n// src/audio/shared-element-source-node.ts\nvar makeSharedElementSourceNode = ({\n  audioContext,\n  ref\n}) => {\n  let connected = null;\n  let disposed = false;\n  return {\n    attemptToConnect: () => {\n      if (disposed) {\n        throw new Error(\"SharedElementSourceNode has been disposed\");\n      }\n      if (!connected && ref.current) {\n        const mediaElementSourceNode = audioContext.createMediaElementSource(ref.current);\n        connected = mediaElementSourceNode;\n      }\n    },\n    get: () => {\n      if (!connected) {\n        throw new Error(\"Audio element not connected\");\n      }\n      return connected;\n    },\n    cleanup: () => {\n      if (connected) {\n        connected.disconnect();\n        connected = null;\n      }\n      disposed = true;\n    }\n  };\n};\n\n// src/audio/use-audio-context.ts\nimport { useMemo as useMemo14 } from \"react\";\nvar warned = false;\nvar warnOnce = (logLevel) => {\n  if (warned) {\n    return;\n  }\n  warned = true;\n  if (typeof window !== \"undefined\") {\n    Log.warn({ logLevel, tag: null }, \"AudioContext is not supported in this browser\");\n  }\n};\nvar useSingletonAudioContext = ({\n  logLevel,\n  latencyHint,\n  audioEnabled\n}) => {\n  const env = useRemotionEnvironment();\n  const audioContext = useMemo14(() => {\n    if (env.isRendering) {\n      return null;\n    }\n    if (!audioEnabled) {\n      return null;\n    }\n    if (typeof AudioContext === \"undefined\") {\n      warnOnce(logLevel);\n      return null;\n    }\n    return new AudioContext({\n      latencyHint,\n      sampleRate: 48000\n    });\n  }, [logLevel, latencyHint, env.isRendering, audioEnabled]);\n  return audioContext;\n};\n\n// src/audio/shared-audio-tags.tsx\nimport { jsx as jsx15, jsxs } from \"react/jsx-runtime\";\nvar EMPTY_AUDIO = \"data:audio/mp3;base64,/+MYxAAJcAV8AAgAABn//////+/gQ5BAMA+D4Pg+BAQBAEAwD4Pg+D4EBAEAQDAPg++hYBH///hUFQVBUFREDQNHmf///////+MYxBUGkAGIMAAAAP/29Xt6lUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxDUAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\";\nvar compareProps = (obj1, obj2) => {\n  const keysA = Object.keys(obj1).sort();\n  const keysB = Object.keys(obj2).sort();\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n  for (let i = 0;i < keysA.length; i++) {\n    if (keysA[i] !== keysB[i]) {\n      return false;\n    }\n    if (obj1[keysA[i]] !== obj2[keysB[i]]) {\n      return false;\n    }\n  }\n  return true;\n};\nvar didPropChange = (key, newProp, prevProp) => {\n  if (key === \"src\" && !prevProp.startsWith(\"data:\") && !newProp.startsWith(\"data:\")) {\n    return new URL(prevProp, window.origin).toString() !== new URL(newProp, window.origin).toString();\n  }\n  if (prevProp === newProp) {\n    return false;\n  }\n  return true;\n};\nvar SharedAudioContext = createContext16(null);\nvar SharedAudioContextProvider = ({ children, numberOfAudioTags, audioLatencyHint, audioEnabled }) => {\n  const audios = useRef6([]);\n  const [initialNumberOfAudioTags] = useState10(numberOfAudioTags);\n  if (numberOfAudioTags !== initialNumberOfAudioTags) {\n    throw new Error(\"The number of shared audio tags has changed dynamically. Once you have set this property, you cannot change it afterwards.\");\n  }\n  const logLevel = useLogLevel();\n  const audioContext = useSingletonAudioContext({\n    logLevel,\n    latencyHint: audioLatencyHint,\n    audioEnabled\n  });\n  const refs = useMemo15(() => {\n    return new Array(numberOfAudioTags).fill(true).map(() => {\n      const ref = createRef2();\n      return {\n        id: Math.random(),\n        ref,\n        mediaElementSourceNode: audioContext ? makeSharedElementSourceNode({\n          audioContext,\n          ref\n        }) : null\n      };\n    });\n  }, [audioContext, numberOfAudioTags]);\n  const effectToUse = React15.useInsertionEffect ?? React15.useLayoutEffect;\n  effectToUse(() => {\n    return () => {\n      requestAnimationFrame(() => {\n        refs.forEach(({ mediaElementSourceNode }) => {\n          mediaElementSourceNode?.cleanup();\n        });\n      });\n    };\n  }, [refs]);\n  const takenAudios = useRef6(new Array(numberOfAudioTags).fill(false));\n  const rerenderAudios = useCallback6(() => {\n    refs.forEach(({ ref, id }) => {\n      const data = audios.current?.find((a) => a.id === id);\n      const { current } = ref;\n      if (!current) {\n        return;\n      }\n      if (data === undefined) {\n        current.src = EMPTY_AUDIO;\n        return;\n      }\n      if (!data) {\n        throw new TypeError(\"Expected audio data to be there\");\n      }\n      Object.keys(data.props).forEach((key) => {\n        if (didPropChange(key, data.props[key], current[key])) {\n          current[key] = data.props[key];\n        }\n      });\n    });\n  }, [refs]);\n  const registerAudio = useCallback6((options) => {\n    const { aud, audioId, premounting, postmounting } = options;\n    const found = audios.current?.find((a) => a.audioId === audioId);\n    if (found) {\n      return found;\n    }\n    const firstFreeAudio = takenAudios.current.findIndex((a) => a === false);\n    if (firstFreeAudio === -1) {\n      throw new Error(`Tried to simultaneously mount ${numberOfAudioTags + 1} <Html5Audio /> tags at the same time. With the current settings, the maximum amount of <Html5Audio /> tags is limited to ${numberOfAudioTags} at the same time. Remotion pre-mounts silent audio tags to help avoid browser autoplay restrictions. See https://remotion.dev/docs/player/autoplay#using-the-numberofsharedaudiotags-prop for more information on how to increase this limit.`);\n    }\n    const { id, ref, mediaElementSourceNode } = refs[firstFreeAudio];\n    const cloned = [...takenAudios.current];\n    cloned[firstFreeAudio] = id;\n    takenAudios.current = cloned;\n    const newElem = {\n      props: aud,\n      id,\n      el: ref,\n      audioId,\n      mediaElementSourceNode,\n      premounting,\n      audioMounted: Boolean(ref.current),\n      postmounting,\n      cleanupOnMediaTagUnmount: () => {}\n    };\n    audios.current?.push(newElem);\n    rerenderAudios();\n    return newElem;\n  }, [numberOfAudioTags, refs, rerenderAudios]);\n  const unregisterAudio = useCallback6((id) => {\n    const cloned = [...takenAudios.current];\n    const index = refs.findIndex((r) => r.id === id);\n    if (index === -1) {\n      throw new TypeError(\"Error occured in \");\n    }\n    cloned[index] = false;\n    takenAudios.current = cloned;\n    audios.current = audios.current?.filter((a) => a.id !== id);\n    rerenderAudios();\n  }, [refs, rerenderAudios]);\n  const updateAudio = useCallback6(({\n    aud,\n    audioId,\n    id,\n    premounting,\n    postmounting\n  }) => {\n    let changed = false;\n    audios.current = audios.current?.map((prevA) => {\n      const audioMounted = Boolean(prevA.el.current);\n      if (prevA.audioMounted !== audioMounted) {\n        changed = true;\n      }\n      if (prevA.id === id) {\n        const isTheSame = compareProps(aud, prevA.props) && prevA.premounting === premounting && prevA.postmounting === postmounting;\n        if (isTheSame) {\n          return prevA;\n        }\n        changed = true;\n        return {\n          ...prevA,\n          props: aud,\n          premounting,\n          postmounting,\n          audioId,\n          audioMounted\n        };\n      }\n      return prevA;\n    });\n    if (changed) {\n      rerenderAudios();\n    }\n  }, [rerenderAudios]);\n  const mountTime = useMountTime();\n  const env = useRemotionEnvironment();\n  const playAllAudios = useCallback6(() => {\n    refs.forEach((ref) => {\n      const audio = audios.current.find((a) => a.el === ref.ref);\n      if (audio?.premounting) {\n        return;\n      }\n      playAndHandleNotAllowedError({\n        mediaRef: ref.ref,\n        mediaType: \"audio\",\n        onAutoPlayError: null,\n        logLevel,\n        mountTime,\n        reason: \"playing all audios\",\n        isPlayer: env.isPlayer\n      });\n    });\n    audioContext?.resume();\n  }, [audioContext, logLevel, mountTime, refs, env.isPlayer]);\n  const value = useMemo15(() => {\n    return {\n      registerAudio,\n      unregisterAudio,\n      updateAudio,\n      playAllAudios,\n      numberOfAudioTags,\n      audioContext\n    };\n  }, [\n    numberOfAudioTags,\n    playAllAudios,\n    registerAudio,\n    unregisterAudio,\n    updateAudio,\n    audioContext\n  ]);\n  return /* @__PURE__ */ jsxs(SharedAudioContext.Provider, {\n    value,\n    children: [\n      refs.map(({ id, ref }) => {\n        return /* @__PURE__ */ jsx15(\"audio\", {\n          ref,\n          preload: \"metadata\",\n          src: EMPTY_AUDIO\n        }, id);\n      }),\n      children\n    ]\n  });\n};\nvar useSharedAudio = ({\n  aud,\n  audioId,\n  premounting,\n  postmounting\n}) => {\n  const ctx = useContext16(SharedAudioContext);\n  const [elem] = useState10(() => {\n    if (ctx && ctx.numberOfAudioTags > 0) {\n      return ctx.registerAudio({ aud, audioId, premounting, postmounting });\n    }\n    const el = React15.createRef();\n    const mediaElementSourceNode = ctx?.audioContext ? makeSharedElementSourceNode({\n      audioContext: ctx.audioContext,\n      ref: el\n    }) : null;\n    return {\n      el,\n      id: Math.random(),\n      props: aud,\n      audioId,\n      mediaElementSourceNode,\n      premounting,\n      audioMounted: Boolean(el.current),\n      postmounting,\n      cleanupOnMediaTagUnmount: () => {\n        mediaElementSourceNode?.cleanup();\n      }\n    };\n  });\n  const effectToUse = React15.useInsertionEffect ?? React15.useLayoutEffect;\n  if (typeof document !== \"undefined\") {\n    effectToUse(() => {\n      if (ctx && ctx.numberOfAudioTags > 0) {\n        ctx.updateAudio({ id: elem.id, aud, audioId, premounting, postmounting });\n      }\n    }, [aud, ctx, elem.id, audioId, premounting, postmounting]);\n    effectToUse(() => {\n      return () => {\n        if (ctx && ctx.numberOfAudioTags > 0) {\n          ctx.unregisterAudio(elem.id);\n        }\n      };\n    }, [ctx, elem.id]);\n  }\n  return elem;\n};\n\n// src/is-approximately-the-same.ts\nvar FLOATING_POINT_ERROR_THRESHOLD = 0.00001;\nvar isApproximatelyTheSame = (num1, num2) => {\n  return Math.abs(num1 - num2) < FLOATING_POINT_ERROR_THRESHOLD;\n};\n\n// src/video/video-fragment.ts\nimport { useRef as useRef7 } from \"react\";\nvar toSeconds = (time, fps) => {\n  return Math.round(time / fps * 100) / 100;\n};\nvar isSafari = () => {\n  if (typeof window === \"undefined\") {\n    return false;\n  }\n  const isAppleWebKit = /AppleWebKit/.test(window.navigator.userAgent);\n  if (!isAppleWebKit) {\n    return false;\n  }\n  const isNotChrome = !window.navigator.userAgent.includes(\"Chrome/\");\n  return isNotChrome;\n};\nvar isIosSafari = () => {\n  if (typeof window === \"undefined\") {\n    return false;\n  }\n  const isIpadIPodIPhone = /iP(ad|od|hone)/i.test(window.navigator.userAgent);\n  return isIpadIPodIPhone && isSafari();\n};\nvar isIOSSafariAndBlob = (actualSrc) => {\n  return isIosSafari() && actualSrc.startsWith(\"blob:\");\n};\nvar getVideoFragmentStart = ({\n  actualFrom,\n  fps\n}) => {\n  return toSeconds(Math.max(0, -actualFrom), fps);\n};\nvar getVideoFragmentEnd = ({\n  duration,\n  fps\n}) => {\n  return toSeconds(duration, fps);\n};\nvar appendVideoFragment = ({\n  actualSrc,\n  actualFrom,\n  duration,\n  fps\n}) => {\n  if (isIOSSafariAndBlob(actualSrc)) {\n    return actualSrc;\n  }\n  if (actualSrc.startsWith(\"data:\")) {\n    return actualSrc;\n  }\n  const existingHash = Boolean(new URL(actualSrc, (typeof window === \"undefined\" ? null : window.location.href) ?? \"http://localhost:3000\").hash);\n  if (existingHash) {\n    return actualSrc;\n  }\n  if (!Number.isFinite(actualFrom)) {\n    return actualSrc;\n  }\n  const withStartHash = `${actualSrc}#t=${getVideoFragmentStart({ actualFrom, fps })}`;\n  if (!Number.isFinite(duration)) {\n    return withStartHash;\n  }\n  return `${withStartHash},${getVideoFragmentEnd({ duration, fps })}`;\n};\nvar isSubsetOfDuration = ({\n  prevStartFrom,\n  newStartFrom,\n  prevDuration,\n  newDuration,\n  fps\n}) => {\n  const previousFrom = getVideoFragmentStart({ actualFrom: prevStartFrom, fps });\n  const newFrom = getVideoFragmentStart({ actualFrom: newStartFrom, fps });\n  const previousEnd = getVideoFragmentEnd({ duration: prevDuration, fps });\n  const newEnd = getVideoFragmentEnd({ duration: newDuration, fps });\n  if (newFrom < previousFrom) {\n    return false;\n  }\n  if (newEnd > previousEnd) {\n    return false;\n  }\n  return true;\n};\nvar useAppendVideoFragment = ({\n  actualSrc: initialActualSrc,\n  actualFrom: initialActualFrom,\n  duration: initialDuration,\n  fps\n}) => {\n  const actualFromRef = useRef7(initialActualFrom);\n  const actualDuration = useRef7(initialDuration);\n  const actualSrc = useRef7(initialActualSrc);\n  if (!isSubsetOfDuration({\n    prevStartFrom: actualFromRef.current,\n    newStartFrom: initialActualFrom,\n    prevDuration: actualDuration.current,\n    newDuration: initialDuration,\n    fps\n  }) || initialActualSrc !== actualSrc.current) {\n    actualFromRef.current = initialActualFrom;\n    actualDuration.current = initialDuration;\n    actualSrc.current = initialActualSrc;\n  }\n  const appended = appendVideoFragment({\n    actualSrc: actualSrc.current,\n    actualFrom: actualFromRef.current,\n    duration: actualDuration.current,\n    fps\n  });\n  return appended;\n};\n\n// src/use-amplification.ts\nvar warned2 = false;\nvar warnSafariOnce = (logLevel) => {\n  if (warned2) {\n    return;\n  }\n  warned2 = true;\n  Log.warn({ logLevel, tag: null }, \"In Safari, setting a volume and a playback rate at the same time is buggy.\");\n  Log.warn({ logLevel, tag: null }, \"In Desktop Safari, only volumes <= 1 will be applied.\");\n  Log.warn({ logLevel, tag: null }, logLevel, \"In Mobile Safari, the volume will be ignored and set to 1 if a playbackRate is set.\");\n};\nvar useVolume = ({\n  mediaRef,\n  volume,\n  logLevel,\n  source,\n  shouldUseWebAudioApi\n}) => {\n  const audioStuffRef = useRef8(null);\n  const currentVolumeRef = useRef8(volume);\n  currentVolumeRef.current = volume;\n  const sharedAudioContext = useContext17(SharedAudioContext);\n  if (!sharedAudioContext) {\n    throw new Error(\"useAmplification must be used within a SharedAudioContext\");\n  }\n  const { audioContext } = sharedAudioContext;\n  if (typeof window !== \"undefined\") {\n    useLayoutEffect5(() => {\n      if (!audioContext) {\n        return;\n      }\n      if (!mediaRef.current) {\n        return;\n      }\n      if (!shouldUseWebAudioApi) {\n        return;\n      }\n      if (mediaRef.current.playbackRate !== 1 && isSafari()) {\n        warnSafariOnce(logLevel);\n        return;\n      }\n      if (!source) {\n        return;\n      }\n      const gainNode = new GainNode(audioContext, {\n        gain: currentVolumeRef.current\n      });\n      source.attemptToConnect();\n      source.get().connect(gainNode);\n      gainNode.connect(audioContext.destination);\n      audioStuffRef.current = {\n        gainNode\n      };\n      Log.trace({ logLevel, tag: null }, `Starting to amplify ${mediaRef.current?.src}. Gain = ${currentVolumeRef.current}, playbackRate = ${mediaRef.current?.playbackRate}`);\n      return () => {\n        audioStuffRef.current = null;\n        gainNode.disconnect();\n        source.get().disconnect();\n      };\n    }, [logLevel, mediaRef, audioContext, source, shouldUseWebAudioApi]);\n  }\n  if (audioStuffRef.current) {\n    const valueToSet = volume;\n    if (!isApproximatelyTheSame(audioStuffRef.current.gainNode.gain.value, valueToSet)) {\n      audioStuffRef.current.gainNode.gain.value = valueToSet;\n      Log.trace({ logLevel, tag: null }, `Setting gain to ${valueToSet} for ${mediaRef.current?.src}`);\n    }\n  }\n  const safariCase = isSafari() && mediaRef.current && mediaRef.current?.playbackRate !== 1;\n  const shouldUseTraditionalVolume = safariCase || !shouldUseWebAudioApi;\n  if (shouldUseTraditionalVolume && mediaRef.current && !isApproximatelyTheSame(volume, mediaRef.current?.volume)) {\n    mediaRef.current.volume = Math.min(volume, 1);\n  }\n  return audioStuffRef;\n};\n\n// src/use-media-in-timeline.ts\nimport { useContext as useContext19, useEffect as useEffect5, useMemo as useMemo16, useState as useState11 } from \"react\";\n\n// src/audio/use-audio-frame.ts\nimport { useContext as useContext18 } from \"react\";\nvar useMediaStartsAt = () => {\n  const parentSequence = useContext18(SequenceContext);\n  const startsAt = Math.min(0, parentSequence?.relativeFrom ?? 0);\n  return startsAt;\n};\nvar useFrameForVolumeProp = (behavior) => {\n  const loop = Loop.useLoop();\n  const frame = useCurrentFrame();\n  const startsAt = useMediaStartsAt();\n  if (behavior === \"repeat\" || loop === null) {\n    return frame + startsAt;\n  }\n  return frame + startsAt + loop.durationInFrames * loop.iteration;\n};\n\n// src/get-asset-file-name.ts\nvar getAssetDisplayName = (filename) => {\n  if (/data:|blob:/.test(filename.substring(0, 5))) {\n    return \"Data URL\";\n  }\n  const splitted = filename.split(\"/\").map((s) => s.split(\"\\\\\")).flat(1);\n  return splitted[splitted.length - 1];\n};\n\n// src/volume-prop.ts\nvar evaluateVolume = ({\n  frame,\n  volume,\n  mediaVolume = 1\n}) => {\n  if (typeof volume === \"number\") {\n    return volume * mediaVolume;\n  }\n  if (typeof volume === \"undefined\") {\n    return Number(mediaVolume);\n  }\n  const evaluated = volume(frame) * mediaVolume;\n  if (typeof evaluated !== \"number\") {\n    throw new TypeError(`You passed in a a function to the volume prop but it did not return a number but a value of type ${typeof evaluated} for frame ${frame}`);\n  }\n  if (Number.isNaN(evaluated)) {\n    throw new TypeError(`You passed in a function to the volume prop but it returned NaN for frame ${frame}.`);\n  }\n  if (!Number.isFinite(evaluated)) {\n    throw new TypeError(`You passed in a function to the volume prop but it returned a non-finite number for frame ${frame}.`);\n  }\n  return Math.max(0, evaluated);\n};\n\n// src/use-media-in-timeline.ts\nvar didWarn = {};\nvar warnOnce2 = (message) => {\n  if (didWarn[message]) {\n    return;\n  }\n  console.warn(message);\n  didWarn[message] = true;\n};\nvar useBasicMediaInTimeline = ({\n  volume,\n  mediaVolume,\n  mediaType,\n  src,\n  displayName,\n  trimBefore,\n  trimAfter,\n  playbackRate\n}) => {\n  if (!src) {\n    throw new Error(\"No src passed\");\n  }\n  const startsAt = useMediaStartsAt();\n  const parentSequence = useContext19(SequenceContext);\n  const videoConfig = useVideoConfig();\n  const [initialVolume] = useState11(() => volume);\n  const mediaDuration = calculateMediaDuration({\n    mediaDurationInFrames: videoConfig.durationInFrames,\n    playbackRate,\n    trimBefore,\n    trimAfter\n  });\n  const duration = parentSequence ? Math.min(parentSequence.durationInFrames, mediaDuration) : mediaDuration;\n  const volumes = useMemo16(() => {\n    if (typeof volume === \"number\") {\n      return volume;\n    }\n    return new Array(Math.floor(Math.max(0, duration + startsAt))).fill(true).map((_, i) => {\n      return evaluateVolume({\n        frame: i + startsAt,\n        volume,\n        mediaVolume\n      });\n    }).join(\",\");\n  }, [duration, startsAt, volume, mediaVolume]);\n  useEffect5(() => {\n    if (typeof volume === \"number\" && volume !== initialVolume) {\n      warnOnce2(`Remotion: The ${mediaType} with src ${src} has changed it's volume. Prefer the callback syntax for setting volume to get better timeline display: https://www.remotion.dev/docs/audio/volume`);\n    }\n  }, [initialVolume, mediaType, src, volume]);\n  const doesVolumeChange = typeof volume === \"function\";\n  const nonce = useNonce();\n  const { rootId } = useContext19(TimelineContext);\n  const env = useRemotionEnvironment();\n  return {\n    volumes,\n    duration,\n    doesVolumeChange,\n    nonce,\n    rootId,\n    isStudio: env.isStudio,\n    finalDisplayName: displayName ?? getAssetDisplayName(src)\n  };\n};\nvar useMediaInTimeline = ({\n  volume,\n  mediaVolume,\n  src,\n  mediaType,\n  playbackRate,\n  displayName,\n  id,\n  stack,\n  showInTimeline,\n  premountDisplay,\n  postmountDisplay,\n  loopDisplay\n}) => {\n  const parentSequence = useContext19(SequenceContext);\n  const startsAt = useMediaStartsAt();\n  const { registerSequence, unregisterSequence } = useContext19(SequenceManager);\n  const {\n    volumes,\n    duration,\n    doesVolumeChange,\n    nonce,\n    rootId,\n    isStudio,\n    finalDisplayName\n  } = useBasicMediaInTimeline({\n    volume,\n    mediaVolume,\n    mediaType,\n    src,\n    displayName,\n    trimAfter: undefined,\n    trimBefore: undefined,\n    playbackRate\n  });\n  useEffect5(() => {\n    if (!src) {\n      throw new Error(\"No src passed\");\n    }\n    if (!isStudio && window.process?.env?.NODE_ENV !== \"test\") {\n      return;\n    }\n    if (!showInTimeline) {\n      return;\n    }\n    registerSequence({\n      type: mediaType,\n      src,\n      id,\n      duration,\n      from: 0,\n      parent: parentSequence?.id ?? null,\n      displayName: finalDisplayName,\n      rootId,\n      volume: volumes,\n      showInTimeline: true,\n      nonce,\n      startMediaFrom: 0 - startsAt,\n      doesVolumeChange,\n      loopDisplay,\n      playbackRate,\n      stack,\n      premountDisplay,\n      postmountDisplay\n    });\n    return () => {\n      unregisterSequence(id);\n    };\n  }, [\n    duration,\n    id,\n    parentSequence,\n    src,\n    registerSequence,\n    unregisterSequence,\n    volumes,\n    doesVolumeChange,\n    nonce,\n    mediaType,\n    startsAt,\n    playbackRate,\n    stack,\n    showInTimeline,\n    premountDisplay,\n    postmountDisplay,\n    isStudio,\n    loopDisplay,\n    rootId,\n    finalDisplayName\n  ]);\n};\n\n// src/use-media-playback.ts\nimport {\n  useCallback as useCallback9,\n  useContext as useContext22,\n  useEffect as useEffect9,\n  useLayoutEffect as useLayoutEffect7,\n  useRef as useRef12\n} from \"react\";\n\n// src/buffer-until-first-frame.ts\nimport { useCallback as useCallback8, useMemo as useMemo19, useRef as useRef10 } from \"react\";\n\n// src/use-buffer-state.ts\nimport { useContext as useContext21, useMemo as useMemo18 } from \"react\";\n\n// src/buffering.tsx\nimport React16, {\n  useCallback as useCallback7,\n  useContext as useContext20,\n  useEffect as useEffect6,\n  useLayoutEffect as useLayoutEffect6,\n  useMemo as useMemo17,\n  useRef as useRef9,\n  useState as useState12\n} from \"react\";\nimport { jsx as jsx16 } from \"react/jsx-runtime\";\nvar useBufferManager = (logLevel, mountTime) => {\n  const [blocks, setBlocks] = useState12([]);\n  const [onBufferingCallbacks, setOnBufferingCallbacks] = useState12([]);\n  const [onResumeCallbacks, setOnResumeCallbacks] = useState12([]);\n  const env = useRemotionEnvironment();\n  const rendering = env.isRendering;\n  const buffering = useRef9(false);\n  const addBlock = useCallback7((block) => {\n    if (rendering) {\n      return {\n        unblock: () => {\n          return;\n        }\n      };\n    }\n    setBlocks((b) => [...b, block]);\n    return {\n      unblock: () => {\n        setBlocks((b) => {\n          const newArr = b.filter((bx) => bx !== block);\n          if (newArr.length === b.length) {\n            return b;\n          }\n          return newArr;\n        });\n      }\n    };\n  }, [rendering]);\n  const listenForBuffering = useCallback7((callback) => {\n    setOnBufferingCallbacks((c) => [...c, callback]);\n    return {\n      remove: () => {\n        setOnBufferingCallbacks((c) => c.filter((cb) => cb !== callback));\n      }\n    };\n  }, []);\n  const listenForResume = useCallback7((callback) => {\n    setOnResumeCallbacks((c) => [...c, callback]);\n    return {\n      remove: () => {\n        setOnResumeCallbacks((c) => c.filter((cb) => cb !== callback));\n      }\n    };\n  }, []);\n  useEffect6(() => {\n    if (rendering) {\n      return;\n    }\n    if (blocks.length > 0) {\n      onBufferingCallbacks.forEach((c) => c());\n      playbackLogging({\n        logLevel,\n        message: \"Player is entering buffer state\",\n        mountTime,\n        tag: \"player\"\n      });\n    }\n  }, [blocks]);\n  if (typeof window !== \"undefined\") {\n    useLayoutEffect6(() => {\n      if (rendering) {\n        return;\n      }\n      if (blocks.length === 0) {\n        onResumeCallbacks.forEach((c) => c());\n        playbackLogging({\n          logLevel,\n          message: \"Player is exiting buffer state\",\n          mountTime,\n          tag: \"player\"\n        });\n      }\n    }, [blocks]);\n  }\n  return useMemo17(() => {\n    return { addBlock, listenForBuffering, listenForResume, buffering };\n  }, [addBlock, buffering, listenForBuffering, listenForResume]);\n};\nvar BufferingContextReact = React16.createContext(null);\nvar BufferingProvider = ({ children }) => {\n  const { logLevel, mountTime } = useContext20(LogLevelContext);\n  const bufferManager = useBufferManager(logLevel ?? \"info\", mountTime);\n  return /* @__PURE__ */ jsx16(BufferingContextReact.Provider, {\n    value: bufferManager,\n    children\n  });\n};\nvar useIsPlayerBuffering = (bufferManager) => {\n  const [isBuffering, setIsBuffering] = useState12(bufferManager.buffering.current);\n  useEffect6(() => {\n    const onBuffer = () => {\n      setIsBuffering(true);\n    };\n    const onResume = () => {\n      setIsBuffering(false);\n    };\n    bufferManager.listenForBuffering(onBuffer);\n    bufferManager.listenForResume(onResume);\n    return () => {\n      bufferManager.listenForBuffering(() => {\n        return;\n      });\n      bufferManager.listenForResume(() => {\n        return;\n      });\n    };\n  }, [bufferManager]);\n  return isBuffering;\n};\n\n// src/use-buffer-state.ts\nvar useBufferState = () => {\n  const buffer = useContext21(BufferingContextReact);\n  const addBlock = buffer ? buffer.addBlock : null;\n  return useMemo18(() => ({\n    delayPlayback: () => {\n      if (!addBlock) {\n        throw new Error(\"Tried to enable the buffering state, but a Remotion context was not found. This API can only be called in a component that was passed to the Remotion Player or a <Composition>. Or you might have experienced a version mismatch - run `npx remotion versions` and ensure all packages have the same version. This error is thrown by the buffer state https://remotion.dev/docs/player/buffer-state\");\n      }\n      const { unblock } = addBlock({\n        id: String(Math.random())\n      });\n      return { unblock };\n    }\n  }), [addBlock]);\n};\n\n// src/buffer-until-first-frame.ts\nvar isSafariWebkit = () => {\n  const isSafari2 = /^((?!chrome|android).)*safari/i.test(window.navigator.userAgent);\n  return isSafari2;\n};\nvar useBufferUntilFirstFrame = ({\n  mediaRef,\n  mediaType,\n  onVariableFpsVideoDetected,\n  pauseWhenBuffering,\n  logLevel,\n  mountTime\n}) => {\n  const bufferingRef = useRef10(false);\n  const { delayPlayback } = useBufferState();\n  const bufferUntilFirstFrame = useCallback8((requestedTime) => {\n    if (mediaType !== \"video\") {\n      return;\n    }\n    if (!pauseWhenBuffering) {\n      return;\n    }\n    const current = mediaRef.current;\n    if (!current) {\n      return;\n    }\n    if (current.readyState >= current.HAVE_FUTURE_DATA && !isSafariWebkit()) {\n      playbackLogging({\n        logLevel,\n        message: `Not using buffer until first frame, because readyState is ${current.readyState} and is not Safari or Desktop Chrome`,\n        mountTime,\n        tag: \"buffer\"\n      });\n      return;\n    }\n    if (!current.requestVideoFrameCallback) {\n      playbackLogging({\n        logLevel,\n        message: `Not using buffer until first frame, because requestVideoFrameCallback is not supported`,\n        mountTime,\n        tag: \"buffer\"\n      });\n      return;\n    }\n    bufferingRef.current = true;\n    playbackLogging({\n      logLevel,\n      message: `Buffering ${mediaRef.current?.src} until the first frame is received`,\n      mountTime,\n      tag: \"buffer\"\n    });\n    const playback = delayPlayback();\n    const unblock = () => {\n      playback.unblock();\n      current.removeEventListener(\"ended\", unblock, {\n        once: true\n      });\n      current.removeEventListener(\"pause\", unblock, {\n        once: true\n      });\n      bufferingRef.current = false;\n    };\n    const onEndedOrPauseOrCanPlay = () => {\n      unblock();\n    };\n    current.requestVideoFrameCallback((_, info2) => {\n      const differenceFromRequested = Math.abs(info2.mediaTime - requestedTime);\n      if (differenceFromRequested > 0.5) {\n        onVariableFpsVideoDetected();\n      }\n      unblock();\n    });\n    current.addEventListener(\"ended\", onEndedOrPauseOrCanPlay, { once: true });\n    current.addEventListener(\"pause\", onEndedOrPauseOrCanPlay, { once: true });\n    current.addEventListener(\"canplay\", onEndedOrPauseOrCanPlay, {\n      once: true\n    });\n  }, [\n    delayPlayback,\n    logLevel,\n    mediaRef,\n    mediaType,\n    mountTime,\n    onVariableFpsVideoDetected,\n    pauseWhenBuffering\n  ]);\n  return useMemo19(() => {\n    return {\n      isBuffering: () => bufferingRef.current,\n      bufferUntilFirstFrame\n    };\n  }, [bufferUntilFirstFrame]);\n};\n\n// src/media-tag-current-time-timestamp.ts\nimport React17 from \"react\";\nvar useCurrentTimeOfMediaTagWithUpdateTimeStamp = (mediaRef) => {\n  const lastUpdate = React17.useRef({\n    time: mediaRef.current?.currentTime ?? 0,\n    lastUpdate: performance.now()\n  });\n  const nowCurrentTime = mediaRef.current?.currentTime ?? null;\n  if (nowCurrentTime !== null) {\n    if (lastUpdate.current.time !== nowCurrentTime) {\n      lastUpdate.current.time = nowCurrentTime;\n      lastUpdate.current.lastUpdate = performance.now();\n    }\n  }\n  return lastUpdate;\n};\n\n// src/seek.ts\nvar seek = ({\n  mediaRef,\n  time,\n  logLevel,\n  why,\n  mountTime\n}) => {\n  const timeToSet = isIosSafari() ? Number(time.toFixed(1)) : time;\n  playbackLogging({\n    logLevel,\n    tag: \"seek\",\n    message: `Seeking from ${mediaRef.currentTime} to ${timeToSet}. src= ${mediaRef.src} Reason: ${why}`,\n    mountTime\n  });\n  mediaRef.currentTime = timeToSet;\n  return timeToSet;\n};\n\n// src/use-media-buffering.ts\nimport { useEffect as useEffect7, useState as useState13 } from \"react\";\nvar useMediaBuffering = ({\n  element,\n  shouldBuffer,\n  isPremounting,\n  isPostmounting,\n  logLevel,\n  mountTime,\n  src\n}) => {\n  const buffer = useBufferState();\n  const [isBuffering, setIsBuffering] = useState13(false);\n  useEffect7(() => {\n    let cleanupFns = [];\n    const { current } = element;\n    if (!current) {\n      return;\n    }\n    if (!shouldBuffer) {\n      return;\n    }\n    if (isPremounting || isPostmounting) {\n      if ((isPremounting || isPostmounting) && current.readyState < current.HAVE_FUTURE_DATA) {\n        if (!navigator.userAgent.includes(\"Firefox/\")) {\n          playbackLogging({\n            logLevel,\n            message: `Calling .load() on ${current.src} because readyState is ${current.readyState} and it is not Firefox. Element is premounted ${current.playbackRate}`,\n            tag: \"load\",\n            mountTime\n          });\n          const previousPlaybackRate = current.playbackRate;\n          current.load();\n          current.playbackRate = previousPlaybackRate;\n        }\n      }\n      return;\n    }\n    const cleanup = (reason) => {\n      let didDoSomething = false;\n      cleanupFns.forEach((fn) => {\n        fn(reason);\n        didDoSomething = true;\n      });\n      cleanupFns = [];\n      setIsBuffering((previous) => {\n        if (previous) {\n          didDoSomething = true;\n        }\n        return false;\n      });\n      if (didDoSomething) {\n        playbackLogging({\n          logLevel,\n          message: `Unmarking as buffering: ${current.src}. Reason: ${reason}`,\n          tag: \"buffer\",\n          mountTime\n        });\n      }\n    };\n    const blockMedia = (reason) => {\n      setIsBuffering(true);\n      playbackLogging({\n        logLevel,\n        message: `Marking as buffering: ${current.src}. Reason: ${reason}`,\n        tag: \"buffer\",\n        mountTime\n      });\n      const { unblock } = buffer.delayPlayback();\n      const onCanPlay = () => {\n        cleanup('\"canplay\" was fired');\n        init();\n      };\n      const onError = () => {\n        cleanup('\"error\" event was occurred');\n        init();\n      };\n      current.addEventListener(\"canplay\", onCanPlay, {\n        once: true\n      });\n      cleanupFns.push(() => {\n        current.removeEventListener(\"canplay\", onCanPlay);\n      });\n      current.addEventListener(\"error\", onError, {\n        once: true\n      });\n      cleanupFns.push(() => {\n        current.removeEventListener(\"error\", onError);\n      });\n      cleanupFns.push((cleanupReason) => {\n        playbackLogging({\n          logLevel,\n          message: `Unblocking ${current.src} from buffer. Reason: ${cleanupReason}`,\n          tag: \"buffer\",\n          mountTime\n        });\n        unblock();\n      });\n    };\n    const init = () => {\n      if (current.readyState < current.HAVE_FUTURE_DATA) {\n        blockMedia(`readyState is ${current.readyState}, which is less than HAVE_FUTURE_DATA`);\n        if (!navigator.userAgent.includes(\"Firefox/\")) {\n          playbackLogging({\n            logLevel,\n            message: `Calling .load() on ${src} because readyState is ${current.readyState} and it is not Firefox. ${current.playbackRate}`,\n            tag: \"load\",\n            mountTime\n          });\n          const previousPlaybackRate = current.playbackRate;\n          current.load();\n          current.playbackRate = previousPlaybackRate;\n        }\n      } else {\n        const onWaiting = () => {\n          blockMedia('\"waiting\" event was fired');\n        };\n        current.addEventListener(\"waiting\", onWaiting);\n        cleanupFns.push(() => {\n          current.removeEventListener(\"waiting\", onWaiting);\n        });\n      }\n    };\n    init();\n    return () => {\n      cleanup(\"element was unmounted or prop changed\");\n    };\n  }, [\n    buffer,\n    src,\n    element,\n    isPremounting,\n    isPostmounting,\n    logLevel,\n    shouldBuffer,\n    mountTime\n  ]);\n  return isBuffering;\n};\n\n// src/use-request-video-callback-time.ts\nimport { useEffect as useEffect8, useRef as useRef11 } from \"react\";\nvar useRequestVideoCallbackTime = ({\n  mediaRef,\n  mediaType,\n  lastSeek,\n  onVariableFpsVideoDetected\n}) => {\n  const currentTime = useRef11(null);\n  useEffect8(() => {\n    const { current } = mediaRef;\n    if (current) {\n      currentTime.current = {\n        time: current.currentTime,\n        lastUpdate: performance.now()\n      };\n    } else {\n      currentTime.current = null;\n      return;\n    }\n    if (mediaType !== \"video\") {\n      currentTime.current = null;\n      return;\n    }\n    const videoTag = current;\n    if (!videoTag.requestVideoFrameCallback) {\n      return;\n    }\n    let cancel = () => {\n      return;\n    };\n    const request = () => {\n      if (!videoTag) {\n        return;\n      }\n      const cb = videoTag.requestVideoFrameCallback((_, info2) => {\n        if (currentTime.current !== null) {\n          const difference = Math.abs(currentTime.current.time - info2.mediaTime);\n          const differenceToLastSeek = Math.abs(lastSeek.current === null ? Infinity : info2.mediaTime - lastSeek.current);\n          if (difference > 0.5 && differenceToLastSeek > 0.5 && info2.mediaTime > currentTime.current.time) {\n            onVariableFpsVideoDetected();\n          }\n        }\n        currentTime.current = {\n          time: info2.mediaTime,\n          lastUpdate: performance.now()\n        };\n        request();\n      });\n      cancel = () => {\n        videoTag.cancelVideoFrameCallback(cb);\n        cancel = () => {\n          return;\n        };\n      };\n    };\n    request();\n    return () => {\n      cancel();\n    };\n  }, [lastSeek, mediaRef, mediaType, onVariableFpsVideoDetected]);\n  return currentTime;\n};\n\n// src/interpolate.ts\nfunction interpolateFunction(input, inputRange, outputRange, options) {\n  const { extrapolateLeft, extrapolateRight, easing } = options;\n  let result = input;\n  const [inputMin, inputMax] = inputRange;\n  const [outputMin, outputMax] = outputRange;\n  if (result < inputMin) {\n    if (extrapolateLeft === \"identity\") {\n      return result;\n    }\n    if (extrapolateLeft === \"clamp\") {\n      result = inputMin;\n    } else if (extrapolateLeft === \"wrap\") {\n      const range = inputMax - inputMin;\n      result = ((result - inputMin) % range + range) % range + inputMin;\n    } else if (extrapolateLeft === \"extend\") {}\n  }\n  if (result > inputMax) {\n    if (extrapolateRight === \"identity\") {\n      return result;\n    }\n    if (extrapolateRight === \"clamp\") {\n      result = inputMax;\n    } else if (extrapolateRight === \"wrap\") {\n      const range = inputMax - inputMin;\n      result = ((result - inputMin) % range + range) % range + inputMin;\n    } else if (extrapolateRight === \"extend\") {}\n  }\n  if (outputMin === outputMax) {\n    return outputMin;\n  }\n  result = (result - inputMin) / (inputMax - inputMin);\n  result = easing(result);\n  result = result * (outputMax - outputMin) + outputMin;\n  return result;\n}\nfunction findRange(input, inputRange) {\n  let i;\n  for (i = 1;i < inputRange.length - 1; ++i) {\n    if (inputRange[i] >= input) {\n      break;\n    }\n  }\n  return i - 1;\n}\nfunction checkValidInputRange(arr) {\n  for (let i = 1;i < arr.length; ++i) {\n    if (!(arr[i] > arr[i - 1])) {\n      throw new Error(`inputRange must be strictly monotonically increasing but got [${arr.join(\",\")}]`);\n    }\n  }\n}\nfunction checkInfiniteRange(name, arr) {\n  if (arr.length < 2) {\n    throw new Error(name + \" must have at least 2 elements\");\n  }\n  for (const element of arr) {\n    if (typeof element !== \"number\") {\n      throw new Error(`${name} must contain only numbers`);\n    }\n    if (!Number.isFinite(element)) {\n      throw new Error(`${name} must contain only finite numbers, but got [${arr.join(\",\")}]`);\n    }\n  }\n}\nfunction interpolate(input, inputRange, outputRange, options) {\n  if (typeof input === \"undefined\") {\n    throw new Error(\"input can not be undefined\");\n  }\n  if (typeof inputRange === \"undefined\") {\n    throw new Error(\"inputRange can not be undefined\");\n  }\n  if (typeof outputRange === \"undefined\") {\n    throw new Error(\"outputRange can not be undefined\");\n  }\n  if (inputRange.length !== outputRange.length) {\n    throw new Error(\"inputRange (\" + inputRange.length + \") and outputRange (\" + outputRange.length + \") must have the same length\");\n  }\n  checkInfiniteRange(\"inputRange\", inputRange);\n  checkInfiniteRange(\"outputRange\", outputRange);\n  checkValidInputRange(inputRange);\n  const easing = options?.easing ?? ((num) => num);\n  let extrapolateLeft = \"extend\";\n  if (options?.extrapolateLeft !== undefined) {\n    extrapolateLeft = options.extrapolateLeft;\n  }\n  let extrapolateRight = \"extend\";\n  if (options?.extrapolateRight !== undefined) {\n    extrapolateRight = options.extrapolateRight;\n  }\n  if (typeof input !== \"number\") {\n    throw new TypeError(\"Cannot interpolate an input which is not a number\");\n  }\n  const range = findRange(input, inputRange);\n  return interpolateFunction(input, [inputRange[range], inputRange[range + 1]], [outputRange[range], outputRange[range + 1]], {\n    easing,\n    extrapolateLeft,\n    extrapolateRight\n  });\n}\n\n// src/video/get-current-time.ts\nvar getExpectedMediaFrameUncorrected = ({\n  frame,\n  playbackRate,\n  startFrom\n}) => {\n  return interpolate(frame, [-1, startFrom, startFrom + 1], [-1, startFrom, startFrom + playbackRate]);\n};\nvar getMediaTime = ({\n  fps,\n  frame,\n  playbackRate,\n  startFrom\n}) => {\n  const expectedFrame = getExpectedMediaFrameUncorrected({\n    frame,\n    playbackRate,\n    startFrom\n  });\n  const msPerFrame = 1000 / fps;\n  return expectedFrame * msPerFrame / 1000;\n};\n\n// src/warn-about-non-seekable-media.ts\nvar alreadyWarned = {};\nvar warnAboutNonSeekableMedia = (ref, type) => {\n  if (ref === null) {\n    return;\n  }\n  if (ref.seekable.length === 0) {\n    return;\n  }\n  if (ref.seekable.length > 1) {\n    return;\n  }\n  if (alreadyWarned[ref.src]) {\n    return;\n  }\n  const range = { start: ref.seekable.start(0), end: ref.seekable.end(0) };\n  if (range.start === 0 && range.end === 0) {\n    const msg = [\n      `The media ${ref.src} cannot be seeked. This could be one of few reasons:`,\n      \"1) The media resource was replaced while the video is playing but it was not loaded yet.\",\n      \"2) The media does not support seeking.\",\n      \"3) The media was loaded with security headers prventing it from being included.\",\n      \"Please see https://remotion.dev/docs/non-seekable-media for assistance.\"\n    ].join(`\n`);\n    if (type === \"console-error\") {\n      console.error(msg);\n    } else if (type === \"console-warning\") {\n      console.warn(`The media ${ref.src} does not support seeking. The video will render fine, but may not play correctly in the Remotion Studio and in the <Player>. See https://remotion.dev/docs/non-seekable-media for an explanation.`);\n    } else {\n      throw new Error(msg);\n    }\n    alreadyWarned[ref.src] = true;\n  }\n};\n\n// src/use-media-playback.ts\nvar useMediaPlayback = ({\n  mediaRef,\n  src,\n  mediaType,\n  playbackRate: localPlaybackRate,\n  onlyWarnForMediaSeekingError,\n  acceptableTimeshift,\n  pauseWhenBuffering,\n  isPremounting,\n  isPostmounting,\n  onAutoPlayError\n}) => {\n  const { playbackRate: globalPlaybackRate } = useContext22(TimelineContext);\n  const frame = useCurrentFrame();\n  const absoluteFrame = useTimelinePosition();\n  const [playing] = usePlayingState();\n  const buffering = useContext22(BufferingContextReact);\n  const { fps } = useVideoConfig();\n  const mediaStartsAt = useMediaStartsAt();\n  const lastSeekDueToShift = useRef12(null);\n  const lastSeek = useRef12(null);\n  const logLevel = useLogLevel();\n  const mountTime = useMountTime();\n  if (!buffering) {\n    throw new Error(\"useMediaPlayback must be used inside a <BufferingContext>\");\n  }\n  const isVariableFpsVideoMap = useRef12({});\n  const onVariableFpsVideoDetected = useCallback9(() => {\n    if (!src) {\n      return;\n    }\n    if (isVariableFpsVideoMap.current[src]) {\n      return;\n    }\n    Log.verbose({ logLevel, tag: null }, `Detected ${src} as a variable FPS video. Disabling buffering while seeking.`);\n    isVariableFpsVideoMap.current[src] = true;\n  }, [logLevel, src]);\n  const rvcCurrentTime = useRequestVideoCallbackTime({\n    mediaRef,\n    mediaType,\n    lastSeek,\n    onVariableFpsVideoDetected\n  });\n  const mediaTagCurrentTime = useCurrentTimeOfMediaTagWithUpdateTimeStamp(mediaRef);\n  const desiredUnclampedTime = getMediaTime({\n    frame,\n    playbackRate: localPlaybackRate,\n    startFrom: -mediaStartsAt,\n    fps\n  });\n  const isMediaTagBuffering = useMediaBuffering({\n    element: mediaRef,\n    shouldBuffer: pauseWhenBuffering,\n    isPremounting,\n    isPostmounting,\n    logLevel,\n    mountTime,\n    src: src ?? null\n  });\n  const { bufferUntilFirstFrame, isBuffering } = useBufferUntilFirstFrame({\n    mediaRef,\n    mediaType,\n    onVariableFpsVideoDetected,\n    pauseWhenBuffering,\n    logLevel,\n    mountTime\n  });\n  const playbackRate = localPlaybackRate * globalPlaybackRate;\n  const acceptableTimeShiftButLessThanDuration = (() => {\n    const DEFAULT_ACCEPTABLE_TIMESHIFT_WITH_NORMAL_PLAYBACK = 0.45;\n    const DEFAULT_ACCEPTABLE_TIMESHIFT_WITH_AMPLIFICATION = DEFAULT_ACCEPTABLE_TIMESHIFT_WITH_NORMAL_PLAYBACK + 0.2;\n    const defaultAcceptableTimeshift = DEFAULT_ACCEPTABLE_TIMESHIFT_WITH_AMPLIFICATION;\n    if (mediaRef.current?.duration) {\n      return Math.min(mediaRef.current.duration, acceptableTimeshift ?? defaultAcceptableTimeshift);\n    }\n    return acceptableTimeshift ?? defaultAcceptableTimeshift;\n  })();\n  const isPlayerBuffering = useIsPlayerBuffering(buffering);\n  useEffect9(() => {\n    if (mediaRef.current?.paused) {\n      return;\n    }\n    if (!playing) {\n      playbackLogging({\n        logLevel,\n        tag: \"pause\",\n        message: `Pausing ${mediaRef.current?.src} because ${isPremounting ? \"media is premounting\" : isPostmounting ? \"media is postmounting\" : \"Player is not playing\"}`,\n        mountTime\n      });\n      mediaRef.current?.pause();\n      return;\n    }\n    const isMediaTagBufferingOrStalled = isMediaTagBuffering || isBuffering();\n    const playerBufferingNotStateButLive = buffering.buffering.current;\n    if (playerBufferingNotStateButLive && !isMediaTagBufferingOrStalled) {\n      playbackLogging({\n        logLevel,\n        tag: \"pause\",\n        message: `Pausing ${mediaRef.current?.src} because player is buffering but media tag is not`,\n        mountTime\n      });\n      mediaRef.current?.pause();\n    }\n  }, [\n    isBuffering,\n    isMediaTagBuffering,\n    buffering,\n    isPlayerBuffering,\n    isPremounting,\n    logLevel,\n    mediaRef,\n    mediaType,\n    mountTime,\n    playing,\n    isPostmounting\n  ]);\n  const env = useRemotionEnvironment();\n  useLayoutEffect7(() => {\n    const playbackRateToSet = Math.max(0, playbackRate);\n    if (mediaRef.current && mediaRef.current.playbackRate !== playbackRateToSet) {\n      mediaRef.current.playbackRate = playbackRateToSet;\n    }\n  }, [mediaRef, playbackRate]);\n  useEffect9(() => {\n    const tagName = mediaType === \"audio\" ? \"<Html5Audio>\" : \"<Html5Video>\";\n    if (!mediaRef.current) {\n      throw new Error(`No ${mediaType} ref found`);\n    }\n    if (!src) {\n      throw new Error(`No 'src' attribute was passed to the ${tagName} element.`);\n    }\n    const { duration } = mediaRef.current;\n    const shouldBeTime = !Number.isNaN(duration) && Number.isFinite(duration) ? Math.min(duration, desiredUnclampedTime) : desiredUnclampedTime;\n    const mediaTagTime = mediaTagCurrentTime.current.time;\n    const rvcTime = rvcCurrentTime.current?.time ?? null;\n    const isVariableFpsVideo = isVariableFpsVideoMap.current[src];\n    const timeShiftMediaTag = Math.abs(shouldBeTime - mediaTagTime);\n    const timeShiftRvcTag = rvcTime ? Math.abs(shouldBeTime - rvcTime) : null;\n    const mostRecentTimeshift = rvcCurrentTime.current?.lastUpdate && rvcCurrentTime.current.time > mediaTagCurrentTime.current.lastUpdate ? timeShiftRvcTag : timeShiftMediaTag;\n    const timeShift = timeShiftRvcTag && !isVariableFpsVideo ? mostRecentTimeshift : timeShiftMediaTag;\n    if (timeShift > acceptableTimeShiftButLessThanDuration && lastSeekDueToShift.current !== shouldBeTime) {\n      lastSeek.current = seek({\n        mediaRef: mediaRef.current,\n        time: shouldBeTime,\n        logLevel,\n        why: `because time shift is too big. shouldBeTime = ${shouldBeTime}, isTime = ${mediaTagTime}, requestVideoCallbackTime = ${rvcTime}, timeShift = ${timeShift}${isVariableFpsVideo ? \", isVariableFpsVideo = true\" : \"\"}, isPremounting = ${isPremounting}, isPostmounting = ${isPostmounting}, pauseWhenBuffering = ${pauseWhenBuffering}`,\n        mountTime\n      });\n      lastSeekDueToShift.current = lastSeek.current;\n      if (playing) {\n        if (playbackRate > 0) {\n          bufferUntilFirstFrame(shouldBeTime);\n        }\n        if (mediaRef.current.paused) {\n          playAndHandleNotAllowedError({\n            mediaRef,\n            mediaType,\n            onAutoPlayError,\n            logLevel,\n            mountTime,\n            reason: \"player is playing but media tag is paused, and just seeked\",\n            isPlayer: env.isPlayer\n          });\n        }\n      }\n      if (!onlyWarnForMediaSeekingError) {\n        warnAboutNonSeekableMedia(mediaRef.current, onlyWarnForMediaSeekingError ? \"console-warning\" : \"console-error\");\n      }\n      return;\n    }\n    const seekThreshold = playing ? 0.15 : 0.01;\n    const makesSenseToSeek = Math.abs(mediaRef.current.currentTime - shouldBeTime) > seekThreshold;\n    const isMediaTagBufferingOrStalled = isMediaTagBuffering || isBuffering();\n    const isSomethingElseBuffering = buffering.buffering.current && !isMediaTagBufferingOrStalled;\n    if (!playing || isSomethingElseBuffering) {\n      if (makesSenseToSeek) {\n        lastSeek.current = seek({\n          mediaRef: mediaRef.current,\n          time: shouldBeTime,\n          logLevel,\n          why: `not playing or something else is buffering. time offset is over seek threshold (${seekThreshold})`,\n          mountTime\n        });\n      }\n      return;\n    }\n    if (!playing || buffering.buffering.current) {\n      return;\n    }\n    const pausedCondition = mediaRef.current.paused && !mediaRef.current.ended;\n    const firstFrameCondition = absoluteFrame === 0;\n    if (pausedCondition || firstFrameCondition) {\n      const reason = pausedCondition ? \"media tag is paused\" : \"absolute frame is 0\";\n      if (makesSenseToSeek) {\n        lastSeek.current = seek({\n          mediaRef: mediaRef.current,\n          time: shouldBeTime,\n          logLevel,\n          why: `is over timeshift threshold (threshold = ${seekThreshold}) and ${reason}`,\n          mountTime\n        });\n      }\n      playAndHandleNotAllowedError({\n        mediaRef,\n        mediaType,\n        onAutoPlayError,\n        logLevel,\n        mountTime,\n        reason: `player is playing and ${reason}`,\n        isPlayer: env.isPlayer\n      });\n      if (!isVariableFpsVideo && playbackRate > 0) {\n        bufferUntilFirstFrame(shouldBeTime);\n      }\n    }\n  }, [\n    absoluteFrame,\n    acceptableTimeShiftButLessThanDuration,\n    bufferUntilFirstFrame,\n    buffering.buffering,\n    rvcCurrentTime,\n    logLevel,\n    desiredUnclampedTime,\n    isBuffering,\n    isMediaTagBuffering,\n    mediaRef,\n    mediaType,\n    onlyWarnForMediaSeekingError,\n    playbackRate,\n    playing,\n    src,\n    onAutoPlayError,\n    isPremounting,\n    isPostmounting,\n    pauseWhenBuffering,\n    mountTime,\n    mediaTagCurrentTime,\n    env.isPlayer\n  ]);\n};\n\n// src/use-media-tag.ts\nimport { useContext as useContext23, useEffect as useEffect10 } from \"react\";\nvar useMediaTag = ({\n  mediaRef,\n  id,\n  mediaType,\n  onAutoPlayError,\n  isPremounting,\n  isPostmounting\n}) => {\n  const { audioAndVideoTags, imperativePlaying } = useContext23(TimelineContext);\n  const logLevel = useLogLevel();\n  const mountTime = useMountTime();\n  const env = useRemotionEnvironment();\n  useEffect10(() => {\n    const tag = {\n      id,\n      play: (reason) => {\n        if (!imperativePlaying.current) {\n          return;\n        }\n        if (isPremounting || isPostmounting) {\n          return;\n        }\n        return playAndHandleNotAllowedError({\n          mediaRef,\n          mediaType,\n          onAutoPlayError,\n          logLevel,\n          mountTime,\n          reason,\n          isPlayer: env.isPlayer\n        });\n      }\n    };\n    audioAndVideoTags.current.push(tag);\n    return () => {\n      audioAndVideoTags.current = audioAndVideoTags.current.filter((a) => a.id !== id);\n    };\n  }, [\n    audioAndVideoTags,\n    id,\n    mediaRef,\n    mediaType,\n    onAutoPlayError,\n    imperativePlaying,\n    isPremounting,\n    isPostmounting,\n    logLevel,\n    mountTime,\n    env.isPlayer\n  ]);\n};\n\n// src/volume-position-state.ts\nimport { createContext as createContext17, useContext as useContext24, useMemo as useMemo20 } from \"react\";\nvar MediaVolumeContext = createContext17({\n  mediaMuted: false,\n  mediaVolume: 1\n});\nvar SetMediaVolumeContext = createContext17({\n  setMediaMuted: () => {\n    throw new Error(\"default\");\n  },\n  setMediaVolume: () => {\n    throw new Error(\"default\");\n  }\n});\nvar useMediaVolumeState = () => {\n  const { mediaVolume } = useContext24(MediaVolumeContext);\n  const { setMediaVolume } = useContext24(SetMediaVolumeContext);\n  return useMemo20(() => {\n    return [mediaVolume, setMediaVolume];\n  }, [mediaVolume, setMediaVolume]);\n};\nvar useMediaMutedState = () => {\n  const { mediaMuted } = useContext24(MediaVolumeContext);\n  const { setMediaMuted } = useContext24(SetMediaVolumeContext);\n  return useMemo20(() => {\n    return [mediaMuted, setMediaMuted];\n  }, [mediaMuted, setMediaMuted]);\n};\n\n// src/volume-safeguard.ts\nvar warnAboutTooHighVolume = (volume) => {\n  if (volume >= 100) {\n    throw new Error(`Volume was set to ${volume}, but regular volume is 1, not 100. Did you forget to divide by 100? Set a volume of less than 100 to dismiss this error.`);\n  }\n};\n\n// src/audio/AudioForPreview.tsx\nimport { jsx as jsx17 } from \"react/jsx-runtime\";\nvar AudioForDevelopmentForwardRefFunction = (props, ref) => {\n  const [initialShouldPreMountAudioElements] = useState14(props.shouldPreMountAudioTags);\n  if (props.shouldPreMountAudioTags !== initialShouldPreMountAudioElements) {\n    throw new Error(\"Cannot change the behavior for pre-mounting audio tags dynamically.\");\n  }\n  const logLevel = useLogLevel();\n  const {\n    volume,\n    muted,\n    playbackRate,\n    shouldPreMountAudioTags,\n    src,\n    onDuration,\n    acceptableTimeShiftInSeconds,\n    _remotionInternalNeedsDurationCalculation,\n    _remotionInternalNativeLoopPassed,\n    _remotionInternalStack,\n    allowAmplificationDuringRender,\n    name,\n    pauseWhenBuffering,\n    showInTimeline,\n    loopVolumeCurveBehavior,\n    stack,\n    crossOrigin,\n    delayRenderRetries,\n    delayRenderTimeoutInMilliseconds,\n    toneFrequency,\n    useWebAudioApi,\n    onError,\n    onNativeError,\n    audioStreamIndex,\n    ...nativeProps\n  } = props;\n  const _propsValid = true;\n  if (!_propsValid) {\n    throw new Error(\"typecheck error\");\n  }\n  const [mediaVolume] = useMediaVolumeState();\n  const [mediaMuted] = useMediaMutedState();\n  const volumePropFrame = useFrameForVolumeProp(loopVolumeCurveBehavior ?? \"repeat\");\n  const { hidden } = useContext25(SequenceVisibilityToggleContext);\n  if (!src) {\n    throw new TypeError(\"No 'src' was passed to <Html5Audio>.\");\n  }\n  const preloadedSrc = usePreload(src);\n  const sequenceContext = useContext25(SequenceContext);\n  const [timelineId] = useState14(() => String(Math.random()));\n  const isSequenceHidden = hidden[timelineId] ?? false;\n  const userPreferredVolume = evaluateVolume({\n    frame: volumePropFrame,\n    volume,\n    mediaVolume\n  });\n  warnAboutTooHighVolume(userPreferredVolume);\n  const crossOriginValue = getCrossOriginValue({\n    crossOrigin,\n    requestsVideoFrame: false,\n    isClientSideRendering: false\n  });\n  const propsToPass = useMemo21(() => {\n    return {\n      muted: muted || mediaMuted || isSequenceHidden || userPreferredVolume <= 0,\n      src: preloadedSrc,\n      loop: _remotionInternalNativeLoopPassed,\n      crossOrigin: crossOriginValue,\n      ...nativeProps\n    };\n  }, [\n    _remotionInternalNativeLoopPassed,\n    isSequenceHidden,\n    mediaMuted,\n    muted,\n    nativeProps,\n    preloadedSrc,\n    userPreferredVolume,\n    crossOriginValue\n  ]);\n  const id = useMemo21(() => `audio-${random(src ?? \"\")}-${sequenceContext?.relativeFrom}-${sequenceContext?.cumulatedFrom}-${sequenceContext?.durationInFrames}-muted:${props.muted}-loop:${props.loop}`, [\n    src,\n    sequenceContext?.relativeFrom,\n    sequenceContext?.cumulatedFrom,\n    sequenceContext?.durationInFrames,\n    props.muted,\n    props.loop\n  ]);\n  const {\n    el: audioRef,\n    mediaElementSourceNode,\n    cleanupOnMediaTagUnmount\n  } = useSharedAudio({\n    aud: propsToPass,\n    audioId: id,\n    premounting: Boolean(sequenceContext?.premounting),\n    postmounting: Boolean(sequenceContext?.postmounting)\n  });\n  useMediaInTimeline({\n    volume,\n    mediaVolume,\n    src,\n    mediaType: \"audio\",\n    playbackRate: playbackRate ?? 1,\n    displayName: name ?? null,\n    id: timelineId,\n    stack: _remotionInternalStack,\n    showInTimeline,\n    premountDisplay: sequenceContext?.premountDisplay ?? null,\n    postmountDisplay: sequenceContext?.postmountDisplay ?? null,\n    loopDisplay: undefined\n  });\n  useMediaPlayback({\n    mediaRef: audioRef,\n    src,\n    mediaType: \"audio\",\n    playbackRate: playbackRate ?? 1,\n    onlyWarnForMediaSeekingError: false,\n    acceptableTimeshift: acceptableTimeShiftInSeconds ?? null,\n    isPremounting: Boolean(sequenceContext?.premounting),\n    isPostmounting: Boolean(sequenceContext?.postmounting),\n    pauseWhenBuffering,\n    onAutoPlayError: null\n  });\n  useMediaTag({\n    id: timelineId,\n    isPostmounting: Boolean(sequenceContext?.postmounting),\n    isPremounting: Boolean(sequenceContext?.premounting),\n    mediaRef: audioRef,\n    mediaType: \"audio\",\n    onAutoPlayError: null\n  });\n  useVolume({\n    logLevel,\n    mediaRef: audioRef,\n    source: mediaElementSourceNode,\n    volume: userPreferredVolume,\n    shouldUseWebAudioApi: useWebAudioApi ?? false\n  });\n  const effectToUse = React18.useInsertionEffect ?? React18.useLayoutEffect;\n  effectToUse(() => {\n    return () => {\n      requestAnimationFrame(() => {\n        cleanupOnMediaTagUnmount();\n      });\n    };\n  }, [cleanupOnMediaTagUnmount]);\n  useImperativeHandle5(ref, () => {\n    return audioRef.current;\n  }, [audioRef]);\n  const currentOnDurationCallback = useRef13(onDuration);\n  currentOnDurationCallback.current = onDuration;\n  useEffect11(() => {\n    const { current } = audioRef;\n    if (!current) {\n      return;\n    }\n    if (current.duration) {\n      currentOnDurationCallback.current?.(current.src, current.duration);\n      return;\n    }\n    const onLoadedMetadata = () => {\n      currentOnDurationCallback.current?.(current.src, current.duration);\n    };\n    current.addEventListener(\"loadedmetadata\", onLoadedMetadata);\n    return () => {\n      current.removeEventListener(\"loadedmetadata\", onLoadedMetadata);\n    };\n  }, [audioRef, src]);\n  if (initialShouldPreMountAudioElements) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx17(\"audio\", {\n    ref: audioRef,\n    preload: \"metadata\",\n    crossOrigin: crossOriginValue,\n    ...propsToPass\n  });\n};\nvar AudioForPreview = forwardRef4(AudioForDevelopmentForwardRefFunction);\n\n// src/audio/AudioForRendering.tsx\nimport {\n  forwardRef as forwardRef5,\n  useContext as useContext26,\n  useEffect as useEffect12,\n  useImperativeHandle as useImperativeHandle6,\n  useLayoutEffect as useLayoutEffect8,\n  useMemo as useMemo22,\n  useRef as useRef14\n} from \"react\";\nimport { jsx as jsx18 } from \"react/jsx-runtime\";\nvar AudioForRenderingRefForwardingFunction = (props, ref) => {\n  const audioRef = useRef14(null);\n  const {\n    volume: volumeProp,\n    playbackRate,\n    allowAmplificationDuringRender,\n    onDuration,\n    toneFrequency,\n    _remotionInternalNeedsDurationCalculation,\n    _remotionInternalNativeLoopPassed,\n    acceptableTimeShiftInSeconds,\n    name,\n    onNativeError,\n    delayRenderRetries,\n    delayRenderTimeoutInMilliseconds,\n    loopVolumeCurveBehavior,\n    pauseWhenBuffering,\n    audioStreamIndex,\n    ...nativeProps\n  } = props;\n  const absoluteFrame = useTimelinePosition();\n  const volumePropFrame = useFrameForVolumeProp(loopVolumeCurveBehavior ?? \"repeat\");\n  const frame = useCurrentFrame();\n  const sequenceContext = useContext26(SequenceContext);\n  const { registerRenderAsset, unregisterRenderAsset } = useContext26(RenderAssetManager);\n  const { delayRender: delayRender2, continueRender: continueRender2 } = useDelayRender();\n  const id = useMemo22(() => `audio-${random(props.src ?? \"\")}-${sequenceContext?.relativeFrom}-${sequenceContext?.cumulatedFrom}-${sequenceContext?.durationInFrames}`, [\n    props.src,\n    sequenceContext?.relativeFrom,\n    sequenceContext?.cumulatedFrom,\n    sequenceContext?.durationInFrames\n  ]);\n  const volume = evaluateVolume({\n    volume: volumeProp,\n    frame: volumePropFrame,\n    mediaVolume: 1\n  });\n  warnAboutTooHighVolume(volume);\n  useImperativeHandle6(ref, () => {\n    return audioRef.current;\n  }, []);\n  useEffect12(() => {\n    if (!props.src) {\n      throw new Error(\"No src passed\");\n    }\n    if (!window.remotion_audioEnabled) {\n      return;\n    }\n    if (props.muted) {\n      return;\n    }\n    if (volume <= 0) {\n      return;\n    }\n    registerRenderAsset({\n      type: \"audio\",\n      src: getAbsoluteSrc(props.src),\n      id,\n      frame: absoluteFrame,\n      volume,\n      mediaFrame: frame,\n      playbackRate: props.playbackRate ?? 1,\n      toneFrequency: toneFrequency ?? 1,\n      audioStartFrame: Math.max(0, -(sequenceContext?.relativeFrom ?? 0)),\n      audioStreamIndex: audioStreamIndex ?? 0\n    });\n    return () => unregisterRenderAsset(id);\n  }, [\n    props.muted,\n    props.src,\n    registerRenderAsset,\n    absoluteFrame,\n    id,\n    unregisterRenderAsset,\n    volume,\n    volumePropFrame,\n    frame,\n    playbackRate,\n    props.playbackRate,\n    toneFrequency,\n    sequenceContext?.relativeFrom,\n    audioStreamIndex\n  ]);\n  const { src } = props;\n  const needsToRenderAudioTag = ref || _remotionInternalNeedsDurationCalculation;\n  useLayoutEffect8(() => {\n    if (window.process?.env?.NODE_ENV === \"test\") {\n      return;\n    }\n    if (!needsToRenderAudioTag) {\n      return;\n    }\n    const newHandle = delayRender2(\"Loading <Html5Audio> duration with src=\" + src, {\n      retries: delayRenderRetries ?? undefined,\n      timeoutInMilliseconds: delayRenderTimeoutInMilliseconds ?? undefined\n    });\n    const { current } = audioRef;\n    const didLoad = () => {\n      if (current?.duration) {\n        onDuration(current.src, current.duration);\n      }\n      continueRender2(newHandle);\n    };\n    if (current?.duration) {\n      onDuration(current.src, current.duration);\n      continueRender2(newHandle);\n    } else {\n      current?.addEventListener(\"loadedmetadata\", didLoad, { once: true });\n    }\n    return () => {\n      current?.removeEventListener(\"loadedmetadata\", didLoad);\n      continueRender2(newHandle);\n    };\n  }, [\n    src,\n    onDuration,\n    needsToRenderAudioTag,\n    delayRenderRetries,\n    delayRenderTimeoutInMilliseconds,\n    continueRender2,\n    delayRender2\n  ]);\n  if (!needsToRenderAudioTag) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx18(\"audio\", {\n    ref: audioRef,\n    ...nativeProps,\n    onError: onNativeError\n  });\n};\nvar AudioForRendering = forwardRef5(AudioForRenderingRefForwardingFunction);\n\n// src/audio/Audio.tsx\nimport { jsx as jsx19 } from \"react/jsx-runtime\";\nvar AudioRefForwardingFunction = (props, ref) => {\n  const audioContext = useContext27(SharedAudioContext);\n  const {\n    startFrom,\n    endAt,\n    trimBefore,\n    trimAfter,\n    name,\n    stack,\n    pauseWhenBuffering,\n    showInTimeline,\n    onError: onRemotionError,\n    ...otherProps\n  } = props;\n  const { loop, ...propsOtherThanLoop } = props;\n  const { fps } = useVideoConfig();\n  const environment = useRemotionEnvironment();\n  if (environment.isClientSideRendering) {\n    throw new Error(\"<Html5Audio> is not supported in @remotion/web-renderer. Use <Audio> from @remotion/media instead. See https://remotion.dev/docs/client-side-rendering/limitations\");\n  }\n  const { durations, setDurations } = useContext27(DurationsContext);\n  if (typeof props.src !== \"string\") {\n    throw new TypeError(`The \\`<Html5Audio>\\` tag requires a string for \\`src\\`, but got ${JSON.stringify(props.src)} instead.`);\n  }\n  const preloadedSrc = usePreload(props.src);\n  const onError = useCallback10((e) => {\n    console.log(e.currentTarget.error);\n    const errMessage = `Could not play audio with src ${preloadedSrc}: ${e.currentTarget.error}. See https://remotion.dev/docs/media-playback-error for help.`;\n    if (loop) {\n      if (onRemotionError) {\n        onRemotionError(new Error(errMessage));\n        return;\n      }\n      cancelRender(new Error(errMessage));\n    } else {\n      onRemotionError?.(new Error(errMessage));\n      console.warn(errMessage);\n    }\n  }, [loop, onRemotionError, preloadedSrc]);\n  const onDuration = useCallback10((src, durationInSeconds) => {\n    setDurations({ type: \"got-duration\", durationInSeconds, src });\n  }, [setDurations]);\n  const durationFetched = durations[getAbsoluteSrc(preloadedSrc)] ?? durations[getAbsoluteSrc(props.src)];\n  validateMediaTrimProps({ startFrom, endAt, trimBefore, trimAfter });\n  const { trimBeforeValue, trimAfterValue } = resolveTrimProps({\n    startFrom,\n    endAt,\n    trimBefore,\n    trimAfter\n  });\n  if (loop && durationFetched !== undefined) {\n    if (!Number.isFinite(durationFetched)) {\n      return /* @__PURE__ */ jsx19(Html5Audio, {\n        ...propsOtherThanLoop,\n        ref,\n        _remotionInternalNativeLoopPassed: true\n      });\n    }\n    const duration = durationFetched * fps;\n    return /* @__PURE__ */ jsx19(Loop, {\n      layout: \"none\",\n      durationInFrames: calculateMediaDuration({\n        trimAfter: trimAfterValue,\n        mediaDurationInFrames: duration,\n        playbackRate: props.playbackRate ?? 1,\n        trimBefore: trimBeforeValue\n      }),\n      children: /* @__PURE__ */ jsx19(Html5Audio, {\n        ...propsOtherThanLoop,\n        ref,\n        _remotionInternalNativeLoopPassed: true\n      })\n    });\n  }\n  if (typeof trimBeforeValue !== \"undefined\" || typeof trimAfterValue !== \"undefined\") {\n    return /* @__PURE__ */ jsx19(Sequence, {\n      layout: \"none\",\n      from: 0 - (trimBeforeValue ?? 0),\n      showInTimeline: false,\n      durationInFrames: trimAfterValue,\n      name,\n      children: /* @__PURE__ */ jsx19(Html5Audio, {\n        _remotionInternalNeedsDurationCalculation: Boolean(loop),\n        pauseWhenBuffering: pauseWhenBuffering ?? false,\n        ...otherProps,\n        ref\n      })\n    });\n  }\n  validateMediaProps({ playbackRate: props.playbackRate, volume: props.volume }, \"Html5Audio\");\n  if (environment.isRendering) {\n    return /* @__PURE__ */ jsx19(AudioForRendering, {\n      onDuration,\n      ...props,\n      ref,\n      onNativeError: onError,\n      _remotionInternalNeedsDurationCalculation: Boolean(loop)\n    });\n  }\n  return /* @__PURE__ */ jsx19(AudioForPreview, {\n    _remotionInternalNativeLoopPassed: props._remotionInternalNativeLoopPassed ?? false,\n    _remotionInternalStack: stack ?? null,\n    shouldPreMountAudioTags: audioContext !== null && audioContext.numberOfAudioTags > 0,\n    ...props,\n    ref,\n    onNativeError: onError,\n    onDuration,\n    pauseWhenBuffering: pauseWhenBuffering ?? false,\n    _remotionInternalNeedsDurationCalculation: Boolean(loop),\n    showInTimeline: showInTimeline ?? true\n  });\n};\nvar Html5Audio = forwardRef6(AudioRefForwardingFunction);\naddSequenceStackTraces(Html5Audio);\nvar Audio = Html5Audio;\n// src/Composition.tsx\nimport { Suspense, useContext as useContext29, useEffect as useEffect14 } from \"react\";\nimport { createPortal } from \"react-dom\";\n\n// src/Folder.tsx\nimport { createContext as createContext18, useContext as useContext28, useEffect as useEffect13, useMemo as useMemo23 } from \"react\";\n\n// src/validation/validate-folder-name.ts\nvar getRegex = () => /^([a-zA-Z0-9-\\u4E00-\\u9FFF])+$/g;\nvar isFolderNameValid = (name) => name.match(getRegex());\nvar validateFolderName = (name) => {\n  if (name === undefined || name === null) {\n    throw new TypeError(\"You must pass a name to a <Folder />.\");\n  }\n  if (typeof name !== \"string\") {\n    throw new TypeError(`The \"name\" you pass into <Folder /> must be a string. Got: ${typeof name}`);\n  }\n  if (!isFolderNameValid(name)) {\n    throw new Error(`Folder name can only contain a-z, A-Z, 0-9 and -. You passed ${name}`);\n  }\n};\nvar invalidFolderNameErrorMessage = `Folder name must match ${String(getRegex())}`;\n\n// src/Folder.tsx\nimport { jsx as jsx20 } from \"react/jsx-runtime\";\nvar FolderContext = createContext18({\n  folderName: null,\n  parentName: null\n});\nvar Folder = ({ name, children }) => {\n  const parent = useContext28(FolderContext);\n  const { registerFolder, unregisterFolder } = useContext28(CompositionSetters);\n  validateFolderName(name);\n  const parentNameArr = [parent.parentName, parent.folderName].filter(truthy);\n  const parentName = parentNameArr.length === 0 ? null : parentNameArr.join(\"/\");\n  const value = useMemo23(() => {\n    return {\n      folderName: name,\n      parentName\n    };\n  }, [name, parentName]);\n  useEffect13(() => {\n    registerFolder(name, parentName);\n    return () => {\n      unregisterFolder(name, parentName);\n    };\n  }, [name, parent.folderName, parentName, registerFolder, unregisterFolder]);\n  return /* @__PURE__ */ jsx20(FolderContext.Provider, {\n    value,\n    children\n  });\n};\n\n// src/loading-indicator.tsx\nimport { jsx as jsx21, jsxs as jsxs2 } from \"react/jsx-runtime\";\nvar rotate = {\n  transform: `rotate(90deg)`\n};\nvar ICON_SIZE = 40;\nvar label = {\n  color: \"white\",\n  fontSize: 14,\n  fontFamily: \"sans-serif\"\n};\nvar container = {\n  justifyContent: \"center\",\n  alignItems: \"center\"\n};\nvar Loading = () => {\n  return /* @__PURE__ */ jsxs2(AbsoluteFill, {\n    style: container,\n    id: \"remotion-comp-loading\",\n    children: [\n      /* @__PURE__ */ jsx21(\"style\", {\n        type: \"text/css\",\n        children: `\n\t\t\t\t@keyframes anim {\n\t\t\t\t\tfrom {\n\t\t\t\t\t\topacity: 0\n\t\t\t\t\t}\n\t\t\t\t\tto {\n\t\t\t\t\t\topacity: 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t#remotion-comp-loading {\n\t\t\t\t\tanimation: anim 2s;\n\t\t\t\t\tanimation-fill-mode: forwards;\n\t\t\t\t}\n\t\t\t`\n      }),\n      /* @__PURE__ */ jsx21(\"svg\", {\n        width: ICON_SIZE,\n        height: ICON_SIZE,\n        viewBox: \"-100 -100 400 400\",\n        style: rotate,\n        children: /* @__PURE__ */ jsx21(\"path\", {\n          fill: \"#555\",\n          stroke: \"#555\",\n          strokeWidth: \"100\",\n          strokeLinejoin: \"round\",\n          d: \"M 2 172 a 196 100 0 0 0 195 5 A 196 240 0 0 0 100 2.259 A 196 240 0 0 0 2 172 z\"\n        })\n      }),\n      /* @__PURE__ */ jsxs2(\"p\", {\n        style: label,\n        children: [\n          \"Resolving \",\n          \"<Suspense>\",\n          \"...\"\n        ]\n      })\n    ]\n  });\n};\n\n// src/portal-node.ts\nvar _portalNode = null;\nvar portalNode = () => {\n  if (!_portalNode) {\n    if (typeof document === \"undefined\") {\n      throw new Error(\"Tried to call an API that only works in the browser from outside the browser\");\n    }\n    _portalNode = document.createElement(\"div\");\n    _portalNode.style.position = \"absolute\";\n    _portalNode.style.top = \"0px\";\n    _portalNode.style.left = \"0px\";\n    _portalNode.style.right = \"0px\";\n    _portalNode.style.bottom = \"0px\";\n    _portalNode.style.width = \"100%\";\n    _portalNode.style.height = \"100%\";\n    _portalNode.style.display = \"flex\";\n    _portalNode.style.flexDirection = \"column\";\n    const containerNode = document.createElement(\"div\");\n    containerNode.style.position = \"fixed\";\n    containerNode.style.top = -999999 + \"px\";\n    containerNode.appendChild(_portalNode);\n    document.body.appendChild(containerNode);\n  }\n  return _portalNode;\n};\n\n// src/use-lazy-component.ts\nimport React21, { useMemo as useMemo24 } from \"react\";\nvar useLazyComponent = ({\n  compProps,\n  componentName,\n  noSuspense\n}) => {\n  const lazy = useMemo24(() => {\n    if (\"component\" in compProps) {\n      if (typeof document === \"undefined\" || noSuspense) {\n        return compProps.component;\n      }\n      if (typeof compProps.component === \"undefined\") {\n        throw new Error(`A value of \\`undefined\\` was passed to the \\`component\\` prop. Check the value you are passing to the <${componentName}/> component.`);\n      }\n      return compProps.component;\n    }\n    if (\"lazyComponent\" in compProps && typeof compProps.lazyComponent !== \"undefined\") {\n      if (typeof compProps.lazyComponent === \"undefined\") {\n        throw new Error(`A value of \\`undefined\\` was passed to the \\`lazyComponent\\` prop. Check the value you are passing to the <${componentName}/> component.`);\n      }\n      return React21.lazy(compProps.lazyComponent);\n    }\n    throw new Error(\"You must pass either 'component' or 'lazyComponent'\");\n  }, [compProps.component, compProps.lazyComponent]);\n  return lazy;\n};\n\n// src/validation/validate-composition-id.ts\nvar getRegex2 = () => /^([a-zA-Z0-9-\\u4E00-\\u9FFF])+$/g;\nvar isCompositionIdValid = (id) => id.match(getRegex2());\nvar validateCompositionId = (id) => {\n  if (!isCompositionIdValid(id)) {\n    throw new Error(`Composition id can only contain a-z, A-Z, 0-9, CJK characters and -. You passed ${id}`);\n  }\n};\nvar invalidCompositionErrorMessage = `Composition ID must match ${String(getRegex2())}`;\n\n// src/validation/validate-default-props.ts\nvar validateDefaultAndInputProps = (defaultProps, name, compositionId) => {\n  if (!defaultProps) {\n    return;\n  }\n  if (typeof defaultProps !== \"object\") {\n    throw new Error(`\"${name}\" must be an object, but you passed a value of type ${typeof defaultProps}`);\n  }\n  if (Array.isArray(defaultProps)) {\n    throw new Error(`\"${name}\" must be an object, an array was passed ${compositionId ? `for composition \"${compositionId}\"` : \"\"}`);\n  }\n};\n\n// src/Composition.tsx\nimport { jsx as jsx22 } from \"react/jsx-runtime\";\nvar Fallback = () => {\n  const { continueRender: continueRender2, delayRender: delayRender2 } = useDelayRender();\n  useEffect14(() => {\n    const fallback = delayRender2(\"Waiting for Root component to unsuspend\");\n    return () => continueRender2(fallback);\n  }, [continueRender2, delayRender2]);\n  return null;\n};\nvar InnerComposition = ({\n  width,\n  height,\n  fps,\n  durationInFrames,\n  id,\n  defaultProps,\n  schema,\n  ...compProps\n}) => {\n  const compManager = useContext29(CompositionSetters);\n  const { registerComposition, unregisterComposition } = compManager;\n  const video = useVideo();\n  const lazy = useLazyComponent({\n    compProps,\n    componentName: \"Composition\",\n    noSuspense: false\n  });\n  const nonce = useNonce();\n  const isPlayer = useIsPlayer();\n  const environment = useRemotionEnvironment();\n  const canUseComposition = useContext29(CanUseRemotionHooks);\n  if (typeof window !== \"undefined\") {\n    window.remotion_seenCompositionIds = Array.from(new Set([...window.remotion_seenCompositionIds ?? [], id]));\n  }\n  if (canUseComposition) {\n    if (isPlayer) {\n      throw new Error(\"<Composition> was mounted inside the `component` that was passed to the <Player>. See https://remotion.dev/docs/wrong-composition-mount for help.\");\n    }\n    throw new Error(\"<Composition> mounted inside another composition. See https://remotion.dev/docs/wrong-composition-mount for help.\");\n  }\n  const { folderName, parentName } = useContext29(FolderContext);\n  useEffect14(() => {\n    if (!id) {\n      throw new Error(\"No id for composition passed.\");\n    }\n    validateCompositionId(id);\n    validateDefaultAndInputProps(defaultProps, \"defaultProps\", id);\n    registerComposition({\n      durationInFrames: durationInFrames ?? undefined,\n      fps: fps ?? undefined,\n      height: height ?? undefined,\n      width: width ?? undefined,\n      id,\n      folderName,\n      component: lazy,\n      defaultProps: serializeThenDeserializeInStudio(defaultProps ?? {}),\n      nonce,\n      parentFolderName: parentName,\n      schema: schema ?? null,\n      calculateMetadata: compProps.calculateMetadata ?? null\n    });\n    return () => {\n      unregisterComposition(id);\n    };\n  }, [\n    durationInFrames,\n    fps,\n    height,\n    lazy,\n    id,\n    folderName,\n    defaultProps,\n    width,\n    nonce,\n    parentName,\n    schema,\n    compProps.calculateMetadata,\n    registerComposition,\n    unregisterComposition\n  ]);\n  useEffect14(() => {\n    window.dispatchEvent(new CustomEvent(PROPS_UPDATED_EXTERNALLY, {\n      detail: {\n        resetUnsaved: id\n      }\n    }));\n  }, [defaultProps, id]);\n  const resolved = useResolvedVideoConfig(id);\n  if (environment.isStudio && video && video.component === lazy && video.id === id) {\n    const Comp = lazy;\n    if (resolved === null || resolved.type !== \"success\" && resolved.type !== \"success-and-refreshing\") {\n      return null;\n    }\n    return createPortal(/* @__PURE__ */ jsx22(CanUseRemotionHooksProvider, {\n      children: /* @__PURE__ */ jsx22(Suspense, {\n        fallback: /* @__PURE__ */ jsx22(Loading, {}),\n        children: /* @__PURE__ */ jsx22(Comp, {\n          ...resolved.result.props ?? {}\n        })\n      })\n    }), portalNode());\n  }\n  if (environment.isRendering && video && video.component === lazy && video.id === id) {\n    const Comp = lazy;\n    if (resolved === null || resolved.type !== \"success\" && resolved.type !== \"success-and-refreshing\") {\n      return null;\n    }\n    return createPortal(/* @__PURE__ */ jsx22(CanUseRemotionHooksProvider, {\n      children: /* @__PURE__ */ jsx22(Suspense, {\n        fallback: /* @__PURE__ */ jsx22(Fallback, {}),\n        children: /* @__PURE__ */ jsx22(Comp, {\n          ...resolved.result.props ?? {}\n        })\n      })\n    }), portalNode());\n  }\n  return null;\n};\nvar Composition = (props2) => {\n  const { onlyRenderComposition } = useContext29(CompositionSetters);\n  if (onlyRenderComposition && onlyRenderComposition !== props2.id) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx22(InnerComposition, {\n    ...props2\n  });\n};\n// src/bezier.ts\nvar NEWTON_ITERATIONS = 4;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1 / (kSplineTableSize - 1);\nvar float32ArraySupported = typeof Float32Array === \"function\";\nfunction a(aA1, aA2) {\n  return 1 - 3 * aA2 + 3 * aA1;\n}\nfunction b(aA1, aA2) {\n  return 3 * aA2 - 6 * aA1;\n}\nfunction c(aA1) {\n  return 3 * aA1;\n}\nfunction calcBezier(aT, aA1, aA2) {\n  return ((a(aA1, aA2) * aT + b(aA1, aA2)) * aT + c(aA1)) * aT;\n}\nfunction getSlope(aT, aA1, aA2) {\n  return 3 * a(aA1, aA2) * aT * aT + 2 * b(aA1, aA2) * aT + c(aA1);\n}\nfunction binarySubdivide({\n  aX,\n  _aA,\n  _aB,\n  mX1,\n  mX2\n}) {\n  let currentX;\n  let currentT;\n  let i = 0;\n  let aA = _aA;\n  let aB = _aB;\n  do {\n    currentT = aA + (aB - aA) / 2;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n  return currentT;\n}\nfunction newtonRaphsonIterate(aX, _aGuessT, mX1, mX2) {\n  let aGuessT = _aGuessT;\n  for (let i = 0;i < NEWTON_ITERATIONS; ++i) {\n    const currentSlope = getSlope(aGuessT, mX1, mX2);\n    if (currentSlope === 0) {\n      return aGuessT;\n    }\n    const currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n    aGuessT -= currentX / currentSlope;\n  }\n  return aGuessT;\n}\nfunction bezier(mX1, mY1, mX2, mY2) {\n  if (!(mX1 >= 0 && mX1 <= 1 && mX2 >= 0 && mX2 <= 1)) {\n    throw new Error(\"bezier x values must be in [0, 1] range\");\n  }\n  const sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n  if (mX1 !== mY1 || mX2 !== mY2) {\n    for (let i = 0;i < kSplineTableSize; ++i) {\n      sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n    }\n  }\n  function getTForX(aX) {\n    let intervalStart = 0;\n    let currentSample = 1;\n    const lastSample = kSplineTableSize - 1;\n    for (;currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n    --currentSample;\n    const dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    const guessForT = intervalStart + dist * kSampleStepSize;\n    const initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= NEWTON_MIN_SLOPE) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    }\n    if (initialSlope === 0) {\n      return guessForT;\n    }\n    return binarySubdivide({\n      aX,\n      _aA: intervalStart,\n      _aB: intervalStart + kSampleStepSize,\n      mX1,\n      mX2\n    });\n  }\n  return function(x) {\n    if (mX1 === mY1 && mX2 === mY2) {\n      return x;\n    }\n    if (x === 0) {\n      return 0;\n    }\n    if (x === 1) {\n      return 1;\n    }\n    return calcBezier(getTForX(x), mY1, mY2);\n  };\n}\n\n// src/easing.ts\nclass Easing {\n  static step0(n) {\n    return n > 0 ? 1 : 0;\n  }\n  static step1(n) {\n    return n >= 1 ? 1 : 0;\n  }\n  static linear(t) {\n    return t;\n  }\n  static ease(t) {\n    return Easing.bezier(0.42, 0, 1, 1)(t);\n  }\n  static quad(t) {\n    return t * t;\n  }\n  static cubic(t) {\n    return t * t * t;\n  }\n  static poly(n) {\n    return (t) => t ** n;\n  }\n  static sin(t) {\n    return 1 - Math.cos(t * Math.PI / 2);\n  }\n  static circle(t) {\n    return 1 - Math.sqrt(1 - t * t);\n  }\n  static exp(t) {\n    return 2 ** (10 * (t - 1));\n  }\n  static elastic(bounciness = 1) {\n    const p = bounciness * Math.PI;\n    return (t) => 1 - Math.cos(t * Math.PI / 2) ** 3 * Math.cos(t * p);\n  }\n  static back(s = 1.70158) {\n    return (t) => t * t * ((s + 1) * t - s);\n  }\n  static bounce(t) {\n    if (t < 1 / 2.75) {\n      return 7.5625 * t * t;\n    }\n    if (t < 2 / 2.75) {\n      const t2_ = t - 1.5 / 2.75;\n      return 7.5625 * t2_ * t2_ + 0.75;\n    }\n    if (t < 2.5 / 2.75) {\n      const t2_ = t - 2.25 / 2.75;\n      return 7.5625 * t2_ * t2_ + 0.9375;\n    }\n    const t2 = t - 2.625 / 2.75;\n    return 7.5625 * t2 * t2 + 0.984375;\n  }\n  static bezier(x1, y1, x2, y2) {\n    return bezier(x1, y1, x2, y2);\n  }\n  static in(easing) {\n    return easing;\n  }\n  static out(easing) {\n    return (t) => 1 - easing(1 - t);\n  }\n  static inOut(easing) {\n    return (t) => {\n      if (t < 0.5) {\n        return easing(t * 2) / 2;\n      }\n      return 1 - easing((1 - t) * 2) / 2;\n    };\n  }\n}\n// src/v5-flag.ts\nvar ENABLE_V5_BREAKING_CHANGES = false;\n\n// src/get-static-files.ts\nvar warnedServer = false;\nvar warnedPlayer = false;\nvar warnServerOnce = () => {\n  if (warnedServer) {\n    return;\n  }\n  warnedServer = true;\n  console.warn(\"Called getStaticFiles() on the server. The API is only available in the browser. An empty array was returned.\");\n};\nvar warnPlayerOnce = () => {\n  if (warnedPlayer) {\n    return;\n  }\n  warnedPlayer = true;\n  console.warn(\"Called getStaticFiles() while using the Remotion Player. The API is only available while using the Remotion Studio. An empty array was returned.\");\n};\nvar getStaticFiles = () => {\n  if (ENABLE_V5_BREAKING_CHANGES) {\n    throw new Error(\"getStaticFiles() has moved into the `@remotion/studio` package. Update your imports.\");\n  }\n  if (typeof document === \"undefined\") {\n    warnServerOnce();\n    return [];\n  }\n  if (window.remotion_isPlayer) {\n    warnPlayerOnce();\n    return [];\n  }\n  return window.remotion_staticFiles;\n};\n// src/IFrame.tsx\nimport { forwardRef as forwardRef7, useCallback as useCallback11, useState as useState15 } from \"react\";\nimport { jsx as jsx23 } from \"react/jsx-runtime\";\nvar IFrameRefForwarding = ({\n  onLoad,\n  onError,\n  delayRenderRetries,\n  delayRenderTimeoutInMilliseconds,\n  ...props2\n}, ref) => {\n  const { delayRender: delayRender2, continueRender: continueRender2 } = useDelayRender();\n  const [handle] = useState15(() => delayRender2(`Loading <IFrame> with source ${props2.src}`, {\n    retries: delayRenderRetries ?? undefined,\n    timeoutInMilliseconds: delayRenderTimeoutInMilliseconds ?? undefined\n  }));\n  const didLoad = useCallback11((e) => {\n    continueRender2(handle);\n    onLoad?.(e);\n  }, [handle, onLoad, continueRender2]);\n  const didGetError = useCallback11((e) => {\n    continueRender2(handle);\n    if (onError) {\n      onError(e);\n    } else {\n      console.error(\"Error loading iframe:\", e, \"Handle the event using the onError() prop to make this message disappear.\");\n    }\n  }, [handle, onError, continueRender2]);\n  return /* @__PURE__ */ jsx23(\"iframe\", {\n    referrerPolicy: \"strict-origin-when-cross-origin\",\n    ...props2,\n    ref,\n    onError: didGetError,\n    onLoad: didLoad\n  });\n};\nvar IFrame = forwardRef7(IFrameRefForwarding);\n// src/Img.tsx\nimport {\n  forwardRef as forwardRef8,\n  useCallback as useCallback12,\n  useContext as useContext30,\n  useImperativeHandle as useImperativeHandle7,\n  useLayoutEffect as useLayoutEffect9,\n  useRef as useRef15\n} from \"react\";\nimport { jsx as jsx24 } from \"react/jsx-runtime\";\nfunction exponentialBackoff(errorCount) {\n  return 1000 * 2 ** (errorCount - 1);\n}\nvar ImgRefForwarding = ({\n  onError,\n  maxRetries = 2,\n  src,\n  pauseWhenLoading,\n  delayRenderRetries,\n  delayRenderTimeoutInMilliseconds,\n  onImageFrame,\n  crossOrigin,\n  ...props2\n}, ref) => {\n  const imageRef = useRef15(null);\n  const errors = useRef15({});\n  const { delayPlayback } = useBufferState();\n  const sequenceContext = useContext30(SequenceContext);\n  if (!src) {\n    throw new Error('No \"src\" prop was passed to <Img>.');\n  }\n  const _propsValid = true;\n  if (!_propsValid) {\n    throw new Error(\"typecheck error\");\n  }\n  useImperativeHandle7(ref, () => {\n    return imageRef.current;\n  }, []);\n  const actualSrc = usePreload(src);\n  const retryIn = useCallback12((timeout) => {\n    if (!imageRef.current) {\n      return;\n    }\n    const currentSrc = imageRef.current.src;\n    setTimeout(() => {\n      if (!imageRef.current) {\n        return;\n      }\n      const newSrc = imageRef.current?.src;\n      if (newSrc !== currentSrc) {\n        return;\n      }\n      imageRef.current.removeAttribute(\"src\");\n      imageRef.current.setAttribute(\"src\", newSrc);\n    }, timeout);\n  }, []);\n  const didGetError = useCallback12((e) => {\n    if (!errors.current) {\n      return;\n    }\n    errors.current[imageRef.current?.src] = (errors.current[imageRef.current?.src] ?? 0) + 1;\n    if (onError && (errors.current[imageRef.current?.src] ?? 0) > maxRetries) {\n      onError(e);\n      return;\n    }\n    if ((errors.current[imageRef.current?.src] ?? 0) <= maxRetries) {\n      const backoff = exponentialBackoff(errors.current[imageRef.current?.src] ?? 0);\n      console.warn(`Could not load image with source ${imageRef.current?.src}, retrying again in ${backoff}ms`);\n      retryIn(backoff);\n      return;\n    }\n    cancelRender(\"Error loading image with src: \" + imageRef.current?.src);\n  }, [maxRetries, onError, retryIn]);\n  const { delayRender: delayRender2, continueRender: continueRender2 } = useDelayRender();\n  if (typeof window !== \"undefined\") {\n    const isPremounting = Boolean(sequenceContext?.premounting);\n    const isPostmounting = Boolean(sequenceContext?.postmounting);\n    useLayoutEffect9(() => {\n      if (window.process?.env?.NODE_ENV === \"test\") {\n        if (imageRef.current) {\n          imageRef.current.src = actualSrc;\n        }\n        return;\n      }\n      const { current } = imageRef;\n      if (!current) {\n        return;\n      }\n      const newHandle = delayRender2(\"Loading <Img> with src=\" + actualSrc, {\n        retries: delayRenderRetries ?? undefined,\n        timeoutInMilliseconds: delayRenderTimeoutInMilliseconds ?? undefined\n      });\n      const unblock = pauseWhenLoading && !isPremounting && !isPostmounting ? delayPlayback().unblock : () => {\n        return;\n      };\n      let unmounted = false;\n      const onComplete = () => {\n        if (unmounted) {\n          continueRender2(newHandle);\n          return;\n        }\n        if ((errors.current[imageRef.current?.src] ?? 0) > 0) {\n          delete errors.current[imageRef.current?.src];\n          console.info(`Retry successful - ${imageRef.current?.src} is now loaded`);\n        }\n        if (current) {\n          onImageFrame?.(current);\n        }\n        unblock();\n        continueRender2(newHandle);\n      };\n      if (!imageRef.current) {\n        onComplete();\n        return;\n      }\n      current.src = actualSrc;\n      current.decode().then(onComplete).catch((err) => {\n        console.warn(err);\n        if (current.complete) {\n          onComplete();\n        } else {\n          current.addEventListener(\"load\", onComplete);\n        }\n      });\n      return () => {\n        unmounted = true;\n        current.removeEventListener(\"load\", onComplete);\n        unblock();\n        continueRender2(newHandle);\n      };\n    }, [\n      actualSrc,\n      delayPlayback,\n      delayRenderRetries,\n      delayRenderTimeoutInMilliseconds,\n      pauseWhenLoading,\n      isPremounting,\n      isPostmounting,\n      onImageFrame,\n      continueRender2,\n      delayRender2\n    ]);\n  }\n  const { isClientSideRendering } = useRemotionEnvironment();\n  const crossOriginValue = getCrossOriginValue({\n    crossOrigin,\n    requestsVideoFrame: false,\n    isClientSideRendering\n  });\n  return /* @__PURE__ */ jsx24(\"img\", {\n    ...props2,\n    ref: imageRef,\n    crossOrigin: crossOriginValue,\n    onError: didGetError,\n    decoding: \"sync\"\n  });\n};\nvar Img = forwardRef8(ImgRefForwarding);\n// src/internals.ts\nimport { createRef as createRef3 } from \"react\";\n\n// src/CompositionManager.tsx\nimport React25 from \"react\";\nvar compositionsRef = React25.createRef();\n\n// src/CompositionManagerProvider.tsx\nimport {\n  useCallback as useCallback13,\n  useImperativeHandle as useImperativeHandle8,\n  useMemo as useMemo25,\n  useRef as useRef16,\n  useState as useState16\n} from \"react\";\nimport { jsx as jsx25 } from \"react/jsx-runtime\";\nvar CompositionManagerProvider = ({\n  children,\n  onlyRenderComposition,\n  currentCompositionMetadata,\n  initialCompositions,\n  initialCanvasContent\n}) => {\n  const [folders, setFolders] = useState16([]);\n  const [canvasContent, setCanvasContent] = useState16(initialCanvasContent);\n  const [compositions, setCompositions] = useState16(initialCompositions);\n  const currentcompositionsRef = useRef16(compositions);\n  const updateCompositions = useCallback13((updateComps) => {\n    setCompositions((comps) => {\n      const updated = updateComps(comps);\n      currentcompositionsRef.current = updated;\n      return updated;\n    });\n  }, []);\n  const registerComposition = useCallback13((comp) => {\n    updateCompositions((comps) => {\n      if (comps.find((c2) => c2.id === comp.id)) {\n        throw new Error(`Multiple composition with id ${comp.id} are registered.`);\n      }\n      const value = [...comps, comp].slice().sort((a2, b2) => a2.nonce - b2.nonce);\n      return value;\n    });\n  }, [updateCompositions]);\n  const unregisterComposition = useCallback13((id) => {\n    setCompositions((comps) => {\n      return comps.filter((c2) => c2.id !== id);\n    });\n  }, []);\n  const registerFolder = useCallback13((name, parent) => {\n    setFolders((prevFolders) => {\n      return [\n        ...prevFolders,\n        {\n          name,\n          parent\n        }\n      ];\n    });\n  }, []);\n  const unregisterFolder = useCallback13((name, parent) => {\n    setFolders((prevFolders) => {\n      return prevFolders.filter((p) => !(p.name === name && p.parent === parent));\n    });\n  }, []);\n  useImperativeHandle8(compositionsRef, () => {\n    return {\n      getCompositions: () => currentcompositionsRef.current\n    };\n  }, []);\n  const updateCompositionDefaultProps = useCallback13((id, newDefaultProps) => {\n    setCompositions((comps) => {\n      const updated = comps.map((c2) => {\n        if (c2.id === id) {\n          return {\n            ...c2,\n            defaultProps: newDefaultProps\n          };\n        }\n        return c2;\n      });\n      return updated;\n    });\n  }, []);\n  const compositionManagerSetters = useMemo25(() => {\n    return {\n      registerComposition,\n      unregisterComposition,\n      registerFolder,\n      unregisterFolder,\n      setCanvasContent,\n      updateCompositionDefaultProps,\n      onlyRenderComposition\n    };\n  }, [\n    registerComposition,\n    registerFolder,\n    unregisterComposition,\n    unregisterFolder,\n    updateCompositionDefaultProps,\n    onlyRenderComposition\n  ]);\n  const compositionManagerContextValue = useMemo25(() => {\n    return {\n      compositions,\n      folders,\n      currentCompositionMetadata,\n      canvasContent\n    };\n  }, [compositions, folders, currentCompositionMetadata, canvasContent]);\n  return /* @__PURE__ */ jsx25(CompositionManager.Provider, {\n    value: compositionManagerContextValue,\n    children: /* @__PURE__ */ jsx25(CompositionSetters.Provider, {\n      value: compositionManagerSetters,\n      children\n    })\n  });\n};\n\n// src/default-css.ts\nvar exports_default_css = {};\n__export(exports_default_css, {\n  makeDefaultPreviewCSS: () => makeDefaultPreviewCSS,\n  injectCSS: () => injectCSS,\n  OBJECTFIT_CONTAIN_CLASS_NAME: () => OBJECTFIT_CONTAIN_CLASS_NAME\n});\nvar injected = {};\nvar injectCSS = (css) => {\n  if (typeof document === \"undefined\") {\n    return () => {};\n  }\n  if (injected[css]) {\n    return () => {};\n  }\n  const head = document.head || document.getElementsByTagName(\"head\")[0];\n  const style = document.createElement(\"style\");\n  style.appendChild(document.createTextNode(css));\n  head.prepend(style);\n  injected[css] = style;\n  return () => {\n    const styleElement = injected[css];\n    if (styleElement) {\n      if (styleElement.parentNode) {\n        styleElement.parentNode.removeChild(styleElement);\n      }\n      delete injected[css];\n    }\n  };\n};\nvar OBJECTFIT_CONTAIN_CLASS_NAME = \"__remotion_objectfitcontain\";\nvar makeDefaultPreviewCSS = (scope, backgroundColor) => {\n  if (!scope) {\n    return `\n    * {\n      box-sizing: border-box;\n    }\n    body {\n      margin: 0;\n\t    background-color: ${backgroundColor};\n    }\n    .${OBJECTFIT_CONTAIN_CLASS_NAME} {\n      object-fit: contain;\n    }\n    `;\n  }\n  return `\n    ${scope} * {\n      box-sizing: border-box;\n    }\n    ${scope} *:-webkit-full-screen {\n      width: 100%;\n      height: 100%;\n    }\n    ${scope} .${OBJECTFIT_CONTAIN_CLASS_NAME} {\n      object-fit: contain;\n    }\n  `;\n};\n\n// src/get-preview-dom-element.ts\nvar REMOTION_STUDIO_CONTAINER_ELEMENT = \"__remotion-studio-container\";\nvar getPreviewDomElement = () => {\n  return document.getElementById(REMOTION_STUDIO_CONTAINER_ELEMENT);\n};\n\n// src/max-video-cache-size.ts\nimport React26 from \"react\";\nvar MaxMediaCacheSizeContext = React26.createContext(null);\n\n// src/register-root.ts\nvar Root = null;\nvar listeners = [];\nvar registerRoot = (comp) => {\n  if (!comp) {\n    throw new Error(`You must pass a React component to registerRoot(), but ${JSON.stringify(comp)} was passed.`);\n  }\n  if (Root) {\n    throw new Error(\"registerRoot() was called more than once.\");\n  }\n  Root = comp;\n  listeners.forEach((l) => {\n    l(comp);\n  });\n};\nvar getRoot = () => {\n  return Root;\n};\nvar waitForRoot = (fn) => {\n  if (Root) {\n    fn(Root);\n    return () => {\n      return;\n    };\n  }\n  listeners.push(fn);\n  return () => {\n    listeners = listeners.filter((l) => l !== fn);\n  };\n};\n\n// src/RemotionRoot.tsx\nimport { useMemo as useMemo27 } from \"react\";\n\n// src/use-media-enabled.tsx\nimport { createContext as createContext19, useContext as useContext31, useMemo as useMemo26 } from \"react\";\nimport { jsx as jsx26 } from \"react/jsx-runtime\";\nvar MediaEnabledContext = createContext19(null);\nvar useVideoEnabled = () => {\n  const context = useContext31(MediaEnabledContext);\n  if (!context) {\n    return window.remotion_videoEnabled;\n  }\n  if (context.videoEnabled === null) {\n    return window.remotion_videoEnabled;\n  }\n  return context.videoEnabled;\n};\nvar useAudioEnabled = () => {\n  const context = useContext31(MediaEnabledContext);\n  if (!context) {\n    return window.remotion_audioEnabled;\n  }\n  if (context.audioEnabled === null) {\n    return window.remotion_audioEnabled;\n  }\n  return context.audioEnabled;\n};\nvar MediaEnabledProvider = ({\n  children,\n  videoEnabled,\n  audioEnabled\n}) => {\n  const value = useMemo26(() => ({ videoEnabled, audioEnabled }), [videoEnabled, audioEnabled]);\n  return /* @__PURE__ */ jsx26(MediaEnabledContext.Provider, {\n    value,\n    children\n  });\n};\n\n// src/RemotionRoot.tsx\nimport { jsx as jsx27 } from \"react/jsx-runtime\";\nvar RemotionRootContexts = ({\n  children,\n  numberOfAudioTags,\n  logLevel,\n  audioLatencyHint,\n  videoEnabled,\n  audioEnabled,\n  frameState,\n  nonceContextSeed\n}) => {\n  const nonceContext = useMemo27(() => {\n    let counter = 0;\n    return {\n      getNonce: () => counter++\n    };\n  }, [nonceContextSeed]);\n  const logging = useMemo27(() => {\n    return { logLevel, mountTime: Date.now() };\n  }, [logLevel]);\n  return /* @__PURE__ */ jsx27(LogLevelContext.Provider, {\n    value: logging,\n    children: /* @__PURE__ */ jsx27(NonceContext.Provider, {\n      value: nonceContext,\n      children: /* @__PURE__ */ jsx27(TimelineContextProvider, {\n        frameState,\n        children: /* @__PURE__ */ jsx27(MediaEnabledProvider, {\n          videoEnabled,\n          audioEnabled,\n          children: /* @__PURE__ */ jsx27(EditorPropsProvider, {\n            children: /* @__PURE__ */ jsx27(PrefetchProvider, {\n              children: /* @__PURE__ */ jsx27(SequenceManagerProvider, {\n                children: /* @__PURE__ */ jsx27(SharedAudioContextProvider, {\n                  numberOfAudioTags,\n                  audioLatencyHint,\n                  audioEnabled,\n                  children: /* @__PURE__ */ jsx27(DurationsContextProvider, {\n                    children: /* @__PURE__ */ jsx27(BufferingProvider, {\n                      children\n                    })\n                  })\n                })\n              })\n            })\n          })\n        })\n      })\n    })\n  });\n};\n\n// src/codec.ts\nvar validCodecs = [\n  \"h264\",\n  \"h265\",\n  \"vp8\",\n  \"vp9\",\n  \"mp3\",\n  \"aac\",\n  \"wav\",\n  \"prores\",\n  \"h264-mkv\",\n  \"h264-ts\",\n  \"gif\"\n];\n\n// src/validation/validate-default-codec.ts\nfunction validateCodec(defaultCodec, location, name) {\n  if (typeof defaultCodec === \"undefined\") {\n    return;\n  }\n  if (typeof defaultCodec !== \"string\") {\n    throw new TypeError(`The \"${name}\" prop ${location} must be a string, but you passed a value of type ${typeof defaultCodec}.`);\n  }\n  if (!validCodecs.includes(defaultCodec)) {\n    throw new Error(`The \"${name}\" prop ${location} must be one of ${validCodecs.join(\", \")}, but you passed ${defaultCodec}.`);\n  }\n}\n\n// src/resolve-video-config.ts\nvar validateCalculated = ({\n  calculated,\n  compositionId,\n  compositionFps,\n  compositionHeight,\n  compositionWidth,\n  compositionDurationInFrames\n}) => {\n  const calculateMetadataErrorLocation = `calculated by calculateMetadata() for the composition \"${compositionId}\"`;\n  const defaultErrorLocation = `of the \"<Composition />\" component with the id \"${compositionId}\"`;\n  const width = calculated?.width ?? compositionWidth ?? undefined;\n  validateDimension(width, \"width\", calculated?.width ? calculateMetadataErrorLocation : defaultErrorLocation);\n  const height = calculated?.height ?? compositionHeight ?? undefined;\n  validateDimension(height, \"height\", calculated?.height ? calculateMetadataErrorLocation : defaultErrorLocation);\n  const fps = calculated?.fps ?? compositionFps ?? null;\n  validateFps(fps, calculated?.fps ? calculateMetadataErrorLocation : defaultErrorLocation, false);\n  const durationInFrames = calculated?.durationInFrames ?? compositionDurationInFrames ?? null;\n  validateDurationInFrames(durationInFrames, {\n    allowFloats: false,\n    component: `of the \"<Composition />\" component with the id \"${compositionId}\"`\n  });\n  const defaultCodec = calculated?.defaultCodec;\n  validateCodec(defaultCodec, calculateMetadataErrorLocation, \"defaultCodec\");\n  const defaultOutName = calculated?.defaultOutName;\n  const defaultVideoImageFormat = calculated?.defaultVideoImageFormat;\n  const defaultPixelFormat = calculated?.defaultPixelFormat;\n  const defaultProResProfile = calculated?.defaultProResProfile;\n  return {\n    width,\n    height,\n    fps,\n    durationInFrames,\n    defaultCodec,\n    defaultOutName,\n    defaultVideoImageFormat,\n    defaultPixelFormat,\n    defaultProResProfile\n  };\n};\nvar resolveVideoConfig = ({\n  calculateMetadata,\n  signal,\n  defaultProps,\n  inputProps: originalProps,\n  compositionId,\n  compositionDurationInFrames,\n  compositionFps,\n  compositionHeight,\n  compositionWidth\n}) => {\n  const calculatedProm = calculateMetadata ? calculateMetadata({\n    defaultProps,\n    props: originalProps,\n    abortSignal: signal,\n    compositionId,\n    isRendering: getRemotionEnvironment().isRendering\n  }) : null;\n  if (calculatedProm !== null && typeof calculatedProm === \"object\" && \"then\" in calculatedProm) {\n    return calculatedProm.then((c2) => {\n      const {\n        height,\n        width,\n        durationInFrames,\n        fps,\n        defaultCodec,\n        defaultOutName,\n        defaultVideoImageFormat,\n        defaultPixelFormat,\n        defaultProResProfile\n      } = validateCalculated({\n        calculated: c2,\n        compositionDurationInFrames,\n        compositionFps,\n        compositionHeight,\n        compositionWidth,\n        compositionId\n      });\n      return {\n        width,\n        height,\n        fps,\n        durationInFrames,\n        id: compositionId,\n        defaultProps: serializeThenDeserializeInStudio(defaultProps),\n        props: serializeThenDeserializeInStudio(c2.props ?? originalProps),\n        defaultCodec: defaultCodec ?? null,\n        defaultOutName: defaultOutName ?? null,\n        defaultVideoImageFormat: defaultVideoImageFormat ?? null,\n        defaultPixelFormat: defaultPixelFormat ?? null,\n        defaultProResProfile: defaultProResProfile ?? null\n      };\n    });\n  }\n  const data = validateCalculated({\n    calculated: calculatedProm,\n    compositionDurationInFrames,\n    compositionFps,\n    compositionHeight,\n    compositionWidth,\n    compositionId\n  });\n  if (calculatedProm === null) {\n    return {\n      ...data,\n      id: compositionId,\n      defaultProps: serializeThenDeserializeInStudio(defaultProps ?? {}),\n      props: serializeThenDeserializeInStudio(originalProps),\n      defaultCodec: null,\n      defaultOutName: null,\n      defaultVideoImageFormat: null,\n      defaultPixelFormat: null,\n      defaultProResProfile: null\n    };\n  }\n  return {\n    ...data,\n    id: compositionId,\n    defaultProps: serializeThenDeserializeInStudio(defaultProps ?? {}),\n    props: serializeThenDeserializeInStudio(calculatedProm.props ?? originalProps),\n    defaultCodec: calculatedProm.defaultCodec ?? null,\n    defaultOutName: calculatedProm.defaultOutName ?? null,\n    defaultVideoImageFormat: calculatedProm.defaultVideoImageFormat ?? null,\n    defaultPixelFormat: calculatedProm.defaultPixelFormat ?? null,\n    defaultProResProfile: calculatedProm.defaultProResProfile ?? null\n  };\n};\nvar resolveVideoConfigOrCatch = (params) => {\n  try {\n    const promiseOrReturnValue = resolveVideoConfig(params);\n    return {\n      type: \"success\",\n      result: promiseOrReturnValue\n    };\n  } catch (err) {\n    return {\n      type: \"error\",\n      error: err\n    };\n  }\n};\n\n// src/setup-env-variables.ts\nvar getEnvVariables = () => {\n  if (getRemotionEnvironment().isRendering) {\n    const param = window.remotion_envVariables;\n    if (!param) {\n      return {};\n    }\n    return { ...JSON.parse(param), NODE_ENV: \"production\" };\n  }\n  if (false) {}\n  return {\n    NODE_ENV: \"production\"\n  };\n};\nvar setupEnvVariables = () => {\n  const env = getEnvVariables();\n  if (!window.process) {\n    window.process = {};\n  }\n  if (!window.process.env) {\n    window.process.env = {};\n  }\n  Object.keys(env).forEach((key) => {\n    window.process.env[key] = env[key];\n  });\n};\n\n// src/use-current-scale.ts\nimport React28, { createContext as createContext20 } from \"react\";\nvar CurrentScaleContext = React28.createContext(null);\nvar PreviewSizeContext = createContext20({\n  setSize: () => {\n    return;\n  },\n  size: { size: \"auto\", translation: { x: 0, y: 0 } }\n});\nvar calculateScale = ({\n  canvasSize,\n  compositionHeight,\n  compositionWidth,\n  previewSize\n}) => {\n  const heightRatio = canvasSize.height / compositionHeight;\n  const widthRatio = canvasSize.width / compositionWidth;\n  const ratio = Math.min(heightRatio, widthRatio);\n  if (previewSize === \"auto\") {\n    if (ratio === 0) {\n      return 1;\n    }\n    return ratio;\n  }\n  return Number(previewSize);\n};\nvar useCurrentScale = (options) => {\n  const hasContext = React28.useContext(CurrentScaleContext);\n  const zoomContext = React28.useContext(PreviewSizeContext);\n  const config = useUnsafeVideoConfig();\n  const env = useRemotionEnvironment();\n  if (hasContext === null || config === null || zoomContext === null) {\n    if (options?.dontThrowIfOutsideOfRemotion) {\n      return 1;\n    }\n    if (env.isRendering) {\n      return 1;\n    }\n    throw new Error([\n      \"useCurrentScale() was called outside of a Remotion context.\",\n      \"This hook can only be called in a component that is being rendered by Remotion.\",\n      \"If you want to this hook to return 1 outside of Remotion, pass {dontThrowIfOutsideOfRemotion: true} as an option.\",\n      \"If you think you called this hook in a Remotion component, make sure all versions of Remotion are aligned.\"\n    ].join(`\n`));\n  }\n  if (hasContext.type === \"scale\") {\n    return hasContext.scale;\n  }\n  return calculateScale({\n    canvasSize: hasContext.canvasSize,\n    compositionHeight: config.height,\n    compositionWidth: config.width,\n    previewSize: zoomContext.size.size\n  });\n};\n\n// src/video/OffthreadVideo.tsx\nimport { useCallback as useCallback15 } from \"react\";\n\n// src/video/OffthreadVideoForRendering.tsx\nimport {\n  useCallback as useCallback14,\n  useContext as useContext32,\n  useEffect as useEffect15,\n  useLayoutEffect as useLayoutEffect10,\n  useMemo as useMemo28,\n  useState as useState17\n} from \"react\";\n\n// src/video/offthread-video-source.ts\nvar getOffthreadVideoSource = ({\n  src,\n  transparent,\n  currentTime,\n  toneMapped\n}) => {\n  return `http://localhost:${window.remotion_proxyPort}/proxy?src=${encodeURIComponent(getAbsoluteSrc(src))}&time=${encodeURIComponent(Math.max(0, currentTime))}&transparent=${String(transparent)}&toneMapped=${String(toneMapped)}`;\n};\n\n// src/video/OffthreadVideoForRendering.tsx\nimport { jsx as jsx28 } from \"react/jsx-runtime\";\nvar OffthreadVideoForRendering = ({\n  onError,\n  volume: volumeProp,\n  playbackRate,\n  src,\n  muted,\n  allowAmplificationDuringRender,\n  transparent,\n  toneMapped,\n  toneFrequency,\n  name,\n  loopVolumeCurveBehavior,\n  delayRenderRetries,\n  delayRenderTimeoutInMilliseconds,\n  onVideoFrame,\n  crossOrigin,\n  audioStreamIndex,\n  ...props2\n}) => {\n  const absoluteFrame = useTimelinePosition();\n  const frame = useCurrentFrame();\n  const volumePropsFrame = useFrameForVolumeProp(loopVolumeCurveBehavior);\n  const videoConfig = useUnsafeVideoConfig();\n  const sequenceContext = useContext32(SequenceContext);\n  const mediaStartsAt = useMediaStartsAt();\n  const { registerRenderAsset, unregisterRenderAsset } = useContext32(RenderAssetManager);\n  if (!src) {\n    throw new TypeError(\"No `src` was passed to <OffthreadVideo>.\");\n  }\n  const id = useMemo28(() => `offthreadvideo-${random(src)}-${sequenceContext?.cumulatedFrom}-${sequenceContext?.relativeFrom}-${sequenceContext?.durationInFrames}`, [\n    src,\n    sequenceContext?.cumulatedFrom,\n    sequenceContext?.relativeFrom,\n    sequenceContext?.durationInFrames\n  ]);\n  if (!videoConfig) {\n    throw new Error(\"No video config found\");\n  }\n  const volume = evaluateVolume({\n    volume: volumeProp,\n    frame: volumePropsFrame,\n    mediaVolume: 1\n  });\n  warnAboutTooHighVolume(volume);\n  useEffect15(() => {\n    if (!src) {\n      throw new Error(\"No src passed\");\n    }\n    if (!window.remotion_audioEnabled) {\n      return;\n    }\n    if (muted) {\n      return;\n    }\n    if (volume <= 0) {\n      return;\n    }\n    registerRenderAsset({\n      type: \"video\",\n      src: getAbsoluteSrc(src),\n      id,\n      frame: absoluteFrame,\n      volume,\n      mediaFrame: frame,\n      playbackRate,\n      toneFrequency,\n      audioStartFrame: Math.max(0, -(sequenceContext?.relativeFrom ?? 0)),\n      audioStreamIndex\n    });\n    return () => unregisterRenderAsset(id);\n  }, [\n    muted,\n    src,\n    registerRenderAsset,\n    id,\n    unregisterRenderAsset,\n    volume,\n    frame,\n    absoluteFrame,\n    playbackRate,\n    toneFrequency,\n    sequenceContext?.relativeFrom,\n    audioStreamIndex\n  ]);\n  const currentTime = useMemo28(() => {\n    return getExpectedMediaFrameUncorrected({\n      frame,\n      playbackRate: playbackRate || 1,\n      startFrom: -mediaStartsAt\n    }) / videoConfig.fps;\n  }, [frame, mediaStartsAt, playbackRate, videoConfig.fps]);\n  const actualSrc = useMemo28(() => {\n    return getOffthreadVideoSource({\n      src,\n      currentTime,\n      transparent,\n      toneMapped\n    });\n  }, [toneMapped, currentTime, src, transparent]);\n  const [imageSrc, setImageSrc] = useState17(null);\n  const { delayRender: delayRender2, continueRender: continueRender2 } = useDelayRender();\n  useLayoutEffect10(() => {\n    if (!window.remotion_videoEnabled) {\n      return;\n    }\n    const cleanup = [];\n    setImageSrc(null);\n    const controller = new AbortController;\n    const newHandle = delayRender2(`Fetching ${actualSrc} from server`, {\n      retries: delayRenderRetries ?? undefined,\n      timeoutInMilliseconds: delayRenderTimeoutInMilliseconds ?? undefined\n    });\n    const execute = async () => {\n      try {\n        const res = await fetch(actualSrc, {\n          signal: controller.signal,\n          cache: \"no-store\"\n        });\n        if (res.status !== 200) {\n          if (res.status === 500) {\n            const json = await res.json();\n            if (json.error) {\n              const cleanedUpErrorMessage = json.error.replace(/^Error: /, \"\");\n              throw new Error(cleanedUpErrorMessage);\n            }\n          }\n          throw new Error(`Server returned status ${res.status} while fetching ${actualSrc}`);\n        }\n        const blob = await res.blob();\n        const url = URL.createObjectURL(blob);\n        cleanup.push(() => URL.revokeObjectURL(url));\n        setImageSrc({\n          src: url,\n          handle: newHandle\n        });\n      } catch (err) {\n        if (err.message.includes(\"aborted\")) {\n          continueRender2(newHandle);\n          return;\n        }\n        if (controller.signal.aborted) {\n          continueRender2(newHandle);\n          return;\n        }\n        if (err.message.includes(\"Failed to fetch\")) {\n          err = new Error(`Failed to fetch ${actualSrc}. This could be caused by Chrome rejecting the request because the disk space is low. Consider increasing the disk size of your environment.`, { cause: err });\n        }\n        if (onError) {\n          onError(err);\n        } else {\n          cancelRender(err);\n        }\n      }\n    };\n    execute();\n    cleanup.push(() => {\n      if (controller.signal.aborted) {\n        return;\n      }\n      controller.abort();\n    });\n    return () => {\n      cleanup.forEach((c2) => c2());\n    };\n  }, [\n    actualSrc,\n    delayRenderRetries,\n    delayRenderTimeoutInMilliseconds,\n    onError,\n    continueRender2,\n    delayRender2\n  ]);\n  const onErr = useCallback14(() => {\n    if (onError) {\n      onError?.(new Error(\"Failed to load image with src \" + imageSrc));\n    } else {\n      cancelRender(\"Failed to load image with src \" + imageSrc);\n    }\n  }, [imageSrc, onError]);\n  const className = useMemo28(() => {\n    return [OBJECTFIT_CONTAIN_CLASS_NAME, props2.className].filter(truthy).join(\" \");\n  }, [props2.className]);\n  const onImageFrame = useCallback14((img) => {\n    if (onVideoFrame) {\n      onVideoFrame(img);\n    }\n  }, [onVideoFrame]);\n  if (!imageSrc || !window.remotion_videoEnabled) {\n    return null;\n  }\n  continueRender2(imageSrc.handle);\n  return /* @__PURE__ */ jsx28(Img, {\n    src: imageSrc.src,\n    delayRenderRetries,\n    delayRenderTimeoutInMilliseconds,\n    onImageFrame,\n    ...props2,\n    onError: onErr,\n    className\n  });\n};\n\n// src/video/VideoForPreview.tsx\nimport React30, {\n  forwardRef as forwardRef9,\n  useContext as useContext33,\n  useEffect as useEffect17,\n  useImperativeHandle as useImperativeHandle9,\n  useMemo as useMemo29,\n  useRef as useRef17,\n  useState as useState18\n} from \"react\";\n\n// src/video/emit-video-frame.ts\nimport { useEffect as useEffect16 } from \"react\";\nvar useEmitVideoFrame = ({\n  ref,\n  onVideoFrame\n}) => {\n  useEffect16(() => {\n    const { current } = ref;\n    if (!current) {\n      return;\n    }\n    if (!onVideoFrame) {\n      return;\n    }\n    let handle = 0;\n    const callback = () => {\n      if (!ref.current) {\n        return;\n      }\n      onVideoFrame(ref.current);\n      handle = ref.current.requestVideoFrameCallback(callback);\n    };\n    callback();\n    return () => {\n      current.cancelVideoFrameCallback(handle);\n    };\n  }, [onVideoFrame, ref]);\n};\n\n// src/video/VideoForPreview.tsx\nimport { jsx as jsx29 } from \"react/jsx-runtime\";\nvar VideoForDevelopmentRefForwardingFunction = (props2, ref) => {\n  const context = useContext33(SharedAudioContext);\n  if (!context) {\n    throw new Error(\"SharedAudioContext not found\");\n  }\n  const videoRef = useRef17(null);\n  const sharedSource = useMemo29(() => {\n    if (!context.audioContext) {\n      return null;\n    }\n    return makeSharedElementSourceNode({\n      audioContext: context.audioContext,\n      ref: videoRef\n    });\n  }, [context.audioContext]);\n  const effectToUse = React30.useInsertionEffect ?? React30.useLayoutEffect;\n  effectToUse(() => {\n    return () => {\n      requestAnimationFrame(() => {\n        sharedSource?.cleanup();\n      });\n    };\n  }, [sharedSource]);\n  const {\n    volume,\n    muted,\n    playbackRate,\n    onlyWarnForMediaSeekingError,\n    src,\n    onDuration,\n    acceptableTimeShift,\n    acceptableTimeShiftInSeconds,\n    toneFrequency,\n    name,\n    _remotionInternalNativeLoopPassed,\n    _remotionInternalStack,\n    style,\n    pauseWhenBuffering,\n    showInTimeline,\n    loopVolumeCurveBehavior,\n    onError,\n    onAutoPlayError,\n    onVideoFrame,\n    crossOrigin,\n    delayRenderRetries,\n    delayRenderTimeoutInMilliseconds,\n    allowAmplificationDuringRender,\n    useWebAudioApi,\n    audioStreamIndex,\n    ...nativeProps\n  } = props2;\n  const _propsValid = true;\n  if (!_propsValid) {\n    throw new Error(\"typecheck error\");\n  }\n  const volumePropFrame = useFrameForVolumeProp(loopVolumeCurveBehavior ?? \"repeat\");\n  const { fps, durationInFrames } = useVideoConfig();\n  const parentSequence = useContext33(SequenceContext);\n  const { hidden } = useContext33(SequenceVisibilityToggleContext);\n  const logLevel = useLogLevel();\n  const mountTime = useMountTime();\n  const [timelineId] = useState18(() => String(Math.random()));\n  const isSequenceHidden = hidden[timelineId] ?? false;\n  if (typeof acceptableTimeShift !== \"undefined\") {\n    throw new Error(\"acceptableTimeShift has been removed. Use acceptableTimeShiftInSeconds instead.\");\n  }\n  const [mediaVolume] = useMediaVolumeState();\n  const [mediaMuted] = useMediaMutedState();\n  const userPreferredVolume = evaluateVolume({\n    frame: volumePropFrame,\n    volume,\n    mediaVolume\n  });\n  warnAboutTooHighVolume(userPreferredVolume);\n  useMediaInTimeline({\n    volume,\n    mediaVolume,\n    mediaType: \"video\",\n    src,\n    playbackRate: props2.playbackRate ?? 1,\n    displayName: name ?? null,\n    id: timelineId,\n    stack: _remotionInternalStack,\n    showInTimeline,\n    premountDisplay: parentSequence?.premountDisplay ?? null,\n    postmountDisplay: parentSequence?.postmountDisplay ?? null,\n    loopDisplay: undefined\n  });\n  useMediaPlayback({\n    mediaRef: videoRef,\n    src,\n    mediaType: \"video\",\n    playbackRate: props2.playbackRate ?? 1,\n    onlyWarnForMediaSeekingError,\n    acceptableTimeshift: acceptableTimeShiftInSeconds ?? null,\n    isPremounting: Boolean(parentSequence?.premounting),\n    isPostmounting: Boolean(parentSequence?.postmounting),\n    pauseWhenBuffering,\n    onAutoPlayError: onAutoPlayError ?? null\n  });\n  useMediaTag({\n    id: timelineId,\n    isPostmounting: Boolean(parentSequence?.postmounting),\n    isPremounting: Boolean(parentSequence?.premounting),\n    mediaRef: videoRef,\n    mediaType: \"video\",\n    onAutoPlayError: onAutoPlayError ?? null\n  });\n  useVolume({\n    logLevel,\n    mediaRef: videoRef,\n    volume: userPreferredVolume,\n    source: sharedSource,\n    shouldUseWebAudioApi: useWebAudioApi ?? false\n  });\n  const actualFrom = parentSequence ? parentSequence.relativeFrom : 0;\n  const duration = parentSequence ? Math.min(parentSequence.durationInFrames, durationInFrames) : durationInFrames;\n  const preloadedSrc = usePreload(src);\n  const actualSrc = useAppendVideoFragment({\n    actualSrc: preloadedSrc,\n    actualFrom,\n    duration,\n    fps\n  });\n  useImperativeHandle9(ref, () => {\n    return videoRef.current;\n  }, []);\n  useState18(() => playbackLogging({\n    logLevel,\n    message: `Mounting video with source = ${actualSrc}, v=${VERSION}, user agent=${typeof navigator === \"undefined\" ? \"server\" : navigator.userAgent}`,\n    tag: \"video\",\n    mountTime\n  }));\n  useEffect17(() => {\n    const { current } = videoRef;\n    if (!current) {\n      return;\n    }\n    const errorHandler = () => {\n      if (current.error) {\n        console.error(\"Error occurred in video\", current?.error);\n        if (onError) {\n          const err = new Error(`Code ${current.error.code}: ${current.error.message}`);\n          onError(err);\n          return;\n        }\n        throw new Error(`The browser threw an error while playing the video ${src}: Code ${current.error.code} - ${current?.error?.message}. See https://remotion.dev/docs/media-playback-error for help. Pass an onError() prop to handle the error.`);\n      } else {\n        if (onError) {\n          const err = new Error(`The browser threw an error while playing the video ${src}`);\n          onError(err);\n          return;\n        }\n        throw new Error(\"The browser threw an error while playing the video\");\n      }\n    };\n    current.addEventListener(\"error\", errorHandler, { once: true });\n    return () => {\n      current.removeEventListener(\"error\", errorHandler);\n    };\n  }, [onError, src]);\n  const currentOnDurationCallback = useRef17(onDuration);\n  currentOnDurationCallback.current = onDuration;\n  useEmitVideoFrame({ ref: videoRef, onVideoFrame });\n  useEffect17(() => {\n    const { current } = videoRef;\n    if (!current) {\n      return;\n    }\n    if (current.duration) {\n      currentOnDurationCallback.current?.(src, current.duration);\n      return;\n    }\n    const onLoadedMetadata = () => {\n      currentOnDurationCallback.current?.(src, current.duration);\n    };\n    current.addEventListener(\"loadedmetadata\", onLoadedMetadata);\n    return () => {\n      current.removeEventListener(\"loadedmetadata\", onLoadedMetadata);\n    };\n  }, [src]);\n  useEffect17(() => {\n    const { current } = videoRef;\n    if (!current) {\n      return;\n    }\n    if (isIosSafari()) {\n      current.preload = \"metadata\";\n    } else {\n      current.preload = \"auto\";\n    }\n  }, []);\n  const actualStyle = useMemo29(() => {\n    return {\n      ...style,\n      opacity: isSequenceHidden ? 0 : style?.opacity ?? 1\n    };\n  }, [isSequenceHidden, style]);\n  const crossOriginValue = getCrossOriginValue({\n    crossOrigin,\n    requestsVideoFrame: Boolean(onVideoFrame),\n    isClientSideRendering: false\n  });\n  return /* @__PURE__ */ jsx29(\"video\", {\n    ref: videoRef,\n    muted: muted || mediaMuted || isSequenceHidden || userPreferredVolume <= 0,\n    playsInline: true,\n    src: actualSrc,\n    loop: _remotionInternalNativeLoopPassed,\n    style: actualStyle,\n    disableRemotePlayback: true,\n    crossOrigin: crossOriginValue,\n    ...nativeProps\n  });\n};\nvar VideoForPreview = forwardRef9(VideoForDevelopmentRefForwardingFunction);\n\n// src/video/OffthreadVideo.tsx\nimport { jsx as jsx30 } from \"react/jsx-runtime\";\nvar InnerOffthreadVideo = (props2) => {\n  const {\n    startFrom,\n    endAt,\n    trimBefore,\n    trimAfter,\n    name,\n    pauseWhenBuffering,\n    stack,\n    showInTimeline,\n    ...otherProps\n  } = props2;\n  const environment = useRemotionEnvironment();\n  if (environment.isClientSideRendering) {\n    throw new Error(\"<OffthreadVideo> is not supported in @remotion/web-renderer. Use <Video> from @remotion/media instead. See https://remotion.dev/docs/client-side-rendering/limitations\");\n  }\n  const onDuration = useCallback15(() => {\n    return;\n  }, []);\n  if (typeof props2.src !== \"string\") {\n    throw new TypeError(`The \\`<OffthreadVideo>\\` tag requires a string for \\`src\\`, but got ${JSON.stringify(props2.src)} instead.`);\n  }\n  validateMediaTrimProps({ startFrom, endAt, trimBefore, trimAfter });\n  const { trimBeforeValue, trimAfterValue } = resolveTrimProps({\n    startFrom,\n    endAt,\n    trimBefore,\n    trimAfter\n  });\n  if (typeof trimBeforeValue !== \"undefined\" || typeof trimAfterValue !== \"undefined\") {\n    return /* @__PURE__ */ jsx30(Sequence, {\n      layout: \"none\",\n      from: 0 - (trimBeforeValue ?? 0),\n      showInTimeline: false,\n      durationInFrames: trimAfterValue,\n      name,\n      children: /* @__PURE__ */ jsx30(InnerOffthreadVideo, {\n        pauseWhenBuffering: pauseWhenBuffering ?? false,\n        ...otherProps,\n        trimAfter: undefined,\n        name: undefined,\n        showInTimeline,\n        trimBefore: undefined,\n        stack: undefined,\n        startFrom: undefined,\n        endAt: undefined\n      })\n    });\n  }\n  validateMediaProps(props2, \"Video\");\n  if (environment.isRendering) {\n    return /* @__PURE__ */ jsx30(OffthreadVideoForRendering, {\n      pauseWhenBuffering: pauseWhenBuffering ?? false,\n      ...otherProps,\n      trimAfter: undefined,\n      name: undefined,\n      showInTimeline,\n      trimBefore: undefined,\n      stack: undefined,\n      startFrom: undefined,\n      endAt: undefined\n    });\n  }\n  const {\n    transparent,\n    toneMapped,\n    onAutoPlayError,\n    onVideoFrame,\n    crossOrigin,\n    delayRenderRetries,\n    delayRenderTimeoutInMilliseconds,\n    ...propsForPreview\n  } = otherProps;\n  return /* @__PURE__ */ jsx30(VideoForPreview, {\n    _remotionInternalStack: stack ?? null,\n    onDuration,\n    onlyWarnForMediaSeekingError: true,\n    pauseWhenBuffering: pauseWhenBuffering ?? false,\n    showInTimeline: showInTimeline ?? true,\n    onAutoPlayError: onAutoPlayError ?? undefined,\n    onVideoFrame: onVideoFrame ?? null,\n    crossOrigin,\n    ...propsForPreview,\n    _remotionInternalNativeLoopPassed: false\n  });\n};\nvar OffthreadVideo = ({\n  src,\n  acceptableTimeShiftInSeconds,\n  allowAmplificationDuringRender,\n  audioStreamIndex,\n  className,\n  crossOrigin,\n  delayRenderRetries,\n  delayRenderTimeoutInMilliseconds,\n  id,\n  loopVolumeCurveBehavior,\n  muted,\n  name,\n  onAutoPlayError,\n  onError,\n  onVideoFrame,\n  pauseWhenBuffering,\n  playbackRate,\n  showInTimeline,\n  style,\n  toneFrequency,\n  toneMapped,\n  transparent,\n  trimAfter,\n  trimBefore,\n  useWebAudioApi,\n  volume,\n  _remotionInternalNativeLoopPassed,\n  endAt,\n  stack,\n  startFrom,\n  imageFormat\n}) => {\n  if (imageFormat) {\n    throw new TypeError(`The \\`<OffthreadVideo>\\` tag does no longer accept \\`imageFormat\\`. Use the \\`transparent\\` prop if you want to render a transparent video.`);\n  }\n  return /* @__PURE__ */ jsx30(InnerOffthreadVideo, {\n    acceptableTimeShiftInSeconds,\n    allowAmplificationDuringRender: allowAmplificationDuringRender ?? true,\n    audioStreamIndex: audioStreamIndex ?? 0,\n    className,\n    crossOrigin,\n    delayRenderRetries,\n    delayRenderTimeoutInMilliseconds,\n    id,\n    loopVolumeCurveBehavior: loopVolumeCurveBehavior ?? \"repeat\",\n    muted: muted ?? false,\n    name,\n    onAutoPlayError: onAutoPlayError ?? null,\n    onError,\n    onVideoFrame,\n    pauseWhenBuffering: pauseWhenBuffering ?? true,\n    playbackRate: playbackRate ?? 1,\n    toneFrequency: toneFrequency ?? 1,\n    showInTimeline: showInTimeline ?? true,\n    src,\n    stack,\n    startFrom,\n    _remotionInternalNativeLoopPassed: _remotionInternalNativeLoopPassed ?? false,\n    endAt,\n    style,\n    toneMapped: toneMapped ?? true,\n    transparent: transparent ?? false,\n    trimAfter,\n    trimBefore,\n    useWebAudioApi: useWebAudioApi ?? false,\n    volume\n  });\n};\naddSequenceStackTraces(OffthreadVideo);\n\n// src/watch-static-file.ts\nvar WATCH_REMOTION_STATIC_FILES = \"remotion_staticFilesChanged\";\nvar watchStaticFile = (fileName, callback) => {\n  if (ENABLE_V5_BREAKING_CHANGES) {\n    throw new Error(\"watchStaticFile() has moved into the `@remotion/studio` package. Update your imports.\");\n  }\n  if (!getRemotionEnvironment().isStudio) {\n    console.warn(\"The watchStaticFile() API is only available while using the Remotion Studio.\");\n    return { cancel: () => {\n      return;\n    } };\n  }\n  const withoutStaticBase = fileName.startsWith(window.remotion_staticBase) ? fileName.replace(window.remotion_staticBase, \"\") : fileName;\n  const withoutLeadingSlash = withoutStaticBase.startsWith(\"/\") ? withoutStaticBase.slice(1) : withoutStaticBase;\n  let prevFileData = window.remotion_staticFiles.find((file) => file.name === withoutLeadingSlash);\n  const checkFile = (event) => {\n    const staticFiles = event.detail.files;\n    const newFileData = staticFiles.find((file) => file.name === withoutLeadingSlash);\n    if (!newFileData) {\n      if (prevFileData !== undefined) {\n        callback(null);\n      }\n      prevFileData = undefined;\n      return;\n    }\n    if (prevFileData === undefined || prevFileData.lastModified !== newFileData.lastModified) {\n      callback(newFileData);\n      prevFileData = newFileData;\n    }\n  };\n  window.addEventListener(WATCH_REMOTION_STATIC_FILES, checkFile);\n  const cancel = () => {\n    return window.removeEventListener(WATCH_REMOTION_STATIC_FILES, checkFile);\n  };\n  return { cancel };\n};\n\n// src/wrap-remotion-context.tsx\nimport React32, { useMemo as useMemo30 } from \"react\";\nimport { jsx as jsx31 } from \"react/jsx-runtime\";\nfunction useRemotionContexts() {\n  const compositionManagerCtx = React32.useContext(CompositionManager);\n  const timelineContext = React32.useContext(TimelineContext);\n  const setTimelineContext = React32.useContext(SetTimelineContext);\n  const sequenceContext = React32.useContext(SequenceContext);\n  const nonceContext = React32.useContext(NonceContext);\n  const canUseRemotionHooksContext = React32.useContext(CanUseRemotionHooks);\n  const preloadContext = React32.useContext(PreloadContext);\n  const resolveCompositionContext = React32.useContext(ResolveCompositionContext);\n  const renderAssetManagerContext = React32.useContext(RenderAssetManager);\n  const sequenceManagerContext = React32.useContext(SequenceManager);\n  const bufferManagerContext = React32.useContext(BufferingContextReact);\n  const logLevelContext = React32.useContext(LogLevelContext);\n  return useMemo30(() => ({\n    compositionManagerCtx,\n    timelineContext,\n    setTimelineContext,\n    sequenceContext,\n    nonceContext,\n    canUseRemotionHooksContext,\n    preloadContext,\n    resolveCompositionContext,\n    renderAssetManagerContext,\n    sequenceManagerContext,\n    bufferManagerContext,\n    logLevelContext\n  }), [\n    compositionManagerCtx,\n    nonceContext,\n    sequenceContext,\n    setTimelineContext,\n    timelineContext,\n    canUseRemotionHooksContext,\n    preloadContext,\n    resolveCompositionContext,\n    renderAssetManagerContext,\n    sequenceManagerContext,\n    bufferManagerContext,\n    logLevelContext\n  ]);\n}\nvar RemotionContextProvider = (props2) => {\n  const { children, contexts } = props2;\n  return /* @__PURE__ */ jsx31(LogLevelContext.Provider, {\n    value: contexts.logLevelContext,\n    children: /* @__PURE__ */ jsx31(CanUseRemotionHooks.Provider, {\n      value: contexts.canUseRemotionHooksContext,\n      children: /* @__PURE__ */ jsx31(NonceContext.Provider, {\n        value: contexts.nonceContext,\n        children: /* @__PURE__ */ jsx31(PreloadContext.Provider, {\n          value: contexts.preloadContext,\n          children: /* @__PURE__ */ jsx31(CompositionManager.Provider, {\n            value: contexts.compositionManagerCtx,\n            children: /* @__PURE__ */ jsx31(SequenceManager.Provider, {\n              value: contexts.sequenceManagerContext,\n              children: /* @__PURE__ */ jsx31(RenderAssetManager.Provider, {\n                value: contexts.renderAssetManagerContext,\n                children: /* @__PURE__ */ jsx31(ResolveCompositionContext.Provider, {\n                  value: contexts.resolveCompositionContext,\n                  children: /* @__PURE__ */ jsx31(TimelineContext.Provider, {\n                    value: contexts.timelineContext,\n                    children: /* @__PURE__ */ jsx31(SetTimelineContext.Provider, {\n                      value: contexts.setTimelineContext,\n                      children: /* @__PURE__ */ jsx31(SequenceContext.Provider, {\n                        value: contexts.sequenceContext,\n                        children: /* @__PURE__ */ jsx31(BufferingContextReact.Provider, {\n                          value: contexts.bufferManagerContext,\n                          children\n                        })\n                      })\n                    })\n                  })\n                })\n              })\n            })\n          })\n        })\n      })\n    })\n  });\n};\n\n// src/internals.ts\nvar compositionSelectorRef = createRef3();\nvar Internals = {\n  MaxMediaCacheSizeContext,\n  useUnsafeVideoConfig,\n  useFrameForVolumeProp,\n  useTimelinePosition,\n  evaluateVolume,\n  getAbsoluteSrc,\n  Timeline: exports_timeline_position_state,\n  validateMediaTrimProps,\n  validateMediaProps,\n  resolveTrimProps,\n  VideoForPreview,\n  CompositionManager,\n  CompositionSetters,\n  SequenceManager,\n  SequenceVisibilityToggleContext,\n  RemotionRootContexts,\n  CompositionManagerProvider,\n  useVideo,\n  getRoot,\n  useMediaVolumeState,\n  useMediaMutedState,\n  useMediaInTimeline,\n  useLazyComponent,\n  truthy,\n  SequenceContext,\n  useRemotionContexts,\n  RemotionContextProvider,\n  CSSUtils: exports_default_css,\n  setupEnvVariables,\n  MediaVolumeContext,\n  SetMediaVolumeContext,\n  getRemotionEnvironment,\n  SharedAudioContext,\n  SharedAudioContextProvider,\n  invalidCompositionErrorMessage,\n  calculateMediaDuration,\n  isCompositionIdValid,\n  getPreviewDomElement,\n  compositionsRef,\n  portalNode,\n  waitForRoot,\n  SetTimelineContext,\n  CanUseRemotionHooksProvider,\n  CanUseRemotionHooks,\n  PrefetchProvider,\n  DurationsContextProvider,\n  IsPlayerContextProvider,\n  useIsPlayer,\n  EditorPropsProvider,\n  EditorPropsContext,\n  usePreload,\n  NonceContext,\n  resolveVideoConfig,\n  resolveVideoConfigOrCatch,\n  ResolveCompositionContext,\n  useResolvedVideoConfig,\n  resolveCompositionsRef,\n  REMOTION_STUDIO_CONTAINER_ELEMENT,\n  RenderAssetManager,\n  persistCurrentFrame,\n  useTimelineSetFrame,\n  isIosSafari,\n  WATCH_REMOTION_STATIC_FILES,\n  addSequenceStackTraces,\n  useMediaStartsAt,\n  BufferingProvider,\n  BufferingContextReact,\n  enableSequenceStackTraces,\n  CurrentScaleContext,\n  PreviewSizeContext,\n  calculateScale,\n  editorPropsProviderRef,\n  PROPS_UPDATED_EXTERNALLY,\n  validateRenderAsset,\n  Log,\n  LogLevelContext,\n  useLogLevel,\n  playbackLogging,\n  timeValueRef,\n  compositionSelectorRef,\n  RemotionEnvironmentContext,\n  warnAboutTooHighVolume,\n  AudioForPreview,\n  OBJECTFIT_CONTAIN_CLASS_NAME,\n  InnerOffthreadVideo,\n  useBasicMediaInTimeline,\n  getInputPropsOverride,\n  setInputPropsOverride,\n  useVideoEnabled,\n  useAudioEnabled,\n  useIsPlayerBuffering,\n  TimelinePosition: exports_timeline_position_state,\n  DelayRenderContextType,\n  TimelineContext,\n  RenderAssetManagerProvider\n};\n// src/interpolate-colors.ts\nvar NUMBER = \"[-+]?\\\\d*\\\\.?\\\\d+\";\nvar PERCENTAGE = NUMBER + \"%\";\nfunction call(...args) {\n  return \"\\\\(\\\\s*(\" + args.join(\")\\\\s*,\\\\s*(\") + \")\\\\s*\\\\)\";\n}\nfunction getMatchers() {\n  const cachedMatchers = {\n    rgb: undefined,\n    rgba: undefined,\n    hsl: undefined,\n    hsla: undefined,\n    hex3: undefined,\n    hex4: undefined,\n    hex5: undefined,\n    hex6: undefined,\n    hex8: undefined\n  };\n  if (cachedMatchers.rgb === undefined) {\n    cachedMatchers.rgb = new RegExp(\"rgb\" + call(NUMBER, NUMBER, NUMBER));\n    cachedMatchers.rgba = new RegExp(\"rgba\" + call(NUMBER, NUMBER, NUMBER, NUMBER));\n    cachedMatchers.hsl = new RegExp(\"hsl\" + call(NUMBER, PERCENTAGE, PERCENTAGE));\n    cachedMatchers.hsla = new RegExp(\"hsla\" + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER));\n    cachedMatchers.hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\n    cachedMatchers.hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\n    cachedMatchers.hex6 = /^#([0-9a-fA-F]{6})$/;\n    cachedMatchers.hex8 = /^#([0-9a-fA-F]{8})$/;\n  }\n  return cachedMatchers;\n}\nfunction hue2rgb(p, q, t) {\n  if (t < 0) {\n    t += 1;\n  }\n  if (t > 1) {\n    t -= 1;\n  }\n  if (t < 1 / 6) {\n    return p + (q - p) * 6 * t;\n  }\n  if (t < 1 / 2) {\n    return q;\n  }\n  if (t < 2 / 3) {\n    return p + (q - p) * (2 / 3 - t) * 6;\n  }\n  return p;\n}\nfunction hslToRgb(h, s, l) {\n  const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  const p = 2 * l - q;\n  const r = hue2rgb(p, q, h + 1 / 3);\n  const g = hue2rgb(p, q, h);\n  const b2 = hue2rgb(p, q, h - 1 / 3);\n  return Math.round(r * 255) << 24 | Math.round(g * 255) << 16 | Math.round(b2 * 255) << 8;\n}\nfunction parse255(str) {\n  const int = Number.parseInt(str, 10);\n  if (int < 0) {\n    return 0;\n  }\n  if (int > 255) {\n    return 255;\n  }\n  return int;\n}\nfunction parse360(str) {\n  const int = Number.parseFloat(str);\n  return (int % 360 + 360) % 360 / 360;\n}\nfunction parse1(str) {\n  const num = Number.parseFloat(str);\n  if (num < 0) {\n    return 0;\n  }\n  if (num > 1) {\n    return 255;\n  }\n  return Math.round(num * 255);\n}\nfunction parsePercentage(str) {\n  const int = Number.parseFloat(str);\n  if (int < 0) {\n    return 0;\n  }\n  if (int > 100) {\n    return 1;\n  }\n  return int / 100;\n}\nvar colorNames = {\n  transparent: 0,\n  aliceblue: 4042850303,\n  antiquewhite: 4209760255,\n  aqua: 16777215,\n  aquamarine: 2147472639,\n  azure: 4043309055,\n  beige: 4126530815,\n  bisque: 4293182719,\n  black: 255,\n  blanchedalmond: 4293643775,\n  blue: 65535,\n  blueviolet: 2318131967,\n  brown: 2771004159,\n  burlywood: 3736635391,\n  burntsienna: 3934150143,\n  cadetblue: 1604231423,\n  chartreuse: 2147418367,\n  chocolate: 3530104575,\n  coral: 4286533887,\n  cornflowerblue: 1687547391,\n  cornsilk: 4294499583,\n  crimson: 3692313855,\n  cyan: 16777215,\n  darkblue: 35839,\n  darkcyan: 9145343,\n  darkgoldenrod: 3095792639,\n  darkgray: 2846468607,\n  darkgreen: 6553855,\n  darkgrey: 2846468607,\n  darkkhaki: 3182914559,\n  darkmagenta: 2332068863,\n  darkolivegreen: 1433087999,\n  darkorange: 4287365375,\n  darkorchid: 2570243327,\n  darkred: 2332033279,\n  darksalmon: 3918953215,\n  darkseagreen: 2411499519,\n  darkslateblue: 1211993087,\n  darkslategray: 793726975,\n  darkslategrey: 793726975,\n  darkturquoise: 13554175,\n  darkviolet: 2483082239,\n  deeppink: 4279538687,\n  deepskyblue: 12582911,\n  dimgray: 1768516095,\n  dimgrey: 1768516095,\n  dodgerblue: 512819199,\n  firebrick: 2988581631,\n  floralwhite: 4294635775,\n  forestgreen: 579543807,\n  fuchsia: 4278255615,\n  gainsboro: 3705462015,\n  ghostwhite: 4177068031,\n  gold: 4292280575,\n  goldenrod: 3668254975,\n  gray: 2155905279,\n  green: 8388863,\n  greenyellow: 2919182335,\n  grey: 2155905279,\n  honeydew: 4043305215,\n  hotpink: 4285117695,\n  indianred: 3445382399,\n  indigo: 1258324735,\n  ivory: 4294963455,\n  khaki: 4041641215,\n  lavender: 3873897215,\n  lavenderblush: 4293981695,\n  lawngreen: 2096890111,\n  lemonchiffon: 4294626815,\n  lightblue: 2916673279,\n  lightcoral: 4034953471,\n  lightcyan: 3774873599,\n  lightgoldenrodyellow: 4210742015,\n  lightgray: 3553874943,\n  lightgreen: 2431553791,\n  lightgrey: 3553874943,\n  lightpink: 4290167295,\n  lightsalmon: 4288707327,\n  lightseagreen: 548580095,\n  lightskyblue: 2278488831,\n  lightslategray: 2005441023,\n  lightslategrey: 2005441023,\n  lightsteelblue: 2965692159,\n  lightyellow: 4294959359,\n  lime: 16711935,\n  limegreen: 852308735,\n  linen: 4210091775,\n  magenta: 4278255615,\n  maroon: 2147483903,\n  mediumaquamarine: 1724754687,\n  mediumblue: 52735,\n  mediumorchid: 3126187007,\n  mediumpurple: 2473647103,\n  mediumseagreen: 1018393087,\n  mediumslateblue: 2070474495,\n  mediumspringgreen: 16423679,\n  mediumturquoise: 1221709055,\n  mediumvioletred: 3340076543,\n  midnightblue: 421097727,\n  mintcream: 4127193855,\n  mistyrose: 4293190143,\n  moccasin: 4293178879,\n  navajowhite: 4292783615,\n  navy: 33023,\n  oldlace: 4260751103,\n  olive: 2155872511,\n  olivedrab: 1804477439,\n  orange: 4289003775,\n  orangered: 4282712319,\n  orchid: 3664828159,\n  palegoldenrod: 4008225535,\n  palegreen: 2566625535,\n  paleturquoise: 2951671551,\n  palevioletred: 3681588223,\n  papayawhip: 4293907967,\n  peachpuff: 4292524543,\n  peru: 3448061951,\n  pink: 4290825215,\n  plum: 3718307327,\n  powderblue: 2967529215,\n  purple: 2147516671,\n  rebeccapurple: 1714657791,\n  red: 4278190335,\n  rosybrown: 3163525119,\n  royalblue: 1097458175,\n  saddlebrown: 2336560127,\n  salmon: 4202722047,\n  sandybrown: 4104413439,\n  seagreen: 780883967,\n  seashell: 4294307583,\n  sienna: 2689740287,\n  silver: 3233857791,\n  skyblue: 2278484991,\n  slateblue: 1784335871,\n  slategray: 1887473919,\n  slategrey: 1887473919,\n  snow: 4294638335,\n  springgreen: 16744447,\n  steelblue: 1182971135,\n  tan: 3535047935,\n  teal: 8421631,\n  thistle: 3636451583,\n  tomato: 4284696575,\n  turquoise: 1088475391,\n  violet: 4001558271,\n  wheat: 4125012991,\n  white: 4294967295,\n  whitesmoke: 4126537215,\n  yellow: 4294902015,\n  yellowgreen: 2597139199\n};\nfunction normalizeColor(color) {\n  const matchers = getMatchers();\n  let match;\n  if (matchers.hex6) {\n    if (match = matchers.hex6.exec(color)) {\n      return Number.parseInt(match[1] + \"ff\", 16) >>> 0;\n    }\n  }\n  if (colorNames[color] !== undefined) {\n    return colorNames[color];\n  }\n  if (matchers.rgb) {\n    if (match = matchers.rgb.exec(color)) {\n      return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | 255) >>> 0;\n    }\n  }\n  if (matchers.rgba) {\n    if (match = matchers.rgba.exec(color)) {\n      return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | parse1(match[4])) >>> 0;\n    }\n  }\n  if (matchers.hex3) {\n    if (match = matchers.hex3.exec(color)) {\n      return Number.parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + \"ff\", 16) >>> 0;\n    }\n  }\n  if (matchers.hex8) {\n    if (match = matchers.hex8.exec(color)) {\n      return Number.parseInt(match[1], 16) >>> 0;\n    }\n  }\n  if (matchers.hex4) {\n    if (match = matchers.hex4.exec(color)) {\n      return Number.parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + match[4] + match[4], 16) >>> 0;\n    }\n  }\n  if (matchers.hsl) {\n    if (match = matchers.hsl.exec(color)) {\n      return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | 255) >>> 0;\n    }\n  }\n  if (matchers.hsla) {\n    if (match = matchers.hsla.exec(color)) {\n      return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | parse1(match[4])) >>> 0;\n    }\n  }\n  throw new Error(`invalid color string ${color} provided`);\n}\nvar opacity = (c2) => {\n  return (c2 >> 24 & 255) / 255;\n};\nvar red = (c2) => {\n  return c2 >> 16 & 255;\n};\nvar green = (c2) => {\n  return c2 >> 8 & 255;\n};\nvar blue = (c2) => {\n  return c2 & 255;\n};\nvar rgbaColor = (r, g, b2, alpha) => {\n  return `rgba(${r}, ${g}, ${b2}, ${alpha})`;\n};\nfunction processColor(color) {\n  const normalizedColor = normalizeColor(color);\n  return (normalizedColor << 24 | normalizedColor >>> 8) >>> 0;\n}\nvar interpolateColorsRGB = (value, inputRange, colors) => {\n  const [r, g, b2, a2] = [red, green, blue, opacity].map((f) => {\n    const unrounded = interpolate(value, inputRange, colors.map((c2) => f(c2)), {\n      extrapolateLeft: \"clamp\",\n      extrapolateRight: \"clamp\"\n    });\n    if (f === opacity) {\n      return Number(unrounded.toFixed(3));\n    }\n    return Math.round(unrounded);\n  });\n  return rgbaColor(r, g, b2, a2);\n};\nvar interpolateColors = (input, inputRange, outputRange) => {\n  if (typeof input === \"undefined\") {\n    throw new TypeError(\"input can not be undefined\");\n  }\n  if (typeof inputRange === \"undefined\") {\n    throw new TypeError(\"inputRange can not be undefined\");\n  }\n  if (typeof outputRange === \"undefined\") {\n    throw new TypeError(\"outputRange can not be undefined\");\n  }\n  if (inputRange.length !== outputRange.length) {\n    throw new TypeError(\"inputRange (\" + inputRange.length + \" values provided) and outputRange (\" + outputRange.length + \" values provided) must have the same length\");\n  }\n  const processedOutputRange = outputRange.map((c2) => processColor(c2));\n  return interpolateColorsRGB(input, inputRange, processedOutputRange);\n};\n// src/validate-frame.ts\nvar validateFrame = ({\n  allowFloats,\n  durationInFrames,\n  frame\n}) => {\n  if (typeof frame === \"undefined\") {\n    throw new TypeError(`Argument missing for parameter \"frame\"`);\n  }\n  if (typeof frame !== \"number\") {\n    throw new TypeError(`Argument passed for \"frame\" is not a number: ${frame}`);\n  }\n  if (!Number.isFinite(frame)) {\n    throw new RangeError(`Frame ${frame} is not finite`);\n  }\n  if (frame % 1 !== 0 && !allowFloats) {\n    throw new RangeError(`Argument for frame must be an integer, but got ${frame}`);\n  }\n  if (frame < 0 && frame < -durationInFrames) {\n    throw new RangeError(`Cannot use frame ${frame}: Duration of composition is ${durationInFrames}, therefore the lowest frame that can be rendered is ${-durationInFrames}`);\n  }\n  if (frame > durationInFrames - 1) {\n    throw new RangeError(`Cannot use frame ${frame}: Duration of composition is ${durationInFrames}, therefore the highest frame that can be rendered is ${durationInFrames - 1}`);\n  }\n};\n// src/series/index.tsx\nimport { Children, forwardRef as forwardRef10, useMemo as useMemo31 } from \"react\";\n\n// src/series/flatten-children.tsx\nimport React33 from \"react\";\nvar flattenChildren = (children) => {\n  const childrenArray = React33.Children.toArray(children);\n  return childrenArray.reduce((flatChildren, child) => {\n    if (child.type === React33.Fragment) {\n      return flatChildren.concat(flattenChildren(child.props.children));\n    }\n    flatChildren.push(child);\n    return flatChildren;\n  }, []);\n};\n\n// src/series/is-inside-series.tsx\nimport React34, { createContext as createContext21 } from \"react\";\nimport { jsx as jsx32 } from \"react/jsx-runtime\";\nvar IsInsideSeriesContext = createContext21(false);\nvar IsInsideSeriesContainer = ({ children }) => {\n  return /* @__PURE__ */ jsx32(IsInsideSeriesContext.Provider, {\n    value: true,\n    children\n  });\n};\nvar IsNotInsideSeriesProvider = ({ children }) => {\n  return /* @__PURE__ */ jsx32(IsInsideSeriesContext.Provider, {\n    value: false,\n    children\n  });\n};\nvar useRequireToBeInsideSeries = () => {\n  const isInsideSeries = React34.useContext(IsInsideSeriesContext);\n  if (!isInsideSeries) {\n    throw new Error(\"This component must be inside a <Series /> component.\");\n  }\n};\n\n// src/series/index.tsx\nimport { jsx as jsx33 } from \"react/jsx-runtime\";\nvar SeriesSequenceRefForwardingFunction = ({ children }, _ref) => {\n  useRequireToBeInsideSeries();\n  return /* @__PURE__ */ jsx33(IsNotInsideSeriesProvider, {\n    children\n  });\n};\nvar SeriesSequence = forwardRef10(SeriesSequenceRefForwardingFunction);\nvar Series = (props2) => {\n  const childrenValue = useMemo31(() => {\n    let startFrame = 0;\n    const flattenedChildren = flattenChildren(props2.children);\n    return Children.map(flattenedChildren, (child, i) => {\n      const castedChild = child;\n      if (typeof castedChild === \"string\") {\n        if (castedChild.trim() === \"\") {\n          return null;\n        }\n        throw new TypeError(`The <Series /> component only accepts a list of <Series.Sequence /> components as its children, but you passed a string \"${castedChild}\"`);\n      }\n      if (castedChild.type !== SeriesSequence) {\n        throw new TypeError(`The <Series /> component only accepts a list of <Series.Sequence /> components as its children, but got ${castedChild} instead`);\n      }\n      const debugInfo = `index = ${i}, duration = ${castedChild.props.durationInFrames}`;\n      if (!castedChild?.props.children) {\n        throw new TypeError(`A <Series.Sequence /> component (${debugInfo}) was detected to not have any children. Delete it to fix this error.`);\n      }\n      const durationInFramesProp = castedChild.props.durationInFrames;\n      const {\n        durationInFrames,\n        children: _children,\n        from,\n        name,\n        ...passedProps\n      } = castedChild.props;\n      if (i !== flattenedChildren.length - 1 || durationInFramesProp !== Infinity) {\n        validateDurationInFrames(durationInFramesProp, {\n          component: `of a <Series.Sequence /> component`,\n          allowFloats: true\n        });\n      }\n      const offset = castedChild.props.offset ?? 0;\n      if (Number.isNaN(offset)) {\n        throw new TypeError(`The \"offset\" property of a <Series.Sequence /> must not be NaN, but got NaN (${debugInfo}).`);\n      }\n      if (!Number.isFinite(offset)) {\n        throw new TypeError(`The \"offset\" property of a <Series.Sequence /> must be finite, but got ${offset} (${debugInfo}).`);\n      }\n      if (offset % 1 !== 0) {\n        throw new TypeError(`The \"offset\" property of a <Series.Sequence /> must be finite, but got ${offset} (${debugInfo}).`);\n      }\n      const currentStartFrame = startFrame + offset;\n      startFrame += durationInFramesProp + offset;\n      return /* @__PURE__ */ jsx33(Sequence, {\n        name: name || \"<Series.Sequence>\",\n        from: currentStartFrame,\n        durationInFrames: durationInFramesProp,\n        ...passedProps,\n        ref: castedChild.ref,\n        children: child\n      });\n    });\n  }, [props2.children]);\n  if (ENABLE_V5_BREAKING_CHANGES) {\n    return /* @__PURE__ */ jsx33(IsInsideSeriesContainer, {\n      children: /* @__PURE__ */ jsx33(Sequence, {\n        ...props2,\n        children: childrenValue\n      })\n    });\n  }\n  return /* @__PURE__ */ jsx33(IsInsideSeriesContainer, {\n    children: childrenValue\n  });\n};\nSeries.Sequence = SeriesSequence;\naddSequenceStackTraces(SeriesSequence);\n// src/validation/validation-spring-duration.ts\nvar validateSpringDuration = (dur) => {\n  if (typeof dur === \"undefined\") {\n    return;\n  }\n  if (typeof dur !== \"number\") {\n    throw new TypeError(`A \"duration\" of a spring must be a \"number\" but is \"${typeof dur}\"`);\n  }\n  if (Number.isNaN(dur)) {\n    throw new TypeError('A \"duration\" of a spring is NaN, which it must not be');\n  }\n  if (!Number.isFinite(dur)) {\n    throw new TypeError('A \"duration\" of a spring must be finite, but is ' + dur);\n  }\n  if (dur <= 0) {\n    throw new TypeError('A \"duration\" of a spring must be positive, but is ' + dur);\n  }\n};\n\n// src/spring/spring-utils.ts\nvar defaultSpringConfig = {\n  damping: 10,\n  mass: 1,\n  stiffness: 100,\n  overshootClamping: false\n};\nvar advanceCache = {};\nfunction advance({\n  animation,\n  now,\n  config\n}) {\n  const { toValue, lastTimestamp, current, velocity } = animation;\n  const deltaTime = Math.min(now - lastTimestamp, 64);\n  if (config.damping <= 0) {\n    throw new Error(\"Spring damping must be greater than 0, otherwise the spring() animation will never end, causing an infinite loop.\");\n  }\n  const c2 = config.damping;\n  const m = config.mass;\n  const k = config.stiffness;\n  const cacheKey = [\n    toValue,\n    lastTimestamp,\n    current,\n    velocity,\n    c2,\n    m,\n    k,\n    now\n  ].join(\"-\");\n  if (advanceCache[cacheKey]) {\n    return advanceCache[cacheKey];\n  }\n  const v0 = -velocity;\n  const x0 = toValue - current;\n  const zeta = c2 / (2 * Math.sqrt(k * m));\n  const omega0 = Math.sqrt(k / m);\n  const omega1 = omega0 * Math.sqrt(1 - zeta ** 2);\n  const t = deltaTime / 1000;\n  const sin1 = Math.sin(omega1 * t);\n  const cos1 = Math.cos(omega1 * t);\n  const underDampedEnvelope = Math.exp(-zeta * omega0 * t);\n  const underDampedFrag1 = underDampedEnvelope * (sin1 * ((v0 + zeta * omega0 * x0) / omega1) + x0 * cos1);\n  const underDampedPosition = toValue - underDampedFrag1;\n  const underDampedVelocity = zeta * omega0 * underDampedFrag1 - underDampedEnvelope * (cos1 * (v0 + zeta * omega0 * x0) - omega1 * x0 * sin1);\n  const criticallyDampedEnvelope = Math.exp(-omega0 * t);\n  const criticallyDampedPosition = toValue - criticallyDampedEnvelope * (x0 + (v0 + omega0 * x0) * t);\n  const criticallyDampedVelocity = criticallyDampedEnvelope * (v0 * (t * omega0 - 1) + t * x0 * omega0 * omega0);\n  const animationNode = {\n    toValue,\n    prevPosition: current,\n    lastTimestamp: now,\n    current: zeta < 1 ? underDampedPosition : criticallyDampedPosition,\n    velocity: zeta < 1 ? underDampedVelocity : criticallyDampedVelocity\n  };\n  advanceCache[cacheKey] = animationNode;\n  return animationNode;\n}\nvar calculationCache = {};\nfunction springCalculation({\n  frame,\n  fps,\n  config = {}\n}) {\n  const from = 0;\n  const to = 1;\n  const cacheKey = [\n    frame,\n    fps,\n    config.damping,\n    config.mass,\n    config.overshootClamping,\n    config.stiffness\n  ].join(\"-\");\n  if (calculationCache[cacheKey]) {\n    return calculationCache[cacheKey];\n  }\n  let animation = {\n    lastTimestamp: 0,\n    current: from,\n    toValue: to,\n    velocity: 0,\n    prevPosition: 0\n  };\n  const frameClamped = Math.max(0, frame);\n  const unevenRest = frameClamped % 1;\n  for (let f = 0;f <= Math.floor(frameClamped); f++) {\n    if (f === Math.floor(frameClamped)) {\n      f += unevenRest;\n    }\n    const time = f / fps * 1000;\n    animation = advance({\n      animation,\n      now: time,\n      config: {\n        ...defaultSpringConfig,\n        ...config\n      }\n    });\n  }\n  calculationCache[cacheKey] = animation;\n  return animation;\n}\n\n// src/spring/measure-spring.ts\nvar cache = new Map;\nfunction measureSpring({\n  fps,\n  config = {},\n  threshold = 0.005\n}) {\n  if (typeof threshold !== \"number\") {\n    throw new TypeError(`threshold must be a number, got ${threshold} of type ${typeof threshold}`);\n  }\n  if (threshold === 0) {\n    return Infinity;\n  }\n  if (threshold === 1) {\n    return 0;\n  }\n  if (isNaN(threshold)) {\n    throw new TypeError(\"Threshold is NaN\");\n  }\n  if (!Number.isFinite(threshold)) {\n    throw new TypeError(\"Threshold is not finite\");\n  }\n  if (threshold < 0) {\n    throw new TypeError(\"Threshold is below 0\");\n  }\n  const cacheKey = [\n    fps,\n    config.damping,\n    config.mass,\n    config.overshootClamping,\n    config.stiffness,\n    threshold\n  ].join(\"-\");\n  if (cache.has(cacheKey)) {\n    return cache.get(cacheKey);\n  }\n  validateFps(fps, \"to the measureSpring() function\", false);\n  let frame = 0;\n  let finishedFrame = 0;\n  const calc = () => {\n    return springCalculation({\n      fps,\n      frame,\n      config\n    });\n  };\n  let animation = calc();\n  const calcDifference = () => {\n    return Math.abs(animation.current - animation.toValue);\n  };\n  let difference = calcDifference();\n  while (difference >= threshold) {\n    frame++;\n    animation = calc();\n    difference = calcDifference();\n  }\n  finishedFrame = frame;\n  for (let i = 0;i < 20; i++) {\n    frame++;\n    animation = calc();\n    difference = calcDifference();\n    if (difference >= threshold) {\n      i = 0;\n      finishedFrame = frame + 1;\n    }\n  }\n  cache.set(cacheKey, finishedFrame);\n  return finishedFrame;\n}\n\n// src/spring/index.ts\nfunction spring({\n  frame: passedFrame,\n  fps,\n  config = {},\n  from = 0,\n  to = 1,\n  durationInFrames: passedDurationInFrames,\n  durationRestThreshold,\n  delay = 0,\n  reverse = false\n}) {\n  validateSpringDuration(passedDurationInFrames);\n  validateFrame({\n    frame: passedFrame,\n    durationInFrames: Infinity,\n    allowFloats: true\n  });\n  validateFps(fps, \"to spring()\", false);\n  const needsToCalculateNaturalDuration = reverse || typeof passedDurationInFrames !== \"undefined\";\n  const naturalDuration = needsToCalculateNaturalDuration ? measureSpring({\n    fps,\n    config,\n    threshold: durationRestThreshold\n  }) : undefined;\n  const naturalDurationGetter = needsToCalculateNaturalDuration ? {\n    get: () => naturalDuration\n  } : {\n    get: () => {\n      throw new Error(\"did not calculate natural duration, this is an error with Remotion. Please report\");\n    }\n  };\n  const reverseProcessed = reverse ? (passedDurationInFrames ?? naturalDurationGetter.get()) - passedFrame : passedFrame;\n  const delayProcessed = reverseProcessed + (reverse ? delay : -delay);\n  const durationProcessed = passedDurationInFrames === undefined ? delayProcessed : delayProcessed / (passedDurationInFrames / naturalDurationGetter.get());\n  if (passedDurationInFrames && delayProcessed > passedDurationInFrames) {\n    return to;\n  }\n  const spr = springCalculation({\n    fps,\n    frame: durationProcessed,\n    config\n  });\n  const inner = config.overshootClamping ? to >= from ? Math.min(spr.current, to) : Math.max(spr.current, to) : spr.current;\n  const interpolated = from === 0 && to === 1 ? inner : interpolate(inner, [0, 1], [from, to]);\n  return interpolated;\n}\n// src/static-file.ts\nvar problematicCharacters = {\n  \"%3A\": \":\",\n  \"%2F\": \"/\",\n  \"%3F\": \"?\",\n  \"%23\": \"#\",\n  \"%5B\": \"[\",\n  \"%5D\": \"]\",\n  \"%40\": \"@\",\n  \"%21\": \"!\",\n  \"%24\": \"$\",\n  \"%26\": \"&\",\n  \"%27\": \"'\",\n  \"%28\": \"(\",\n  \"%29\": \")\",\n  \"%2A\": \"*\",\n  \"%2B\": \"+\",\n  \"%2C\": \",\",\n  \"%3B\": \";\"\n};\nvar didWarn2 = {};\nvar warnOnce3 = (message) => {\n  if (didWarn2[message]) {\n    return;\n  }\n  console.warn(message);\n  didWarn2[message] = true;\n};\nvar includesHexOfUnsafeChar = (path) => {\n  for (const key of Object.keys(problematicCharacters)) {\n    if (path.includes(key)) {\n      return { containsHex: true, hexCode: key };\n    }\n  }\n  return { containsHex: false };\n};\nvar trimLeadingSlash = (path) => {\n  if (path.startsWith(\"/\")) {\n    return trimLeadingSlash(path.substring(1));\n  }\n  return path;\n};\nvar inner = (path) => {\n  if (typeof window !== \"undefined\" && window.remotion_staticBase) {\n    if (path.startsWith(window.remotion_staticBase)) {\n      throw new Error(`The value \"${path}\" is already prefixed with the static base ${window.remotion_staticBase}. You don't need to call staticFile() on it.`);\n    }\n    return `${window.remotion_staticBase}/${trimLeadingSlash(path)}`;\n  }\n  return `/${trimLeadingSlash(path)}`;\n};\nvar encodeBySplitting = (path) => {\n  const splitBySlash = path.split(\"/\");\n  const encodedArray = splitBySlash.map((element) => {\n    return encodeURIComponent(element);\n  });\n  const merged = encodedArray.join(\"/\");\n  return merged;\n};\nvar staticFile = (path) => {\n  if (path === null) {\n    throw new TypeError(\"null was passed to staticFile()\");\n  }\n  if (typeof path === \"undefined\") {\n    throw new TypeError(\"undefined was passed to staticFile()\");\n  }\n  if (path.startsWith(\"http://\") || path.startsWith(\"https://\")) {\n    throw new TypeError(`staticFile() does not support remote URLs - got \"${path}\". Instead, pass the URL without wrapping it in staticFile(). See: https://remotion.dev/docs/staticfile-remote-urls`);\n  }\n  if (path.startsWith(\"..\") || path.startsWith(\"./\")) {\n    throw new TypeError(`staticFile() does not support relative paths - got \"${path}\". Instead, pass the name of a file that is inside the public/ folder. See: https://remotion.dev/docs/staticfile-relative-paths`);\n  }\n  if (path.startsWith(\"/Users\") || path.startsWith(\"/home\") || path.startsWith(\"/tmp\") || path.startsWith(\"/etc\") || path.startsWith(\"/opt\") || path.startsWith(\"/var\") || path.startsWith(\"C:\") || path.startsWith(\"D:\") || path.startsWith(\"E:\")) {\n    throw new TypeError(`staticFile() does not support absolute paths - got \"${path}\". Instead, pass the name of a file that is inside the public/ folder. See: https://remotion.dev/docs/staticfile-relative-paths`);\n  }\n  if (path.startsWith(\"public/\")) {\n    throw new TypeError(`Do not include the public/ prefix when using staticFile() - got \"${path}\". See: https://remotion.dev/docs/staticfile-relative-paths`);\n  }\n  const includesHex = includesHexOfUnsafeChar(path);\n  if (includesHex.containsHex) {\n    warnOnce3(`WARNING: You seem to pass an already encoded path (path contains ${includesHex.hexCode}). Since Remotion 4.0, the encoding is done by staticFile() itself. You may want to remove a encodeURIComponent() wrapping.`);\n  }\n  const preprocessed = encodeBySplitting(path);\n  const preparsed = inner(preprocessed);\n  if (!preparsed.startsWith(\"/\")) {\n    return `/${preparsed}`;\n  }\n  return preparsed;\n};\n// src/Still.tsx\nimport React36 from \"react\";\nvar Still = (props2) => {\n  const newProps = {\n    ...props2,\n    durationInFrames: 1,\n    fps: 1\n  };\n  return React36.createElement(Composition, newProps);\n};\n// src/video/Video.tsx\nimport { forwardRef as forwardRef12, useCallback as useCallback16, useContext as useContext35 } from \"react\";\n\n// src/video/VideoForRendering.tsx\nimport {\n  forwardRef as forwardRef11,\n  useContext as useContext34,\n  useEffect as useEffect18,\n  useImperativeHandle as useImperativeHandle10,\n  useLayoutEffect as useLayoutEffect11,\n  useMemo as useMemo32,\n  useRef as useRef18\n} from \"react\";\n\n// src/video/seek-until-right.ts\nvar roundTo6Commas = (num) => {\n  return Math.round(num * 1e5) / 1e5;\n};\nvar seekToTime = ({\n  element,\n  desiredTime,\n  logLevel,\n  mountTime\n}) => {\n  if (isApproximatelyTheSame(element.currentTime, desiredTime)) {\n    return {\n      wait: Promise.resolve(desiredTime),\n      cancel: () => {}\n    };\n  }\n  seek({\n    logLevel,\n    mediaRef: element,\n    time: desiredTime,\n    why: \"Seeking during rendering\",\n    mountTime\n  });\n  let cancel;\n  let cancelSeeked = null;\n  const prom = new Promise((resolve) => {\n    cancel = element.requestVideoFrameCallback((now, metadata) => {\n      const displayIn = metadata.expectedDisplayTime - now;\n      if (displayIn <= 0) {\n        resolve(metadata.mediaTime);\n        return;\n      }\n      setTimeout(() => {\n        resolve(metadata.mediaTime);\n      }, displayIn + 150);\n    });\n  });\n  const waitForSeekedEvent = new Promise((resolve) => {\n    const onDone = () => {\n      resolve();\n    };\n    element.addEventListener(\"seeked\", onDone, {\n      once: true\n    });\n    cancelSeeked = () => {\n      element.removeEventListener(\"seeked\", onDone);\n    };\n  });\n  return {\n    wait: Promise.all([prom, waitForSeekedEvent]).then(([time]) => time),\n    cancel: () => {\n      cancelSeeked?.();\n      element.cancelVideoFrameCallback(cancel);\n    }\n  };\n};\nvar seekToTimeMultipleUntilRight = ({\n  element,\n  desiredTime,\n  fps,\n  logLevel,\n  mountTime\n}) => {\n  const threshold = 1 / fps / 2;\n  let currentCancel = () => {\n    return;\n  };\n  if (Number.isFinite(element.duration) && element.currentTime >= element.duration && desiredTime >= element.duration) {\n    return {\n      prom: Promise.resolve(),\n      cancel: () => {}\n    };\n  }\n  const prom = new Promise((resolve, reject) => {\n    const firstSeek = seekToTime({\n      element,\n      desiredTime: desiredTime + threshold,\n      logLevel,\n      mountTime\n    });\n    firstSeek.wait.then((seekedTo) => {\n      const difference = Math.abs(desiredTime - seekedTo);\n      if (difference <= threshold) {\n        return resolve();\n      }\n      const sign = desiredTime > seekedTo ? 1 : -1;\n      const newSeek = seekToTime({\n        element,\n        desiredTime: seekedTo + threshold * sign,\n        logLevel,\n        mountTime\n      });\n      currentCancel = newSeek.cancel;\n      newSeek.wait.then((newTime) => {\n        const newDifference = Math.abs(desiredTime - newTime);\n        if (roundTo6Commas(newDifference) <= roundTo6Commas(threshold)) {\n          return resolve();\n        }\n        const thirdSeek = seekToTime({\n          element,\n          desiredTime: desiredTime + threshold,\n          logLevel,\n          mountTime\n        });\n        currentCancel = thirdSeek.cancel;\n        return thirdSeek.wait.then(() => {\n          resolve();\n        }).catch((err) => {\n          reject(err);\n        });\n      }).catch((err) => {\n        reject(err);\n      });\n    });\n    currentCancel = firstSeek.cancel;\n  });\n  return {\n    prom,\n    cancel: () => {\n      currentCancel();\n    }\n  };\n};\n\n// src/video/VideoForRendering.tsx\nimport { jsx as jsx34 } from \"react/jsx-runtime\";\nvar VideoForRenderingForwardFunction = ({\n  onError,\n  volume: volumeProp,\n  allowAmplificationDuringRender,\n  playbackRate,\n  onDuration,\n  toneFrequency,\n  name,\n  acceptableTimeShiftInSeconds,\n  delayRenderRetries,\n  delayRenderTimeoutInMilliseconds,\n  loopVolumeCurveBehavior,\n  audioStreamIndex,\n  onVideoFrame,\n  ...props2\n}, ref) => {\n  const absoluteFrame = useTimelinePosition();\n  const frame = useCurrentFrame();\n  const volumePropsFrame = useFrameForVolumeProp(loopVolumeCurveBehavior ?? \"repeat\");\n  const videoConfig = useUnsafeVideoConfig();\n  const videoRef = useRef18(null);\n  const sequenceContext = useContext34(SequenceContext);\n  const mediaStartsAt = useMediaStartsAt();\n  const environment = useRemotionEnvironment();\n  const logLevel = useLogLevel();\n  const mountTime = useMountTime();\n  const { delayRender: delayRender2, continueRender: continueRender2 } = useDelayRender();\n  const { registerRenderAsset, unregisterRenderAsset } = useContext34(RenderAssetManager);\n  const id = useMemo32(() => `video-${random(props2.src ?? \"\")}-${sequenceContext?.cumulatedFrom}-${sequenceContext?.relativeFrom}-${sequenceContext?.durationInFrames}`, [\n    props2.src,\n    sequenceContext?.cumulatedFrom,\n    sequenceContext?.relativeFrom,\n    sequenceContext?.durationInFrames\n  ]);\n  if (!videoConfig) {\n    throw new Error(\"No video config found\");\n  }\n  const volume = evaluateVolume({\n    volume: volumeProp,\n    frame: volumePropsFrame,\n    mediaVolume: 1\n  });\n  warnAboutTooHighVolume(volume);\n  useEffect18(() => {\n    if (!props2.src) {\n      throw new Error(\"No src passed\");\n    }\n    if (props2.muted) {\n      return;\n    }\n    if (volume <= 0) {\n      return;\n    }\n    if (!window.remotion_audioEnabled) {\n      return;\n    }\n    registerRenderAsset({\n      type: \"video\",\n      src: getAbsoluteSrc(props2.src),\n      id,\n      frame: absoluteFrame,\n      volume,\n      mediaFrame: frame,\n      playbackRate: playbackRate ?? 1,\n      toneFrequency: toneFrequency ?? 1,\n      audioStartFrame: Math.max(0, -(sequenceContext?.relativeFrom ?? 0)),\n      audioStreamIndex: audioStreamIndex ?? 0\n    });\n    return () => unregisterRenderAsset(id);\n  }, [\n    props2.muted,\n    props2.src,\n    registerRenderAsset,\n    id,\n    unregisterRenderAsset,\n    volume,\n    frame,\n    absoluteFrame,\n    playbackRate,\n    toneFrequency,\n    sequenceContext?.relativeFrom,\n    audioStreamIndex\n  ]);\n  useImperativeHandle10(ref, () => {\n    return videoRef.current;\n  }, []);\n  useEffect18(() => {\n    if (!window.remotion_videoEnabled) {\n      return;\n    }\n    const { current } = videoRef;\n    if (!current) {\n      return;\n    }\n    const currentTime = getMediaTime({\n      frame,\n      playbackRate: playbackRate || 1,\n      startFrom: -mediaStartsAt,\n      fps: videoConfig.fps\n    });\n    const handle = delayRender2(`Rendering <Html5Video /> with src=\"${props2.src}\" at time ${currentTime}`, {\n      retries: delayRenderRetries ?? undefined,\n      timeoutInMilliseconds: delayRenderTimeoutInMilliseconds ?? undefined\n    });\n    if (window.process?.env?.NODE_ENV === \"test\") {\n      continueRender2(handle);\n      return;\n    }\n    if (isApproximatelyTheSame(current.currentTime, currentTime)) {\n      if (current.readyState >= 2) {\n        continueRender2(handle);\n        return;\n      }\n      const loadedDataHandler = () => {\n        continueRender2(handle);\n      };\n      current.addEventListener(\"loadeddata\", loadedDataHandler, { once: true });\n      return () => {\n        current.removeEventListener(\"loadeddata\", loadedDataHandler);\n      };\n    }\n    const endedHandler = () => {\n      continueRender2(handle);\n    };\n    const seek2 = seekToTimeMultipleUntilRight({\n      element: current,\n      desiredTime: currentTime,\n      fps: videoConfig.fps,\n      logLevel,\n      mountTime\n    });\n    seek2.prom.then(() => {\n      continueRender2(handle);\n    });\n    current.addEventListener(\"ended\", endedHandler, { once: true });\n    const errorHandler = () => {\n      if (current?.error) {\n        console.error(\"Error occurred in video\", current?.error);\n        if (onError) {\n          return;\n        }\n        throw new Error(`The browser threw an error while playing the video ${props2.src}: Code ${current.error.code} - ${current?.error?.message}. See https://remotion.dev/docs/media-playback-error for help. Pass an onError() prop to handle the error.`);\n      } else {\n        throw new Error(\"The browser threw an error\");\n      }\n    };\n    current.addEventListener(\"error\", errorHandler, { once: true });\n    return () => {\n      seek2.cancel();\n      current.removeEventListener(\"ended\", endedHandler);\n      current.removeEventListener(\"error\", errorHandler);\n      continueRender2(handle);\n    };\n  }, [\n    volumePropsFrame,\n    props2.src,\n    playbackRate,\n    videoConfig.fps,\n    frame,\n    mediaStartsAt,\n    onError,\n    delayRenderRetries,\n    delayRenderTimeoutInMilliseconds,\n    logLevel,\n    mountTime,\n    continueRender2,\n    delayRender2\n  ]);\n  const { src } = props2;\n  if (environment.isRendering) {\n    useLayoutEffect11(() => {\n      if (window.process?.env?.NODE_ENV === \"test\") {\n        return;\n      }\n      const newHandle = delayRender2(\"Loading <Html5Video> duration with src=\" + src, {\n        retries: delayRenderRetries ?? undefined,\n        timeoutInMilliseconds: delayRenderTimeoutInMilliseconds ?? undefined\n      });\n      const { current } = videoRef;\n      const didLoad = () => {\n        if (current?.duration) {\n          onDuration(src, current.duration);\n        }\n        continueRender2(newHandle);\n      };\n      if (current?.duration) {\n        onDuration(src, current.duration);\n        continueRender2(newHandle);\n      } else {\n        current?.addEventListener(\"loadedmetadata\", didLoad, { once: true });\n      }\n      return () => {\n        current?.removeEventListener(\"loadedmetadata\", didLoad);\n        continueRender2(newHandle);\n      };\n    }, [\n      src,\n      onDuration,\n      delayRenderRetries,\n      delayRenderTimeoutInMilliseconds,\n      continueRender2,\n      delayRender2\n    ]);\n  }\n  return /* @__PURE__ */ jsx34(\"video\", {\n    ref: videoRef,\n    disableRemotePlayback: true,\n    ...props2\n  });\n};\nvar VideoForRendering = forwardRef11(VideoForRenderingForwardFunction);\n\n// src/video/Video.tsx\nimport { jsx as jsx35 } from \"react/jsx-runtime\";\nvar VideoForwardingFunction = (props2, ref) => {\n  const {\n    startFrom,\n    endAt,\n    trimBefore,\n    trimAfter,\n    name,\n    pauseWhenBuffering,\n    stack,\n    _remotionInternalNativeLoopPassed,\n    showInTimeline,\n    onAutoPlayError,\n    ...otherProps\n  } = props2;\n  const { loop, ...propsOtherThanLoop } = props2;\n  const { fps } = useVideoConfig();\n  const environment = useRemotionEnvironment();\n  if (environment.isClientSideRendering) {\n    throw new Error(\"<Html5Video> is not supported in @remotion/web-renderer. Use <Video> from @remotion/media instead. See https://remotion.dev/docs/client-side-rendering/limitations\");\n  }\n  const { durations, setDurations } = useContext35(DurationsContext);\n  if (typeof ref === \"string\") {\n    throw new Error(\"string refs are not supported\");\n  }\n  if (typeof props2.src !== \"string\") {\n    throw new TypeError(`The \\`<Html5Video>\\` tag requires a string for \\`src\\`, but got ${JSON.stringify(props2.src)} instead.`);\n  }\n  const preloadedSrc = usePreload(props2.src);\n  const onDuration = useCallback16((src, durationInSeconds) => {\n    setDurations({ type: \"got-duration\", durationInSeconds, src });\n  }, [setDurations]);\n  const onVideoFrame = useCallback16(() => {}, []);\n  const durationFetched = durations[getAbsoluteSrc(preloadedSrc)] ?? durations[getAbsoluteSrc(props2.src)];\n  validateMediaTrimProps({ startFrom, endAt, trimBefore, trimAfter });\n  const { trimBeforeValue, trimAfterValue } = resolveTrimProps({\n    startFrom,\n    endAt,\n    trimBefore,\n    trimAfter\n  });\n  if (loop && durationFetched !== undefined) {\n    if (!Number.isFinite(durationFetched)) {\n      return /* @__PURE__ */ jsx35(Html5Video, {\n        ...propsOtherThanLoop,\n        ref,\n        _remotionInternalNativeLoopPassed: true\n      });\n    }\n    const mediaDuration = durationFetched * fps;\n    return /* @__PURE__ */ jsx35(Loop, {\n      durationInFrames: calculateMediaDuration({\n        trimAfter: trimAfterValue,\n        mediaDurationInFrames: mediaDuration,\n        playbackRate: props2.playbackRate ?? 1,\n        trimBefore: trimBeforeValue\n      }),\n      layout: \"none\",\n      name,\n      children: /* @__PURE__ */ jsx35(Html5Video, {\n        ...propsOtherThanLoop,\n        ref,\n        _remotionInternalNativeLoopPassed: true\n      })\n    });\n  }\n  if (typeof trimBeforeValue !== \"undefined\" || typeof trimAfterValue !== \"undefined\") {\n    return /* @__PURE__ */ jsx35(Sequence, {\n      layout: \"none\",\n      from: 0 - (trimBeforeValue ?? 0),\n      showInTimeline: false,\n      durationInFrames: trimAfterValue,\n      name,\n      children: /* @__PURE__ */ jsx35(Html5Video, {\n        pauseWhenBuffering: pauseWhenBuffering ?? false,\n        ...otherProps,\n        ref\n      })\n    });\n  }\n  validateMediaProps({ playbackRate: props2.playbackRate, volume: props2.volume }, \"Html5Video\");\n  if (environment.isRendering) {\n    return /* @__PURE__ */ jsx35(VideoForRendering, {\n      onDuration,\n      onVideoFrame: onVideoFrame ?? null,\n      ...otherProps,\n      ref\n    });\n  }\n  return /* @__PURE__ */ jsx35(VideoForPreview, {\n    onlyWarnForMediaSeekingError: false,\n    ...otherProps,\n    ref,\n    onVideoFrame: null,\n    pauseWhenBuffering: pauseWhenBuffering ?? false,\n    onDuration,\n    _remotionInternalStack: stack ?? null,\n    _remotionInternalNativeLoopPassed: _remotionInternalNativeLoopPassed ?? false,\n    showInTimeline: showInTimeline ?? true,\n    onAutoPlayError: onAutoPlayError ?? undefined\n  });\n};\nvar Html5Video = forwardRef12(VideoForwardingFunction);\naddSequenceStackTraces(Html5Video);\nvar Video = Html5Video;\n// src/index.ts\ncheckMultipleRemotionVersions();\nvar Experimental = {\n  Clipper,\n  Null,\n  useIsPlayer\n};\nvar proxyObj = {};\nvar Config = new Proxy(proxyObj, {\n  get(_, prop) {\n    if (prop === \"Bundling\" || prop === \"Rendering\" || prop === \"Log\" || prop === \"Puppeteer\" || prop === \"Output\") {\n      return Config;\n    }\n    return () => {\n      console.warn(\"  The CLI configuration has been extracted from Remotion Core.\");\n      console.warn(\"Update the import from the config file:\");\n      console.warn();\n      console.warn(\"- Delete:\");\n      console.warn('import {Config} from \"remotion\";');\n      console.warn(\"+ Replace:\");\n      console.warn('import {Config} from \"@remotion/cli/config\";');\n      console.warn();\n      console.warn(\"For more information, see https://www.remotion.dev/docs/4-0-migration.\");\n      process.exit(1);\n    };\n  }\n});\naddSequenceStackTraces(Sequence);\nexport {\n  watchStaticFile,\n  useVideoConfig,\n  useRemotionEnvironment,\n  useDelayRender,\n  useCurrentScale,\n  useCurrentFrame,\n  useBufferState,\n  staticFile,\n  spring,\n  registerRoot,\n  random,\n  prefetch,\n  measureSpring,\n  interpolateColors,\n  interpolate,\n  getStaticFiles,\n  getRemotionEnvironment,\n  getInputProps,\n  delayRender,\n  continueRender,\n  cancelRender,\n  Video,\n  VERSION,\n  Still,\n  Series,\n  Sequence,\n  OffthreadVideo,\n  Loop,\n  Internals,\n  Img,\n  IFrame,\n  Html5Video,\n  Html5Audio,\n  Freeze,\n  FolderContext,\n  Folder,\n  Experimental,\n  Easing,\n  Config,\n  Composition,\n  Audio,\n  Artifact,\n  AnimatedImage,\n  AbsoluteFill\n};\n","// src/interpolate.ts\nfunction interpolateFunction(input, inputRange, outputRange, options) {\n  const { extrapolateLeft, extrapolateRight, easing } = options;\n  let result = input;\n  const [inputMin, inputMax] = inputRange;\n  const [outputMin, outputMax] = outputRange;\n  if (result < inputMin) {\n    if (extrapolateLeft === \"identity\") {\n      return result;\n    }\n    if (extrapolateLeft === \"clamp\") {\n      result = inputMin;\n    } else if (extrapolateLeft === \"wrap\") {\n      const range = inputMax - inputMin;\n      result = ((result - inputMin) % range + range) % range + inputMin;\n    } else if (extrapolateLeft === \"extend\") {}\n  }\n  if (result > inputMax) {\n    if (extrapolateRight === \"identity\") {\n      return result;\n    }\n    if (extrapolateRight === \"clamp\") {\n      result = inputMax;\n    } else if (extrapolateRight === \"wrap\") {\n      const range = inputMax - inputMin;\n      result = ((result - inputMin) % range + range) % range + inputMin;\n    } else if (extrapolateRight === \"extend\") {}\n  }\n  if (outputMin === outputMax) {\n    return outputMin;\n  }\n  result = (result - inputMin) / (inputMax - inputMin);\n  result = easing(result);\n  result = result * (outputMax - outputMin) + outputMin;\n  return result;\n}\nfunction findRange(input, inputRange) {\n  let i;\n  for (i = 1;i < inputRange.length - 1; ++i) {\n    if (inputRange[i] >= input) {\n      break;\n    }\n  }\n  return i - 1;\n}\nfunction checkValidInputRange(arr) {\n  for (let i = 1;i < arr.length; ++i) {\n    if (!(arr[i] > arr[i - 1])) {\n      throw new Error(`inputRange must be strictly monotonically increasing but got [${arr.join(\",\")}]`);\n    }\n  }\n}\nfunction checkInfiniteRange(name, arr) {\n  if (arr.length < 2) {\n    throw new Error(name + \" must have at least 2 elements\");\n  }\n  for (const element of arr) {\n    if (typeof element !== \"number\") {\n      throw new Error(`${name} must contain only numbers`);\n    }\n    if (!Number.isFinite(element)) {\n      throw new Error(`${name} must contain only finite numbers, but got [${arr.join(\",\")}]`);\n    }\n  }\n}\nfunction interpolate(input, inputRange, outputRange, options) {\n  if (typeof input === \"undefined\") {\n    throw new Error(\"input can not be undefined\");\n  }\n  if (typeof inputRange === \"undefined\") {\n    throw new Error(\"inputRange can not be undefined\");\n  }\n  if (typeof outputRange === \"undefined\") {\n    throw new Error(\"outputRange can not be undefined\");\n  }\n  if (inputRange.length !== outputRange.length) {\n    throw new Error(\"inputRange (\" + inputRange.length + \") and outputRange (\" + outputRange.length + \") must have the same length\");\n  }\n  checkInfiniteRange(\"inputRange\", inputRange);\n  checkInfiniteRange(\"outputRange\", outputRange);\n  checkValidInputRange(inputRange);\n  const easing = options?.easing ?? ((num) => num);\n  let extrapolateLeft = \"extend\";\n  if (options?.extrapolateLeft !== undefined) {\n    extrapolateLeft = options.extrapolateLeft;\n  }\n  let extrapolateRight = \"extend\";\n  if (options?.extrapolateRight !== undefined) {\n    extrapolateRight = options.extrapolateRight;\n  }\n  if (typeof input !== \"number\") {\n    throw new TypeError(\"Cannot interpolate an input which is not a number\");\n  }\n  const range = findRange(input, inputRange);\n  return interpolateFunction(input, [inputRange[range], inputRange[range + 1]], [outputRange[range], outputRange[range + 1]], {\n    easing,\n    extrapolateLeft,\n    extrapolateRight\n  });\n}\n// src/random.ts\nfunction mulberry32(a) {\n  let t = a + 1831565813;\n  t = Math.imul(t ^ t >>> 15, t | 1);\n  t ^= t + Math.imul(t ^ t >>> 7, t | 61);\n  return ((t ^ t >>> 14) >>> 0) / 4294967296;\n}\nfunction hashCode(str) {\n  let i = 0;\n  let chr = 0;\n  let hash = 0;\n  for (i = 0;i < str.length; i++) {\n    chr = str.charCodeAt(i);\n    hash = (hash << 5) - hash + chr;\n    hash |= 0;\n  }\n  return hash;\n}\nvar random = (seed, dummy) => {\n  if (dummy !== undefined) {\n    throw new TypeError(\"random() takes only one argument\");\n  }\n  if (seed === null) {\n    return Math.random();\n  }\n  if (typeof seed === \"string\") {\n    return mulberry32(hashCode(seed));\n  }\n  if (typeof seed === \"number\") {\n    return mulberry32(seed * 10000000000);\n  }\n  throw new Error(\"random() argument must be a number or a string\");\n};\n// src/truthy.ts\nfunction truthy(value) {\n  return Boolean(value);\n}\n\n// src/delay-render.ts\nif (typeof window !== \"undefined\") {\n  window.remotion_renderReady = false;\n  if (!window.remotion_delayRenderTimeouts) {\n    window.remotion_delayRenderTimeouts = {};\n  }\n  window.remotion_delayRenderHandles = [];\n}\nvar DELAY_RENDER_CALLSTACK_TOKEN = \"The delayRender was called:\";\nvar DELAY_RENDER_RETRIES_LEFT = \"Retries left: \";\nvar DELAY_RENDER_RETRY_TOKEN = \"- Rendering the frame will be retried.\";\nvar DELAY_RENDER_CLEAR_TOKEN = \"handle was cleared after\";\n\n// src/input-props-serialization.ts\nvar DATE_TOKEN = \"remotion-date:\";\nvar FILE_TOKEN = \"remotion-file:\";\nvar serializeJSONWithSpecialTypes = ({\n  data,\n  indent,\n  staticBase\n}) => {\n  let customDateUsed = false;\n  let customFileUsed = false;\n  let mapUsed = false;\n  let setUsed = false;\n  try {\n    const serializedString = JSON.stringify(data, function(key, value) {\n      const item = this[key];\n      if (item instanceof Date) {\n        customDateUsed = true;\n        return `${DATE_TOKEN}${item.toISOString()}`;\n      }\n      if (item instanceof Map) {\n        mapUsed = true;\n        return value;\n      }\n      if (item instanceof Set) {\n        setUsed = true;\n        return value;\n      }\n      if (typeof item === \"string\" && staticBase !== null && item.startsWith(staticBase)) {\n        customFileUsed = true;\n        return `${FILE_TOKEN}${item.replace(staticBase + \"/\", \"\")}`;\n      }\n      return value;\n    }, indent);\n    return { serializedString, customDateUsed, customFileUsed, mapUsed, setUsed };\n  } catch (err) {\n    throw new Error(\"Could not serialize the passed input props to JSON: \" + err.message);\n  }\n};\nvar deserializeJSONWithSpecialTypes = (data) => {\n  return JSON.parse(data, (_, value) => {\n    if (typeof value === \"string\" && value.startsWith(DATE_TOKEN)) {\n      return new Date(value.replace(DATE_TOKEN, \"\"));\n    }\n    if (typeof value === \"string\" && value.startsWith(FILE_TOKEN)) {\n      return `${window.remotion_staticBase}/${value.replace(FILE_TOKEN, \"\")}`;\n    }\n    return value;\n  });\n};\n\n// src/interpolate-colors.ts\nvar NUMBER = \"[-+]?\\\\d*\\\\.?\\\\d+\";\nvar PERCENTAGE = NUMBER + \"%\";\nfunction call(...args) {\n  return \"\\\\(\\\\s*(\" + args.join(\")\\\\s*,\\\\s*(\") + \")\\\\s*\\\\)\";\n}\nfunction getMatchers() {\n  const cachedMatchers = {\n    rgb: undefined,\n    rgba: undefined,\n    hsl: undefined,\n    hsla: undefined,\n    hex3: undefined,\n    hex4: undefined,\n    hex5: undefined,\n    hex6: undefined,\n    hex8: undefined\n  };\n  if (cachedMatchers.rgb === undefined) {\n    cachedMatchers.rgb = new RegExp(\"rgb\" + call(NUMBER, NUMBER, NUMBER));\n    cachedMatchers.rgba = new RegExp(\"rgba\" + call(NUMBER, NUMBER, NUMBER, NUMBER));\n    cachedMatchers.hsl = new RegExp(\"hsl\" + call(NUMBER, PERCENTAGE, PERCENTAGE));\n    cachedMatchers.hsla = new RegExp(\"hsla\" + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER));\n    cachedMatchers.hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\n    cachedMatchers.hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\n    cachedMatchers.hex6 = /^#([0-9a-fA-F]{6})$/;\n    cachedMatchers.hex8 = /^#([0-9a-fA-F]{8})$/;\n  }\n  return cachedMatchers;\n}\nfunction hue2rgb(p, q, t) {\n  if (t < 0) {\n    t += 1;\n  }\n  if (t > 1) {\n    t -= 1;\n  }\n  if (t < 1 / 6) {\n    return p + (q - p) * 6 * t;\n  }\n  if (t < 1 / 2) {\n    return q;\n  }\n  if (t < 2 / 3) {\n    return p + (q - p) * (2 / 3 - t) * 6;\n  }\n  return p;\n}\nfunction hslToRgb(h, s, l) {\n  const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  const p = 2 * l - q;\n  const r = hue2rgb(p, q, h + 1 / 3);\n  const g = hue2rgb(p, q, h);\n  const b = hue2rgb(p, q, h - 1 / 3);\n  return Math.round(r * 255) << 24 | Math.round(g * 255) << 16 | Math.round(b * 255) << 8;\n}\nfunction parse255(str) {\n  const int = Number.parseInt(str, 10);\n  if (int < 0) {\n    return 0;\n  }\n  if (int > 255) {\n    return 255;\n  }\n  return int;\n}\nfunction parse360(str) {\n  const int = Number.parseFloat(str);\n  return (int % 360 + 360) % 360 / 360;\n}\nfunction parse1(str) {\n  const num = Number.parseFloat(str);\n  if (num < 0) {\n    return 0;\n  }\n  if (num > 1) {\n    return 255;\n  }\n  return Math.round(num * 255);\n}\nfunction parsePercentage(str) {\n  const int = Number.parseFloat(str);\n  if (int < 0) {\n    return 0;\n  }\n  if (int > 100) {\n    return 1;\n  }\n  return int / 100;\n}\nvar colorNames = {\n  transparent: 0,\n  aliceblue: 4042850303,\n  antiquewhite: 4209760255,\n  aqua: 16777215,\n  aquamarine: 2147472639,\n  azure: 4043309055,\n  beige: 4126530815,\n  bisque: 4293182719,\n  black: 255,\n  blanchedalmond: 4293643775,\n  blue: 65535,\n  blueviolet: 2318131967,\n  brown: 2771004159,\n  burlywood: 3736635391,\n  burntsienna: 3934150143,\n  cadetblue: 1604231423,\n  chartreuse: 2147418367,\n  chocolate: 3530104575,\n  coral: 4286533887,\n  cornflowerblue: 1687547391,\n  cornsilk: 4294499583,\n  crimson: 3692313855,\n  cyan: 16777215,\n  darkblue: 35839,\n  darkcyan: 9145343,\n  darkgoldenrod: 3095792639,\n  darkgray: 2846468607,\n  darkgreen: 6553855,\n  darkgrey: 2846468607,\n  darkkhaki: 3182914559,\n  darkmagenta: 2332068863,\n  darkolivegreen: 1433087999,\n  darkorange: 4287365375,\n  darkorchid: 2570243327,\n  darkred: 2332033279,\n  darksalmon: 3918953215,\n  darkseagreen: 2411499519,\n  darkslateblue: 1211993087,\n  darkslategray: 793726975,\n  darkslategrey: 793726975,\n  darkturquoise: 13554175,\n  darkviolet: 2483082239,\n  deeppink: 4279538687,\n  deepskyblue: 12582911,\n  dimgray: 1768516095,\n  dimgrey: 1768516095,\n  dodgerblue: 512819199,\n  firebrick: 2988581631,\n  floralwhite: 4294635775,\n  forestgreen: 579543807,\n  fuchsia: 4278255615,\n  gainsboro: 3705462015,\n  ghostwhite: 4177068031,\n  gold: 4292280575,\n  goldenrod: 3668254975,\n  gray: 2155905279,\n  green: 8388863,\n  greenyellow: 2919182335,\n  grey: 2155905279,\n  honeydew: 4043305215,\n  hotpink: 4285117695,\n  indianred: 3445382399,\n  indigo: 1258324735,\n  ivory: 4294963455,\n  khaki: 4041641215,\n  lavender: 3873897215,\n  lavenderblush: 4293981695,\n  lawngreen: 2096890111,\n  lemonchiffon: 4294626815,\n  lightblue: 2916673279,\n  lightcoral: 4034953471,\n  lightcyan: 3774873599,\n  lightgoldenrodyellow: 4210742015,\n  lightgray: 3553874943,\n  lightgreen: 2431553791,\n  lightgrey: 3553874943,\n  lightpink: 4290167295,\n  lightsalmon: 4288707327,\n  lightseagreen: 548580095,\n  lightskyblue: 2278488831,\n  lightslategray: 2005441023,\n  lightslategrey: 2005441023,\n  lightsteelblue: 2965692159,\n  lightyellow: 4294959359,\n  lime: 16711935,\n  limegreen: 852308735,\n  linen: 4210091775,\n  magenta: 4278255615,\n  maroon: 2147483903,\n  mediumaquamarine: 1724754687,\n  mediumblue: 52735,\n  mediumorchid: 3126187007,\n  mediumpurple: 2473647103,\n  mediumseagreen: 1018393087,\n  mediumslateblue: 2070474495,\n  mediumspringgreen: 16423679,\n  mediumturquoise: 1221709055,\n  mediumvioletred: 3340076543,\n  midnightblue: 421097727,\n  mintcream: 4127193855,\n  mistyrose: 4293190143,\n  moccasin: 4293178879,\n  navajowhite: 4292783615,\n  navy: 33023,\n  oldlace: 4260751103,\n  olive: 2155872511,\n  olivedrab: 1804477439,\n  orange: 4289003775,\n  orangered: 4282712319,\n  orchid: 3664828159,\n  palegoldenrod: 4008225535,\n  palegreen: 2566625535,\n  paleturquoise: 2951671551,\n  palevioletred: 3681588223,\n  papayawhip: 4293907967,\n  peachpuff: 4292524543,\n  peru: 3448061951,\n  pink: 4290825215,\n  plum: 3718307327,\n  powderblue: 2967529215,\n  purple: 2147516671,\n  rebeccapurple: 1714657791,\n  red: 4278190335,\n  rosybrown: 3163525119,\n  royalblue: 1097458175,\n  saddlebrown: 2336560127,\n  salmon: 4202722047,\n  sandybrown: 4104413439,\n  seagreen: 780883967,\n  seashell: 4294307583,\n  sienna: 2689740287,\n  silver: 3233857791,\n  skyblue: 2278484991,\n  slateblue: 1784335871,\n  slategray: 1887473919,\n  slategrey: 1887473919,\n  snow: 4294638335,\n  springgreen: 16744447,\n  steelblue: 1182971135,\n  tan: 3535047935,\n  teal: 8421631,\n  thistle: 3636451583,\n  tomato: 4284696575,\n  turquoise: 1088475391,\n  violet: 4001558271,\n  wheat: 4125012991,\n  white: 4294967295,\n  whitesmoke: 4126537215,\n  yellow: 4294902015,\n  yellowgreen: 2597139199\n};\nfunction normalizeColor(color) {\n  const matchers = getMatchers();\n  let match;\n  if (matchers.hex6) {\n    if (match = matchers.hex6.exec(color)) {\n      return Number.parseInt(match[1] + \"ff\", 16) >>> 0;\n    }\n  }\n  if (colorNames[color] !== undefined) {\n    return colorNames[color];\n  }\n  if (matchers.rgb) {\n    if (match = matchers.rgb.exec(color)) {\n      return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | 255) >>> 0;\n    }\n  }\n  if (matchers.rgba) {\n    if (match = matchers.rgba.exec(color)) {\n      return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | parse1(match[4])) >>> 0;\n    }\n  }\n  if (matchers.hex3) {\n    if (match = matchers.hex3.exec(color)) {\n      return Number.parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + \"ff\", 16) >>> 0;\n    }\n  }\n  if (matchers.hex8) {\n    if (match = matchers.hex8.exec(color)) {\n      return Number.parseInt(match[1], 16) >>> 0;\n    }\n  }\n  if (matchers.hex4) {\n    if (match = matchers.hex4.exec(color)) {\n      return Number.parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + match[4] + match[4], 16) >>> 0;\n    }\n  }\n  if (matchers.hsl) {\n    if (match = matchers.hsl.exec(color)) {\n      return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | 255) >>> 0;\n    }\n  }\n  if (matchers.hsla) {\n    if (match = matchers.hsla.exec(color)) {\n      return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | parse1(match[4])) >>> 0;\n    }\n  }\n  throw new Error(`invalid color string ${color} provided`);\n}\nfunction processColor(color) {\n  const normalizedColor = normalizeColor(color);\n  return (normalizedColor << 24 | normalizedColor >>> 8) >>> 0;\n}\n\n// src/prores-profile.ts\nvar proResProfileOptions = [\n  \"4444-xq\",\n  \"4444\",\n  \"hq\",\n  \"standard\",\n  \"light\",\n  \"proxy\"\n];\n\n// src/v5-flag.ts\nvar ENABLE_V5_BREAKING_CHANGES = false;\n\n// src/validate-frame.ts\nvar validateFrame = ({\n  allowFloats,\n  durationInFrames,\n  frame\n}) => {\n  if (typeof frame === \"undefined\") {\n    throw new TypeError(`Argument missing for parameter \"frame\"`);\n  }\n  if (typeof frame !== \"number\") {\n    throw new TypeError(`Argument passed for \"frame\" is not a number: ${frame}`);\n  }\n  if (!Number.isFinite(frame)) {\n    throw new RangeError(`Frame ${frame} is not finite`);\n  }\n  if (frame % 1 !== 0 && !allowFloats) {\n    throw new RangeError(`Argument for frame must be an integer, but got ${frame}`);\n  }\n  if (frame < 0 && frame < -durationInFrames) {\n    throw new RangeError(`Cannot use frame ${frame}: Duration of composition is ${durationInFrames}, therefore the lowest frame that can be rendered is ${-durationInFrames}`);\n  }\n  if (frame > durationInFrames - 1) {\n    throw new RangeError(`Cannot use frame ${frame}: Duration of composition is ${durationInFrames}, therefore the highest frame that can be rendered is ${durationInFrames - 1}`);\n  }\n};\n\n// src/codec.ts\nvar validCodecs = [\n  \"h264\",\n  \"h265\",\n  \"vp8\",\n  \"vp9\",\n  \"mp3\",\n  \"aac\",\n  \"wav\",\n  \"prores\",\n  \"h264-mkv\",\n  \"h264-ts\",\n  \"gif\"\n];\n\n// src/validation/validate-default-codec.ts\nfunction validateCodec(defaultCodec, location, name) {\n  if (typeof defaultCodec === \"undefined\") {\n    return;\n  }\n  if (typeof defaultCodec !== \"string\") {\n    throw new TypeError(`The \"${name}\" prop ${location} must be a string, but you passed a value of type ${typeof defaultCodec}.`);\n  }\n  if (!validCodecs.includes(defaultCodec)) {\n    throw new Error(`The \"${name}\" prop ${location} must be one of ${validCodecs.join(\", \")}, but you passed ${defaultCodec}.`);\n  }\n}\n\n// src/validation/validate-default-props.ts\nvar validateDefaultAndInputProps = (defaultProps, name, compositionId) => {\n  if (!defaultProps) {\n    return;\n  }\n  if (typeof defaultProps !== \"object\") {\n    throw new Error(`\"${name}\" must be an object, but you passed a value of type ${typeof defaultProps}`);\n  }\n  if (Array.isArray(defaultProps)) {\n    throw new Error(`\"${name}\" must be an object, an array was passed ${compositionId ? `for composition \"${compositionId}\"` : \"\"}`);\n  }\n};\n\n// src/validation/validate-dimensions.ts\nfunction validateDimension(amount, nameOfProp, location) {\n  if (typeof amount !== \"number\") {\n    throw new Error(`The \"${nameOfProp}\" prop ${location} must be a number, but you passed a value of type ${typeof amount}`);\n  }\n  if (isNaN(amount)) {\n    throw new TypeError(`The \"${nameOfProp}\" prop ${location} must not be NaN, but is NaN.`);\n  }\n  if (!Number.isFinite(amount)) {\n    throw new TypeError(`The \"${nameOfProp}\" prop ${location} must be finite, but is ${amount}.`);\n  }\n  if (amount % 1 !== 0) {\n    throw new TypeError(`The \"${nameOfProp}\" prop ${location} must be an integer, but is ${amount}.`);\n  }\n  if (amount <= 0) {\n    throw new TypeError(`The \"${nameOfProp}\" prop ${location} must be positive, but got ${amount}.`);\n  }\n}\n\n// src/validation/validate-duration-in-frames.ts\nfunction validateDurationInFrames(durationInFrames, options) {\n  const { allowFloats, component } = options;\n  if (typeof durationInFrames === \"undefined\") {\n    throw new Error(`The \"durationInFrames\" prop ${component} is missing.`);\n  }\n  if (typeof durationInFrames !== \"number\") {\n    throw new Error(`The \"durationInFrames\" prop ${component} must be a number, but you passed a value of type ${typeof durationInFrames}`);\n  }\n  if (durationInFrames <= 0) {\n    throw new TypeError(`The \"durationInFrames\" prop ${component} must be positive, but got ${durationInFrames}.`);\n  }\n  if (!allowFloats && durationInFrames % 1 !== 0) {\n    throw new TypeError(`The \"durationInFrames\" prop ${component} must be an integer, but got ${durationInFrames}.`);\n  }\n  if (!Number.isFinite(durationInFrames)) {\n    throw new TypeError(`The \"durationInFrames\" prop ${component} must be finite, but got ${durationInFrames}.`);\n  }\n}\n\n// src/validation/validate-fps.ts\nfunction validateFps(fps, location, isGif) {\n  if (typeof fps !== \"number\") {\n    throw new Error(`\"fps\" must be a number, but you passed a value of type ${typeof fps} ${location}`);\n  }\n  if (!Number.isFinite(fps)) {\n    throw new Error(`\"fps\" must be a finite, but you passed ${fps} ${location}`);\n  }\n  if (isNaN(fps)) {\n    throw new Error(`\"fps\" must not be NaN, but got ${fps} ${location}`);\n  }\n  if (fps <= 0) {\n    throw new TypeError(`\"fps\" must be positive, but got ${fps} ${location}`);\n  }\n  if (isGif && fps > 50) {\n    throw new TypeError(`The FPS for a GIF cannot be higher than 50. Use the --every-nth-frame option to lower the FPS: https://remotion.dev/docs/render-as-gif`);\n  }\n}\n\n// src/video/get-current-time.ts\nvar getExpectedMediaFrameUncorrected = ({\n  frame,\n  playbackRate,\n  startFrom\n}) => {\n  return interpolate(frame, [-1, startFrom, startFrom + 1], [-1, startFrom, startFrom + playbackRate]);\n};\n\n// src/absolute-src.ts\nvar getAbsoluteSrc = (relativeSrc) => {\n  if (typeof window === \"undefined\") {\n    return relativeSrc;\n  }\n  if (relativeSrc.startsWith(\"http://\") || relativeSrc.startsWith(\"https://\") || relativeSrc.startsWith(\"file://\") || relativeSrc.startsWith(\"blob:\") || relativeSrc.startsWith(\"data:\")) {\n    return relativeSrc;\n  }\n  return new URL(relativeSrc, window.origin).href;\n};\n\n// src/video/offthread-video-source.ts\nvar getOffthreadVideoSource = ({\n  src,\n  transparent,\n  currentTime,\n  toneMapped\n}) => {\n  return `http://localhost:${window.remotion_proxyPort}/proxy?src=${encodeURIComponent(getAbsoluteSrc(src))}&time=${encodeURIComponent(Math.max(0, currentTime))}&transparent=${String(transparent)}&toneMapped=${String(toneMapped)}`;\n};\n\n// src/no-react.ts\nvar NoReactInternals = {\n  processColor,\n  truthy,\n  validateFps,\n  validateDimension,\n  validateDurationInFrames,\n  validateDefaultAndInputProps,\n  validateFrame,\n  serializeJSONWithSpecialTypes,\n  bundleName: \"bundle.js\",\n  bundleMapName: \"bundle.js.map\",\n  deserializeJSONWithSpecialTypes,\n  DELAY_RENDER_CALLSTACK_TOKEN,\n  DELAY_RENDER_RETRY_TOKEN,\n  DELAY_RENDER_CLEAR_TOKEN,\n  DELAY_RENDER_ATTEMPT_TOKEN: DELAY_RENDER_RETRIES_LEFT,\n  getOffthreadVideoSource,\n  getExpectedMediaFrameUncorrected,\n  ENABLE_V5_BREAKING_CHANGES,\n  MIN_NODE_VERSION: ENABLE_V5_BREAKING_CHANGES ? 18 : 16,\n  MIN_BUN_VERSION: ENABLE_V5_BREAKING_CHANGES ? \"1.1.3\" : \"1.0.3\",\n  colorNames,\n  DATE_TOKEN,\n  FILE_TOKEN,\n  validateCodec,\n  proResProfileOptions\n};\nexport {\n  random,\n  interpolate,\n  NoReactInternals\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".bundle.js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"temp-project:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktemp_project\"] = self[\"webpackChunktemp_project\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(6507);\n__webpack_require__(8042);\n__webpack_require__(3610);\nvar __webpack_exports__ = __webpack_require__(3482);\n",""],"names":[],"sourceRoot":""}